const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-CwWO7E7S.js","assets/graph-DhgVu3bw.js","assets/_baseUniq-CHwkDwps.js","assets/layout-CB9HFC1A.js","assets/_basePickBy-RXEsUABF.js","assets/clone-C8lNVwGo.js","assets/ui-6SsqYHxy.js","assets/vendor-CC_ZIGTP.js","assets/charts-CqDtg67M.js","assets/supabase-BlSLHp8e.js","assets/cose-bilkent-S5V4N54A-Cn657thB.js","assets/cytoscape.esm-BQaXIfA_.js","assets/c4Diagram-YG6GDRKO-B2RX5zrn.js","assets/chunk-TZMSLE5B-TF_p3bT0.js","assets/flowDiagram-NV44I4VS-BfIOJOD2.js","assets/chunk-FMBD7UC4-BMSS4BtE.js","assets/chunk-55IACEB6-CF8L0kuU.js","assets/chunk-QN33PNHL-ZSpOTYAu.js","assets/channel-nfq5AkSE.js","assets/erDiagram-Q2GNP2WA-B9SBlOZl.js","assets/gitGraphDiagram-NY62KEGX-jlntG4B-.js","assets/chunk-4BX2VUAB-Cr1CvHQj.js","assets/chunk-QZHKN3VN-Cg7RSZQA.js","assets/treemap-KMMF4GRG-BYMrmYSn.js","assets/ganttDiagram-LVOFAZNH-B-8DV_JV.js","assets/infoDiagram-ER5ION4S-CtLorPcC.js","assets/pieDiagram-ADFJNKIX-Boqp615n.js","assets/quadrantDiagram-AYHSOK5B-CB_Z-HOB.js","assets/xychartDiagram-PRI3JC2R-B2dZAHEH.js","assets/requirementDiagram-UZGBJVZJ-DL0rNCIJ.js","assets/sequenceDiagram-WL72ISMW-YfZBplhN.js","assets/classDiagram-2ON5EDUG-BZNjjcUy.js","assets/chunk-B4BG7PRW-D-OL3Sa9.js","assets/classDiagram-v2-WZHVMYZB-BZNjjcUy.js","assets/stateDiagram-FKZM4ZOC-CcReg4hq.js","assets/chunk-DI55MBZ5-dEcC3RNa.js","assets/stateDiagram-v2-4FDKWEC3-BAoWixFr.js","assets/journeyDiagram-XKPGCS4Q-CjDmQZ8n.js","assets/timeline-definition-IT6M3QCI-cCK1rsbm.js","assets/mindmap-definition-VGOIOE7T-B8vTbiGz.js","assets/kanban-definition-3W4ZIXB7-b0-hbazO.js","assets/sankeyDiagram-TZEHDZUN-CCMk80w4.js","assets/diagram-S2PKOQOG-LnKUApXj.js","assets/diagram-QEK2KX5R-CmmxPOvg.js","assets/blockDiagram-VD42YOAC-B-CnOLqn.js","assets/architectureDiagram-VXUJARFQ-DZlI37jt.js","assets/diagram-PSM6KHXK-D4eOViBY.js"])))=>i.map(i=>d[i]);
var Lge=Object.defineProperty;var zge=(t,e,r)=>e in t?Lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Wr=(t,e,r)=>zge(t,typeof e!="symbol"?e+"":e,r);import{R as Go,j as b,r as H,b as Xge,P as ii,c as mC,d as M6,u as xo,e as Vge,A as R6,f as vn,g as rh,h as cV,i as dV,k as kx,l as Uge,m as hV,n as uV,o as fV,p as gV,F as pV,D as mV,C as OV,q as xV,s as z2,v as bV,w as kV,x as N6,S as qge,y as yV,z as Wge,I as Yge}from"./ui-6SsqYHxy.js";import{a as Zge,c as lu,g as OC,b as Gge}from"./vendor-CC_ZIGTP.js";import{R as B6,P as Hge,A as Kge,C as Jge,B as epe,D as tpe,E as rpe,F as npe,G as ipe,H as spe,I as ape,X as ope,Y as lpe,T as cpe,J as dpe,K as wV,_ as hpe,L as upe,M as fpe,N as VN,O as gpe,Q as UN,S as ppe,U as mpe,V as Ope,W as xpe,Z as vV,$ as _V,a0 as CV,a1 as AV,a2 as SV,a3 as TV,a4 as bpe,a5 as F3,a6 as EV,a7 as kpe,a8 as ype,a9 as PV,aa as wpe,ab as vpe,ac as _pe,ad as DV,ae as QV,af as Cpe,ag as Ape,e as vv,c as Spe,ah as qN,ai as dw}from"./charts-CqDtg67M.js";import{c as $V,_ as Hr}from"./supabase-BlSLHp8e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var hw={},WN;function Tpe(){if(WN)return hw;WN=1;var t=Zge();return hw.createRoot=t.createRoot,hw.hydrateRoot=t.hydrateRoot,hw}var Epe=Tpe();const Ppe=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class Dpe extends Go.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?b.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[b.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),b.jsx("pre",{className:"mt-2 text-sm",children:Ppe(this.state.error)})]}):this.props.children}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SO.apply(this,arguments)}var jd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jd||(jd={}));const YN="popstate";function Qpe(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:l,hash:c}=n.location;return L3("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:X2(s)}return Mpe(e,r,null,t)}function ri(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MV(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $pe(){return Math.random().toString(36).substr(2,8)}function ZN(t,e){return{usr:t.state,key:t.key,idx:e}}function L3(t,e,r,n){return r===void 0&&(r=null),SO({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lg(e):e,{state:r,key:e&&e.key||n||$pe()})}function X2(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lg(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Mpe(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c=jd.Pop,h=null,f=p();f==null&&(f=0,l.replaceState(SO({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function O(){c=jd.Pop;let C=p(),T=C==null?null:C-f;f=C,h&&h({action:c,location:_.location,delta:T})}function x(C,T){c=jd.Push;let E=L3(_.location,C,T);f=p()+1;let P=ZN(E,f),Q=_.createHref(E);try{l.pushState(P,"",Q)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(Q)}a&&h&&h({action:c,location:_.location,delta:1})}function k(C,T){c=jd.Replace;let E=L3(_.location,C,T);f=p();let P=ZN(E,f),Q=_.createHref(E);l.replaceState(P,"",Q),a&&h&&h({action:c,location:_.location,delta:0})}function w(C){let T=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof C=="string"?C:X2(C);return E=E.replace(/ $/,"%20"),ri(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let _={get action(){return c},get location(){return t(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(YN,O),h=C,()=>{s.removeEventListener(YN,O),h=null}},createHref(C){return e(s,C)},createURL:w,encodeLocation(C){let T=w(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:k,go(C){return l.go(C)}};return _}var GN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GN||(GN={}));function Rpe(t,e,r){return r===void 0&&(r="/"),Npe(t,e,r)}function Npe(t,e,r,n){let s=typeof e=="string"?lg(e):e,a=I6(s.pathname||"/",r);if(a==null)return null;let l=RV(t);Bpe(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=Zpe(a);c=qpe(l[h],f)}return c}function RV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(ri(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=Zd([n,h.relativePath]),p=r.concat(h);a.children&&a.children.length>0&&(ri(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),RV(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:Vpe(f,a.index),routesMeta:p})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of NV(a.path))s(a,l,h)}),e}function NV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=NV(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Bpe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Upe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ipe=/^:[\w-]+$/,jpe=3,Fpe=2,Lpe=1,zpe=10,Xpe=-2,HN=t=>t==="*";function Vpe(t,e){let r=t.split("/"),n=r.length;return r.some(HN)&&(n+=Xpe),e&&(n+=Fpe),r.filter(s=>!HN(s)).reduce((s,a)=>s+(Ipe.test(a)?jpe:a===""?Lpe:zpe),n)}function Upe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function qpe(t,e,r){let{routesMeta:n}=t,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",O=Wpe({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),x=h.route;if(!O)return null;Object.assign(s,O.params),l.push({params:s,pathname:Zd([a,O.pathname]),pathnameBase:Jpe(Zd([a,O.pathnameBase])),route:x}),O.pathnameBase!=="/"&&(a=Zd([a,O.pathnameBase]))}return l}function Wpe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ype(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,p,O)=>{let{paramName:x,isOptional:k}=p;if(x==="*"){let _=c[O]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const w=c[O];return k&&!w?f[x]=void 0:f[x]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function Ype(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),MV(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Zpe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MV(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function I6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Gpe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?lg(t):t;return{pathname:r?r.startsWith("/")?r:Hpe(r,e):e,search:eme(n),hash:tme(s)}}function Hpe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function I4(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kpe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function j6(t,e){let r=Kpe(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function F6(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=lg(t):(s=SO({},t),ri(!s.pathname||!s.pathname.includes("?"),I4("?","pathname","search",s)),ri(!s.pathname||!s.pathname.includes("#"),I4("#","pathname","hash",s)),ri(!s.search||!s.search.includes("#"),I4("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=r;else{let O=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),O-=1;s.pathname=x.join("/")}c=O>=0?e[O]:"/"}let h=Gpe(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const Zd=t=>t.join("/").replace(/\/\/+/g,"/"),Jpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eme=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tme=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rme(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BV=["post","put","patch","delete"];new Set(BV);const nme=["get",...BV];new Set(nme);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TO.apply(this,arguments)}const L6=H.createContext(null),ime=H.createContext(null),xh=H.createContext(null),xC=H.createContext(null),id=H.createContext({outlet:null,matches:[],isDataRoute:!1}),IV=H.createContext(null);function sme(t,e){let{relative:r}=e===void 0?{}:e;cg()||ri(!1);let{basename:n,navigator:s}=H.useContext(xh),{hash:a,pathname:l,search:c}=FV(t,{relative:r}),h=l;return n!=="/"&&(h=l==="/"?n:Zd([n,l])),s.createHref({pathname:h,search:c,hash:a})}function cg(){return H.useContext(xC)!=null}function bh(){return cg()||ri(!1),H.useContext(xC).location}function jV(t){H.useContext(xh).static||H.useLayoutEffect(t)}function dg(){let{isDataRoute:t}=H.useContext(id);return t?bme():ame()}function ame(){cg()||ri(!1);let t=H.useContext(L6),{basename:e,future:r,navigator:n}=H.useContext(xh),{matches:s}=H.useContext(id),{pathname:a}=bh(),l=JSON.stringify(j6(s,r.v7_relativeSplatPath)),c=H.useRef(!1);return jV(()=>{c.current=!0}),H.useCallback(function(f,p){if(p===void 0&&(p={}),!c.current)return;if(typeof f=="number"){n.go(f);return}let O=F6(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(O.pathname=O.pathname==="/"?e:Zd([e,O.pathname])),(p.replace?n.replace:n.push)(O,p.state,p)},[e,n,l,a,t])}function ome(){let{matches:t}=H.useContext(id),e=t[t.length-1];return e?e.params:{}}function FV(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=H.useContext(xh),{matches:s}=H.useContext(id),{pathname:a}=bh(),l=JSON.stringify(j6(s,n.v7_relativeSplatPath));return H.useMemo(()=>F6(t,JSON.parse(l),a,r==="path"),[t,l,a,r])}function lme(t,e){return cme(t,e)}function cme(t,e,r,n){cg()||ri(!1);let{navigator:s}=H.useContext(xh),{matches:a}=H.useContext(id),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=bh(),p;if(e){var O;let C=typeof e=="string"?lg(e):e;h==="/"||(O=C.pathname)!=null&&O.startsWith(h)||ri(!1),p=C}else p=f;let x=p.pathname||"/",k=x;if(h!=="/"){let C=h.replace(/^\//,"").split("/");k="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=Rpe(t,{pathname:k}),_=gme(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Zd([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Zd([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,r,n);return e&&_?H.createElement(xC.Provider,{value:{location:TO({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:jd.Pop}},_):_}function dme(){let t=xme(),e=rme(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),r?H.createElement("pre",{style:s},r):null,null)}const hme=H.createElement(dme,null);class ume extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?H.createElement(id.Provider,{value:this.props.routeContext},H.createElement(IV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fme(t){let{routeContext:e,match:r,children:n}=t,s=H.useContext(L6);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(id.Provider,{value:e},n)}function gme(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let p=l.findIndex(O=>O.route.id&&(c==null?void 0:c[O.route.id])!==void 0);p>=0||ri(!1),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let O=l[p];if((O.route.HydrateFallback||O.route.hydrateFallbackElement)&&(f=p),O.route.id){let{loaderData:x,errors:k}=r,w=O.route.loader&&x[O.route.id]===void 0&&(!k||k[O.route.id]===void 0);if(O.route.lazy||w){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,O,x)=>{let k,w=!1,_=null,C=null;r&&(k=c&&O.route.id?c[O.route.id]:void 0,_=O.route.errorElement||hme,h&&(f<0&&x===0?(kme("route-fallback"),w=!0,C=null):f===x&&(w=!0,C=O.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,x+1)),E=()=>{let P;return k?P=_:w?P=C:O.route.Component?P=H.createElement(O.route.Component,null):O.route.element?P=O.route.element:P=p,H.createElement(fme,{match:O,routeContext:{outlet:p,matches:T,isDataRoute:r!=null},children:P})};return r&&(O.route.ErrorBoundary||O.route.errorElement||x===0)?H.createElement(ume,{location:r.location,revalidation:r.revalidation,component:_,error:k,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var LV=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(LV||{}),zV=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(zV||{});function pme(t){let e=H.useContext(L6);return e||ri(!1),e}function mme(t){let e=H.useContext(ime);return e||ri(!1),e}function Ome(t){let e=H.useContext(id);return e||ri(!1),e}function XV(t){let e=Ome(),r=e.matches[e.matches.length-1];return r.route.id||ri(!1),r.route.id}function xme(){var t;let e=H.useContext(IV),r=mme(),n=XV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function bme(){let{router:t}=pme(LV.UseNavigateStable),e=XV(zV.UseNavigateStable),r=H.useRef(!1);return jV(()=>{r.current=!0}),H.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,TO({fromRouteId:e},a)))},[t,e])}const KN={};function kme(t,e,r){KN[t]||(KN[t]=!0)}function yme(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wme(t){let{to:e,replace:r,state:n,relative:s}=t;cg()||ri(!1);let{future:a,static:l}=H.useContext(xh),{matches:c}=H.useContext(id),{pathname:h}=bh(),f=dg(),p=F6(e,j6(c,a.v7_relativeSplatPath),h,s==="path"),O=JSON.stringify(p);return H.useEffect(()=>f(JSON.parse(O),{replace:r,state:n,relative:s}),[f,O,s,r,n]),null}function Aa(t){ri(!1)}function vme(t){let{basename:e="/",children:r=null,location:n,navigationType:s=jd.Pop,navigator:a,static:l=!1,future:c}=t;cg()&&ri(!1);let h=e.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:h,navigator:a,static:l,future:TO({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof n=="string"&&(n=lg(n));let{pathname:p="/",search:O="",hash:x="",state:k=null,key:w="default"}=n,_=H.useMemo(()=>{let C=I6(p,h);return C==null?null:{location:{pathname:C,search:O,hash:x,state:k,key:w},navigationType:s}},[h,p,O,x,k,w,s]);return _==null?null:H.createElement(xh.Provider,{value:f},H.createElement(xC.Provider,{children:r,value:_}))}function _me(t){let{children:e,location:r}=t;return lme(z3(e),r)}new Promise(()=>{});function z3(t,e){e===void 0&&(e=[]);let r=[];return H.Children.forEach(t,(n,s)=>{if(!H.isValidElement(n))return;let a=[...e,s];if(n.type===H.Fragment){r.push.apply(r,z3(n.props.children,a));return}n.type!==Aa&&ri(!1),!n.props.index||!n.props.children||ri(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=z3(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X3(){return X3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X3.apply(this,arguments)}function Cme(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Ame(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sme(t,e){return t.button===0&&(!e||e==="_self")&&!Ame(t)}function V3(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Tme(t,e){let r=V3(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Eme=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pme="6";try{window.__reactRouterVersion=Pme}catch{}const Dme="startTransition",JN=Xge[Dme];function Qme(t){let{basename:e,children:r,future:n,window:s}=t,a=H.useRef();a.current==null&&(a.current=Qpe({window:s,v5Compat:!0}));let l=a.current,[c,h]=H.useState({action:l.action,location:l.location}),{v7_startTransition:f}=n||{},p=H.useCallback(O=>{f&&JN?JN(()=>h(O)):h(O)},[h,f]);return H.useLayoutEffect(()=>l.listen(p),[l,p]),H.useEffect(()=>yme(n),[n]),H.createElement(vme,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const $me=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mme=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ou=H.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:c,target:h,to:f,preventScrollReset:p,viewTransition:O}=e,x=Cme(e,Eme),{basename:k}=H.useContext(xh),w,_=!1;if(typeof f=="string"&&Mme.test(f)&&(w=f,$me))try{let P=new URL(window.location.href),Q=f.startsWith("//")?new URL(P.protocol+f):new URL(f),B=I6(Q.pathname,k);Q.origin===P.origin&&B!=null?f=B+Q.search+Q.hash:_=!0}catch{}let C=sme(f,{relative:s}),T=Rme(f,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:O});function E(P){n&&n(P),P.defaultPrevented||T(P)}return H.createElement("a",X3({},x,{href:w||C,onClick:_||a?n:E,ref:r,target:h}))});var eB;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(eB||(eB={}));var tB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tB||(tB={}));function Rme(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,h=dg(),f=bh(),p=FV(t,{relative:l});return H.useCallback(O=>{if(Sme(O,r)){O.preventDefault();let x=n!==void 0?n:X2(f)===X2(p);h(t,{replace:x,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[f,h,p,n,s,r,t,a,l,c])}function Nme(t){let e=H.useRef(V3(t)),r=H.useRef(!1),n=bh(),s=H.useMemo(()=>Tme(n.search,r.current?null:e.current),[n.search]),a=dg(),l=H.useCallback((c,h)=>{const f=V3(typeof c=="function"?c(s):c);r.current=!0,a("?"+f,h)},[a,s]);return[s,l]}let Bme={data:""},Ime=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Bme},jme=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Fme=/\/\*[^]*?\*\/|  +/g,rB=/\n+/g,Nd=(t,e)=>{let r="",n="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Nd(l,a):a+"{"+Nd(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Nd(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Nd.p?Nd.p(a,l):a+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},fc={},VV=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+VV(t[r]);return e}return t},Lme=(t,e,r,n,s)=>{let a=VV(t),l=fc[a]||(fc[a]=(h=>{let f=0,p=11;for(;f<h.length;)p=101*p+h.charCodeAt(f++)>>>0;return"go"+p})(a));if(!fc[l]){let h=a!==t?t:(f=>{let p,O,x=[{}];for(;p=jme.exec(f.replace(Fme,""));)p[4]?x.shift():p[3]?(O=p[3].replace(rB," ").trim(),x.unshift(x[0][O]=x[0][O]||{})):x[0][p[1]]=p[2].replace(rB," ").trim();return x[0]})(t);fc[l]=Nd(s?{["@keyframes "+l]:h}:h,r?"":"."+l)}let c=r&&fc.g?fc.g:null;return r&&(fc.g=fc[l]),((h,f,p,O)=>{O?f.data=f.data.replace(O,h):f.data.indexOf(h)===-1&&(f.data=p?h+f.data:f.data+h)})(fc[l],e,n,c),l},zme=(t,e,r)=>t.reduce((n,s,a)=>{let l=e[a];if(l&&l.call){let c=l(r),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Nd(c,""):c===!1?"":c}return n+s+(l??"")},"");function bC(t){let e=this||{},r=t.call?t(e.p):t;return Lme(r.unshift?r.raw?zme(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,Ime(e.target),e.g,e.o,e.k)}let UV,U3,q3;bC.bind({g:1});let Uc=bC.bind({k:1});function Xme(t,e,r,n){Nd.p=e,UV=t,U3=r,q3=n}function kh(t,e){let r=this||{};return function(){let n=arguments;function s(a,l){let c=Object.assign({},a),h=c.className||s.className;r.p=Object.assign({theme:U3&&U3()},c),r.o=/ *go\d+/.test(h),c.className=bC.apply(r,n)+(h?" "+h:"");let f=t;return t[0]&&(f=c.as||t,delete c.as),q3&&f[0]&&q3(c),UV(f,c)}return s}}var Vme=t=>typeof t=="function",V2=(t,e)=>Vme(t)?t(e):t,Ume=(()=>{let t=0;return()=>(++t).toString()})(),qV=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),qme=20,z6="default",WV=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return WV(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},_v=[],YV={toasts:[],pausedAt:void 0,settings:{toastLimit:qme}},$l={},ZV=(t,e=z6)=>{$l[e]=WV($l[e]||YV,t),_v.forEach(([r,n])=>{r===e&&n($l[e])})},GV=t=>Object.keys($l).forEach(e=>ZV(t,e)),Wme=t=>Object.keys($l).find(e=>$l[e].toasts.some(r=>r.id===t)),kC=(t=z6)=>e=>{ZV(e,t)},Yme={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zme=(t={},e=z6)=>{let[r,n]=H.useState($l[e]||YV),s=H.useRef($l[e]);H.useEffect(()=>(s.current!==$l[e]&&n($l[e]),_v.push([e,n]),()=>{let l=_v.findIndex(([c])=>c===e);l>-1&&_v.splice(l,1)}),[e]);let a=r.toasts.map(l=>{var c,h,f;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||(t==null?void 0:t.duration)||Yme[l.type],style:{...t.style,...(f=t[l.type])==null?void 0:f.style,...l.style}}});return{...r,toasts:a}},Gme=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Ume()}),yx=t=>(e,r)=>{let n=Gme(e,t,r);return kC(n.toasterId||Wme(n.id))({type:2,toast:n}),n.id},bi=(t,e)=>yx("blank")(t,e);bi.error=yx("error");bi.success=yx("success");bi.loading=yx("loading");bi.custom=yx("custom");bi.dismiss=(t,e)=>{let r={type:3,toastId:t};e?kC(e)(r):GV(r)};bi.dismissAll=t=>bi.dismiss(void 0,t);bi.remove=(t,e)=>{let r={type:4,toastId:t};e?kC(e)(r):GV(r)};bi.removeAll=t=>bi.remove(void 0,t);bi.promise=(t,e,r)=>{let n=bi.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let a=e.success?V2(e.success,s):void 0;return a?bi.success(a,{id:n,...r,...r==null?void 0:r.success}):bi.dismiss(n),s}).catch(s=>{let a=e.error?V2(e.error,s):void 0;a?bi.error(a,{id:n,...r,...r==null?void 0:r.error}):bi.dismiss(n)}),t};var Hme=1e3,Kme=(t,e="default")=>{let{toasts:r,pausedAt:n}=Zme(t,e),s=H.useRef(new Map).current,a=H.useCallback((O,x=Hme)=>{if(s.has(O))return;let k=setTimeout(()=>{s.delete(O),l({type:4,toastId:O})},x);s.set(O,k)},[]);H.useEffect(()=>{if(n)return;let O=Date.now(),x=r.map(k=>{if(k.duration===1/0)return;let w=(k.duration||0)+k.pauseDuration-(O-k.createdAt);if(w<0){k.visible&&bi.dismiss(k.id);return}return setTimeout(()=>bi.dismiss(k.id,e),w)});return()=>{x.forEach(k=>k&&clearTimeout(k))}},[r,n,e]);let l=H.useCallback(kC(e),[e]),c=H.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=H.useCallback((O,x)=>{l({type:1,toast:{id:O,height:x}})},[l]),f=H.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),p=H.useCallback((O,x)=>{let{reverseOrder:k=!1,gutter:w=8,defaultPosition:_}=x||{},C=r.filter(P=>(P.position||_)===(O.position||_)&&P.height),T=C.findIndex(P=>P.id===O.id),E=C.filter((P,Q)=>Q<T&&P.visible).length;return C.filter(P=>P.visible).slice(...k?[E+1]:[0,E]).reduce((P,Q)=>P+(Q.height||0)+w,0)},[r]);return H.useEffect(()=>{r.forEach(O=>{if(O.dismissed)a(O.id,O.removeDelay);else{let x=s.get(O.id);x&&(clearTimeout(x),s.delete(O.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:h,startPause:c,endPause:f,calculateOffset:p}}},Jme=Uc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,e1e=Uc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,t1e=Uc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,r1e=kh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jme} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${e1e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${t1e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,n1e=Uc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i1e=kh("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${n1e} 1s linear infinite;
`,s1e=Uc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,a1e=Uc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,o1e=kh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${s1e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${a1e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,l1e=kh("div")`
  position: absolute;
`,c1e=kh("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d1e=Uc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h1e=kh("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d1e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,u1e=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?H.createElement(h1e,null,e):e:r==="blank"?null:H.createElement(c1e,null,H.createElement(i1e,{...n}),r!=="loading"&&H.createElement(l1e,null,r==="error"?H.createElement(r1e,{...n}):H.createElement(o1e,{...n})))},f1e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,g1e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,p1e="0%{opacity:0;} 100%{opacity:1;}",m1e="0%{opacity:1;} 100%{opacity:0;}",O1e=kh("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,x1e=kh("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b1e=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=qV()?[p1e,m1e]:[f1e(r),g1e(r)];return{animation:e?`${Uc(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Uc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},k1e=H.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?b1e(t.position||e||"top-center",t.visible):{opacity:0},a=H.createElement(u1e,{toast:t}),l=H.createElement(x1e,{...t.ariaProps},V2(t.message,t));return H.createElement(O1e,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):H.createElement(H.Fragment,null,a,l))});Xme(H.createElement);var y1e=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let a=H.useCallback(l=>{if(l){let c=()=>{let h=l.getBoundingClientRect().height;n(t,h)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return H.createElement("div",{ref:a,className:e,style:r},s)},w1e=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qV()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},v1e=bC`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uw=16,_1e=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:l,containerClassName:c})=>{let{toasts:h,handlers:f}=Kme(r,a);return H.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:uw,left:uw,right:uw,bottom:uw,pointerEvents:"none",...l},className:c,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(p=>{let O=p.position||e,x=f.calculateOffset(p,{reverseOrder:t,gutter:n,defaultPosition:e}),k=w1e(O,x);return H.createElement(y1e,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?v1e:"",style:k},p.type==="custom"?V2(p.message,p):s?s(p):H.createElement(k1e,{toast:p,position:O}))}))},Di=bi;const HV=H.createContext(void 0),I0={id:"123e4567-e89b-12d3-a456-426614174000",email:"demo@tradejournal.ai",aud:"authenticated",role:"authenticated",created_at:"2025-10-01T10:00:00Z",app_metadata:{},user_metadata:{name:"Demo User",avatar_url:""}};function C1e({children:t}){const[e,r]=H.useState(null),[n,s]=H.useState(!0);H.useEffect(()=>{setTimeout(()=>{r(I0),s(!1)},500)},[]);const a=async(h,f)=>(r(I0),{data:{user:I0},error:null}),l=async(h,f)=>(r(I0),{data:{user:I0},error:null}),c=async()=>{r(null),setTimeout(()=>{r(I0)},100)};return b.jsx(HV.Provider,{value:{user:e,loading:n,signIn:a,signUp:l,signOut:c,isConfigured:!1},children:t})}function Bi(){const t=H.useContext(HV);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const KV=H.createContext(void 0);function A1e({children:t}){const[e,r]=H.useState(()=>localStorage.getItem("theme")||"dark");H.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const n=()=>{r(s=>s==="dark"?"light":"dark")};return b.jsx(KV.Provider,{value:{theme:e,toggleTheme:n},children:t})}function JV(){const t=H.useContext(KV);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const fw="tradejournal_mock_";function j4(t,e,r,n,s){const l=[t,e,r,n,s].filter(h=>typeof h=="number"&&h>=1&&h<=5);if(l.length===0)return 3;const c=l.reduce((h,f)=>h+f,0);return Math.round(c/l.length*10)/10}const Zt={get(t){try{const e=localStorage.getItem(`${fw}${t}`);return e?JSON.parse(e):null}catch(e){return console.error(`Error reading from storage (${t}):`,e),null}},set(t,e){try{localStorage.setItem(`${fw}${t}`,JSON.stringify(e))}catch(r){console.error(`Error writing to storage (${t}):`,r)}},remove(t){try{localStorage.removeItem(`${fw}${t}`)}catch(e){console.error(`Error removing from storage (${t}):`,e)}},clear(){try{Object.keys(localStorage).filter(t=>t.startsWith(fw)).forEach(t=>localStorage.removeItem(t))}catch(t){console.error("Error clearing storage:",t)}},clearAll(){this.clear()}},$i=t=>new Promise(e=>setTimeout(e,t)),to=()=>`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Cv={isValidCodeContent:t=>typeof t=="string"&&t.length>0,isValidMindMapData:t=>{try{const e=typeof t=="string"?JSON.parse(t):t;return e&&typeof e=="object"&&e.topic&&Array.isArray(e.children)}catch{return!1}},isValidMermaidContent:t=>{try{const e=["graph","flowchart","sequenceDiagram","gantt","stateDiagram","journey","classDiagram","erDiagram"],r=t.trim();return e.some(n=>r.startsWith(n))}catch{return!1}},isValidLatexContent:t=>{try{return t.includes("$")||t.includes("\\")||t.includes("{")||t.includes("}")}catch{return!1}},detectContentType:t=>Cv.isValidMindMapData(t)?"mind-map":Cv.isValidMermaidContent(t)?"mermaid":Cv.isValidLatexContent(t)?"math":t.includes("<p>")||t.includes("<div>")||t.includes("<h1")?"rich-text":t.includes("```")?"syntax-highlight":"plain-text"},Pn={createContentData:(t,e,r)=>{const n={metadata:{created_at:new Date().toISOString(),last_modified:new Date().toISOString()}};switch(t){case"rich-text":return{...n,html_content:e,format:"ckeditor"};case"code":return{...n,code_content:e,code_language:r||"javascript",editor_settings:{theme:"one-dark",lineNumbers:!0,wordWrap:!0}};case"syntax-highlight":return{...n,highlighted_code:e,language:r||"javascript",theme:"github"};case"mind-map":try{const s=typeof e=="string"?JSON.parse(e):e;return{...n,mindmap_data:s,format:"custom",node_count:Pn.countMindMapNodes(s)}}catch{return{...n,mindmap_data:{topic:"Empty Mind Map",children:[]},format:"custom"}}case"mermaid":return{...n,mermaid_code:e,format:"mermaid",render_status:"pending"};case"math":return{...n,latex_content:e,format:"katex",math_type:"mixed"};default:return{...n,text_content:e}}},extractPlainText:t=>{var e;if(t.content_type==="plain-text"||!t.content_data)return t.text||"";switch(t.content_type){case"rich-text":return((e=t.content_data.html_content)==null?void 0:e.replace(/<[^>]*>/g,""))||"";case"code":return t.content_data.code_content||"";case"mind-map":return Pn.mindMapToPlainText(t.content_data.mindmap_data);case"mermaid":return t.content_data.mermaid_code||"";case"math":return t.content_data.latex_content||"";default:return t.text||""}},mindMapToPlainText:t=>{if(!t)return"";const e=(r,n=0)=>{const a=`${"  ".repeat(n)}${r.topic}`,c=(r.children||[]).map(h=>e(h,n+1)).join(`
`);return c?`${a}
${c}`:a};return e(t)},countMindMapNodes:t=>{if(!t)return 0;let e=1;return t.children&&(e+=t.children.reduce((r,n)=>r+Pn.countMindMapNodes(n),0)),e},updateMetadata:t=>{const e=Pn.extractPlainText(t),r={word_count:e.split(/\s+/).filter(n=>n.length>0).length,char_count:e.length,last_accessed:new Date().toISOString()};return{...t,metadata:{...t.metadata,...r}}}},H0={createVersion:(t,e)=>{var s;const r=to(),n=((s=t.versions)==null?void 0:s.length)||0;return{id:r,content:t.text,content_data:t.content_data,created_at:new Date().toISOString(),version_number:n+1,change_summary:e,diff_data:H0.calculateDiff(t,r)}},calculateDiff:(t,e)=>{var c;const r=(c=t.versions)==null?void 0:c[t.versions.length-1];if(!r)return{added:0,removed:0,modified:0};const n=H0.getVersionContent(r,t.content_type),s=H0.getVersionContent(t,t.content_type),a=n.split(`
`),l=s.split(`
`);return{added:Math.max(0,l.length-a.length),removed:Math.max(0,a.length-l.length),modified:Math.min(a.length,l.length)}},getVersionContent:(t,e)=>{if("content_data"in t&&t.content_data)switch(e){case"rich-text":return t.content_data.html_content||t.text||"";case"code":return t.content_data.code_content||t.text||"";case"mind-map":return JSON.stringify(t.content_data.mindmap_data||{});case"mermaid":return t.content_data.mermaid_code||t.text||"";case"math":return t.content_data.latex_content||t.text||"";default:return t.text||""}return t.text||""},restoreVersion:(t,e)=>{const r={...t,text:e.content,content_data:e.content_data,current_version:e.id,updated_at:new Date().toISOString()},n=H0.createVersion(r,`Restored to version ${e.version_number}`);return{...r,versions:[...t.versions||[],n]}},exportAsMarkdown:t=>{const e=`# ${t.title||"Untitled Note"}

`,r=`**Category:** ${t.category||"Uncategorized"}  
**Created:** ${new Date(t.created_at).toLocaleDateString()}  
**Content Type:** ${t.content_type}  

`,n=Pn.extractPlainText(t);return`${e}${r}${n}`},exportAsHTML:t=>{const e=`<h1>${t.title||"Untitled Note"}</h1>`,r=`<p><strong>Category:</strong> ${t.category||"Uncategorized"}  
<strong>Created:</strong> ${new Date(t.created_at).toLocaleDateString()}  
<strong>Content Type:</strong> ${t.content_type}  </p>`,n=`<div>${t.text.replace(/\n/g,"<br>")}</div>`;return`${e}${r}${n}`}},yC={migrateToRichContent:(t,e)=>{if(t.content_type===e)return t;const r=Pn.createContentData(e,t.text),n={...t,content_type:e,content_data:r,text:Pn.extractPlainText({...t,content_data:r}),updated_at:new Date().toISOString()},s=H0.createVersion(n,`Migrated from ${t.content_type} to ${e}`);return{...n,versions:[...t.versions||[],s]}},autoMigrate:t=>{const e=Cv.detectContentType(t.text);return e!==t.content_type?yC.migrateToRichContent(t,e):t}},F4={createBackup:t=>{var r,n,s;const e={timestamp:new Date().toISOString(),user_id:t,version:"1.0",data:{notes:Zt.get(`notes_${t}`)||[],strategies:Zt.get(`strategies_${t}`)||[],trades:Zt.get(`trades_${t}`)||[]},metadata:{total_notes:((r=Zt.get(`notes_${t}`))==null?void 0:r.length)||0,total_strategies:((n=Zt.get(`strategies_${t}`))==null?void 0:n.length)||0,total_trades:((s=Zt.get(`trades_${t}`))==null?void 0:s.length)||0}};return JSON.stringify(e,null,2)},exportNote:(t,e)=>{switch(e){case"json":return JSON.stringify(t,null,2);case"markdown":return Pn.exportAsMarkdown(t);case"html":return Pn.exportAsHTML(t);case"txt":return Pn.extractPlainText(t);default:return JSON.stringify(t,null,2)}},exportNotes:(t,e)=>{const r=new Date().toISOString().split("T")[0];switch(e){case"json":return JSON.stringify({export_date:r,notes:t,total_count:t.length},null,2);case"markdown":return t.map(n=>Pn.exportAsMarkdown(n)).join(`

---

`);case"html":return`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Notes Export - ${r}</title>
            <style>
              body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
              .note { margin-bottom: 40px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
              .note-title { font-size: 1.5em; font-weight: bold; margin-bottom: 10px; }
              .note-meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
              .note-content { line-height: 1.6; }
            </style>
          </head>
          <body>
            <h1>Notes Export - ${r}</h1>
            ${t.map(n=>Pn.exportAsHTML(n)).join("")}
          </body>
          </html>
        `;case"txt":return t.map(n=>{const s=n.title||"Untitled Note",a=Pn.extractPlainText(n),l=`Created: ${n.created_at}
Category: ${n.category||"Uncategorized"}

`;return`${s}
${"=".repeat(s.length)}
${l}${a}`}).join(`

`);default:return JSON.stringify(t,null,2)}},importBackup:(t,e)=>{try{const r=JSON.parse(t),n=[];let s=0;if(r.data&&Array.isArray(r.data.notes)){const a=Zt.get(`notes_${e}`)||[];r.data.notes.forEach(l=>{try{const c=yC.autoMigrate(l);a.push(c),s++}catch(c){n.push(`Failed to import note ${l.id}: ${c}`)}}),Zt.set(`notes_${e}`,a)}return{success:n.length===0,notes:s,errors:n}}catch(r){return{success:!1,notes:0,errors:[`Invalid backup format: ${r}`]}}}};Pn.exportAsMarkdown;Pn.exportAsMarkdown=function(t){const e=`# ${t.title||"Untitled Note"}

`,r=`**Category:** ${t.category||"Uncategorized"}  
**Created:** ${new Date(t.created_at).toLocaleDateString()}  
**Content Type:** ${t.content_type}  

`,n=Pn.extractPlainText(t);return`${e}${r}${n}`};Pn.exportAsHTML=function(t){var n;const e=t.title||"Untitled Note",r=t.content_type==="rich-text"?((n=t.content_data)==null?void 0:n.html_content)||t.text:`<pre>${Pn.extractPlainText(t)}</pre>`;return`
    <div class="note">
      <div class="note-title">${e}</div>
      <div class="note-meta">
        <strong>Category:</strong> ${t.category||"Uncategorized"} | 
        <strong>Created:</strong> ${new Date(t.created_at).toLocaleDateString()} | 
        <strong>Type:</strong> ${t.content_type}
      </div>
      <div class="note-content">${r}</div>
    </div>
  `};const Ta={saveNote:(t,e)=>{const r={...e,content_type:e.content_type||"plain-text",content_data:e.content_data||Pn.createContentData(e.content_type,e.text),versions:e.versions||[],current_version:e.current_version||to(),metadata:e.metadata||{}},n=Pn.updateMetadata(r);if(e.text!==n.text||JSON.stringify(e.content_data)!==JSON.stringify(n.content_data)){const l=H0.createVersion(n,"Auto-save");n.versions=[...e.versions||[],l],n.current_version=l.id}const s=Zt.get(`notes_${t}`)||[],a=s.findIndex(l=>l.id===e.id);return a>=0?s[a]=n:s.push(n),Zt.set(`notes_${t}`,s),n},loadNotes:t=>(Zt.get(`notes_${t}`)||[]).map(r=>yC.autoMigrate(r)),deleteNote:(t,e)=>{const r=Zt.get(`notes_${t}`)||[],n=r.findIndex(s=>s.id===e);return n>=0?(r[n].deleted_at=new Date().toISOString(),Zt.set(`notes_${t}`,r),!0):!1},restoreNote:(t,e)=>{const r=Zt.get(`notes_${t}`)||[],n=r.findIndex(s=>s.id===e&&s.deleted_at);return n>=0?(r[n].deleted_at=void 0,Zt.set(`notes_${t}`,r),!0):!1},permanentlyDeleteNote:(t,e)=>{const r=Zt.get(`notes_${t}`)||[],n=r.filter(s=>s.id!==e);return Zt.set(`notes_${t}`,n),n.length<r.length}},Mi="123e4567-e89b-12d3-a456-426614174000";function L4(t){return t?{analysis:Math.floor(Math.random()*2)+4,execution:Math.floor(Math.random()*2)+4,trade_management:Math.floor(Math.random()*2)+4,risk_management:Math.floor(Math.random()*2)+3,mindset:Math.floor(Math.random()*2)+3}:{analysis:Math.floor(Math.random()*3)+2,execution:Math.floor(Math.random()*3)+1,trade_management:Math.floor(Math.random()*3)+1,risk_management:Math.floor(Math.random()*3)+2,mindset:Math.floor(Math.random()*3)+1}}function eU(){return[{id:"acc-001",user_id:Mi,name:"Main Trading Account",account_number:"12345678",encrypted_investor_password:"mock_encrypted_password_main",is_connected:!0,last_sync:"2025-11-03T02:30:00Z",sync_status:"success",created_at:"2025-10-15T10:00:00Z",updated_at:"2025-11-03T02:30:00Z"},{id:"acc-002",user_id:Mi,name:"Swing Trading Account",account_number:"87654321",encrypted_investor_password:"mock_encrypted_password_swing",is_connected:!0,last_sync:"2025-11-03T01:45:00Z",sync_status:"syncing",created_at:"2025-10-20T14:30:00Z",updated_at:"2025-11-03T01:45:00Z"},{id:"acc-003",user_id:Mi,name:"Scalping Account",account_number:"11223344",encrypted_investor_password:"mock_encrypted_password_scalp",is_connected:!1,last_sync:"2025-11-02T18:20:00Z",sync_status:"disconnected",created_at:"2025-11-01T09:15:00Z",updated_at:"2025-11-02T18:20:00Z"}]}function tU(){const t=[],e=[{name:"EURUSD",type:"FX"},{name:"GBPUSD",type:"FX"},{name:"USDJPY",type:"FX"},{name:"XAUUSD",type:"Metals"},{name:"XAGUSD",type:"Metals"},{name:"NQ",type:"Futures"},{name:"ES",type:"Futures"},{name:"Crude Oil",type:"Commodities"},{name:"Natural Gas",type:"Commodities"}],r=["Breakout","Reversal","Pullback","Continuation","Range Trading","News Event"],n=["Asia","London 1","London 2","London 3","New York 1","New York 2","New York 3"],s=["Confident","Anxious","Calm","Excited","Frustrated","Focused"];for(let a=0;a<85;a++){const l=e[Math.floor(Math.random()*e.length)],c=Math.random()<.68,h=Math.random()<.5?"Long":"Short",f=Math.floor(Math.random()*30),p=Math.floor(Math.random()*24),O=new Date;O.setDate(O.getDate()-f),O.setHours(O.getHours()-p);const x=Math.random()*100+50,k=c?(Math.random()*.02+.005)*x:-(Math.random()*.015+.003)*x,w=h==="Long"?x+k:x-k,_=c?Math.floor(Math.random()*800+200):-Math.floor(Math.random()*400+50),C=c?Math.floor(Math.random()*2)+4:Math.floor(Math.random()*3)+1,T=L4(c);t.push({id:`trade-main-${a+1}`,user_id:Mi,account_number:"12345678",position_id:`POS-MAIN-${to()}`,asset:l.name,asset_type:l.type,trade_type:h,size:Math.random()*2+.5,entry_price:x,exit_price:w,session:n[Math.floor(Math.random()*n.length)],duration:`${Math.floor(Math.random()*180)+15} minutes`,outcome:c?"win":"loss",entry_tag:r[Math.floor(Math.random()*r.length)],emotion:s[Math.floor(Math.random()*s.length)],what_liked:c?"Good entry timing and risk management":"Quick stop loss execution",what_didnt_like:c?"Could have held longer":"Entered too early without confirmation",comment:c?"Clean trade setup with good confirmation":"Market moved against position quickly",pnl:_,time:O.toISOString(),system_quality_number:C,analysis:T.analysis,execution:T.execution,trade_management:T.trade_management,risk_management:T.risk_management,mindset:T.mindset,created_at:O.toISOString()})}for(let a=0;a<70;a++){const l=e[Math.floor(Math.random()*e.length)],c=Math.random()<.65,h=Math.random()<.5?"Long":"Short",f=Math.floor(Math.random()*30),p=new Date;p.setDate(p.getDate()-f);const O=Math.random()*100+50,x=c?(Math.random()*.04+.01)*O:-(Math.random()*.02+.005)*O,k=h==="Long"?O+x:O-x,w=c?Math.floor(Math.random()*1500+400):-Math.floor(Math.random()*600+100),_=c?Math.floor(Math.random()*2)+4:Math.floor(Math.random()*3)+1,C=L4(c);t.push({id:`trade-swing-${a+1}`,user_id:Mi,account_number:"87654321",position_id:`POS-SWING-${to()}`,asset:l.name,asset_type:l.type,trade_type:h,size:Math.random()*3+1,entry_price:O,exit_price:k,session:n[Math.floor(Math.random()*n.length)],duration:`${Math.floor(Math.random()*48)+4} hours`,outcome:c?"win":"loss",entry_tag:r[Math.floor(Math.random()*r.length)],emotion:s[Math.floor(Math.random()*s.length)],what_liked:c?"Patient entry and strong trend confirmation":"Disciplined stop loss management",what_didnt_like:c?"Could have added to position":"Trend reversal caught me off guard",comment:c?"Multi-day swing trade with good risk/reward":"Market conditions changed unexpectedly",pnl:w,time:p.toISOString(),system_quality_number:_,analysis:C.analysis,execution:C.execution,trade_management:C.trade_management,risk_management:C.risk_management,mindset:C.mindset,created_at:p.toISOString()})}for(let a=0;a<45;a++){const l=e.slice(0,4)[Math.floor(Math.random()*4)],c=Math.random()<.72,h=Math.random()<.5?"Long":"Short",f=Math.floor(Math.random()*30),p=Math.floor(Math.random()*24),O=new Date;O.setDate(O.getDate()-f),O.setHours(O.getHours()-p);const x=Math.random()*100+50,k=c?(Math.random()*.005+.001)*x:-(Math.random()*.004+.001)*x,w=h==="Long"?x+k:x-k,_=c?Math.floor(Math.random()*150+30):-Math.floor(Math.random()*120+20),C=c?Math.floor(Math.random()*2)+4:Math.floor(Math.random()*3)+1,T=L4(c);t.push({id:`trade-scalp-${a+1}`,user_id:Mi,account_number:"11223344",position_id:`POS-SCALP-${to()}`,asset:l.name,asset_type:l.type,trade_type:h,size:Math.random()*1.5+.3,entry_price:x,exit_price:w,session:n[Math.floor(Math.random()*n.length)],duration:`${Math.floor(Math.random()*15)+2} minutes`,outcome:c?"win":"loss",entry_tag:r[Math.floor(Math.random()*r.length)],emotion:s[Math.floor(Math.random()*s.length)],what_liked:c?"Quick execution on price action signal":"Fast exit minimized loss",what_didnt_like:c?"Could have caught more pips":"Entry was slightly premature",comment:c?"Fast scalp with clean price action":"Market noise stopped me out",pnl:_,time:O.toISOString(),system_quality_number:C,analysis:T.analysis,execution:T.execution,trade_management:T.trade_management,risk_management:T.risk_management,mindset:T.mindset,created_at:O.toISOString()})}return t.sort((a,l)=>new Date(l.time).getTime()-new Date(a.time).getTime())}function S1e(){return[{id:"strat-001",user_id:Mi,name:"London Breakout",category:"Breakout",description:"Trade breakouts during London session open with volume confirmation",created_at:"2025-10-01T08:00:00Z"},{id:"strat-002",user_id:Mi,name:"Pullback to EMA",category:"Trend Following",description:"Enter on pullbacks to 20 EMA in strong trends",created_at:"2025-10-05T10:30:00Z"},{id:"strat-003",user_id:Mi,name:"Range Scalping",category:"Scalping",description:"Quick scalps at support/resistance in ranging markets",created_at:"2025-10-10T14:00:00Z"},{id:"strat-004",user_id:Mi,name:"News Fade",category:"News Trading",description:"Fade initial spikes after major economic announcements",created_at:"2025-10-15T09:00:00Z"},{id:"strat-005",user_id:Mi,name:"Supply/Demand Zones",category:"Price Action",description:"Trade from institutional supply and demand levels",created_at:"2025-10-20T11:00:00Z"},{id:"strat-006",user_id:Mi,name:"Asian Range Breakout",category:"Breakout",description:"Trade breakouts from Asian session ranges during London open",created_at:"2025-10-25T07:30:00Z"}]}function rU(){return[{id:"note-001",user_id:Mi,text:"London breakout strategy works best with volume at least 1.5x average. Wait for 15-minute candle close above resistance before entry.",title:"London Breakout Volume Confirmation",category:"Framework",tab:"strategy",created_at:"2025-10-01T12:00:00Z"},{id:"note-002",text:"Pullback trades require strong trend confirmation. Look for higher lows in uptrends, lower highs in downtrends. Best risk/reward when 20 EMA aligns with previous support/resistance.",title:"EMA Pullback Strategy",category:"Framework",tab:"strategy",created_at:"2025-10-05T15:00:00Z"},{id:"note-003",text:"Scalping requires tight stops and quick decisions. Use 1:1.5 minimum risk/reward. Exit at first sign of momentum loss. Track success rate - should be above 65% to be profitable with fees.",title:"Scalping Risk Management",category:"Framework",tab:"strategy",created_at:"2025-10-10T16:00:00Z"},{id:"note-004",text:"Supply/demand zones work better on higher timeframes (4H, Daily). Fresh zones (only tested once or twice) have higher probability. Old zones lose effectiveness.",title:"Supply/Demand Zone Timing",category:"Framework",tab:"strategy",created_at:"2025-10-20T14:00:00Z"},{id:"note-005",text:"Asian range breakout: Mark Asian session high/low. Wait for London volume. Enter on breakout with 1.5 ATR target, stop below/above Asian range.",title:"Asian Range Breakout",category:"Framework",tab:"strategy",created_at:"2025-10-30T09:00:00Z"},{id:"note-006",text:"Mean reversion strategy works best in ranging markets. Look for price deviation of 2+ standard deviations from mean. Enter on first sign of reversal with tight stops.",title:"Mean Reversion Tactics",category:"Framework",tab:"strategy",created_at:"2025-11-01T14:00:00Z"},{id:"note-007",text:"Risk management rule: Never risk more than 1% per trade, 3% total daily risk. Position sizing formula: (Account Balance * Risk %) / (Entry - Stop Loss)",title:"Position Sizing Formula",category:"Risk Management",tab:"strategy",created_at:"2025-10-22T10:00:00Z"},{id:"note-008",text:"Maximum daily loss limit: Stop trading after reaching -3% of account value. This preserves mental capital and prevents emotional trading.",title:"Daily Loss Limits",category:"Risk Management",tab:"strategy",created_at:"2025-10-25T09:00:00Z"},{id:"note-009",text:"Correlation awareness: Avoid multiple trades in highly correlated pairs (EURUSD/GBPUSD, USDJPY/AUDJPY). Maximum 3% total exposure per currency.",title:"Currency Correlation Rules",category:"Risk Management",tab:"strategy",created_at:"2025-10-27T11:30:00Z"},{id:"note-010",text:"Psychology note: After 3 consecutive losses, take a 30-minute break. Come back with fresh perspective. Revenge trading is my biggest weakness - awareness is key.",title:"Post-Loss Psychology Protocol",category:"Psychology",tab:"strategy",created_at:"2025-10-12T18:00:00Z"},{id:"note-011",text:"Pre-trade breathing technique: Take 3 deep breaths before any trade. This activates the parasympathetic nervous system and reduces emotional decision making.",title:"Pre-Trade Breathing Technique",category:"Psychology",tab:"strategy",created_at:"2025-10-15T08:00:00Z"},{id:"note-012",text:"Mental journaling after bad trades: Write down 3 lessons learned and 1 thing to improve tomorrow. This transforms losses into learning experiences.",title:"Post-Trade Mental Processing",category:"Psychology",tab:"strategy",created_at:"2025-10-18T17:00:00Z"},{id:"note-013",text:"Confidence building exercise: Review past winning trades weekly. Focus on what you did right rather than what went wrong. Build neural pathways for success.",title:"Confidence Building Routine",category:"Psychology",tab:"strategy",created_at:"2025-10-23T16:00:00Z"},{id:"note-014",text:"Prop firm evaluation criteria: Minimum 20 trades over 2 weeks, 80%+ rule adherence, drawdown not exceeding 5%, minimum 10% profit target.",title:"Prop Firm Requirements",category:"Prop Firms",tab:"rules",created_at:"2025-10-08T10:00:00Z"},{id:"note-015",text:"Prop firm daily loss limit: Never hit more than -50% of daily allocation. Better to skip trades than blow the account. Risk per trade: 1-2% max.",title:"Prop Firm Risk Parameters",category:"Prop Firms",tab:"rules",created_at:"2025-10-12T12:00:00Z"},{id:"note-016",text:"Prohibited strategies: No martingale, no grid trading, no news trading, no holding over weekend, no hedging. Focus on single-direction trades.",title:"Prop Firm Strategy Restrictions",category:"Prop Firms",tab:"rules",created_at:"2025-10-16T14:00:00Z"},{id:"note-017",text:"Execution checklist: 1) Check spread before entry, 2) Verify stop loss level, 3) Set take profit, 4) Confirm position size, 5) Execute market order.",title:"Trade Execution Process",category:"Trade Ops",tab:"rules",created_at:"2025-10-05T11:00:00Z"},{id:"note-018",text:"Platform settings: Use VPS with <10ms latency, limit open positions to max 5, enable slippage protection at 2 pips maximum.",title:"Platform Configuration",category:"Trade Ops",tab:"rules",created_at:"2025-10-13T15:00:00Z"},{id:"note-019",text:"Trade journaling format: Date, pair, setup type, entry reason, exit reason, lessons learned, emotional state before/during/after trade.",title:"Trade Journal Template",category:"Trade Ops",tab:"rules",created_at:"2025-10-20T10:00:00Z"},{id:"note-020",text:"Market structure analysis: Always identify the trend direction on higher timeframes before taking lower timeframe trades. Align with the higher timeframe trend.",title:"Higher Timeframe Analysis",category:"Trades",tab:"notes",created_at:"2025-10-28T08:00:00Z"},{id:"note-021",text:"Today's observation: EURUSD breaking above resistance with strong volume. Wait for retest and rejection before entering long. Quality setup forming.",title:"EURUSD Breakout Analysis",category:"Trades",tab:"notes",created_at:"2025-11-02T13:00:00Z"},{id:"note-022",text:"Gold showing strong uptrend on daily timeframe. Any pullback to 20 EMA is buy opportunity. Respect the trend direction.",title:"XAUUSD Trend Analysis",category:"Trades",tab:"notes",created_at:"2025-11-01T16:30:00Z"},{id:"note-023",text:"Major news events to watch this week: NFP Friday, FOMC minutes Wednesday, ECB rate decision Thursday. Reduce position sizes around these events.",title:"Economic Calendar Highlights",category:"Trades",tab:"notes",created_at:"2025-11-03T09:00:00Z"},{id:"note-024",text:"GBPJPY forming a flag pattern. Bearish continuation expected. Wait for breakdown below flag support to enter short with tight stop.",title:"GBPJPY Flag Pattern",category:"Trades",tab:"notes",created_at:"2025-11-02T11:45:00Z"},{id:"note-025",text:"Reflection: Made emotional decision on USDJPY trade today. Knew setup wasn't optimal but entered anyway due to FOMO. Need to stick to plan more strictly.",title:"Emotional Trading Mistake",category:"Reflections",tab:"notes",created_at:"2025-11-01T19:00:00Z"},{id:"note-026",text:"Wins today: Excellent patience on EURUSD pullback entry. Waited for perfect setup and got great risk/reward. Discipline is paying off.",title:"Successful Discipline",category:"Reflections",tab:"notes",created_at:"2025-11-02T20:30:00Z"},{id:"note-027",text:"Learning moment: Scalping isn't my strength. Better to focus on higher timeframe setups where I can think clearly and avoid emotional stress.",title:"Strategy Analysis",category:"Reflections",tab:"notes",created_at:"2025-10-31T17:45:00Z"},{id:"note-028",text:"This week progress: Improved from 60% to 72% win rate. Key factor: Better entry timing and tighter risk management. Keep building on this momentum.",title:"Weekly Performance Review",category:"Reflections",tab:"notes",created_at:"2025-10-29T18:00:00Z"},{id:"note-029",text:"Useful indicator settings: EMA 20 (trend), EMA 50 (support/resistance), RSI 14 (oversold/overbought), MACD default settings for momentum confirmation.",title:"Indicator Settings Reference",category:"Uncategorized",tab:"notes",created_at:"2025-10-25T14:00:00Z"},{id:"note-030",text:"Market correlation insight: When S&P 500 falls, safe haven currencies (JPY, CHF) tend to strengthen. Use this for currency direction bias.",title:"Correlation Observation",category:"Uncategorized",tab:"notes",created_at:"2025-10-30T12:00:00Z"},{id:"note-031",text:"Best trading sessions for different strategies: Scalping (London/NY overlap), Breakouts (London open), Swing trades (Asian open), Range trading (low volatility periods).",title:"Session Strategy Matching",category:"Uncategorized",tab:"notes",created_at:"2025-11-01T10:30:00Z"},{id:"note-032",text:"Reminder: Always check spread before placing orders. Especially during news times when spreads widen significantly. Can make profitable trade unprofitable.",title:"Spread Awareness",category:"Uncategorized",tab:"notes",created_at:"2025-10-27T09:00:00Z"},{id:"note-033",text:"Platform bug discovered: MT4 sometimes doesn't execute stop loss properly during high volatility. Use buy/sell stop orders as backup for risk management.",title:"Platform Technical Issue",category:"Uncategorized",tab:"notes",created_at:"2025-10-26T15:45:00Z"},{id:"note-034",text:"Fibonacci retracements: Focus on 38.2%, 50%, and 61.8% levels. These are most reliable for pullback entries. Combine with candlestick patterns for higher probability setups.",title:"Fibonacci Strategy Guide",category:"Framework",tab:"strategy",created_at:"2025-11-01T08:30:00Z"},{id:"note-035",text:"Support and resistance becomes stronger after multiple tests. First test = weak, second = medium, third or more = very strong. Plan entries accordingly.",title:"Support/Resistance Strength",category:"Framework",tab:"strategy",created_at:"2025-11-02T11:15:00Z"},{id:"note-036",text:"Trend reversal signals: Higher highs break with volume, momentum divergences in RSI, failed breakouts at key levels. Wait for confirmation before entering.",title:"Trend Reversal Setup",category:"Framework",tab:"strategy",created_at:"2025-11-02T14:45:00Z"},{id:"note-037",text:"Session overlap trading: London/NY overlap offers best liquidity and smallest spreads. Focus on EUR/USD, GBP/USD, and USD/JPY during this period.",title:"Session Overlap Strategy",category:"Framework",tab:"strategy",created_at:"2025-11-03T09:20:00Z"},{id:"note-038",text:"Account protection: After 2 consecutive losses, reduce position size by 50%. After 3 losses, stop trading for the day. This preserves capital during difficult periods.",title:"Loss Streak Protocol",category:"Risk Management",tab:"strategy",created_at:"2025-10-29T16:30:00Z"},{id:"note-039",text:"Maximum correlation exposure: Never have more than 2% risk in USD trades simultaneously. Too much exposure to one currency can quickly deplete account.",title:"Currency Exposure Limits",category:"Risk Management",tab:"strategy",created_at:"2025-10-31T10:45:00Z"},{id:"note-040",text:"News trading risk: Reduce position sizes by 50% 1 hour before major news releases. Spread widening and slippage can turn winning trades into losers.",title:"News Event Risk Management",category:"Risk Management",tab:"strategy",created_at:"2025-11-01T12:00:00Z"},{id:"note-041",text:"Confidence maintenance: After a winning streak, don't get overconfident. Stick to plan even when things are going well. Overconfidence leads to poor decisions.",title:"Winning Streak Psychology",category:"Psychology",tab:"strategy",created_at:"2025-10-28T19:30:00Z"},{id:"note-042",text:"Meditation before trading: 10 minutes of mindfulness meditation clears mental clutter and improves decision-making. Use app with 10-minute session timer.",title:"Pre-Trading Meditation",category:"Psychology",tab:"strategy",created_at:"2025-10-30T07:00:00Z"},{id:"note-043",text:"Stress management: High stress days lead to poor trading decisions. If stressed about personal life, skip trading. Capital preservation is more important than one trade.",title:"Personal Stress Assessment",category:"Psychology",tab:"strategy",created_at:"2025-11-02T08:15:00Z"},{id:"note-044",text:"Prop firm best practices: Document every trade with screenshot, reasoning, and emotional state. Most firms require proof of systematic approach.",title:"Prop Firm Documentation",category:"Prop Firms",tab:"rules",created_at:"2025-10-27T14:20:00Z"},{id:"note-045",text:"Prop firm evaluation strategy: Take only high-probability setups during evaluation period. Quality over quantity. Even one good trade can meet profit targets.",title:"Evaluation Period Strategy",category:"Prop Firms",tab:"rules",created_at:"2025-10-29T11:30:00Z"},{id:"note-046",text:"Trade plan template: Strategy name, market condition required, entry criteria, exit criteria, position size calculation, risk/reward ratio.",title:"Complete Trade Plan",category:"Trade Ops",tab:"rules",created_at:"2025-11-01T16:45:00Z"},{id:"note-047",text:"Platform optimization: Use 5-point decimal precision for major pairs. Set up custom price alerts. Save chart templates for different strategies.",title:"MT4 Customization",category:"Trade Ops",tab:"rules",created_at:"2025-11-02T13:10:00Z"},{id:"note-048",text:"EUR/USD analysis: Currently in consolidation between 1.0800-1.0900. Waiting for breakout above 1.0905 to enter long with target at 1.0950.",title:"Current EUR/USD Setup",category:"Trades",tab:"notes",created_at:"2025-11-03T10:00:00Z"},{id:"note-049",text:"Weekly market themes: This week focus on central bank meetings (ECB, Fed). Expect increased volatility in EUR and USD pairs around announcements.",title:"Weekly Market Themes",category:"Trades",tab:"notes",created_at:"2025-11-03T08:30:00Z"},{id:"note-050",text:"Last week reflection: Excellent improvement in entry timing. My main issue was jumping into trades without proper analysis. Now I wait for multiple confirmation signals.",title:"Entry Timing Improvement",category:"Reflections",tab:"notes",created_at:"2025-11-02T21:00:00Z"},{id:"note-051",text:'Lesson learned: Sticking to 1% risk per trade regardless of confidence level has prevented big losses. Earlier I risked more on "sure thing" trades and lost more.',title:"Risk Consistency Lesson",category:"Reflections",tab:"notes",created_at:"2025-11-01T18:45:00Z"},{id:"note-052",text:'Best trading books read this month: "Market Wizards" by Jack Schwager and "Trading in the Zone" by Mark Douglas. Both excellent for psychology and mindset.',title:"Recommended Trading Books",category:"Uncategorized",tab:"notes",created_at:"2025-11-01T20:30:00Z"},{id:"note-053",text:"Trading community insight: Join Telegram groups for real-time market sentiment but don't take their trades. Use for education and market awareness only.",title:"Trading Community Usage",category:"Uncategorized",tab:"notes",created_at:"2025-10-30T15:20:00Z"},{id:"note-054",text:"Triple confirmation strategy: Entry only when price action, volume, and indicator signals all align. Reduces false signals by 60% based on backtesting.",title:"Triple Confirmation Method",category:"Framework",tab:"strategy",created_at:"2025-11-03T14:30:00Z"},{id:"note-055",text:"Candlestick patterns that work: Engulfing patterns at key levels, pin bars at support/resistance, inside bars for continuation. Ignore patterns in middle of nowhere.",title:"Reliable Candlestick Patterns",category:"Framework",tab:"strategy",created_at:"2025-11-03T15:45:00Z"},{id:"note-056",text:"Market phase identification: Accumulation (range-bound, low volume), Markup (trending up, increasing volume), Distribution (range-bound at highs), Markdown (trending down). Trade accordingly.",title:"Market Cycle Phases",category:"Framework",tab:"strategy",created_at:"2025-11-04T09:00:00Z"},{id:"note-057",text:"Risk/Reward minimum: Never take trades below 1:2 ratio. This allows 33% win rate to breakeven. Current average is 1:2.8 - maintain or improve.",title:"Minimum Risk/Reward Ratio",category:"Risk Management",tab:"strategy",created_at:"2025-11-03T16:20:00Z"},{id:"note-058",text:"Weekend risk management: Close all positions Friday before market close unless swing trade with wide stop. Weekend gaps can trigger stops unpredictably.",title:"Weekend Position Management",category:"Risk Management",tab:"strategy",created_at:"2025-11-04T08:15:00Z"},{id:"note-059",text:"Performance anxiety solution: Focus on process, not results. Grade yourself on following the plan, not on P&L. Good decisions with bad outcomes are still good decisions.",title:"Process Over Outcome Mindset",category:"Psychology",tab:"strategy",created_at:"2025-11-03T17:00:00Z"},{id:"note-060",text:"Dealing with winning streaks: Stay humble. Market can change any moment. Continue following rules that got you here. Overconfidence is silent killer of accounts.",title:"Winning Streak Management",category:"Psychology",tab:"strategy",created_at:"2025-11-04T07:45:00Z"},{id:"note-061",text:"Prop firm challenge tips: Focus on consistency over profit targets. Most firms want steady growth. Better to hit target in 25 days than rush in 10 and break rules.",title:"Challenge Completion Strategy",category:"Prop Firms",tab:"rules",created_at:"2025-11-03T13:00:00Z"},{id:"note-062",text:"Scaling rules for funded accounts: After first payout, can scale up 25%. After third payout, scale up another 25%. Never increase more than 50% in single month.",title:"Funded Account Scaling",category:"Prop Firms",tab:"rules",created_at:"2025-11-04T10:30:00Z"},{id:"note-063",text:"Trade review process: Every Sunday review all trades from the week. Screenshot each trade, rate execution 1-10, identify patterns. Track in spreadsheet.",title:"Weekly Trade Review Protocol",category:"Trade Ops",tab:"rules",created_at:"2025-11-03T18:30:00Z"},{id:"note-064",text:"Order types best practices: Use limit orders for entries in ranging markets, market orders for breakouts. Always use stop-loss, never mental stops.",title:"Order Type Selection Guide",category:"Trade Ops",tab:"rules",created_at:"2025-11-04T11:00:00Z"},{id:"note-065",text:"USD/JPY setup developing: Breaking above 151.50 resistance. If holds above this level with volume, targeting 152.80. Stop below 151.20.",title:"USD/JPY Breakout Watch",category:"Trades",tab:"notes",created_at:"2025-11-03T11:30:00Z"},{id:"note-066",text:"Oil market analysis: Crude oil consolidating near $82. OPEC meeting next week could create volatility. Prepared for breakout in either direction.",title:"Crude Oil Market Watch",category:"Trades",tab:"notes",created_at:"2025-11-03T14:00:00Z"},{id:"note-067",text:"S&P 500 futures showing strength. ES breaking key resistance at 4500. Tech sector leading. May correlate with risk-on sentiment in forex markets.",title:"ES Futures Analysis",category:"Trades",tab:"notes",created_at:"2025-11-04T08:45:00Z"},{id:"note-068",text:"Monthly progress review: Improved significantly in trade selection. Still need work on exit timing - often leaving profits on table. Focus area for December.",title:"November Monthly Review",category:"Reflections",tab:"notes",created_at:"2025-11-03T20:00:00Z"},{id:"note-069",text:"Breakthrough moment: Finally comfortable with taking losses. Realized losses are just cost of doing business. Changed my whole perspective on trading.",title:"Loss Acceptance Breakthrough",category:"Reflections",tab:"notes",created_at:"2025-11-04T06:30:00Z"},{id:"note-070",text:"Time management: Best trading hours are 8am-12pm when most focused. Avoid afternoon sessions - historically lower win rate. Quality over quantity.",title:"Personal Trading Hours",category:"Uncategorized",tab:"notes",created_at:"2025-11-03T12:15:00Z"},{id:"note-071",text:"Backup plan: Always have backup internet connection. Last week lost connection during important trade. Mobile hotspot now ready as backup.",title:"Internet Backup Solution",category:"Uncategorized",tab:"notes",created_at:"2025-11-03T16:45:00Z"},{id:"note-072",text:"Tax preparation note: Track all trades monthly for tax purposes. Keep records of all deposits, withdrawals, and trading statements. Makes year-end easier.",title:"Trading Tax Records",category:"Uncategorized",tab:"notes",created_at:"2025-11-04T10:00:00Z"}].map(e=>{const r={...e};return r.user_id=r.user_id||Mi,r.content_type=r.content_type||"plain-text",r})}function nU(){return[{role:"user",content:"How can I improve my trading discipline?",user_id:Mi,created_at:"2025-11-02T14:30:00Z",metadata:{mode:"coach"}},{role:"assistant",content:`Based on your trading data from account 12345678, I notice you have a solid 68% win rate, which shows you're making good trading decisions. However, I see a few areas where discipline can be strengthened:

1. **Position Sizing Consistency**: Your largest loss was around $400. Consider implementing strict position sizing rules - never risk more than 1% of your account per trade.

2. **Emotional Patterns**: I notice you've logged 'Anxious' and 'Frustrated' emotions on several trades. These emotional states often lead to impulsive decisions. Try implementing a 30-minute cooldown period after any loss before taking the next trade.

3. **Entry Timing**: Your notes mention entering 'too early without confirmation' on losing trades. Create a checklist of confirmation signals that must be present before entry.

Your strength is quick stop-loss execution, which shows good risk awareness. Build on this by pre-defining your exit points before entering any trade.`,user_id:Mi,created_at:"2025-11-02T14:30:15Z",metadata:{mode:"coach",hasKnowledgeBase:!0,usedNotes:[{id:"note-004",text:"Psychology note: After 3 consecutive losses..."},{id:"note-006",text:"Risk management rule: Never risk more than 1%..."}]}},{role:"user",content:"What should I focus on in my pre-session routine?",user_id:Mi,created_at:"2025-11-02T18:00:00Z",metadata:{mode:"pre_session"}},{role:"assistant",content:`Great question! A solid pre-session routine is crucial for consistent trading. Based on your notes, you already have a checklist - let's expand on it:

**Your Current Checklist** (from your notes):
- Review economic calendar 
- Identify key levels 
- Check overnight price action 
- Set alerts 
- Prepare trade plan with 3 scenarios 

**Additional Focus Areas**:

1. **Mental State Assessment**: Rate your mental clarity 1-10. If below 7, consider reducing position size or taking the session off.

2. **Account Review**: Check your daily risk limit (3% total as per your rules). Calculate how many trades you can take at your standard risk.

3. **Strategy Selection**: Based on current market conditions (trending vs ranging), choose which of your 6 strategies is most appropriate today.

4. **Visualization**: Spend 5 minutes visualizing perfect trade execution - entry, management, and exit.

5. **Risk Parameters**: Write down your max loss for the day. Commit to stopping if you hit it.

Your strength is preparation. Keep building on this foundation!`,user_id:Mi,created_at:"2025-11-02T18:00:20Z",metadata:{mode:"pre_session",hasKnowledgeBase:!0,usedNotes:[{id:"note-007",text:"Pre-session checklist: Review economic calendar..."},{id:"note-006",text:"Risk management rule..."}]}}]}const Ho="123e4567-e89b-12d3-a456-426614174000";function iU(){Zt.get("initialized")||(console.log("Initializing mock data..."),Zt.set("accounts",eU()),Zt.set("trades",tU()),Zt.set("strategies",S1e()),Zt.set("notes",rU()),Zt.set("chatMessages",nU()),Zt.set("initialized",!0),Zt.set("lastUpdate",new Date().toISOString()),console.log("Mock data initialized successfully"))}const wx={async getAccounts(t=Ho){return await $i(300),(Zt.get("accounts")||eU()).filter(r=>r.user_id===t)},async createAccount(t){await $i(800);const e=Zt.get("accounts")||[],r={id:to(),user_id:t.user_id||Ho,name:t.name||"",account_number:t.account_number||"",encrypted_investor_password:t.encrypted_investor_password||"",is_connected:t.is_connected||!1,last_sync:null,sync_status:"disconnected",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.push(r),Zt.set("accounts",e),r},async updateAccount(t,e){await $i(500);const r=Zt.get("accounts")||[],n=r.findIndex(s=>s.id===t);return n===-1?null:(r[n]={...r[n],...e,updated_at:new Date().toISOString()},Zt.set("accounts",r),r[n])},async deleteAccount(t){await $i(400);const e=Zt.get("accounts")||[],r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(Zt.set("accounts",r),!0)},async syncAccount(t){await $i(2e3);const e=Zt.get("accounts")||[],r=e.find(s=>s.account_number===t);return r&&(r.sync_status="success",r.last_sync=new Date().toISOString(),r.is_connected=!0,Zt.set("accounts",e)),{success:!0,tradesImported:Math.floor(Math.random()*5)+1}}},hg={async getTrades(t=Ho,e){await $i(400);let r=Zt.get("trades")||tU();return r=r.filter(n=>n.user_id===t),e&&e!=="all"&&(r=r.filter(n=>n.account_number===e)),r.sort((n,s)=>new Date(s.time).getTime()-new Date(n.time).getTime())},async createTrade(t){await $i(500);const e=Zt.get("trades")||[],r=j4(t.analysis||3,t.execution||3,t.trade_management||3,t.risk_management||3,t.mindset||3),n={id:to(),user_id:t.user_id||Ho,account_number:t.account_number||"12345678",position_id:t.position_id||`POS-${to()}`,asset:t.asset||"",asset_type:t.asset_type||"FX",trade_type:t.trade_type||"",size:t.size||0,entry_price:t.entry_price||0,exit_price:t.exit_price||0,time:t.time||new Date().toISOString(),duration:t.duration||"",outcome:t.outcome||"win",pnl:t.pnl||0,entry_tag:t.entry_tag,system_quality_number:r,session:t.session,emotion:t.emotion,what_liked:t.what_liked,what_didnt_like:t.what_didnt_like,comment:t.comment,analysis:t.analysis||3,execution:t.execution||3,trade_management:t.trade_management||3,risk_management:t.risk_management||3,mindset:t.mindset||3,created_at:new Date().toISOString()};return e.push(n),Zt.set("trades",e),n},async updateTrade(t,e){await $i(400);const r=Zt.get("trades")||[],n=r.findIndex(l=>l.id===t);if(n===-1)return null;const s=r[n],a={...s,...e};return(e.analysis!==void 0||e.execution!==void 0||e.trade_management!==void 0||e.risk_management!==void 0||e.mindset!==void 0)&&(a.system_quality_number=j4(e.analysis||s.analysis||3,e.execution||s.execution||3,e.trade_management||s.trade_management||3,e.risk_management||s.risk_management||3,e.mindset||s.mindset||3)),r[n]=a,Zt.set("trades",r),r[n]},async deleteTrade(t){await $i(300);const e=Zt.get("trades")||[],r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(Zt.set("trades",r),!0)},async getTradeById(t){return await $i(200),(Zt.get("trades")||[]).find(r=>r.id===t)||null},async importTrades(t){await $i(1500);const e=Zt.get("trades")||[];let r=0,n=0;for(const s of t){if(e.some(h=>h.position_id===s.position_id)){n++;continue}const l=j4(s.analysis||3,s.execution||3,s.trade_management||3,s.risk_management||3,s.mindset||3),c={id:to(),user_id:s.user_id||Ho,account_number:s.account_number||"12345678",position_id:s.position_id||`POS-${to()}`,asset:s.asset||"",asset_type:s.asset_type||"FX",trade_type:s.trade_type||"Long",size:s.size||0,entry_price:s.entry_price||0,exit_price:s.exit_price||0,time:s.time||new Date().toISOString(),duration:s.duration||"0 minutes",outcome:s.outcome||"win",pnl:s.pnl||0,entry_tag:s.entry_tag,system_quality_number:l,session:s.session,emotion:s.emotion,what_liked:s.what_liked,what_didnt_like:s.what_didnt_like,comment:s.comment,analysis:s.analysis||3,execution:s.execution||3,trade_management:s.trade_management||3,risk_management:s.risk_management||3,mindset:s.mindset||3,created_at:new Date().toISOString()};e.push(c),r++}return Zt.set("trades",e),{success:!0,count:r,duplicates:n}}},T1e={async getNotes(t=Ho,e){await $i(300);let r=Zt.get("notes")||rU();return r=r.filter(s=>s.user_id===t),e&&(r=r.filter(s=>s.strategy_id===e)),r.map(s=>({...s,title:s.title||`Note ${s.id}`,category:s.category||"Uncategorized",tab:s.tab||"notes"})).sort((s,a)=>new Date(a.created_at).getTime()-new Date(s.created_at).getTime())},async createNote(t){await $i(400);const e=Zt.get("notes")||[],r={id:to(),user_id:t.user_id||Ho,strategy_id:t.strategy_id,text:t.text||"",content_type:t.content_type||"plain-text",title:t.title||"",category:t.category||"Uncategorized",tab:t.tab||"notes",created_at:new Date().toISOString()};return e.push(r),Zt.set("notes",e),r},async updateNote(t,e){await $i(400);const r=Zt.get("notes")||[],n=r.findIndex(s=>s.id===t);return n===-1?null:(r[n]={...r[n],...e,updated_at:new Date().toISOString()},Zt.set("notes",r),r[n])},async searchNotes(t=Ho,e){await $i(300);const r=await this.getNotes(t),n=e.toLowerCase().split(" ");return r.filter(s=>{const a=(s.text||"").toLowerCase();return n.some(l=>a.includes(l))})}},X6={async getMessages(t=Ho){return await $i(300),(Zt.get("chatMessages")||nU()).filter(r=>r.user_id===t).sort((r,n)=>new Date(r.created_at).getTime()-new Date(n.created_at).getTime())},async createMessage(t){await $i(200);const e=Zt.get("chatMessages")||[],r={id:to(),user_id:t.user_id||Ho,role:t.role||"user",content:t.content||"",created_at:new Date().toISOString(),metadata:t.metadata};return e.push(r),Zt.set("chatMessages",e),r},async invokeAI(t,e,r=Ho){await $i(1500);const s=(await T1e.getNotes(r)).slice(0,2),a=s.length>0,l={coach:`Based on your trading performance, I can see you're maintaining discipline with a solid win rate. Your risk management approach shows maturity. To continue improving, focus on:

1. Consistency in position sizing
2. Emotional awareness before entering trades
3. Pre-trade checklist adherence

Your notes show strong understanding of market structure. Keep documenting your observations!`,pre_session:`Let's prepare for today's trading session:

**Mental Check**: How are you feeling? Rate your focus 1-10.

**Market Review**: Check the economic calendar for high-impact news.

**Strategy Selection**: Based on current market conditions, which of your strategies fits best?

**Risk Parameters**: Max risk today is 3% of account. Plan your position sizes accordingly.

Remember: Perfect execution beats perfect prediction.`,post_session:`Great session! Let's review:

**Wins**: Your disciplined stop-loss execution prevented larger losses. Entry timing on your winning trades showed patience.

**Improvements**: Consider waiting for additional confirmation on reversal setups. Your notes mention this is a recurring theme.

**Key Lesson**: Document what worked today. Your pullback strategy showed consistency.

What's the main takeaway you want to remember for tomorrow?`,psychology:`Mental game is crucial for trading success. Let me analyze your emotional patterns:

**Observation**: You've logged 'Anxious' emotions on several trades. This often precedes rushed decisions.

**Strategy**: Implement the 30-minute rule after losses (from your notes). Use this time to journal and reset.

**Strength**: Your awareness of emotional states is excellent. Most traders ignore this.

**Practice**: Before each trade, take 3 deep breaths and visualize the complete trade cycle - entry, management, exit.

Confidence comes from preparation and process, not outcomes.`,orderflow:`Let's dive into order flow concepts:

**Market Structure**: Price moves in waves - impulse and correction. Identify the current phase.

**Volume Analysis**: High volume at key levels indicates institutional activity. Your London Breakout strategy leverages this.

**Support/Resistance**: These aren't lines but zones where orders cluster. Your supply/demand notes reflect this understanding.

**Key Principle**: Price seeks liquidity. Look for areas where stops accumulate (recent highs/lows).

Your trading shows understanding of these concepts. Keep studying institutional behavior.`};return{response:l[e]||l.coach,hasKnowledgeBase:a,usedNotes:s.length>0?s:void 0}}};typeof window<"u"&&iU();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const r=H.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,...f},p)=>H.createElement("svg",{ref:p,...E1e,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${P1e(t)}`,c].join(" "),...f},[...e.map(([O,x])=>H.createElement(O,x)),...Array.isArray(h)?h:[h]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=nt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=nt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=nt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=nt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=nt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1e=nt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=nt("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=nt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=nt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=nt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=nt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1e=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=nt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=nt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=nt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=nt("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=nt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=nt("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=nt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=nt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1e=nt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=nt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=nt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=nt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=nt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=nt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=nt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=nt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1e=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=nt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=nt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=nt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=nt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=nt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=nt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=nt("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=nt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1e=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=nt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=nt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1e=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=nt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=nt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=nt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=nt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=nt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=nt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1e=nt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1e=nt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=nt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=nt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=nt("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=nt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1e=nt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=nt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=nt("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=nt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1e=nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1e=nt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1e=nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=nt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eOe=nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tOe=nt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=nt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=nt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=nt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rOe=nt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=nt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=nt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=nt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nOe=nt("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iOe=nt("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=nt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=nt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=nt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function sOe(){const[t,e]=H.useState(!0);return t?b.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-3 shadow-lg",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[b.jsx(Y6,{className:"w-5 h-5 flex-shrink-0"}),b.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[b.jsx("span",{className:"font-semibold",children:"DEMO MODE"}),b.jsx("span",{className:"hidden sm:inline text-white/90",children:""}),b.jsx("span",{className:"text-sm text-white/90",children:"Using mock data with local storage persistence. All features fully functional."})]})]}),b.jsx("button",{onClick:()=>e(!1),className:"ml-4 p-1 hover:bg-white/10 rounded transition-colors flex-shrink-0","aria-label":"Close banner",children:b.jsx(Ii,{className:"w-4 h-4"})})]})}):null}function aOe(){const t=bh(),e=[{name:"Dashboard",href:"/dashboard",icon:dU},{name:"Trades",href:"/trades",icon:Os},{name:"Library",href:"/library",icon:nh},{name:"Advanced Library",href:"/library-advanced",icon:nh,isNew:!0},{name:"Chat",href:"/chat",icon:gU},{name:"Imports & Connections",href:"/imports-connections",icon:es},{name:"Settings",href:"/settings",icon:Ma}],r=n=>t.pathname===n||t.pathname.startsWith(n+"/");return b.jsxs("aside",{className:"hidden lg:block fixed top-0 left-0 h-screen w-60 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[b.jsx("div",{className:"flex items-center h-16 px-6 border-b border-gray-200 dark:border-gray-700",children:b.jsxs(Ou,{to:"/dashboard",className:"flex items-center",children:[b.jsx(Os,{className:"h-6 w-6 text-blue-500"}),b.jsx("span",{className:"ml-3 text-lg font-normal text-gray-900 dark:text-white",children:"TradeJournal AI"})]})}),b.jsx("nav",{className:"px-3 py-6 space-y-1",children:e.map(n=>{const s=n.icon,a=r(n.href);return b.jsxs(Ou,{to:n.href,className:`flex items-center px-3 py-2.5 rounded-md text-sm font-normal transition-colors ${a?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[b.jsx(s,{className:`h-5 w-5 mr-3 ${a?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`}),n.name,n.isNew&&b.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"New"})]},n.name)})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[b.jsx("p",{className:"font-normal mb-1",children:"TradeJournal AI"}),b.jsx("p",{children:"Track & improve trading"})]})})]})}function oOe(){var _;const{user:t,signOut:e}=Bi(),{theme:r,toggleTheme:n}=JV(),s=bh(),[a,l]=H.useState(!1),[c,h]=H.useState(""),[f,p]=H.useState([]),[O,x]=H.useState(!1);H.useEffect(()=>{(async()=>{try{const E=await(await fetch("/mock-data/accounts.json")).json();p(E),E.length>0&&h(E[0].account_number)}catch(T){console.error("Error loading accounts:",T)}})()},[]),H.useEffect(()=>{const C=T=>{O&&!T.target.closest(".account-dropdown")&&x(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[O]);const k=[{name:"Dashboard",href:"/dashboard",icon:dU},{name:"Trades",href:"/trades",icon:Os},{name:"Library",href:"/strategies",icon:nh},{name:"Chat",href:"/chat",icon:gU},{name:"Settings",href:"/settings",icon:Ma}],w=C=>s.pathname===C||s.pathname.startsWith(C+"/");return b.jsxs(b.Fragment,{children:[b.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-30",children:b.jsx("div",{className:"px-4 sm:px-6",children:b.jsxs("div",{className:"flex h-16 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center flex-1 gap-3",children:[b.jsx("button",{onClick:()=>l(!a),className:"lg:hidden p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","aria-label":"Toggle menu",children:a?b.jsx(Ii,{className:"h-6 w-6"}):b.jsx(q1e,{className:"h-6 w-6"})}),b.jsxs(Ou,{to:"/dashboard",className:"lg:hidden flex items-center",children:[b.jsx(Os,{className:"h-6 w-6 text-blue-500"}),b.jsx("span",{className:"ml-2 text-base font-normal text-gray-900 dark:text-white",children:"TradeJournal AI"})]}),b.jsx("div",{className:"hidden md:flex items-center flex-1 max-w-sm",children:b.jsxs("div",{className:"relative w-full",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-3",children:"Account:"}),b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>x(!O),className:"flex items-center justify-between w-full px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm min-w-[200px]",children:[b.jsx("span",{className:"truncate",children:((_=f.find(C=>C.account_number===c))==null?void 0:_.name)||"Select Account"}),b.jsx(Zi,{className:"h-4 w-4 text-gray-400 ml-2"})]}),O&&b.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-60 overflow-auto",children:f.map(C=>b.jsx("button",{onClick:()=>{h(C.account_number),x(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:bg-gray-100 dark:focus:bg-gray-700 focus:outline-none",children:b.jsxs("div",{children:[b.jsx("div",{className:"font-medium",children:C.name}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:C.account_number})]})},C.id))})]})]})})]}),b.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[b.jsx("button",{onClick:n,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors","aria-label":"Toggle theme",children:r==="dark"?b.jsx(J6,{className:"h-5 w-5"}):b.jsx(H6,{className:"h-5 w-5"})}),b.jsxs("div",{className:"flex items-center space-x-3 pl-3 border-l border-gray-200 dark:border-gray-700",children:[b.jsx("span",{className:"hidden sm:block text-sm text-gray-600 dark:text-gray-400 font-normal",children:t==null?void 0:t.email}),b.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 transition-colors","aria-label":"Sign out",children:b.jsx(U1e,{className:"h-5 w-5"})})]})]})]})})}),a&&b.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>l(!1),children:b.jsx("div",{className:"fixed top-16 left-0 right-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-lg",onClick:C=>C.stopPropagation(),children:b.jsx("nav",{className:"px-4 py-4 space-y-1",children:k.map(C=>{const T=C.icon,E=w(C.href);return b.jsxs(Ou,{to:C.href,onClick:()=>l(!1),className:`flex items-center px-3 py-2.5 rounded-md text-sm font-normal transition-colors ${E?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[b.jsx(T,{className:`h-5 w-5 mr-3 ${E?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500"}`}),C.name]},C.name)})})})})]})}const CU=async(t,e)=>await hg.getTrades(t,e),lOe=async t=>await hg.getTradeById(t),cOe=async t=>await hg.createTrade(t),AU=async(t,e)=>await hg.updateTrade(t,e),dOe=async t=>await hg.deleteTrade(t),hOe=async t=>await hg.importTrades(t),uOe=async t=>await X6.getMessages(t),lB=async t=>await X6.createMessage(t),fOe=async(t,e,r)=>await X6.invokeAI(t,e,r),gOe=async t=>await wx.getAccounts(t),pOe=async t=>await wx.createAccount(t),mOe=async(t,e)=>await wx.updateAccount(t,e),OOe=async t=>await wx.deleteAccount(t),xOe=async t=>await wx.syncAccount(t),bOe=t=>{if(!t||t.length===0)return{netPnL:0,profitFactor:0,winRate:0,avgWin:0,avgLoss:0,largestGain:0,largestLoss:0,totalTrades:0,winningTrades:0,losingTrades:0};const e=t.filter(x=>{var k;return((k=x.outcome)==null?void 0:k.toLowerCase())==="win"}),r=t.filter(x=>{var k;return((k=x.outcome)==null?void 0:k.toLowerCase())==="loss"}),n=e.reduce((x,k)=>x+(k.pnl||0),0),s=Math.abs(r.reduce((x,k)=>x+(k.pnl||0),0)),a=t.reduce((x,k)=>x+(k.pnl||0),0),l=s===0?n:n/s,c=t.length===0?0:e.length/t.length*100,h=e.length===0?0:n/e.length,f=r.length===0?0:s/r.length,p=e.length===0?0:Math.max(...e.map(x=>x.pnl||0)),O=r.length===0?0:Math.min(...r.map(x=>x.pnl||0));return{netPnL:a,profitFactor:l,winRate:c,avgWin:h,avgLoss:f,largestGain:p,largestLoss:O,totalTrades:t.length,winningTrades:e.length,losingTrades:r.length}},Sa=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),kOe=t=>`${t.toFixed(2)}%`,yOe=t=>{const e=new Date().getHours();let r="";return e<12?r="Good Morning":e<18?r="Good Afternoon":r="Good Evening",t?`${r}, ${t}`:r},wOe=t=>{const e=t.analysis||0,r=t.execution||0,n=t.trade_management||0,s=t.risk_management||0,a=t.mindset||0,c=[e,r,n,s,a].filter(f=>f>0);if(c.length===0)return 0;const h=c.reduce((f,p)=>f+p,0)/c.length;return Number(h.toFixed(1))},vOe=t=>{if(!t||t.length===0)return{analysis:50,execution:50,tradeManagement:50,riskManagement:50,mindset:50,overall:50};const e=t.filter(k=>k.analysis||k.execution||k.trade_management||k.risk_management||k.mindset);if(e.length===0)return{analysis:50,execution:50,tradeManagement:50,riskManagement:50,mindset:50,overall:50};const r=e.filter(k=>k.analysis).map(k=>k.analysis),n=e.filter(k=>k.execution).map(k=>k.execution),s=e.filter(k=>k.trade_management).map(k=>k.trade_management),a=e.filter(k=>k.risk_management).map(k=>k.risk_management),l=e.filter(k=>k.mindset).map(k=>k.mindset),c=r.length>0?r.reduce((k,w)=>k+w,0)/r.length*20:50,h=n.length>0?n.reduce((k,w)=>k+w,0)/n.length*20:50,f=s.length>0?s.reduce((k,w)=>k+w,0)/s.length*20:50,p=a.length>0?a.reduce((k,w)=>k+w,0)/a.length*20:50,O=l.length>0?l.reduce((k,w)=>k+w,0)/l.length*20:50,x=(c+h+f+p+O)/5;return{analysis:Math.round(c),execution:Math.round(h),tradeManagement:Math.round(f),riskManagement:Math.round(p),mindset:Math.round(O),overall:Math.round(x)}},_Oe=t=>{if(!t||t.length===0)return[{date:"10/18/25",value:250},{date:"10/19/25",value:180},{date:"10/20/25",value:405},{date:"10/21/25",value:397},{date:"10/22/25",value:572},{date:"10/23/25",value:847},{date:"10/24/25",value:787},{date:"10/25/25",value:1137}];const e=[...t].sort((s,a)=>new Date(s.time).getTime()-new Date(a.time).getTime());let r=0;const n=e.map(s=>{r+=s.pnl||0;const a=new Date(s.time);return{date:`${String(a.getMonth()+1).padStart(2,"0")}/${String(a.getDate()).padStart(2,"0")}/${String(a.getFullYear()).slice(-2)}`,value:Math.round(r)}});if(n.length>20){const s=Math.floor(n.length/20);return n.filter((a,l)=>l%s===0||l===n.length-1)}return n};function U4({type:t,title:e,value:r,count:n,counts:s,progress:a,tooltip:l,pieData:c}){const h=dg(),[f,p]=H.useState(!1),O={primary:"#36C99E",negative:"#FF7070",purple:"#A990D9"},x=()=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-2 relative",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),b.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[b.jsx(of,{className:"h-4 w-4 cursor-help text-gray-600 dark:text-gray-400"}),f&&l&&b.jsxs("div",{className:"absolute left-0 top-6 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[l,b.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})]}),n&&b.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:n})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{className:"text-3xl font-bold",style:{color:O.primary},children:r}),b.jsx("div",{onClick:()=>h("/trades"),className:"w-10 h-10 rounded flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:O.purple},children:b.jsx(Os,{className:"h-5 w-5 text-white"})})]})]}),k=()=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 relative",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),b.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[b.jsx(of,{className:"h-4 w-4 cursor-help text-gray-600 dark:text-gray-400"}),f&&l&&b.jsxs("div",{className:"absolute left-0 top-6 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[l,b.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),b.jsx("div",{className:"flex-shrink-0",children:b.jsxs("svg",{width:"80",height:"45",viewBox:"0 0 80 45",children:[b.jsx("path",{d:"M 10 40 A 30 30 0 0 1 70 40",fill:"none",stroke:O.negative,strokeWidth:"10",strokeLinecap:"round"}),b.jsx("path",{d:"M 10 40 A 30 30 0 0 1 70 40",fill:"none",stroke:O.primary,strokeWidth:"10",strokeLinecap:"round",strokeDasharray:`${(a||0)/100*94.25} 94.25`})]})})]})]}),w=()=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center gap-2 relative",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),b.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[b.jsx(of,{className:"h-4 w-4 cursor-help text-gray-600 dark:text-gray-400"}),f&&l&&b.jsxs("div",{className:"absolute left-0 top-6 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:[l,b.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})]}),s&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm font-medium",style:{color:O.primary},children:s.success}),b.jsx("span",{className:"text-sm font-medium",style:{color:O.negative},children:s.failure})]})]}),b.jsxs("div",{className:"flex items-center justify-between gap-4",children:[b.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),c&&b.jsx("div",{className:"flex-shrink-0 flex items-center justify-center",style:{width:"64px",height:"64px"},children:b.jsx(B6,{width:64,height:64,children:b.jsx(Hge,{children:b.jsx(Kge,{data:c,cx:32,cy:32,innerRadius:18,outerRadius:26,paddingAngle:0,dataKey:"value",startAngle:90,endAngle:-270,children:c.map((_,C)=>b.jsx(Jge,{fill:_.color,stroke:"none"},`cell-${C}`))})})})})]})]});return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-5 border border-gray-100 dark:border-gray-700",style:{boxShadow:"0px 2px 5px rgba(0,0,0,0.05)",borderRadius:"8px"},children:[t==="netpnl"&&x(),t==="profitfactor"&&k(),t==="winrate"&&w()]})}function COe({fusionScore:t}){const[e,r]=H.useState(!1),n=t?[{subject:"Analysis",A:t.analysis,fullMark:100},{subject:"Execution",A:t.execution,fullMark:100},{subject:"Trade Management",A:t.tradeManagement,fullMark:100},{subject:"Risk Management",A:t.riskManagement,fullMark:100},{subject:"Mindset",A:t.mindset,fullMark:100}]:[{subject:"Analysis",A:50,fullMark:100},{subject:"Execution",A:50,fullMark:100},{subject:"Trade Management",A:50,fullMark:100},{subject:"Risk Management",A:50,fullMark:100},{subject:"Mindset",A:50,fullMark:100}],s=(t==null?void 0:t.overall)||50;return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4 relative",children:[b.jsx("h3",{className:"text-base font-normal text-gray-900 dark:text-white",children:"Fusion Score"}),b.jsxs("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[b.jsx(of,{className:"h-4 w-4 cursor-help text-gray-400"}),e&&b.jsxs("div",{className:"absolute left-0 top-6 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:["Fusion Score - Overall trading performance metric combining analysis, execution, trade management, risk management, and mindset (scale: 0-100)",b.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})]}),b.jsx("div",{className:"h-64",children:b.jsx(B6,{width:"100%",height:"100%",children:b.jsxs(epe,{data:n,children:[b.jsx(tpe,{stroke:"#e5e7eb",strokeOpacity:.3}),b.jsx(rpe,{dataKey:"subject",tick:{fill:"#6b7280",fontSize:10}}),b.jsx(npe,{angle:90,domain:[0,100],tick:!1}),b.jsx(ipe,{name:"Score",dataKey:"A",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})}),b.jsx("div",{className:"text-center mt-4",children:b.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400",children:["Your Fusion Score:"," ",b.jsx("span",{className:"font-bold text-green-600",children:s.toFixed(1)})]})})]})}function AOe({data:t}){const[e,r]=H.useState(!1),n=t||[{date:"10/18/25",value:250},{date:"10/19/25",value:180},{date:"10/20/25",value:405},{date:"10/21/25",value:397},{date:"10/22/25",value:572},{date:"10/23/25",value:847},{date:"10/24/25",value:787},{date:"10/25/25",value:1137}],s=n.map(p=>p.value),a=Math.min(...s,0),l=Math.max(...s,0),c=Math.max(Math.abs(l-a)*.2,1e3),h=Math.floor((a-c)/1e3)*1e3,f=Math.ceil((l+c)/1e3)*1e3;return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4 relative",children:[b.jsx("h3",{className:"text-base font-normal text-gray-900 dark:text-white",children:"Daily Net Cumulative P&L"}),b.jsxs("div",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[b.jsx(of,{className:"h-4 w-4 cursor-help text-gray-400"}),e&&b.jsxs("div",{className:"absolute left-0 top-6 z-10 w-64 p-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg",children:["Cumulative P&L - Running total of all profits and losses over time, showing overall trading performance",b.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})]}),b.jsx("div",{className:"h-64",children:b.jsx(B6,{width:"100%",height:"100%",children:b.jsxs(spe,{data:n,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorPnL",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.05})]})}),b.jsx(ape,{strokeDasharray:"2 4",stroke:"#e5e7eb",strokeOpacity:.3}),b.jsx(ope,{dataKey:"date",tick:{fill:"#6b7280",fontSize:10},tickLine:!1}),b.jsx(lpe,{domain:[h,f],tick:{fill:"#6b7280",fontSize:11},tickLine:!1,tickFormatter:p=>Math.abs(p)>=1e3?`$${(p/1e3).toFixed(0)}K`:`$${p}`}),b.jsx(cpe,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:p=>[`$${p.toLocaleString()}`,"P&L"]}),b.jsx(dpe,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2.5,fill:"url(#colorPnL)",fillOpacity:1})]})})})]})}function SOe({trades:t}){const e=dg(),[r,n]=H.useState(new Date),s=r.getFullYear(),a=r.getMonth(),l={primary:"#36C99E",negative:"#FF7070",darkGray:"#1A1A1A"},c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Total"],p=(()=>{const Q=new Date(s,a+1,0).getDate(),B=new Date(s,a,1).getDay(),R=B===0?6:B-1,M={};t.forEach(z=>{const X=new Date(z.time);if(X.getFullYear()===s&&X.getMonth()===a){const W=X.getDate().toString();M[W]||(M[W]=[]),M[W].push(z)}});const I=[];let j=[];for(let z=0;z<R;z++)j.push(null);for(let z=1;z<=Q;z++){const X=M[z.toString()]||[],W=X.reduce((F,V)=>F+(V.pnl||0),0);if(j.push({date:z,pnl:W,trades:X.length}),j.length===7||z===Q){for(;j.length<7;)j.push(null);I.push([...j]),j=[]}}return I})(),x=p.map((Q,B)=>{var X,W;const R=Q.reduce((F,V)=>F+((V==null?void 0:V.pnl)||0),0),M=Q.reduce((F,V)=>F+((V==null?void 0:V.trades)||0),0),I=Q.filter(F=>F!==null),j=(X=I[0])==null?void 0:X.date,z=(W=I[I.length-1])==null?void 0:W.date;return{label:`Week ${B+1}`,pnl:R,trades:M,startDate:j?`${s}-${String(a+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`:null,endDate:z?`${s}-${String(a+1).padStart(2,"0")}-${String(z).padStart(2,"0")}`:null}}),k=t.filter(Q=>{const B=new Date(Q.time);return B.getFullYear()===s&&B.getMonth()===a}).reduce((Q,B)=>Q+(B.pnl||0),0),w=()=>{n(new Date(s,a-1,1))},_=()=>{n(new Date(s,a+1,1))},C=Q=>{const B=`${s}-${String(a+1).padStart(2,"0")}-${String(Q).padStart(2,"0")}`;e(`/trades?date=${B}`)},T=(Q,B)=>{Q&&B&&e(`/trades?startDate=${Q}&endDate=${B}`)},E=Q=>{if(Q===0)return"$0";const B=Math.abs(Q),R=Q<0?"-":"+";return B>=1e3?`${R}$${(B/1e3).toFixed(1)}k`:`${R}$${B.toFixed(0)}`},P=Q=>Q>0?l.primary:Q<0?l.negative:l.darkGray;return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-100 dark:border-gray-700",style:{boxShadow:"0px 2px 5px rgba(0,0,0,0.05)"},children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx($1e,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),b.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[c[a]," ",s]}),b.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(W6,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})]}),b.jsxs("div",{onClick:()=>{const Q=new Date(s,a,1).toISOString().split("T")[0],B=new Date(s,a+1,0).toISOString().split("T")[0];e(`/trades?startDate=${Q}&endDate=${B}`)},className:"text-lg font-semibold cursor-pointer hover:opacity-80 transition-opacity",style:{color:k>=0?l.primary:l.negative},title:"Click to view trades for this month",children:["Monthly P&L: ",E(k)]})]}),b.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[b.jsx("div",{className:"grid grid-cols-8 bg-gray-50 dark:bg-gray-700/50",children:h.map((Q,B)=>b.jsx("div",{className:"px-3 py-3 text-sm font-medium border-r border-gray-200 dark:border-gray-700 last:border-r-0 text-gray-600 dark:text-gray-300",children:Q},Q))}),p.map((Q,B)=>b.jsxs("div",{className:"grid grid-cols-8 border-t border-gray-200 dark:border-gray-700",children:[Q.map((R,M)=>b.jsx("div",{onClick:()=>R&&R.trades>0&&C(R.date),className:`relative min-h-[100px] p-3 border-r border-gray-200 dark:border-gray-700 ${R&&R.trades>0?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors":""}`,children:R&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:String(R.date).padStart(2,"0")}),R.trades>0&&b.jsx(Yr,{className:"h-4 w-4 transition-colors text-gray-400 dark:text-gray-500"})]}),R.trades>0&&b.jsxs("div",{className:"space-y-1",children:[b.jsx("p",{className:"text-sm font-semibold",style:{color:P(R.pnl)},children:E(R.pnl)}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.trades," trade",R.trades!==1?"s":""]})]})]})},M)),b.jsx("div",{onClick:()=>x[B].trades>0&&T(x[B].startDate,x[B].endDate),className:`relative min-h-[100px] p-3 bg-gray-50 dark:bg-gray-700/50 ${x[B].trades>0?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors":""}`,children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsx("span",{className:"text-sm font-bold mb-2 text-gray-600 dark:text-gray-300",children:x[B].label}),x[B].trades>0&&b.jsxs("div",{className:"space-y-1 mt-auto",children:[b.jsx("p",{className:"text-sm font-semibold",style:{color:P(x[B].pnl)},children:E(x[B].pnl)}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[x[B].trades," trade",x[B].trades!==1?"s":""]})]})]})})]},B))]}),t.length===0&&b.jsx("div",{className:"text-center py-12",children:b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No trades to display. Start trading to see your calendar!"})})]})}const TOe="https://jtxuxessjppnlhpvjuah.supabase.co",EOe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0eHV4ZXNzanBwbmxocHZqdWFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5ODY1OTYsImV4cCI6MjA3NzU2MjU5Nn0.oLlVjdm8gfZYVDttHOwZ0t7n4FKmvUGz5InaNAqPO8s",Ft=$V(TOe,EOe),POe=()=>!!Ft;function cB(t,[e,r]){return Math.min(r,Math.max(e,t))}function DOe(t){const e=H.useRef({value:t,previous:t});return H.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QOe="VisuallyHidden",$Oe=H.forwardRef((t,e)=>b.jsx(ii.span,{...t,ref:e,style:{...SU,...t.style}}));$Oe.displayName=QOe;var MOe=[" ","Enter","ArrowUp","ArrowDown"],ROe=[" ","Enter"],_u="Select",[AC,SC,NOe]=Vge(_u),[ug]=M6(_u,[NOe,mC]),TC=mC(),[BOe,wh]=ug(_u),[IOe,jOe]=ug(_u),TU=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:l,defaultValue:c,onValueChange:h,dir:f,name:p,autoComplete:O,disabled:x,required:k,form:w}=t,_=TC(e),[C,T]=H.useState(null),[E,P]=H.useState(null),[Q,B]=H.useState(!1),R=xV(f),[M,I]=z2({prop:n,defaultProp:s??!1,onChange:a,caller:_u}),[j,z]=z2({prop:l,defaultProp:c,onChange:h,caller:_u}),X=H.useRef(null),W=C?w||!!C.closest("form"):!0,[F,V]=H.useState(new Set),te=Array.from(F).map(G=>G.props.value).join(";");return b.jsx(bV,{..._,children:b.jsxs(BOe,{required:k,scope:e,trigger:C,onTriggerChange:T,valueNode:E,onValueNodeChange:P,valueNodeHasChildren:Q,onValueNodeHasChildrenChange:B,contentId:kx(),value:j,onValueChange:z,open:M,onOpenChange:I,dir:R,triggerPointerDownPosRef:X,disabled:x,children:[b.jsx(AC.Provider,{scope:e,children:b.jsx(IOe,{scope:t.__scopeSelect,onNativeOptionAdd:H.useCallback(G=>{V(J=>new Set(J).add(G))},[]),onNativeOptionRemove:H.useCallback(G=>{V(J=>{const oe=new Set(J);return oe.delete(G),oe})},[]),children:r})}),W?b.jsxs(KU,{"aria-hidden":!0,required:k,tabIndex:-1,name:p,autoComplete:O,value:j,onChange:G=>z(G.target.value),disabled:x,form:w,children:[j===void 0?b.jsx("option",{value:""}):null,Array.from(F)]},te):null]})})};TU.displayName=_u;var EU="SelectTrigger",PU=H.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=TC(r),l=wh(EU,r),c=l.disabled||n,h=xo(e,l.onTriggerChange),f=SC(r),p=H.useRef("touch"),[O,x,k]=eq(_=>{const C=f().filter(P=>!P.disabled),T=C.find(P=>P.value===l.value),E=tq(C,_,T);E!==void 0&&l.onValueChange(E.value)}),w=_=>{c||(l.onOpenChange(!0),k()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return b.jsx(R6,{asChild:!0,...a,children:b.jsx(ii.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":JU(l.value)?"":void 0,...s,ref:h,onClick:vn(s.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&w(_)}),onPointerDown:vn(s.onPointerDown,_=>{p.current=_.pointerType;const C=_.target;C.hasPointerCapture(_.pointerId)&&C.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(w(_),_.preventDefault())}),onKeyDown:vn(s.onKeyDown,_=>{const C=O.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(C&&_.key===" ")&&MOe.includes(_.key)&&(w(),_.preventDefault())})})})});PU.displayName=EU;var DU="SelectValue",QU=H.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:l="",...c}=t,h=wh(DU,r),{onValueNodeHasChildrenChange:f}=h,p=a!==void 0,O=xo(e,h.onValueNodeChange);return rh(()=>{f(p)},[f,p]),b.jsx(ii.span,{...c,ref:O,style:{pointerEvents:"none"},children:JU(h.value)?b.jsx(b.Fragment,{children:l}):a})});QU.displayName=DU;var FOe="SelectIcon",$U=H.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return b.jsx(ii.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});$U.displayName=FOe;var LOe="SelectPortal",MU=t=>b.jsx(cV,{asChild:!0,...t});MU.displayName=LOe;var Cu="SelectContent",RU=H.forwardRef((t,e)=>{const r=wh(Cu,t.__scopeSelect),[n,s]=H.useState();if(rh(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?dV.createPortal(b.jsx(NU,{scope:t.__scopeSelect,children:b.jsx(AC.Slot,{scope:t.__scopeSelect,children:b.jsx("div",{children:t.children})})}),a):null}return b.jsx(BU,{...t,ref:e})});RU.displayName=Cu;var Io=10,[NU,vh]=ug(Cu),zOe="SelectContentImpl",XOe=gV("SelectContent.RemoveScroll"),BU=H.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:h,align:f,alignOffset:p,arrowPadding:O,collisionBoundary:x,collisionPadding:k,sticky:w,hideWhenDetached:_,avoidCollisions:C,...T}=t,E=wh(Cu,r),[P,Q]=H.useState(null),[B,R]=H.useState(null),M=xo(e,ke=>Q(ke)),[I,j]=H.useState(null),[z,X]=H.useState(null),W=SC(r),[F,V]=H.useState(!1),te=H.useRef(!1);H.useEffect(()=>{if(P)return hV(P)},[P]),uV();const G=H.useCallback(ke=>{const[Ce,...De]=W().map(de=>de.ref.current),[Pe]=De.slice(-1),Ee=document.activeElement;for(const de of ke)if(de===Ee||(de==null||de.scrollIntoView({block:"nearest"}),de===Ce&&B&&(B.scrollTop=0),de===Pe&&B&&(B.scrollTop=B.scrollHeight),de==null||de.focus(),document.activeElement!==Ee))return},[W,B]),J=H.useCallback(()=>G([I,P]),[G,I,P]);H.useEffect(()=>{F&&J()},[F,J]);const{onOpenChange:oe,triggerPointerDownPosRef:ie}=E;H.useEffect(()=>{if(P){let ke={x:0,y:0};const Ce=Pe=>{var Ee,de;ke={x:Math.abs(Math.round(Pe.pageX)-(((Ee=ie.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((de=ie.current)==null?void 0:de.y)??0))}},De=Pe=>{ke.x<=10&&ke.y<=10?Pe.preventDefault():P.contains(Pe.target)||oe(!1),document.removeEventListener("pointermove",Ce),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",De,{capture:!0})}}},[P,oe,ie]),H.useEffect(()=>{const ke=()=>oe(!1);return window.addEventListener("blur",ke),window.addEventListener("resize",ke),()=>{window.removeEventListener("blur",ke),window.removeEventListener("resize",ke)}},[oe]);const[be,he]=eq(ke=>{const Ce=W().filter(Ee=>!Ee.disabled),De=Ce.find(Ee=>Ee.ref.current===document.activeElement),Pe=tq(Ce,ke,De);Pe&&setTimeout(()=>Pe.ref.current.focus())}),re=H.useCallback((ke,Ce,De)=>{const Pe=!te.current&&!De;(E.value!==void 0&&E.value===Ce||Pe)&&(j(ke),Pe&&(te.current=!0))},[E.value]),ae=H.useCallback(()=>P==null?void 0:P.focus(),[P]),K=H.useCallback((ke,Ce,De)=>{const Pe=!te.current&&!De;(E.value!==void 0&&E.value===Ce||Pe)&&X(ke)},[E.value]),ce=n==="popper"?G3:IU,ye=ce===G3?{side:c,sideOffset:h,align:f,alignOffset:p,arrowPadding:O,collisionBoundary:x,collisionPadding:k,sticky:w,hideWhenDetached:_,avoidCollisions:C}:{};return b.jsx(NU,{scope:r,content:P,viewport:B,onViewportChange:R,itemRefCallback:re,selectedItem:I,onItemLeave:ae,itemTextRefCallback:K,focusSelectedItem:J,selectedItemText:z,position:n,isPositioned:F,searchRef:be,children:b.jsx(fV,{as:XOe,allowPinchZoom:!0,children:b.jsx(pV,{asChild:!0,trapped:E.open,onMountAutoFocus:ke=>{ke.preventDefault()},onUnmountAutoFocus:vn(s,ke=>{var Ce;(Ce=E.trigger)==null||Ce.focus({preventScroll:!0}),ke.preventDefault()}),children:b.jsx(mV,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ke=>ke.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:b.jsx(ce,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ke=>ke.preventDefault(),...T,...ye,onPlaced:()=>V(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:vn(T.onKeyDown,ke=>{const Ce=ke.ctrlKey||ke.altKey||ke.metaKey;if(ke.key==="Tab"&&ke.preventDefault(),!Ce&&ke.key.length===1&&he(ke.key),["ArrowUp","ArrowDown","Home","End"].includes(ke.key)){let Pe=W().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ke.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ke.key)){const Ee=ke.target,de=Pe.indexOf(Ee);Pe=Pe.slice(de+1)}setTimeout(()=>G(Pe)),ke.preventDefault()}})})})})})})});BU.displayName=zOe;var VOe="SelectItemAlignedPosition",IU=H.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=wh(Cu,r),l=vh(Cu,r),[c,h]=H.useState(null),[f,p]=H.useState(null),O=xo(e,M=>p(M)),x=SC(r),k=H.useRef(!1),w=H.useRef(!0),{viewport:_,selectedItem:C,selectedItemText:T,focusSelectedItem:E}=l,P=H.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&f&&_&&C&&T){const M=a.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),z=T.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=z.left-I.left,de=j.left-Ee,Re=M.left-de,Be=M.width+Re,He=Math.max(Be,I.width),Ye=window.innerWidth-Io,Ze=cB(de,[Io,Math.max(Io,Ye-He)]);c.style.minWidth=Be+"px",c.style.left=Ze+"px"}else{const Ee=I.right-z.right,de=window.innerWidth-j.right-Ee,Re=window.innerWidth-M.right-de,Be=M.width+Re,He=Math.max(Be,I.width),Ye=window.innerWidth-Io,Ze=cB(de,[Io,Math.max(Io,Ye-He)]);c.style.minWidth=Be+"px",c.style.right=Ze+"px"}const X=x(),W=window.innerHeight-Io*2,F=_.scrollHeight,V=window.getComputedStyle(f),te=parseInt(V.borderTopWidth,10),G=parseInt(V.paddingTop,10),J=parseInt(V.borderBottomWidth,10),oe=parseInt(V.paddingBottom,10),ie=te+G+F+oe+J,be=Math.min(C.offsetHeight*5,ie),he=window.getComputedStyle(_),re=parseInt(he.paddingTop,10),ae=parseInt(he.paddingBottom,10),K=M.top+M.height/2-Io,ce=W-K,ye=C.offsetHeight/2,ke=C.offsetTop+ye,Ce=te+G+ke,De=ie-Ce;if(Ce<=K){const Ee=X.length>0&&C===X[X.length-1].ref.current;c.style.bottom="0px";const de=f.clientHeight-_.offsetTop-_.offsetHeight,Re=Math.max(ce,ye+(Ee?ae:0)+de+J),Be=Ce+Re;c.style.height=Be+"px"}else{const Ee=X.length>0&&C===X[0].ref.current;c.style.top="0px";const Re=Math.max(K,te+_.offsetTop+(Ee?re:0)+ye)+De;c.style.height=Re+"px",_.scrollTop=Ce-K+_.offsetTop}c.style.margin=`${Io}px 0`,c.style.minHeight=be+"px",c.style.maxHeight=W+"px",n==null||n(),requestAnimationFrame(()=>k.current=!0)}},[x,a.trigger,a.valueNode,c,f,_,C,T,a.dir,n]);rh(()=>P(),[P]);const[Q,B]=H.useState();rh(()=>{f&&B(window.getComputedStyle(f).zIndex)},[f]);const R=H.useCallback(M=>{M&&w.current===!0&&(P(),E==null||E(),w.current=!1)},[P,E]);return b.jsx(qOe,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:k,onScrollButtonChange:R,children:b.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Q},children:b.jsx(ii.div,{...s,ref:O,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});IU.displayName=VOe;var UOe="SelectPopperPosition",G3=H.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Io,...a}=t,l=TC(r);return b.jsx(OV,{...l,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G3.displayName=UOe;var[qOe,eP]=ug(Cu,{}),H3="SelectViewport",jU=H.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=vh(H3,r),l=eP(H3,r),c=xo(e,a.onViewportChange),h=H.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),b.jsx(AC.Slot,{scope:r,children:b.jsx(ii.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:vn(s.onScroll,f=>{const p=f.currentTarget,{contentWrapper:O,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&O){const k=Math.abs(h.current-p.scrollTop);if(k>0){const w=window.innerHeight-Io*2,_=parseFloat(O.style.minHeight),C=parseFloat(O.style.height),T=Math.max(_,C);if(T<w){const E=T+k,P=Math.min(w,E),Q=E-P;O.style.height=P+"px",O.style.bottom==="0px"&&(p.scrollTop=Q>0?Q:0,O.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});jU.displayName=H3;var FU="SelectGroup",[WOe,YOe]=ug(FU),ZOe=H.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=kx();return b.jsx(WOe,{scope:r,id:s,children:b.jsx(ii.div,{role:"group","aria-labelledby":s,...n,ref:e})})});ZOe.displayName=FU;var LU="SelectLabel",zU=H.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=YOe(LU,r);return b.jsx(ii.div,{id:s.id,...n,ref:e})});zU.displayName=LU;var W2="SelectItem",[GOe,XU]=ug(W2),VU=H.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...l}=t,c=wh(W2,r),h=vh(W2,r),f=c.value===n,[p,O]=H.useState(a??""),[x,k]=H.useState(!1),w=xo(e,E=>{var P;return(P=h.itemRefCallback)==null?void 0:P.call(h,E,n,s)}),_=kx(),C=H.useRef("touch"),T=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(GOe,{scope:r,value:n,disabled:s,textId:_,isSelected:f,onItemTextChange:H.useCallback(E=>{O(P=>P||((E==null?void 0:E.textContent)??"").trim())},[]),children:b.jsx(AC.ItemSlot,{scope:r,value:n,disabled:s,textValue:p,children:b.jsx(ii.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:vn(l.onFocus,()=>k(!0)),onBlur:vn(l.onBlur,()=>k(!1)),onClick:vn(l.onClick,()=>{C.current!=="mouse"&&T()}),onPointerUp:vn(l.onPointerUp,()=>{C.current==="mouse"&&T()}),onPointerDown:vn(l.onPointerDown,E=>{C.current=E.pointerType}),onPointerMove:vn(l.onPointerMove,E=>{var P;C.current=E.pointerType,s?(P=h.onItemLeave)==null||P.call(h):C.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vn(l.onPointerLeave,E=>{var P;E.currentTarget===document.activeElement&&((P=h.onItemLeave)==null||P.call(h))}),onKeyDown:vn(l.onKeyDown,E=>{var Q;((Q=h.searchRef)==null?void 0:Q.current)!==""&&E.key===" "||(ROe.includes(E.key)&&T(),E.key===" "&&E.preventDefault())})})})})});VU.displayName=W2;var Q1="SelectItemText",UU=H.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,l=wh(Q1,r),c=vh(Q1,r),h=XU(Q1,r),f=jOe(Q1,r),[p,O]=H.useState(null),x=xo(e,T=>O(T),h.onItemTextChange,T=>{var E;return(E=c.itemTextRefCallback)==null?void 0:E.call(c,T,h.value,h.disabled)}),k=p==null?void 0:p.textContent,w=H.useMemo(()=>b.jsx("option",{value:h.value,disabled:h.disabled,children:k},h.value),[h.disabled,h.value,k]),{onNativeOptionAdd:_,onNativeOptionRemove:C}=f;return rh(()=>(_(w),()=>C(w)),[_,C,w]),b.jsxs(b.Fragment,{children:[b.jsx(ii.span,{id:h.textId,...a,ref:x}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?dV.createPortal(a.children,l.valueNode):null]})});UU.displayName=Q1;var qU="SelectItemIndicator",WU=H.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return XU(qU,r).isSelected?b.jsx(ii.span,{"aria-hidden":!0,...n,ref:e}):null});WU.displayName=qU;var K3="SelectScrollUpButton",YU=H.forwardRef((t,e)=>{const r=vh(K3,t.__scopeSelect),n=eP(K3,t.__scopeSelect),[s,a]=H.useState(!1),l=xo(e,n.onScrollButtonChange);return rh(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=h.scrollTop>0;a(f)};const h=r.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?b.jsx(GU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=r;c&&h&&(c.scrollTop=c.scrollTop-h.offsetHeight)}}):null});YU.displayName=K3;var J3="SelectScrollDownButton",ZU=H.forwardRef((t,e)=>{const r=vh(J3,t.__scopeSelect),n=eP(J3,t.__scopeSelect),[s,a]=H.useState(!1),l=xo(e,n.onScrollButtonChange);return rh(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;a(p)};const h=r.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?b.jsx(GU,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=r;c&&h&&(c.scrollTop=c.scrollTop+h.offsetHeight)}}):null});ZU.displayName=J3;var GU=H.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=vh("SelectScrollButton",r),l=H.useRef(null),c=SC(r),h=H.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return H.useEffect(()=>()=>h(),[h]),rh(()=>{var p;const f=c().find(O=>O.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),b.jsx(ii.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:vn(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:vn(s.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:vn(s.onPointerLeave,()=>{h()})})}),HOe="SelectSeparator",HU=H.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return b.jsx(ii.div,{"aria-hidden":!0,...n,ref:e})});HU.displayName=HOe;var eT="SelectArrow",KOe=H.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=TC(r),a=wh(eT,r),l=vh(eT,r);return a.open&&l.position==="popper"?b.jsx(kV,{...s,...n,ref:e}):null});KOe.displayName=eT;var JOe="SelectBubbleInput",KU=H.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=H.useRef(null),a=xo(n,s),l=DOe(e);return H.useEffect(()=>{const c=s.current;if(!c)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==e&&p){const O=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(O)}},[l,e]),b.jsx(ii.select,{...r,style:{...SU,...r.style},ref:a,defaultValue:e})});KU.displayName=JOe;function JU(t){return t===""||t===void 0}function eq(t){const e=Uge(t),r=H.useRef(""),n=H.useRef(0),s=H.useCallback(l=>{const c=r.current+l;e(c),(function h(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>h(""),1e3))})(c)},[e]),a=H.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return H.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function tq(t,e,r){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let l=exe(t,Math.max(a,0));s.length===1&&(l=l.filter(f=>f!==r));const h=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==r?h:void 0}function exe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var txe=TU,rq=PU,rxe=QU,nxe=$U,ixe=MU,nq=RU,sxe=jU,iq=zU,sq=VU,axe=UU,oxe=WU,aq=YU,oq=ZU,lq=HU;const tP="-",lxe=t=>{const e=dxe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const c=l.split(tP);return c[0]===""&&c.length!==1&&c.shift(),cq(c,e)||cxe(l)},getConflictingClassGroupIds:(l,c)=>{const h=r[l]||[];return c&&n[l]?[...h,...n[l]]:h}}},cq=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?cq(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(tP);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},dB=/^\[(.+)\]$/,cxe=t=>{if(dB.test(t)){const e=dB.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},dxe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return uxe(Object.entries(t.classGroups),r).forEach(([a,l])=>{tT(l,n,a,e)}),n},tT=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:hB(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(hxe(s)){tT(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,l])=>{tT(l,hB(e,a),r,n)})})},hB=(t,e)=>{let r=t;return e.split(tP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hxe=t=>t.isThemeGetter,uxe=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[r,s]}):t,fxe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set(a,l){r.has(a)?r.set(a,l):s(a,l)}}},dq="!",gxe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,l=c=>{const h=[];let f=0,p=0,O;for(let C=0;C<c.length;C++){let T=c[C];if(f===0){if(T===s&&(n||c.slice(C,C+a)===e)){h.push(c.slice(p,C)),p=C+a;continue}if(T==="/"){O=C;continue}}T==="["?f++:T==="]"&&f--}const x=h.length===0?c:c.substring(p),k=x.startsWith(dq),w=k?x.substring(1):x,_=O&&O>p?O-p:void 0;return{modifiers:h,hasImportantModifier:k,baseClassName:w,maybePostfixModifierPosition:_}};return r?c=>r({className:c,parseClassName:l}):l},pxe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},mxe=t=>({cache:fxe(t.cacheSize),parseClassName:gxe(t),...lxe(t)}),Oxe=/\s+/,xxe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],l=t.trim().split(Oxe);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{modifiers:p,hasImportantModifier:O,baseClassName:x,maybePostfixModifierPosition:k}=r(f);let w=!!k,_=n(w?x.substring(0,k):x);if(!_){if(!w){c=f+(c.length>0?" "+c:c);continue}if(_=n(x),!_){c=f+(c.length>0?" "+c:c);continue}w=!1}const C=pxe(p).join(":"),T=O?C+dq:C,E=T+_;if(a.includes(E))continue;a.push(E);const P=s(_,w);for(let Q=0;Q<P.length;++Q){const B=P[Q];a.push(T+B)}c=f+(c.length>0?" "+c:c)}return c};function bxe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=hq(e))&&(n&&(n+=" "),n+=r);return n}const hq=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=hq(t[n]))&&(r&&(r+=" "),r+=e);return r};function kxe(t,...e){let r,n,s,a=l;function l(h){const f=e.reduce((p,O)=>O(p),t());return r=mxe(f),n=r.cache.get,s=r.cache.set,a=c,c(h)}function c(h){const f=n(h);if(f)return f;const p=xxe(h,r);return s(h,p),p}return function(){return a(bxe.apply(null,arguments))}}const bn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},uq=/^\[(?:([a-z-]+):)?(.+)\]$/i,yxe=/^\d+\/\d+$/,wxe=new Set(["px","full","screen"]),vxe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_xe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cxe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Axe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sxe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gc=t=>df(t)||wxe.has(t)||yxe.test(t),Cd=t=>fg(t,"length",Rxe),df=t=>!!t&&!Number.isNaN(Number(t)),q4=t=>fg(t,"number",df),s1=t=>!!t&&Number.isInteger(Number(t)),Txe=t=>t.endsWith("%")&&df(t.slice(0,-1)),xr=t=>uq.test(t),Ad=t=>vxe.test(t),Exe=new Set(["length","size","percentage"]),Pxe=t=>fg(t,Exe,fq),Dxe=t=>fg(t,"position",fq),Qxe=new Set(["image","url"]),$xe=t=>fg(t,Qxe,Bxe),Mxe=t=>fg(t,"",Nxe),a1=()=>!0,fg=(t,e,r)=>{const n=uq.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Rxe=t=>_xe.test(t)&&!Cxe.test(t),fq=()=>!1,Nxe=t=>Axe.test(t),Bxe=t=>Sxe.test(t),Ixe=()=>{const t=bn("colors"),e=bn("spacing"),r=bn("blur"),n=bn("brightness"),s=bn("borderColor"),a=bn("borderRadius"),l=bn("borderSpacing"),c=bn("borderWidth"),h=bn("contrast"),f=bn("grayscale"),p=bn("hueRotate"),O=bn("invert"),x=bn("gap"),k=bn("gradientColorStops"),w=bn("gradientColorStopPositions"),_=bn("inset"),C=bn("margin"),T=bn("opacity"),E=bn("padding"),P=bn("saturate"),Q=bn("scale"),B=bn("sepia"),R=bn("skew"),M=bn("space"),I=bn("translate"),j=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",xr,e],W=()=>[xr,e],F=()=>["",gc,Cd],V=()=>["auto",df,xr],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",xr],be=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[df,xr];return{cacheSize:500,separator:":",theme:{colors:[a1],spacing:[gc,Cd],blur:["none","",Ad,xr],brightness:he(),borderColor:[t],borderRadius:["none","","full",Ad,xr],borderSpacing:W(),borderWidth:F(),contrast:he(),grayscale:ie(),hueRotate:he(),invert:ie(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[Txe,Cd],inset:X(),margin:X(),opacity:he(),padding:W(),saturate:he(),scale:he(),sepia:ie(),skew:he(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",xr]}],container:["container"],columns:[{columns:[Ad]}],"break-after":[{"break-after":be()}],"break-before":[{"break-before":be()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),xr]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",s1,xr]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xr]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",s1,xr]}],"grid-cols":[{"grid-cols":[a1]}],"col-start-end":[{col:["auto",{span:["full",s1,xr]},xr]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[a1]}],"row-start-end":[{row:["auto",{span:[s1,xr]},xr]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xr]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...oe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...oe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...oe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xr,e]}],"min-w":[{"min-w":[xr,e,"min","max","fit"]}],"max-w":[{"max-w":[xr,e,"none","full","min","max","fit","prose",{screen:[Ad]},Ad]}],h:[{h:[xr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ad,Cd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q4]}],"font-family":[{font:[a1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xr]}],"line-clamp":[{"line-clamp":["none",df,q4]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gc,xr]}],"list-image":[{"list-image":["none",xr]}],"list-style-type":[{list:["none","disc","decimal",xr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gc,Cd]}],"underline-offset":[{"underline-offset":["auto",gc,xr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),Dxe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pxe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$xe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[gc,xr]}],"outline-w":[{outline:[gc,Cd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[gc,Cd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ad,Mxe]}],"shadow-color":[{shadow:[a1]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ad,xr]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[O]}],saturate:[{saturate:[P]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[O]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xr]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",xr]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",xr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[s1,xr]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gc,Cd,q4]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jxe=kxe(Ixe);function pa(...t){return jxe(wV(t))}const J1=txe,eO=rxe,hf=H.forwardRef(({className:t,children:e,...r},n)=>b.jsxs(rq,{ref:n,className:pa("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:[e,b.jsx(nxe,{asChild:!0,children:b.jsx(Zi,{className:"h-4 w-4 opacity-50"})})]}));hf.displayName=rq.displayName;const gq=H.forwardRef(({className:t,...e},r)=>b.jsx(aq,{ref:r,className:pa("flex cursor-default items-center justify-center py-1",t),...e,children:b.jsx(nu,{className:"h-4 w-4"})}));gq.displayName=aq.displayName;const pq=H.forwardRef(({className:t,...e},r)=>b.jsx(oq,{ref:r,className:pa("flex cursor-default items-center justify-center py-1",t),...e,children:b.jsx(Zi,{className:"h-4 w-4"})}));pq.displayName=oq.displayName;const uf=H.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>b.jsx(ixe,{children:b.jsxs(nq,{ref:s,className:pa("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[b.jsx(gq,{}),b.jsx(sxe,{className:pa("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),b.jsx(pq,{})]})}));uf.displayName=nq.displayName;const Fxe=H.forwardRef(({className:t,...e},r)=>b.jsx(iq,{ref:r,className:pa("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Fxe.displayName=iq.displayName;const ia=H.forwardRef(({className:t,children:e,...r},n)=>b.jsxs(sq,{ref:n,className:pa("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 dark:focus:bg-gray-700 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(oxe,{children:b.jsx(q6,{className:"h-4 w-4"})})}),b.jsx(axe,{children:e})]}));ia.displayName=sq.displayName;const Lxe=H.forwardRef(({className:t,...e},r)=>b.jsx(lq,{ref:r,className:pa("-mx-1 my-1 h-px bg-gray-200 dark:bg-gray-700",t),...e}));Lxe.displayName=lq.displayName;function mq({value:t,onChange:e}){const{user:r}=Bi(),[n,s]=H.useState([]),[a,l]=H.useState(!0);H.useEffect(()=>{c()},[r]);const c=async()=>{if(!POe()||!Ft){s([{id:"1",name:"Main Trading Account",account_number:"12345678"},{id:"2",name:"Demo Account",account_number:"87654321"}]),l(!1);return}try{const{data:h,error:f}=await Ft.from("accounts").select("id, name, account_number").eq("user_id",r==null?void 0:r.id).eq("is_connected",!0).order("created_at",{ascending:!1});if(f)throw f;s(h||[])}catch(h){console.error("Load accounts error:",h),s([])}finally{l(!1)}};return a?b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading accounts..."})}):n.length===0?null:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filter by Account:"}),b.jsxs(J1,{value:t,onValueChange:e,children:[b.jsx(hf,{className:"w-64",children:b.jsx(eO,{placeholder:"Select account"})}),b.jsxs(uf,{children:[b.jsx(ia,{value:"all",children:"All Accounts"}),n.map(h=>b.jsxs(ia,{value:h.account_number,children:[h.name," (",h.account_number,")"]},h.id))]})]})]})}function zxe(){var P;const{user:t}=Bi(),[e,r]=H.useState("month"),[n,s]=H.useState("all"),[a,l]=H.useState([]),[c,h]=H.useState([]),[f,p]=H.useState(!0),[O,x]=H.useState(null),[k,w]=H.useState(null),[_,C]=H.useState([]),T={primary:"#36C99E",negative:"#FF7070"};H.useEffect(()=>{E()},[t,n,e]);const E=async()=>{if(t){p(!0);try{let Q=[];try{Q=await CU(t.id)}catch{Q=await(await fetch("/data/mockTrades.json")).json()}h(Q);let B=[...Q];if(n&&n!=="all"&&(B=B.filter(j=>j.account_number===n)),e!=="all"){const j=new Date,z=new Date(j.getFullYear(),j.getMonth(),j.getDate());let X;if(e==="day")X=z;else if(e==="week"){const W=j.getDay(),F=W===0?6:W-1;X=new Date(z),X.setDate(X.getDate()-F)}else e==="month"?X=new Date(j.getFullYear(),j.getMonth(),1):X=new Date(0);B=B.filter(W=>new Date(W.time)>=X)}l(B);const R=bOe(B);x(R);const M=vOe(B);w(M);const I=_Oe(B);C(I)}catch(Q){console.error("Error loading dashboard data:",Q),x({netPnL:1137,profitFactor:2.8,winRate:62.5,totalTrades:8,winningTrades:5,losingTrades:3}),w({analysis:75,execution:70,tradeManagement:68,riskManagement:72,mindset:74,overall:72}),C([{date:"10/18/25",value:250},{date:"10/19/25",value:180},{date:"10/20/25",value:405},{date:"10/21/25",value:397},{date:"10/22/25",value:572},{date:"10/23/25",value:847},{date:"10/24/25",value:787},{date:"10/25/25",value:1137}])}finally{p(!1)}}};return f?b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),b.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[yOe((P=t==null?void 0:t.user_metadata)==null?void 0:P.name),"!"]})]}),b.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-1",children:[b.jsx("button",{onClick:()=>r("day"),className:`px-4 py-2 text-sm font-normal rounded-md transition-colors ${e==="day"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Day"}),b.jsx("button",{onClick:()=>r("week"),className:`px-4 py-2 text-sm font-normal rounded-md transition-colors ${e==="week"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Week"}),b.jsx("button",{onClick:()=>r("month"),className:`px-4 py-2 text-sm font-normal rounded-md transition-colors ${e==="month"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Month"}),b.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 text-sm font-normal rounded-md transition-colors ${e==="all"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"All Time"})]})]}),b.jsx(mq,{value:n,onChange:s})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsx(U4,{type:"netpnl",title:"Net P&L",value:Sa((O==null?void 0:O.netPnL)||0),count:(O==null?void 0:O.totalTrades)||0,tooltip:"Net Profit & Loss - Total profit minus total losses"}),b.jsx(U4,{type:"profitfactor",title:"Profit Factor",value:((O==null?void 0:O.profitFactor)||0).toFixed(2),progress:Math.min(100,((O==null?void 0:O.profitFactor)||0)/3*100),tooltip:"Profit Factor - Ratio of gross profit to gross loss"}),b.jsx(U4,{type:"winrate",title:"Trade Win %",value:kOe((O==null?void 0:O.winRate)||0),counts:{success:(O==null?void 0:O.winningTrades)||0,failure:(O==null?void 0:O.losingTrades)||0},pieData:[{value:(O==null?void 0:O.winRate)||0,color:T.primary},{value:100-((O==null?void 0:O.winRate)||0),color:T.negative}],tooltip:"Trade Win Percentage - Percentage of winning trades"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx(COe,{fusionScore:k}),b.jsx(AOe,{data:_})]}),b.jsx(SOe,{trades:c})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Xxe(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Fd(t,e){return typeof t=="function"?t(e):t}function Ba(t,e){return r=>{e.setState(n=>({...n,[t]:Fd(r,n[t])}))}}function EC(t){return t instanceof Function}function Vxe(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Uxe(t,e){const r=[],n=s=>{s.forEach(a=>{r.push(a);const l=e(a);l!=null&&l.length&&n(l)})};return n(t),r}function rr(t,e,r){let n=[],s;return a=>{let l;r.key&&r.debug&&(l=Date.now());const c=t(a);if(!(c.length!==n.length||c.some((p,O)=>n[O]!==p)))return s;n=c;let f;if(r.key&&r.debug&&(f=Date.now()),s=e(...c),r==null||r.onChange==null||r.onChange(s),r.key&&r.debug&&r!=null&&r.debug()){const p=Math.round((Date.now()-l)*100)/100,O=Math.round((Date.now()-f)*100)/100,x=O/16,k=(w,_)=>{for(w=String(w);w.length<_;)w=" "+w;return w};console.info(`%c ${k(O,5)} /${k(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r==null?void 0:r.key)}return s}}function nr(t,e,r,n){return{debug:()=>{var s;return(s=t==null?void 0:t.debugAll)!=null?s:t[e]},key:!1,onChange:n}}function qxe(t,e,r,n){const s=()=>{var l;return(l=a.getValue())!=null?l:t.options.renderFallbackValue},a={id:`${e.id}_${r.id}`,row:e,column:r,getValue:()=>e.getValue(n),renderValue:s,getContext:rr(()=>[t,r,e,a],(l,c,h,f)=>({table:l,column:c,row:h,cell:f,getValue:f.getValue,renderValue:f.renderValue}),nr(t.options,"debugCells"))};return t._features.forEach(l=>{l.createCell==null||l.createCell(a,r,e,t)},{}),a}function Wxe(t,e,r,n){var s,a;const c={...t._getDefaultColumnDef(),...e},h=c.accessorKey;let f=(s=(a=c.id)!=null?a:h?typeof String.prototype.replaceAll=="function"?h.replaceAll(".","_"):h.replace(/\./g,"_"):void 0)!=null?s:typeof c.header=="string"?c.header:void 0,p;if(c.accessorFn?p=c.accessorFn:h&&(h.includes(".")?p=x=>{let k=x;for(const _ of h.split(".")){var w;k=(w=k)==null?void 0:w[_]}return k}:p=x=>x[c.accessorKey]),!f)throw new Error;let O={id:`${String(f)}`,accessorFn:p,parent:n,depth:r,columnDef:c,columns:[],getFlatColumns:rr(()=>[!0],()=>{var x;return[O,...(x=O.columns)==null?void 0:x.flatMap(k=>k.getFlatColumns())]},nr(t.options,"debugColumns")),getLeafColumns:rr(()=>[t._getOrderColumnsFn()],x=>{var k;if((k=O.columns)!=null&&k.length){let w=O.columns.flatMap(_=>_.getLeafColumns());return x(w)}return[O]},nr(t.options,"debugColumns"))};for(const x of t._features)x.createColumn==null||x.createColumn(O,t);return O}const os="debugHeaders";function uB(t,e,r){var n;let a={id:(n=r.id)!=null?n:e.id,column:e,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],c=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(c),l.push(h)};return c(a),l},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(l=>{l.createHeader==null||l.createHeader(a,t)}),a}const Yxe={createTable:t=>{t.getHeaderGroups=rr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,s)=>{var a,l;const c=(a=n==null?void 0:n.map(O=>r.find(x=>x.id===O)).filter(Boolean))!=null?a:[],h=(l=s==null?void 0:s.map(O=>r.find(x=>x.id===O)).filter(Boolean))!=null?l:[],f=r.filter(O=>!(n!=null&&n.includes(O.id))&&!(s!=null&&s.includes(O.id)));return pw(e,[...c,...f,...h],t)},nr(t.options,os)),t.getCenterHeaderGroups=rr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n,s)=>(r=r.filter(a=>!(n!=null&&n.includes(a.id))&&!(s!=null&&s.includes(a.id))),pw(e,r,t,"center")),nr(t.options,os)),t.getLeftHeaderGroups=rr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,r,n)=>{var s;const a=(s=n==null?void 0:n.map(l=>r.find(c=>c.id===l)).filter(Boolean))!=null?s:[];return pw(e,a,t,"left")},nr(t.options,os)),t.getRightHeaderGroups=rr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,r,n)=>{var s;const a=(s=n==null?void 0:n.map(l=>r.find(c=>c.id===l)).filter(Boolean))!=null?s:[];return pw(e,a,t,"right")},nr(t.options,os)),t.getFooterGroups=rr(()=>[t.getHeaderGroups()],e=>[...e].reverse(),nr(t.options,os)),t.getLeftFooterGroups=rr(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),nr(t.options,os)),t.getCenterFooterGroups=rr(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),nr(t.options,os)),t.getRightFooterGroups=rr(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),nr(t.options,os)),t.getFlatHeaders=rr(()=>[t.getHeaderGroups()],e=>e.map(r=>r.headers).flat(),nr(t.options,os)),t.getLeftFlatHeaders=rr(()=>[t.getLeftHeaderGroups()],e=>e.map(r=>r.headers).flat(),nr(t.options,os)),t.getCenterFlatHeaders=rr(()=>[t.getCenterHeaderGroups()],e=>e.map(r=>r.headers).flat(),nr(t.options,os)),t.getRightFlatHeaders=rr(()=>[t.getRightHeaderGroups()],e=>e.map(r=>r.headers).flat(),nr(t.options,os)),t.getCenterLeafHeaders=rr(()=>[t.getCenterFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),nr(t.options,os)),t.getLeftLeafHeaders=rr(()=>[t.getLeftFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),nr(t.options,os)),t.getRightLeafHeaders=rr(()=>[t.getRightFlatHeaders()],e=>e.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),nr(t.options,os)),t.getLeafHeaders=rr(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,r,n)=>{var s,a,l,c,h,f;return[...(s=(a=e[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[],...(h=(f=n[0])==null?void 0:f.headers)!=null?h:[]].map(p=>p.getLeafHeaders()).flat()},nr(t.options,os))}};function pw(t,e,r,n){var s,a;let l=0;const c=function(x,k){k===void 0&&(k=1),l=Math.max(l,k),x.filter(w=>w.getIsVisible()).forEach(w=>{var _;(_=w.columns)!=null&&_.length&&c(w.columns,k+1)},0)};c(t);let h=[];const f=(x,k)=>{const w={depth:k,id:[n,`${k}`].filter(Boolean).join("_"),headers:[]},_=[];x.forEach(C=>{const T=[..._].reverse()[0],E=C.column.depth===w.depth;let P,Q=!1;if(E&&C.column.parent?P=C.column.parent:(P=C.column,Q=!0),T&&(T==null?void 0:T.column)===P)T.subHeaders.push(C);else{const B=uB(r,P,{id:[n,k,P.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:Q,placeholderId:Q?`${_.filter(R=>R.column===P).length}`:void 0,depth:k,index:_.length});B.subHeaders.push(C),_.push(B)}w.headers.push(C),C.headerGroup=w}),h.push(w),k>0&&f(_,k-1)},p=e.map((x,k)=>uB(r,x,{depth:l,index:k}));f(p,l-1),h.reverse();const O=x=>x.filter(w=>w.column.getIsVisible()).map(w=>{let _=0,C=0,T=[0];w.subHeaders&&w.subHeaders.length?(T=[],O(w.subHeaders).forEach(P=>{let{colSpan:Q,rowSpan:B}=P;_+=Q,T.push(B)})):_=1;const E=Math.min(...T);return C=C+E,w.colSpan=_,w.rowSpan=C,{colSpan:_,rowSpan:C}});return O((s=(a=h[0])==null?void 0:a.headers)!=null?s:[]),h}const rP=(t,e,r,n,s,a,l)=>{let c={id:e,index:n,original:r,depth:s,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:h=>{if(c._valuesCache.hasOwnProperty(h))return c._valuesCache[h];const f=t.getColumn(h);if(f!=null&&f.accessorFn)return c._valuesCache[h]=f.accessorFn(c.original,n),c._valuesCache[h]},getUniqueValues:h=>{if(c._uniqueValuesCache.hasOwnProperty(h))return c._uniqueValuesCache[h];const f=t.getColumn(h);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(c._uniqueValuesCache[h]=f.columnDef.getUniqueValues(c.original,n),c._uniqueValuesCache[h]):(c._uniqueValuesCache[h]=[c.getValue(h)],c._uniqueValuesCache[h])},renderValue:h=>{var f;return(f=c.getValue(h))!=null?f:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Uxe(c.subRows,h=>h.subRows),getParentRow:()=>c.parentId?t.getRow(c.parentId,!0):void 0,getParentRows:()=>{let h=[],f=c;for(;;){const p=f.getParentRow();if(!p)break;h.push(p),f=p}return h.reverse()},getAllCells:rr(()=>[t.getAllLeafColumns()],h=>h.map(f=>qxe(t,c,f,f.id)),nr(t.options,"debugRows")),_getAllCellsByColumnId:rr(()=>[c.getAllCells()],h=>h.reduce((f,p)=>(f[p.column.id]=p,f),{}),nr(t.options,"debugRows"))};for(let h=0;h<t._features.length;h++){const f=t._features[h];f==null||f.createRow==null||f.createRow(c,t)}return c},Zxe={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Oq=(t,e,r)=>{var n,s;const a=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};Oq.autoRemove=t=>Jo(t);const xq=(t,e,r)=>{var n;return!!(!((n=t.getValue(e))==null||(n=n.toString())==null)&&n.includes(r))};xq.autoRemove=t=>Jo(t);const bq=(t,e,r)=>{var n;return((n=t.getValue(e))==null||(n=n.toString())==null?void 0:n.toLowerCase())===(r==null?void 0:r.toLowerCase())};bq.autoRemove=t=>Jo(t);const kq=(t,e,r)=>{var n;return(n=t.getValue(e))==null?void 0:n.includes(r)};kq.autoRemove=t=>Jo(t);const yq=(t,e,r)=>!r.some(n=>{var s;return!((s=t.getValue(e))!=null&&s.includes(n))});yq.autoRemove=t=>Jo(t)||!(t!=null&&t.length);const wq=(t,e,r)=>r.some(n=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(n)});wq.autoRemove=t=>Jo(t)||!(t!=null&&t.length);const vq=(t,e,r)=>t.getValue(e)===r;vq.autoRemove=t=>Jo(t);const _q=(t,e,r)=>t.getValue(e)==r;_q.autoRemove=t=>Jo(t);const nP=(t,e,r)=>{let[n,s]=r;const a=t.getValue(e);return a>=n&&a<=s};nP.resolveFilterValue=t=>{let[e,r]=t,n=typeof e!="number"?parseFloat(e):e,s=typeof r!="number"?parseFloat(r):r,a=e===null||Number.isNaN(n)?-1/0:n,l=r===null||Number.isNaN(s)?1/0:s;if(a>l){const c=a;a=l,l=c}return[a,l]};nP.autoRemove=t=>Jo(t)||Jo(t[0])&&Jo(t[1]);const Sc={includesString:Oq,includesStringSensitive:xq,equalsString:bq,arrIncludes:kq,arrIncludesAll:yq,arrIncludesSome:wq,equals:vq,weakEquals:_q,inNumberRange:nP};function Jo(t){return t==null||t===""}const Gxe={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ba("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);return typeof n=="string"?Sc.includesString:typeof n=="number"?Sc.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?Sc.equals:Array.isArray(n)?Sc.arrIncludes:Sc.weakEquals},t.getFilterFn=()=>{var r,n;return EC(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(r=(n=e.options.filterFns)==null?void 0:n[t.columnDef.filterFn])!=null?r:Sc[t.columnDef.filterFn]},t.getCanFilter=()=>{var r,n,s;return((r=t.columnDef.enableColumnFilter)!=null?r:!0)&&((n=e.options.enableColumnFilters)!=null?n:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var r;return(r=e.getState().columnFilters)==null||(r=r.find(n=>n.id===t.id))==null?void 0:r.value},t.getFilterIndex=()=>{var r,n;return(r=(n=e.getState().columnFilters)==null?void 0:n.findIndex(s=>s.id===t.id))!=null?r:-1},t.setFilterValue=r=>{e.setColumnFilters(n=>{const s=t.getFilterFn(),a=n==null?void 0:n.find(p=>p.id===t.id),l=Fd(r,a?a.value:void 0);if(fB(s,l,t)){var c;return(c=n==null?void 0:n.filter(p=>p.id!==t.id))!=null?c:[]}const h={id:t.id,value:l};if(a){var f;return(f=n==null?void 0:n.map(p=>p.id===t.id?h:p))!=null?f:[]}return n!=null&&n.length?[...n,h]:[h]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const r=t.getAllLeafColumns(),n=s=>{var a;return(a=Fd(e,s))==null?void 0:a.filter(l=>{const c=r.find(h=>h.id===l.id);if(c){const h=c.getFilterFn();if(fB(h,l.value,c))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(n)},t.resetColumnFilters=e=>{var r,n;t.setColumnFilters(e?[]:(r=(n=t.initialState)==null?void 0:n.columnFilters)!=null?r:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function fB(t,e,r){return(t&&t.autoRemove?t.autoRemove(e,r):!1)||typeof e>"u"||typeof e=="string"&&!e}const Hxe=(t,e,r)=>r.reduce((n,s)=>{const a=s.getValue(t);return n+(typeof a=="number"?a:0)},0),Kxe=(t,e,r)=>{let n;return r.forEach(s=>{const a=s.getValue(t);a!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}),n},Jxe=(t,e,r)=>{let n;return r.forEach(s=>{const a=s.getValue(t);a!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}),n},ebe=(t,e,r)=>{let n,s;return r.forEach(a=>{const l=a.getValue(t);l!=null&&(n===void 0?l>=l&&(n=s=l):(n>l&&(n=l),s<l&&(s=l)))}),[n,s]},tbe=(t,e)=>{let r=0,n=0;if(e.forEach(s=>{let a=s.getValue(t);a!=null&&(a=+a)>=a&&(++r,n+=a)}),r)return n/r},rbe=(t,e)=>{if(!e.length)return;const r=e.map(a=>a.getValue(t));if(!Vxe(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),s=r.sort((a,l)=>a-l);return r.length%2!==0?s[n]:(s[n-1]+s[n])/2},nbe=(t,e)=>Array.from(new Set(e.map(r=>r.getValue(t))).values()),ibe=(t,e)=>new Set(e.map(r=>r.getValue(t))).size,sbe=(t,e)=>e.length,W4={sum:Hxe,min:Kxe,max:Jxe,extent:ebe,mean:tbe,median:rbe,unique:nbe,uniqueCount:ibe,count:sbe},abe={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,r;return(e=(r=t.getValue())==null||r.toString==null?void 0:r.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ba("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(r=>r!=null&&r.includes(t.id)?r.filter(n=>n!==t.id):[...r??[],t.id])},t.getCanGroup=()=>{var r,n;return((r=t.columnDef.enableGrouping)!=null?r:!0)&&((n=e.options.enableGrouping)!=null?n:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.includes(t.id)},t.getGroupedIndex=()=>{var r;return(r=e.getState().grouping)==null?void 0:r.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const r=t.getCanGroup();return()=>{r&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const r=e.getCoreRowModel().flatRows[0],n=r==null?void 0:r.getValue(t.id);if(typeof n=="number")return W4.sum;if(Object.prototype.toString.call(n)==="[object Date]")return W4.extent},t.getAggregationFn=()=>{var r,n;if(!t)throw new Error;return EC(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(r=(n=e.options.aggregationFns)==null?void 0:n[t.columnDef.aggregationFn])!=null?r:W4[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var r,n;t.setGrouping(e?[]:(r=(n=t.initialState)==null?void 0:n.grouping)!=null?r:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=r=>{if(t._groupingValuesCache.hasOwnProperty(r))return t._groupingValuesCache[r];const n=e.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(t._groupingValuesCache[r]=n.columnDef.getGroupingValue(t.original),t._groupingValuesCache[r]):t.getValue(r)},t._groupingValuesCache={}},createCell:(t,e,r,n)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===r.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=r.subRows)!=null&&s.length)}}};function obe(t,e,r){if(!(e!=null&&e.length)||!r)return t;const n=t.filter(a=>!e.includes(a.id));return r==="remove"?n:[...e.map(a=>t.find(l=>l.id===a)).filter(Boolean),...n]}const lbe={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ba("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=rr(r=>[tO(e,r)],r=>r.findIndex(n=>n.id===t.id),nr(e.options,"debugColumns")),t.getIsFirstColumn=r=>{var n;return((n=tO(e,r)[0])==null?void 0:n.id)===t.id},t.getIsLastColumn=r=>{var n;const s=tO(e,r);return((n=s[s.length-1])==null?void 0:n.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var r;t.setColumnOrder(e?[]:(r=t.initialState.columnOrder)!=null?r:[])},t._getOrderColumnsFn=rr(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,r,n)=>s=>{let a=[];if(!(e!=null&&e.length))a=s;else{const l=[...e],c=[...s];for(;c.length&&l.length;){const h=l.shift(),f=c.findIndex(p=>p.id===h);f>-1&&a.push(c.splice(f,1)[0])}a=[...a,...c]}return obe(a,r,n)},nr(t.options,"debugTable"))}},Y4=()=>({left:[],right:[]}),cbe={getInitialState:t=>({columnPinning:Y4(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ba("columnPinning",t)}),createColumn:(t,e)=>{t.pin=r=>{const n=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var a,l;if(r==="right"){var c,h;return{left:((c=s==null?void 0:s.left)!=null?c:[]).filter(O=>!(n!=null&&n.includes(O))),right:[...((h=s==null?void 0:s.right)!=null?h:[]).filter(O=>!(n!=null&&n.includes(O))),...n]}}if(r==="left"){var f,p;return{left:[...((f=s==null?void 0:s.left)!=null?f:[]).filter(O=>!(n!=null&&n.includes(O))),...n],right:((p=s==null?void 0:s.right)!=null?p:[]).filter(O=>!(n!=null&&n.includes(O)))}}return{left:((a=s==null?void 0:s.left)!=null?a:[]).filter(O=>!(n!=null&&n.includes(O))),right:((l=s==null?void 0:s.right)!=null?l:[]).filter(O=>!(n!=null&&n.includes(O)))}})},t.getCanPin=()=>t.getLeafColumns().some(n=>{var s,a,l;return((s=n.columnDef.enablePinning)!=null?s:!0)&&((a=(l=e.options.enableColumnPinning)!=null?l:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const r=t.getLeafColumns().map(c=>c.id),{left:n,right:s}=e.getState().columnPinning,a=r.some(c=>n==null?void 0:n.includes(c)),l=r.some(c=>s==null?void 0:s.includes(c));return a?"left":l?"right":!1},t.getPinnedIndex=()=>{var r,n;const s=t.getIsPinned();return s?(r=(n=e.getState().columnPinning)==null||(n=n[s])==null?void 0:n.indexOf(t.id))!=null?r:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=rr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(r,n,s)=>{const a=[...n??[],...s??[]];return r.filter(l=>!a.includes(l.column.id))},nr(e.options,"debugRows")),t.getLeftVisibleCells=rr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(r,n)=>(n??[]).map(a=>r.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),nr(e.options,"debugRows")),t.getRightVisibleCells=rr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(r,n)=>(n??[]).map(a=>r.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),nr(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var r,n;return t.setColumnPinning(e?Y4():(r=(n=t.initialState)==null?void 0:n.columnPinning)!=null?r:Y4())},t.getIsSomeColumnsPinned=e=>{var r;const n=t.getState().columnPinning;if(!e){var s,a;return!!((s=n.left)!=null&&s.length||(a=n.right)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t.getLeftLeafColumns=rr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,r)=>(r??[]).map(n=>e.find(s=>s.id===n)).filter(Boolean),nr(t.options,"debugColumns")),t.getRightLeafColumns=rr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,r)=>(r??[]).map(n=>e.find(s=>s.id===n)).filter(Boolean),nr(t.options,"debugColumns")),t.getCenterLeafColumns=rr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,r,n)=>{const s=[...r??[],...n??[]];return e.filter(a=>!s.includes(a.id))},nr(t.options,"debugColumns"))}};function dbe(t){return t||(typeof document<"u"?document:null)}const mw={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Z4=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),hbe={getDefaultColumnDef:()=>mw,getInitialState:t=>({columnSizing:{},columnSizingInfo:Z4(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ba("columnSizing",t),onColumnSizingInfoChange:Ba("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var r,n,s;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((r=t.columnDef.minSize)!=null?r:mw.minSize,(n=a??t.columnDef.size)!=null?n:mw.size),(s=t.columnDef.maxSize)!=null?s:mw.maxSize)},t.getStart=rr(r=>[r,tO(e,r),e.getState().columnSizing],(r,n)=>n.slice(0,t.getIndex(r)).reduce((s,a)=>s+a.getSize(),0),nr(e.options,"debugColumns")),t.getAfter=rr(r=>[r,tO(e,r),e.getState().columnSizing],(r,n)=>n.slice(t.getIndex(r)+1).reduce((s,a)=>s+a.getSize(),0),nr(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(r=>{let{[t.id]:n,...s}=r;return s})},t.getCanResize=()=>{var r,n;return((r=t.columnDef.enableResizing)!=null?r:!0)&&((n=e.options.enableColumnResizing)!=null?n:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let r=0;const n=s=>{if(s.subHeaders.length)s.subHeaders.forEach(n);else{var a;r+=(a=s.column.getSize())!=null?a:0}};return n(t),r},t.getStart=()=>{if(t.index>0){const r=t.headerGroup.headers[t.index-1];return r.getStart()+r.getSize()}return 0},t.getResizeHandler=r=>{const n=e.getColumn(t.column.id),s=n==null?void 0:n.getCanResize();return a=>{if(!n||!s||(a.persist==null||a.persist(),G4(a)&&a.touches&&a.touches.length>1))return;const l=t.getSize(),c=t?t.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[n.id,n.getSize()]],h=G4(a)?Math.round(a.touches[0].clientX):a.clientX,f={},p=(T,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(P=>{var Q,B;const R=e.options.columnResizeDirection==="rtl"?-1:1,M=(E-((Q=P==null?void 0:P.startOffset)!=null?Q:0))*R,I=Math.max(M/((B=P==null?void 0:P.startSize)!=null?B:0),-.999999);return P.columnSizingStart.forEach(j=>{let[z,X]=j;f[z]=Math.round(Math.max(X+X*I,0)*100)/100}),{...P,deltaOffset:M,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||T==="end")&&e.setColumnSizing(P=>({...P,...f})))},O=T=>p("move",T),x=T=>{p("end",T),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},k=dbe(r),w={moveHandler:T=>O(T.clientX),upHandler:T=>{k==null||k.removeEventListener("mousemove",w.moveHandler),k==null||k.removeEventListener("mouseup",w.upHandler),x(T.clientX)}},_={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),O(T.touches[0].clientX),!1),upHandler:T=>{var E;k==null||k.removeEventListener("touchmove",_.moveHandler),k==null||k.removeEventListener("touchend",_.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),x((E=T.touches[0])==null?void 0:E.clientX)}},C=ube()?{passive:!1}:!1;G4(a)?(k==null||k.addEventListener("touchmove",_.moveHandler,C),k==null||k.addEventListener("touchend",_.upHandler,C)):(k==null||k.addEventListener("mousemove",w.moveHandler,C),k==null||k.addEventListener("mouseup",w.upHandler,C)),e.setColumnSizingInfo(T=>({...T,startOffset:h,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:n.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var r;t.setColumnSizing(e?{}:(r=t.initialState.columnSizing)!=null?r:{})},t.resetHeaderSizeInfo=e=>{var r;t.setColumnSizingInfo(e?Z4():(r=t.initialState.columnSizingInfo)!=null?r:Z4())},t.getTotalSize=()=>{var e,r;return(e=(r=t.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,s)=>n+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,r;return(e=(r=t.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,s)=>n+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,r;return(e=(r=t.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,s)=>n+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,r;return(e=(r=t.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,s)=>n+s.getSize(),0))!=null?e:0}}};let Ow=null;function ube(){if(typeof Ow=="boolean")return Ow;let t=!1;try{const e={get passive(){return t=!0,!1}},r=()=>{};window.addEventListener("test",r,e),window.removeEventListener("test",r)}catch{t=!1}return Ow=t,Ow}function G4(t){return t.type==="touchstart"}const fbe={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ba("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=r=>{t.getCanHide()&&e.setColumnVisibility(n=>({...n,[t.id]:r??!t.getIsVisible()}))},t.getIsVisible=()=>{var r,n;const s=t.columns;return(r=s.length?s.some(a=>a.getIsVisible()):(n=e.getState().columnVisibility)==null?void 0:n[t.id])!=null?r:!0},t.getCanHide=()=>{var r,n;return((r=t.columnDef.enableHiding)!=null?r:!0)&&((n=e.options.enableHiding)!=null?n:!0)},t.getToggleVisibilityHandler=()=>r=>{t.toggleVisibility==null||t.toggleVisibility(r.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=rr(()=>[t.getAllCells(),e.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),nr(e.options,"debugRows")),t.getVisibleCells=rr(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(r,n,s)=>[...r,...n,...s],nr(e.options,"debugRows"))},createTable:t=>{const e=(r,n)=>rr(()=>[n(),n().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),nr(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=r=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(r),t.resetColumnVisibility=r=>{var n;t.setColumnVisibility(r?{}:(n=t.initialState.columnVisibility)!=null?n:{})},t.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:r||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;t.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function tO(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const gbe={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},pbe={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ba("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var r;const n=(r=t.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[e.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var r,n,s,a;return((r=t.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=e.options.enableGlobalFilter)!=null?n:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Sc.includesString,t.getGlobalFilterFn=()=>{var e,r;const{globalFilterFn:n}=t.options;return EC(n)?n:n==="auto"?t.getGlobalAutoFilterFn():(e=(r=t.options.filterFns)==null?void 0:r[n])!=null?e:Sc[n]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},mbe={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ba("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,r=!1;t._autoResetExpanded=()=>{var n,s;if(!e){t._queue(()=>{e=!0});return}if((n=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?n:!t.options.manualExpanding){if(r)return;r=!0,t._queue(()=>{t.resetExpanded(),r=!1})}},t.setExpanded=n=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(n),t.toggleAllRowsExpanded=n=>{n??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=n=>{var s,a;t.setExpanded(n?{}:(s=(a=t.initialState)==null?void 0:a.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const n=t.getState().expanded;return n===!0||Object.values(n).some(Boolean)},t.getIsAllRowsExpanded=()=>{const n=t.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let n=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const l=a.split(".");n=Math.max(n,l.length)}),n},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=r=>{e.setExpanded(n=>{var s;const a=n===!0?!0:!!(n!=null&&n[t.id]);let l={};if(n===!0?Object.keys(e.getRowModel().rowsById).forEach(c=>{l[c]=!0}):l=n,r=(s=r)!=null?s:!a,!a&&r)return{...l,[t.id]:!0};if(a&&!r){const{[t.id]:c,...h}=l;return h}return n})},t.getIsExpanded=()=>{var r;const n=e.getState().expanded;return!!((r=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?r:n===!0||n!=null&&n[t.id])},t.getCanExpand=()=>{var r,n,s;return(r=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?r:((n=e.options.enableExpanding)!=null?n:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let r=!0,n=t;for(;r&&n.parentId;)n=e.getRow(n.parentId,!0),r=n.getIsExpanded();return r},t.getToggleExpandedHandler=()=>{const r=t.getCanExpand();return()=>{r&&t.toggleExpanded()}}}},rT=0,nT=10,H4=()=>({pageIndex:rT,pageSize:nT}),Obe={getInitialState:t=>({...t,pagination:{...H4(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ba("pagination",t)}),createTable:t=>{let e=!1,r=!1;t._autoResetPageIndex=()=>{var n,s;if(!e){t._queue(()=>{e=!0});return}if((n=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?n:!t.options.manualPagination){if(r)return;r=!0,t._queue(()=>{t.resetPageIndex(),r=!1})}},t.setPagination=n=>{const s=a=>Fd(n,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=n=>{var s;t.setPagination(n?H4():(s=t.initialState.pagination)!=null?s:H4())},t.setPageIndex=n=>{t.setPagination(s=>{let a=Fd(n,s.pageIndex);const l=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...s,pageIndex:a}})},t.resetPageIndex=n=>{var s,a;t.setPageIndex(n?rT:(s=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:rT)},t.resetPageSize=n=>{var s,a;t.setPageSize(n?nT:(s=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:nT)},t.setPageSize=n=>{t.setPagination(s=>{const a=Math.max(1,Fd(n,s.pageSize)),l=s.pageSize*s.pageIndex,c=Math.floor(l/a);return{...s,pageIndex:c,pageSize:a}})},t.setPageCount=n=>t.setPagination(s=>{var a;let l=Fd(n,(a=t.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...s,pageCount:l}}),t.getPageOptions=rr(()=>[t.getPageCount()],n=>{let s=[];return n&&n>0&&(s=[...new Array(n)].fill(null).map((a,l)=>l)),s},nr(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:n}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:n<s-1},t.previousPage=()=>t.setPageIndex(n=>n-1),t.nextPage=()=>t.setPageIndex(n=>n+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var n;return(n=t.options.pageCount)!=null?n:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var n;return(n=t.options.rowCount)!=null?n:t.getPrePaginationRowModel().rows.length}}},K4=()=>({top:[],bottom:[]}),xbe={getInitialState:t=>({rowPinning:K4(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ba("rowPinning",t)}),createRow:(t,e)=>{t.pin=(r,n,s)=>{const a=n?t.getLeafRows().map(h=>{let{id:f}=h;return f}):[],l=s?t.getParentRows().map(h=>{let{id:f}=h;return f}):[],c=new Set([...l,t.id,...a]);e.setRowPinning(h=>{var f,p;if(r==="bottom"){var O,x;return{top:((O=h==null?void 0:h.top)!=null?O:[]).filter(_=>!(c!=null&&c.has(_))),bottom:[...((x=h==null?void 0:h.bottom)!=null?x:[]).filter(_=>!(c!=null&&c.has(_))),...Array.from(c)]}}if(r==="top"){var k,w;return{top:[...((k=h==null?void 0:h.top)!=null?k:[]).filter(_=>!(c!=null&&c.has(_))),...Array.from(c)],bottom:((w=h==null?void 0:h.bottom)!=null?w:[]).filter(_=>!(c!=null&&c.has(_)))}}return{top:((f=h==null?void 0:h.top)!=null?f:[]).filter(_=>!(c!=null&&c.has(_))),bottom:((p=h==null?void 0:h.bottom)!=null?p:[]).filter(_=>!(c!=null&&c.has(_)))}})},t.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:s}=e.options;return typeof n=="function"?n(t):(r=n??s)!=null?r:!0},t.getIsPinned=()=>{const r=[t.id],{top:n,bottom:s}=e.getState().rowPinning,a=r.some(c=>n==null?void 0:n.includes(c)),l=r.some(c=>s==null?void 0:s.includes(c));return a?"top":l?"bottom":!1},t.getPinnedIndex=()=>{var r,n;const s=t.getIsPinned();if(!s)return-1;const a=(r=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:r.map(l=>{let{id:c}=l;return c});return(n=a==null?void 0:a.indexOf(t.id))!=null?n:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var r,n;return t.setRowPinning(e?K4():(r=(n=t.initialState)==null?void 0:n.rowPinning)!=null?r:K4())},t.getIsSomeRowsPinned=e=>{var r;const n=t.getState().rowPinning;if(!e){var s,a;return!!((s=n.top)!=null&&s.length||(a=n.bottom)!=null&&a.length)}return!!((r=n[e])!=null&&r.length)},t._getPinnedRows=(e,r,n)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(r??[]).map(l=>{const c=t.getRow(l,!0);return c.getIsAllParentsExpanded()?c:null}):(r??[]).map(l=>e.find(c=>c.id===l))).filter(Boolean).map(l=>({...l,position:n}))},t.getTopRows=rr(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,r)=>t._getPinnedRows(e,r,"top"),nr(t.options,"debugRows")),t.getBottomRows=rr(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,r)=>t._getPinnedRows(e,r,"bottom"),nr(t.options,"debugRows")),t.getCenterRows=rr(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,r,n)=>{const s=new Set([...r??[],...n??[]]);return e.filter(a=>!s.has(a.id))},nr(t.options,"debugRows"))}},bbe={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ba("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var r;return t.setRowSelection(e?{}:(r=t.initialState.rowSelection)!=null?r:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(r=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const n={...r},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(a=>{a.getCanSelect()&&(n[a.id]=!0)}):s.forEach(a=>{delete n[a.id]}),n})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(r=>{const n=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...r};return t.getRowModel().rows.forEach(a=>{iT(s,a.id,n,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=rr(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,r)=>Object.keys(e).length?J4(t,r):{rows:[],flatRows:[],rowsById:{}},nr(t.options,"debugTable")),t.getFilteredSelectedRowModel=rr(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,r)=>Object.keys(e).length?J4(t,r):{rows:[],flatRows:[],rowsById:{}},nr(t.options,"debugTable")),t.getGroupedSelectedRowModel=rr(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,r)=>Object.keys(e).length?J4(t,r):{rows:[],flatRows:[],rowsById:{}},nr(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:r}=t.getState();let n=!!(e.length&&Object.keys(r).length);return n&&e.some(s=>s.getCanSelect()&&!r[s.id])&&(n=!1),n},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:r}=t.getState();let n=!!e.length;return n&&e.some(s=>!r[s.id])&&(n=!1),n},t.getIsSomeRowsSelected=()=>{var e;const r=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return r>0&&r<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(r,n)=>{const s=t.getIsSelected();e.setRowSelection(a=>{var l;if(r=typeof r<"u"?r:!s,t.getCanSelect()&&s===r)return a;const c={...a};return iT(c,t.id,r,(l=n==null?void 0:n.selectChildren)!=null?l:!0,e),c})},t.getIsSelected=()=>{const{rowSelection:r}=e.getState();return iP(t,r)},t.getIsSomeSelected=()=>{const{rowSelection:r}=e.getState();return sT(t,r)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=e.getState();return sT(t,r)==="all"},t.getCanSelect=()=>{var r;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(r=e.options.enableRowSelection)!=null?r:!0},t.getCanSelectSubRows=()=>{var r;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(r=e.options.enableSubRowSelection)!=null?r:!0},t.getCanMultiSelect=()=>{var r;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(r=e.options.enableMultiRowSelection)!=null?r:!0},t.getToggleSelectedHandler=()=>{const r=t.getCanSelect();return n=>{var s;r&&t.toggleSelected((s=n.target)==null?void 0:s.checked)}}}},iT=(t,e,r,n,s)=>{var a;const l=s.getRow(e,!0);r?(l.getCanMultiSelect()||Object.keys(t).forEach(c=>delete t[c]),l.getCanSelect()&&(t[e]=!0)):delete t[e],n&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(c=>iT(t,c.id,r,n,s))};function J4(t,e){const r=t.getState().rowSelection,n=[],s={},a=function(l,c){return l.map(h=>{var f;const p=iP(h,r);if(p&&(n.push(h),s[h.id]=h),(f=h.subRows)!=null&&f.length&&(h={...h,subRows:a(h.subRows)}),p)return h}).filter(Boolean)};return{rows:a(e.rows),flatRows:n,rowsById:s}}function iP(t,e){var r;return(r=e[t.id])!=null?r:!1}function sT(t,e,r){var n;if(!((n=t.subRows)!=null&&n.length))return!1;let s=!0,a=!1;return t.subRows.forEach(l=>{if(!(a&&!s)&&(l.getCanSelect()&&(iP(l,e)?a=!0:s=!1),l.subRows&&l.subRows.length)){const c=sT(l,e);c==="all"?a=!0:(c==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const aT=/([0-9]+)/gm,kbe=(t,e,r)=>Cq(ih(t.getValue(r)).toLowerCase(),ih(e.getValue(r)).toLowerCase()),ybe=(t,e,r)=>Cq(ih(t.getValue(r)),ih(e.getValue(r))),wbe=(t,e,r)=>sP(ih(t.getValue(r)).toLowerCase(),ih(e.getValue(r)).toLowerCase()),vbe=(t,e,r)=>sP(ih(t.getValue(r)),ih(e.getValue(r))),_be=(t,e,r)=>{const n=t.getValue(r),s=e.getValue(r);return n>s?1:n<s?-1:0},Cbe=(t,e,r)=>sP(t.getValue(r),e.getValue(r));function sP(t,e){return t===e?0:t>e?1:-1}function ih(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Cq(t,e){const r=t.split(aT).filter(Boolean),n=e.split(aT).filter(Boolean);for(;r.length&&n.length;){const s=r.shift(),a=n.shift(),l=parseInt(s,10),c=parseInt(a,10),h=[l,c].sort();if(isNaN(h[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(h[1]))return isNaN(l)?-1:1;if(l>c)return 1;if(c>l)return-1}return r.length-n.length}const o1={alphanumeric:kbe,alphanumericCaseSensitive:ybe,text:wbe,textCaseSensitive:vbe,datetime:_be,basic:Cbe},Abe={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ba("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const r=e.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const s of r){const a=s==null?void 0:s.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return o1.datetime;if(typeof a=="string"&&(n=!0,a.split(aT).length>1))return o1.alphanumeric}return n?o1.text:o1.basic},t.getAutoSortDir=()=>{const r=e.getFilteredRowModel().flatRows[0];return typeof(r==null?void 0:r.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var r,n;if(!t)throw new Error;return EC(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(r=(n=e.options.sortingFns)==null?void 0:n[t.columnDef.sortingFn])!=null?r:o1[t.columnDef.sortingFn]},t.toggleSorting=(r,n)=>{const s=t.getNextSortingOrder(),a=typeof r<"u"&&r!==null;e.setSorting(l=>{const c=l==null?void 0:l.find(k=>k.id===t.id),h=l==null?void 0:l.findIndex(k=>k.id===t.id);let f=[],p,O=a?r:s==="desc";if(l!=null&&l.length&&t.getCanMultiSort()&&n?c?p="toggle":p="add":l!=null&&l.length&&h!==l.length-1?p="replace":c?p="toggle":p="replace",p==="toggle"&&(a||s||(p="remove")),p==="add"){var x;f=[...l,{id:t.id,desc:O}],f.splice(0,f.length-((x=e.options.maxMultiSortColCount)!=null?x:Number.MAX_SAFE_INTEGER))}else p==="toggle"?f=l.map(k=>k.id===t.id?{...k,desc:O}:k):p==="remove"?f=l.filter(k=>k.id!==t.id):f=[{id:t.id,desc:O}];return f})},t.getFirstSortDir=()=>{var r,n;return((r=(n=t.columnDef.sortDescFirst)!=null?n:e.options.sortDescFirst)!=null?r:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=r=>{var n,s;const a=t.getFirstSortDir(),l=t.getIsSorted();return l?l!==a&&((n=e.options.enableSortingRemoval)==null||n)&&(!(r&&(s=e.options.enableMultiRemove)!=null)||s)?!1:l==="desc"?"asc":"desc":a},t.getCanSort=()=>{var r,n;return((r=t.columnDef.enableSorting)!=null?r:!0)&&((n=e.options.enableSorting)!=null?n:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var r,n;return(r=(n=t.columnDef.enableMultiSort)!=null?n:e.options.enableMultiSort)!=null?r:!!t.accessorFn},t.getIsSorted=()=>{var r;const n=(r=e.getState().sorting)==null?void 0:r.find(s=>s.id===t.id);return n?n.desc?"desc":"asc":!1},t.getSortIndex=()=>{var r,n;return(r=(n=e.getState().sorting)==null?void 0:n.findIndex(s=>s.id===t.id))!=null?r:-1},t.clearSorting=()=>{e.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==t.id):[])},t.getToggleSortingHandler=()=>{const r=t.getCanSort();return n=>{r&&(n.persist==null||n.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(n):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var r,n;t.setSorting(e?[]:(r=(n=t.initialState)==null?void 0:n.sorting)!=null?r:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},Sbe=[Yxe,fbe,lbe,cbe,Zxe,Gxe,gbe,pbe,Abe,abe,mbe,Obe,xbe,bbe,hbe];function Tbe(t){var e,r;const n=[...Sbe,...(e=t._features)!=null?e:[]];let s={_features:n};const a=s._features.reduce((x,k)=>Object.assign(x,k.getDefaultOptions==null?void 0:k.getDefaultOptions(s)),{}),l=x=>s.options.mergeOptions?s.options.mergeOptions(a,x):{...a,...x};let h={...{},...(r=t.initialState)!=null?r:{}};s._features.forEach(x=>{var k;h=(k=x.getInitialState==null?void 0:x.getInitialState(h))!=null?k:h});const f=[];let p=!1;const O={_features:n,options:{...a,...t},initialState:h,_queue:x=>{f.push(x),p||(p=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();p=!1}).catch(k=>setTimeout(()=>{throw k})))},reset:()=>{s.setState(s.initialState)},setOptions:x=>{const k=Fd(x,s.options);s.options=l(k)},getState:()=>s.options.state,setState:x=>{s.options.onStateChange==null||s.options.onStateChange(x)},_getRowId:(x,k,w)=>{var _;return(_=s.options.getRowId==null?void 0:s.options.getRowId(x,k,w))!=null?_:`${w?[w.id,k].join("."):k}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(x,k)=>{let w=(k?s.getPrePaginationRowModel():s.getRowModel()).rowsById[x];if(!w&&(w=s.getCoreRowModel().rowsById[x],!w))throw new Error;return w},_getDefaultColumnDef:rr(()=>[s.options.defaultColumn],x=>{var k;return x=(k=x)!=null?k:{},{header:w=>{const _=w.header.column.columnDef;return _.accessorKey?_.accessorKey:_.accessorFn?_.id:null},cell:w=>{var _,C;return(_=(C=w.renderValue())==null||C.toString==null?void 0:C.toString())!=null?_:null},...s._features.reduce((w,_)=>Object.assign(w,_.getDefaultColumnDef==null?void 0:_.getDefaultColumnDef()),{}),...x}},nr(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:rr(()=>[s._getColumnDefs()],x=>{const k=function(w,_,C){return C===void 0&&(C=0),w.map(T=>{const E=Wxe(s,T,C,_),P=T;return E.columns=P.columns?k(P.columns,E,C+1):[],E})};return k(x)},nr(t,"debugColumns")),getAllFlatColumns:rr(()=>[s.getAllColumns()],x=>x.flatMap(k=>k.getFlatColumns()),nr(t,"debugColumns")),_getAllFlatColumnsById:rr(()=>[s.getAllFlatColumns()],x=>x.reduce((k,w)=>(k[w.id]=w,k),{}),nr(t,"debugColumns")),getAllLeafColumns:rr(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(x,k)=>{let w=x.flatMap(_=>_.getLeafColumns());return k(w)},nr(t,"debugColumns")),getColumn:x=>s._getAllFlatColumnsById()[x]};Object.assign(s,O);for(let x=0;x<s._features.length;x++){const k=s._features[x];k==null||k.createTable==null||k.createTable(s)}return s}function Ebe(){return t=>rr(()=>[t.options.data],e=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(s,a,l){a===void 0&&(a=0);const c=[];for(let f=0;f<s.length;f++){const p=rP(t,t._getRowId(s[f],f,l),s[f],f,a,void 0,l==null?void 0:l.id);if(r.flatRows.push(p),r.rowsById[p.id]=p,c.push(p),t.options.getSubRows){var h;p.originalSubRows=t.options.getSubRows(s[f],f),(h=p.originalSubRows)!=null&&h.length&&(p.subRows=n(p.originalSubRows,a+1,p))}}return c};return r.rows=n(e),r},nr(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Pbe(t){const e=[],r=n=>{var s;e.push(n),(s=n.subRows)!=null&&s.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return t.rows.forEach(r),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Dbe(t,e,r){return r.options.filterFromLeafRows?Qbe(t,e,r):$be(t,e,r)}function Qbe(t,e,r){var n;const s=[],a={},l=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(h,f){f===void 0&&(f=0);const p=[];for(let x=0;x<h.length;x++){var O;let k=h[x];const w=rP(r,k.id,k.original,k.index,k.depth,void 0,k.parentId);if(w.columnFilters=k.columnFilters,(O=k.subRows)!=null&&O.length&&f<l){if(w.subRows=c(k.subRows,f+1),k=w,e(k)&&!w.subRows.length){p.push(k),a[k.id]=k,s.push(k);continue}if(e(k)||w.subRows.length){p.push(k),a[k.id]=k,s.push(k);continue}}else k=w,e(k)&&(p.push(k),a[k.id]=k,s.push(k))}return p};return{rows:c(t),flatRows:s,rowsById:a}}function $be(t,e,r){var n;const s=[],a={},l=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(h,f){f===void 0&&(f=0);const p=[];for(let x=0;x<h.length;x++){let k=h[x];if(e(k)){var O;if((O=k.subRows)!=null&&O.length&&f<l){const _=rP(r,k.id,k.original,k.index,k.depth,void 0,k.parentId);_.subRows=c(k.subRows,f+1),k=_}p.push(k),s.push(k),a[k.id]=k}}return p};return{rows:c(t),flatRows:s,rowsById:a}}function Mbe(){return t=>rr(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,r,n)=>{if(!e.rows.length||!(r!=null&&r.length)&&!n){for(let x=0;x<e.flatRows.length;x++)e.flatRows[x].columnFilters={},e.flatRows[x].columnFiltersMeta={};return e}const s=[],a=[];(r??[]).forEach(x=>{var k;const w=t.getColumn(x.id);if(!w)return;const _=w.getFilterFn();_&&s.push({id:x.id,filterFn:_,resolvedValue:(k=_.resolveFilterValue==null?void 0:_.resolveFilterValue(x.value))!=null?k:x.value})});const l=(r??[]).map(x=>x.id),c=t.getGlobalFilterFn(),h=t.getAllLeafColumns().filter(x=>x.getCanGlobalFilter());n&&c&&h.length&&(l.push("__global__"),h.forEach(x=>{var k;a.push({id:x.id,filterFn:c,resolvedValue:(k=c.resolveFilterValue==null?void 0:c.resolveFilterValue(n))!=null?k:n})}));let f,p;for(let x=0;x<e.flatRows.length;x++){const k=e.flatRows[x];if(k.columnFilters={},s.length)for(let w=0;w<s.length;w++){f=s[w];const _=f.id;k.columnFilters[_]=f.filterFn(k,_,f.resolvedValue,C=>{k.columnFiltersMeta[_]=C})}if(a.length){for(let w=0;w<a.length;w++){p=a[w];const _=p.id;if(p.filterFn(k,_,p.resolvedValue,C=>{k.columnFiltersMeta[_]=C})){k.columnFilters.__global__=!0;break}}k.columnFilters.__global__!==!0&&(k.columnFilters.__global__=!1)}}const O=x=>{for(let k=0;k<l.length;k++)if(x.columnFilters[l[k]]===!1)return!1;return!0};return Dbe(e.rows,O,t)},nr(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Rbe(t){return e=>rr(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:s,pageIndex:a}=r;let{rows:l,flatRows:c,rowsById:h}=n;const f=s*a,p=f+s;l=l.slice(f,p);let O;e.options.paginateExpandedRows?O={rows:l,flatRows:c,rowsById:h}:O=Pbe({rows:l,flatRows:c,rowsById:h}),O.flatRows=[];const x=k=>{O.flatRows.push(k),k.subRows.length&&k.subRows.forEach(x)};return O.rows.forEach(x),O},nr(e.options,"debugTable"))}function Nbe(){return t=>rr(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,r)=>{if(!r.rows.length||!(e!=null&&e.length))return r;const n=t.getState().sorting,s=[],a=n.filter(h=>{var f;return(f=t.getColumn(h.id))==null?void 0:f.getCanSort()}),l={};a.forEach(h=>{const f=t.getColumn(h.id);f&&(l[h.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const c=h=>{const f=h.map(p=>({...p}));return f.sort((p,O)=>{for(let k=0;k<a.length;k+=1){var x;const w=a[k],_=l[w.id],C=_.sortUndefined,T=(x=w==null?void 0:w.desc)!=null?x:!1;let E=0;if(C){const P=p.getValue(w.id),Q=O.getValue(w.id),B=P===void 0,R=Q===void 0;if(B||R){if(C==="first")return B?-1:1;if(C==="last")return B?1:-1;E=B&&R?0:B?C:-C}}if(E===0&&(E=_.sortingFn(p,O,w.id)),E!==0)return T&&(E*=-1),_.invertSorting&&(E*=-1),E}return p.index-O.index}),f.forEach(p=>{var O;s.push(p),(O=p.subRows)!=null&&O.length&&(p.subRows=c(p.subRows))}),f};return{rows:c(r.rows),flatRows:s,rowsById:r.rowsById}},nr(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function gB(t,e){return t?Bbe(t)?H.createElement(t,e):t:null}function Bbe(t){return Ibe(t)||typeof t=="function"||jbe(t)}function Ibe(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function jbe(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Fbe(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[r]=H.useState(()=>({current:Tbe(e)})),[n,s]=H.useState(()=>r.current.initialState);return r.current.setOptions(a=>({...a,...t,state:{...n,...t.state},onStateChange:l=>{s(l),t.onStateChange==null||t.onStateChange(l)}})),r.current}function Cs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wc(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Lbe(t,e){const r=Cs(t);if(isNaN(e))return Wc(t,NaN);if(!e)return r;const n=r.getDate(),s=Wc(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const Aq=6048e5,zbe=864e5;let Xbe={};function Cx(){return Xbe}function Bf(t,e){var c,h,f,p;const r=Cx(),n=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Cs(t),a=s.getDay(),l=(a<n?7:0)+a-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Y2(t){return Bf(t,{weekStartsOn:1})}function Sq(t){const e=Cs(t),r=e.getFullYear(),n=Wc(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Y2(n),a=Wc(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Y2(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=l.getTime()?r:r-1}function oT(t){const e=Cs(t);return e.setHours(0,0,0,0),e}function pB(t){const e=Cs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Vbe(t,e){const r=oT(t),n=oT(e),s=+r-pB(r),a=+n-pB(n);return Math.round((s-a)/zbe)}function Ube(t){const e=Sq(t),r=Wc(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Y2(r)}function qbe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wbe(t){if(!qbe(t)&&typeof t!="number")return!1;const e=Cs(t);return!isNaN(Number(e))}function Ybe(t){const e=Cs(t);return e.setHours(23,59,59,999),e}function Zbe(t){const e=Cs(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Gbe(t){const e=Cs(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Hbe(t){const e=Cs(t),r=Wc(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Kbe(t,e){var c,h;const r=Cx(),n=r.weekStartsOn??((h=(c=r.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,s=Cs(t),a=s.getDay(),l=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function Jbe(){return Ybe(Date.now())}const eke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tke=(t,e,r)=>{let n;const s=eke[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function e5(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const rke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ike={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ske={date:e5({formats:rke,defaultWidth:"full"}),time:e5({formats:nke,defaultWidth:"full"}),dateTime:e5({formats:ike,defaultWidth:"full"})},ake={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oke=(t,e,r,n)=>ake[t];function l1(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):l;s=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[c]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const lke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gke=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pke={ordinalNumber:gke,era:l1({values:lke,defaultWidth:"wide"}),quarter:l1({values:cke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:l1({values:dke,defaultWidth:"wide"}),day:l1({values:hke,defaultWidth:"wide"}),dayPeriod:l1({values:uke,defaultWidth:"wide",formattingValues:fke,defaultFormattingWidth:"wide"})};function c1(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(c)?Oke(c,O=>O.test(l)):mke(c,O=>O.test(l));let f;f=t.valueCallback?t.valueCallback(h):h,f=r.valueCallback?r.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function mke(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Oke(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function xke(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=r.valueCallback?r.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const bke=/^(\d+)(th|st|nd|rd)?/i,kke=/\d+/i,yke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wke={any:[/^b/i,/^(a|c)/i]},vke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_ke={any:[/1/i,/2/i,/3/i,/4/i]},Cke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ake={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ske={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Tke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Eke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dke={ordinalNumber:xke({matchPattern:bke,parsePattern:kke,valueCallback:t=>parseInt(t,10)}),era:c1({matchPatterns:yke,defaultMatchWidth:"wide",parsePatterns:wke,defaultParseWidth:"any"}),quarter:c1({matchPatterns:vke,defaultMatchWidth:"wide",parsePatterns:_ke,defaultParseWidth:"any",valueCallback:t=>t+1}),month:c1({matchPatterns:Cke,defaultMatchWidth:"wide",parsePatterns:Ake,defaultParseWidth:"any"}),day:c1({matchPatterns:Ske,defaultMatchWidth:"wide",parsePatterns:Tke,defaultParseWidth:"any"}),dayPeriod:c1({matchPatterns:Eke,defaultMatchWidth:"any",parsePatterns:Pke,defaultParseWidth:"any"})},Qke={code:"en-US",formatDistance:tke,formatLong:ske,formatRelative:oke,localize:pke,match:Dke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $ke(t){const e=Cs(t);return Vbe(e,Hbe(e))+1}function Mke(t){const e=Cs(t),r=+Y2(e)-+Ube(e);return Math.round(r/Aq)+1}function Tq(t,e){var p,O,x,k;const r=Cs(t),n=r.getFullYear(),s=Cx(),a=(e==null?void 0:e.firstWeekContainsDate)??((O=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:O.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(x=s.locale)==null?void 0:x.options)==null?void 0:k.firstWeekContainsDate)??1,l=Wc(t,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const c=Bf(l,e),h=Wc(t,0);h.setFullYear(n,0,a),h.setHours(0,0,0,0);const f=Bf(h,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Rke(t,e){var c,h,f,p;const r=Cx(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=Tq(t,e),a=Wc(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Bf(a,e)}function Nke(t,e){const r=Cs(t),n=+Bf(r,e)-+Rke(r,e);return Math.round(n/Aq)+1}function tn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Sd={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return tn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):tn(r+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return tn(s,e.length)}},j0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mB={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Sd.y(t,e)},Y:function(t,e,r,n){const s=Tq(t,n),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return tn(l,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):tn(a,e.length)},R:function(t,e){const r=Sq(t);return tn(r,e.length)},u:function(t,e){const r=t.getFullYear();return tn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Sd.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return tn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Nke(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):tn(s,e.length)},I:function(t,e,r){const n=Mke(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):tn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Sd.d(t,e)},D:function(t,e,r){const n=$ke(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return tn(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return tn(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return tn(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=j0.noon:n===0?s=j0.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=j0.evening:n>=12?s=j0.afternoon:n>=4?s=j0.morning:s=j0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Sd.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Sd.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):tn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sd.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Sd.s(t,e)},S:function(t,e){return Sd.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return xB(n);case"XXXX":case"XX":return Jh(n);case"XXXXX":case"XXX":default:return Jh(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return xB(n);case"xxxx":case"xx":return Jh(n);case"xxxxx":case"xxx":default:return Jh(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OB(n,":");case"OOOO":default:return"GMT"+Jh(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OB(n,":");case"zzzz":default:return"GMT"+Jh(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return tn(n,e.length)},T:function(t,e,r){const n=t.getTime();return tn(n,e.length)}};function OB(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+tn(a,2)}function xB(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):Jh(t,e)}function Jh(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=tn(Math.trunc(n/60),2),a=tn(n%60,2);return r+s+e+a}const bB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Eq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bke=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return bB(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",bB(n,e)).replace("{{time}}",Eq(s,e))},Ike={p:Eq,P:Bke},jke=/^D+$/,Fke=/^Y+$/,Lke=["D","DD","YY","YYYY"];function zke(t){return jke.test(t)}function Xke(t){return Fke.test(t)}function Vke(t,e,r){const n=Uke(t,e,r);if(console.warn(n),Lke.includes(t))throw new RangeError(n)}function Uke(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yke=/^'([^]*?)'?$/,Zke=/''/g,Gke=/[a-zA-Z]/;function F0(t,e,r){var p,O,x,k;const n=Cx(),s=n.locale??Qke,a=n.firstWeekContainsDate??((O=(p=n.locale)==null?void 0:p.options)==null?void 0:O.firstWeekContainsDate)??1,l=n.weekStartsOn??((k=(x=n.locale)==null?void 0:x.options)==null?void 0:k.weekStartsOn)??0,c=Cs(t);if(!Wbe(c))throw new RangeError("Invalid time value");let h=e.match(Wke).map(w=>{const _=w[0];if(_==="p"||_==="P"){const C=Ike[_];return C(w,s.formatLong)}return w}).join("").match(qke).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:Hke(w)};if(mB[_])return{isToken:!0,value:w};if(_.match(Gke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(w=>{if(!w.isToken)return w.value;const _=w.value;(Xke(_)||zke(_))&&Vke(_,e,String(t));const C=mB[_[0]];return C(c,_,s.localize,f)}).join("")}function Hke(t){const e=t.match(Yke);return e?e[1].replace(Zke,"'"):t}function Kke(){return oT(Date.now())}function kB(t,e){return Lbe(t,-e)}var PC="Popover",[Pq]=M6(PC,[mC]),Ax=mC(),[Jke,_h]=Pq(PC),Dq=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:l=!1}=t,c=Ax(e),h=H.useRef(null),[f,p]=H.useState(!1),[O,x]=z2({prop:n,defaultProp:s??!1,onChange:a,caller:PC});return b.jsx(bV,{...c,children:b.jsx(Jke,{scope:e,contentId:kx(),triggerRef:h,open:O,onOpenChange:x,onOpenToggle:H.useCallback(()=>x(k=>!k),[x]),hasCustomAnchor:f,onCustomAnchorAdd:H.useCallback(()=>p(!0),[]),onCustomAnchorRemove:H.useCallback(()=>p(!1),[]),modal:l,children:r})})};Dq.displayName=PC;var Qq="PopoverAnchor",eye=H.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=_h(Qq,r),a=Ax(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return H.useEffect(()=>(l(),()=>c()),[l,c]),b.jsx(R6,{...a,...n,ref:e})});eye.displayName=Qq;var $q="PopoverTrigger",Mq=H.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=_h($q,r),a=Ax(r),l=xo(e,s.triggerRef),c=b.jsx(ii.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fq(s.open),...n,ref:l,onClick:vn(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:b.jsx(R6,{asChild:!0,...a,children:c})});Mq.displayName=$q;var aP="PopoverPortal",[tye,rye]=Pq(aP,{forceMount:void 0}),Rq=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=_h(aP,e);return b.jsx(tye,{scope:e,forceMount:r,children:b.jsx(N6,{present:r||a.open,children:b.jsx(cV,{asChild:!0,container:s,children:n})})})};Rq.displayName=aP;var If="PopoverContent",Nq=H.forwardRef((t,e)=>{const r=rye(If,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=_h(If,t.__scopePopover);return b.jsx(N6,{present:n||a.open,children:a.modal?b.jsx(iye,{...s,ref:e}):b.jsx(sye,{...s,ref:e})})});Nq.displayName=If;var nye=gV("PopoverContent.RemoveScroll"),iye=H.forwardRef((t,e)=>{const r=_h(If,t.__scopePopover),n=H.useRef(null),s=xo(e,n),a=H.useRef(!1);return H.useEffect(()=>{const l=n.current;if(l)return hV(l)},[]),b.jsx(fV,{as:nye,allowPinchZoom:!0,children:b.jsx(Bq,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vn(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),a.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:vn(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,f=c.button===2||h;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:vn(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),sye=H.forwardRef((t,e)=>{const r=_h(If,t.__scopePopover),n=H.useRef(!1),s=H.useRef(!1);return b.jsx(Bq,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=t.onCloseAutoFocus)==null||l.call(t,a),a.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((f=r.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Bq=H.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,...O}=t,x=_h(If,r),k=Ax(r);return uV(),b.jsx(pV,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:b.jsx(mV,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:b.jsx(OV,{"data-state":Fq(x.open),role:"dialog",id:x.contentId,...k,...O,ref:e,style:{...O.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Iq="PopoverClose",aye=H.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=_h(Iq,r);return b.jsx(ii.button,{type:"button",...n,ref:e,onClick:vn(t.onClick,()=>s.onOpenChange(!1))})});aye.displayName=Iq;var oye="PopoverArrow",jq=H.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Ax(r);return b.jsx(kV,{...s,...n,ref:e})});jq.displayName=oye;function Fq(t){return t?"open":"closed"}var Lq=Dq,zq=Mq,Xq=Rq,Vq=Nq,Uq=jq;const ya=Xxe();function lye({filteredData:t,columnFilters:e}){const r=H.useMemo(()=>{if(t.length===0)return{totalTrades:0,winningTrades:0,losingTrades:0,breakEvenTrades:0,totalPnl:0,avgTradePnl:0,avgWinningTrade:0,avgLosingTrade:0,winningDays:0,losingDays:0,avgDailyPnl:0,systemQualityAverage:0,winRate:0,profitFactor:0};const n=t.filter(R=>R.outcome==="win"),s=t.filter(R=>R.outcome==="loss"),a=t.filter(R=>R.outcome==="break_even"),l=t.reduce((R,M)=>R+(M.pnl||0),0),c=n.reduce((R,M)=>R+(M.pnl||0),0),h=Math.abs(s.reduce((R,M)=>R+(M.pnl||0),0)),f=t.reduce((R,M)=>{const I=new Date(M.time).toDateString();return R[I]||(R[I]={trades:[],dailyPnl:0}),R[I].trades.push(M),R[I].dailyPnl+=M.pnl||0,R},{}),p=Object.values(f).filter(R=>R.dailyPnl>0).length,O=Object.values(f).filter(R=>R.dailyPnl<0).length,x=Object.keys(f).length,k=x>0?l/x:0,w=t.reduce((R,M)=>R+(M.system_quality_number||0),0),_=t.length>0?w/t.length:0,C=n.filter(R=>R.trade_type==="Long").length,T=n.filter(R=>R.trade_type==="Short").length,E=s.filter(R=>R.trade_type==="Long").length,P=s.filter(R=>R.trade_type==="Short").length,B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(R=>{const M=t.filter(X=>new Date(X.time).toLocaleDateString("en-US",{weekday:"long"})===R),I=M.reduce((X,W)=>X+(W.pnl||0),0),j=M.filter(X=>X.outcome==="win").length,z=M.filter(X=>X.outcome==="loss").length;return{day:R.substring(0,3),fullDay:R,totalTrades:M.length,winningDays:j,losingDays:z,netPnl:I,avgPnl:M.length>0?I/M.length:0}}).filter(R=>R.totalTrades>0);return{totalTrades:t.length,winningTrades:n.length,losingTrades:s.length,breakEvenTrades:a.length,totalPnl:l,avgTradePnl:t.length>0?l/t.length:0,avgWinningTrade:n.length>0?c/n.length:0,avgLosingTrade:s.length>0?h/s.length:0,winningDays:p,losingDays:O,avgDailyPnl:k,systemQualityAverage:_,winningLongs:C,winningShorts:T,losingLongs:E,losingShorts:P,winRate:t.length>0?n.length/t.length*100:0,profitFactor:h>0?c/h:c>0?1/0:0,dayOfWeekData:B}},[t]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Performance Metrics"}),b.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-xl mb-6",children:[b.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400 mb-1",children:r.winningDays}),b.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Winning Days"}),b.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[r.winningDays+r.losingDays>0?(r.winningDays/(r.winningDays+r.losingDays)*100).toFixed(1):0,"% of trading days"]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Gain:"}),b.jsx("span",{className:"font-bold text-lg text-green-600 dark:text-green-400",children:Sa(t.filter(n=>n.outcome==="win").reduce((n,s)=>n+(s.pnl||0),0))})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Daily Gain:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:r.winningDays>0?Sa(t.filter(n=>n.outcome==="win").reduce((n,s)=>n+(s.pnl||0),0)/r.winningDays):Sa(0)})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Winning Trades:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:r.winningTrades})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Winning Trade:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:Sa(r.avgWinningTrade)})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Win Rate:"}),b.jsxs("span",{className:"font-bold text-green-600 dark:text-green-400",children:[r.winRate.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Longs:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:r.winningLongs})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shorts:"}),b.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:r.winningShorts})]}),b.jsxs("div",{className:"flex justify-between items-center py-2",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"System Quality Number:"}),b.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[r.systemQualityAverage.toFixed(1),"/5"]})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-xl mb-6",children:[b.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-1",children:r.losingDays}),b.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"Losing Days"}),b.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[r.winningDays+r.losingDays>0?(r.losingDays/(r.winningDays+r.losingDays)*100).toFixed(1):0,"% of trading days"]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Loss:"}),b.jsx("span",{className:"font-bold text-lg text-red-600 dark:text-red-400",children:Sa(-Math.abs(t.filter(n=>n.outcome==="loss").reduce((n,s)=>n+(s.pnl||0),0)))})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Daily Loss:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:r.losingDays>0?Sa(t.filter(n=>n.outcome==="loss").reduce((n,s)=>n+(s.pnl||0),0)/r.losingDays):Sa(0)})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Losing Trades:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:r.losingTrades})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Losing Trade:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:Sa(-Math.abs(r.avgLosingTrade))})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loss Rate:"}),b.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[(100-r.winRate).toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Longs:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:r.losingLongs})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 dark:border-gray-700",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shorts:"}),b.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:r.losingShorts})]}),b.jsxs("div",{className:"flex justify-between items-center py-2",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"System Quality Number:"}),b.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:[r.systemQualityAverage.toFixed(1),"/5"]})]})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trade Distribution by Day of Week"}),r.dayOfWeekData.length>0?b.jsx("div",{className:"space-y-3",children:r.dayOfWeekData.map(n=>{const s=Math.max(...r.dayOfWeekData.map(c=>Math.max(c.winningDays,c.losingDays))),a=s>0?n.winningDays/s*100:0,l=s>0?n.losingDays/s*100:0;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.fullDay}),b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Total: ",n.totalTrades," trades"]})]}),b.jsxs("div",{className:"relative h-6 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden",children:[b.jsx("div",{className:"absolute left-0 top-0 h-full bg-green-500 rounded-l-lg transition-all duration-300",style:{width:`${a}%`}}),b.jsx("div",{className:"absolute top-0 h-full bg-yellow-500 transition-all duration-300",style:{left:`${a}%`,width:`${l}%`}}),b.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white",children:[n.winningDays,"W / ",n.losingDays,"L"]})]})]},n.day)})}):b.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No trade data available for day-of-week analysis"})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance by Day of Week (Net P&L)"}),r.dayOfWeekData.length>0?b.jsx("div",{className:"space-y-3",children:r.dayOfWeekData.map(n=>{const s=Math.max(...r.dayOfWeekData.map(c=>Math.abs(c.netPnl))),a=s>0?Math.abs(n.netPnl)/s*100:0,l=n.netPnl>=0;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.fullDay}),b.jsx("span",{className:`text-sm font-semibold ${l?"text-green-600":"text-red-600"}`,children:Sa(n.netPnl)})]}),b.jsxs("div",{className:"relative h-6 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden",children:[b.jsx("div",{className:`absolute top-0 h-full rounded-lg transition-all duration-300 ${l?"bg-green-500":"bg-red-500"}`,style:{[l?"left":"right"]:"50%",width:`${a}%`}}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white",children:Sa(n.netPnl)})]})]},n.day)})}):b.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500 dark:text-gray-400",children:"No trade data available for performance analysis"})]})]})]})}function xw({column:t,values:e,title:r}){const n=t.getFilterValue();return b.jsxs(Lq,{children:[b.jsx(zq,{asChild:!0,children:b.jsx("button",{className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:b.jsx(Mf,{className:`h-3 w-3 ${n?"text-blue-500":"text-gray-400"}`})})}),b.jsx(Xq,{children:b.jsxs(Vq,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-3 w-56 z-50",sideOffset:5,children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Filter by ",r]}),n&&b.jsx("button",{onClick:()=>t.setFilterValue(void 0),className:"text-xs text-blue-500 hover:text-blue-600",children:"Clear"})]}),b.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:e.map(s=>b.jsx("button",{onClick:()=>t.setFilterValue(s),className:`w-full text-left px-3 py-2 text-sm rounded transition-colors ${n===s?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:s},s))})]}),b.jsx(Uq,{className:"fill-white dark:fill-gray-800"})]})})]})}function bw({value:t,options:e,onValueChange:r,className:n="",type:s="text"}){const a=t.charAt(0).toUpperCase()+t.slice(1).replace("_"," ");return b.jsxs(Lq,{children:[b.jsx(zq,{asChild:!0,children:b.jsx("button",{className:`text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded px-2 py-1 transition-colors ${n}`,children:s==="badge"?b.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-normal ${t==="win"?"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400":t==="loss"?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:a}):b.jsx("span",{className:"text-sm",children:a})})}),b.jsx(Xq,{children:b.jsxs(Vq,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-2 w-48 z-50",sideOffset:5,children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2 px-2",children:["Select ",s==="badge"?"Outcome":"Value"]}),b.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:e.map(l=>b.jsx("button",{onClick:()=>r(l),className:`w-full text-left px-3 py-2 text-sm rounded transition-colors ${t===l?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:l.charAt(0).toUpperCase()+l.slice(1).replace("_"," ")},l))})]}),b.jsx(Uq,{className:"fill-white dark:fill-gray-800"})]})})]})}function cye(){const{user:t}=Bi(),[e]=Nme(),[r,n]=H.useState([]),[s,a]=H.useState(!0),[l,c]=H.useState([]),[h,f]=H.useState([]),[p,O]=H.useState(null),[x,k]=H.useState(null),[w,_]=H.useState("trades"),[C,T]=H.useState("all");H.useEffect(()=>{const G=e.get("date"),J=e.get("startDate"),oe=e.get("endDate");if(G){const ie=new Date(G);isNaN(ie.getTime())||(O(ie),k(ie))}else if(J&&oe){const ie=new Date(J),be=new Date(oe);!isNaN(ie.getTime())&&!isNaN(be.getTime())&&(O(ie),k(be))}},[e]),H.useEffect(()=>{E()},[t,C]);const E=async()=>{if(t){a(!0);try{let G=await CU(t.id);C&&C!=="all"&&(G=G.filter(J=>J.account_number===C)),G=G.map(J=>({...J,system_quality_number:wOe(J)})),n(G)}catch(G){console.error("Error loading trades:",G)}finally{a(!1)}}},P=async G=>{if(confirm("Are you sure you want to delete this trade?"))try{await dOe(G),n(r.filter(J=>J.id!==G))}catch(J){console.error("Error deleting trade:",J),alert("Failed to delete trade")}},Q=async(G,J)=>{try{await AU(G,J),await E()}catch(oe){console.error("Error updating trade:",oe),alert("Failed to update trade")}},B=G=>{const J=new Date;switch(G){case"today":O(Kke()),k(Jbe());break;case"week":O(Bf(J)),k(Kbe(J));break;case"month":O(Gbe(J)),k(Zbe(J));break;case"3months":O(kB(J,3)),k(J);break;case"6months":O(kB(J,6)),k(J);break;case"all":O(null),k(null);break}},R=H.useMemo(()=>h.length===0?r:r.filter(G=>h.every(J=>{const{id:oe,value:ie}=J,be=G[oe];return String(be)===ie})),[r,h]),M=H.useMemo(()=>{let G=R;return p&&x&&(G=G.filter(J=>{const oe=new Date(J.time);return oe>=p&&oe<=x})),G},[R,p,x]),I=H.useMemo(()=>Array.from(new Set(r.map(G=>G.asset_type))).filter(Boolean),[r]),j=H.useMemo(()=>Array.from(new Set(r.map(G=>G.session))).filter(Boolean),[r]),z=H.useMemo(()=>Array.from(new Set(r.map(G=>G.entry_tag))).filter(Boolean),[r]),X=H.useMemo(()=>M.reduce((G,J)=>G+(J.pnl||0),0),[M]),W=H.useMemo(()=>[ya.accessor("asset",{header:"Asset",size:100,cell:G=>b.jsx("span",{className:"font-medium text-sm truncate",title:G.getValue(),children:G.getValue()})}),ya.accessor("time",{header:"Date",cell:G=>{const J=G.getValue(),oe=new Date(J);return b.jsx("span",{className:"text-sm",children:F0(oe,"yyyy-MM-dd")})},size:100}),ya.accessor("time",{header:"Time",cell:G=>{const J=G.getValue(),oe=new Date(J);return b.jsx("span",{className:"text-sm",children:F0(oe,"HH:mm")})},size:80}),ya.accessor("asset_type",{header:({column:G})=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>G.toggleSorting(),className:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400",children:["Asset Type",G.getIsSorted()?G.getIsSorted()==="asc"?b.jsx(nu,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4 opacity-30"})]}),b.jsx(xw,{column:G,values:I,title:"Asset Type"})]}),cell:G=>{const J=G.row.original,oe=G.getValue(),ie=["FX","Futures","Metals","Commodities"];return b.jsx(bw,{value:oe,options:ie,onValueChange:be=>Q(J.id,{asset_type:be}),type:"text"})},size:120,filterFn:"equals"}),ya.accessor("trade_type",{header:"Trade",cell:G=>b.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-normal ${G.getValue()==="Long"?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-orange-50 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400"}`,children:G.getValue()}),size:80}),ya.accessor("size",{header:"Size",cell:G=>b.jsx("span",{className:"text-sm",children:G.getValue()}),size:80}),ya.accessor("session",{header:({column:G})=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>G.toggleSorting(),className:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400",children:["Session",G.getIsSorted()?G.getIsSorted()==="asc"?b.jsx(nu,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4 opacity-30"})]}),b.jsx(xw,{column:G,values:j,title:"Session"})]}),cell:G=>{const J=G.row.original,oe=G.getValue(),ie=["Asia","London 1","London 2","London 3","New York 1","New York 2","New York 3"];return b.jsx(bw,{value:oe,options:ie,onValueChange:be=>Q(J.id,{session:be}),type:"text"})},size:110,filterFn:"equals"}),ya.accessor("duration",{header:"Duration",cell:G=>b.jsx("span",{className:"text-sm",children:G.getValue()}),size:100}),ya.accessor("outcome",{header:({column:G})=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>G.toggleSorting(),className:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400",children:["Outcome",G.getIsSorted()?G.getIsSorted()==="asc"?b.jsx(nu,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4 opacity-30"})]}),b.jsx(xw,{column:G,values:["win","loss","break_even"],title:"Outcome"})]}),cell:G=>{const J=G.row.original,oe=G.getValue(),ie=["win","loss","break_even"];return b.jsx(bw,{value:oe,options:ie,onValueChange:be=>Q(J.id,{outcome:be}),type:"badge"})},size:110,filterFn:"equals"}),ya.accessor("entry_tag",{header:({column:G})=>b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>G.toggleSorting(),className:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400",children:["Confirmation",G.getIsSorted()?G.getIsSorted()==="asc"?b.jsx(nu,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4 opacity-30"})]}),b.jsx(xw,{column:G,values:z,title:"Entry Tag"})]}),cell:G=>{const J=G.row.original,oe=G.getValue(),ie=z;return b.jsx(bw,{value:oe,options:ie,onValueChange:be=>Q(J.id,{entry_tag:be}),type:"text"})},size:120,filterFn:"equals"}),ya.accessor("system_quality_number",{header:({column:G})=>b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsxs("button",{onClick:()=>G.toggleSorting(),className:"flex items-center gap-1 hover:text-blue-600 dark:hover:text-blue-400",children:["System Quality Number",G.getIsSorted()?G.getIsSorted()==="asc"?b.jsx(nu,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4"}):b.jsx(Zi,{className:"h-4 w-4 opacity-30"})]}),b.jsxs("div",{className:"relative group",children:[b.jsx(M1e,{className:"h-3 w-3 text-gray-400 hover:text-gray-600 cursor-help"}),b.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:["How well does this trade line up with the CPC framework",b.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-3 border-r-3 border-t-3 border-transparent border-t-gray-900"})]})]})]}),cell:G=>{const J=G.getValue();return b.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[J,"/5"]})},size:140}),ya.accessor("pnl",{header:"Result",cell:G=>{const J=G.getValue();return b.jsx("span",{className:`font-medium ${J>0?"text-green-600 dark:text-green-400":J<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:Sa(J)})},size:120}),ya.display({id:"actions",header:"Actions",size:100,cell:G=>b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ou,{to:`/trades/${G.row.original.id}`,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:b.jsx(bc,{className:"h-4 w-4"})}),b.jsx("button",{onClick:()=>P(G.row.original.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:b.jsx(Ul,{className:"h-4 w-4"})})]})})],[I,j,z]),F=Fbe({data:M,columns:W,state:{sorting:l,columnFilters:h},onSortingChange:c,onColumnFiltersChange:f,getCoreRowModel:Ebe(),getSortedRowModel:Nbe(),getFilteredRowModel:Mbe(),getPaginationRowModel:Rbe(),initialState:{pagination:{pageSize:20}}}),[V,te]=H.useState(!1);return H.useEffect(()=>{const G=()=>{te(document.documentElement.classList.contains("dark"))};G();const J=new MutationObserver(G);return J.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>J.disconnect()},[]),s?b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("div",{className:"flex items-center space-x-8",children:b.jsxs("div",{className:"flex space-x-1 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("button",{onClick:()=>_("trades"),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${w==="trades"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Table"}),b.jsxs("button",{onClick:()=>_("reports"),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors flex items-center gap-2 ${w==="reports"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[b.jsx(Gd,{className:"h-4 w-4"}),"Reports"]})]})}),w==="trades"&&b.jsxs(Ou,{to:"/trades/new",className:"flex items-center px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-normal shadow-sm",children:[b.jsx(co,{className:"h-4 w-4 mr-2"}),"New Trade"]})]}),b.jsx(mq,{value:C,onChange:T}),w==="trades"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 border border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Quick Filters:"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Today",value:"today"},{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"3 Months",value:"3months"},{label:"6 Months",value:"6months"},{label:"All Time",value:"all"}].map(({label:G,value:J})=>b.jsx("button",{onClick:()=>B(J),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${J==="all"&&!p?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:G},J))})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custom Range:"}),b.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[b.jsx("input",{type:"date",value:p?F0(p,"yyyy-MM-dd"):"",onChange:G=>O(G.target.value?new Date(G.target.value):null),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400",style:{minWidth:200}}),b.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"to"}),b.jsx("input",{type:"date",value:x?F0(x,"yyyy-MM-dd"):"",onChange:G=>k(G.target.value?new Date(G.target.value):null),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400",style:{minWidth:200}}),(p||x)&&b.jsxs("button",{onClick:()=>{O(null),k(null)},className:"flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[b.jsx(Ii,{className:"h-4 w-4"}),"Clear"]})]})]}),p&&x&&b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing trades from ",F0(p,"MMM dd, yyyy")," to ",F0(x,"MMM dd, yyyy")]})]})}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:F.getHeaderGroups().map(G=>b.jsx("tr",{children:G.headers.map(J=>b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",style:{width:`${J.getSize()}px`,minWidth:`${J.getSize()}px`,maxWidth:`${J.getSize()}px`},children:J.isPlaceholder?null:gB(J.column.columnDef.header,J.getContext())},J.id))},G.id))}),b.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[F.getRowModel().rows.length===0?b.jsx("tr",{children:b.jsxs("td",{colSpan:W.length,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:["No trades found. ",b.jsx(Ou,{to:"/trades/new",className:"text-blue-500 hover:underline",children:"Create your first trade"})]})}):F.getRowModel().rows.map(G=>b.jsx("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:G.getVisibleCells().map(J=>b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",style:{width:`${J.column.getSize()}px`,minWidth:`${J.column.getSize()}px`,maxWidth:`${J.column.getSize()}px`},children:gB(J.column.columnDef.cell,J.getContext())},J.id))},G.id)),b.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-t-2 border-gray-300 dark:border-gray-600 font-semibold",children:[b.jsx("td",{colSpan:11,className:"px-6 py-3 text-sm font-semibold text-gray-900 dark:text-white",children:"Total:"}),b.jsx("td",{className:"px-6 py-3 text-sm font-semibold",children:b.jsx("span",{className:`${X>0?"text-green-600 dark:text-green-400":X<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:Sa(X)})}),b.jsx("td",{className:"px-6 py-3"})]})]})]})}),F.getPageCount()>1&&b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",F.getState().pagination.pageIndex*F.getState().pagination.pageSize+1," to"," ",Math.min((F.getState().pagination.pageIndex+1)*F.getState().pagination.pageSize,F.getFilteredRowModel().rows.length)," ","of ",F.getFilteredRowModel().rows.length," trades"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>F.previousPage(),disabled:!F.getCanPreviousPage(),className:"px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),b.jsx("button",{onClick:()=>F.nextPage(),disabled:!F.getCanNextPage(),className:"px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}):b.jsx(lye,{filteredData:M,columnFilters:h})]})}const eo=H.forwardRef(({className:t,type:e,...r},n)=>b.jsx("input",{type:e,className:pa("flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 dark:placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));eo.displayName="Input";var dye="Label",qq=H.forwardRef((t,e)=>b.jsx(ii.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qq.displayName=dye;var Wq=qq;const yB=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wB=wV,Yq=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return wB(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(f=>{const p=r==null?void 0:r[f],O=a==null?void 0:a[f];if(p===null)return null;const x=yB(p)||yB(O);return s[f][x]}),c=r&&Object.entries(r).reduce((f,p)=>{let[O,x]=p;return x===void 0||(f[O]=x),f},{}),h=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:O,className:x,...k}=p;return Object.entries(k).every(w=>{let[_,C]=w;return Array.isArray(C)?C.includes({...a,...c}[_]):{...a,...c}[_]===C})?[...f,O,x]:f},[]);return wB(t,l,h,r==null?void 0:r.class,r==null?void 0:r.className)},hye=Yq("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-700 dark:text-gray-300"),gs=H.forwardRef(({className:t,...e},r)=>b.jsx(Wq,{ref:r,className:pa(hye(),t),...e}));gs.displayName=Wq.displayName;function vB(){const{id:t}=ome(),e=dg(),{user:r}=Bi(),n=!!t,[s,a]=H.useState({asset:"",asset_type:"FX",trade_type:"Long",size:"",session:"London 1",duration:"",entry_price:"",exit_price:"",time:new Date().toISOString().slice(0,16),outcome:"win",pnl:"",entry_tag:"",emotion:"Calm",analysis:"3",execution:"3",trade_management:"3",risk_management:"3",mindset:"3",what_liked:"",what_didnt_like:"",comment:""}),[l,c]=H.useState(!1),[h,f]=H.useState(n);H.useEffect(()=>{n&&t&&(async()=>{var k,w,_,C,T,E,P,Q,B;try{f(!0);const R=await lOe(t);R&&a({asset:R.asset||"",asset_type:R.asset_type||"FX",trade_type:R.trade_type||"Long",size:((k=R.size)==null?void 0:k.toString())||"",session:R.session||"London 1",duration:R.duration||"",entry_price:((w=R.entry_price)==null?void 0:w.toString())||"",exit_price:((_=R.exit_price)==null?void 0:_.toString())||"",time:R.time?new Date(R.time).toISOString().slice(0,16):new Date().toISOString().slice(0,16),outcome:R.outcome||"win",pnl:((C=R.pnl)==null?void 0:C.toString())||"",entry_tag:R.entry_tag||"",emotion:R.emotion||"Calm",analysis:((T=R.analysis)==null?void 0:T.toString())||"3",execution:((E=R.execution)==null?void 0:E.toString())||"3",trade_management:((P=R.trade_management)==null?void 0:P.toString())||"3",risk_management:((Q=R.risk_management)==null?void 0:Q.toString())||"3",mindset:((B=R.mindset)==null?void 0:B.toString())||"3",what_liked:R.what_liked||"",what_didnt_like:R.what_didnt_like||"",comment:R.comment||""})}catch(R){console.error("Error loading trade:",R),alert("Failed to load trade data")}finally{f(!1)}})()},[n,t]);const p=x=>{const{name:k,value:w}=x.target;a(_=>({..._,[k]:w}))},O=async x=>{if(x.preventDefault(),!!r){c(!0);try{const k={...s,user_id:r.id,size:parseFloat(s.size),entry_price:parseFloat(s.entry_price),exit_price:parseFloat(s.exit_price),pnl:parseFloat(s.pnl),analysis:parseInt(s.analysis)||3,execution:parseInt(s.execution)||3,trade_management:parseInt(s.trade_management)||3,risk_management:parseInt(s.risk_management)||3,mindset:parseInt(s.mindset)||3};n?await AU(t,k):await cOe(k),e("/trades")}catch(k){console.error("Error saving trade:",k),alert("Failed to save trade")}finally{c(!1)}}};return b.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>e("/trades"),className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:b.jsx(V6,{className:"h-6 w-6"})}),b.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n?"Edit Trade":"New Trade"})]}),h?b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading trade data..."})})}):b.jsxs("form",{onSubmit:O,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"asset",children:"Asset"}),b.jsx(eo,{id:"asset",type:"text",name:"asset",value:s.asset,onChange:p,required:!0,placeholder:"e.g., BTC/USD, AAPL"})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"trade_type",children:"Trade Type"}),b.jsxs("select",{id:"trade_type",name:"trade_type",value:s.trade_type,onChange:p,className:"flex h-10 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm text-gray-900 dark:text-gray-100 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 dark:placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[b.jsx("option",{value:"Long",children:"Long"}),b.jsx("option",{value:"Short",children:"Short"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asset Type"}),b.jsxs("select",{name:"asset_type",value:s.asset_type,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"FX",children:"FX"}),b.jsx("option",{value:"Futures",children:"Futures"}),b.jsx("option",{value:"Metals",children:"Metals"}),b.jsx("option",{value:"Commodities",children:"Commodities"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session"}),b.jsxs("select",{name:"session",value:s.session,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"Asia",children:"Asia"}),b.jsx("option",{value:"London 1",children:"London 1"}),b.jsx("option",{value:"London 2",children:"London 2"}),b.jsx("option",{value:"London 3",children:"London 3"}),b.jsx("option",{value:"New York 1",children:"New York 1"}),b.jsx("option",{value:"New York 2",children:"New York 2"}),b.jsx("option",{value:"New York 3",children:"New York 3"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration"}),b.jsx("input",{type:"text",name:"duration",value:s.duration,onChange:p,placeholder:"e.g., 2h 30m",className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"size",children:"Size"}),b.jsx(eo,{id:"size",type:"number",name:"size",value:s.size,onChange:p,required:!0,step:"0.01",placeholder:"Position size"})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"entry_price",children:"Entry Price"}),b.jsx(eo,{id:"entry_price",type:"number",name:"entry_price",value:s.entry_price,onChange:p,required:!0,step:"0.01",placeholder:"Entry price"})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"exit_price",children:"Exit Price"}),b.jsx(eo,{id:"exit_price",type:"number",name:"exit_price",value:s.exit_price,onChange:p,required:!0,step:"0.01",placeholder:"Exit price"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time"}),b.jsx("input",{type:"datetime-local",name:"time",value:s.time,onChange:p,required:!0,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Outcome"}),b.jsxs("select",{name:"outcome",value:s.outcome,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"win",children:"Win"}),b.jsx("option",{value:"loss",children:"Loss"}),b.jsx("option",{value:"break_even",children:"Break Even"})]})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"pnl",children:"P&L"}),b.jsx(eo,{id:"pnl",type:"number",name:"pnl",value:s.pnl,onChange:p,required:!0,step:"0.01",placeholder:"Profit/Loss amount"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entry Tag"}),b.jsx("input",{type:"text",name:"entry_tag",value:s.entry_tag,onChange:p,placeholder:"e.g., Breakout, Reversal",className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Emotion"}),b.jsxs("select",{name:"emotion",value:s.emotion,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"Calm",children:"Calm"}),b.jsx("option",{value:"Anxious",children:"Anxious"}),b.jsx("option",{value:"Excited",children:"Excited"}),b.jsx("option",{value:"Confident",children:"Confident"}),b.jsx("option",{value:"Fearful",children:"Fearful"})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Performance Scores (1-5)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Analysis"}),b.jsxs("select",{name:"analysis",value:s.analysis,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"1",children:"1 - Poor analysis, lacked key market insights"}),b.jsx("option",{value:"2",children:"2 - Below average analysis, missed important factors"}),b.jsx("option",{value:"3",children:"3 - Adequate analysis, covered basic requirements"}),b.jsx("option",{value:"4",children:"4 - Good analysis, identified most key factors"}),b.jsx("option",{value:"5",children:"5 - Excellent analysis, comprehensive market understanding"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Execution"}),b.jsxs("select",{name:"execution",value:s.execution,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"1",children:"1 - Poor execution, multiple errors or delays"}),b.jsx("option",{value:"2",children:"2 - Below average execution, some inefficiencies"}),b.jsx("option",{value:"3",children:"3 - Adequate execution, minor issues"}),b.jsx("option",{value:"4",children:"4 - Good execution, smooth and professional"}),b.jsx("option",{value:"5",children:"5 - Excellent execution, flawless and timely"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trade Management"}),b.jsxs("select",{name:"trade_management",value:s.trade_management,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"1",children:"1 - Poor management, no clear plan or adjustments"}),b.jsx("option",{value:"2",children:"2 - Below average management, reactive approach"}),b.jsx("option",{value:"3",children:"3 - Adequate management, basic trade supervision"}),b.jsx("option",{value:"4",children:"4 - Good management, proactive adjustments as needed"}),b.jsx("option",{value:"5",children:"5 - Excellent management, optimal throughout duration"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Management"}),b.jsxs("select",{name:"risk_management",value:s.risk_management,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"1",children:"1 - Poor risk management, high exposure without proper controls"}),b.jsx("option",{value:"2",children:"2 - Below average risk management, insufficient safeguards"}),b.jsx("option",{value:"3",children:"3 - Adequate risk management, basic protection measures"}),b.jsx("option",{value:"4",children:"4 - Good risk management, proper position sizing and stops"}),b.jsx("option",{value:"5",children:"5 - Excellent risk management, optimal risk-reward balance"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mindset"}),b.jsxs("select",{name:"mindset",value:s.mindset,onChange:p,className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500",children:[b.jsx("option",{value:"1",children:"1 - Poor emotional control, fear or greed dominated"}),b.jsx("option",{value:"2",children:"2 - Below average mindset, emotional interference"}),b.jsx("option",{value:"3",children:"3 - Adequate mindset, generally disciplined approach"}),b.jsx("option",{value:"4",children:"4 - Good mindset, strong emotional discipline"}),b.jsx("option",{value:"5",children:"5 - Excellent mindset, perfect emotional control and focus"})]})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What You Liked"}),b.jsx("textarea",{name:"what_liked",value:s.what_liked,onChange:p,rows:3,placeholder:"What went well with this trade?",className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What You Didn't Like"}),b.jsx("textarea",{name:"what_didnt_like",value:s.what_didnt_like,onChange:p,rows:3,placeholder:"What could have been better?",className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Comments"}),b.jsx("textarea",{name:"comment",value:s.comment,onChange:p,rows:4,placeholder:"Any additional notes about this trade...",className:"w-full px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border-0 focus:ring-2 focus:ring-green-500"})]})]}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsx("button",{type:"button",onClick:()=>e("/trades"),className:"px-6 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),b.jsxs("button",{type:"submit",disabled:l,className:"flex items-center px-6 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(vC,{className:"h-5 w-5 mr-2"}),l?"Saving...":"Save Trade"]})]})]})]})}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function uye(){const t={resolve:null,promise:null};return t.promise=new Promise(e=>{t.resolve=e}),t}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function fye(t){let e=null;return(...r)=>(e||(e={current:t(...r)}),e.current)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const ls=new Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));function gye(){const[t,e,r,n]=crypto.getRandomValues(new Uint32Array(4));return"e"+ls[t>>0&255]+ls[t>>8&255]+ls[t>>16&255]+ls[t>>24&255]+ls[e>>0&255]+ls[e>>8&255]+ls[e>>16&255]+ls[e>>24&255]+ls[r>>0&255]+ls[r>>8&255]+ls[r>>16&255]+ls[r>>24&255]+ls[n>>0&255]+ls[n>>8&255]+ls[n>>16&255]+ls[n>>24&255]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function pye(t,e){const r=t.extraPlugins||[];return{...t,extraPlugins:[...r,...e.filter(n=>!r.includes(n))]}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Zq(t){return!!t&&/^\d+\.\d+\.\d+/.test(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Gq(t){return t?["nightly","alpha","internal","nightly-","staging"].some(e=>t.includes(e)):!1}function mye(t){return Zq(t)||Gq(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Oye(t){if(!Zq(t))throw new Error(`Invalid semantic version: ${t||"<blank>"}.`);const[e,r,n]=t.split(".");return{major:Number.parseInt(e,10),minor:Number.parseInt(r,10),patch:Number.parseInt(n,10)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function xye(t){if(Gq(t))return 3;const{major:e}=Oye(t);switch(!0){case e>=44:return 3;case e>=38:return 2;default:return 1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function bye(){const{CKEDITOR_VERSION:t,CKEDITOR:e}=window;return mye(t)?{source:e?"cdn":"npm",version:t}:null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function kye(){const t=bye();return t?xye(t.version):null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Hq(t,e){switch(e||(e=kye()||void 0),e){case 1:case 2:return t===void 0;case 3:return t==="GPL";default:return!1}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function yye(t,e){return function(n){Hq(n.config.get("licenseKey"))||n.on("collectUsageData",(s,{setUsageData:a})=>{a(`integration.${t}`,e)})}}var wye=Object.defineProperty,vye=(t,e,r)=>e in t?wye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oa=(t,e,r)=>vye(t,typeof e!="symbol"?e+"":e,r);/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Kq=class Jq{constructor(e,r){oa(this,"_lifecycle"),oa(this,"_element"),oa(this,"_releaseLock",null),oa(this,"_value",null),oa(this,"_afterMountCallbacks",[]),oa(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),oa(this,"release",fye(()=>{const{_releaseLock:n,_state:s,_element:a,_lifecycle:l}=this;s.mountingInProgress?s.mountingInProgress.then(()=>l.unmount({element:a,mountResult:this.value})).catch(c=>{console.error("CKEditor unmounting error:",c)}).then(n.resolve).then(()=>{this._value=null}):(s.destroyedBeforeInitialization=!0,n.resolve())})),this._element=e,this._lifecycle=r,this._lock()}get value(){return this._value}discard(){this._value=null,this._releaseLock=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null}}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach(r=>{this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(e)||r(e)}),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:r,_afterMountCallbacks:n}=this;if(r){if(this._lifecycle.isValueValid&&!this._lifecycle.isValueValid(r))return;e(r)}else n.push(e)}_lock(){const{_semaphores:e}=Jq,{_state:r,_element:n,_lifecycle:s}=this,a=e.get(n)||Promise.resolve(null),l=uye();this._releaseLock=l;const c=a.then(()=>r.destroyedBeforeInitialization?Promise.resolve(void 0):(r.mountingInProgress=s.mount().then(h=>(h&&this.unsafeSetValue(h),h)),r.mountingInProgress)).then(async h=>{h&&s.afterMount&&await s.afterMount({element:n,mountResult:h})}).then(()=>l.promise).catch(h=>{console.error("CKEditor mounting error:",h)}).then(()=>{e.get(n)===c&&e.delete(n)});e.set(n,c)}};oa(Kq,"_semaphores",new Map);let _ye=Kq;/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Cye="$__CKEditorReactContextMetadata";function Aye(t,e){return{...e,[Cye]:t}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Sye=Go.createContext(null),Tye=t=>!!t&&typeof t=="object"&&"status"in t&&["initializing","initialized","error"].includes(t.status),eW=t=>e=>Tye(e)&&e.status===t,_B=eW("initializing"),Eye=t=>eW("initialized")(t)&&t.watchdog.state==="ready";/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Pye=yye("react",{version:"11.0.0",frameworkVersion:Go.version});/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function Dye(t){return Hq(t.licenseKey)?t:pye(t,[Pye])}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const t5="Lock from React integration (@ckeditor/ckeditor5-react)";class tW extends Go.Component{constructor(e){super(e),oa(this,"domContainer",Go.createRef()),oa(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[r]=e.split(".").map(Number);r>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:r,editorSemaphore:n}=this;return e.id!==r.id||e.disableWatchdog!==r.disableWatchdog?!0:(n&&(n.runAfterMount(({instance:s})=>{this._shouldUpdateEditorData(r,e,s)&&s.data.set(e.data)}),"disabled"in e&&n.runAfterMount(({instance:s})=>{e.disabled?s.enableReadOnlyMode(t5):s.disableReadOnlyMode(t5)})),!1)}componentDidMount(){_B(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){_B(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new _ye(this.domContainer.current,{isValueValid:e=>e&&!!e.instance,mount:async()=>{var e,r;try{return await this._initializeEditor()}catch(n){throw(r=(e=this.props).onError)==null||r.call(e,n,{phase:"initialization",willEditorRestart:!1}),n}},afterMount:({mountResult:e})=>{const{onReady:r}=this.props;r&&this.domContainer.current!==null&&r(e.instance)},unmount:async({element:e,mountResult:r})=>{const{onAfterDestroy:n}=this.props;try{await this._destroyEditor(r),e.innerHTML=""}finally{n&&n(r.instance)}}})}render(){return Go.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const e=Eye(this.context)?new Qye(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig),r={current:0};return e.setCreator(async(n,s)=>{var a;const{editorSemaphore:l}=this,{onAfterDestroy:c}=this.props;r.current>0&&c&&((a=l==null?void 0:l.value)!=null&&a.instance)&&c(l.value.instance);const h=await this._createEditor(n,s);return l&&r.current>0&&(l.unsafeSetValue({instance:h,watchdog:e}),setTimeout(()=>{this.props.onReady&&this.props.onReady(e.editor)})),r.current++,h}),e.on("error",(n,{error:s,causesRestart:a})=>{(this.props.onError||console.error)(s,{phase:"runtime",willEditorRestart:a})}),await e.create(this.domContainer.current,this._getConfig()),{watchdog:e,instance:e.editor}}_createEditor(e,r){const{contextItemMetadata:n}=this.props;return n&&(r=Aye(n,r)),this.props.editor.create(e,Dye(r)).then(s=>{if("disabled"in this.props){/* istanbul ignore else -- @preserve */this.props.disabled&&s.enableReadOnlyMode(t5)}const a=s.model.document,l=s.editing.view.document;return a.on("change:data",c=>{/* istanbul ignore else -- @preserve */this.props.onChange&&this.props.onChange(c,s)}),l.on("focus",c=>{/* istanbul ignore else -- @preserve */this.props.onFocus&&this.props.onFocus(c,s)}),l.on("blur",c=>{/* istanbul ignore else -- @preserve */this.props.onBlur&&this.props.onBlur(c,s)}),s})}async _destroyEditor(e){const{watchdog:r,instance:n}=e;return new Promise((s,a)=>{/* istanbul ignore next -- @preserve */setTimeout(async()=>{try{if(r)return await r.destroy(),s();if(n)return await n.destroy(),s();s()}catch(l){console.error(l),a(l)}})})}_shouldUpdateEditorData(e,r,n){return!(e.data===r.data||n.data.get()===r.data)}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}oa(tW,"contextType",Sye);class Qye{constructor(e){oa(this,"_contextWatchdog"),oa(this,"_id"),oa(this,"_creator"),this._contextWatchdog=e,this._id=gye()}setCreator(e){this._creator=e}create(e,r){return this._contextWatchdog.add({sourceElementOrData:e,config:r,creator:this._creator,id:this._id,type:"editor"})}on(e,r){this._contextWatchdog.on("itemError",(n,{itemId:s,error:a})=>{s===this._id&&r(null,{error:a,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function rW(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}const $ye=H.memo(H.forwardRef(({id:t,semaphore:e,rootName:r},n)=>{const s=H.useRef(null);return H.useEffect(()=>{let a,l;return e.runAfterMount(({instance:c})=>{if(!s.current)return;l=c;const{ui:h,model:f}=l,p=f.document.getRoot(r);p&&l.ui.getEditableElement(r)&&l.detachEditable(p),a=h.view.createEditable(r,s.current),h.addEditable(a),c.editing.view.forceRender()}),()=>{/* istanbul ignore next -- @preserve: It depends on the version of the React and may not happen all of the times. */if(l&&l.state!=="destroyed"&&s.current){const c=l.model.document.getRoot(r);/* istanbul ignore else -- @preserve */c&&l.detachEditable(c)}}},[e.revision]),Go.createElement("div",{key:e.revision,id:t,ref:rW(n,s)})}));$ye.displayName="EditorEditable";const Mye=H.forwardRef(({editor:t},e)=>{const r=H.useRef(null);return H.useEffect(()=>{const n=r.current;if(!t||!n)return;const s=t.ui.view.toolbar.element;return n.appendChild(s),()=>{n.contains(s)&&n.removeChild(s)}},[t&&t.id]),Go.createElement("div",{ref:rW(r,e)})});Mye.displayName="EditorToolbarWrapper";var $1={exports:{}};$1.exports;var CB;function Rye(){return CB||(CB=1,(function(t,e){(function(r){const n=r.en=r.en||{};n.dictionary=Object.assign(n.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown menu":"Dropdown menu","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.",File:"File","From computer":"From computer","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Image:"Image","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","Image via URL":"Image via URL","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert via URL":"Insert via URL","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman",Media:"Media","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus from an editable area back to the parent widget":"Move focus from an editable area back to the parent widget","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Scroll to target":"Scroll to target","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar","Via URL":"Via URL",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","With file manager":"With file manager","Wrap text":"Wrap text",Yellow:"Yellow","You have no image editing permissions.":"You have no image editing permissions.","You have no image upload permissions.":"You have no image upload permissions."}),n.getPluralForm=function(s){return s!=1}})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),(function(r,n){t.exports=n()})(self,(()=>(()=>{var r={4:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const k=x},25:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAGC,eAAgB,CAChB,aAAc,CAFd,eAAiB,CADjB,UAmBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=x},62:l=>{l.exports=function(c,h){return h||(h={}),c&&(c=String(c.__esModule?c.default:c),/^['"].*['"]$/.test(c)&&(c=c.slice(1,-1)),h.hash&&(c+=h.hash),/["'() \t\n]|(%20)/.test(c)||h.needQuotes?'"'.concat(c.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):c)}},70:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=x},109:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:ck-spinner-rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes ck-spinner-rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,gDAAiD,CADjD,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,6BACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite ck-spinner-rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes ck-spinner-rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const k=x},253:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);border-radius:0;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aAGC,2CAA4C,CAC5C,6CAA8C,CCT9C,eAAgB,CDchB,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CCjDC,iEAEC,qCAED,CDaA,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},265:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=x},278:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-list-item-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list-item-button{text-align:left}[dir=rtl] .ck.ck-list-item-button{text-align:right}[dir=ltr] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button.ck-list-item-button_toggleable{padding-right:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-holder{display:inline-flex;height:.9em;width:.9em}[dir=ltr] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-list-item-button .ck-list-item-button__check-holder{margin-left:var(--ck-spacing-small)}.ck.ck-list-item-button .ck-list-item-button__check-icon{height:100%}.ck.ck-button.ck-list-item-button{padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2)}.ck.ck-button.ck-list-item-button,.ck.ck-button.ck-list-item-button.ck-on{background:var(--ck-color-list-background);color:var(--ck-color-text)}[dir=ltr] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-list-item-button:has(.ck-list-item-button__check-holder){padding-right:var(--ck-spacing-small)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:hover,.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-button.ck-list-item-button.ck-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:hover:not(.ck-disabled),.ck.ck-button.ck-list-item-button.ck-on:not(.ck-list-item-button_toggleable):not(.ck-disabled),.ck.ck-button.ck-list-item-button:hover:not(.ck-disabled):not(.ck-disabled){color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/listitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/listitembutton.css"],names:[],mappings:"AAOA,wBAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAsCD,CCzCC,kCDOC,eCLD,CAFA,kCDWC,gBCTD,CAFA,iEDgBE,oCCdF,CAFA,iEDoBE,qCClBF,CDsBA,2DACC,mBAAoB,CAEpB,WAAY,CADZ,UAUD,CCpCA,qED8BE,oCC5BF,CAFA,qEDkCE,mCChCF,CDoCA,yDACC,WACD,CEvCD,kCACC,iEAiCD,CA/BC,0EAEC,0CAA2C,CAC3C,0BACD,CDRA,oFCYE,oCDVF,CAFA,oFCgBE,qCDdF,CCuBA,6OAIC,uDAKD,CAHC,qTACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_dir.css";

.ck.ck-list-item-button {
	min-height: unset;
	width: 100%;
	border-radius: 0;

	@mixin ck-dir ltr {
		text-align: left;
	}

	@mixin ck-dir rtl {
		text-align: right;
	}

	&.ck-list-item-button_toggleable {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-holder {
		display: inline-flex;
		width: .9em;
		height: .9em;

		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-small);
		}
	}

	& .ck-list-item-button__check-icon {
		height: 100%;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button.ck-list-item-button {
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));

	&,
	&.ck-on {
		background: var(--ck-color-list-background);
		color: var(--ck-color-text);
	}

	&:has(.ck-list-item-button__check-holder) {
		@mixin ck-dir ltr {
			padding-left: var(--ck-spacing-small);
		}

		@mixin ck-dir rtl {
			padding-right: var(--ck-spacing-small);
		}
	}

	/*
	 * \`.ck-on\` class and background styling is overridden for \`ck-button\` in many places.
	 * This is a workaround to make sure that the background is not overridden and uses similar
	 * selector specificity as the other overrides.
	 */
	&:hover:not(.ck-disabled),
	&.ck-button.ck-on:hover,
	&.ck-on:not(.ck-list-item-button_toggleable),
	&.ck-on:hover {
		background: var(--ck-color-list-button-hover-background);

		&:not(.ck-disabled) {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=x},497:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const k=x},657:l=>{l.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4="},695:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{box-shadow:var(--ck-inner-shadow),0 0}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused:not(td,th),.ck .ck-editor__nested-editable:focus:not(td,th){border:var(--ck-focus-ring);outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAoBD,CAhBC,yGCrCA,qCDoDA,CE/CA,4BACC,yGFmCC,iEEjCD,CACD,CFwCC,+HG/CD,2BAA2B,CAD3B,YHkDC,CAKD,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}

		/**
		 * Focus border should not be applied to table cells because it overrides the default table cell border color.
		 * In other words - in some scenarios, the part of the table cell border has focus color style, which is not expected behavior
		 * because it should be the same as the table cell border color.
		 */
		&:not(td, th) {
			@mixin ck-focus-ring;
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const k=x},802:(l,c,h)=>{const f=h(9246);function p(k){const w=(function(){const C={},T=Object.keys(f);for(let E=T.length,P=0;P<E;P++)C[T[P]]={distance:-1,parent:null};return C})(),_=[k];for(w[k].distance=0;_.length;){const C=_.pop(),T=Object.keys(f[C]);for(let E=T.length,P=0;P<E;P++){const Q=T[P],B=w[Q];B.distance===-1&&(B.distance=w[C].distance+1,B.parent=C,_.unshift(Q))}}return w}function O(k,w){return function(_){return w(k(_))}}function x(k,w){const _=[w[k].parent,k];let C=f[w[k].parent][k],T=w[k].parent;for(;w[T].parent;)_.unshift(w[T].parent),C=O(f[w[T].parent][T],C),T=w[T].parent;return C.conversion=_,C}l.exports=function(k){const w=p(k),_={},C=Object.keys(w);for(let T=C.length,E=0;E<T;E++){const P=C[E];w[P].parent!==null&&(_[P]=x(P,w))}return _}},935:l=>{l.exports=function(c){var h=[];return h.toString=function(){return this.map((function(f){var p="",O=f[5]!==void 0;return f[4]&&(p+="@supports (".concat(f[4],") {")),f[2]&&(p+="@media ".concat(f[2]," {")),O&&(p+="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {")),p+=c(f),O&&(p+="}"),f[2]&&(p+="}"),f[4]&&(p+="}"),p})).join("")},h.i=function(f,p,O,x,k){typeof f=="string"&&(f=[[null,f,void 0]]);var w={};if(O)for(var _=0;_<this.length;_++){var C=this[_][0];C!=null&&(w[C]=!0)}for(var T=0;T<f.length;T++){var E=[].concat(f[T]);O&&w[E[0]]||(k!==void 0&&(E[5]===void 0||(E[1]="@layer".concat(E[5].length>0?" ".concat(E[5]):""," {").concat(E[1],"}")),E[5]=k),p&&(E[2]&&(E[1]="@media ".concat(E[2]," {").concat(E[1],"}")),E[2]=p),x&&(E[4]?(E[1]="@supports (".concat(E[4],") {").concat(E[1],"}"),E[4]=x):E[4]="".concat(x)),h.push(E))}},h}},977:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{font-size:var(--ck-icon-font-size)}[dir=ltr] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAWC,iEACC,eAoBD,CAlBC,0LAGC,8BACD,CAEA,uFAEC,kCASD,CCzBD,iGDmBG,qCCjBH,CAFA,iGDuBG,oCCrBH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* This ensures margins corresponding to the .ck-icon. */
			font-size: var(--ck-icon-font-size);

			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}
}


`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},991:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=x},1185:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CCTC,yJAEC,qCAED,CDCA,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},1232:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=x},1559:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=x},1623:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both;background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8EAgBC,iEAAkE,CAblE,qCAAsC,CC3CxC,eAAgB,CD4Cd,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CC3DD,mMAEC,qCAED,CD4CE,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAIA,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},1666:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=x},1671:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const k=x},1792:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAQE,oIAGC,gCAAiC,CADjC,6BAED,CAEA,oIAGC,+BAAgC,CADhC,4BAED,CAGD,0CAGC,eAiBD,CAfC,oDAGC,+BAAgC,CADhC,4BAED,CAEA,oDAGC,gCAAiC,CADjC,6BAED,CAEA,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAIA,uCCnDA,eD6DA,CC3DA,qHAEC,qCAED,CD+CE,qKACC,2BACD,CAEA,mKACC,4BACD,CAUD,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		[dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		[dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		[dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		[dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		[dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},1801:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const k=x},1866:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const k=x},1905:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const k=x},2001:l=>{l.exports=function(c){var h=c[1],f=c[3];if(!f)return h;if(typeof btoa=="function"){var p=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),O="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),x="/*# ".concat(O," */");return[h].concat([x]).join(`
`)}return[h].join(`
`)}},2171:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-dropdown-menu-menu-item-min-width:18em}.ck.ck-dropdown-menu-list__nested-menu__item{min-width:var(--ck-dropdown-menu-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitem.css"],names:[],mappings:"AAKA,MACC,2CACD,CAEA,6CACC,qDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-menu-menu-item-min-width: 18em;
}

.ck.ck-dropdown-menu-list__nested-menu__item {
	min-width: var(--ck-dropdown-menu-menu-item-min-width);
}
`],sourceRoot:""}]);const k=x},2267:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=x},2329:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}@media print{.ck-content .table table{height:auto}}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAeF,aACC,yBACC,WACD,CACD,CAIA,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/**
 * Expanding the table to the full height of the parent container is necessary because tables
 * are rendered inside <figure> elements, which is kinda buggy in table height calculation.
 * While setting \`height: 100%\` fixes the issue in the editing mode described here:
 * https://github.com/ckeditor/ckeditor5/issues/6186
 *
 * it's causing another issue with the table height in the print preview mode here:
 * https://github.com/ckeditor/ckeditor5/issues/16856
 *
 * For now, resetting the height to \`initial\` in the print mode works as a workaround.
 */
@media print {
	.ck-content .table table {
		height: initial;
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=x},2591:l=>{var c=[];function h(O){for(var x=-1,k=0;k<c.length;k++)if(c[k].identifier===O){x=k;break}return x}function f(O,x){for(var k={},w=[],_=0;_<O.length;_++){var C=O[_],T=x.base?C[0]+x.base:C[0],E=k[T]||0,P="".concat(T," ").concat(E);k[T]=E+1;var Q=h(P),B={css:C[1],media:C[2],sourceMap:C[3],supports:C[4],layer:C[5]};if(Q!==-1)c[Q].references++,c[Q].updater(B);else{var R=p(B,x);x.byIndex=_,c.splice(_,0,{identifier:P,updater:R,references:1})}w.push(P)}return w}function p(O,x){var k=x.domAPI(x);return k.update(O),function(w){if(w){if(w.css===O.css&&w.media===O.media&&w.sourceMap===O.sourceMap&&w.supports===O.supports&&w.layer===O.layer)return;k.update(O=w)}else k.remove()}}l.exports=function(O,x){var k=f(O=O||[],x=x||{});return function(w){w=w||[];for(var _=0;_<k.length;_++){var C=h(k[_]);c[C].references--}for(var T=f(w,x),E=0;E<k.length;E++){var P=h(k[E]);c[P].references===0&&(c[P].updater(),c.splice(P,1))}k=T}}},2655:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CC7BC,6CDQG,mCCNH,CAFA,6CDYG,oCCVH,CDeA,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},2710:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=x},2722:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CC5DF,0ODmEG,aCjEH,CDmEG,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},3051:l=>{l.exports=function(c){var h=document.createElement("style");return c.setAttributes(h,c.attributes),c.insert(h,c.options),h}},3344:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;overflow:visible;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small);transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECbD,kCDeC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAsBD,CAnBC,+FAEC,iBAAkB,CAMlB,gBAAiB,CAPjB,WAQD,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eA+BD,CA7BC,qHACC,mCAuBD,CE3FD,+HF0EG,sCAAuC,CAGvC,6CAAgD,CANhD,wBErEH,CAFA,+HFmFG,+BAAgC,CAMhC,4CAA+C,CAH/C,oCAAqC,CALrC,uBE/EH,CF2FC,iIC1FD,kCD4FC",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;

			/*
			 * Top-level buttons don't use ellipsis and overflow: hidden clips descenders.
			 *  See https://github.com/ckeditor/ckeditor5/issues/17422.
			 */
			overflow: visible;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);

				/* Nudge the arrow gently to the right because its center of gravity is to the left */
				margin-right: calc(-1 * var(--ck-spacing-small));
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);

				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);

				/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
				margin-left: calc(-1 * var(--ck-spacing-small));
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},3350:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width);padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CACd,UASD,CCpCA,iDD8BE,eC5BF,CAFA,iDDkCE,gBChCF,CDoCA,4CASC,oDACD,CATC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,iDACC,oDAAqD,CACrD,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-image-insert-url {
	width: 400px;
	padding: var(--ck-spacing-large) var(--ck-spacing-large) 0;

	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},3469:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=x},3610:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{max-height:314px;overflow-y:auto;position:absolute;z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-menu-menu-panel-max-width:75vw}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-dropdown-menu-menu-panel-max-width)}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:after,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:before{display:none}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_es,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_se{border-top-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_sw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ws{border-top-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_en,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_ne{border-bottom-left-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_nw,.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel.ck-balloon-panel_wn{border-bottom-right-radius:0}.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,0DAEC,gBAAiB,CACjB,eAAgB,CAFhB,iBAAkB,CAGlB,mCACD,CCFA,MACC,4CACD,CAEA,0DAGC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CCRT,oCAA8B,CDS9B,kBAAmB,CACnB,sDAgCD,CA7BC,iIAEC,YACD,CAGA,4JAEC,wBACD,CAEA,4JAEC,yBACD,CAEA,4JAEC,2BACD,CAEA,4JAEC,4BACD,CAEA,gEACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	position: absolute;
	max-height: 314px; /* With the default settings, this is equal to 10 menu items. */
	overflow-y: auto;
	z-index: calc(var(--ck-z-panel) + 1);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_rounded.css";
@import "../../../../mixins/_shadow.css";

:root {
	--ck-dropdown-menu-menu-panel-max-width: 75vw;
}

.ck.ck-balloon-panel.ck-dropdown-menu__nested-menu__panel {
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-dropdown-menu-menu-panel-max-width);

	/* Reset balloon styling */
	&::after,
	&::before {
		display: none;
	}

	/* Corner border radius consistent with the button. */
	&.ck-balloon-panel_es,
	&.ck-balloon-panel_se {
		border-top-left-radius: 0;
	}

	&.ck-balloon-panel_ws,
	&.ck-balloon-panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-balloon-panel_en,
	&.ck-balloon-panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-balloon-panel_wn,
	&.ck-balloon-panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},3629:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CCnBC,iIAEC,qCAAsC,CDJtC,wBCMD,CDAC,mFCND,eDYC,CCVD,6MAEC,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBCFH,CDQC,kFCdD,eDmBC,CCjBD,2MAEC,qCAAsC,CDYpC,wBAAyB,CACzB,yBCXH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},3710:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);border-radius:0;min-height:15px}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBAMC,2CAA4C,CAC5C,wEAAyE,CCZzE,eAAgB,CDShB,eA0LD,CCjMC,iFAEC,qCAED,CDDD,qBEPC,oCFqMD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},3817:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:0 var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CC1BD,4GDiCE,aC/BF,CDiCE,mEACC,kDACD,CAKF,6CACC,gCAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: 0 var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},4043:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},4062:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},4095:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=x},4098:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const k=x},4143:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=x},4199:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=x},4391:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;border-radius:0;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);border-radius:0;height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CC3BA,0DDgCE,4CC9BF,CAFA,0DDqCE,2CCnCF,CDuCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CEpD9B,eAAgB,CFmDf,iFAAsF,CAEtF,0CA2BD,CE9EA,yIAEC,qCAED,CDXA,2DD8CE,gBC5CF,CAFA,2DDmDE,iBCjDF,CD2DC,2EAOC,yDAA0D,CE/D5D,eAAgB,CF8Dd,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CErED,6LAEC,qCAAsC,CFsDpC,8CEpDH,CF8DE,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DGpFA,kCHsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CC/GF,2FDsHI,2DCpHJ,CAFA,2FD0HI,oECxHJ",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=x},4642:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},4767:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-button.ck-dropdown-menu-list__nested-menu__item__button{border-radius:0}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container,.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck-button.ck-dropdown-menu-list__nested-menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus{border-color:transparent;box-shadow:none}.ck-button.ck-dropdown-menu-list__nested-menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenulistitembutton.css"],names:[],mappings:"AAQA,4DACC,eA0BD,CAxBC,gLAGC,8BACD,CAEA,kFAEC,4CAA+C,CAC/C,oCACD,CAMA,kEACC,wBAAyB,CACzB,eAKD,CAHC,8EACC,0DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/*
 * List item buttons.
 */
.ck-button.ck-dropdown-menu-list__nested-menu__item__button {
	border-radius: 0;

	& > .ck-spinner-container,
	& > .ck-spinner-container .ck-spinner {
		/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
		--ck-toolbar-spinner-size: 20px;
	}

	& > .ck-spinner-container {
		/* These margins are the same as for .ck-icon. */
		margin-left: calc(-1 * var(--ck-spacing-small));
		margin-right: var(--ck-spacing-small);
	}

	/*
	 * Hovered items automatically get focused. Default focus styles look odd
	 * while moving across a huge list of items so let's get rid of them
	 */
	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}
}
`],sourceRoot:""}]);const k=x},4782:l=>{l.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+"},4808:(l,c,h)=>{h.d(c,{A:()=>E});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O),k=h(62),w=h.n(k),_=new URL(h(4782),h.b),C=x()(p()),T=w()(_);C.push([l.id,`.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(${T});background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}`,"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,wDAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const E=C},4962:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;top:0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CCjHC,2FAEC,qCAED,CDEA,mEACC,UAwCD,CAtCC,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAvBvB,KAAQ,CA4BR,+JAQD,CErDD,0FFoBG,MAAS,CAGT,6DAA+D,CAF/D,oBEnBH,CAFA,0FF2BG,OAAU,CAEV,sEAA0E,CAD1E,uBE1BH,CFgDE,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CEtGA,2XF0FE,+HExFF,CAFA,2XF8FE,wIE5FF,CFyGA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},5032:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=x},5199:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{background:var(--ck-color-list-background);border-radius:0;list-style-type:none;padding:var(--ck-spacing-small) 0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list__item{cursor:default;min-width:15em}.ck.ck-list__item>.ck-button:not(.ck-list-item-button){border-radius:0;min-height:unset;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}[dir=ltr] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button:not(.ck-list-item-button){text-align:right}.ck.ck-list__item>.ck-button:not(.ck-list-item-button) .ck-button__label{line-height:calc(var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button){background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:not(.ck-list-item-button):focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:not(.ck-list-item-button):hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-button.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium)}.ck-list .ck-list__group:first-child{padding-top:0}:not(.ck-hidden)~.ck-list .ck-list__group{border-top:1px solid var(--ck-color-base-border)}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large) 0}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;margin:var(--ck-spacing-small) 0;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,YAIC,0CAA2C,CCH3C,eAAgB,CDEhB,oBAAqB,CAIrB,iCACD,CCLC,+DAEC,qCAED,CDGD,kBACC,cAAe,CAGf,cA4DD,CA1DC,uDAIC,eAAgB,CAFhB,gBAAiB,CADjB,iEAAoE,CAEpE,UAwCD,CE/DA,iEF2BE,eEzBF,CAFA,iEF+BE,gBE7BF,CFgCC,yEAEC,qEACD,CAEA,8DACC,eACD,CAEA,6DACC,oDAAqD,CACrD,yCAaD,CAXC,oEACC,eACD,CAEA,qFACC,0DACD,CAEA,qFACC,4CACD,CAGD,+EACC,uDACD,CAMA,mDACC,0CAA2C,CAC3C,aAMD,CAJC,2EACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAiBD,CAdC,qCACC,aACD,CAGA,0CACC,gDACD,CAEA,mCACC,cAAe,CACf,eAAiB,CACjB,0DACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CAKX,gCAAiC,CAJjC,UAKD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);

	/* A spacing at the beginning and end of the list */
	padding: var(--ck-spacing-small) 0;
}

.ck.ck-list__item {
	cursor: default;

	/* Almost as wide as menu bar items. */
	min-width: 15em;

	& > .ck-button:not(.ck-list-item-button) {
		padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-button.ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* Lists come with an inner vertical padding. Don't duplicate it. */
	&:first-child {
		padding-top: 0;
	}

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) 0;
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);

	/* Give the separator some air */
	margin: var(--ck-spacing-small) 0;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},5247:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=x},5380:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},5506:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC7BF,+CCME,4BAA6B,CAD7B,yBDHF,CAFA,+CCWE,2BAA4B,CAD5B,wBDRF,CCcC,2CACC,SACD,CAIA,wEACC,SA0CD,CDjED,kFC2BG,2BAA4B,CAD5B,wBDxBH,CC2BG,8FACC,iCACD,CD/BH,kFCoCG,4BAA6B,CAD7B,yBDjCH,CCoCG,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GAKC,6CAA8C,CC/CjD,eAAgB,CD8Cb,WAAY,CADZ,UAcD,CCzDF,+PAEC,qCAED,CD2CG,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CD7ED,8DCgFE,yBD9EF,CAFA,8DCoFE,wBDlFF,CCqFC,gEACC,uCAMD,CD9FD,0EC4FG,sCAAuC,CADvC,cDzFH",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},5562:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},5651:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;
	width: 400px;

	& .ck-labeled-field-view {
		display: inline-block;
		width: 100%;
	}

	& .ck-label {
		display: none;
	}

	& .ck-input {
		width: 100%;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},5727:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;max-height:200px;min-width:auto;overflow-y:auto}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCAMC,0CAA2C,CAC3C,sDAAuD,CCLxD,eAAgB,CDEf,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CCrBA,uHAEC,qCAED,CDRA,wCEAA,oCFyBA,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},6269:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-heading_heading1 .ck-button__label {
	font-size: 20px;
}

.ck.ck-heading_heading2 .ck-button__label {
	font-size: 17px;
}

.ck.ck-heading_heading3 .ck-button__label {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=x},6309:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CCZD,wMDUG,0BCRH,CDeC,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CErBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CDhBF,gHCoBI,uCDlBJ,CAFA,gHCwBI,sCDtBJ,CC2BC,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const k=x},6341:l=>{l.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgdmlld0JveD0iMCAwIDUwNCA1MDQiPjx0aXRsZT5nbHlwaC1sb2dvX01heTIwMTY8L3RpdGxlPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNMCAuMTU5aDUwMy44NDFWNTAzLjk0SDB6Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTI1MS45MjEuMTU5Yy02OC40MTggMC03Ni45OTcuMjktMTAzLjg2NyAxLjUxNi0yNi44MTQgMS4yMjMtNDUuMTI3IDUuNDgyLTYxLjE1MSAxMS43MS0xNi41NjYgNi40MzctMzAuNjE1IDE1LjA1MS00NC42MjEgMjkuMDU2LTE0LjAwNSAxNC4wMDYtMjIuNjE5IDI4LjA1NS0yOS4wNTYgNDQuNjIxLTYuMjI4IDE2LjAyNC0xMC40ODcgMzQuMzM3LTExLjcxIDYxLjE1MUMuMjkgMTc1LjA4MyAwIDE4My42NjIgMCAyNTIuMDhjMCA2OC40MTcuMjkgNzYuOTk2IDEuNTE2IDEwMy44NjYgMS4yMjMgMjYuODE0IDUuNDgyIDQ1LjEyNyAxMS43MSA2MS4xNTEgNi40MzcgMTYuNTY2IDE1LjA1MSAzMC42MTUgMjkuMDU2IDQ0LjYyMSAxNC4wMDYgMTQuMDA1IDI4LjA1NSAyMi42MTkgNDQuNjIxIDI5LjA1NyAxNi4wMjQgNi4yMjcgMzQuMzM3IDEwLjQ4NiA2MS4xNTEgMTEuNzA5IDI2Ljg3IDEuMjI2IDM1LjQ0OSAxLjUxNiAxMDMuODY3IDEuNTE2IDY4LjQxNyAwIDc2Ljk5Ni0uMjkgMTAzLjg2Ni0xLjUxNiAyNi44MTQtMS4yMjMgNDUuMTI3LTUuNDgyIDYxLjE1MS0xMS43MDkgMTYuNTY2LTYuNDM4IDMwLjYxNS0xNS4wNTIgNDQuNjIxLTI5LjA1NyAxNC4wMDUtMTQuMDA2IDIyLjYxOS0yOC4wNTUgMjkuMDU3LTQ0LjYyMSA2LjIyNy0xNi4wMjQgMTAuNDg2LTM0LjMzNyAxMS43MDktNjEuMTUxIDEuMjI2LTI2Ljg3IDEuNTE2LTM1LjQ0OSAxLjUxNi0xMDMuODY2IDAtNjguNDE4LS4yOS03Ni45OTctMS41MTYtMTAzLjg2Ny0xLjIyMy0yNi44MTQtNS40ODItNDUuMTI3LTExLjcwOS02MS4xNTEtNi40MzgtMTYuNTY2LTE1LjA1Mi0zMC42MTUtMjkuMDU3LTQ0LjYyMS0xNC4wMDYtMTQuMDA1LTI4LjA1NS0yMi42MTktNDQuNjIxLTI5LjA1Ni0xNi4wMjQtNi4yMjgtMzQuMzM3LTEwLjQ4Ny02MS4xNTEtMTEuNzFDMzI4LjkxNy40NDkgMzIwLjMzOC4xNTkgMjUxLjkyMS4xNTltMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1czE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NmMzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjZzLTE3LjIwNyAxNC4yNzUtMjguOTY2IDE4Ljg0NWMtOC44NzcgMy40NS0yMi4yMTYgNy41NTQtNDYuNzc4IDguNjc0LTI2LjU2IDEuMjEyLTM0LjUyNyAxLjQ2OS0xMDEuNzk3IDEuNDY5LTY3LjI3MSAwLTc1LjIzNy0uMjU3LTEwMS43OTgtMS40NjktMjQuNTYyLTEuMTItMzcuOTAxLTUuMjI0LTQ2Ljc3OC04LjY3NC0xMS43NTktNC41Ny0yMC4xNTEtMTAuMDI5LTI4Ljk2Ni0xOC44NDVzLTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2NmMtMy40NS04Ljg3Ny03LjU1NC0yMi4yMTYtOC42NzQtNDYuNzc4LTEuMjEyLTI2LjU2NC0xLjQ2OS0zNC41MzItMS40NjktMTAxLjc5NyAwLTY3LjI2Ni4yNTctNzUuMjM0IDEuNDY5LTEwMS43OTggMS4xMi0yNC41NjIgNS4yMjQtMzcuOTAxIDguNjc0LTQ2Ljc3OCA0LjU3LTExLjc1OSAxMC4wMjktMjAuMTUxIDE4Ljg0NS0yOC45NjZzMTcuMjA3LTE0LjI3NSAyOC45NjYtMTguODQ1YzguODc3LTMuNDUgMjIuMjE2LTcuNTU0IDQ2Ljc3OC04LjY3NCAyNi41NjQtMS4yMTIgMzQuNTMyLTEuNDY5IDEwMS43OTgtMS40NjkiIG1hc2s9InVybCgjYikiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzNzMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0YzQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNtMC0yMTMuMzM4Yy03MS40NDcgMC0xMjkuMzY1IDU3LjkxOC0xMjkuMzY1IDEyOS4zNjUgMCA3MS40NDYgNTcuOTE4IDEyOS4zNjQgMTI5LjM2NSAxMjkuMzY0IDcxLjQ0NiAwIDEyOS4zNjQtNTcuOTE4IDEyOS4zNjQtMTI5LjM2NCAwLTcxLjQ0Ny01Ny45MTgtMTI5LjM2NS0xMjkuMzY0LTEyOS4zNjVNNDE2LjYyNyAxMTcuNjA0YzAgMTYuNjk2LTEzLjUzNSAzMC4yMy0zMC4yMzEgMzAuMjMtMTYuNjk1IDAtMzAuMjMtMTMuNTM0LTMwLjIzLTMwLjIzczEzLjUzNS0zMC4yMzEgMzAuMjMtMzAuMjMxYzE2LjY5NiAwIDMwLjIzMSAxMy41MzUgMzAuMjMxIDMwLjIzMSIvPjwvZz48L3N2Zz4="},6386:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */
	& .image {
		/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
		confirming successful application of the style if image width exceeds the editor's size.
		See https://github.com/ckeditor/ckeditor5/issues/9342 */
		&.image-style-block-align-left,
		&.image-style-block-align-right {
			max-width: calc(100% - var(--ck-image-style-spacing));
		}

		/* Allows displaying multiple floating images in the same line.
		See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
		&.image-style-align-left,
		&.image-style-align-right {
			clear: none;
		}

		&.image-style-side {
			float: right;
			margin-left: var(--ck-image-style-spacing);
			max-width: 50%;
		}

		&.image-style-align-left {
			float: left;
			margin-right: var(--ck-image-style-spacing);
		}

		&.image-style-align-right {
			float: right;
			margin-left: var(--ck-image-style-spacing);
		}

		&.image-style-block-align-right {
			margin-right: 0;
			margin-left: auto;
		}

		&.image-style-block-align-left {
			margin-left: 0;
			margin-right: auto;
		}
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image.image-style-align-left,
	& p + .image.image-style-align-right,
	& p + .image.image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},6903:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},6931:l=>{l.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},7048:(l,c,h)=>{h.d(c,{A:()=>I});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O),k=h(62),w=h.n(k),_=new URL(h(657),h.b),C=new URL(h(9736),h.b),T=new URL(h(6341),h.b),E=new URL(h(7784),h.b),P=x()(p()),Q=w()(_),B=w()(C),R=w()(T),M=w()(E);P.push([l.id,`.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(${Q})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${B})}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${R})}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(${M})}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}`,"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wDACD,CAEA,2EACC,kBAaD,CAXC,wGACC,wDACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,wDACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wDACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const I=P},7141:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=x},7218:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-dropdown-menu-list__nested-menu{display:block}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenu.css"],names:[],mappings:"AAKA,uCACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu {
	display: block;
}
`],sourceRoot:""}]);const k=x},7317:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=x},7378:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const k=x},7388:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DAOC,wCAAsB,CCLxB,eAAgB,CDKd,sBAcD,CCjBD,mKAEC,qCAAsC,CDJpC,2BAA4B,CAC5B,4BCKH,CDCE,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eDoCD,CClCC,yHAEC,qCAAsC,CDyBtC,wBAAyB,CACzB,yBCxBD,CD2BA,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar {
				border: 0;
				border-bottom: 1px solid var(--ck-color-base-border);
			}

			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},7621:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal));--ck-icon-font-size:.8333350694em}.ck.ck-icon{font-size:var(--ck-icon-font-size);height:var(--ck-icon-size);width:var(--ck-icon-size)}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EAA6E,CAC7E,iCACD,CAEA,YAKC,kCAAmC,CAHnC,0BAA2B,CAD3B,yBA2BD,CAlBC,0BAFA,cAKA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
	--ck-icon-font-size: .8333350694em;
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: var(--ck-icon-font-size);

	/* Inherit cursor style (#5). */
	cursor: inherit;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},7676:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-powered-by-line-height:calc(var(--ck-font-size-base)*10/13);--ck-powered-by-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border);--ck-powered-by-svg-width:53;--ck-powered-by-svg-height:10;--ck-powered-by-icon-width:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-width)/13);--ck-powered-by-icon-height:calc(var(--ck-font-size-base)*var(--ck-powered-by-svg-height)/13)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:var(--ck-powered-by-font-size);font-weight:700;letter-spacing:var(--ck-powered-by-letter-spacing);line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block;height:var(--ck-powered-by-icon-height);width:var(--ck-powered-by-icon-width)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-evaluation-badge-font-size:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-line-height:calc(var(--ck-font-size-base)*7.5/13);--ck-evaluation-badge-letter-spacing:calc(var(--ck-font-size-base)*-0.2/13);--ck-evaluation-badge-padding-vertical:2px;--ck-evaluation-badge-padding-horizontal:4px;--ck-evaluation-badge-text-color:#4f4f4f;--ck-evaluation-badge-border-radius:var(--ck-border-radius);--ck-evaluation-badge-background:#fff;--ck-evaluation-badge-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon{--ck-border-radius:var(--ck-evaluation-badge-border-radius);background:var(--ck-evaluation-badge-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge{line-height:var(--ck-evaluation-badge-line-height);padding:var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal)}.ck.ck-balloon-panel.ck-evaluation-badge-balloon .ck.ck-evaluation-badge .ck-evaluation-badge__label{color:var(--ck-evaluation-badge-text-color);display:block;font-size:var(--ck-evaluation-badge-font-size);font-weight:700;letter-spacing:var(--ck-evaluation-badge-letter-spacing);line-height:normal;padding:0 2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-evaluation-badge-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-evaluation-badge-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-ui/theme/globals/_evaluationbadge.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MAEC,+DAAoE,CAEpE,gEAAqE,CAErE,qEAA0E,CAC1E,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDAA0D,CAE1D,4BAA6B,CAC7B,6BAA8B,CAC9B,2FAAgG,CAChG,6FACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAmDD,CAjDC,6DACC,4CAsCD,CApCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,wCAAyC,CAIzC,eAAiB,CAHjB,kDAAmD,CAMnD,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAAc,CAGd,uCAAwC,CADxC,qCAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CC5ED,MAEC,qEAA0E,CAE1E,uEAA4E,CAE5E,2EAAgF,CAChF,0CAA2C,CAC3C,4CAA6C,CAC7C,wCAAiD,CACjD,2DAA4D,CAC5D,qCAAkD,CAClD,+DACD,CAEA,iDACC,2DAA4D,CAG5D,gDAAiD,CADjD,eAAgB,CAEhB,gBAAiB,CACjB,mCA0BD,CAxBC,yEACC,kDAAmD,CACnD,iGAYD,CAVC,qGAQC,2CAA4C,CAP5C,aAAc,CAEd,8CAA+C,CAE/C,eAAiB,CADjB,wDAAyD,CAEzD,kBAAmB,CAJnB,aAAc,CAKd,wBAED,CAGD,yEACC,wBACD,CAEA,yEACC,2BAA4B,CAC5B,oDACD,CC9CD,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 10(px) is the line height of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-line-height: calc(var(--ck-font-size-base) * 10 / 13);
	/* where -0.2(px) is the letter spacing of the powered by label and 13(px) is the base font size. */
	--ck-powered-by-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);

	--ck-powered-by-svg-width: 53;
	--ck-powered-by-svg-height: 10;
	--ck-powered-by-icon-width: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-width) / 13);
	--ck-powered-by-icon-height: calc(var(--ck-font-size-base) * var(--ck-powered-by-svg-height) / 13);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: var(--ck-powered-by-font-size);
			letter-spacing: var(--ck-powered-by-letter-spacing);
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
			width: var(--ck-powered-by-icon-width);
			height: var(--ck-powered-by-icon-height);
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* where 7.5(px) is the font size of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-font-size: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where 7.5(px) is the line height of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-line-height: calc(var(--ck-font-size-base) * 7.5 / 13);
	/* where -0.2(px) is the letter spacing of the evaluation badge label and 13(px) is the base font size. */
	--ck-evaluation-badge-letter-spacing: calc(var(--ck-font-size-base) * -0.2 / 13);
	--ck-evaluation-badge-padding-vertical: 2px;
	--ck-evaluation-badge-padding-horizontal: 4px;
	--ck-evaluation-badge-text-color: hsl(0, 0%, 31%);
	--ck-evaluation-badge-border-radius: var(--ck-border-radius);
	--ck-evaluation-badge-background: hsl(0, 0%, 100%);
	--ck-evaluation-badge-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-evaluation-badge-balloon {
	--ck-border-radius: var(--ck-evaluation-badge-border-radius);

	box-shadow: none;
	background: var(--ck-evaluation-badge-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-evaluation-badge {
		line-height: var(--ck-evaluation-badge-line-height);
		padding: var(--ck-evaluation-badge-padding-vertical) var(--ck-evaluation-badge-padding-horizontal);

		& .ck-evaluation-badge__label {
			display: block;
			padding: 0 2px;
			font-size: var(--ck-evaluation-badge-font-size);
			letter-spacing: var(--ck-evaluation-badge-letter-spacing);
			font-weight: bold;
			line-height: normal;
			text-transform: uppercase;
			color: var(--ck-evaluation-badge-text-color);
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-evaluation-badge-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=x},7693:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0s,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0s}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,qBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,qBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=x},7719:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=x},7784:l=>{l.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg=="},7793:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CCjFA,mDDwEE,sFAAuF,CADvF,+JAAoK,CAFpK,SCnEF,CAFA,mDD+EE,sFAAuF,CADvF,+JAAmK,CAFnK,UC1EF",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},7801:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=x},7913:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CCzBC,uCDaE,qCCXF,CAFA,uCDiBE,oCCfF,CDmBA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},8021:l=>{l.exports=function(c,h){Object.keys(h).forEach((function(f){c.setAttribute(f,h[f])}))}},8107:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CCfD,8FDSG,6BCPH,CAFA,8FDaG,8BCXH,CDeC,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CEhCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CD5DF,6FCkDI,8BDhDJ,CAFA,6FCsDI,6BDpDJ,CCuDG,yFACC,SACD,CAGD,2EACC,UAWD,CD1EF,oMCwEI,4DDtEJ,CC4EA,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const k=x},8128:l=>{var c={};l.exports=function(h,f){var p=(function(O){if(c[O]===void 0){var x=document.querySelector(O);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}c[O]=x}return c[O]})(h);if(!p)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");p.appendChild(f)}},8137:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAWE,8QAGC,2DAA4D,CAC5D,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		/**
		 * While setting outline is fine, the border should not be modified here
		 * because it overrides the default table cell border color which is not expected.
		 * So do not use \`@mixin ck-focus-ring;\` here, or any other border styles.
		 * See more: https://github.com/ckeditor/ckeditor5/issues/16979
		 */
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=x},8149:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;min-width:100%}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBAIC,oDAAqD,CACrD,sDAAuD,CGvFvD,eAAgB,CHwFhB,QAAS,CAGT,cAuBD,CGhHC,qFAEC,qCAED,CH4ED,uBEpFC,oCFoHD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},8264:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=x},8298:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},8423:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},8508:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=x},8527:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content *{white-space:normal}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAEA,0EACC,kBACD,CAGA,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},8639:l=>{var c,h=(c=[],function(O,x){return c[O]=x,c.filter(Boolean).join(`
`)});function f(O,x,k,w){var _;if(k)_="";else{_="",w.supports&&(_+="@supports (".concat(w.supports,") {")),w.media&&(_+="@media ".concat(w.media," {"));var C=w.layer!==void 0;C&&(_+="@layer".concat(w.layer.length>0?" ".concat(w.layer):""," {")),_+=w.css,C&&(_+="}"),w.media&&(_+="}"),w.supports&&(_+="}")}if(O.styleSheet)O.styleSheet.cssText=h(x,_);else{var T=document.createTextNode(_),E=O.childNodes;E[x]&&O.removeChild(E[x]),E.length?O.insertBefore(T,E[x]):O.appendChild(T)}}var p={singleton:null,singletonCounter:0};l.exports=function(O){if(typeof document>"u")return{update:function(){},remove:function(){}};var x=p.singletonCounter++,k=p.singleton||(p.singleton=O.insertStyleElement(O));return{update:function(w){f(k,x,!1,w)},remove:function(w){f(k,x,!0,w)}}}},8708:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=x},8762:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CChEF,gJDyEG,aCvEH,CFAA",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},8795:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=x},8986:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=x},8991:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAvED,wDACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAzGA,wGACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAEA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	[dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const k=x},9047:(l,c,h)=>{const f=h(9246),p=h(802),O={};Object.keys(f).forEach((x=>{O[x]={},Object.defineProperty(O[x],"channels",{value:f[x].channels}),Object.defineProperty(O[x],"labels",{value:f[x].labels});const k=p(x);Object.keys(k).forEach((w=>{const _=k[w];O[x][w]=(function(C){const T=function(...E){const P=E[0];if(P==null)return P;P.length>1&&(E=P);const Q=C(E);if(typeof Q=="object")for(let B=Q.length,R=0;R<B;R++)Q[R]=Math.round(Q[R]);return Q};return"conversion"in C&&(T.conversion=C.conversion),T})(_),O[x][w].raw=(function(C){const T=function(...E){const P=E[0];return P==null?P:(P.length>1&&(E=P),C(E))};return"conversion"in C&&(T.conversion=C.conversion),T})(_)}))})),l.exports=O},9108:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);border-radius:0;bottom:0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}.ck.ck-menu-bar .ck-list-item-button:active,.ck.ck-menu-bar .ck-list-item-button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:active,.ck.ck-menu-bar.ck-menu-bar_focus-border-enabled .ck-list-item-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none;position:relative;z-index:2}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCnDD,MACC,uCACD,CAEA,mDAIC,oDAAqD,CACrD,sDAAuD,CCPvD,eAAgB,CDQhB,QAAS,CACT,kBAAmB,CACnB,iDA0BD,CClCC,6IAEC,qCAED,CDJD,mDEJC,oCFsCD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD,CAKC,uFAEC,wBAAyB,CACzB,eACD,CAIA,yJGhDD,2BAA2B,CDF3B,2CAA8B,CCC9B,YAAa,CHoDX,iBAAkB,CAClB,SAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}

.ck.ck-menu-bar {
	& .ck-list-item-button {
		&:focus,
		&:active {
			border-color: transparent;
			box-shadow: none;
		}
	}

	&.ck-menu-bar_focus-border-enabled .ck-list-item-button {
		&:focus,
		&:active {
			/* Fix truncated shadows due to rendering order. */
			position: relative;
			z-index: 2;

			@mixin ck-focus-ring;
			@mixin ck-box-shadow var(--ck-focus-outer-shadow);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`],sourceRoot:""}]);const k=x},9205:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);box-shadow:none;padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAkB/D,eAAgB,CAhBhB,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CAMA,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=x},9246:(l,c,h)=>{const f=h(6931),p={};for(const x of Object.keys(f))p[f[x]]=x;const O={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};l.exports=O;for(const x of Object.keys(O)){if(!("channels"in O[x]))throw new Error("missing channels property: "+x);if(!("labels"in O[x]))throw new Error("missing channel labels property: "+x);if(O[x].labels.length!==O[x].channels)throw new Error("channel and label counts mismatch: "+x);const{channels:k,labels:w}=O[x];delete O[x].channels,delete O[x].labels,Object.defineProperty(O[x],"channels",{value:k}),Object.defineProperty(O[x],"labels",{value:w})}O.rgb.hsl=function(x){const k=x[0]/255,w=x[1]/255,_=x[2]/255,C=Math.min(k,w,_),T=Math.max(k,w,_),E=T-C;let P,Q;T===C?P=0:k===T?P=(w-_)/E:w===T?P=2+(_-k)/E:_===T&&(P=4+(k-w)/E),P=Math.min(60*P,360),P<0&&(P+=360);const B=(C+T)/2;return Q=T===C?0:B<=.5?E/(T+C):E/(2-T-C),[P,100*Q,100*B]},O.rgb.hsv=function(x){let k,w,_,C,T;const E=x[0]/255,P=x[1]/255,Q=x[2]/255,B=Math.max(E,P,Q),R=B-Math.min(E,P,Q),M=function(I){return(B-I)/6/R+.5};return R===0?(C=0,T=0):(T=R/B,k=M(E),w=M(P),_=M(Q),E===B?C=_-w:P===B?C=.3333333333333333+k-_:Q===B&&(C=.6666666666666666+w-k),C<0?C+=1:C>1&&(C-=1)),[360*C,100*T,100*B]},O.rgb.hwb=function(x){const k=x[0],w=x[1];let _=x[2];const C=O.rgb.hsl(x)[0],T=1/255*Math.min(k,Math.min(w,_));return _=1-.00392156862745098*Math.max(k,Math.max(w,_)),[C,100*T,100*_]},O.rgb.cmyk=function(x){const k=x[0]/255,w=x[1]/255,_=x[2]/255,C=Math.min(1-k,1-w,1-_);return[100*((1-k-C)/(1-C)||0),100*((1-w-C)/(1-C)||0),100*((1-_-C)/(1-C)||0),100*C]},O.rgb.keyword=function(x){const k=p[x];if(k)return k;let w,_=1/0;for(const E of Object.keys(f)){const P=f[E],Q=(T=P,((C=x)[0]-T[0])**2+(C[1]-T[1])**2+(C[2]-T[2])**2);Q<_&&(_=Q,w=E)}var C,T;return w},O.keyword.rgb=function(x){return f[x]},O.rgb.xyz=function(x){let k=x[0]/255,w=x[1]/255,_=x[2]/255;return k=k>.04045?((k+.055)/1.055)**2.4:k/12.92,w=w>.04045?((w+.055)/1.055)**2.4:w/12.92,_=_>.04045?((_+.055)/1.055)**2.4:_/12.92,[100*(.4124*k+.3576*w+.1805*_),100*(.2126*k+.7152*w+.0722*_),100*(.0193*k+.1192*w+.9505*_)]},O.rgb.lab=function(x){const k=O.rgb.xyz(x);let w=k[0],_=k[1],C=k[2];return w/=95.047,_/=100,C/=108.883,w=w>.008856?w**.3333333333333333:7.787*w+.13793103448275862,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*_-16,500*(w-_),200*(_-C)]},O.hsl.rgb=function(x){const k=x[0]/360,w=x[1]/100,_=x[2]/100;let C,T,E;if(w===0)return E=255*_,[E,E,E];C=_<.5?_*(1+w):_+w-_*w;const P=2*_-C,Q=[0,0,0];for(let B=0;B<3;B++)T=k+.3333333333333333*-(B-1),T<0&&T++,T>1&&T--,E=6*T<1?P+6*(C-P)*T:2*T<1?C:3*T<2?P+(C-P)*(.6666666666666666-T)*6:P,Q[B]=255*E;return Q},O.hsl.hsv=function(x){const k=x[0];let w=x[1]/100,_=x[2]/100,C=w;const T=Math.max(_,.01);return _*=2,w*=_<=1?_:2-_,C*=T<=1?T:2-T,[k,100*(_===0?2*C/(T+C):2*w/(_+w)),100*((_+w)/2)]},O.hsv.rgb=function(x){const k=x[0]/60,w=x[1]/100;let _=x[2]/100;const C=Math.floor(k)%6,T=k-Math.floor(k),E=255*_*(1-w),P=255*_*(1-w*T),Q=255*_*(1-w*(1-T));switch(_*=255,C){case 0:return[_,Q,E];case 1:return[P,_,E];case 2:return[E,_,Q];case 3:return[E,P,_];case 4:return[Q,E,_];case 5:return[_,E,P]}},O.hsv.hsl=function(x){const k=x[0],w=x[1]/100,_=x[2]/100,C=Math.max(_,.01);let T,E;E=(2-w)*_;const P=(2-w)*C;return T=w*C,T/=P<=1?P:2-P,T=T||0,E/=2,[k,100*T,100*E]},O.hwb.rgb=function(x){const k=x[0]/360;let w=x[1]/100,_=x[2]/100;const C=w+_;let T;C>1&&(w/=C,_/=C);const E=Math.floor(6*k),P=1-_;T=6*k-E,1&E&&(T=1-T);const Q=w+T*(P-w);let B,R,M;switch(E){default:case 6:case 0:B=P,R=Q,M=w;break;case 1:B=Q,R=P,M=w;break;case 2:B=w,R=P,M=Q;break;case 3:B=w,R=Q,M=P;break;case 4:B=Q,R=w,M=P;break;case 5:B=P,R=w,M=Q}return[255*B,255*R,255*M]},O.cmyk.rgb=function(x){const k=x[0]/100,w=x[1]/100,_=x[2]/100,C=x[3]/100;return[255*(1-Math.min(1,k*(1-C)+C)),255*(1-Math.min(1,w*(1-C)+C)),255*(1-Math.min(1,_*(1-C)+C))]},O.xyz.rgb=function(x){const k=x[0]/100,w=x[1]/100,_=x[2]/100;let C,T,E;return C=3.2406*k+-1.5372*w+-.4986*_,T=-.9689*k+1.8758*w+.0415*_,E=.0557*k+-.204*w+1.057*_,C=C>.0031308?1.055*C**.4166666666666667-.055:12.92*C,T=T>.0031308?1.055*T**.4166666666666667-.055:12.92*T,E=E>.0031308?1.055*E**.4166666666666667-.055:12.92*E,C=Math.min(Math.max(0,C),1),T=Math.min(Math.max(0,T),1),E=Math.min(Math.max(0,E),1),[255*C,255*T,255*E]},O.xyz.lab=function(x){let k=x[0],w=x[1],_=x[2];return k/=95.047,w/=100,_/=108.883,k=k>.008856?k**.3333333333333333:7.787*k+.13793103448275862,w=w>.008856?w**.3333333333333333:7.787*w+.13793103448275862,_=_>.008856?_**.3333333333333333:7.787*_+.13793103448275862,[116*w-16,500*(k-w),200*(w-_)]},O.lab.xyz=function(x){let k,w,_;w=(x[0]+16)/116,k=x[1]/500+w,_=w-x[2]/200;const C=w**3,T=k**3,E=_**3;return w=C>.008856?C:(w-.13793103448275862)/7.787,k=T>.008856?T:(k-.13793103448275862)/7.787,_=E>.008856?E:(_-.13793103448275862)/7.787,k*=95.047,w*=100,_*=108.883,[k,w,_]},O.lab.lch=function(x){const k=x[0],w=x[1],_=x[2];let C;return C=360*Math.atan2(_,w)/2/Math.PI,C<0&&(C+=360),[k,Math.sqrt(w*w+_*_),C]},O.lch.lab=function(x){const k=x[0],w=x[1],_=x[2]/360*2*Math.PI;return[k,w*Math.cos(_),w*Math.sin(_)]},O.rgb.ansi16=function(x,k=null){const[w,_,C]=x;let T=k===null?O.rgb.hsv(x)[2]:k;if(T=Math.round(T/50),T===0)return 30;let E=30+(Math.round(C/255)<<2|Math.round(_/255)<<1|Math.round(w/255));return T===2&&(E+=60),E},O.hsv.ansi16=function(x){return O.rgb.ansi16(O.hsv.rgb(x),x[2])},O.rgb.ansi256=function(x){const k=x[0],w=x[1],_=x[2];return k===w&&w===_?k<8?16:k>248?231:Math.round((k-8)/247*24)+232:16+36*Math.round(k/255*5)+6*Math.round(w/255*5)+Math.round(_/255*5)},O.ansi16.rgb=function(x){let k=x%10;if(k===0||k===7)return x>50&&(k+=3.5),k=k/10.5*255,[k,k,k];const w=.5*(1+~~(x>50));return[(1&k)*w*255,(k>>1&1)*w*255,(k>>2&1)*w*255]},O.ansi256.rgb=function(x){if(x>=232){const w=10*(x-232)+8;return[w,w,w]}let k;return x-=16,[Math.floor(x/36)/5*255,Math.floor((k=x%36)/6)/5*255,k%6/5*255]},O.rgb.hex=function(x){const k=(((255&Math.round(x[0]))<<16)+((255&Math.round(x[1]))<<8)+(255&Math.round(x[2]))).toString(16).toUpperCase();return"000000".substring(k.length)+k},O.hex.rgb=function(x){const k=x.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!k)return[0,0,0];let w=k[0];k[0].length===3&&(w=w.split("").map((C=>C+C)).join(""));const _=parseInt(w,16);return[_>>16&255,_>>8&255,255&_]},O.rgb.hcg=function(x){const k=x[0]/255,w=x[1]/255,_=x[2]/255,C=Math.max(Math.max(k,w),_),T=Math.min(Math.min(k,w),_),E=C-T;let P,Q;return P=E<1?T/(1-E):0,Q=E<=0?0:C===k?(w-_)/E%6:C===w?2+(_-k)/E:4+(k-w)/E,Q/=6,Q%=1,[360*Q,100*E,100*P]},O.hsl.hcg=function(x){const k=x[1]/100,w=x[2]/100,_=w<.5?2*k*w:2*k*(1-w);let C=0;return _<1&&(C=(w-.5*_)/(1-_)),[x[0],100*_,100*C]},O.hsv.hcg=function(x){const k=x[1]/100,w=x[2]/100,_=k*w;let C=0;return _<1&&(C=(w-_)/(1-_)),[x[0],100*_,100*C]},O.hcg.rgb=function(x){const k=x[0]/360,w=x[1]/100,_=x[2]/100;if(w===0)return[255*_,255*_,255*_];const C=[0,0,0],T=k%1*6,E=T%1,P=1-E;let Q=0;switch(Math.floor(T)){case 0:C[0]=1,C[1]=E,C[2]=0;break;case 1:C[0]=P,C[1]=1,C[2]=0;break;case 2:C[0]=0,C[1]=1,C[2]=E;break;case 3:C[0]=0,C[1]=P,C[2]=1;break;case 4:C[0]=E,C[1]=0,C[2]=1;break;default:C[0]=1,C[1]=0,C[2]=P}return Q=(1-w)*_,[255*(w*C[0]+Q),255*(w*C[1]+Q),255*(w*C[2]+Q)]},O.hcg.hsv=function(x){const k=x[1]/100,w=k+x[2]/100*(1-k);let _=0;return w>0&&(_=k/w),[x[0],100*_,100*w]},O.hcg.hsl=function(x){const k=x[1]/100,w=x[2]/100*(1-k)+.5*k;let _=0;return w>0&&w<.5?_=k/(2*w):w>=.5&&w<1&&(_=k/(2*(1-w))),[x[0],100*_,100*w]},O.hcg.hwb=function(x){const k=x[1]/100,w=k+x[2]/100*(1-k);return[x[0],100*(w-k),100*(1-w)]},O.hwb.hcg=function(x){const k=x[1]/100,w=1-x[2]/100,_=w-k;let C=0;return _<1&&(C=(w-_)/(1-_)),[x[0],100*_,100*C]},O.apple.rgb=function(x){return[x[0]/65535*255,x[1]/65535*255,x[2]/65535*255]},O.rgb.apple=function(x){return[x[0]/255*65535,x[1]/255*65535,x[2]/255*65535]},O.gray.rgb=function(x){return[x[0]/100*255,x[0]/100*255,x[0]/100*255]},O.gray.hsl=function(x){return[0,0,x[0]]},O.gray.hsv=O.gray.hsl,O.gray.hwb=function(x){return[0,100,x[0]]},O.gray.cmyk=function(x){return[0,0,0,x[0]]},O.gray.lab=function(x){return[x[0],0,0]},O.gray.hex=function(x){const k=255&Math.round(x[0]/100*255),w=((k<<16)+(k<<8)+k).toString(16).toUpperCase();return"000000".substring(w.length)+w},O.rgb.gray=function(x){return[(x[0]+x[1]+x[2])/3/255*100]}},9481:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const k=x},9529:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const k=x},9554:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button{border-radius:0;padding:var(--ck-spacing-tiny) calc(var(--ck-spacing-standard)*2);width:100%}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-icon-spacing:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-right:calc(var(--ck-spacing-small)*-1);transform:rotate(-90deg)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:calc(var(--ck-spacing-small)*-1);transform:rotate(90deg)}.ck.ck-button.ck-dropdown-menu-list__nested-menu__button.ck-disabled>.ck-dropdown-menu-list__nested-menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=ltr] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-dropdown-menu-list__nested-menu__button>.ck-dropdown-menu-list__nested-menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/menu/dropdownmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css"],names:[],mappings:"AAKA,kGACC,mBAAoB,CACpB,2BACD,CCIA,yDAGC,eAAgB,CADhB,iEAAoE,CADpE,UA2ED,CAvEC,+DACC,wBAAyB,CACzB,eAKD,CAHC,2EACC,0DACD,CAGD,2EACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,uFCvBA,kCDyBA,CAGA,uHACC,+DACD,CAEA,4GACC,mCAeD,CEnDA,sHF0CE,6CAAgD,CAHhD,wBErCF,CAFA,sHFiDE,4CAA+C,CAH/C,uBE5CF,CFmDA,wHClDA,kCDoDA,CAGC,6FACC,oCACD,CAEA,sHAIC,sCAAuC,CAHvC,gCAID,CAIA,6FACC,qCACD,CAEA,sHACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dropdown-menu-list__nested-menu__button > .ck-dropdown-menu-list__nested-menu__button__arrow {
	pointer-events: none;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../../mixins/_disabled.css";
@import "../../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * All menu buttons.
 */
.ck.ck-button.ck-dropdown-menu-list__nested-menu__button {
	width: 100%;
	padding: var(--ck-spacing-tiny) calc(2 * var(--ck-spacing-standard));
	border-radius: 0;

	&:focus {
		border-color: transparent;
		box-shadow: none;

		&:not(.ck-on) {
			background: var(--ck-color-button-default-hover-background);
		}
	}

	& > .ck-button__label {
		flex-grow: 1;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	&.ck-disabled > .ck-button__label {
		@mixin ck-disabled;
	}

	/* Spacing in buttons that miss the icon. */
	&.ck-icon-spacing:not(:has(.ck-button__icon)) > .ck-button__label {
		margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
	}

	& > .ck-dropdown-menu-list__nested-menu__button__arrow {
		width: var(--ck-dropdown-arrow-size);

		@mixin ck-dir ltr {
			transform: rotate(-90deg);

			/* Nudge the arrow gently to the right because its center of gravity is to the left */
			margin-right: calc(-1 * var(--ck-spacing-small));
		}

		@mixin ck-dir rtl {
			transform: rotate(90deg);

			/* Nudge the arrow gently to the left because its center of gravity is to the right (after rotation). */
			margin-left: calc(-1 * var(--ck-spacing-small));
		}
	}

	&.ck-disabled > .ck-dropdown-menu-list__nested-menu__button__arrow {
		@mixin ck-disabled;
	}

	@mixin ck-dir ltr {
		&:not(.ck-button_with-text) {
			padding-left: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		&:not(.ck-button_with-text) {
			padding-right: var(--ck-spacing-small);
		}

		& > .ck-dropdown-menu-list__nested-menu__button__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},9677:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);border-radius:0;padding:0 var(--ck-spacing-small)}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar .ck.ck-toolbar__separator{background:var(--ck-color-toolbar-border);height:var(--ck-icon-size);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eAGC,6CAA8C,CAE9C,+CAAgD,CCFhD,eAAgB,CDChB,iCAuGD,CCtGC,qEAEC,qCAED,CDFA,yCAIC,yCAA0C,CAH1C,0BAA2B,CAU3B,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAEA,qCACC,QACD,CAaA,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		height: var(--ck-icon-size);
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	.ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=x},9715:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;background:var(--ck-color-button-default-background);border:1px solid transparent;border-radius:0;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit;opacity:.5}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-medium)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background);color:var(--ck-color-button-on-color)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background);color:var(--ck-color-button-action-text)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-ui/theme/mixins/_dir.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CEhCC,iDFWC,oBETD,CAFA,iDFeC,qBEbD,CFgBA,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CGzBD,6BA6BC,uBAAwB,CC7BxB,oDAAqC,CDuBrC,4BAA6B,CExB7B,eAAgB,CFOhB,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAwID,CC1IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CCdA,wIAEC,qCAED,CF0BA,uCA/BD,6BAgCE,eA6GF,CA5GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CDzEA,qFCmEE,eDjEF,CAFA,qFCuEE,gBDrEF,CCyEA,yEACC,aAAc,CAUd,UACD,CDvFA,6FC+EE,mCD7EF,CAFA,6FCmFE,oCDjFF,CCyFC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAYD,CD5HA,2HCqHG,qCDnHH,CAFA,2HCyHG,oCDvHH,CC8HC,mHACC,WACD,CAID,yCChIA,+CAAqC,CDmIpC,qCACD,CCjIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDuHA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CChJC,mDAAqC,CDoJrC,wCACD,CClJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDwID,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@define-mixin ck-dir $direction {
	[dir="$(direction)"] & {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-right: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				margin-left: var(--ck-spacing-medium);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=x},9736:l=>{l.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjx0aXRsZT5GaWxsIDE8L3RpdGxlPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4="},9819:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog:not(.ck-dialog_modal) .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width);overscroll-behavior:contain}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}.ck-dialog-scroll-locked{overflow:hidden}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAiBD,CAdC,kCACC,aACD,CAIC,gFACC,WACD,CAGD,mEACC,kBACD,CC/BD,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eAAgB,CDiBhB,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAAqC,CAErC,2BAKD,CC1BC,mEAEC,qCAED,CDOD,cEfC,oCF8BD,CAHC,kCACC,iEACD,CAGD,yBACC,eACD,CAEA,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;
	}

	/* Modals should not be draggable. */
	&:not(.ck-dialog_modal) {
		& .ck.ck-form__header .ck-form__header__label {
			cursor: grab;
		}
	}

	.ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);
	overscroll-behavior: contain;

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

.ck-dialog-scroll-locked {
	overflow: hidden;
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	.ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=x},9822:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const k=x},9968:(l,c,h)=>{h.d(c,{A:()=>k});var f=h(2001),p=h.n(f),O=h(935),x=h.n(O)()(p());x.push([l.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=x}},n={};function s(l){var c=n[l];if(c!==void 0)return c.exports;var h=n[l]={id:l,exports:{}};return r[l](h,h.exports,s),h.exports}s.m=r,s.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return s.d(c,{a:c}),c},s.d=(l,c)=>{for(var h in c)s.o(c,h)&&!s.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})},s.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),s.b=document.baseURI||self.location.href;var a={};return(()=>{let l;s.d(a,{default:()=>N4});try{l={window,document}}catch{l={window:{},document:{}}}const c=l;function h(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const f=h(),p={isMac:O(f),isWindows:x(f),isGecko:k(f),isSafari:w(f),isiOS:_(f),isAndroid:C(f),isBlink:T(f),features:{isRegExpUnicodePropertySupported:E()}};function O(g){return g.indexOf("macintosh")>-1}function x(g){return g.indexOf("windows")>-1}function k(g){return!!g.match(/gecko\/\d+/)}function w(g){return g.indexOf(" applewebkit/")>-1&&g.indexOf("chrome")===-1}function _(g){return!!g.match(/iphone|ipad/i)||O(g)&&navigator.maxTouchPoints>0}function C(g){return g.indexOf("android")>-1}function T(g){return g.indexOf("chrome/")>-1&&g.indexOf("edge/")<0}function E(){let g=!1;try{g="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return g}function P(g,i,o,d){o=o||function(A,S){return A===S};const u=Array.isArray(g)?g:Array.prototype.slice.call(g),m=Array.isArray(i)?i:Array.prototype.slice.call(i),y=(function(A,S,D){const N=Q(A,S,D);if(N===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const L=B(A,N),q=B(S,N),Y=Q(L,q,D),ne=A.length-Y,ue=S.length-Y;return{firstIndex:N,lastIndexOld:ne,lastIndexNew:ue}})(u,m,o);return d?(function(A,S){const{firstIndex:D,lastIndexOld:N,lastIndexNew:L}=A;if(D===-1)return Array(S).fill("equal");let q=[];return D>0&&(q=q.concat(Array(D).fill("equal"))),L-D>0&&(q=q.concat(Array(L-D).fill("insert"))),N-D>0&&(q=q.concat(Array(N-D).fill("delete"))),L<S&&(q=q.concat(Array(S-L).fill("equal"))),q})(y,m.length):(function(A,S){const D=[],{firstIndex:N,lastIndexOld:L,lastIndexNew:q}=S;return q-N>0&&D.push({index:N,type:"insert",values:A.slice(N,q)}),L-N>0&&D.push({index:N+(q-N),type:"delete",howMany:L-N}),D})(m,y)}function Q(g,i,o){for(let d=0;d<Math.max(g.length,i.length);d++)if(g[d]===void 0||i[d]===void 0||!o(g[d],i[d]))return d;return-1}function B(g,i){return g.slice(i).reverse()}function R(g,i,o){o=o||function(ne,ue){return ne===ue};const d=g.length,u=i.length;if(d>200||u>200||d+u>300)return R.fastDiff(g,i,o,!0);let m,y;if(u<d){const ne=g;g=i,i=ne,m="delete",y="insert"}else m="insert",y="delete";const v=g.length,A=i.length,S=A-v,D={},N={};function L(ne){const ue=(N[ne-1]!==void 0?N[ne-1]:-1)+1,me=N[ne+1]!==void 0?N[ne+1]:-1,Ae=ue>me?-1:1;D[ne+Ae]&&(D[ne]=D[ne+Ae].slice(0)),D[ne]||(D[ne]=[]),D[ne].push(ue>me?m:y);let Me=Math.max(ue,me),Ue=Me-ne;for(;Ue<v&&Me<A&&o(g[Ue],i[Me]);)Ue++,Me++,D[ne].push("equal");return Me}let q,Y=0;do{for(q=-Y;q<S;q++)N[q]=L(q);for(q=S+Y;q>S;q--)N[q]=L(q);N[S]=L(S),Y++}while(N[S]!==A);return D[S].slice(1)}R.fastDiff=P;const M=function(){return function g(){g.called=!0}};class I{constructor(i,o){this.source=i,this.name=o,this.path=[],this.stop=M(),this.off=M()}}const j=new Array(256).fill("").map(((g,i)=>("0"+i.toString(16)).slice(-2)));function z(){const[g,i,o,d]=crypto.getRandomValues(new Uint32Array(4));return"e"+j[255&g]+j[g>>8&255]+j[g>>16&255]+j[g>>24&255]+j[255&i]+j[i>>8&255]+j[i>>16&255]+j[i>>24&255]+j[255&o]+j[o>>8&255]+j[o>>16&255]+j[o>>24&255]+j[255&d]+j[d>>8&255]+j[d>>16&255]+j[d>>24&255]}const X={get(g="normal"){return typeof g!="number"?this[g]||this.normal:g},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function W(g,i){const o=X.get(i.priority);let d=0,u=g.length;for(;d<u;){const m=d+u>>1;X.get(g[m].priority)<o?u=m:d=m+1}g.splice(d,0,i)}class F extends Error{constructor(i,o,d){super((function(u,m){const y=new WeakSet,v=(D,N)=>{if(typeof N=="object"&&N!==null){if(y.has(N))return`[object ${N.constructor.name}]`;y.add(N)}return N},A=m?` ${JSON.stringify(m,v)}`:"",S=G(u);return u+A+S})(i,d)),this.name="CKEditorError",this.context=o,this.data=d}is(i){return i==="CKEditorError"}static rethrowUnexpectedError(i,o){if(i.is&&i.is("CKEditorError"))throw i;const d=new F(i.message,o);throw d.stack=i.stack,d}}function V(g,i){console.warn(...J(g,i))}function te(g,i){console.error(...J(g,i))}function G(g){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${g}`}function J(g,i){const o=G(g);return i?[g,i,o]:[g,o]}const oe="44.3.0",ie=new Date(2025,2,5);if(globalThis.CKEDITOR_VERSION)throw new F("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=oe;const be=Symbol("listeningTo"),he=Symbol("emitterId"),re=Symbol("delegations"),ae=K(Object);function K(g){return g?class extends g{on(i,o,d){this.listenTo(this,i,o,d)}once(i,o,d){let u=!1;this.listenTo(this,i,((m,...y)=>{u||(u=!0,m.off(),o.call(this,m,...y))}),d)}off(i,o){this.stopListening(this,i,o)}listenTo(i,o,d,u={}){let m,y;this[be]||(this[be]={});const v=this[be];ye(i)||ce(i);const A=ye(i);(m=v[A])||(m=v[A]={emitter:i,callbacks:{}}),(y=m.callbacks[o])||(y=m.callbacks[o]=[]),y.push(d),(function(S,D,N,L,q){D._addEventListener?D._addEventListener(N,L,q):S._addEventListener.call(D,N,L,q)})(this,i,o,d,u)}stopListening(i,o,d){const u=this[be];let m=i&&ye(i);const y=u&&m?u[m]:void 0,v=y&&o?y.callbacks[o]:void 0;if(!(!u||i&&!y||o&&!v))if(d)Pe(this,i,o,d),v.indexOf(d)!==-1&&(v.length===1?delete y.callbacks[o]:Pe(this,i,o,d));else if(v){for(;d=v.pop();)Pe(this,i,o,d);delete y.callbacks[o]}else if(y){for(o in y.callbacks)this.stopListening(i,o);delete u[m]}else{for(m in u)this.stopListening(u[m].emitter);delete this[be]}}fire(i,...o){try{const d=i instanceof I?i:new I(this,i),u=d.name;let m=(function(v,A){if(!v._events)return null;let S=A;do{const D=v._events[S];if(D&&D.callbacks&&D.callbacks.length)return D.callbacks;const N=S.lastIndexOf(":");S=N>-1?S.substring(0,N):""}while(S);return null})(this,u);if(d.path.push(this),m){m=m.slice();for(let v=0;v<m.length;v++){const A=m[v].callback;if(A.call(this,d,...o),d.off.called&&(delete d.off.called,this._removeEventListener(u,A)),d.stop.called)break}}const y=this[re];if(y){const v=y.get(u),A=y.get("*");v&&De(v,d,o),A&&De(A,d,o)}return d.return}catch(d){F.rethrowUnexpectedError(d,this)}}delegate(...i){return{to:(o,d)=>{this[re]||(this[re]=new Map),i.forEach((u=>{const m=this[re].get(u);m?m.set(o,d):this[re].set(u,new Map([[o,d]]))}))}}}stopDelegating(i,o){if(this[re])if(i)if(o){const d=this[re].get(i);d&&d.delete(o)}else this[re].delete(i);else this[re].clear()}_addEventListener(i,o,d){(function(y,v){const A=ke(y);if(A[v])return;let S=v,D=null;const N=[];for(;S!==""&&!A[S];)A[S]={callbacks:[],childEvents:[]},N.push(A[S]),D&&A[S].childEvents.push(D),D=S,S=S.substr(0,S.lastIndexOf(":"));if(S!==""){for(const L of N)L.callbacks=A[S].callbacks.slice();A[S].childEvents.push(D)}})(this,i);const u=Ce(this,i),m={callback:o,priority:X.get(d.priority)};for(const y of u)W(y,m)}_removeEventListener(i,o){const d=Ce(this,i);for(const u of d)for(let m=0;m<u.length;m++)u[m].callback==o&&(u.splice(m,1),m--)}}:ae}function ce(g,i){g[he]||(g[he]=i||z())}function ye(g){return g[he]}function ke(g){return g._events||Object.defineProperty(g,"_events",{value:{}}),g._events}function Ce(g,i){const o=ke(g)[i];if(!o)return[];let d=[o.callbacks];for(let u=0;u<o.childEvents.length;u++){const m=Ce(g,o.childEvents[u]);d=d.concat(m)}return d}function De(g,i,o){for(let[d,u]of g){u?typeof u=="function"&&(u=u(i.name)):u=i.name;const m=new I(i.source,u);m.path=[...i.path],d.fire(m,...o)}}function Pe(g,i,o,d){i._removeEventListener?i._removeEventListener(o,d):g._removeEventListener.call(i,o,d)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((g=>{K[g]=ae.prototype[g]}));const Ee=function(g){var i=typeof g;return g!=null&&(i=="object"||i=="function")},de=Symbol("observableProperties"),Re=Symbol("boundObservables"),Be=Symbol("boundProperties"),He=Symbol("decoratedMethods"),Ye=Symbol("decoratedOriginal"),Ze=Ge(K());function Ge(g){var i;if(!g)return Ze;class o extends(i=g,i){set(u,m){if(Ee(u))return void Object.keys(u).forEach((v=>{this.set(v,u[v])}),this);Qt(this);const y=this[de];if(u in this&&!y.has(u))throw new F("observable-set-cannot-override",this);Object.defineProperty(this,u,{enumerable:!0,configurable:!0,get:()=>y.get(u),set(v){const A=y.get(u);let S=this.fire(`set:${u}`,u,v,A);S===void 0&&(S=v),A===S&&y.has(u)||(y.set(u,S),this.fire(`change:${u}`,u,S,A))}}),this[u]=m}bind(...u){if(!u.length||!kr(u))throw new F("observable-bind-wrong-properties",this);if(new Set(u).size!==u.length)throw new F("observable-bind-duplicate-properties",this);Qt(this);const m=this[Be];u.forEach((v=>{if(m.has(v))throw new F("observable-bind-rebind",this)}));const y=new Map;return u.forEach((v=>{const A={property:v,to:[]};m.set(v,A),y.set(v,A)})),{to:gr,toMany:Or,_observable:this,_bindProperties:u,_to:[],_bindings:y}}unbind(...u){if(!this[de])return;const m=this[Be],y=this[Re];if(u.length){if(!kr(u))throw new F("observable-unbind-wrong-properties",this);u.forEach((v=>{const A=m.get(v);A&&(A.to.forEach((([S,D])=>{const N=y.get(S),L=N[D];L.delete(A),L.size||delete N[D],Object.keys(N).length||(y.delete(S),this.stopListening(S,"change"))})),m.delete(v))}))}else y.forEach(((v,A)=>{this.stopListening(A,"change")})),y.clear(),m.clear()}decorate(u){Qt(this);const m=this[u];if(!m)throw new F("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:u});this.on(u,((y,v)=>{y.return=m.apply(this,v)})),this[u]=function(...y){return this.fire(u,y)},this[u][Ye]=m,this[He]||(this[He]=[]),this[He].push(u)}stopListening(u,m,y){if(!u&&this[He]){for(const v of this[He])this[v]=this[v][Ye];delete this[He]}super.stopListening(u,m,y)}}return o}function Qt(g){g[de]||(Object.defineProperty(g,de,{value:new Map}),Object.defineProperty(g,Re,{value:new Map}),Object.defineProperty(g,Be,{value:new Map}))}function gr(...g){const i=(function(...m){if(!m.length)throw new F("observable-bind-to-parse-error",null);const y={to:[]};let v;return typeof m[m.length-1]=="function"&&(y.callback=m.pop()),m.forEach((A=>{if(typeof A=="string")v.properties.push(A);else{if(typeof A!="object")throw new F("observable-bind-to-parse-error",null);v={observable:A,properties:[]},y.to.push(v)}})),y})(...g),o=Array.from(this._bindings.keys()),d=o.length;if(!i.callback&&i.to.length>1)throw new F("observable-bind-to-no-callback",this);if(d>1&&i.callback)throw new F("observable-bind-to-extra-callback",this);var u;i.to.forEach((m=>{if(m.properties.length&&m.properties.length!==d)throw new F("observable-bind-to-properties-length",this);m.properties.length||(m.properties=this._bindProperties)})),this._to=i.to,i.callback&&(this._bindings.get(o[0]).callback=i.callback),u=this._observable,this._to.forEach((m=>{const y=u[Re];let v;y.get(m.observable)||u.listenTo(m.observable,"change",((A,S)=>{v=y.get(m.observable)[S],v&&v.forEach((D=>{lt(u,D.property)}))}))})),(function(m){let y;m._bindings.forEach(((v,A)=>{m._to.forEach((S=>{y=S.properties[v.callback?0:m._bindProperties.indexOf(A)],v.to.push([S.observable,y]),(function(D,N,L,q){const Y=D[Re],ne=Y.get(L),ue=ne||{};ue[q]||(ue[q]=new Set),ue[q].add(N),ne||Y.set(L,ue)})(m._observable,v,S.observable,y)}))}))})(this),this._bindProperties.forEach((m=>{lt(this._observable,m)}))}function Or(g,i,o){if(this._bindings.size>1)throw new F("observable-bind-to-many-not-one-binding",this);this.to(...(function(d,u){const m=d.map((y=>[y,u]));return Array.prototype.concat.apply([],m)})(g,i),o)}function kr(g){return g.every((i=>typeof i=="string"))}function lt(g,i){const o=g[Be].get(i);let d;o.callback?d=o.callback.apply(g,o.to.map((u=>u[0][u[1]]))):(d=o.to[0],d=d[0][d[1]]),Object.prototype.hasOwnProperty.call(g,i)?g[i]=d:g.set(i,d)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((g=>{Ge[g]=Ze.prototype[g]}));class st{constructor(){this._replacedElements=[]}replace(i,o){this._replacedElements.push({element:i,newElement:o}),i.style.display="none",o&&i.parentNode.insertBefore(o,i.nextSibling)}restore(){this._replacedElements.forEach((({element:i,newElement:o})=>{i.style.display="",o&&o.remove()})),this._replacedElements=[]}}function xt(g){let i=0;for(const o of g)i++;return i}function tt(g,i){const o=Math.min(g.length,i.length);for(let d=0;d<o;d++)if(g[d]!=i[d])return d;return g.length==i.length?"same":g.length<i.length?"prefix":"extension"}function Ct(g){return!(!g||!g[Symbol.iterator])}const Gt=typeof lu=="object"&&lu&&lu.Object===Object&&lu;var cr=typeof self=="object"&&self&&self.Object===Object&&self;const kt=Gt||cr||Function("return this")(),Nt=kt.Symbol;var dr=Object.prototype,pr=dr.hasOwnProperty,Lr=dr.toString,Kr=Nt?Nt.toStringTag:void 0;const Li=function(g){var i=pr.call(g,Kr),o=g[Kr];try{g[Kr]=void 0;var d=!0}catch{}var u=Lr.call(g);return d&&(i?g[Kr]=o:delete g[Kr]),u};var zi=Object.prototype.toString;const Ai=function(g){return zi.call(g)};var yo=Nt?Nt.toStringTag:void 0;const Wn=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":yo&&yo in Object(g)?Li(g):Ai(g)},Cn=Array.isArray,Fn=function(g){return g!=null&&typeof g=="object"},Je=function(g){return typeof g=="string"||!Cn(g)&&Fn(g)&&Wn(g)=="[object String]"};function _t(g,i,o={},d=[]){const u=o&&o.xmlns,m=u?g.createElementNS(u,i):g.createElement(i);for(const y in o)m.setAttribute(y,o[y]);!Je(d)&&Ct(d)||(d=[d]);for(let y of d)Je(y)&&(y=g.createTextNode(y)),m.appendChild(y);return m}const zt=function(g,i){return function(o){return g(i(o))}},tr=zt(Object.getPrototypeOf,Object);var dn=Function.prototype,Js=Object.prototype,Si=dn.toString,wo=Js.hasOwnProperty,rc=Si.call(Object);const qr=function(g){if(!Fn(g)||Wn(g)!="[object Object]")return!1;var i=tr(g);if(i===null)return!0;var o=wo.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&Si.call(o)==rc},ea=function(){this.__data__=[],this.size=0},Yn=function(g,i){return g===i||g!=g&&i!=i},ss=function(g,i){for(var o=g.length;o--;)if(Yn(g[o][0],i))return o;return-1};var fe=Array.prototype.splice;const ve=function(g){var i=this.__data__,o=ss(i,g);return!(o<0)&&(o==i.length-1?i.pop():fe.call(i,o,1),--this.size,!0)},pe=function(g){var i=this.__data__,o=ss(i,g);return o<0?void 0:i[o][1]},xe=function(g){return ss(this.__data__,g)>-1},we=function(g,i){var o=this.__data__,d=ss(o,g);return d<0?(++this.size,o.push([g,i])):o[d][1]=i,this};function _e(g){var i=-1,o=g==null?0:g.length;for(this.clear();++i<o;){var d=g[i];this.set(d[0],d[1])}}_e.prototype.clear=ea,_e.prototype.delete=ve,_e.prototype.get=pe,_e.prototype.has=xe,_e.prototype.set=we;const je=_e,We=function(){this.__data__=new je,this.size=0},Le=function(g){var i=this.__data__,o=i.delete(g);return this.size=i.size,o},ze=function(g){return this.__data__.get(g)},Qe=function(g){return this.__data__.has(g)},Oe=function(g){if(!Ee(g))return!1;var i=Wn(g);return i=="[object Function]"||i=="[object GeneratorFunction]"||i=="[object AsyncFunction]"||i=="[object Proxy]"},Ne=kt["__core-js_shared__"];var Ve=(function(){var g=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""})();const et=function(g){return!!Ve&&Ve in g};var Ot=Function.prototype.toString;const Tt=function(g){if(g!=null){try{return Ot.call(g)}catch{}try{return g+""}catch{}}return""};var yr=/^\[object .+?Constructor\]$/,Pr=Function.prototype,pn=Object.prototype,vo=Pr.toString,mn=pn.hasOwnProperty,ul=RegExp("^"+vo.call(mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const La=function(g){return!(!Ee(g)||et(g))&&(Oe(g)?ul:yr).test(Tt(g))},Eg=function(g,i){return g==null?void 0:g[i]},Xi=function(g,i){var o=Eg(g,i);return La(o)?o:void 0},Pg=Xi(kt,"Map"),Dg=Xi(Object,"create"),Wse=function(){this.__data__=Dg?Dg(null):{},this.size=0},Yse=function(g){var i=this.has(g)&&delete this.__data__[g];return this.size-=i?1:0,i};var Zse=Object.prototype.hasOwnProperty;const Gse=function(g){var i=this.__data__;if(Dg){var o=i[g];return o==="__lodash_hash_undefined__"?void 0:o}return Zse.call(i,g)?i[g]:void 0};var Hse=Object.prototype.hasOwnProperty;const Kse=function(g){var i=this.__data__;return Dg?i[g]!==void 0:Hse.call(i,g)},Jse=function(g,i){var o=this.__data__;return this.size+=this.has(g)?0:1,o[g]=Dg&&i===void 0?"__lodash_hash_undefined__":i,this};function i0(g){var i=-1,o=g==null?0:g.length;for(this.clear();++i<o;){var d=g[i];this.set(d[0],d[1])}}i0.prototype.clear=Wse,i0.prototype.delete=Yse,i0.prototype.get=Gse,i0.prototype.has=Kse,i0.prototype.set=Jse;const tD=i0,eae=function(){this.size=0,this.__data__={hash:new tD,map:new(Pg||je),string:new tD}},tae=function(g){var i=typeof g;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?g!=="__proto__":g===null},ib=function(g,i){var o=g.__data__;return tae(i)?o[typeof i=="string"?"string":"hash"]:o.map},rae=function(g){var i=ib(this,g).delete(g);return this.size-=i?1:0,i},nae=function(g){return ib(this,g).get(g)},iae=function(g){return ib(this,g).has(g)},sae=function(g,i){var o=ib(this,g),d=o.size;return o.set(g,i),this.size+=o.size==d?0:1,this};function s0(g){var i=-1,o=g==null?0:g.length;for(this.clear();++i<o;){var d=g[i];this.set(d[0],d[1])}}s0.prototype.clear=eae,s0.prototype.delete=rae,s0.prototype.get=nae,s0.prototype.has=iae,s0.prototype.set=sae;const sb=s0,aae=function(g,i){var o=this.__data__;if(o instanceof je){var d=o.__data__;if(!Pg||d.length<199)return d.push([g,i]),this.size=++o.size,this;o=this.__data__=new sb(d)}return o.set(g,i),this.size=o.size,this};function a0(g){var i=this.__data__=new je(g);this.size=i.size}a0.prototype.clear=We,a0.prototype.delete=Le,a0.prototype.get=ze,a0.prototype.has=Qe,a0.prototype.set=aae;const o0=a0,oae=function(g,i){for(var o=-1,d=g==null?0:g.length;++o<d&&i(g[o],o,g)!==!1;);return g},ab=(function(){try{var g=Xi(Object,"defineProperty");return g({},"",{}),g}catch{}})(),ob=function(g,i,o){i=="__proto__"&&ab?ab(g,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):g[i]=o};var lae=Object.prototype.hasOwnProperty;const PA=function(g,i,o){var d=g[i];lae.call(g,i)&&Yn(d,o)&&(o!==void 0||i in g)||ob(g,i,o)},l0=function(g,i,o,d){var u=!o;o||(o={});for(var m=-1,y=i.length;++m<y;){var v=i[m],A=void 0;A===void 0&&(A=g[v]),u?ob(o,v,A):PA(o,v,A)}return o},cae=function(g,i){for(var o=-1,d=Array(g);++o<g;)d[o]=i(o);return d},rD=function(g){return Fn(g)&&Wn(g)=="[object Arguments]"};var nD=Object.prototype,dae=nD.hasOwnProperty,hae=nD.propertyIsEnumerable;const lb=rD((function(){return arguments})())?rD:function(g){return Fn(g)&&dae.call(g,"callee")&&!hae.call(g,"callee")},uae=function(){return!1};var iD=e&&!e.nodeType&&e,sD=iD&&!0&&t&&!t.nodeType&&t,aD=sD&&sD.exports===iD?kt.Buffer:void 0;const Qg=(aD?aD.isBuffer:void 0)||uae;var fae=/^(?:0|[1-9]\d*)$/;const cb=function(g,i){var o=typeof g;return!!(i=i??9007199254740991)&&(o=="number"||o!="symbol"&&fae.test(g))&&g>-1&&g%1==0&&g<i},DA=function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=9007199254740991};var On={};On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Arguments]"]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object Boolean]"]=On["[object DataView]"]=On["[object Date]"]=On["[object Error]"]=On["[object Function]"]=On["[object Map]"]=On["[object Number]"]=On["[object Object]"]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object WeakMap]"]=!1;const gae=function(g){return Fn(g)&&DA(g.length)&&!!On[Wn(g)]},QA=function(g){return function(i){return g(i)}};var oD=e&&!e.nodeType&&e,$g=oD&&!0&&t&&!t.nodeType&&t,$A=$g&&$g.exports===oD&&Gt.process;const c0=(function(){try{var g=$g&&$g.require&&$g.require("util").types;return g||$A&&$A.binding&&$A.binding("util")}catch{}})();var lD=c0&&c0.isTypedArray;const MA=lD?QA(lD):gae;var pae=Object.prototype.hasOwnProperty;const cD=function(g,i){var o=Cn(g),d=!o&&lb(g),u=!o&&!d&&Qg(g),m=!o&&!d&&!u&&MA(g),y=o||d||u||m,v=y?cae(g.length,String):[],A=v.length;for(var S in g)!i&&!pae.call(g,S)||y&&(S=="length"||u&&(S=="offset"||S=="parent")||m&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||cb(S,A))||v.push(S);return v};var mae=Object.prototype;const RA=function(g){var i=g&&g.constructor;return g===(typeof i=="function"&&i.prototype||mae)},Oae=zt(Object.keys,Object);var xae=Object.prototype.hasOwnProperty;const bae=function(g){if(!RA(g))return Oae(g);var i=[];for(var o in Object(g))xae.call(g,o)&&o!="constructor"&&i.push(o);return i},db=function(g){return g!=null&&DA(g.length)&&!Oe(g)},Mg=function(g){return db(g)?cD(g):bae(g)},kae=function(g,i){return g&&l0(i,Mg(i),g)},yae=function(g){var i=[];if(g!=null)for(var o in Object(g))i.push(o);return i};var wae=Object.prototype.hasOwnProperty;const vae=function(g){if(!Ee(g))return yae(g);var i=RA(g),o=[];for(var d in g)(d!="constructor"||!i&&wae.call(g,d))&&o.push(d);return o},d0=function(g){return db(g)?cD(g,!0):vae(g)},_ae=function(g,i){return g&&l0(i,d0(i),g)};var dD=e&&!e.nodeType&&e,hD=dD&&!0&&t&&!t.nodeType&&t,uD=hD&&hD.exports===dD?kt.Buffer:void 0,fD=uD?uD.allocUnsafe:void 0;const gD=function(g,i){if(i)return g.slice();var o=g.length,d=fD?fD(o):new g.constructor(o);return g.copy(d),d},pD=function(g,i){var o=-1,d=g.length;for(i||(i=Array(d));++o<d;)i[o]=g[o];return i},Cae=function(g,i){for(var o=-1,d=g==null?0:g.length,u=0,m=[];++o<d;){var y=g[o];i(y,o,g)&&(m[u++]=y)}return m},mD=function(){return[]};var Aae=Object.prototype.propertyIsEnumerable,OD=Object.getOwnPropertySymbols;const NA=OD?function(g){return g==null?[]:(g=Object(g),Cae(OD(g),(function(i){return Aae.call(g,i)})))}:mD,Sae=function(g,i){return l0(g,NA(g),i)},xD=function(g,i){for(var o=-1,d=i.length,u=g.length;++o<d;)g[u+o]=i[o];return g},bD=Object.getOwnPropertySymbols?function(g){for(var i=[];g;)xD(i,NA(g)),g=tr(g);return i}:mD,Tae=function(g,i){return l0(g,bD(g),i)},kD=function(g,i,o){var d=i(g);return Cn(g)?d:xD(d,o(g))},BA=function(g){return kD(g,Mg,NA)},Eae=function(g){return kD(g,d0,bD)},IA=Xi(kt,"DataView"),jA=Xi(kt,"Promise"),FA=Xi(kt,"Set"),LA=Xi(kt,"WeakMap");var yD="[object Map]",wD="[object Promise]",vD="[object Set]",_D="[object WeakMap]",CD="[object DataView]",Pae=Tt(IA),Dae=Tt(Pg),Qae=Tt(jA),$ae=Tt(FA),Mae=Tt(LA),Rh=Wn;(IA&&Rh(new IA(new ArrayBuffer(1)))!=CD||Pg&&Rh(new Pg)!=yD||jA&&Rh(jA.resolve())!=wD||FA&&Rh(new FA)!=vD||LA&&Rh(new LA)!=_D)&&(Rh=function(g){var i=Wn(g),o=i=="[object Object]"?g.constructor:void 0,d=o?Tt(o):"";if(d)switch(d){case Pae:return CD;case Dae:return yD;case Qae:return wD;case $ae:return vD;case Mae:return _D}return i});const Rg=Rh;var Rae=Object.prototype.hasOwnProperty;const Nae=function(g){var i=g.length,o=new g.constructor(i);return i&&typeof g[0]=="string"&&Rae.call(g,"index")&&(o.index=g.index,o.input=g.input),o},hb=kt.Uint8Array,zA=function(g){var i=new g.constructor(g.byteLength);return new hb(i).set(new hb(g)),i},Bae=function(g,i){var o=i?zA(g.buffer):g.buffer;return new g.constructor(o,g.byteOffset,g.byteLength)};var Iae=/\w*$/;const jae=function(g){var i=new g.constructor(g.source,Iae.exec(g));return i.lastIndex=g.lastIndex,i};var AD=Nt?Nt.prototype:void 0,SD=AD?AD.valueOf:void 0;const Fae=function(g){return SD?Object(SD.call(g)):{}},TD=function(g,i){var o=i?zA(g.buffer):g.buffer;return new g.constructor(o,g.byteOffset,g.length)},Lae=function(g,i,o){var d=g.constructor;switch(i){case"[object ArrayBuffer]":return zA(g);case"[object Boolean]":case"[object Date]":return new d(+g);case"[object DataView]":return Bae(g,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return TD(g,o);case"[object Map]":case"[object Set]":return new d;case"[object Number]":case"[object String]":return new d(g);case"[object RegExp]":return jae(g);case"[object Symbol]":return Fae(g)}};var ED=Object.create;const zae=(function(){function g(){}return function(i){if(!Ee(i))return{};if(ED)return ED(i);g.prototype=i;var o=new g;return g.prototype=void 0,o}})(),PD=function(g){return typeof g.constructor!="function"||RA(g)?{}:zae(tr(g))},Xae=function(g){return Fn(g)&&Rg(g)=="[object Map]"};var DD=c0&&c0.isMap;const Vae=DD?QA(DD):Xae,Uae=function(g){return Fn(g)&&Rg(g)=="[object Set]"};var QD=c0&&c0.isSet;const qae=QD?QA(QD):Uae;var $D="[object Arguments]",MD="[object Function]",RD="[object Object]",hn={};hn[$D]=hn["[object Array]"]=hn["[object ArrayBuffer]"]=hn["[object DataView]"]=hn["[object Boolean]"]=hn["[object Date]"]=hn["[object Float32Array]"]=hn["[object Float64Array]"]=hn["[object Int8Array]"]=hn["[object Int16Array]"]=hn["[object Int32Array]"]=hn["[object Map]"]=hn["[object Number]"]=hn[RD]=hn["[object RegExp]"]=hn["[object Set]"]=hn["[object String]"]=hn["[object Symbol]"]=hn["[object Uint8Array]"]=hn["[object Uint8ClampedArray]"]=hn["[object Uint16Array]"]=hn["[object Uint32Array]"]=!0,hn["[object Error]"]=hn[MD]=hn["[object WeakMap]"]=!1;const XA=function g(i,o,d,u,m,y){var v,A=1&o,S=2&o,D=4&o;if(d&&(v=m?d(i,u,m,y):d(i)),v!==void 0)return v;if(!Ee(i))return i;var N=Cn(i);if(N){if(v=Nae(i),!A)return pD(i,v)}else{var L=Rg(i),q=L==MD||L=="[object GeneratorFunction]";if(Qg(i))return gD(i,A);if(L==RD||L==$D||q&&!m){if(v=S||q?{}:PD(i),!A)return S?Tae(i,_ae(v,i)):Sae(i,kae(v,i))}else{if(!hn[L])return m?i:{};v=Lae(i,L,A)}}y||(y=new o0);var Y=y.get(i);if(Y)return Y;y.set(i,v),qae(i)?i.forEach((function(ue){v.add(g(ue,o,d,ue,i,y))})):Vae(i)&&i.forEach((function(ue,me){v.set(me,g(ue,o,d,me,i,y))}));var ne=N?void 0:(D?S?Eae:BA:S?d0:Mg)(i);return oae(ne||i,(function(ue,me){ne&&(ue=i[me=ue]),PA(v,me,g(ue,o,d,me,i,y))})),v},VA=function(g,i){return XA(g,5,i=typeof i=="function"?i:void 0)},hd=function(g){return Fn(g)&&g.nodeType===1&&!qr(g)};class ND{constructor(i,o){this._config=Object.create(null),o&&this.define(BD(o)),i&&this._setObjectToTarget(this._config,i)}set(i,o){this._setToTarget(this._config,i,o)}define(i,o){this._setToTarget(this._config,i,o,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,o,d,u=!1){if(qr(o))return void this._setObjectToTarget(i,o,u);const m=o.split(".");o=m.pop();for(const y of m)qr(i[y])||(i[y]=Object.create(null)),i=i[y];if(qr(d))return qr(i[o])||(i[o]=Object.create(null)),i=i[o],void this._setObjectToTarget(i,d,u);u&&i[o]!==void 0||(i[o]=d)}_getFromSource(i,o){const d=o.split(".");o=d.pop();for(const u of d){if(!qr(i[u])){i=null;break}i=i[u]}return i?BD(i[o]):void 0}_setObjectToTarget(i,o,d){Object.keys(o).forEach((u=>{this._setToTarget(i,u,o[u],d)}))}}function BD(g){return VA(g,Wae)}function Wae(g){return hd(g)||typeof g=="function"?g:void 0}function ud(g){if(g){if(g.defaultView)return g instanceof g.defaultView.Document;if(g.ownerDocument&&g.ownerDocument.defaultView)return g instanceof g.ownerDocument.defaultView.Node}return!1}function ub(g){const i=Object.prototype.toString.apply(g);return i=="[object Window]"||i=="[object global]"}const ID=za(K());function za(g){return g?class extends g{listenTo(i,o,d,u={}){if(ud(i)||ub(i)){const m={capture:!!u.useCapture,passive:!!u.usePassive},y=this._getProxyEmitter(i,m)||new Yae(i,m);this.listenTo(y,o,d,u)}else super.listenTo(i,o,d,u)}stopListening(i,o,d){if(ud(i)||ub(i)){const u=this._getAllProxyEmitters(i);for(const m of u)this.stopListening(m,o,d)}else super.stopListening(i,o,d)}_getProxyEmitter(i,o){return(function(d,u){const m=d[be];return m&&m[u]?m[u].emitter:null})(this,jD(i,o))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((o=>this._getProxyEmitter(i,o))).filter((o=>!!o))}}:ID}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((g=>{za[g]=ID.prototype[g]}));class Yae extends K(){constructor(i,o){super(),ce(this,jD(i,o)),this._domNode=i,this._options=o}attach(i){if(this._domListeners&&this._domListeners[i])return;const o=this._createDomListener(i);this._domNode.addEventListener(i,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[i]=o}detach(i){let o;!this._domListeners[i]||(o=this._events[i])&&o.callbacks.length||this._domListeners[i].removeListener()}_addEventListener(i,o,d){this.attach(i),K().prototype._addEventListener.call(this,i,o,d)}_removeEventListener(i,o){K().prototype._removeEventListener.call(this,i,o),this.detach(i)}_createDomListener(i){const o=d=>{this.fire(i,d)};return o.removeListener=()=>{this._domNode.removeEventListener(i,o,this._options),delete this._domListeners[i]},o}}function jD(g,i){let o=(function(d){return d["data-ck-expando"]||(d["data-ck-expando"]=z())})(g);for(const d of Object.keys(i).sort())i[d]&&(o+="-"+d);return o}function Zae(g){const i=[];let o=g;for(;o&&o.nodeType!=Node.DOCUMENT_NODE;)i.unshift(o),o=o.parentNode;return i}function FD(g){const i=g.ownerDocument.defaultView.getComputedStyle(g);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}function LD(g){if(!g.target)return null;const i=g.target.ownerDocument,o=g.clientX,d=g.clientY;let u=null;return i.caretRangeFromPoint&&i.caretRangeFromPoint(o,d)?u=i.caretRangeFromPoint(o,d):g.rangeParent&&(u=i.createRange(),u.setStart(g.rangeParent,g.rangeOffset),u.collapse(!0)),u}function $n(g){return Object.prototype.toString.call(g)=="[object Text]"}function fb(g){return Object.prototype.toString.apply(g)=="[object Range]"}function zD(g){return g&&g.parentNode?g.offsetParent===c.document.body?null:g.offsetParent:null}const XD=["top","right","bottom","left","width","height"];class wr{constructor(i){const o=fb(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),UA(i)||o)if(o){const d=wr.getDomRangeRects(i);gb(this,wr.getBoundingRect(d))}else gb(this,i.getBoundingClientRect());else if(ub(i)){const{innerWidth:d,innerHeight:u}=i;gb(this,{top:0,right:d,bottom:u,left:0,width:d,height:u})}else gb(this,i)}clone(){return new wr(this)}moveTo(i,o){return this.top=o,this.right=i+this.width,this.bottom=o+this.height,this.left=i,this}moveBy(i,o){return this.top+=o,this.right+=i,this.left+=i,this.bottom+=o,this}getIntersection(i){const o={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left),width:0,height:0};if(o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0)return null;{const d=new wr(o);return d._source=this._source,d}}getIntersectionArea(i){const o=this.getIntersection(i);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let o=this.clone();if(VD(i))return o;let d,u=i,m=i.parentNode||i.commonAncestorContainer;for(;m&&!VD(m);){const v=((y=m)instanceof HTMLElement?y.ownerDocument.defaultView.getComputedStyle(y).overflow:"visible")==="visible";u instanceof HTMLElement&&UD(u)==="absolute"&&(d=u);const A=UD(m);if(v||d&&(A==="relative"&&v||A!=="relative")){u=m,m=m.parentNode;continue}const S=new wr(m),D=o.getIntersection(S);if(!D)return null;D.getArea()<o.getArea()&&(o=D),u=m,m=m.parentNode}var y;return o}isEqual(i){for(const o of XD)if(this[o]!==i[o])return!1;return!0}contains(i){const o=this.getIntersection(i);return!(!o||!o.isEqual(i))}toAbsoluteRect(){const{scrollX:i,scrollY:o}=c.window,d=this.clone().moveBy(i,o);if(UA(d._source)){const u=zD(d._source);u&&(function(m,y){const v=new wr(y),A=FD(y);let S=0,D=0;S-=v.left,D-=v.top,S+=y.scrollLeft,D+=y.scrollTop,S-=A.left,D-=A.top,m.moveBy(S,D)})(d,u)}return d}excludeScrollbarsAndBorders(){const i=this._source;let o,d,u;if(ub(i))o=i.innerWidth-i.document.documentElement.clientWidth,d=i.innerHeight-i.document.documentElement.clientHeight,u=i.getComputedStyle(i.document.documentElement).direction;else{const m=FD(i);o=i.offsetWidth-i.clientWidth-m.left-m.right,d=i.offsetHeight-i.clientHeight-m.top-m.bottom,u=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=m.left,this.top+=m.top,this.right-=m.right,this.bottom-=m.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,u==="ltr"?this.right-=o:this.left+=o,this.height-=d,this.bottom-=d,this}static getDomRangeRects(i){const o=[],d=Array.from(i.getClientRects());if(d.length)for(const u of d)o.push(new wr(u));else{let u=i.startContainer;$n(u)&&(u=u.parentNode);const m=new wr(u.getBoundingClientRect());m.right=m.left,m.width=0,o.push(m)}return o}static getBoundingRect(i){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let d=0;for(const u of i)d++,o.left=Math.min(o.left,u.left),o.top=Math.min(o.top,u.top),o.right=Math.max(o.right,u.right),o.bottom=Math.max(o.bottom,u.bottom);return d==0?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new wr(o))}}function gb(g,i){for(const o of XD)g[o]=i[o]}function VD(g){return!!UA(g)&&g===g.ownerDocument.body}function UA(g){return g!==null&&typeof g=="object"&&g.nodeType===1&&typeof g.getBoundingClientRect=="function"}function UD(g){return g instanceof HTMLElement?g.ownerDocument.defaultView.getComputedStyle(g).position:"static"}const Sn=class Sn{constructor(i,o){Sn._observerInstance||Sn._createObserver(),this._element=i,this._callback=o,Sn._addElementCallback(i,o),Sn._observerInstance.observe(i)}get element(){return this._element}destroy(){Sn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(i,o){Sn._elementCallbacks||(Sn._elementCallbacks=new Map);let d=Sn._elementCallbacks.get(i);d||(d=new Set,Sn._elementCallbacks.set(i,d)),d.add(o)}static _deleteElementCallback(i,o){const d=Sn._getElementCallbacks(i);d&&(d.delete(o),d.size||(Sn._elementCallbacks.delete(i),Sn._observerInstance.unobserve(i))),Sn._elementCallbacks&&!Sn._elementCallbacks.size&&(Sn._observerInstance=null,Sn._elementCallbacks=null)}static _getElementCallbacks(i){return Sn._elementCallbacks?Sn._elementCallbacks.get(i):null}static _createObserver(){Sn._observerInstance=new c.window.ResizeObserver((i=>{for(const o of i){const d=Sn._getElementCallbacks(o.target);if(d)for(const u of d)u(o)}}))}};Sn._observerInstance=null,Sn._elementCallbacks=null;let Ng=Sn;function qD(g,i){g instanceof HTMLTextAreaElement&&(g.value=i),g.innerHTML=i}function h0(g){return i=>i+g}function Bg(g){let i=0;for(;g.previousSibling;)g=g.previousSibling,i++;return i}function WD(g,i,o){g.insertBefore(o,g.childNodes[i]||null)}function Ig(g){return g&&g.nodeType===Node.COMMENT_NODE}function nc(g){return!!g&&($n(g)?nc(g.parentElement):!!g.getClientRects&&!!g.getClientRects().length)}function pb({element:g,target:i,positions:o,limiter:d,fitInViewport:u,viewportOffsetConfig:m}){Oe(i)&&(i=i()),Oe(d)&&(d=d());const y=zD(g),v=(function(L){L=Object.assign({top:0,bottom:0,left:0,right:0},L);const q=new wr(c.window);return q.top+=L.top,q.height-=L.top,q.bottom-=L.bottom,q.height-=L.bottom,q})(m),A=new wr(g),S=YD(i,v);let D;if(!S||!v.getIntersection(S))return null;const N={targetRect:S,elementRect:A,positionedElementAncestor:y,viewportRect:v};if(d||u){if(d){const L=YD(d,v);L&&(N.limiterRect=L)}D=(function(L,q){const{elementRect:Y}=q,ne=Y.getArea(),ue=L.map((Me=>new ZD(Me,q))).filter((Me=>!!Me.name));let me=0,Ae=null;for(const Me of ue){const{limiterIntersectionArea:Ue,viewportIntersectionArea:qe}=Me;if(Ue===ne)return Me;const Bt=qe**2+Ue**2;Bt>me&&(me=Bt,Ae=Me)}return Ae})(o,N)}else D=new ZD(o[0],N);return D}function YD(g,i){const o=new wr(g).getVisible();return o?o.getIntersection(i):null}class ZD{constructor(i,o){const d=i(o.targetRect,o.elementRect,o.viewportRect,o.limiterRect);if(!d)return;const{left:u,top:m,name:y,config:v}=d;this.name=y,this.config=v,this._positioningFunctionCoordinates={left:u,top:m},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const i=this._options.limiterRect;return i?i.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function GD(g){const i=g.parentNode;i&&i.removeChild(g)}function Gae({window:g,rect:i,alignToTop:o,forceScroll:d,viewportOffset:u}){const m=i.clone().moveBy(0,u.bottom),y=i.clone().moveBy(0,-u.top),v=new wr(g).excludeScrollbarsAndBorders(),A=o&&d,S=[y,m].every((Y=>v.contains(Y)));let{scrollX:D,scrollY:N}=g;const L=D,q=N;A?N-=v.top-i.top+u.top:S||(KD(y,v)?N-=v.top-i.top+u.top:HD(m,v)&&(N+=o?i.top-v.top-u.top:i.bottom-v.bottom+u.bottom)),S||(JD(i,v)?D-=v.left-i.left+u.left:eQ(i,v)&&(D+=i.right-v.right+u.right)),D==L&&N===q||g.scrollTo(D,N)}function Hae({parent:g,getRect:i,alignToTop:o,forceScroll:d,ancestorOffset:u=0,limiterElement:m}){const y=qA(g),v=o&&d;let A,S,D;const N=m||y.document.body;for(;g!=N;)S=i(),A=new wr(g).excludeScrollbarsAndBorders(),D=A.contains(S),v?g.scrollTop-=A.top-S.top+u:D||(KD(S,A)?g.scrollTop-=A.top-S.top+u:HD(S,A)&&(g.scrollTop+=o?S.top-A.top-u:S.bottom-A.bottom+u)),D||(JD(S,A)?g.scrollLeft-=A.left-S.left+u:eQ(S,A)&&(g.scrollLeft+=S.right-A.right+u)),g=g.parentNode}function HD(g,i){return g.bottom>i.bottom}function KD(g,i){return g.top<i.top}function JD(g,i){return g.left<i.left}function eQ(g,i){return g.right>i.right}function qA(g){return fb(g)?g.startContainer.ownerDocument.defaultView:g.ownerDocument.defaultView}function Kae(g){if(fb(g)){let i=g.commonAncestorContainer;return $n(i)&&(i=i.parentNode),i}return g.parentNode}function WA(g,i){const o=qA(g),d=new wr(g);if(o===i)return d;{let u=o;for(;u!=i;){const m=u.frameElement,y=new wr(m).excludeScrollbarsAndBorders();d.moveBy(y.left,y.top),u=u.parent}}return d}const Jae={ctrl:"",cmd:"",alt:"",shift:""},eoe={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},tQ={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},Tr=roe(),toe=Object.fromEntries(Object.entries(Tr).map((([g,i])=>{let o;return o=i in tQ?tQ[i]:g.charAt(0).toUpperCase()+g.slice(1),[i,o]})));function u0(g){let i;if(typeof g=="string"){if(i=Tr[g.toLowerCase()],!i)throw new F("keyboard-unknown-key",null,{key:g})}else i=g.keyCode+(g.altKey?Tr.alt:0)+(g.ctrlKey?Tr.ctrl:0)+(g.shiftKey?Tr.shift:0)+(g.metaKey?Tr.cmd:0);return i}function YA(g){return typeof g=="string"&&(g=(function(i){return i.split("+").map((o=>o.trim()))})(g)),g.map((i=>typeof i=="string"?(function(o){if(o.endsWith("!"))return u0(o.slice(0,-1));const d=u0(o);return(p.isMac||p.isiOS)&&d==Tr.ctrl?Tr.cmd:d})(i):i)).reduce(((i,o)=>o+i),0)}function mb(g,i){let o=YA(g);const d=p.isMac||p.isiOS;return Object.entries(d?Jae:eoe).reduce(((u,[m,y])=>(o&Tr[m]&&(o&=~Tr[m],u+=y),u)),"")+(o?toe[o]:"")}function ZA(g,i){const o=i==="ltr";switch(g){case Tr.arrowleft:return o?"left":"right";case Tr.arrowright:return o?"right":"left";case Tr.arrowup:return"up";case Tr.arrowdown:return"down"}}function roe(){const g={pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let i=65;i<=90;i++)g[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)g[i-48]=i;for(let i=112;i<=123;i++)g["f"+(i-111)]=i;return Object.assign(g,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),g}function An(g){return Array.isArray(g)?g:[g]}const GA=function(g,i,o){(o!==void 0&&!Yn(g[i],o)||o===void 0&&!(i in g))&&ob(g,i,o)},rQ=(function(g){return function(i,o,d){for(var u=-1,m=Object(i),y=d(i),v=y.length;v--;){var A=y[++u];if(o(m[A],A,m)===!1)break}return i}})(),noe=function(g){return Fn(g)&&db(g)},nQ=function(g,i){if((i!=="constructor"||typeof g[i]!="function")&&i!="__proto__")return g[i]},ioe=function(g){return l0(g,d0(g))},soe=function(g,i,o,d,u,m,y){var v=nQ(g,o),A=nQ(i,o),S=y.get(A);if(S)GA(g,o,S);else{var D=void 0,N=D===void 0;if(N){var L=Cn(A),q=!L&&Qg(A),Y=!L&&!q&&MA(A);D=A,L||q||Y?Cn(v)?D=v:noe(v)?D=pD(v):q?(N=!1,D=gD(A,!0)):Y?(N=!1,D=TD(A,!0)):D=[]:qr(A)||lb(A)?(D=v,lb(v)?D=ioe(v):Ee(v)&&!Oe(v)||(D=PD(A))):N=!1}N&&(y.set(A,D),u(D,A,d,m,y),y.delete(A)),GA(g,o,D)}},aoe=function g(i,o,d,u,m){i!==o&&rQ(o,(function(y,v){if(m||(m=new o0),Ee(y))soe(i,o,v,d,g,u,m);else{var A=void 0;A===void 0&&(A=y),GA(i,v,A)}}),d0)},fd=function(g){return g},ooe=function(g,i,o){switch(o.length){case 0:return g.call(i);case 1:return g.call(i,o[0]);case 2:return g.call(i,o[0],o[1]);case 3:return g.call(i,o[0],o[1],o[2])}return g.apply(i,o)};var iQ=Math.max;const loe=function(g,i,o){return i=iQ(i===void 0?g.length-1:i,0),function(){for(var d=arguments,u=-1,m=iQ(d.length-i,0),y=Array(m);++u<m;)y[u]=d[i+u];u=-1;for(var v=Array(i+1);++u<i;)v[u]=d[u];return v[i]=o(y),ooe(g,this,v)}},coe=function(g){return function(){return g}},doe=ab?function(g,i){return ab(g,"toString",{configurable:!0,enumerable:!1,value:coe(i),writable:!0})}:fd;var hoe=Date.now;const uoe=function(g){var i=0,o=0;return function(){var d=hoe(),u=16-(d-o);if(o=d,u>0){if(++i>=800)return arguments[0]}else i=0;return g.apply(void 0,arguments)}}(doe),foe=function(g,i){return uoe(loe(g,i,fd),g+"")},goe=function(g,i,o){if(!Ee(o))return!1;var d=typeof i;return!!(d=="number"?db(o)&&cb(i,o.length):d=="string"&&i in o)&&Yn(o[i],g)},sQ=function(g){return foe((function(i,o){var d=-1,u=o.length,m=u>1?o[u-1]:void 0,y=u>2?o[2]:void 0;for(m=g.length>3&&typeof m=="function"?(u--,m):void 0,y&&goe(o[0],o[1],y)&&(m=u<3?void 0:m,u=1),i=Object(i);++d<u;){var v=o[d];v&&g(i,v,d,m)}return i}))};var poe=sQ((function(g,i,o){aoe(g,i,o)}));const HA=poe;function moe(g,i,o=1,d){if(typeof o!="number")throw new F("translation-service-quantity-not-a-number",null,{quantity:o});const u=d||c.window.CKEDITOR_TRANSLATIONS,m=(function(D){return Object.keys(D).length})(u);m===1&&(g=Object.keys(u)[0]);const y=i.id||i.string;if(m===0||!(function(D,N,L){return!!L[D]&&!!L[D].dictionary[N]})(g,y,u))return o!==1?i.plural:i.string;const v=u[g].dictionary,A=u[g].getPluralForm||(D=>D===1?0:1),S=v[y];return typeof S=="string"?S:S[Number(A(o))]}c.window.CKEDITOR_TRANSLATIONS||(c.window.CKEDITOR_TRANSLATIONS={});const Ooe=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function aQ(g){return Ooe.includes(g)?"rtl":"ltr"}class xoe{constructor({uiLanguage:i="en",contentLanguage:o,translations:d}={}){this.uiLanguage=i,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=aQ(this.uiLanguage),this.contentLanguageDirection=aQ(this.contentLanguage),this.translations=(function(u){return Array.isArray(u)?u.reduce(((m,y)=>HA(m,y))):u})(d),this.t=(u,m)=>this._t(u,m)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,o=[]){o=An(o),typeof i=="string"&&(i={string:i});const d=i.plural?o[0]:1;return(function(u,m){return u.replace(/%(\d+)/g,((y,v)=>v<m.length?m[v]:y))})(moe(this.uiLanguage,i,d,this.translations),o)}}class _o extends K(){constructor(i={},o={}){super();const d=Ct(i);if(d||(o=i),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],d)for(const u of i)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,o){return this.addMany([i],o)}addMany(i,o){if(o===void 0)o=this._items.length;else if(o>this._items.length||o<0)throw new F("collection-add-item-invalid-index",this);let d=0;for(const u of i){const m=this._getItemIdBeforeAdding(u),y=o+d;this._items.splice(y,0,u),this._itemMap.set(m,u),this.fire("add",u,y),d++}return this.fire("change",{added:i,removed:[],index:o}),this}get(i){let o;if(typeof i=="string")o=this._itemMap.get(i);else{if(typeof i!="number")throw new F("collection-get-invalid-arg",this);o=this._items[i]}return o||null}has(i){if(typeof i=="string")return this._itemMap.has(i);{const o=i[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(i){let o;return o=typeof i=="string"?this._itemMap.get(i):i,o?this._items.indexOf(o):-1}remove(i){const[o,d]=this._remove(i);return this.fire("change",{added:[],removed:[o],index:d}),o}map(i,o){return this._items.map(i,o)}forEach(i,o){this._items.forEach(i,o)}find(i,o){return this._items.find(i,o)}filter(i,o){return this._items.filter(i,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const i=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:i,index:0})}bindTo(i){if(this._bindToCollection)throw new F("collection-bind-to-rebind",this);return this._bindToCollection=i,{as:o=>{this._setUpBindToBinding((d=>new o(d)))},using:o=>{typeof o=="function"?this._setUpBindToBinding(o):this._setUpBindToBinding((d=>d[o]))}}}_setUpBindToBinding(i){const o=this._bindToCollection,d=(u,m,y)=>{const v=o._bindToCollection==this,A=o._bindToInternalToExternalMap.get(m);if(v&&A)this._bindToExternalToInternalMap.set(m,A),this._bindToInternalToExternalMap.set(A,m);else{const S=i(m);if(!S)return void this._skippedIndexesFromExternal.push(y);let D=y;for(const N of this._skippedIndexesFromExternal)y>N&&D--;for(const N of o._skippedIndexesFromExternal)D>=N&&D++;this._bindToExternalToInternalMap.set(m,S),this._bindToInternalToExternalMap.set(S,m),this.add(S,D);for(let N=0;N<o._skippedIndexesFromExternal.length;N++)D<=o._skippedIndexesFromExternal[N]&&o._skippedIndexesFromExternal[N]++}};for(const u of o)d(0,u,o.getIndex(u));this.listenTo(o,"add",d),this.listenTo(o,"remove",((u,m,y)=>{const v=this._bindToExternalToInternalMap.get(m);v&&this.remove(v),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((A,S)=>(y<S&&A.push(S-1),y>S&&A.push(S),A)),[])}))}_getItemIdBeforeAdding(i){const o=this._idProperty;let d;if(o in i){if(d=i[o],typeof d!="string")throw new F("collection-add-invalid-id",this);if(this.get(d))throw new F("collection-add-item-already-exists",this)}else i[o]=d=z();return d}_remove(i){let o,d,u,m=!1;const y=this._idProperty;if(typeof i=="string"?(d=i,u=this._itemMap.get(d),m=!u,u&&(o=this._items.indexOf(u))):typeof i=="number"?(o=i,u=this._items[o],m=!u,u&&(d=u[y])):(u=i,d=u[y],o=this._items.indexOf(u),m=o==-1||!this._itemMap.get(d)),m)throw new F("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(d);const v=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(v),this.fire("remove",u,o),[u,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ti(g){const i=g.next();return i.done?null:i.value}class si extends za(Ge()){constructor(){super(),this._elements=new Set,this._externalViews=new Set,this._blurTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}get elements(){return Array.from(this._elements.values())}get externalViews(){return Array.from(this._externalViews.values())}add(i){if(lQ(i))this._addElement(i);else if(oQ(i))this._addView(i);else{if(!i.element)throw new F("focustracker-add-view-missing-element",{focusTracker:this,view:i});this._addElement(i.element)}}remove(i){lQ(i)?this._removeElement(i):oQ(i)?this._removeView(i):this._removeElement(i.element)}_addElement(i){if(this._elements.has(i))throw new F("focustracker-add-element-already-exist",this);this.listenTo(i,"focus",(()=>{const o=this.externalViews.find((d=>(function(u,m){return cQ(u,m)?!0:!!m.focusTracker.externalViews.find((y=>cQ(u,y)))})(i,d)));o?this._focus(o.element):this._focus(i)}),{useCapture:!0}),this.listenTo(i,"blur",(()=>{this._blur()}),{useCapture:!0}),this._elements.add(i)}_removeElement(i){this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i)),i===this.focusedElement&&this._blur()}_addView(i){i.element&&this._addElement(i.element),this.listenTo(i.focusTracker,"change:focusedElement",(()=>{i.focusTracker.focusedElement?i.element&&this._focus(i.element):this._blur()})),this._externalViews.add(i)}_removeView(i){i.element&&this._removeElement(i.element),this.stopListening(i.focusTracker),this._externalViews.delete(i)}destroy(){this.stopListening(),this._elements.clear(),this._externalViews.clear(),this.isFocused=!1,this.focusedElement=null}_focus(i){this._clearBlurTimeout(),this.focusedElement=i,this.isFocused=!0}_blur(){this.elements.find((i=>i.contains(document.activeElement)))||this.externalViews.find((i=>i.focusTracker.isFocused&&!i.focusTracker._blurTimeout))||(this._clearBlurTimeout(),this._blurTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0))}_clearBlurTimeout(){clearTimeout(this._blurTimeout),this._blurTimeout=null}}function oQ(g){return"focusTracker"in g&&g.focusTracker instanceof si}function lQ(g){return hd(g)}function cQ(g,i){return!!i.element&&i.element.contains(document.activeElement)&&g.contains(i.element)}class as{constructor(){this._listener=new(za())}listenTo(i){this._listener.listenTo(i,"keydown",((o,d)=>{this._listener.fire("_keydown:"+u0(d),d)}))}set(i,o,d={}){const u=YA(i),m=d.priority;this._listener.listenTo(this._listener,"_keydown:"+u,((y,v)=>{d.filter&&!d.filter(v)||(o(v,(()=>{v.preventDefault(),v.stopPropagation(),y.stop()})),y.return=!0)}),{priority:m})}press(i){return!!this._listener.fire("_keydown:"+u0(i),i)}stopListening(i){this._listener.stopListening(i)}destroy(){this.stopListening()}}function fl(g){return Ct(g)?new Map(g):(function(i){const o=new Map;for(const d in i)o.set(d,i[d]);return o})(g)}function dQ(g,i,o){const d=g.length,u=i.length;for(let m=d-1;m>=o;m--)g[m+u]=g[m];for(let m=0;m<u;m++)g[o+m]=i[m]}function KA(g,i){let o;function d(...u){d.cancel(),o=setTimeout((()=>g(...u)),i)}return d.cancel=()=>{clearTimeout(o)},d}function JA(g){try{if(!g.startsWith("ey"))return null;const i=atob(g.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(i)}catch{return null}}function eS(g,i){return!!(o=g.charAt(i-1))&&o.length==1&&/[\ud800-\udbff]/.test(o)&&(function(d){return!!d&&d.length==1&&/[\udc00-\udfff]/.test(d)})(g.charAt(i));var o}function tS(g,i){return!!(o=g.charAt(i))&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const boe=koe();function hQ(g,i){const o=String(g).matchAll(boe);return Array.from(o).some((d=>d.index<i&&i<d.index+d[0].length))}function koe(){const g=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")].map((o=>o.source)).join("|")+")";return new RegExp(`${g}|${i}(?:${i})*`,"ug")}class Co extends _o{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",((o,d,u)=>{this._renderViewIntoCollectionParent(d,u)})),this.on("remove",((o,d)=>{d.element&&this._parentElement&&d.element.remove()})),this._parentElement=null}destroy(){this.map((i=>i.destroy()))}setParent(i){this._parentElement=i;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...i){if(!i.length||!i.every((o=>typeof o=="string")))throw new F("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const d of this)for(const u of i)d.delegate(u).to(o);this.on("add",((d,u)=>{for(const m of i)u.delegate(m).to(o)})),this.on("remove",((d,u)=>{for(const m of i)u.stopDelegating(m,o)}))}}}_renderViewIntoCollectionParent(i,o){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[o])}remove(i){return super.remove(i)}}class Ao extends K(){constructor(i){super(),Object.assign(this,pQ(gQ(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,intoFragment:!1,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new F("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*(function*i(o){if(o.children)for(const d of o.children)xb(d)?yield d:rS(d)&&(yield*i(d))})(this)}static bind(i,o){return{to:(d,u)=>new yoe({eventNameOrFunction:d,attribute:d,observable:i,emitter:o,callback:u}),if:(d,u,m)=>new uQ({observable:i,emitter:o,attribute:d,valueIfTrue:u,callback:m})}}static extend(i,o){if(i._isRendered)throw new F("template-extend-render",[this,i]);bQ(i,pQ(gQ(o)))}_renderNode(i){let o;if(o=i.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new F("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let o=i.node;return o||(o=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),o}_renderText(i){let o=i.node;return o?i.revertData.text=o.textContent:o=i.node=document.createTextNode(""),Ob(this.text)?this._bindToObservable({schema:this.text,updater:woe(o),data:i}):o.textContent=this.text.join(""),o}_renderAttributes(i){if(!this.attributes)return;const o=i.node,d=i.revertData;for(const u in this.attributes){const m=o.getAttribute(u),y=this.attributes[u];d&&(d.attributes[u]=m);const v=kQ(y)?y[0].ns:null;if(Ob(y)){const A=kQ(y)?y[0].value:y;d&&yQ(u)&&A.unshift(m),this._bindToObservable({schema:A,updater:voe(o,u,v),data:i})}else if(u=="style"&&typeof y[0]!="string")this._renderStyleAttribute(y[0],i);else{d&&m&&yQ(u)&&y.unshift(m);const A=y.map((S=>S&&S.value||S)).reduce(((S,D)=>S.concat(D)),[]).reduce(OQ,"");f0(A)||o.setAttributeNS(v,u,A)}}}_renderStyleAttribute(i,o){const d=o.node;for(const u in i){const m=i[u];Ob(m)?this._bindToObservable({schema:[m],updater:_oe(d,u),data:o}):d.style[u]=m}}_renderElementChildren(i){const o=i.node,d=i.intoFragment?document.createDocumentFragment():o,u=i.isApplying;let m=0;for(const y of this.children)if(nS(y)){if(!u){y.setParent(o);for(const v of y)d.appendChild(v.element)}}else if(xb(y))u||(y.isRendered||y.render(),d.appendChild(y.element));else if(ud(y))d.appendChild(y);else if(u){const v={children:[],bindings:[],attributes:{}};i.revertData.children.push(v),y._renderNode({intoFragment:!1,node:d.childNodes[m++],isApplying:!0,revertData:v})}else d.appendChild(y.render());i.intoFragment&&o.appendChild(d)}_setUpListeners(i){if(this.eventListeners)for(const o in this.eventListeners){const d=this.eventListeners[o].map((u=>{const[m,y]=o.split("@");return u.activateDomEventListener(m,y,i)}));i.revertData&&i.revertData.bindings.push(d)}}_bindToObservable({schema:i,updater:o,data:d}){const u=d.revertData;fQ(i,o,d);const m=i.filter((y=>!f0(y))).filter((y=>y.observable)).map((y=>y.activateAttributeListener(i,o,d)));u&&u.bindings.push(m)}_revertTemplateFromNode(i,o){for(const u of o.bindings)for(const m of u)m();if(o.text)return void(i.textContent=o.text);const d=i;for(const u in o.attributes){const m=o.attributes[u];m===null?d.removeAttribute(u):d.setAttribute(u,m)}for(let u=0;u<o.children.length;++u)this._revertTemplateFromNode(d.childNodes[u],o.children[u])}}class jg{constructor(i){this.attribute=i.attribute,this.observable=i.observable,this.emitter=i.emitter,this.callback=i.callback}getValue(i){const o=this.observable[this.attribute];return this.callback?this.callback(o,i):o}activateAttributeListener(i,o,d){const u=()=>fQ(i,o,d);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class yoe extends jg{constructor(i){super(i),this.eventNameOrFunction=i.eventNameOrFunction}activateDomEventListener(i,o,d){const u=(m,y)=>{o&&!y.target.matches(o)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(y):this.observable.fire(this.eventNameOrFunction,y))};return this.emitter.listenTo(d.node,i,u),()=>{this.emitter.stopListening(d.node,i,u)}}}class uQ extends jg{constructor(i){super(i),this.valueIfTrue=i.valueIfTrue}getValue(i){return!f0(super.getValue(i))&&(this.valueIfTrue||!0)}}function Ob(g){return!!g&&(g.value&&(g=g.value),Array.isArray(g)?g.some(Ob):g instanceof jg)}function fQ(g,i,{node:o}){const d=(function(m,y){return m.map((v=>v instanceof jg?v.getValue(y):v))})(g,o);let u;u=g.length==1&&g[0]instanceof uQ?d[0]:d.reduce(OQ,""),f0(u)?i.remove():i.set(u)}function woe(g){return{set(i){g.textContent=i},remove(){g.textContent=""}}}function voe(g,i,o){return{set(d){g.setAttributeNS(o,i,d)},remove(){g.removeAttributeNS(o,i)}}}function _oe(g,i){return{set(o){g.style[i]=o},remove(){g.style[i]=null}}}function gQ(g){return VA(g,(i=>{if(i&&(i instanceof jg||rS(i)||xb(i)||nS(i)))return i}))}function pQ(g){if(typeof g=="string"?g=(function(i){return{text:[i]}})(g):g.text&&(function(i){i.text=An(i.text)})(g),g.on&&(g.eventListeners=(function(i){for(const o in i)mQ(i,o);return i})(g.on),delete g.on),!g.text){g.attributes&&(function(o){for(const d in o)o[d].value&&(o[d].value=An(o[d].value)),mQ(o,d)})(g.attributes);const i=[];if(g.children)if(nS(g.children))i.push(g.children);else for(const o of g.children)rS(o)||xb(o)||ud(o)?i.push(o):i.push(new Ao(o));g.children=i}return g}function mQ(g,i){g[i]=An(g[i])}function OQ(g,i){return f0(i)?g:f0(g)?i:`${g} ${i}`}function xQ(g,i){for(const o in i)g[o]?g[o].push(...i[o]):g[o]=i[o]}function bQ(g,i){if(i.attributes&&(g.attributes||(g.attributes={}),xQ(g.attributes,i.attributes)),i.eventListeners&&(g.eventListeners||(g.eventListeners={}),xQ(g.eventListeners,i.eventListeners)),i.text&&g.text.push(...i.text),i.children&&i.children.length){if(g.children.length!=i.children.length)throw new F("ui-template-extend-children-mismatch",g);let o=0;for(const d of i.children)bQ(g.children[o++],d)}}function f0(g){return!g&&g!==0}function xb(g){return g instanceof Vt}function rS(g){return g instanceof Ao}function nS(g){return g instanceof Co}function kQ(g){return Ee(g[0])&&g[0].ns}function yQ(g){return g=="class"||g=="style"}var Coe=s(2591),ht=s.n(Coe),Aoe=s(8639),ut=s.n(Aoe),Soe=s(8128),ft=s.n(Soe),Toe=s(8021),gt=s.n(Toe),Eoe=s(3051),pt=s.n(Eoe),bb=s(7676),Fg={attributes:{"data-cke":!0}};Fg.setAttributes=gt(),Fg.insert=ft().bind(null,"head"),Fg.domAPI=ut(),Fg.insertStyleElement=pt(),ht()(bb.A,Fg),bb.A&&bb.A.locals&&bb.A.locals;class Vt extends za(Ge()){constructor(i){super(),this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new _o,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((o,d)=>{d.locale=i,d.t=i&&i.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ao.bind(this,this)}createCollection(i){const o=new Co(i);return this._viewCollections.add(o),o}registerChild(i){Ct(i)||(i=[i]);for(const o of i)this._unboundChildren.add(o)}deregisterChild(i){Ct(i)||(i=[i]);for(const o of i)this._unboundChildren.remove(o)}setTemplate(i){this.template=new Ao(i)}extendTemplate(i){Ao.extend(this.template,i)}render(){if(this.isRendered)throw new F("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((i=>i.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function kb({emitter:g,activator:i,callback:o,contextElements:d,listenerOptions:u}){g.listenTo(document,"mousedown",((m,y)=>{if(!i())return;const v=typeof y.composedPath=="function"?y.composedPath():[],A=typeof d=="function"?d():d;for(const S of A)if(S.contains(y.target)||v.includes(S))return;o()}),u)}function iS(g){return class extends g{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...i){super(...i),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function yb({view:g}){g.listenTo(g.element,"submit",((i,o)=>{o.preventDefault(),g.fire("submit")}),{useCapture:!0})}function Poe({keystrokeHandler:g,focusTracker:i,gridItems:o,numberOfColumns:d,uiLanguageDirection:u}){const m=()=>d;function y(S){return D=>{const N=o.find((Y=>Y.element===i.focusedElement)),L=o.getIndex(N),q=S(L,o);o.get(q).focus(),D.stopPropagation(),D.preventDefault()}}function v(S,D){return S===D-1?0:S+1}function A(S,D){return S===0?D-1:S-1}g.set("arrowright",y(((S,D)=>u==="rtl"?A(S,D.length):v(S,D.length)))),g.set("arrowleft",y(((S,D)=>u==="rtl"?v(S,D.length):A(S,D.length)))),g.set("arrowup",y(((S,D)=>{let N=S-m();return N<0&&(N=S+m()*Math.floor(D.length/m()),N>D.length-1&&(N-=m())),N}))),g.set("arrowdown",y(((S,D)=>{let N=S+m();return N>D.length-1&&(N=S%m()),N})))}class at extends Ge(){constructor(i){super(),this._disableStack=new Set,this.editor=i,this.set("isEnabled",!0)}forceDisabled(i){this._disableStack.add(i),this._disableStack.size==1&&(this.on("set:isEnabled",wQ,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),this._disableStack.size==0&&(this.off("set:isEnabled",wQ),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}function wQ(g){g.return=!1,g.stop()}class vr extends Ge(){constructor(i){super(),this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(i,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(o=>{if(!this.affectsData)return;const d=i.model.document.selection,u=d.getFirstPosition().root.rootName!="$graveyard"&&i.model.canEditAt(d);(i.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(o.return=!1,o.stop())}),{priority:"highest"}),this.on("execute",(o=>{this.isEnabled||o.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(i){this._affectsData=i}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),this._disableStack.size==1&&(this.on("set:isEnabled",vQ,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),this._disableStack.size==0&&(this.off("set:isEnabled",vQ),this.refresh())}execute(...i){}destroy(){this.stopListening()}}function vQ(g){g.return=!1,g.stop()}class _Q extends vr{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...i){const o=this._getFirstEnabledCommand();return!!o&&o.execute(i)}registerChildCommand(i,o={}){W(this._childCommandsDefinitions,{command:i,priority:o.priority||"normal"}),i.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const i=this._childCommandsDefinitions.find((({command:o})=>o.isEnabled));return i&&i.command}}class CQ extends K(){constructor(i,o=[],d=[]){super(),this._plugins=new Map,this._context=i,this._availablePlugins=new Map;for(const u of o)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,m]of d)this._contextPlugins.set(u,m),this._contextPlugins.set(m,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const i of this._plugins)typeof i[0]=="function"&&(yield i)}get(i){const o=this._plugins.get(i);if(!o){let d=i;throw typeof i=="function"&&(d=i.pluginName||i.name),new F("plugincollection-plugin-not-loaded",this._context,{plugin:d})}return o}has(i){return this._plugins.has(i)}init(i,o=[],d=[]){const u=this,m=this._context;(function Y(ne,ue=new Set){ne.forEach((me=>{A(me)&&(ue.has(me)||(ue.add(me),me.pluginName&&!u._availablePlugins.has(me.pluginName)&&u._availablePlugins.set(me.pluginName,me),me.requires&&Y(me.requires,ue)))}))})(i),L(i);const y=[...(function Y(ne,ue=new Set){return ne.map((me=>A(me)?me:u._availablePlugins.get(me))).reduce(((me,Ae)=>ue.has(Ae)?me:(ue.add(Ae),Ae.requires&&(L(Ae.requires,Ae),Y(Ae.requires,ue).forEach((Me=>me.add(Me)))),me.add(Ae))),new Set)})(i.filter((Y=>!D(Y,o))))];(function(Y,ne){for(const ue of ne){if(typeof ue!="function")throw new F("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ue});const me=ue.pluginName;if(!me)throw new F("plugincollection-replace-plugin-missing-name",null,{pluginItem:ue});if(ue.requires&&ue.requires.length)throw new F("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:me});const Ae=u._availablePlugins.get(me);if(!Ae)throw new F("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:me});const Me=Y.indexOf(Ae);if(Me===-1){if(u._contextPlugins.has(Ae))return;throw new F("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:me})}if(Ae.requires&&Ae.requires.length)throw new F("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:me});Y.splice(Me,1,ue),u._availablePlugins.set(me,ue)}})(y,d);const v=y.map((Y=>{let ne=u._contextPlugins.get(Y);return ne=ne||new Y(m),u._add(Y,ne),ne}));return q(v,"init").then((()=>q(v,"afterInit"))).then((()=>v));function A(Y){return typeof Y=="function"}function S(Y){return A(Y)&&!!Y.isContextPlugin}function D(Y,ne){return ne.some((ue=>ue===Y||N(Y)===ue||N(ue)===Y))}function N(Y){return A(Y)?Y.pluginName||Y.name:Y}function L(Y,ne=null){Y.map((ue=>A(ue)?ue:u._availablePlugins.get(ue)||ue)).forEach((ue=>{(function(me,Ae){if(!A(me))throw Ae?new F("plugincollection-soft-required",m,{missingPlugin:me,requiredBy:N(Ae)}):new F("plugincollection-plugin-not-found",m,{plugin:me})})(ue,ne),(function(me,Ae){if(S(Ae)&&!S(me))throw new F("plugincollection-context-required",m,{plugin:N(me),requiredBy:N(Ae)})})(ue,ne),(function(me,Ae){if(Ae&&D(me,o))throw new F("plugincollection-required",m,{plugin:N(me),requiredBy:N(Ae)})})(ue,ne)}))}function q(Y,ne){return Y.reduce(((ue,me)=>me[ne]?u._contextPlugins.has(me)?ue:ue.then(me[ne].bind(me)):ue),Promise.resolve())}}destroy(){const i=[];for(const[,o]of this)typeof o.destroy!="function"||this._contextPlugins.has(o)||i.push(o.destroy());return Promise.all(i)}_add(i,o){this._plugins.set(i,o);const d=i.pluginName;if(d){if(this._plugins.has(d))throw new F("plugincollection-plugin-name-conflict",null,{pluginName:d,plugin1:this._plugins.get(d).constructor,plugin2:i});this._plugins.set(d,o)}}}class AQ{constructor(i){this._contextOwner=null;const{translations:o,...d}=i||{};this.config=new ND(d,this.constructor.defaultConfig);const u=this.constructor.builtinPlugins;this.config.define("plugins",u),this.plugins=new CQ(this,u);const m=this.config.get("language")||{};this.locale=new xoe({uiLanguage:typeof m=="string"?m:m.ui,contentLanguage:this.config.get("language.content"),translations:o}),this.t=this.locale.t,this.editors=new _o}initPlugins(){const i=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const d of i.concat(o)){if(typeof d!="function")throw new F("context-initplugins-constructor-only",null,{Plugin:d});if(d.isContextPlugin!==!0)throw new F("context-initplugins-invalid-plugin",null,{Plugin:d})}return this.plugins.init(i,[],o)}destroy(){return Promise.all(Array.from(this.editors,(i=>i.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(i,o){if(this._contextOwner)throw new F("context-addeditor-private-context");this.editors.add(i),o&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(i[o]=this.config.get(o));return i}static create(i){return new Promise((o=>{const d=new this(i);o(d.initPlugins().then((()=>d)))}))}}class wb extends Ge(){constructor(i){super(),this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}static get isOfficialPlugin(){return!1}static get isPremiumPlugin(){return!1}}const vb=function(g){return typeof g=="symbol"||Fn(g)&&Wn(g)=="[object Symbol]"};var Doe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qoe=/^\w*$/;const sS=function(g,i){if(Cn(g))return!1;var o=typeof g;return!(o!="number"&&o!="symbol"&&o!="boolean"&&g!=null&&!vb(g))||Qoe.test(g)||!Doe.test(g)||i!=null&&g in Object(i)};function aS(g,i){if(typeof g!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var o=function(){var d=arguments,u=i?i.apply(this,d):d[0],m=o.cache;if(m.has(u))return m.get(u);var y=g.apply(this,d);return o.cache=m.set(u,y)||m,y};return o.cache=new(aS.Cache||sb),o}aS.Cache=sb;const $oe=aS,Moe=function(g){var i=$oe(g,(function(d){return o.size===500&&o.clear(),d})),o=i.cache;return i};var Roe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Noe=/\\(\\)?/g,Boe=Moe((function(g){var i=[];return g.charCodeAt(0)===46&&i.push(""),g.replace(Roe,(function(o,d,u,m){i.push(u?m.replace(Noe,"$1"):d||o)})),i}));const Ioe=Boe,joe=function(g,i){for(var o=-1,d=g==null?0:g.length,u=Array(d);++o<d;)u[o]=i(g[o],o,g);return u};var SQ=Nt?Nt.prototype:void 0,TQ=SQ?SQ.toString:void 0;const Foe=function g(i){if(typeof i=="string")return i;if(Cn(i))return joe(i,g)+"";if(vb(i))return TQ?TQ.call(i):"";var o=i+"";return o=="0"&&1/i==-1/0?"-0":o},oS=function(g){return g==null?"":Foe(g)},_b=function(g,i){return Cn(g)?g:sS(g,i)?[g]:Ioe(oS(g))},g0=function(g){if(typeof g=="string"||vb(g))return g;var i=g+"";return i=="0"&&1/g==-1/0?"-0":i},lS=function(g,i){for(var o=0,d=(i=_b(i,g)).length;g!=null&&o<d;)g=g[g0(i[o++])];return o&&o==d?g:void 0},p0=function(g,i,o){var d=g==null?void 0:lS(g,i);return d===void 0?o:d},Loe=function(g,i,o,d){if(!Ee(g))return g;for(var u=-1,m=(i=_b(i,g)).length,y=m-1,v=g;v!=null&&++u<m;){var A=g0(i[u]),S=o;if(A==="__proto__"||A==="constructor"||A==="prototype")return g;if(u!=y){var D=v[A];(S=void 0)==void 0&&(S=Ee(D)?D:cb(i[u+1])?[]:{})}PA(v,A,S),v=v[A]}return g},EQ=function(g,i,o){return g==null?g:Loe(g,i,o)};var Cb=s(4098),Lg={attributes:{"data-cke":!0}};Lg.setAttributes=gt(),Lg.insert=ft().bind(null,"head"),Lg.domAPI=ut(),Lg.insertStyleElement=pt(),ht()(Cb.A,Lg),Cb.A&&Cb.A.locals&&Cb.A.locals;const zg=new WeakMap;let PQ=!1;function DQ({view:g,element:i,text:o,isDirectHost:d=!0,keepOnFocus:u=!1}){const m=g.document;function y(v){const A={text:v,isDirectHost:d,keepOnFocus:u,hostElement:d?i:null};zg.get(m).set(i,A),g.change((S=>cS([[i,A]],S)))}zg.has(m)||(zg.set(m,new Map),m.registerPostFixer((v=>cS(zg.get(m),v))),m.on("change:isComposing",(()=>{g.change((v=>cS(zg.get(m),v)))}),{priority:"high"})),i.is("editableElement")&&i.on("change:placeholder",((v,A,S)=>y(S))),i.placeholder?y(i.placeholder):o&&y(o),o&&(function(){PQ||V("enableplaceholder-deprecated-text-option"),PQ=!0})()}function zoe(g,i){return!i.hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",i),!0)}function Xoe(g,i){return!!i.hasClass("ck-placeholder")&&(g.removeClass("ck-placeholder",i),!0)}function Voe(g,i){if(!g.isAttached()||(function(u){for(const m of u.getChildren())if(!m.is("uiElement"))return!0;return!1})(g))return!1;const o=g.document,d=o.selection.anchor;return(!o.isComposing||!d||d.parent!==g)&&(!!i||!o.isFocused||!!d&&d.parent!==g)}function cS(g,i){const o=[];let d=!1;for(const[u,m]of g)m.isDirectHost&&(o.push(u),QQ(i,u,m)&&(d=!0));for(const[u,m]of g){if(m.isDirectHost)continue;const y=Uoe(u);y&&(o.includes(y)||(m.hostElement=y,QQ(i,u,m)&&(d=!0)))}return d}function QQ(g,i,o){const{text:d,isDirectHost:u,hostElement:m}=o;let y=!1;return m.getAttribute("data-placeholder")!==d&&(g.setAttribute("data-placeholder",d,m),y=!0),(u||i.childCount==1)&&Voe(m,o.keepOnFocus)?zoe(g,m)&&(y=!0):Xoe(g,m)&&(y=!0),y}function Uoe(g){if(g.childCount){const i=g.getChild(0);if(i.is("element")&&!i.is("uiElement")&&!i.is("attributeElement"))return i}return null}class Nh{is(){throw new Error("is() method is abstract")}}const $Q=function(g){return XA(g,4)};class Bh extends K(Nh){constructor(i){super(),this.document=i,this.parent=null}get index(){let i;if(!this.parent)return null;if((i=this.parent.getChildIndex(this))==-1)throw new F("view-node-not-found-in-parent",this);return i}get nextSibling(){const i=this.index;return i!==null&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return i!==null&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.index),o=o.parent;return i}getAncestors(i={}){const o=[];let d=i.includeSelf?this:this.parent;for(;d;)o[i.parentFirst?"push":"unshift"](d),d=d.parent;return o}getCommonAncestor(i,o={}){const d=this.getAncestors(o),u=i.getAncestors(o);let m=0;for(;d[m]==u[m]&&d[m];)m++;return m===0?null:d[m-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),d=i.getPath(),u=tt(o,d);switch(u){case"prefix":return!0;case"extension":return!1;default:return o[u]<d[u]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,o,d){this.fire(`change:${i}`,o,d),this.parent&&this.parent._fireChange(i,o,d)}toJSON(){const i=$Q(this);return delete i.parent,i}}Bh.prototype.is=function(g){return g==="node"||g==="view:node"};class ai extends Bh{constructor(i,o){super(i),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof ai&&(this===i||this.data===i.data)}_clone(){return new ai(this.document,this.data)}}ai.prototype.is=function(g){return g==="$text"||g==="view:$text"||g==="text"||g==="view:text"||g==="node"||g==="view:node"};class ic extends Nh{constructor(i,o,d){if(super(),this.textNode=i,o<0||o>i.data.length)throw new F("view-textproxy-wrong-offsetintext",this);if(d<0||o+d>i.data.length)throw new F("view-textproxy-wrong-length",this);this.data=i.data.substring(o,o+d),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(i={}){const o=[];let d=i.includeSelf?this.textNode:this.parent;for(;d!==null;)o[i.parentFirst?"push":"unshift"](d),d=d.parent;return o}}ic.prototype.is=function(g){return g==="$textProxy"||g==="view:$textProxy"||g==="textProxy"||g==="view:textProxy"};class Ab{constructor(){this._consumables=new Map}add(i,o){let d;i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?d=this._consumables.get(i):(d=new qoe(i),this._consumables.set(i,d)),d.add(o?Xg(o):i._getConsumables()))}test(i,o){const d=this._consumables.get(i);return d===void 0?null:i.is("$text")||i.is("documentFragment")?d:d.test(Xg(o))}consume(i,o){if(i.is("$text")||i.is("documentFragment"))return!!this.test(i,o)&&(this._consumables.set(i,!1),!0);const d=this._consumables.get(i);return d!==void 0&&d.consume(Xg(o))}revert(i,o){const d=this._consumables.get(i);d!==void 0&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):d.revert(Xg(o)))}static createFrom(i,o){if(o||(o=new Ab),i.is("$text"))o.add(i);else if(i.is("element")||i.is("documentFragment")){o.add(i);for(const d of i.getChildren())Ab.createFrom(d,o)}return o}}class qoe{constructor(i){this._canConsumeName=null,this._attributes=new Map,this.element=i}add(i){i.name&&(this._canConsumeName=!0);for(const[o,d]of i.attributes)if(d){let u=this._attributes.get(o);u&&typeof u!="boolean"||(u=new Map,this._attributes.set(o,u)),u.set(d,!0)}else{if(o=="style"||o=="class")throw new F("viewconsumable-invalid-attribute",this);this._attributes.set(o,!0)}}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const[o,d]of i.attributes){const u=this._attributes.get(o);if(u===void 0)return null;if(u===!1)return!1;if(u!==!0){if(d){const m=u.get(d);if(m===void 0)return null;if(!m)return!1}else for(const m of u.values())if(!m)return!1}}return!0}consume(i){if(!this.test(i))return!1;i.name&&(this._canConsumeName=!1);for(const[o,d]of i.attributes){const u=this._attributes.get(o);if(typeof u=="boolean")for(const[m]of this.element._getConsumables(o,d).attributes)this._attributes.set(m,!1);else if(d)for(const[,m]of this.element._getConsumables(o,d).attributes)u.set(m,!1);else for(const m of u.keys())u.set(m,!1)}return!0}revert(i){i.name&&(this._canConsumeName=!0);for(const[o,d]of i.attributes){const u=this._attributes.get(o);if(u!==!1){if(u!==void 0&&u!==!0)if(d)u.get(d)===!1&&u.set(d,!0);else for(const m of u.keys())u.set(m,!0)}else this._attributes.set(o,!0)}}}function Xg(g){const i=[];return"attributes"in g&&g.attributes&&dS(i,g.attributes),"classes"in g&&g.classes&&dS(i,g.classes,"class"),"styles"in g&&g.styles&&dS(i,g.styles,"style"),{name:g.name||!1,attributes:i}}function dS(g,i,o){if(typeof i!="string")for(const d of i)Array.isArray(d)?g.push(d):g.push(o?[o,d]:[d]);else g.push(o?[o,i]:[i])}class gl{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let o of i)(typeof o=="string"||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...i){for(const o of i)for(const d of this._patterns){const u=this._isElementMatching(o,d);if(u)return{element:o,pattern:d,match:u}}return null}matchAll(...i){const o=[];for(const d of i)for(const u of this._patterns){const m=this._isElementMatching(d,u);m&&o.push({element:d,pattern:u,match:m})}return o.length>0?o:null}getElementName(){if(this._patterns.length!==1)return null;const i=this._patterns[0],o=i.name;return typeof i=="function"||!o||o instanceof RegExp?null:o}_isElementMatching(i,o){if(typeof o=="function"){const m=o(i);return m&&typeof m=="object"?Xg(m):m}const d={};if(o.name&&(d.name=(function(m,y){return m instanceof RegExp?!!y.match(m):m===y})(o.name,i.name),!d.name))return null;const u=[];return o.attributes&&!(function(m,y,v){let A;return typeof m!="object"||m instanceof RegExp||Array.isArray(m)?A=["class","style"]:(m.style!==void 0&&V("matcher-pattern-deprecated-attributes-style-key",m),m.class!==void 0&&V("matcher-pattern-deprecated-attributes-class-key",m)),y._collectAttributesMatch(hS(m),v,A)})(o.attributes,i,u)||o.classes&&!(function(m,y,v){return y._collectAttributesMatch(hS(m,"class"),v)})(o.classes,i,u)||o.styles&&!(function(m,y,v){return y._collectAttributesMatch(hS(m,"style"),v)})(o.styles,i,u)?null:(u.length&&(d.attributes=u),d)}}function Sb(g,i){return g===!0||g===i||g instanceof RegExp&&!!String(i).match(g)}function hS(g,i){if(Array.isArray(g))return g.map((d=>typeof d!="object"||d instanceof RegExp?i?[i,d,!0]:[d,!0]:(d.key!==void 0&&d.value!==void 0||V("matcher-pattern-missing-key-or-value",d),i?[i,d.key,d.value]:[d.key,d.value])));if(typeof g!="object"||g instanceof RegExp)return[i?[i,g,!0]:[g,!0]];const o=[];for(const d in g)Object.prototype.hasOwnProperty.call(g,d)&&o.push(i?[i,d,g[d]]:[d,g[d]]);return o}const Woe=function(g){var i=g==null?0:g.length;return i?g[i-1]:void 0},MQ=function(g,i,o){var d=-1,u=g.length;i<0&&(i=-i>u?0:u+i),(o=o>u?u:o)<0&&(o+=u),u=i>o?0:o-i>>>0,i>>>=0;for(var m=Array(u);++d<u;)m[d]=g[d+i];return m},Yoe=function(g,i){return i.length<2?g:lS(g,MQ(i,0,-1))},Zoe=function(g,i){return i=_b(i,g),(g=Yoe(g,i))==null||delete g[g0(Woe(i))]},Goe=function(g,i){return g==null||Zoe(g,i)};class Vg{constructor(i){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,this._styles={},this._styleProcessor=i}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const o=(function(d){let u=null,m=0,y=0,v=null;const A=new Map;if(d==="")return A;d.charAt(d.length-1)!=";"&&(d+=";");for(let S=0;S<d.length;S++){const D=d.charAt(S);if(u===null)switch(D){case":":v||(v=d.substr(m,S-m),y=S+1);break;case'"':case"'":u=D;break;case";":{const N=d.substr(y,S-y);v&&A.set(v.trim(),N.trim()),v=null,m=S+1;break}}else D===u&&(u=null)}return A})(i);for(const[d,u]of o)this._styleProcessor.toNormalizedForm(d,u,this._styles);return this}has(i){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(i,this._styles).find((([d])=>d===i));return Array.isArray(o)}set(i,o){if(this._cachedStyleNames=null,this._cachedExpandedStyleNames=null,Ee(i))for(const[d,u]of Object.entries(i))this._styleProcessor.toNormalizedForm(d,u,this._styles);else this._styleProcessor.toNormalizedForm(i,o,this._styles)}remove(i){for(const o of An(i)){this._cachedStyleNames=null,this._cachedExpandedStyleNames=null;const d=uS(o);Goe(this._styles,d),delete this._styles[o],this._cleanEmptyObjectsOnPath(d)}}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((i=>i.join(":"))).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!Ee(this._styles[i]))return this._styles[i];const o=this._styleProcessor.getReducedForm(i,this._styles).find((([d])=>d===i));return Array.isArray(o)?o[1]:void 0}getStyleNames(i=!1){return this.isEmpty?[]:i?(this._cachedExpandedStyleNames=this._cachedExpandedStyleNames||this._styleProcessor.getStyleNames(this._styles),this._cachedExpandedStyleNames):(this._cachedStyleNames=this._cachedStyleNames||this.getStylesEntries().map((([o])=>o)),this._cachedStyleNames)}keys(){return this.getStyleNames()}clear(){this._styles={},this._cachedStyleNames=null,this._cachedExpandedStyleNames=null}isSimilar(i){if(this.size!==i.size)return!1;for(const o of this.getStyleNames())if(!i.has(o)||i.getAsString(o)!==this.getAsString(o))return!1;return!0}getStylesEntries(){const i=[],o=Object.keys(this._styles);for(const d of o)i.push(...this._styleProcessor.getReducedForm(d,this._styles));return i}_clone(){const i=new this.constructor(this._styleProcessor);return i.set(this.getNormalized()),i}_getTokensMatch(i,o){const d=[];for(const u of this.getStyleNames(!0))if(Sb(i,u)){if(o===!0){d.push(u);continue}Sb(o,this.getAsString(u))&&d.push(u)}return d.length?d:void 0}_getConsumables(i){const o=[];if(i){o.push(i);for(const d of this._styleProcessor.getRelatedStyles(i))o.push(d)}else for(const d of this.getStyleNames()){for(const u of this._styleProcessor.getRelatedStyles(d))o.push(u);o.push(d)}return o}_canMergeFrom(i){for(const o of i.getStyleNames())if(this.has(o)&&this.getAsString(o)!==i.getAsString(o))return!1;return!0}_mergeFrom(i){for(const o of i.getStyleNames())this.has(o)||this.set(o,i.getAsString(o))}_isMatching(i){for(const o of i.getStyleNames())if(!this.has(o)||this.getAsString(o)!==i.getAsString(o))return!1;return!0}_cleanEmptyObjectsOnPath(i){const o=i.split(".");if(!(o.length>1))return;const d=o.splice(0,o.length-1).join("."),u=p0(this._styles,d);u&&!Object.keys(u).length&&this.remove(d)}}class Hoe{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,o,d){if(Ee(o))fS(d,uS(i),o);else if(this._normalizers.has(i)){const u=this._normalizers.get(i),{path:m,value:y}=u(o);fS(d,m,y)}else fS(d,i,o)}getNormalized(i,o){if(!i)return HA({},o);if(o[i]!==void 0)return o[i];if(this._extractors.has(i)){const d=this._extractors.get(i);if(typeof d=="string")return p0(o,d);const u=d(i,o);if(u)return u}return p0(o,uS(i))}getReducedForm(i,o){const d=this.getNormalized(i,o);return d===void 0?[]:this._reducers.has(i)?this._reducers.get(i)(d):[[i,d]]}getStyleNames(i){const o=new Set;for(const d of this._consumables.keys()){const u=this.getNormalized(d,i);u&&(typeof u!="object"||Object.keys(u).length)&&o.add(d)}for(const d of Object.keys(i))o.add(d);return Array.from(o)}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,o){this._normalizers.set(i,o)}setExtractor(i,o){this._extractors.set(i,o)}setReducer(i,o){this._reducers.set(i,o)}setStyleRelation(i,o){this._mapStyleNames(i,o);for(const d of o)this._mapStyleNames(d,[i])}_mapStyleNames(i,o){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...o)}}function uS(g){return g.replace("-",".")}function fS(g,i,o){let d=o;Ee(o)&&(d=HA({},p0(g,i),o)),EQ(g,i,d)}class gS{constructor(){this._set=new Set}get isEmpty(){return this._set.size==0}get size(){return this._set.size}has(i){return this._set.has(i)}keys(){return Array.from(this._set.keys())}setTo(i){this.clear();for(const o of i.split(/\s+/))o&&this._set.add(o);return this}set(i){for(const o of An(i))o&&this._set.add(o)}remove(i){for(const o of An(i))this._set.delete(o)}clear(){this._set.clear()}toString(){return Array.from(this._set).join(" ")}isSimilar(i){if(this.size!==i.size)return!1;for(const o of this.keys())if(!i.has(o))return!1;return!0}_clone(){const i=new this.constructor;return i._set=new Set(this._set),i}_getTokensMatch(i){const o=[];if(i===!0){for(const d of this._set.keys())o.push(d);return o}if(typeof i=="string"){for(const d of i.split(/\s+/)){if(!this._set.has(d))return;o.push(d)}return o}for(const d of this._set.keys())d.match(i)&&o.push(d);return o.length?o:void 0}_getConsumables(i){return i?[i]:this.keys()}_canMergeFrom(){return!0}_mergeFrom(i){for(const o of i._set.keys())this._set.has(o)||this._set.add(o)}_isMatching(i){for(const o of i._set.keys())if(!this._set.has(o))return!1;return!0}}class So extends Bh{constructor(i,o,d,u){super(i),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=o,this._attrs=this._parseAttributes(d),this._children=[],u&&this._insertChild(0,u)}get _classes(){return this._attrs.get("class")}get _styles(){return this._attrs.get("style")}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes&&(yield"class"),this._styles&&(yield"style");for(const i of this._attrs.keys())i!="class"&&i!="style"&&(yield i)}*getAttributes(){for(const[i,o]of this._attrs.entries())yield[i,String(o)]}getAttribute(i){return this._attrs.has(i)?String(this._attrs.get(i)):void 0}hasAttribute(i,o){return!!this._attrs.has(i)&&(o===void 0||(m0(this.name,i)||Ug(this.name,i)?this._attrs.get(i).has(o):this._attrs.get(i)===o))}isSimilar(i){if(!(i instanceof So))return!1;if(this===i)return!0;if(this.name!=i.name||this._attrs.size!==i._attrs.size)return!1;for(const[o,d]of this._attrs){const u=i._attrs.get(o);if(u===void 0)return!1;if(typeof d=="string"||typeof u=="string"){if(u!==d)return!1}else if(!d.isSimilar(u))return!1}return!0}hasClass(...i){for(const o of i)if(!this._classes||!this._classes.has(o))return!1;return!0}getClassNames(){const i=this._classes?this._classes.keys():[],o=i[Symbol.iterator]();return Object.assign(i,{next:o.next.bind(o)})}getStyle(i){return this._styles&&this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles&&this._styles.getNormalized(i)}getStyleNames(i){return this._styles?this._styles.getStyleNames(i):[]}hasStyle(...i){for(const o of i)if(!this._styles||!this._styles.has(o))return!1;return!0}findAncestor(...i){const o=new gl(...i);let d=this.parent;for(;d&&!d.is("documentFragment");){if(o.match(d))return d;d=d.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=this._classes?this._classes.keys().sort().join(","):"",o=this._styles&&String(this._styles),d=Array.from(this._attrs).filter((([u])=>u!="style"&&u!="class")).map((u=>`${u[0]}="${u[1]}"`)).sort().join(" ");return this.name+(i==""?"":` class="${i}"`)+(o?` style="${o}"`:"")+(d==""?"":` ${d}`)}shouldRenderUnsafeAttribute(i){return this._unsafeAttributesToRender.includes(i)}_clone(i=!1){const o=[];if(i)for(const u of this.getChildren())o.push(u._clone(i));const d=new this.constructor(this.document,this.name,this._attrs,o);return d._customProperties=new Map(this._customProperties),d.getFillerOffset=this.getFillerOffset,d._unsafeAttributesToRender=this._unsafeAttributesToRender,d}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,o){this._fireChange("children",this,{index:i});let d=0;const u=(function(m,y){if(typeof y=="string")return[new ai(m,y)];Ct(y)||(y=[y]);const v=[];for(const A of y)typeof A=="string"?v.push(new ai(m,A)):A instanceof ic?v.push(new ai(m,A.data)):v.push(A);return v})(this.document,o);for(const m of u)m.parent!==null&&m._remove(),m.parent=this,m.document=this.document,this._children.splice(i,0,m),i++,d++;return d}_removeChildren(i,o=1){this._fireChange("children",this,{index:i});for(let d=i;d<i+o;d++)this._children[d].parent=null;return this._children.splice(i,o)}_setAttribute(i,o,d=!0){if(this._fireChange("attributes",this),m0(this.name,i)||Ug(this.name,i)){let u=this._attrs.get(i);u||(u=m0(this.name,i)?new Vg(this.document.stylesProcessor):new gS,this._attrs.set(i,u)),d?u.setTo(String(o)):m0(this.name,i)?Array.isArray(o)?u.set(o[0],o[1]):u.set(o):u.set(typeof o=="string"?o.split(/\s+/):o)}else this._attrs.set(i,String(o))}_removeAttribute(i,o){if(this._fireChange("attributes",this),o!==void 0&&(m0(this.name,i)||Ug(this.name,i))){const d=this._attrs.get(i);return!!d&&(Ug(this.name,i)&&typeof o=="string"&&(o=o.split(/\s+/)),d.remove(o),!!d.isEmpty&&this._attrs.delete(i))}return this._attrs.delete(i)}_addClass(i){this._setAttribute("class",i,!1)}_removeClass(i){this._removeAttribute("class",i)}_setStyle(i,o){typeof i!="string"?this._setAttribute("style",i,!1):this._setAttribute("style",[i,o],!1)}_removeStyle(i){this._removeAttribute("style",i)}_collectAttributesMatch(i,o,d){for(const[u,m,y]of i){let v=!1,A=!1;for(const[S,D]of this._attrs)if(!(d&&d.includes(S)||!Sb(u,S)))if(v=!0,typeof D=="string"){if(Sb(m,D))o.push([S]),A=!0;else if(!(u instanceof RegExp))return!1}else{const N=D._getTokensMatch(m,y||!0);if(N){A=!0;for(const L of N)o.push([S,L])}else if(!(u instanceof RegExp))return!1}if(!v||!A)return!1}return!0}_getConsumables(i,o){const d=[];if(i){const u=this._attrs.get(i);if(u!==void 0)if(typeof u=="string")d.push([i]);else for(const m of u._getConsumables(o))d.push([i,m])}else for(const[u,m]of this._attrs)if(typeof m=="string")d.push([u]);else for(const y of m._getConsumables())d.push([u,y]);return{name:!i,attributes:d}}_canMergeAttributesFrom(i){if(this.name!=i.name)return!1;for(const[o,d]of i._attrs){const u=this._attrs.get(o);if(u!==void 0){if(typeof u=="string"||typeof d=="string"){if(u!==d)return!1}else if(!u._canMergeFrom(d))return!1}}return!0}_mergeAttributesFrom(i){this._fireChange("attributes",this);for(const[o,d]of i._attrs){const u=this._attrs.get(o);u===void 0||typeof u=="string"||typeof d=="string"?this._setAttribute(o,d):u._mergeFrom(d)}}_canSubtractAttributesOf(i){if(this.name!=i.name)return!1;for(const[o,d]of i._attrs){const u=this._attrs.get(o);if(u===void 0)return!1;if(typeof u=="string"||typeof d=="string"){if(u!==d)return!1}else if(!u._isMatching(d))return!1}return!0}_subtractAttributesOf(i){this._fireChange("attributes",this);for(const[o,d]of i._attrs){const u=this._attrs.get(o);typeof u=="string"||typeof d=="string"?this._attrs.delete(o):(u.remove(d.keys()),u.isEmpty&&this._attrs.delete(o))}}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}_parseAttributes(i){const o=fl(i);for(const[d,u]of o)if(u===null)o.delete(d);else if(m0(this.name,d)){const m=u instanceof Vg?u._clone():new Vg(this.document.stylesProcessor).setTo(String(u));o.set(d,m)}else if(Ug(this.name,d)){const m=u instanceof gS?u._clone():new gS().setTo(String(u));o.set(d,m)}else typeof u!="string"&&o.set(d,String(u));return o}}function Ug(g,i){return i=="class"||g=="a"&&i=="rel"}function m0(g,i){return i=="style"}So.prototype.is=function(g,i){return i?i===this.name&&(g==="element"||g==="view:element"):g==="element"||g==="view:element"||g==="node"||g==="view:node"};class qg extends So{constructor(i,o,d,u){super(i,o,d,u),this.getFillerOffset=Koe}}function Koe(){const g=[...this.getChildren()],i=g[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const o of g)if(!o.is("uiElement"))return null;return this.childCount}qg.prototype.is=function(g,i){return i?i===this.name&&(g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"):g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class Tb extends Ge(qg){constructor(i,o,d,u){super(i,o,d,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",(m=>m&&i.selection.editableElement==this)),this.listenTo(i.selection,"change",(()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this}))}destroy(){this.stopListening()}}Tb.prototype.is=function(g,i){return i?i===this.name&&(g==="editableElement"||g==="view:editableElement"||g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"):g==="editableElement"||g==="view:editableElement"||g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};const RQ=Symbol("rootName");class NQ extends Tb{constructor(i,o){super(i,o),this.rootName="main"}get rootName(){return this.getCustomProperty(RQ)}set rootName(i){this._setCustomProperty(RQ,i)}set _name(i){this.name=i}}NQ.prototype.is=function(g,i){return i?i===this.name&&(g==="rootElement"||g==="view:rootElement"||g==="editableElement"||g==="view:editableElement"||g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"):g==="rootElement"||g==="view:rootElement"||g==="editableElement"||g==="view:editableElement"||g==="containerElement"||g==="view:containerElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class Ih{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new F("view-tree-walker-no-start-position",null);if(i.direction&&i.direction!="forward"&&i.direction!="backward")throw new F("view-tree-walker-unknown-direction",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,i.startPosition?this._position=mt._createAt(i.startPosition):this._position=mt._createAt(i.boundaries[i.direction=="backward"?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(i){let o,d;do d=this.position,o=this.next();while(!o.done&&i(o.value));o.done||(this._position=d)}jumpTo(i){this._boundaryStartParent&&i.isBefore(this.boundaries.start)?i=this.boundaries.start:this._boundaryEndParent&&i.isAfter(this.boundaries.end)&&(i=this.boundaries.end),this._position=i.clone()}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let i=this.position.clone();const o=this.position,d=i.parent;if(d.parent===null&&i.offset===d.childCount)return{done:!0,value:void 0};if(d===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(d&&d.is("view:$text")){if(i.isAtEnd)return this._position=mt._createAfter(d),this._next();u=d.data[i.offset]}else u=d.getChild(i.offset);if(typeof u=="string"){let m;this.singleCharacters?m=1:m=(d===this._boundaryEndParent?this.boundaries.end.offset:d.data.length)-i.offset;const y=new ic(d,i.offset,m);return i.offset+=m,this._position=i,this._formatReturnValue("text",y,o,i,m)}if(u&&u.is("view:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i=new mt(u,0);return this._position=i,this._formatReturnValue("elementStart",u,o,i,1)}if(u&&u.is("view:$text")){if(this.singleCharacters)return i=new mt(u,0),this._position=i,this._next();let m,y=u.data.length;return u==this._boundaryEndParent?(y=this.boundaries.end.offset,m=new ic(u,0,y),i=mt._createAfter(m)):(m=new ic(u,0,u.data.length),i.offset++),this._position=i,this._formatReturnValue("text",m,o,i,y)}return i=mt._createAfter(d),this._position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",d,o,i)}_previous(){let i=this.position.clone();const o=this.position,d=i.parent;if(d.parent===null&&i.offset===0)return{done:!0,value:void 0};if(d==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(d.is("view:$text")){if(i.isAtStart)return this._position=mt._createBefore(d),this._previous();u=d.data[i.offset-1]}else u=d.getChild(i.offset-1);if(typeof u=="string"){let m;if(this.singleCharacters)m=1;else{const v=d===this._boundaryStartParent?this.boundaries.start.offset:0;m=i.offset-v}i.offset-=m;const y=new ic(d,i.offset,m);return this._position=i,this._formatReturnValue("text",y,o,i,m)}if(u&&u.is("view:element"))return this.shallow?(i.offset--,this._position=i,this._formatReturnValue("elementStart",u,o,i,1)):(i=new mt(u,u.childCount),this._position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,o,i));if(u&&u.is("view:$text")){if(this.singleCharacters)return i=new mt(u,u.data.length),this._position=i,this._previous();let m,y=u.data.length;if(u==this._boundaryStartParent){const v=this.boundaries.start.offset;m=new ic(u,v,u.data.length-v),y=m.data.length,i=mt._createBefore(m)}else m=new ic(u,0,u.data.length),i.offset--;return this._position=i,this._formatReturnValue("text",m,o,i,y)}return i=mt._createBefore(d),this._position=i,this._formatReturnValue("elementStart",d,o,i,1)}_formatReturnValue(i,o,d,u,m){return o.is("view:$textProxy")&&(o.offsetInText+o.data.length==o.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?d=mt._createAfter(o.textNode):(u=mt._createAfter(o.textNode),this._position=u)),o.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?d=mt._createBefore(o.textNode):(u=mt._createBefore(o.textNode),this._position=u))),{done:!1,value:{type:i,item:o,previousPosition:d,nextPosition:u,length:m}}}}class mt extends Nh{constructor(i,o){super(),this.parent=i,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const i=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof Tb);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const o=mt._createAt(this),d=o.offset+i;return o.offset=d<0?0:d,o}getLastMatchingPosition(i,o={}){o.startPosition=this;const d=new Ih(o);return d.skip(i),d.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const o=this.getAncestors(),d=i.getAncestors();let u=0;for(;o[u]==d[u]&&o[u];)u++;return u===0?null:o[u-1]}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return this.compareWith(i)=="before"}isAfter(i){return this.compareWith(i)=="after"}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const o=this.parent.is("node")?this.parent.getPath():[],d=i.parent.is("node")?i.parent.getPath():[];o.push(this.offset),d.push(i.offset);const u=tt(o,d);switch(u){case"prefix":return"before";case"extension":return"after";default:return o[u]<d[u]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new Ih(i)}clone(){return new mt(this.parent,this.offset)}static _createAt(i,o){if(i instanceof mt)return new this(i.parent,i.offset);{const d=i;if(o=="end")o=d.is("$text")?d.data.length:d.childCount;else{if(o=="before")return this._createBefore(d);if(o=="after")return this._createAfter(d);if(o!==0&&!o)throw new F("view-createpositionat-offset-required",d)}return new mt(d,o)}}static _createAfter(i){if(i.is("$textProxy"))return new mt(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new F("view-position-after-root",i,{root:i});return new mt(i.parent,i.index+1)}static _createBefore(i){if(i.is("$textProxy"))return new mt(i.textNode,i.offsetInText);if(!i.parent)throw new F("view-position-before-root",i,{root:i});return new mt(i.parent,i.index)}}mt.prototype.is=function(g){return g==="position"||g==="view:position"};class ir extends Nh{constructor(i,o=null){super(),this.start=i.clone(),this.end=o?o.clone():i.clone()}*[Symbol.iterator](){yield*new Ih({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(Eb,{direction:"backward"}),o=this.end.getLastMatchingPosition(Eb);return i.parent.is("$text")&&i.isAtStart&&(i=mt._createBefore(i.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=mt._createAfter(o.parent)),new ir(i,o)}getTrimmed(){let i=this.start.getLastMatchingPosition(Eb);if(i.isAfter(this.end)||i.isEqual(this.end))return new ir(i,i);let o=this.end.getLastMatchingPosition(Eb,{direction:"backward"});const d=i.nodeAfter,u=o.nodeBefore;return d&&d.is("$text")&&(i=new mt(d,0)),u&&u.is("$text")&&(o=new mt(u,u.data.length)),new ir(i,o)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const d=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),u=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return d&&u}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new ir(this.start,i.start)),this.containsPosition(i.end)&&o.push(new ir(i.end,this.end))):o.push(this.clone()),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,d=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(d=i.end),new ir(o,d)}return null}getWalker(i={}){return i.boundaries=this,new Ih(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let i=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(i=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),i&&i.is("element")&&i===o?i:null}clone(){return new ir(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Ih(i);for(const d of o)yield d.item}*getPositions(i={}){i.boundaries=this;const o=new Ih(i);yield o.position;for(const d of o)yield d.nextPosition}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,o,d,u){return new this(new mt(i,o),new mt(d,u))}static _createFromPositionAndShift(i,o){const d=i,u=i.getShiftedBy(o);return o>0?new this(d,u):new this(u,d)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const o=i.is("$textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(mt._createBefore(i),o)}}function Eb(g){return!(!g.item.is("attributeElement")&&!g.item.is("uiElement"))}ir.prototype.is=function(g){return g==="range"||g==="view:range"};class To extends K(Nh){constructor(...i){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",i.length&&this.setTo(...i)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?i.clone():null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let d=!1;for(const u of i._ranges)if(o.isEqual(u)){d=!0;break}if(!d)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const o=xt(this.getRanges());if(o!=xt(i.getRanges()))return!1;if(o==0)return!0;for(let d of this.getRanges()){d=d.getTrimmed();let u=!1;for(let m of i.getRanges())if(m=m.getTrimmed(),d.start.isEqual(m.start)&&d.end.isEqual(m.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...i){let[o,d,u]=i;if(typeof d=="object"&&(u=d,d=void 0),o===null)this._setRanges([]),this._setFakeOptions(u);else if(o instanceof To||o instanceof pS)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof ir)this._setRanges([o],u&&u.backward),this._setFakeOptions(u);else if(o instanceof mt)this._setRanges([new ir(o)]),this._setFakeOptions(u);else if(o instanceof Bh){const m=!!u&&!!u.backward;let y;if(d===void 0)throw new F("view-selection-setto-required-second-parameter",this);y=d=="in"?ir._createIn(o):d=="on"?ir._createOn(o):new ir(mt._createAt(o,d)),this._setRanges([y],m),this._setFakeOptions(u)}else{if(!Ct(o))throw new F("view-selection-setto-not-selectable",this);this._setRanges(o,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(i,o){if(this.anchor===null)throw new F("view-selection-setfocus-no-ranges",this);const d=mt._createAt(i,o);if(d.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),d.compareWith(u)=="before"?this._addRange(new ir(d,u),!0):this._addRange(new ir(u,d)),this.fire("change")}_setRanges(i,o=!1){i=Array.from(i),this._ranges=[];for(const d of i)this._addRange(d);this._lastRangeBackward=!!o}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,o=!1){if(!(i instanceof ir))throw new F("view-selection-add-range-not-range",this);this._pushRange(i),this._lastRangeBackward=!!o}_pushRange(i){for(const o of this._ranges)if(i.isIntersecting(o))throw new F("view-selection-range-intersects",this,{addedRange:i,intersectingRange:o});this._ranges.push(new ir(i.start,i.end))}}To.prototype.is=function(g){return g==="selection"||g==="view:selection"};class pS extends K(Nh){constructor(...i){super(),this._selection=new To,this._selection.delegate("change").to(this),i.length&&this._selection.setTo(...i)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}_setTo(...i){this._selection.setTo(...i)}_setFocus(i,o){this._selection.setFocus(i,o)}}pS.prototype.is=function(g){return g==="selection"||g=="documentSelection"||g=="view:selection"||g=="view:documentSelection"};class O0 extends I{constructor(i,o,d){super(i,o),this.startRange=d,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const mS=Symbol("bubbling contexts");function OS(g){return class extends g{fire(i,...o){try{const d=i instanceof I?i:new I(this,i),u=xS(this);if(!u.size)return;if(Wg(d,"capturing",this),x0(u,"$capture",d,...o))return d.return;const m=d.startRange||this.selection.getFirstRange(),y=m?m.getContainedElement():null,v=!!y&&!!BQ(u,y);let A=y||(function(S){if(!S)return null;const D=S.start.parent,N=S.end.parent,L=D.getPath(),q=N.getPath();return L.length>q.length?D:N})(m);if(Wg(d,"atTarget",A),!v){if(x0(u,"$text",d,...o))return d.return;Wg(d,"bubbling",A)}for(;A;){if(A.is("rootElement")){if(x0(u,"$root",d,...o))return d.return}else if(A.is("element")&&x0(u,A.name,d,...o))return d.return;if(x0(u,A,d,...o))return d.return;A=A.parent,Wg(d,"bubbling",A)}return Wg(d,"bubbling",this),x0(u,"$document",d,...o),d.return}catch(d){F.rethrowUnexpectedError(d,this)}}_addEventListener(i,o,d){const u=An(d.context||"$document"),m=xS(this);for(const y of u){let v=m.get(y);v||(v=new(K()),m.set(y,v)),this.listenTo(v,i,o,d)}}_removeEventListener(i,o){const d=xS(this);for(const u of d.values())this.stopListening(u,i,o)}}}{const g=OS(Object);["fire","_addEventListener","_removeEventListener"].forEach((i=>{OS[i]=g.prototype[i]}))}function Wg(g,i,o){g instanceof O0&&(g._eventPhase=i,g._currentTarget=o)}function x0(g,i,o,...d){const u=typeof i=="string"?g.get(i):BQ(g,i);return!!u&&(u.fire(o,...d),o.stop.called)}function BQ(g,i){for(const[o,d]of g)if(typeof o=="function"&&o(i))return d;return null}function xS(g){return g[mS]||(g[mS]=new Map),g[mS]}class Pb extends OS(Ge()){constructor(i){super(),this._postFixers=new Set,this.selection=new pS,this.roots=new _o({idProperty:"rootName"}),this.stylesProcessor=i,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.forEach((i=>i.destroy())),this.stopListening()}_callPostFixers(i){let o=!1;do for(const d of this._postFixers)if(o=d(i),o)break;while(o)}}const B4=class B4 extends So{constructor(i,o,d,u){super(i,o,d,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=Joe}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new F("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(i){return this.id!==null||i.id!==null?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i=!1){const o=super._clone(i);return o._priority=this._priority,o._id=this._id,o}_canMergeAttributesFrom(i){return this.id===null&&i.id===null&&this.priority===i.priority&&super._canMergeAttributesFrom(i)}_canSubtractAttributesOf(i){return this.id===null&&i.id===null&&this.priority===i.priority&&super._canSubtractAttributesOf(i)}};B4.DEFAULT_PRIORITY=10;let gd=B4;function Joe(){if(bS(this))return null;let g=this.parent;for(;g&&g.is("attributeElement");){if(bS(g)>1)return null;g=g.parent}return!g||bS(g)>1?null:this.childCount}function bS(g){return Array.from(g.getChildren()).filter((i=>!i.is("uiElement"))).length}gd.prototype.is=function(g,i){return i?i===this.name&&(g==="attributeElement"||g==="view:attributeElement"||g==="element"||g==="view:element"):g==="attributeElement"||g==="view:attributeElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class kS extends So{constructor(i,o,d,u){super(i,o,d,u),this.getFillerOffset=ele}_insertChild(i,o){if(o&&(o instanceof Bh||Array.from(o).length>0))throw new F("view-emptyelement-cannot-add",[this,o]);return 0}}function ele(){return null}kS.prototype.is=function(g,i){return i?i===this.name&&(g==="emptyElement"||g==="view:emptyElement"||g==="element"||g==="view:element"):g==="emptyElement"||g==="view:emptyElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class Db extends So{constructor(i,o,d,u){super(i,o,d,u),this.getFillerOffset=rle}_insertChild(i,o){if(o&&(o instanceof Bh||Array.from(o).length>0))throw new F("view-uielement-cannot-add",[this,o]);return 0}render(i,o){return this.toDomElement(i)}toDomElement(i){const o=i.createElement(this.name);for(const d of this.getAttributeKeys())o.setAttribute(d,this.getAttribute(d));return o}}function tle(g){g.document.on("arrowKey",((i,o)=>(function(d,u,m){if(u.keyCode==Tr.arrowright){const y=u.domTarget.ownerDocument.defaultView.getSelection(),v=y.rangeCount==1&&y.getRangeAt(0).collapsed;if(v||u.shiftKey){const A=y.focusNode,S=y.focusOffset,D=m.domPositionToView(A,S);if(D===null)return;let N=!1;const L=D.getLastMatchingPosition((q=>(q.item.is("uiElement")&&(N=!0),!(!q.item.is("uiElement")&&!q.item.is("attributeElement")))));if(N){const q=m.viewPositionToDom(L);v?y.collapse(q.parent,q.offset):y.extend(q.parent,q.offset)}}}})(0,o,g.domConverter)),{priority:"low"})}function rle(){return null}Db.prototype.is=function(g,i){return i?i===this.name&&(g==="uiElement"||g==="view:uiElement"||g==="element"||g==="view:element"):g==="uiElement"||g==="view:uiElement"||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class yS extends So{constructor(i,o,d,u){super(i,o,d,u),this.getFillerOffset=nle}_insertChild(i,o){if(o&&(o instanceof Bh||Array.from(o).length>0))throw new F("view-rawelement-cannot-add",[this,o]);return 0}render(i,o){}}function nle(){return null}yS.prototype.is=function(g,i){return i?i===this.name&&(g==="rawElement"||g==="view:rawElement"||g==="element"||g==="view:element"):g==="rawElement"||g==="view:rawElement"||g===this.name||g==="view:"+this.name||g==="element"||g==="view:element"||g==="node"||g==="view:node"};class jh extends K(Nh){constructor(i,o){super(),this._children=[],this._customProperties=new Map,this.document=i,o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,o){this._fireChange("children",this,{index:i});let d=0;const u=(function(m,y){return typeof y=="string"?[new ai(m,y)]:(Ct(y)||(y=[y]),Array.from(y).map((v=>typeof v=="string"?new ai(m,v):v instanceof ic?new ai(m,v.data):v)))})(this.document,o);for(const m of u)m.parent!==null&&m._remove(),m.parent=this,this._children.splice(i,0,m),i++,d++;return d}_removeChildren(i,o=1){this._fireChange("children",this,{index:i});for(let d=i;d<i+o;d++)this._children[d].parent=null;return this._children.splice(i,o)}_fireChange(i,o,d){this.fire(`change:${i}`,o,d)}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}jh.prototype.is=function(g){return g==="documentFragment"||g==="view:documentFragment"};class IQ{constructor(i){this._cloneGroups=new Map,this._slotFactory=null,this.document=i}setSelection(...i){this.document.selection._setTo(...i)}setSelectionFocus(i,o){this.document.selection._setFocus(i,o)}createDocumentFragment(i){return new jh(this.document,i)}createText(i){return new ai(this.document,i)}createAttributeElement(i,o,d={}){const u=new gd(this.document,i,o);return typeof d.priority=="number"&&(u._priority=d.priority),d.id&&(u._id=d.id),d.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),u}createContainerElement(i,o,d={},u={}){let m=null;qr(d)?u=d:m=d;const y=new qg(this.document,i,o,m);return u.renderUnsafeAttributes&&y._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),y}createEditableElement(i,o,d={}){const u=new Tb(this.document,i,o);return d.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),u}createEmptyElement(i,o,d={}){const u=new kS(this.document,i,o);return d.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...d.renderUnsafeAttributes),u}createUIElement(i,o,d){const u=new Db(this.document,i,o);return d&&(u.render=d),u}createRawElement(i,o,d,u={}){const m=new yS(this.document,i,o);return d&&(m.render=d),u.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),m}setAttribute(i,o,d,u){u!==void 0?u._setAttribute(i,o,d):d._setAttribute(i,o)}removeAttribute(i,o,d){d!==void 0?d._removeAttribute(i,o):o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,d){qr(i)&&d===void 0?o._setStyle(i):d._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,d){d._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}breakAttributes(i){return i instanceof mt?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const o=i.parent;if(!o.is("containerElement"))throw new F("view-writer-break-non-container-element",this.document);if(!o.parent)throw new F("view-writer-break-root",this.document);if(i.isAtStart)return mt._createBefore(o);if(!i.isAtEnd){const d=o._clone(!1);this.insert(mt._createAfter(o),d);const u=new ir(i,mt._createAt(o,"end")),m=new mt(d,0);this.move(u,m)}return mt._createAfter(o)}mergeAttributes(i){const o=i.offset,d=i.parent;if(d.is("$text"))return i;if(d.is("attributeElement")&&d.childCount===0){const y=d.parent,v=d.index;return d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new mt(y,v))}const u=d.getChild(o-1),m=d.getChild(o);if(!u||!m)return i;if(u.is("$text")&&m.is("$text"))return FQ(u,m);if(u.is("attributeElement")&&m.is("attributeElement")&&u.isSimilar(m)){const y=u.childCount;return u._appendChild(m.getChildren()),m._remove(),this._removeFromClonedElementsGroup(m),this.mergeAttributes(new mt(u,y))}return i}mergeContainers(i){const o=i.nodeBefore,d=i.nodeAfter;if(!(o&&d&&o.is("containerElement")&&d.is("containerElement")))throw new F("view-writer-merge-containers-invalid-position",this.document);const u=o.getChild(o.childCount-1),m=u instanceof ai?mt._createAt(u,"end"):mt._createAt(o,"end");return this.move(ir._createIn(d),mt._createAt(o,"end")),this.remove(ir._createOn(d)),m}insert(i,o){LQ(o=Ct(o)?[...o]:[o],this.document);const d=o.reduce(((y,v)=>{const A=y[y.length-1],S=!v.is("uiElement");return A&&A.breakAttributes==S?A.nodes.push(v):y.push({breakAttributes:S,nodes:[v]}),y}),[]);let u=null,m=i;for(const{nodes:y,breakAttributes:v}of d){const A=this._insertNodes(m,y,v);u||(u=A.start),m=A.end}return u?new ir(u,m):new ir(i)}remove(i){const o=i instanceof ir?i:ir._createOn(i);if(Yg(o,this.document),o.isCollapsed)return new jh(this.document);const{start:d,end:u}=this._breakAttributesRange(o,!0),m=d.parent,y=u.offset-d.offset,v=m._removeChildren(d.offset,y);for(const S of v)this._removeFromClonedElementsGroup(S);const A=this.mergeAttributes(d);return o.start=A,o.end=A.clone(),new jh(this.document,v)}clear(i,o){Yg(i,this.document);const d=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of d){const m=u.item;let y;if(m.is("element")&&o.isSimilar(m))y=ir._createOn(m);else if(!u.nextPosition.isAfter(i.start)&&m.is("$textProxy")){const v=m.getAncestors().find((A=>A.is("element")&&o.isSimilar(A)));v&&(y=ir._createIn(v))}y&&(y.end.isAfter(i.end)&&(y.end=i.end),y.start.isBefore(i.start)&&(y.start=i.start),this.remove(y))}}move(i,o){let d;if(o.isAfter(i.end)){const u=(o=this._breakAttributes(o,!0)).parent,m=u.childCount;i=this._breakAttributesRange(i,!0),d=this.remove(i),o.offset+=u.childCount-m}else d=this.remove(i);return this.insert(o,d)}wrap(i,o){if(!(o instanceof gd))throw new F("view-writer-wrap-invalid-attribute",this.document);if(Yg(i,this.document),i.isCollapsed){let u=i.start;u.parent.is("element")&&(d=u.parent,!Array.from(d.getChildren()).some((y=>!y.is("uiElement"))))&&(u=u.getLastMatchingPosition((y=>y.item.is("uiElement")))),u=this._wrapPosition(u,o);const m=this.document.selection;return m.isCollapsed&&m.getFirstPosition().isEqual(i.start)&&this.setSelection(u),new ir(u)}return this._wrapRange(i,o);var d}unwrap(i,o){if(!(o instanceof gd))throw new F("view-writer-unwrap-invalid-attribute",this.document);if(Yg(i,this.document),i.isCollapsed)return i;const{start:d,end:u}=this._breakAttributesRange(i,!0),m=d.parent,y=this._unwrapChildren(m,d.offset,u.offset,o),v=this.mergeAttributes(y.start);v.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new ir(v,A)}rename(i,o){const d=new qg(this.document,i,o.getAttributes());return this.insert(mt._createAfter(o),d),this.move(ir._createIn(o),mt._createAt(d,0)),this.remove(ir._createOn(o)),d}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,o){return mt._createAt(i,o)}createPositionAfter(i){return mt._createAfter(i)}createPositionBefore(i){return mt._createBefore(i)}createRange(i,o){return new ir(i,o)}createRangeOn(i){return ir._createOn(i)}createRangeIn(i){return ir._createIn(i)}createSelection(...i){return new To(...i)}createSlot(i="children"){if(!this._slotFactory)throw new F("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,i)}_registerSlotFactory(i){this._slotFactory=i}_clearSlotFactory(){this._slotFactory=null}_insertNodes(i,o,d){let u,m;if(u=d?wS(i):i.parent.is("$text")?i.parent.parent:i.parent,!u)throw new F("view-writer-invalid-position-container",this.document);m=d?this._breakAttributes(i,!0):i.parent.is("$text")?vS(i):i;const y=u._insertChild(m.offset,o);for(const D of o)this._addToClonedElementsGroup(D);const v=m.getShiftedBy(y),A=this.mergeAttributes(m);A.isEqual(m)||v.offset--;const S=this.mergeAttributes(v);return new ir(A,S)}_wrapChildren(i,o,d,u){let m=o;const y=[];for(;m<d;){const A=i.getChild(m),S=A.is("$text"),D=A.is("attributeElement");if(D&&A._canMergeAttributesFrom(u))A._mergeAttributesFrom(u),y.push(new mt(i,m));else if(S||!D||ile(u,A)){const N=u._clone();A._remove(),N._appendChild(A),i._insertChild(m,N),this._addToClonedElementsGroup(N),y.push(new mt(i,m))}else this._wrapChildren(A,0,A.childCount,u);m++}let v=0;for(const A of y)A.offset-=v,A.offset!=o&&(this.mergeAttributes(A).isEqual(A)||(v++,d--));return ir._createFromParentsAndOffsets(i,o,i,d)}_unwrapChildren(i,o,d,u){let m=o;const y=[];for(;m<d;){const A=i.getChild(m);if(A.is("attributeElement"))if(A.isSimilar(u)){const S=A.getChildren(),D=A.childCount;A._remove(),i._insertChild(m,S),this._removeFromClonedElementsGroup(A),y.push(new mt(i,m),new mt(i,m+D)),m+=D,d+=D-1}else A._canSubtractAttributesOf(u)?(A._subtractAttributesOf(u),y.push(new mt(i,m),new mt(i,m+1)),m++):(this._unwrapChildren(A,0,A.childCount,u),m++);else m++}let v=0;for(const A of y)A.offset-=v,!(A.offset==o||A.offset==d)&&(this.mergeAttributes(A).isEqual(A)||(v++,d--));return ir._createFromParentsAndOffsets(i,o,i,d)}_wrapRange(i,o){const{start:d,end:u}=this._breakAttributesRange(i,!0),m=d.parent,y=this._wrapChildren(m,d.offset,u.offset,o),v=this.mergeAttributes(y.start);v.isEqual(y.start)||y.end.offset--;const A=this.mergeAttributes(y.end);return new ir(v,A)}_wrapPosition(i,o){if(o.isSimilar(i.parent))return jQ(i.clone());i.parent.is("$text")&&(i=vS(i));const d=this.createAttributeElement("_wrapPosition-fake-element");d._priority=Number.POSITIVE_INFINITY,d.isSimilar=()=>!1,i.parent._insertChild(i.offset,d);const u=new ir(i,i.getShiftedBy(1));this.wrap(u,o);const m=new mt(d.parent,d.index);d._remove();const y=m.nodeBefore,v=m.nodeAfter;return y&&y.is("view:$text")&&v&&v.is("view:$text")?FQ(y,v):jQ(m)}_breakAttributesRange(i,o=!1){const d=i.start,u=i.end;if(Yg(i,this.document),i.isCollapsed){const A=this._breakAttributes(i.start,o);return new ir(A,A)}const m=this._breakAttributes(u,o),y=m.parent.childCount,v=this._breakAttributes(d,o);return m.offset+=m.parent.childCount-y,new ir(v,m)}_breakAttributes(i,o=!1){const d=i.offset,u=i.parent;if(i.parent.is("emptyElement"))throw new F("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new F("view-writer-cannot-break-ui-element",this.document);if(i.parent.is("rawElement"))throw new F("view-writer-cannot-break-raw-element",this.document);if(!o&&u.is("$text")&&_S(u.parent)||_S(u))return i.clone();if(u.is("$text"))return this._breakAttributes(vS(i),o);if(d==u.childCount){const m=new mt(u.parent,u.index+1);return this._breakAttributes(m,o)}if(d===0){const m=new mt(u.parent,u.index);return this._breakAttributes(m,o)}{const m=u.index+1,y=u._clone();u.parent._insertChild(m,y),this._addToClonedElementsGroup(y);const v=u.childCount-d,A=u._removeChildren(d,v);y._appendChild(A);const S=new mt(u.parent,m);return this._breakAttributes(S,o)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const u of i.getChildren())this._addToClonedElementsGroup(u);const o=i.id;if(!o)return;let d=this._cloneGroups.get(o);d||(d=new Set,this._cloneGroups.set(o,d)),d.add(i),i._clonesGroup=d}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const u of i.getChildren())this._removeFromClonedElementsGroup(u);const o=i.id;if(!o)return;const d=this._cloneGroups.get(o);d&&d.delete(i)}}function wS(g){let i=g.parent;for(;!_S(i);){if(!i)return;i=i.parent}return i}function ile(g,i){return g.priority<i.priority||!(g.priority>i.priority)&&g.getIdentity()<i.getIdentity()}function jQ(g){const i=g.nodeBefore;if(i&&i.is("$text"))return new mt(i,i.data.length);const o=g.nodeAfter;return o&&o.is("$text")?new mt(o,0):g}function vS(g){if(g.offset==g.parent.data.length)return new mt(g.parent.parent,g.parent.index+1);if(g.offset===0)return new mt(g.parent.parent,g.parent.index);const i=g.parent.data.slice(g.offset);return g.parent._data=g.parent.data.slice(0,g.offset),g.parent.parent._insertChild(g.parent.index+1,new ai(g.root.document,i)),new mt(g.parent.parent,g.parent.index+1)}function FQ(g,i){const o=g.data.length;return g._data+=i.data,i._remove(),new mt(g,o)}const sle=[ai,gd,qg,kS,yS,Db];function LQ(g,i){for(const o of g){if(!sle.some((d=>o instanceof d)))throw new F("view-writer-insert-invalid-node-type",i);o.is("$text")||LQ(o.getChildren(),i)}}function _S(g){return g&&(g.is("containerElement")||g.is("documentFragment"))}function Yg(g,i){const o=wS(g.start),d=wS(g.end);if(!o||!d||o!==d)throw new F("view-writer-invalid-range-container",i)}const zQ=g=>g.createTextNode(""),XQ=g=>{const i=g.createElement("span");return i.dataset.ckeFiller="true",i.innerText="",i},VQ=g=>{const i=g.createElement("br");return i.dataset.ckeFiller="true",i},Zg="".repeat(7);function Oa(g){return typeof g=="string"?g.substr(0,7)===Zg:$n(g)&&g.data.substr(0,7)===Zg}function b0(g){return g.data.length==7&&Oa(g)}function UQ(g){const i=typeof g=="string"?g:g.data;return Oa(g)?i.slice(7):i}function ale(g,i){if(i.keyCode==Tr.arrowleft){const o=i.domTarget.ownerDocument.defaultView.getSelection();if(o.rangeCount==1&&o.getRangeAt(0).collapsed){const d=o.getRangeAt(0).startContainer,u=o.getRangeAt(0).startOffset;Oa(d)&&u<=7&&o.collapse(d,0)}}}var Qb=s(8264),Gg={attributes:{"data-cke":!0}};Gg.setAttributes=gt(),Gg.insert=ft().bind(null,"head"),Gg.domAPI=ut(),Gg.insertStyleElement=pt(),ht()(Qb.A,Gg),Qb.A&&Qb.A.locals&&Qb.A.locals;class ole extends Ge(){constructor(i,o){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=i,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),p.isBlink&&!p.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()}))}markToSync(i,o){if(i==="text")this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if(i==="attributes")this.markedAttributes.add(o);else{if(i!=="children")throw new F("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!p.isAndroid)return;let i=null;const o=!(p.isBlink&&!p.isAndroid)||!this.isSelecting;for(const d of this.markedChildren)this._updateChildrenMappings(d);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(i=this.domConverter.domPositionToView(this._inlineFiller),i&&i.parent.is("$text")&&(i=mt._createBefore(i.parent)));for(const d of this.markedAttributes)this._updateAttrs(d);for(const d of this.markedChildren)this._updateChildren(d,{inlineFillerPosition:i});for(const d of this.markedTexts)!this.markedChildren.has(d.parent)&&this.domConverter.mapViewToDom(d.parent)&&this._updateText(d,{inlineFillerPosition:i});if(o)if(i){const d=this.domConverter.viewPositionToDom(i),u=d.parent.ownerDocument;Oa(d.parent)?this._inlineFiller=d.parent:this._inlineFiller=qQ(u,d.parent,d.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const d=Array.from(o.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(i,{withChildren:!1})),m=this._diffNodeLists(d,u),y=this._findUpdateActions(m,d,u,lle);if(y.indexOf("update")!==-1){const v={equal:0,insert:0,delete:0};for(const A of y)if(A==="update"){const S=v.equal+v.insert,D=v.equal+v.delete,N=i.getChild(S);!N||N.is("uiElement")||N.is("rawElement")||this._updateElementMappings(N,d[D]),GD(u[S]),v.equal++}else v[A]++}}_updateElementMappings(i,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("$text")?mt._createBefore(i.parent):i}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(i);return!!(o&&$n(o.parent)&&Oa(o.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!Oa(i))throw new F("view-renderer-filler-was-lost",this);b0(i)?i.remove():i.data=i.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=i.parent,d=i.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!(function(y){if(y.getAttribute("contenteditable")=="false")return!1;const v=y.findAncestor((A=>A.hasAttribute("contenteditable")));return!v||v.getAttribute("contenteditable")=="true"})(o))return!1;const u=i.nodeBefore,m=i.nodeAfter;return!(u instanceof ai||m instanceof ai)&&!!(d!==o.getFillerOffset()||u&&u.is("element","br"))&&(!p.isAndroid||!u&&!m)}_updateText(i,o){const d=this.domConverter.findCorrespondingDomText(i);let u=this.domConverter.viewToDom(i).data;const m=o.inlineFillerPosition;m&&m.parent==i.parent&&m.offset==i.index&&(u=Zg+u),this._updateTextNode(d,u)}_updateAttrs(i){const o=this.domConverter.mapViewToDom(i);if(o){for(const d of Array.from(o.attributes)){const u=d.name;i.hasAttribute(u)||this.domConverter.removeDomElementAttribute(o,u)}for(const d of i.getAttributeKeys())this.domConverter.setDomElementAttribute(o,d,i.getAttribute(d),i)}}_updateChildren(i,o){const d=this.domConverter.mapViewToDom(i);if(!d)return;if(p.isAndroid){let N=null;for(const L of Array.from(d.childNodes)){if(N&&$n(N)&&$n(L)){d.normalize();break}N=L}}const u=o.inlineFillerPosition,m=d.childNodes,y=Array.from(this.domConverter.viewChildrenToDom(i,{bind:!0}));u&&u.parent===i&&qQ(d.ownerDocument,y,u.offset);const v=this._diffNodeLists(m,y),A=this._findUpdateActions(v,m,y,cle);let S=0;const D=new Set;for(const N of A)N==="delete"?(D.add(m[S]),GD(m[S])):N!=="equal"&&N!=="update"||S++;S=0;for(const N of A)N==="insert"?(WD(d,S,y[S]),S++):N==="update"?(this._updateTextNode(m[S],y[S].data),S++):N==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(y[S])),S++);for(const N of D)N.parentNode||this.domConverter.unbindDomElement(N)}_diffNodeLists(i,o){return i=(function(d,u){const m=Array.from(d);return m.length==0||!u||m[m.length-1]==u&&m.pop(),m})(i,this._fakeSelectionContainer),R(i,o,dle.bind(null,this.domConverter))}_findUpdateActions(i,o,d,u){if(i.indexOf("insert")===-1||i.indexOf("delete")===-1)return i;let m=[],y=[],v=[];const A={equal:0,insert:0,delete:0};for(const S of i)S==="insert"?v.push(d[A.equal+A.insert]):S==="delete"?y.push(o[A.equal+A.delete]):(m=m.concat(R(y,v,u).map((D=>D==="equal"?"update":D))),m.push("equal"),y=[],v=[]),A[S]++;return m.concat(R(y,v,u).map((S=>S==="equal"?"update":S)))}_updateTextNode(i,o){const d=i.data;d!=o&&(p.isAndroid&&this.isComposing&&d.replace(/\u00A0/g," ")==o.replace(/\u00A0/g," ")||this._updateTextNodeInternal(i,o))}_updateTextNodeInternal(i,o){const d=P(i.data,o);for(const u of d)u.type==="insert"?i.insertData(u.index,u.values.join("")):i.deleteData(u.index,u.howMany)}_markDescendantTextToSync(i){if(i){if(i.is("$text"))this.markedTexts.add(i);else if(i.is("element"))for(const o of i.getChildren())this._markDescendantTextToSync(o)}}_updateSelection(){if(p.isBlink&&!p.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(i)):this.isComposing&&p.isAndroid||this._updateDomSelection(i))}_updateFakeSelection(i){const o=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=(function(y){const v=y.createElement("div");return v.className="ck-fake-selection-container",Object.assign(v.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),v.textContent="",v})(o));const d=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(d,this.selection),!this._fakeSelectionNeedsUpdate(i))return;d.parentElement&&d.parentElement==i||i.appendChild(d),d.textContent=this.selection.fakeSelectionLabel||"";const u=o.getSelection(),m=o.createRange();u.removeAllRanges(),m.selectNodeContents(d),u.addRange(m)}_updateDomSelection(i){const o=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const d=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);o.setBaseAndExtent(d.parent,d.offset,u.parent,u.offset),p.isGecko&&(function(m,y){let v=m.parent,A=m.offset;if($n(v)&&b0(v)&&(A=Bg(v)+1,v=v.parentNode),v.nodeType!=Node.ELEMENT_NODE||A!=v.childNodes.length-1)return;const S=v.childNodes[A];S&&S.tagName=="BR"&&y.addRange(y.getRangeAt(0))})(u,o)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const o=i&&this.domConverter.domSelectionToView(i);return(!o||!this.selection.isEqual(o))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(i){const o=this._fakeSelectionContainer,d=i.ownerDocument.getSelection();return!o||o.parentElement!==i||d.anchorNode!==o&&!o.contains(d.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments){const o=i.getSelection();if(o.rangeCount){const d=i.activeElement,u=this.domConverter.mapDomToView(d);d&&u&&o.removeAllRanges()}}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function qQ(g,i,o){const d=i instanceof Array?i:i.childNodes,u=d[o];if($n(u))return u.data=Zg+u.data,u;{const m=g.createTextNode(Zg);return Array.isArray(i)?d.splice(o,0,m):WD(i,o,m),m}}function lle(g,i){return ud(g)&&ud(i)&&!$n(g)&&!$n(i)&&!Ig(g)&&!Ig(i)&&g.tagName.toLowerCase()===i.tagName.toLowerCase()}function cle(g,i){return ud(g)&&ud(i)&&$n(g)&&$n(i)}function dle(g,i,o){return i===o||($n(i)&&$n(o)?i.data===o.data:!(!g.isBlockFiller(i)||!g.isBlockFiller(o)))}const hle=VQ(c.document),ule=zQ(c.document),fle=XQ(c.document),$b="data-ck-unsafe-attribute-",WQ="data-ck-unsafe-element";class Mb{constructor(i,{blockFillerMode:o,renderingMode:d="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new gl,this._inlineObjectElementMatcher=new gl,this._elementsWithTemporaryCustomProperties=new Set,this.document=i,this.renderingMode=d,this.blockFillerMode=o||(d==="editing"?"br":"nbsp"),this.preElements=["pre","textarea"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?c.document:c.document.implementation.createHTMLDocument("")}bindFakeSelection(i,o){this._fakeSelectionMapping.set(i,new To(o))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}unbindDomElement(i){const o=this._domToViewMapping.get(i);if(o){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(o);for(const d of i.children)this.unbindDomElement(d)}}bindDocumentFragments(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}shouldRenderAttribute(i,o,d){return this.renderingMode==="data"||!(i=i.toLowerCase()).startsWith("on")&&(i!=="srcdoc"||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(d==="img"&&(i==="src"||i==="srcset")||d==="source"&&i==="srcset"||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(i,o){if(this.renderingMode==="data")return void(i.innerHTML=o);const d=new DOMParser().parseFromString(o,"text/html"),u=d.createDocumentFragment(),m=d.body.childNodes;for(;m.length>0;)u.appendChild(m[0]);const y=d.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),v=[];let A;for(;A=y.nextNode();)v.push(A);for(const S of v){for(const N of S.getAttributeNames())this.setDomElementAttribute(S,N,S.getAttribute(N));const D=S.tagName.toLowerCase();this._shouldRenameElement(D)&&(KQ(D),S.replaceWith(this._createReplacementDomElement(D,S)))}for(;i.firstChild;)i.firstChild.remove();i.append(u)}viewToDom(i,o={}){if(i.is("$text")){const d=this._processDataFromViewText(i);return this._domDocument.createTextNode(d)}{const d=i;if(this.mapViewToDom(d)){if(!d.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(d);this._elementsWithTemporaryCustomProperties.add(d)}let u;if(d.is("documentFragment"))u=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(u,d);else{if(d.is("uiElement"))return u=d.name==="$comment"?this._domDocument.createComment(d.getCustomProperty("$rawContent")):d.render(this._domDocument,this),o.bind&&this.bindElements(u,d),u;this._shouldRenameElement(d.name)?(KQ(d.name),u=this._createReplacementDomElement(d.name)):u=d.hasAttribute("xmlns")?this._domDocument.createElementNS(d.getAttribute("xmlns"),d.name):this._domDocument.createElement(d.name),d.is("rawElement")&&d.render(u,this),o.bind&&this.bindElements(u,d);for(const m of d.getAttributeKeys())this.setDomElementAttribute(u,m,d.getAttribute(m),d)}if(o.withChildren!==!1)for(const m of this.viewChildrenToDom(d,o))u instanceof HTMLTemplateElement?u.content.appendChild(m):u.appendChild(m);return u}}setDomElementAttribute(i,o,d,u){const m=this.shouldRenderAttribute(o,d,i.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(o);m||V("domconverter-unsafe-attribute-detected",{domElement:i,key:o,value:d}),(function(y){try{c.document.createAttribute(y)}catch{return!1}return!0})(o)?(i.hasAttribute(o)&&!m?i.removeAttribute(o):i.hasAttribute($b+o)&&m&&i.removeAttribute($b+o),i.setAttribute(m?o:$b+o,d)):V("domconverter-invalid-attribute-detected",{domElement:i,key:o,value:d})}removeDomElementAttribute(i,o){o!=WQ&&(i.removeAttribute(o),i.removeAttribute($b+o))}*viewChildrenToDom(i,o={}){const d=i.getFillerOffset&&i.getFillerOffset();let u=0;for(const m of i.getChildren()){d===u&&(yield this._getBlockFiller());const y=m.is("element")&&!!m.getCustomProperty("dataPipeline:transparentRendering")&&!Ti(m.getAttributes());if(y&&this.renderingMode=="data")if(m.is("rawElement")){const v=this._domDocument.createElement(m.name);m.render(v,this),yield*[...v.childNodes]}else yield*this.viewChildrenToDom(m,o);else y&&V("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:m}),yield this.viewToDom(m,o);u++}d===u&&(yield this._getBlockFiller())}viewRangeToDom(i){const o=this.viewPositionToDom(i.start),d=this.viewPositionToDom(i.end),u=this._domDocument.createRange();return u.setStart(o.parent,o.offset),u.setEnd(d.parent,d.offset),u}viewPositionToDom(i){const o=i.parent;if(o.is("$text")){const d=this.findCorrespondingDomText(o);if(!d)return null;let u=i.offset;return Oa(d)&&(u+=7),{parent:d,offset:u}}{let d,u,m;if(i.offset===0){if(d=this.mapViewToDom(o),!d)return null;m=d.childNodes[0]}else{const y=i.nodeBefore;if(u=y.is("$text")?this.findCorrespondingDomText(y):this.mapViewToDom(y),!u)return null;d=u.parentNode,m=u.nextSibling}return $n(m)&&Oa(m)?{parent:m,offset:7}:{parent:d,offset:u?Bg(u)+1:0}}}domToView(i,o={}){const d=[],u=this._domToView(i,o,d),m=u.next().value;return m?(u.next(),this._processDomInlineNodes(null,d,o),this.blockFillerMode=="br"&&GQ(m)||m.is("$text")&&m.data.length==0?null:m):null}*domChildrenToView(i,o={},d=[]){let u=[];u=i instanceof HTMLTemplateElement?[...i.content.childNodes]:[...i.childNodes];for(let m=0;m<u.length;m++){const y=u[m],v=this._domToView(y,o,d),A=v.next().value;A!==null&&(this._isBlockViewElement(A)&&this._processDomInlineNodes(i,d,o),this.blockFillerMode=="br"&&GQ(A)||(yield A),v.next())}this._processDomInlineNodes(i,d,o)}domSelectionToView(i){if((function(u){if(!p.isGecko||!u.rangeCount)return!1;const m=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(m)}catch{return!0}return!1})(i))return new To([]);if(i.rangeCount===1){let u=i.getRangeAt(0).startContainer;$n(u)&&(u=u.parentNode);const m=this.fakeSelectionToView(u);if(m)return m}const o=this.isDomSelectionBackward(i),d=[];for(let u=0;u<i.rangeCount;u++){const m=i.getRangeAt(u),y=this.domRangeToView(m);y&&d.push(y)}return new To(d,{backward:o})}domRangeToView(i){const o=this.domPositionToView(i.startContainer,i.startOffset),d=this.domPositionToView(i.endContainer,i.endOffset);return o&&d?new ir(o,d):null}domPositionToView(i,o=0){if(this.isBlockFiller(i))return this.domPositionToView(i.parentNode,Bg(i));const d=this.mapDomToView(i);if(d&&(d.is("uiElement")||d.is("rawElement")))return mt._createBefore(d);if($n(i)){if(b0(i))return this.domPositionToView(i.parentNode,Bg(i));const u=this.findCorrespondingViewText(i);let m=o;return u?(Oa(i)&&(m-=7,m=m<0?0:m),new mt(u,m)):null}if(o===0){const u=this.mapDomToView(i);if(u)return new mt(u,0)}else{const u=i.childNodes[o-1];if($n(u)&&b0(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,Bg(u));const m=$n(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(m&&m.parent)return new mt(m.parent,m.index+1)}return null}mapDomToView(i){return this.getHostViewElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if(b0(i))return null;const o=this.getHostViewElement(i);if(o)return o;const d=i.previousSibling;if(d){if(!this.isElement(d))return null;const u=this.mapDomToView(d);if(u){const m=u.nextSibling;return m instanceof ai?m:null}}else{const u=this.mapDomToView(i.parentNode);if(u){const m=u.getChild(0);return m instanceof ai?m:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const o=i.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const o=this.mapViewToDom(i);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:d,scrollY:u}=c.window,m=[];YQ(o,(y=>{const{scrollLeft:v,scrollTop:A}=y;m.push([v,A])})),o.focus(),YQ(o,(y=>{const[v,A]=m.shift();y.scrollLeft=v,y.scrollTop=A})),c.window.scrollTo(d,u)}}_clearDomSelection(){const i=this.mapViewToDom(this.document.selection.editableElement);if(!i)return;const o=i.ownerDocument.defaultView.getSelection(),d=this.domSelectionToView(o);d&&d.rangeCount>0&&o.removeAllRanges()}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(i){return this.blockFillerMode=="br"?i.isEqualNode(hle):!!HQ(i,this.blockElements)||i.isEqualNode(fle)||(function(o,d){return o.isEqualNode(ule)&&ZQ(o,d)&&o.parentNode.childNodes.length===1})(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(i.anchorNode,i.anchorOffset),o.setEnd(i.focusNode,i.focusOffset)}catch{return!1}const d=o.collapsed;return o.detach(),d}getHostViewElement(i){const o=Zae(i);for(o.pop();o.length;){const d=o.pop(),u=this._domToViewMapping.get(d);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}registerRawContentMatcher(i){this._rawContentElementMatcher.add(i)}registerInlineObjectMatcher(i){this._inlineObjectElementMatcher.add(i)}_clearTemporaryCustomProperties(){for(const i of this._elementsWithTemporaryCustomProperties)i._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return zQ(this._domDocument);case"markedNbsp":return XQ(this._domDocument);case"br":return VQ(this._domDocument)}}_isDomSelectionPositionCorrect(i,o){if($n(i)&&Oa(i)&&o<7||this.isElement(i)&&Oa(i.childNodes[o]))return!1;const d=this.mapDomToView(i);return!d||!d.is("uiElement")&&!d.is("rawElement")}*_domToView(i,o,d){if(this.blockFillerMode!="br"&&HQ(i,this.blockElements))return null;const u=this.getHostViewElement(i);if(u)return u;if(Ig(i)&&o.skipComments)return null;if($n(i)){if(b0(i))return null;{const m=i.data;if(m==="")return null;const y=new ai(this.document,m);return d.push(y),y}}{let m=this.mapDomToView(i);if(m)return this._isInlineObjectElement(m)&&d.push(m),m;if(this.isDocumentFragment(i))m=new jh(this.document),o.bind&&this.bindDocumentFragments(i,m);else{m=this._createViewElement(i,o),o.bind&&this.bindElements(i,m);const v=i.attributes;if(v)for(let A=v.length,S=0;S<A;S++)m._setAttribute(v[S].name,v[S].value);if(this._isViewElementWithRawContent(m,o))return m._setCustomProperty("$rawContent",i.innerHTML),this._isBlockViewElement(m)||d.push(m),m;if(Ig(i))return m._setCustomProperty("$rawContent",i.data),m}yield m;const y=[];if(o.withChildren!==!1)for(const v of this.domChildrenToView(i,o,y))m._appendChild(v);if(this._isInlineObjectElement(m))d.push(m),this._processDomInlineNodes(null,y,o);else for(const v of y)d.push(v)}}_processDomInlineNodes(i,o,d){if(!o.length||i&&!this.isDocumentFragment(i)&&!this._isBlockDomElement(i))return;let u=!1;for(let m=0;m<o.length;m++){const y=o[m];if(!y.is("$text")){u=!1;continue}let v,A=!1;if(this._isPreFormatted(y))v=UQ(y.data);else{v=y.data.replace(/[ \n\t\r]{1,}/g," "),A=/[^\S\u00A0]/.test(v.charAt(v.length-1));const S=m>0?o[m-1]:null,D=m+1<o.length?o[m+1]:null,N=!S||S.is("element")&&S.name=="br"||u,L=!D&&!Oa(y.data);d.withChildren!==!1&&(N&&(v=v.replace(/^ /,"")),L&&(v=v.replace(/ $/,""))),v=UQ(v),this.blockFillerMode!="br"&&y.parent&&(ple(y.parent,v)?(v="",y.parent.parent&&(y.parent.parent._setCustomProperty("$hasBlockFiller",!0),y.parent._remove())):gle(y.parent,v,this.blockElements)&&(v="",y.parent._setCustomProperty("$hasBlockFiller",!0))),v=v.replace(/ \u00A0/g,"  ");const q=D&&D.is("element")&&D.name!="br",Y=D&&D.is("$text")&&D.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(v)||!D||q||Y)&&(v=v.replace(/\u00A0$/," ")),(N||S&&S.is("element")&&S.name!="br")&&(v=v.replace(/^\u00A0/," "))}v.length==0&&y.parent?(y._remove(),o.splice(m,1),m--):(y._data=v,u=A)}o.length=0}_processDataFromViewText(i){let o=i.data;if(this._isPreFormatted(i))return o;if(o.charAt(0)==" "){const d=this._getTouchingInlineViewNode(i,!1);!(d&&d.is("$textProxy")&&this._nodeEndsWithSpace(d))&&d||(o=""+o.substr(1))}if(o.charAt(o.length-1)==" "){const d=this._getTouchingInlineViewNode(i,!0),u=d&&d.is("$textProxy")&&d.data.charAt(0)==" ";o.charAt(o.length-2)!=" "&&d&&!u||(o=o.substr(0,o.length-1)+"")}return o.replace(/ {2}/g," ")}_nodeEndsWithSpace(i){if(this._isPreFormatted(i))return!1;const o=this._processDataFromViewText(i);return o.charAt(o.length-1)==" "}_isPreFormatted(i){if((function(o,d){return o.getAncestors().some((u=>u.is("element")&&d.includes(u.name)))})(i,this.preElements))return!0;for(const o of i.getAncestors({parentFirst:!0}))if(o.is("element")&&o.hasStyle("white-space")&&o.getStyle("white-space")!=="inherit")return["pre","pre-wrap","break-spaces"].includes(o.getStyle("white-space"));return!1}_getTouchingInlineViewNode(i,o){const d=new Ih({startPosition:o?mt._createAfter(i):mt._createBefore(i),direction:o?"forward":"backward"});for(const{item:u}of d){if(u.is("$textProxy"))return u;if(!u.is("element")||!u.getCustomProperty("dataPipeline:transparentRendering")){if(u.is("element","br"))return null;if(this._isInlineObjectElement(u))return u;if(u.is("containerElement"))return null}}return null}_isBlockDomElement(i){return this.isElement(i)&&this.blockElements.includes(i.tagName.toLowerCase())}_isBlockViewElement(i){return i.is("element")&&this.blockElements.includes(i.name)}_isInlineObjectElement(i){return!!i.is("element")&&(i.name=="br"||this.inlineObjectElements.includes(i.name)||!!this._inlineObjectElementMatcher.match(i))}_createViewElement(i,o){if(Ig(i))return new Db(this.document,"$comment");const d=o.keepOriginalCase?i.tagName:i.tagName.toLowerCase();return new So(this.document,d)}_isViewElementWithRawContent(i,o){return o.withChildren!==!1&&i.is("element")&&!!this._rawContentElementMatcher.match(i)}_shouldRenameElement(i){const o=i.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(o)}_createReplacementDomElement(i,o){const d=this._domDocument.createElement("span");if(d.setAttribute(WQ,i),o){for(;o.firstChild;)d.appendChild(o.firstChild);for(const u of o.getAttributeNames())d.setAttribute(u,o.getAttribute(u))}return d}}function YQ(g,i){let o=g;for(;o;)i(o),o=o.parentElement}function ZQ(g,i){const o=g.parentNode;return!!o&&!!o.tagName&&i.includes(o.tagName.toLowerCase())}function gle(g,i,o){return i==""&&g&&g.is("element")&&g.childCount==1&&o.includes(g.name)}function ple(g,i){return i==""&&g&&g.is("element","span")&&g.childCount==1&&g.hasAttribute("data-cke-filler")}function GQ(g){return g.is("element","br")&&g.hasAttribute("data-cke-filler")}function HQ(g,i){return g.tagName==="BR"&&ZQ(g,i)&&g.parentNode.childNodes.length===1}function KQ(g){g==="script"&&V("domconverter-unsafe-script-element-detected"),g==="style"&&V("domconverter-unsafe-style-element-detected")}class pl extends za(){constructor(i){super(),this._isEnabled=!1,this.view=i,this.document=i.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(i){return i&&i.nodeType===3&&(i=i.parentNode),!(!i||i.nodeType!==1)&&i.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var mle=sQ((function(g,i){l0(i,d0(i),g)}));const JQ=mle;class k0{constructor(i,o,d){this.view=i,this.document=i.document,this.domEvent=o,this.domTarget=o.target,JQ(this,d)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class sc extends pl{constructor(){super(...arguments),this.useCapture=!1,this.usePassive=!1}observe(i){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach((o=>{this.listenTo(i,o,((d,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)}),{useCapture:this.useCapture,usePassive:this.usePassive})}))}stopObserving(i){this.stopListening(i)}fire(i,o,d){this.isEnabled&&this.document.fire(i,new k0(this.view,o,d))}}class Ole extends sc{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(i){const o={keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey,get keystroke(){return u0(this)}};this.fire(i.type,i,o)}}const CS=function(){return kt.Date.now()};var xle=/\s/;const ble=function(g){for(var i=g.length;i--&&xle.test(g.charAt(i)););return i};var kle=/^\s+/;const yle=function(g){return g&&g.slice(0,ble(g)+1).replace(kle,"")};var wle=/^[-+]0x[0-9a-f]+$/i,vle=/^0b[01]+$/i,_le=/^0o[0-7]+$/i,Cle=parseInt;const e$=function(g){if(typeof g=="number")return g;if(vb(g))return NaN;if(Ee(g)){var i=typeof g.valueOf=="function"?g.valueOf():g;g=Ee(i)?i+"":i}if(typeof g!="string")return g===0?g:+g;g=yle(g);var o=vle.test(g);return o||_le.test(g)?Cle(g.slice(2),o?2:8):wle.test(g)?NaN:+g};var Ale=Math.max,Sle=Math.min;const Fh=function(g,i,o){var d,u,m,y,v,A,S=0,D=!1,N=!1,L=!0;if(typeof g!="function")throw new TypeError("Expected a function");function q(Ae){var Me=d,Ue=u;return d=u=void 0,S=Ae,y=g.apply(Ue,Me)}function Y(Ae){var Me=Ae-A;return A===void 0||Me>=i||Me<0||N&&Ae-S>=m}function ne(){var Ae=CS();if(Y(Ae))return ue(Ae);v=setTimeout(ne,(function(Me){var Ue=i-(Me-A);return N?Sle(Ue,m-(Me-S)):Ue})(Ae))}function ue(Ae){return v=void 0,L&&d?q(Ae):(d=u=void 0,y)}function me(){var Ae=CS(),Me=Y(Ae);if(d=arguments,u=this,A=Ae,Me){if(v===void 0)return(function(Ue){return S=Ue,v=setTimeout(ne,i),D?q(Ue):y})(A);if(N)return clearTimeout(v),v=setTimeout(ne,i),q(A)}return v===void 0&&(v=setTimeout(ne,i)),y}return i=e$(i)||0,Ee(o)&&(D=!!o.leading,m=(N="maxWait"in o)?Ale(e$(o.maxWait)||0,i):m,L="trailing"in o?!!o.trailing:L),me.cancel=function(){v!==void 0&&clearTimeout(v),S=0,d=A=u=v=void 0},me.flush=function(){return v===void 0?y:ue(CS())},me};class Tle extends pl{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=Fh((o=>{this.document.fire("selectionChangeDone",o)}),200)}observe(){const i=this.document;i.on("arrowKey",((o,d)=>{i.selection.isFake&&this.isEnabled&&d.preventDefault()}),{context:"$capture"}),i.on("arrowKey",((o,d)=>{i.selection.isFake&&this.isEnabled&&this._handleSelectionMove(d.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const o=this.document.selection,d=new To(o.getRanges(),{backward:o.isBackward,fake:!1});i!=Tr.arrowleft&&i!=Tr.arrowup||d.setTo(d.getFirstPosition()),i!=Tr.arrowright&&i!=Tr.arrowdown||d.setTo(d.getLastPosition());const u={oldSelection:o,newSelection:d,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const Ele=function(g){return this.__data__.set(g,"__lodash_hash_undefined__"),this},Ple=function(g){return this.__data__.has(g)};function Rb(g){var i=-1,o=g==null?0:g.length;for(this.__data__=new sb;++i<o;)this.add(g[i])}Rb.prototype.add=Rb.prototype.push=Ele,Rb.prototype.has=Ple;const Dle=Rb,Qle=function(g,i){for(var o=-1,d=g==null?0:g.length;++o<d;)if(i(g[o],o,g))return!0;return!1},$le=function(g,i){return g.has(i)},t$=function(g,i,o,d,u,m){var y=1&o,v=g.length,A=i.length;if(v!=A&&!(y&&A>v))return!1;var S=m.get(g),D=m.get(i);if(S&&D)return S==i&&D==g;var N=-1,L=!0,q=2&o?new Dle:void 0;for(m.set(g,i),m.set(i,g);++N<v;){var Y=g[N],ne=i[N];if(d)var ue=y?d(ne,Y,N,i,g,m):d(Y,ne,N,g,i,m);if(ue!==void 0){if(ue)continue;L=!1;break}if(q){if(!Qle(i,(function(me,Ae){if(!$le(q,Ae)&&(Y===me||u(Y,me,o,d,m)))return q.push(Ae)}))){L=!1;break}}else if(Y!==ne&&!u(Y,ne,o,d,m)){L=!1;break}}return m.delete(g),m.delete(i),L},Mle=function(g){var i=-1,o=Array(g.size);return g.forEach((function(d,u){o[++i]=[u,d]})),o},Rle=function(g){var i=-1,o=Array(g.size);return g.forEach((function(d){o[++i]=d})),o};var r$=Nt?Nt.prototype:void 0,AS=r$?r$.valueOf:void 0;const Nle=function(g,i,o,d,u,m,y){switch(o){case"[object DataView]":if(g.byteLength!=i.byteLength||g.byteOffset!=i.byteOffset)return!1;g=g.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(g.byteLength!=i.byteLength||!m(new hb(g),new hb(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Yn(+g,+i);case"[object Error]":return g.name==i.name&&g.message==i.message;case"[object RegExp]":case"[object String]":return g==i+"";case"[object Map]":var v=Mle;case"[object Set]":var A=1&d;if(v||(v=Rle),g.size!=i.size&&!A)return!1;var S=y.get(g);if(S)return S==i;d|=2,y.set(g,i);var D=t$(v(g),v(i),d,u,m,y);return y.delete(g),D;case"[object Symbol]":if(AS)return AS.call(g)==AS.call(i)}return!1};var Ble=Object.prototype.hasOwnProperty;const Ile=function(g,i,o,d,u,m){var y=1&o,v=BA(g),A=v.length;if(A!=BA(i).length&&!y)return!1;for(var S=A;S--;){var D=v[S];if(!(y?D in i:Ble.call(i,D)))return!1}var N=m.get(g),L=m.get(i);if(N&&L)return N==i&&L==g;var q=!0;m.set(g,i),m.set(i,g);for(var Y=y;++S<A;){var ne=g[D=v[S]],ue=i[D];if(d)var me=y?d(ue,ne,D,i,g,m):d(ne,ue,D,g,i,m);if(!(me===void 0?ne===ue||u(ne,ue,o,d,m):me)){q=!1;break}Y||(Y=D=="constructor")}if(q&&!Y){var Ae=g.constructor,Me=i.constructor;Ae==Me||!("constructor"in g)||!("constructor"in i)||typeof Ae=="function"&&Ae instanceof Ae&&typeof Me=="function"&&Me instanceof Me||(q=!1)}return m.delete(g),m.delete(i),q};var n$="[object Arguments]",i$="[object Array]",Nb="[object Object]",s$=Object.prototype.hasOwnProperty;const jle=function(g,i,o,d,u,m){var y=Cn(g),v=Cn(i),A=y?i$:Rg(g),S=v?i$:Rg(i),D=(A=A==n$?Nb:A)==Nb,N=(S=S==n$?Nb:S)==Nb,L=A==S;if(L&&Qg(g)){if(!Qg(i))return!1;y=!0,D=!1}if(L&&!D)return m||(m=new o0),y||MA(g)?t$(g,i,o,d,u,m):Nle(g,i,A,o,d,u,m);if(!(1&o)){var q=D&&s$.call(g,"__wrapped__"),Y=N&&s$.call(i,"__wrapped__");if(q||Y){var ne=q?g.value():g,ue=Y?i.value():i;return m||(m=new o0),u(ne,ue,o,d,m)}}return!!L&&(m||(m=new o0),Ile(g,i,o,d,u,m))},Bb=function g(i,o,d,u,m){return i===o||(i==null||o==null||!Fn(i)&&!Fn(o)?i!=i&&o!=o:jle(i,o,d,u,g,m))},Fle=function(g,i,o){var d=(o=typeof o=="function"?o:void 0)?o(g,i):void 0;return d===void 0?Bb(g,i,void 0,o):!!d};class a$ extends pl{constructor(i){super(i),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=i.domConverter,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.add(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}stopObserving(i){if(this._domElements.delete(i),this.isEnabled){this._mutationObserver.disconnect();for(const o of this._domElements)this._mutationObserver.observe(o,this._config)}}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(i.length===0)return;const o=this.domConverter,d=new Set,u=new Set;for(const y of i){const v=o.mapDomToView(y.target);v&&(v.is("uiElement")||v.is("rawElement")||y.type!=="childList"||this._isBogusBrMutation(y)||u.add(v))}for(const y of i){const v=o.mapDomToView(y.target);if((!v||!v.is("uiElement")&&!v.is("rawElement"))&&y.type==="characterData"){const A=o.findCorrespondingViewText(y.target);A&&!u.has(A.parent)?d.add(A):!A&&Oa(y.target)&&u.add(o.mapDomToView(y.target.parentNode))}}const m=[];for(const y of d)m.push({type:"text",node:y});for(const y of u){const v=o.mapViewToDom(y),A=Array.from(y.getChildren()),S=Array.from(o.domChildrenToView(v,{withChildren:!1}));Fle(A,S,Lle)||m.push({type:"children",node:y})}m.length&&this.document.fire("mutations",{mutations:m})}_isBogusBrMutation(i){let o=null;return i.nextSibling===null&&i.removedNodes.length===0&&i.addedNodes.length==1&&(o=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function Lle(g,i){if(!Array.isArray(g))return g===i||!(!g.is("$text")||!i.is("$text"))&&g.data===i.data}class Ib extends sc{constructor(i){super(i),this._renderTimeoutId=null,this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",(()=>this._handleFocus())),o.on("blur",((d,u)=>this._handleBlur(u))),o.on("beforeinput",(()=>{o.isFocused||this._handleFocus()}),{priority:"highest"})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(i){this.fire(i.type,i)}destroy(){this._clearTimeout(),super.destroy()}_handleFocus(){this._clearTimeout(),this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this._renderTimeoutId=null,this.flush(),this.view.change((()=>{}))}),50)}_handleBlur(i){const o=this.document.selection.editableElement;o!==null&&o!==i.target||(this.document.isFocused=!1,this._isFocusChanging=!1,this.view.change((()=>{})))}_clearTimeout(){this._renderTimeoutId&&(clearTimeout(this._renderTimeoutId),this._renderTimeoutId=null)}}class zle extends pl{constructor(i){super(i),this.mutationObserver=i.getObserver(a$),this.focusObserver=i.getObserver(Ib),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Fh((o=>{this.document.fire("selectionChangeDone",o)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Fh((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(i){const o=i.ownerDocument,d=()=>{this.document.isSelecting&&(this._handleSelectionChange(o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(i,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(i,"keydown",d,{priority:"highest",useCapture:!0}),this.listenTo(i,"keyup",d,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",d,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(()=>{this.document.isComposing&&!p.isAndroid||(this._handleSelectionChange(o),this._documentIsSelectingInactivityTimeoutDebounced())})),this.listenTo(this.view.document,"compositionstart",(()=>{this._handleSelectionChange(o)}),{priority:"lowest"}),this._documents.add(o))}stopObserving(i){this.stopListening(i)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(i){if(!this.isEnabled)return;const o=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(o);if(d.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(d)||!this.domConverter.isDomSelectionCorrect(o))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(d))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:d,domSelection:o};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Xle extends sc{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",(()=>{o.isComposing=!0}),{priority:"low"}),o.on("compositionend",(()=>{o.isComposing=!1}),{priority:"low"})}onDomEvent(i){this.fire(i.type,i,{data:i.data})}}class o${constructor(i,o={}){this._files=o.cacheFiles?l$(i):null,this._native=i}get files(){return this._files||(this._files=l$(this._native)),this._files}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,o){this._native.setData(i,o)}set effectAllowed(i){this._native.effectAllowed=i}get effectAllowed(){return this._native.effectAllowed}set dropEffect(i){this._native.dropEffect=i}get dropEffect(){return this._native.dropEffect}setDragImage(i,o,d){this._native.setDragImage(i,o,d)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function l$(g){const i=Array.from(g.files||[]),o=Array.from(g.items||[]);return i.length?i:o.filter((d=>d.kind==="file")).map((d=>d.getAsFile()))}class Vle extends sc{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(i){const o=i.getTargetRanges(),d=this.view,u=d.document;let m=null,y=null,v=[];if(i.dataTransfer&&(m=new o$(i.dataTransfer)),i.data!==null?y=i.data:m&&(y=m.getData("text/plain")),u.selection.isFake)v=Array.from(u.selection.getRanges());else if(o.length)v=o.map((A=>{const S=d.domConverter.domPositionToView(A.startContainer,A.startOffset),D=d.domConverter.domPositionToView(A.endContainer,A.endOffset);return S?d.createRange(S,D):D?d.createRange(D):void 0})).filter((A=>!!A));else if(p.isAndroid){const A=i.target.ownerDocument.defaultView.getSelection();v=Array.from(d.domConverter.domSelectionToView(A).getRanges())}if(p.isAndroid&&i.inputType=="insertCompositionText"&&y&&y.endsWith(`
`))this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:[d.createRange(v[0].end)]});else if(i.inputType=="insertText"&&y&&y.includes(`
`)){const A=y.split(/\n{1,2}/g);let S=v;for(let D=0;D<A.length;D++){const N=A[D];N!=""&&(this.fire(i.type,i,{data:N,dataTransfer:m,targetRanges:S,inputType:i.inputType,isComposing:i.isComposing}),S=[u.selection.getFirstRange()]),D+1<A.length&&(this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:S}),S=[u.selection.getFirstRange()])}}else this.fire(i.type,i,{data:y,dataTransfer:m,targetRanges:v,inputType:i.inputType,isComposing:i.isComposing})}}class Ule extends pl{constructor(i){super(i),this.document.on("keydown",((o,d)=>{if(this.isEnabled&&((u=d.keyCode)==Tr.arrowright||u==Tr.arrowleft||u==Tr.arrowup||u==Tr.arrowdown)){const m=new O0(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(m,d),m.stop.called&&o.stop()}var u}))}observe(){}stopObserving(){}}class qle extends pl{constructor(i){super(i);const o=this.document;o.on("keydown",((d,u)=>{if(!this.isEnabled||u.keyCode!=Tr.tab||u.ctrlKey)return;const m=new O0(o,"tab",o.selection.getFirstRange());o.fire(m,u),m.stop.called&&d.stop()}))}observe(){}stopObserving(){}}const Eo=function(g){return XA(g,5)};class Wle extends Ge(){constructor(i){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Pb(i),this.domConverter=new Mb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ole(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new IQ(this.document),this.addObserver(a$),this.addObserver(Ib),this.addObserver(zle),this.addObserver(Ole),this.addObserver(Tle),this.addObserver(Xle),this.addObserver(Ule),this.addObserver(Vle),this.addObserver(qle),this.document.on("arrowKey",ale,{priority:"low"}),tle(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),p.isiOS&&this.listenTo(this.document,"blur",((o,d)=>{this.domConverter.mapDomToView(d.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})),this.listenTo(this.document,"mutations",((o,{mutations:d})=>{d.forEach((u=>this._renderer.markToSync(u.type,u.node)))}),{priority:"low"}),this.listenTo(this.document,"mutations",(()=>{this.forceRender()}),{priority:"lowest"})}attachDomRoot(i,o="main"){const d=this.document.getRoot(o);d._name=i.tagName.toLowerCase();const u={};for(const{name:y,value:v}of Array.from(i.attributes))u[y]=v,y==="class"?this._writer.addClass(v.split(" "),d):d.hasAttribute(y)||this._writer.setAttribute(y,v,d);this._initialDomRootAttributes.set(i,u);const m=()=>{this._writer.setAttribute("contenteditable",(!d.isReadOnly).toString(),d),d.isReadOnly?this._writer.addClass("ck-read-only",d):this._writer.removeClass("ck-read-only",d)};m(),this.domRoots.set(o,i),this.domConverter.bindElements(i,d),this._renderer.markToSync("children",d),this._renderer.markToSync("attributes",d),this._renderer.domDocuments.add(i.ownerDocument),d.on("change:children",((y,v)=>this._renderer.markToSync("children",v))),d.on("change:attributes",((y,v)=>this._renderer.markToSync("attributes",v))),d.on("change:text",((y,v)=>this._renderer.markToSync("text",v))),d.on("change:isReadOnly",(()=>this.change(m))),d.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const y of this._observers.values())y.observe(i,o)}detachDomRoot(i){const o=this.domRoots.get(i);Array.from(o.attributes).forEach((({name:u})=>o.removeAttribute(u)));const d=this._initialDomRootAttributes.get(o);for(const u in d)o.setAttribute(u,d[u]);this.domRoots.delete(i),this.domConverter.unbindDomElement(o);for(const u of this._observers.values())u.stopObserving(o)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let o=this._observers.get(i);if(o)return o;o=new i(this),this._observers.set(i,o);for(const[d,u]of this.domRoots)o.observe(u,d);return o.enable(),o}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection({alignToTop:i,forceScroll:o,viewportOffset:d=20,ancestorOffset:u=20}={}){const m=this.document.selection.getFirstRange();if(!m)return;const y=Eo({alignToTop:i,forceScroll:o,viewportOffset:d,ancestorOffset:u});typeof d=="number"&&(d={top:d,bottom:d,left:d,right:d});const v={target:this.domConverter.viewRangeToDom(m),viewportOffset:d,ancestorOffset:u,alignToTop:i,forceScroll:o};this.fire("scrollToTheSelection",v,y),(function({target:A,viewportOffset:S=0,ancestorOffset:D=0,alignToTop:N,forceScroll:L}){const q=qA(A);let Y=q,ne=null;for(S=(function(ue){return typeof ue=="number"?{top:ue,bottom:ue,left:ue,right:ue}:ue})(S);Y;){let ue;ue=Kae(Y==q?A:ne),Hae({parent:ue,getRect:()=>WA(A,Y),alignToTop:N,ancestorOffset:D,forceScroll:L});let me=WA(A,Y);const Ae=WA(ue,Y);if(me.height>Ae.height){const Me=me.getIntersection(Ae);Me&&(me=Me)}if(Gae({window:Y,rect:me,viewportOffset:S,alignToTop:N,forceScroll:L}),Y.parent!=Y){if(ne=Y.frameElement,Y=Y.parent,!ne)return}else Y=null}})(v)}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new F("cannot-change-view-tree",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const o=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){F.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Ib).flush(),this.change((()=>{}))}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,o){return mt._createAt(i,o)}createPositionAfter(i){return mt._createAfter(i)}createPositionBefore(i){return mt._createBefore(i)}createRange(i,o){return new ir(i,o)}createRangeOn(i){return ir._createOn(i)}createRangeIn(i){return ir._createIn(i)}createSelection(...i){return new To(...i)}_disableRendering(i){this._renderingDisabled=i,i==0&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class pd{is(){throw new Error("is() method is abstract")}}class Po extends pd{constructor(i,o,d){if(super(),this.textNode=i,o<0||o>i.offsetSize)throw new F("model-textproxy-wrong-offsetintext",this);if(d<0||o+d>i.offsetSize)throw new F("model-textproxy-wrong-length",this);this.data=i.data.substring(o,o+d),this.offsetInText=o}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={}){const o=[];let d=i.includeSelf?this:this.parent;for(;d;)o[i.parentFirst?"push":"unshift"](d),d=d.parent;return o}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Po.prototype.is=function(g){return g==="$textProxy"||g==="model:$textProxy"||g==="textProxy"||g==="model:textProxy"};class ac{constructor(i){if(!i||!i.boundaries&&!i.startPosition)throw new F("model-tree-walker-no-start-position",null);const o=i.direction||"forward";if(o!="forward"&&o!="backward")throw new F("model-tree-walker-unknown-direction",i,{direction:o});this.direction=o,this.boundaries=i.boundaries||null,i.startPosition?this._position=i.startPosition.clone():this._position=it._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(i){let o,d,u,m;do u=this.position,m=this._visitedParent,{done:o,value:d}=this.next();while(!o&&i(d));o||(this._position=u,this._visitedParent=m)}jumpTo(i){this._boundaryStartParent&&i.isBefore(this.boundaries.start)?i=this.boundaries.start:this._boundaryEndParent&&i.isAfter(this.boundaries.end)&&(i=this.boundaries.end),this._position=i.clone(),this._visitedParent=i.parent}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const i=this.position,o=this.position.clone(),d=this._visitedParent;if(d.parent===null&&o.offset===d.maxOffset)return{done:!0,value:void 0};if(d===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=Hg(o,d),m=u||c$(o,d,u);if(m&&m.is("model:element")){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(o))return{done:!0,value:void 0};o.offset++}else o.path.push(0),this._visitedParent=m;return this._position=o,Lh("elementStart",m,i,o,1)}if(m&&m.is("model:$text")){let y;if(this.singleCharacters)y=1;else{let S=m.endOffset;this._boundaryEndParent==d&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),y=S-o.offset}const v=o.offset-m.startOffset,A=new Po(m,v,y);return o.offset+=y,this._position=o,Lh("text",A,i,o,y)}return o.path.pop(),o.offset++,this._position=o,this._visitedParent=d.parent,this.ignoreElementEnd?this._next():Lh("elementEnd",d,i,o)}_previous(){const i=this.position,o=this.position.clone(),d=this._visitedParent;if(d.parent===null&&o.offset===0)return{done:!0,value:void 0};if(d==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=o.parent,m=Hg(o,u),y=m||d$(o,u,m);if(y&&y.is("model:element"))return o.offset--,this.shallow?(this._position=o,Lh("elementStart",y,i,o,1)):(o.path.push(y.maxOffset),this._position=o,this._visitedParent=y,this.ignoreElementEnd?this._previous():Lh("elementEnd",y,i,o));if(y&&y.is("model:$text")){let v;if(this.singleCharacters)v=1;else{let D=y.startOffset;this._boundaryStartParent==d&&this.boundaries.start.offset>D&&(D=this.boundaries.start.offset),v=o.offset-D}const A=o.offset-y.startOffset,S=new Po(y,A-v,v);return o.offset-=v,this._position=o,Lh("text",S,i,o,v)}return o.path.pop(),this._position=o,this._visitedParent=d.parent,Lh("elementStart",d,i,o,1)}}function Lh(g,i,o,d,u){return{done:!1,value:{type:g,item:i,previousPosition:o,nextPosition:d,length:u}}}class it extends pd{constructor(i,o,d="toNone"){if(super(),!i.is("element")&&!i.is("documentFragment"))throw new F("model-position-root-invalid",i);if(!Array.isArray(o)||o.length===0)throw new F("model-position-path-incorrect-format",i,{path:o});i.is("rootElement")?o=o.slice():(o=[...i.getPath(),...o],i=i.root),this.root=i,this.path=o,this.stickiness=d}get offset(){return this.path[this.path.length-1]}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChildAtOffset(this.path[o]),!i)throw new F("model-position-path-incorrect",this,{position:this});if(i.is("$text"))throw new F("model-position-path-incorrect",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Hg(this,this.parent)}get nodeAfter(){const i=this.parent;return c$(this,i,Hg(this,i))}get nodeBefore(){const i=this.parent;return d$(this,i,Hg(this,i))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}isValid(){if(this.offset<0)return!1;let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChildAtOffset(this.path[o]),!i)return!1;return this.offset<=i.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const o=tt(this.path,i.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<i.path[o]?"before":"after"}}getLastMatchingPosition(i,o={}){o.startPosition=this;const d=new ac(o);return d.skip(i),d.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const i=this.parent;return i.is("documentFragment")?[i]:i.getAncestors({includeSelf:!0})}findAncestor(i){const o=this.parent;return o.is("element")?o.findAncestor(i,{includeSelf:!0}):null}getCommonPath(i){if(this.root!=i.root)return[];const o=tt(this.path,i.path),d=typeof o=="string"?Math.min(this.path.length,i.path.length):o;return this.path.slice(0,d)}getCommonAncestor(i){const o=this.getAncestors(),d=i.getAncestors();let u=0;for(;o[u]==d[u]&&o[u];)u++;return u===0?null:o[u-1]}getShiftedBy(i){const o=this.clone(),d=o.offset+i;return o.offset=d<0?0:d,o}isAfter(i){return this.compareWith(i)=="after"}isBefore(i){return this.compareWith(i)=="before"}isEqual(i){return this.compareWith(i)=="same"}isTouching(i){if(this.root!==i.root)return!1;const o=Math.min(this.path.length,i.path.length);for(let d=0;d<o;d++){const u=this.path[d]-i.path[d];if(u<-1||u>1)return!1;if(u===1)return h$(i,this,d);if(u===-1)return h$(this,i,d)}return this.path.length===i.path.length||(this.path.length>i.path.length?SS(this.path,o):SS(i.path,o))}hasSameParentAs(i){return this.root!==i.root?!1:tt(this.getParentPath(),i.getParentPath())=="same"}getTransformedByOperation(i){let o;switch(i.type){case"insert":o=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(i);break;case"split":o=this._getTransformedBySplitOperation(i);break;case"merge":o=this._getTransformedByMergeOperation(i);break;default:o=it._createAt(this)}return o}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const o=i.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const o=i.movedRange;let d;return o.containsPosition(this)||o.start.isEqual(this)?(d=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(d=d._getTransformedByDeletion(i.deletionPosition,1))):d=this.isEqual(i.deletionPosition)?it._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),d}_getTransformedByDeletion(i,o){const d=it._createAt(this);if(this.root!=i.root)return d;if(tt(i.getParentPath(),this.getParentPath())=="same"){if(i.offset<this.offset){if(i.offset+o>this.offset)return null;d.offset-=o}}else if(tt(i.getParentPath(),this.getParentPath())=="prefix"){const u=i.path.length-1;if(i.offset<=this.path[u]){if(i.offset+o>this.path[u])return null;d.path[u]-=o}}return d}_getTransformedByInsertion(i,o){const d=it._createAt(this);if(this.root!=i.root)return d;if(tt(i.getParentPath(),this.getParentPath())=="same")(i.offset<this.offset||i.offset==this.offset&&this.stickiness!="toPrevious")&&(d.offset+=o);else if(tt(i.getParentPath(),this.getParentPath())=="prefix"){const u=i.path.length-1;i.offset<=this.path[u]&&(d.path[u]+=o)}return d}_getTransformedByMove(i,o,d){if(o=o._getTransformedByDeletion(i,d),i.isEqual(o))return it._createAt(this);const u=this._getTransformedByDeletion(i,d);return u===null||i.isEqual(this)&&this.stickiness=="toNext"||i.getShiftedBy(d).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(i,o):u._getTransformedByInsertion(o,d)}_getCombined(i,o){const d=i.path.length-1,u=it._createAt(o);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[d]-i.offset,u.path=[...u.path,...this.path.slice(d+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,o,d="toNone"){if(i.is("model:position"))return new it(i.root,i.path,i.stickiness);{const u=i;if(o=="end")o=u.maxOffset;else{if(o=="before")return this._createBefore(u,d);if(o=="after")return this._createAfter(u,d);if(o!==0&&!o)throw new F("model-createpositionat-offset-required",[this,i])}if(!u.is("element")&&!u.is("documentFragment"))throw new F("model-position-parent-incorrect",[this,i]);const m=u.getPath();return m.push(o),new this(u.root,m,d)}}static _createAfter(i,o){if(!i.parent)throw new F("model-position-after-root",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,o)}static _createBefore(i,o){if(!i.parent)throw new F("model-position-before-root",i,{root:i});return this._createAt(i.parent,i.startOffset,o)}static fromJSON(i,o){if(i.root==="$graveyard"){const d=new it(o.graveyard,i.path);return d.stickiness=i.stickiness,d}if(!o.getRoot(i.root))throw new F("model-position-fromjson-no-root",o,{rootName:i.root});return new it(o.getRoot(i.root),i.path,i.stickiness)}}function Hg(g,i){const o=i.getChildAtOffset(g.offset);return o&&o.is("$text")&&o.startOffset<g.offset?o:null}function c$(g,i,o){return o!==null?null:i.getChildAtOffset(g.offset)}function d$(g,i,o){return o!==null?null:i.getChild(i.offsetToIndex(g.offset)-1)}function h$(g,i,o){return o+1!==g.path.length&&!!SS(i.path,o+1)&&!!(function(d,u){let m=d.parent,y=d.path.length-1,v=0;for(;y>=u;){if(d.path[y]+v!==m.maxOffset)return!1;v=1,y--,m=m.parent}return!0})(g,o+1)}function SS(g,i){for(;i<g.length;){if(g[i]!==0)return!1;i++}return!0}it.prototype.is=function(g){return g==="position"||g==="model:position"};class Xe extends pd{constructor(i,o){super(),this.start=it._createAt(i),this.end=o?it._createAt(o):it._createAt(i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ac({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return tt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const d=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),u=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return d&&u}containsItem(i){const o=it._createBefore(i);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Xe(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Xe(i.end,this.end))):o.push(new Xe(this.start,this.end)),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,d=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(d=i.end),new Xe(o,d)}return null}getJoined(i,o=!1){let d=this.isIntersecting(i);if(d||(d=this.start.isBefore(i.start)?o?this.end.isTouching(i.start):this.end.isEqual(i.start):o?i.end.isTouching(this.start):i.end.isEqual(this.start)),!d)return null;let u=this.start,m=this.end;return i.start.isBefore(u)&&(u=i.start),i.end.isAfter(m)&&(m=i.end),new Xe(u,m)}getMinimalFlatRanges(){const i=[],o=this.start.getCommonPath(this.end).length,d=it._createAt(this.start);let u=d.parent;for(;d.path.length>o+1;){const m=u.maxOffset-d.offset;m!==0&&i.push(new Xe(d,d.getShiftedBy(m))),d.path=d.path.slice(0,-1),d.offset++,u=u.parent}for(;d.path.length<=this.end.path.length;){const m=this.end.path[d.path.length-1],y=m-d.offset;y!==0&&i.push(new Xe(d,d.getShiftedBy(y))),d.offset=m,d.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new ac(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new ac(i);for(const d of o)yield d.item}*getPositions(i={}){i.boundaries=this;const o=new ac(i);yield o.position;for(const d of o)yield d.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new Xe(this.start,this.end)]}getTransformedByOperations(i){const o=[new Xe(this.start,this.end)];for(const d of i)for(let u=0;u<o.length;u++){const m=o[u].getTransformedByOperation(d);o.splice(u,1,...m),u+=m.length-1}for(let d=0;d<o.length;d++){const u=o[d];for(let m=d+1;m<o.length;m++){const y=o[m];(u.containsRange(y)||y.containsRange(u)||u.isEqual(y))&&o.splice(m,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const i=this.start.nodeAfter,o=this.end.nodeBefore;return i&&i.is("element")&&i===o?i:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,o=!1){return this._getTransformedByInsertion(i.position,i.howMany,o)}_getTransformedByMoveOperation(i,o=!1){const d=i.sourcePosition,u=i.howMany,m=i.targetPosition;return this._getTransformedByMove(d,m,u,o)}_getTransformedBySplitOperation(i){const o=this.start._getTransformedBySplitOperation(i);let d=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(d=this.end.getShiftedBy(1)),o.root!=d.root&&(d=this.end.getShiftedBy(-1)),new Xe(o,d)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new Xe(this.start);let o=this.start._getTransformedByMergeOperation(i),d=this.end._getTransformedByMergeOperation(i);return o.root!=d.root&&(d=this.end.getShiftedBy(-1)),o.isAfter(d)?(i.sourcePosition.isBefore(i.targetPosition)?(o=it._createAt(d),o.offset=0):(i.deletionPosition.isEqual(o)||(d=i.deletionPosition),o=i.targetPosition),new Xe(o,d)):new Xe(o,d)}_getTransformedByInsertion(i,o,d=!1){if(d&&this.containsPosition(i))return[new Xe(this.start,i),new Xe(i.getShiftedBy(o),this.end._getTransformedByInsertion(i,o))];{const u=new Xe(this.start,this.end);return u.start=u.start._getTransformedByInsertion(i,o),u.end=u.end._getTransformedByInsertion(i,o),[u]}}_getTransformedByMove(i,o,d,u=!1){if(this.isCollapsed){const N=this.start._getTransformedByMove(i,o,d);return[new Xe(N)]}const m=Xe._createFromPositionAndShift(i,d),y=o._getTransformedByDeletion(i,d);if(this.containsPosition(o)&&!u&&(m.containsPosition(this.start)||m.containsPosition(this.end))){const N=this.start._getTransformedByMove(i,o,d),L=this.end._getTransformedByMove(i,o,d);return[new Xe(N,L)]}let v;const A=this.getDifference(m);let S=null;const D=this.getIntersection(m);if(A.length==1?S=new Xe(A[0].start._getTransformedByDeletion(i,d),A[0].end._getTransformedByDeletion(i,d)):A.length==2&&(S=new Xe(this.start,this.end._getTransformedByDeletion(i,d))),v=S?S._getTransformedByInsertion(y,d,D!==null||u):[],D){const N=new Xe(D.start._getCombined(m.start,y),D.end._getCombined(m.start,y));v.length==2?v.splice(1,0,N):v.push(N)}return v}_getTransformedByDeletion(i,o){let d=this.start._getTransformedByDeletion(i,o),u=this.end._getTransformedByDeletion(i,o);return d==null&&u==null?null:(d==null&&(d=i),u==null&&(u=i),new Xe(d,u))}static _createFromPositionAndShift(i,o){const d=i,u=i.getShiftedBy(o);return o>0?new this(d,u):new this(u,d)}static _createIn(i){return new this(it._createAt(i,0),it._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(it._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(i.length===0)throw new F("range-create-from-ranges-empty-array",null);if(i.length==1)return i[0].clone();const o=i[0];i.sort(((m,y)=>m.start.isAfter(y.start)?1:-1));const d=i.indexOf(o),u=new this(o.start,o.end);for(let m=d-1;m>=0&&i[m].end.isEqual(u.start);m--)u.start=it._createAt(i[m].start);for(let m=d+1;m<i.length&&i[m].start.isEqual(u.end);m++)u.end=it._createAt(i[m].end);return u}static fromJSON(i,o){return new this(it.fromJSON(i.start,o),it.fromJSON(i.end,o))}}Xe.prototype.is=function(g){return g==="range"||g==="model:range"};class u$ extends K(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this._cache=new Yle,this.on("modelToViewPosition",((i,o)=>{if(o.viewPosition)return;const d=this._modelToViewMapping.get(o.modelPosition.parent);if(!d)throw new F("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(d,o.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((i,o)=>{if(o.modelPosition)return;const d=this.findMappedViewAncestor(o.viewPosition),u=this._viewToModelMapping.get(d),m=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,d);o.modelPosition=it._createAt(u,m)}),{priority:"low"})}bindElements(i,o){this._modelToViewMapping.set(i,o),this._viewToModelMapping.set(o,i)}unbindViewElement(i,o={}){const d=this.toModelElement(i);if(this._elementToMarkerNames.has(i))for(const u of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(u);o.defer?this._deferredBindingRemovals.set(i,i.root):(this._viewToModelMapping.delete(i)&&this._cache.stopTracking(i),this._modelToViewMapping.get(d)==i&&this._modelToViewMapping.delete(d))}unbindModelElement(i){const o=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(o)==i&&this._viewToModelMapping.delete(o)&&this._cache.stopTracking(o)}bindElementToMarker(i,o){const d=this._markerNameToElements.get(o)||new Set;d.add(i);const u=this._elementToMarkerNames.get(i)||new Set;u.add(o),this._markerNameToElements.set(o,d),this._elementToMarkerNames.set(i,u)}unbindElementFromMarkerName(i,o){const d=this._markerNameToElements.get(o);d&&(d.delete(i),d.size==0&&this._markerNameToElements.delete(o));const u=this._elementToMarkerNames.get(i);u&&(u.delete(o),u.size==0&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}flushDeferredBindings(){for(const[i,o]of this._deferredBindingRemovals)i.root==o&&this.unbindViewElement(i);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new Xe(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new ir(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const o={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(i,o={}){const d={modelPosition:i,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",d),d.viewPosition}markerNameToElements(i){const o=this._markerNameToElements.get(i);if(!o)return null;const d=new Set;for(const u of o)if(u.is("attributeElement"))for(const m of u.getElementsWithSameId())d.add(m);else d.add(u);return d}registerViewToModelLength(i,o){this._viewToModelLengthCallbacks.set(i,o)}findMappedViewAncestor(i){let o=i.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(i,o,d){if(d!=i)return this._toModelOffset(i.parent,i.index,d)+this._toModelOffset(i,o,i);if(i.is("$text"))return o;let u=0;for(let m=0;m<o;m++)u+=this.getModelLength(i.getChild(m));return u}getModelLength(i){const o=[i];let d=0;for(;o.length>0;){const u=o.pop(),m=u.name&&this._viewToModelLengthCallbacks.size>0&&this._viewToModelLengthCallbacks.get(u.name);if(m)d+=m(u);else if(this._viewToModelMapping.has(u))d+=1;else if(u.is("$text"))d+=u.data.length;else{if(u.is("uiElement"))continue;for(const y of u.getChildren())o.push(y)}}return d}findPositionIn(i,o){if(o===0)return this._moveViewPositionToTextNode(new mt(i,0));if(this._viewToModelLengthCallbacks.size==0&&this._viewToModelMapping.has(i)){const d=this._cache.getClosest(i,o);return this._findPositionStartingFrom(d.viewPosition,d.modelOffset,o,i,!0)}return this._findPositionStartingFrom(new mt(i,0),0,o,i,!1)}_findPositionStartingFrom(i,o,d,u,m){let y,v=i.parent,A=i.offset;if(v.is("$text"))return new mt(v,d-o);let S=o,D=0;for(;S<d;)if(y=v.getChild(A),y)D=this.getModelLength(y),S+=D,A++,m&&this._cache.save(v,A,u,S);else{if(v==u)throw new F("mapping-model-offset-not-found",this,{modelOffset:d,viewContainer:u});A=v.parent.getChildIndex(v)+1,v=v.parent}return S==d?this._moveViewPositionToTextNode(new mt(v,A)):this._findPositionStartingFrom(new mt(y,0),S-D,d,u,m)}_moveViewPositionToTextNode(i){const o=i.nodeBefore,d=i.nodeAfter;return o&&o.is("view:$text")?new mt(o,o.data.length):d&&d.is("view:$text")?new mt(d,0):i}}class Yle extends K(){constructor(){super(...arguments),this._cachedMapping=new WeakMap,this._nodeToCacheListIndex=new WeakMap,this._invalidateOnChildrenChangeCallback=(i,o,d)=>{this._clearCacheInsideParent(o,d.index)},this._invalidateOnTextChangeCallback=(i,o)=>{this._clearCacheStartingBefore(o)}}save(i,o,d,u){const m=this._cachedMapping.get(d),y=m.cacheMap.get(u);if(y){const S=i.getChild(o-1),D=y.viewPosition.nodeBefore?this._nodeToCacheListIndex.get(y.viewPosition.nodeBefore):0;return void this._nodeToCacheListIndex.set(S,D)}const v={viewPosition:new mt(i,o),modelOffset:u};m.maxModelOffset=u>m.maxModelOffset?u:m.maxModelOffset,m.cacheMap.set(u,v);let A=m.cacheList.length-1;for(;A>=0&&m.cacheList[A].modelOffset>u;)A--;if(m.cacheList.splice(A+1,0,v),o>0){const S=i.getChild(o-1);this._nodeToCacheListIndex.set(S,A+1)}}getClosest(i,o){const d=this._cachedMapping.get(i);let u;d?o>d.maxModelOffset?u=d.cacheList[d.cacheList.length-1]:u=d.cacheMap.get(o)||this._findInCacheList(d.cacheList,o):u=this.startTracking(i);const m=this._hoistViewPosition(u.viewPosition);return{modelOffset:u.modelOffset,viewPosition:m}}_hoistViewPosition(i){for(;i.parent.parent&&!this._cachedMapping.has(i.parent)&&i.isAtEnd;){const o=i.parent.parent,d=o.getChildIndex(i.parent)+1;i=new mt(o,d)}return i}startTracking(i){const o={viewPosition:new mt(i,0),modelOffset:0},d={maxModelOffset:0,cacheList:[o],cacheMap:new Map([[0,o]])};return this._cachedMapping.set(i,d),i.on("change:children",this._invalidateOnChildrenChangeCallback),i.on("change:text",this._invalidateOnTextChangeCallback),o}stopTracking(i){i.off("change:children",this._invalidateOnChildrenChangeCallback),i.off("change:text",this._invalidateOnTextChangeCallback),this._cachedMapping.delete(i)}_clearCacheInsideParent(i,o){if(o==0)this._cachedMapping.has(i)?this._clearCacheAll(i):this._clearCacheStartingBefore(i);else{const d=i.getChild(o-1);this._clearCacheStartingBefore(d)}}_clearCacheAll(i){const o=this._cachedMapping.get(i);o.maxModelOffset>0&&(o.maxModelOffset=0,o.cacheList.length=1,o.cacheMap.clear(),o.cacheMap.set(0,o.cacheList[0]))}_clearCacheStartingBefore(i){const o=this._nodeToCacheListIndex.get(i);if(o===void 0){const u=i.parent;return void(this._cachedMapping.has(u)||this._clearCacheStartingBefore(u))}let d=i.parent;for(;!this._cachedMapping.has(d);)d=d.parent;this._clearCacheFromIndex(d,o)}_clearCacheFromIndex(i,o){o===0&&(o=1);const d=this._cachedMapping.get(i),u=d.cacheList[o-1];if(!u)return;d.maxModelOffset=u.modelOffset;const m=d.cacheList.splice(o);for(const y of m){d.cacheMap.delete(y.modelOffset);const v=y.viewPosition.nodeBefore;this._nodeToCacheListIndex.delete(v)}}_findInCacheList(i,o){let d=0,u=i.length-1,m=u-d>>1,y=i[m];for(;d<u;)y.modelOffset<o?d=m+1:u=m-1,m=d+(u-d>>1),y=i[m];return y.modelOffset<=o?y:i[m-1]}}class Zle{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,o){o=jb(o),i instanceof Po&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(o,!0)}consume(i,o){return o=jb(o),i instanceof Po&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,o)&&(this._consumable.get(i).set(o,!1),!0)}test(i,o){o=jb(o),i instanceof Po&&(i=this._getSymbolForTextProxy(i));const d=this._consumable.get(i);if(d===void 0)return null;const u=d.get(o);return u===void 0?null:u}revert(i,o){o=jb(o),i instanceof Po&&(i=this._getSymbolForTextProxy(i));const d=this.test(i,o);return d===!1?(this._consumable.get(i).set(o,!0),!0):d!==!0&&null}verifyAllConsumed(i){const o=[];for(const[d,u]of this._consumable)for(const[m,y]of u){const v=m.split(":")[0];y&&i==v&&o.push({event:m,item:d.name||d.description})}if(o.length)throw new F("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(i){let o=null;const d=this._textProxyRegistry.get(i.startOffset);if(d){const u=d.get(i.endOffset);u&&(o=u.get(i.parent))}return o||(o=this._addSymbolForTextProxy(i)),o}_addSymbolForTextProxy(i){const o=i.startOffset,d=i.endOffset,u=i.parent,m=Symbol("$textProxy:"+i.data);let y,v;return y=this._textProxyRegistry.get(o),y||(y=new Map,this._textProxyRegistry.set(o,y)),v=y.get(d),v||(v=new Map,y.set(d,v)),v.set(u,m),m}}function jb(g){const i=g.split(":");return i[0]=="insert"?i[0]:i[0]=="addMarker"||i[0]=="removeMarker"?g:i.length>1?i[0]+":"+i[1]:i[0]}class f$ extends K(){constructor(i){super(),this._conversionApi={dispatcher:this,...i},this._firedEventsMap=new WeakMap}convertChanges(i,o,d){const u=this._createConversionApi(d,i.getRefreshedItems());for(const y of i.getMarkersToRemove())this._convertMarkerRemove(y.name,y.range,u);const m=this._reduceChanges(i.getChanges());for(const y of m)y.type==="insert"?this._convertInsert(Xe._createFromPositionAndShift(y.position,y.length),u):y.type==="reinsert"?this._convertReinsert(Xe._createFromPositionAndShift(y.position,y.length),u):y.type==="remove"?this._convertRemove(y.position,y.length,y.name,u):this._convertAttribute(y.range,y.attributeKey,y.attributeOldValue,y.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const y of u.mapper.flushUnboundMarkerNames()){const v=o.get(y).getRange();this._convertMarkerRemove(y,v,u),this._convertMarkerAdd(y,v,u)}for(const y of i.getMarkersToAdd())this._convertMarkerAdd(y.name,y.range,u);u.consumable.verifyAllConsumed("insert")}convert(i,o,d,u={}){const m=this._createConversionApi(d,void 0,u);this._convertInsert(i,m);for(const[y,v]of o)this._convertMarkerAdd(y,v,m);m.consumable.verifyAllConsumed("insert")}convertSelection(i,o,d){const u=this._createConversionApi(d);this.fire("cleanSelection",{selection:i},u);const m=i.getFirstPosition().root;if(!u.mapper.toViewElement(m))return;const y=Array.from(o.getMarkersAtPosition(i.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,i,y),this.fire("selection",{selection:i},u),i.isCollapsed){for(const v of y)if(u.consumable.test(i,"addMarker:"+v.name)){const A=v.getRange();if(!Gle(i.getFirstPosition(),v,u.mapper))continue;const S={item:i,markerName:v.name,markerRange:A};this.fire(`addMarker:${v.name}`,S,u)}for(const v of i.getAttributeKeys())if(u.consumable.test(i,"attribute:"+v)){const A={item:i,range:i.getFirstRange(),attributeKey:v,attributeOldValue:null,attributeNewValue:i.getAttribute(v)};this.fire(`attribute:${v}:$text`,A,u)}}}_convertInsert(i,o,d={}){d.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,i);for(const u of i.getWalker({shallow:!0}))this._testAndFire("insert",g$(u),o)}_convertRemove(i,o,d,u){this.fire(`remove:${d}`,{position:i,length:o},u)}_convertAttribute(i,o,d,u,m){this._addConsumablesForRange(m.consumable,i,`attribute:${o}`);for(const y of i){const v={item:y.item,range:Xe._createFromPositionAndShift(y.previousPosition,y.length),attributeKey:o,attributeOldValue:d,attributeNewValue:u};this._testAndFire(`attribute:${o}`,v,m)}}_convertReinsert(i,o){const d=Array.from(i.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,d);for(const u of d.map(g$))this._testAndFire("insert",{...u,reconversion:!0},o)}_convertMarkerAdd(i,o,d){if(o.root.rootName=="$graveyard")return;const u=`addMarker:${i}`;if(d.consumable.add(o,u),this.fire(u,{markerName:i,markerRange:o},d),d.consumable.consume(o,u)){this._addConsumablesForRange(d.consumable,o,u);for(const m of o.getItems()){if(!d.consumable.test(m,u))continue;const y={item:m,range:Xe._createOn(m),markerName:i,markerRange:o};this.fire(u,y,d)}}}_convertMarkerRemove(i,o,d){o.root.rootName!="$graveyard"&&this.fire(`removeMarker:${i}`,{markerName:i,markerRange:o},d)}_reduceChanges(i){const o={changes:i};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(i,o){for(const d of o){const u=d.item;if(i.test(u,"insert")===null){i.add(u,"insert");for(const m of u.getAttributeKeys())i.add(u,"attribute:"+m)}}return i}_addConsumablesForRange(i,o,d){for(const u of o.getItems())i.add(u,d);return i}_addConsumablesForSelection(i,o,d){i.add(o,"selection");for(const u of d)i.add(o,"addMarker:"+u.name);for(const u of o.getAttributeKeys())i.add(o,"attribute:"+u);return i}_testAndFire(i,o,d){const u=(function(A,S){const D=S.item.is("element")?S.item.name:"$text";return`${A}:${D}`})(i,o),m=o.item.is("$textProxy")?d.consumable._getSymbolForTextProxy(o.item):o.item,y=this._firedEventsMap.get(d),v=y.get(m);if(v){if(v.has(u))return;v.add(u)}else y.set(m,new Set([u]));this.fire(u,o,d)}_testAndFireAddAttributes(i,o){const d={item:i,range:Xe._createOn(i)};for(const u of d.item.getAttributeKeys())d.attributeKey=u,d.attributeOldValue=null,d.attributeNewValue=d.item.getAttribute(u),this._testAndFire(`attribute:${u}`,d,o)}_createConversionApi(i,o=new Set,d={}){const u={...this._conversionApi,consumable:new Zle,writer:i,options:d,convertItem:m=>this._convertInsert(Xe._createOn(m),u),convertChildren:m=>this._convertInsert(Xe._createIn(m),u,{doNotAddConsumables:!0}),convertAttributes:m=>this._testAndFireAddAttributes(m,u),canReuseView:m=>!o.has(u.mapper.toModelElement(m))};return this._firedEventsMap.set(u,new Map),u}}function Gle(g,i,o){const d=i.getRange(),u=Array.from(g.getAncestors());return u.shift(),u.reverse(),!u.some((m=>{if(d.containsItem(m))return!!o.toViewElement(m).getCustomProperty("addHighlight")}))}function g$(g){return{item:g.item,range:Xe._createFromPositionAndShift(g.previousPosition,g.length)}}class zh extends pd{constructor(i){super(),this.parent=null,this._index=null,this._startOffset=null,this._attrs=fl(i)}get document(){return null}get index(){return this._index}get startOffset(){return this._startOffset}get offsetSize(){return 1}get endOffset(){return this.startOffset===null?null:this.startOffset+this.offsetSize}get nextSibling(){const i=this.index;return i!==null&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return i!==null&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.startOffset),o=o.parent;return i}getAncestors(i={}){const o=[];let d=i.includeSelf?this:this.parent;for(;d;)o[i.parentFirst?"push":"unshift"](d),d=d.parent;return o}getCommonAncestor(i,o={}){const d=this.getAncestors(o),u=i.getAncestors(o);let m=0;for(;d[m]==u[m]&&d[m];)m++;return m===0?null:d[m-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),d=i.getPath(),u=tt(o,d);switch(u){case"prefix":return!0;case"extension":return!1;default:return o[u]<d[u]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce(((o,d)=>(o[d[0]]=d[1],o)),{})),i}_clone(i){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,o){this._attrs.set(i,o)}_setAttributesTo(i){this._attrs=fl(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}zh.prototype.is=function(g){return g==="node"||g==="model:node"};class xa extends K(pd){constructor(...i){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],i.length&&this.setTo(...i)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let d=!1;for(const u of i._ranges)if(o.isEqual(u)){d=!0;break}if(!d)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new Xe(i.start,i.end)}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?new Xe(i.start,i.end):null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?new Xe(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(...i){let[o,d,u]=i;if(typeof d=="object"&&(u=d,d=void 0),o===null)this._setRanges([]);else if(o instanceof xa)this._setRanges(o.getRanges(),o.isBackward);else if(o&&typeof o.getRanges=="function")this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof Xe)this._setRanges([o],!!u&&!!u.backward);else if(o instanceof it)this._setRanges([new Xe(o)]);else if(o instanceof zh){const m=!!u&&!!u.backward;let y;if(d=="in")y=Xe._createIn(o);else if(d=="on")y=Xe._createOn(o);else{if(d===void 0)throw new F("model-selection-setto-required-second-parameter",[this,o]);y=new Xe(it._createAt(o,d))}this._setRanges([y],m)}else{if(!Ct(o))throw new F("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,u&&!!u.backward)}}_setRanges(i,o=!1){const d=Array.from(i),u=d.some((m=>{if(!(m instanceof Xe))throw new F("model-selection-set-ranges-not-range",[this,i]);return this._ranges.every((y=>!y.isEqual(m)))}));(d.length!==this._ranges.length||u)&&(this._replaceAllRanges(d),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(i,o){if(this.anchor===null)throw new F("model-selection-setfocus-no-ranges",[this,i]);const d=it._createAt(i,o);if(d.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),d.compareWith(u)=="before"?(this._pushRange(new Xe(d,u)),this._lastRangeBackward=!0):(this._pushRange(new Xe(u,d)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,o){this.getAttribute(i)!==o&&(this._attrs.set(i,o),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const i=new WeakSet;for(const o of this.getRanges()){const d=m$(o.start,i);Kle(d,o)&&(yield d);const u=o.getWalker();for(const y of u){const v=y.item;y.type=="elementEnd"&&Hle(v,i,o)?yield v:y.type=="elementStart"&&v.is("model:element")&&v.root.document.model.schema.isBlock(v)&&u.jumpTo(it._createAt(v,"end"))}const m=m$(o.end,i);Jle(m,o)&&(yield m)}}containsEntireContent(i=this.anchor.root){const o=it._createAt(i,0),d=it._createAt(i,"end");return o.isTouching(this.getFirstPosition())&&d.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new Xe(i.start,i.end))}_checkRange(i){for(let o=0;o<this._ranges.length;o++)if(i.isIntersecting(this._ranges[o]))throw new F("model-selection-range-intersects",[this,i],{addedRange:i,intersectingRange:this._ranges[o]})}_replaceAllRanges(i){this._removeAllRanges();for(const o of i)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function p$(g,i){return!i.has(g)&&(i.add(g),g.root.document.model.schema.isBlock(g)&&!!g.parent)}function Hle(g,i,o){return p$(g,i)&&TS(g,o)}function m$(g,i){const o=g.parent.root.document.model.schema,d=g.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const m=d.find((y=>!u&&(u=o.isLimit(y),!u&&p$(y,i))));return d.forEach((y=>i.add(y))),m}function TS(g,i){const o=(function(d){const u=d.root.document.model.schema;let m=d.parent;for(;m;){if(u.isBlock(m))return m;m=m.parent}})(g);return o?!i.containsRange(Xe._createOn(o),!0):!0}function Kle(g,i){return!!g&&(!(!i.isCollapsed&&!g.isEmpty)||!i.start.isTouching(it._createAt(g,g.maxOffset))&&TS(g,i))}function Jle(g,i){return!!g&&(!(!i.isCollapsed&&!g.isEmpty)||!i.end.isTouching(it._createAt(g,0))&&TS(g,i))}xa.prototype.is=function(g){return g==="selection"||g==="model:selection"};class ta extends K(Xe){constructor(i,o){super(i,o),ece.call(this)}detach(){this.stopListening()}toRange(){return new Xe(this.start,this.end)}static fromRange(i){return new ta(i.start,i.end)}}function ece(){this.listenTo(this.root.document.model,"applyOperation",((g,i)=>{const o=i[0];o.isDocumentOperation&&tce.call(this,o)}),{priority:"low"})}function tce(g){const i=this.getTransformedByOperation(g),o=Xe._createFromRanges(i),d=!o.isEqual(this),u=(function(y,v){switch(v.type){case"insert":return y.containsPosition(v.position);case"move":case"remove":case"reinsert":case"merge":return y.containsPosition(v.sourcePosition)||y.start.isEqual(v.sourcePosition)||y.containsPosition(v.targetPosition);case"split":return y.containsPosition(v.splitPosition)||y.containsPosition(v.insertionPosition)}return!1})(this,g);let m=null;if(d){o.root.rootName=="$graveyard"&&(m=g.type=="remove"?g.sourcePosition:g.deletionPosition);const y=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",y,{deletionPosition:m})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:m})}ta.prototype.is=function(g){return g==="liveRange"||g==="model:liveRange"||g=="range"||g==="model:range"};class un extends zh{constructor(i,o){super(o),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new un(this.data,this.getAttributes())}static fromJSON(i){return new un(i.data,i.attributes)}}un.prototype.is=function(g){return g==="$text"||g==="model:$text"||g==="text"||g==="model:text"||g==="node"||g==="model:node"};const Fb="selection:";class Do extends K(pd){constructor(i){super(),this._selection=new rce(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(i){this._selection.observeMarkers(i)}_setFocus(i,o){this._selection.setFocus(i,o)}_setTo(...i){this._selection.setTo(...i)}_setAttribute(i,o){this._selection.setAttribute(i,o)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return Fb+i}static _isStoreAttributeKey(i){return i.startsWith(Fb)}}Do.prototype.is=function(g){return g==="selection"||g=="model:selection"||g=="documentSelection"||g=="model:documentSelection"};class rce extends xa{constructor(i){super(),this.markers=new _o({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=i.model,this._document=i,this.listenTo(this._model,"applyOperation",((o,d)=>{const u=d[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((o,d,u,m)=>{this._updateMarker(d,m)})),this.listenTo(this._document,"change",((o,d)=>{(function(u,m){const y=u.document.differ;for(const v of y.getChanges()){if(v.type!="insert")continue;const A=v.position.parent;v.length===A.maxOffset&&u.enqueueChange(m,(S=>{const D=Array.from(A.getAttributeKeys()).filter((N=>N.startsWith(Fb)));for(const N of D)S.removeAttribute(N,A)}))}})(this._model,d)}))}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...i){super.setTo(...i),this._updateAttributes(!0),this.updateMarkers()}setFocus(i,o){super.setFocus(i,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(i,o){if(this._setAttribute(i,o)){const d=[i];this.fire("change:attribute",{attributeKeys:d,directChange:!0})}}removeAttribute(i){if(this._removeAttribute(i)){const o=[i];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}overrideGravity(){const i=z();return this._overriddenGravityRegister.add(i),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new F("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(i){this._observedMarkers.add(i),this.updateMarkers()}_replaceAllRanges(i){this._validateSelectionRanges(i),super._replaceAllRanges(i)}_popRange(){this._ranges.pop().detach()}_pushRange(i){const o=this._prepareRange(i);o&&this._ranges.push(o)}_validateSelectionRanges(i){for(const o of i)if(!this._document._validateSelectionRange(o))throw new F("document-selection-wrong-position",this,{range:o})}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const o=ta.fromRange(i);return o.on("change:range",((d,u,m)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=m.deletionPosition;const y=this._ranges.indexOf(o);this._ranges.splice(y,1),o.detach()}})),o}updateMarkers(){if(!this._observedMarkers.size)return;const i=[];let o=!1;for(const u of this._model.markers){const m=u.name.split(":",1)[0];if(!this._observedMarkers.has(m))continue;const y=u.getRange();for(const v of this.getRanges())y.containsRange(v,!v.isCollapsed)&&i.push(u)}const d=Array.from(this.markers);for(const u of i)this.markers.has(u)||(this.markers.add(u),o=!0);for(const u of Array.from(this.markers))i.includes(u)||(this.markers.remove(u),o=!0);o&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateMarker(i,o){const d=i.name.split(":",1)[0];if(!this._observedMarkers.has(d))return;let u=!1;const m=Array.from(this.markers),y=this.markers.has(i);if(o){let v=!1;for(const A of this.getRanges())if(o.containsRange(A,!A.isCollapsed)){v=!0;break}v&&!y?(this.markers.add(i),u=!0):!v&&y&&(this.markers.remove(i),u=!0)}else y&&(this.markers.remove(i),u=!0);u&&this.fire("change:marker",{oldMarkers:m,directChange:!1})}_updateAttributes(i){const o=fl(this._getSurroundingAttributes()),d=fl(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[m,y]of this._attributePriority)y=="low"&&(this._attrs.delete(m),this._attributePriority.delete(m));this._setAttributesTo(o);const u=[];for(const[m,y]of this.getAttributes())d.has(m)&&d.get(m)===y||u.push(m);for(const[m]of d)this.hasAttribute(m)||u.push(m);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(i,o,d=!0){const u=d?"normal":"low";return u=="low"&&this._attributePriority.get(i)=="normal"?!1:super.getAttribute(i)!==o&&(this._attrs.set(i,o),this._attributePriority.set(i,u),!0)}_removeAttribute(i,o=!0){const d=o?"normal":"low";return(d!="low"||this._attributePriority.get(i)!="normal")&&(this._attributePriority.set(i,d),!!super.hasAttribute(i)&&(this._attrs.delete(i),!0))}_setAttributesTo(i){const o=new Set;for(const[d,u]of this.getAttributes())i.get(d)!==u&&this._removeAttribute(d,!1);for(const[d,u]of i)this._setAttribute(d,u,!1)&&o.add(d);return o}*getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const o of i.getAttributeKeys())o.startsWith(Fb)&&(yield[o.substr(10),i.getAttribute(o)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),o=this._model.schema;if(i.root.rootName=="$graveyard")return null;let d=null;if(this.isCollapsed){const u=i.textNode?i.textNode:i.nodeBefore,m=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(d=Kg(u,o)),d||(d=Kg(m,o)),!this.isGravityOverridden&&!d){let y=u;for(;y&&!d;)y=y.previousSibling,d=Kg(y,o)}if(!d){let y=m;for(;y&&!d;)y=y.nextSibling,d=Kg(y,o)}d||(d=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const m of u){if(m.item.is("element")&&o.isObject(m.item)){d=Kg(m.item,o);break}if(m.type=="text"){d=m.item.getAttributes();break}}}return d}_fixGraveyardSelection(i){const o=this._model.schema.getNearestSelectionRange(i);o&&this._pushRange(o)}}function Kg(g,i){if(!g)return null;if(g instanceof Po||g instanceof un)return g.getAttributes();if(!i.isInline(g))return null;if(!i.isObject(g))return[];const o=[];for(const[d,u]of g.getAttributes())i.checkAttribute("$text",d)&&i.getAttributeProperties(d).copyFromObject!==!1&&o.push([d,u]);return o}class Jg{constructor(i){this._nodes=[],this._offsetToNode=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._offsetToNode.length}getNode(i){return this._nodes[i]||null}getNodeAtOffset(i){return this._offsetToNode[i]||null}getNodeIndex(i){return i.index}getNodeStartOffset(i){return i.startOffset}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const o=this._nodes[i];if(!o)throw new F("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(i){if(i==this._offsetToNode.length)return this._nodes.length;const o=this._offsetToNode[i];if(!o)throw new F("model-nodelist-offset-out-of-bounds",this,{offset:i,nodeList:this});return this.getNodeIndex(o)}_insertNodes(i,o){const d=[];for(const m of o){if(!(m instanceof zh))throw new F("model-nodelist-insertnodes-not-node",this);d.push(m)}let u=this.indexToOffset(i);dQ(this._nodes,d,i),dQ(this._offsetToNode,(function(m){const y=[];let v=0;for(const A of m)for(let S=0;S<A.offsetSize;S++)y[v++]=A;return y})(d),u);for(let m=i;m<this._nodes.length;m++)this._nodes[m]._index=m,this._nodes[m]._startOffset=u,u+=this._nodes[m].offsetSize}_removeNodes(i,o=1){if(o==0)return[];let d=this.indexToOffset(i);const u=this._nodes.splice(i,o),m=u[u.length-1],y=m.startOffset+m.offsetSize-d;this._offsetToNode.splice(d,y);for(const v of u)v._index=null,v._startOffset=null;for(let v=i;v<this._nodes.length;v++)this._nodes[v]._index=v,this._nodes[v]._startOffset=d,d+=this._nodes[v].offsetSize;return u}_removeNodesArray(i){if(i.length==0)return;for(const d of i)d._index=null,d._startOffset=null;this._nodes=this._nodes.filter((d=>d.index!==null)),this._offsetToNode=this._offsetToNode.filter((d=>d.index!==null));let o=0;for(let d=0;d<this._nodes.length;d++)this._nodes[d]._index=d,this._nodes[d]._startOffset=o,o+=this._nodes[d].offsetSize}toJSON(){return this._nodes.map((i=>i.toJSON()))}}class sn extends zh{constructor(i,o,d){super(o),this._children=new Jg,this.name=i,d&&this._insertChild(0,d)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(i){return this._children.getNode(i)}getChildAtOffset(i){return this._children.getNodeAtOffset(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let o=this;for(const d of i)o=o.getChildAtOffset(d);return o}findAncestor(i,o={}){let d=o.includeSelf?this:this.parent;for(;d;){if(d.name===i)return d;d=d.parent}return null}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const o of this._children)i.children.push(o.toJSON())}return i}_clone(i=!1){const o=i?(function(d){const u=[];for(const m of d)u.push(m._clone(!0));return u})(this._children):void 0;return new sn(this.name,this.getAttributes(),o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const d=(function(u){if(typeof u=="string")return[new un(u)];Ct(u)||(u=[u]);const m=[];for(const y of u)typeof y=="string"?m.push(new un(y)):y instanceof Po?m.push(new un(y.data,y.getAttributes())):m.push(y);return m})(o);for(const u of d)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(i,d)}_removeChildren(i,o=1){const d=this._children._removeNodes(i,o);for(const u of d)u.parent=null;return d}_removeChildrenArray(i){this._children._removeNodesArray(i);for(const o of i)o.parent=null}static fromJSON(i){let o;if(i.children){o=[];for(const d of i.children)d.name?o.push(sn.fromJSON(d)):o.push(un.fromJSON(d))}return new sn(i.name,i.attributes,o)}}sn.prototype.is=function(g,i){return i?i===this.name&&(g==="element"||g==="model:element"):g==="element"||g==="model:element"||g==="node"||g==="model:node"};class O${constructor(i){this._dispatchers=i}add(i){for(const o of this._dispatchers)i(o);return this}}class nce extends O${elementToElement(i){return this.add((function(o){const d=k$(o.model),u=ep(o.view,"container");return d.attributes.length&&(d.children=!0),m=>{m.on(`insert:${d.name}`,sce(u,_$(d)),{priority:o.converterPriority||"normal"}),(d.children||d.attributes.length)&&m.on("reduceChanges",v$(d),{priority:"low"})}})(i))}elementToStructure(i){return this.add((function(o){const d=k$(o.model),u=ep(o.view,"container");return d.children=!0,m=>{if(m._conversionApi.schema.checkChild(d.name,"$text"))throw new F("conversion-element-to-structure-disallowed-text",m,{elementName:d.name});var y,v;m.on(`insert:${d.name}`,(y=u,v=_$(d),(A,S,D)=>{if(!v(S.item,D.consumable,{preflight:!0}))return;const N=new Map;D.writer._registerSlotFactory((function(Y,ne,ue){return(me,Ae)=>{const Me=me.createContainerElement("$slot");let Ue=null;if(Ae==="children")Ue=Array.from(Y.getChildren());else{if(typeof Ae!="function")throw new F("conversion-slot-mode-unknown",ue.dispatcher,{modeOrFilter:Ae});Ue=Array.from(Y.getChildren()).filter((qe=>Ae(qe)))}return ne.set(Me,Ue),Me}})(S.item,N,D));const L=y(S.item,D,S);if(D.writer._clearSlotFactory(),!L)return;(function(Y,ne,ue){const me=Array.from(ne.values()).flat(),Ae=new Set(me);if(Ae.size!=me.length)throw new F("conversion-slot-filter-overlap",ue.dispatcher,{element:Y});if(Ae.size!=Y.childCount)throw new F("conversion-slot-filter-incomplete",ue.dispatcher,{element:Y})})(S.item,N,D),v(S.item,D.consumable);const q=D.mapper.toViewPosition(S.range.start);D.mapper.bindElements(S.item,L),D.writer.insert(q,L),D.convertAttributes(S.item),(function(Y,ne,ue,me){ue.mapper.on("modelToViewPosition",Ue,{priority:"highest"});let Ae=null,Me=null;for([Ae,Me]of ne)C$(Y,Me,ue,me),ue.writer.move(ue.writer.createRangeIn(Ae),ue.writer.createPositionBefore(Ae)),ue.writer.remove(Ae);function Ue(qe,Bt){const Ut=Bt.modelPosition.nodeAfter,Xr=Me.indexOf(Ut);Xr<0||(Bt.viewPosition=Bt.mapper.findPositionIn(Ae,Xr))}ue.mapper.off("modelToViewPosition",Ue)})(L,N,D,{reconversion:S.reconversion})}),{priority:o.converterPriority||"normal"}),m.on("reduceChanges",v$(d),{priority:"low"})}})(i))}attributeToElement(i){return this.add((function(o){o=Eo(o);let d=o.model;typeof d=="string"&&(d={key:d});let u=`attribute:${d.key}`;if(d.name&&(u+=":"+d.name),d.values)for(const y of d.values)o.view[y]=ep(o.view[y],"attribute");else o.view=ep(o.view,"attribute");const m=y$(o);return y=>{y.on(u,ice(m),{priority:o.converterPriority||"normal"})}})(i))}attributeToAttribute(i){return this.add((function(o){o=Eo(o);let d=o.model;typeof d=="string"&&(d={key:d});let u=`attribute:${d.key}`;if(d.name&&(u+=":"+d.name),d.values)for(const y of d.values)o.view[y]=w$(o.view[y]);else o.view=w$(o.view);const m=y$(o);return y=>{var v;y.on(u,(v=m,(A,S,D)=>{if(!D.consumable.test(S.item,A.name))return;const N=v(S.attributeOldValue,D,S),L=v(S.attributeNewValue,D,S);if(!N&&!L)return;D.consumable.consume(S.item,A.name);const q=D.mapper.toViewElement(S.item),Y=D.writer;if(!q)throw new F("conversion-attribute-to-attribute-on-text",D.dispatcher,S);if(S.attributeOldValue!==null&&N){let ne=N.value;N.key=="style"&&(ne=typeof N.value=="string"?new Vg(Y.document.stylesProcessor).setTo(N.value).getStylesEntries().map((([ue])=>ue)):Object.keys(N.value)),Y.removeAttribute(N.key,ne,q)}if(S.attributeNewValue!==null&&L){let ne=L.value;L.key=="style"&&typeof L.value=="string"&&(ne=Object.fromEntries(new Vg(Y.document.stylesProcessor).setTo(L.value).getStylesEntries())),Y.setAttribute(L.key,ne,!1,q)}}),{priority:o.converterPriority||"normal"})}})(i))}markerToElement(i){return this.add((function(o){const d=ep(o.view,"ui");return u=>{u.on(`addMarker:${o.model}`,ace(d),{priority:o.converterPriority||"normal"}),u.on(`removeMarker:${o.model}`,((m,y,v)=>{const A=v.mapper.markerNameToElements(y.markerName);if(A){for(const S of A)v.mapper.unbindElementFromMarkerName(S,y.markerName),v.writer.clear(v.writer.createRangeOn(S),S);v.writer.clearClonedElementsGroup(y.markerName),m.stop()}}),{priority:o.converterPriority||"normal"})}})(i))}markerToHighlight(i){return this.add((function(o){return d=>{var u;d.on(`addMarker:${o.model}`,(u=o.view,(m,y,v)=>{if(!y.item||!(y.item instanceof xa||y.item instanceof Do||y.item.is("$textProxy")))return;const A=ES(u,y,v);if(!A||!v.consumable.consume(y.item,m.name))return;const S=v.writer,D=x$(S,A),N=S.document.selection;if(y.item instanceof xa||y.item instanceof Do)S.wrap(N.getFirstRange(),D);else{const L=v.mapper.toViewRange(y.range),q=S.wrap(L,D);for(const Y of q.getItems())if(Y.is("attributeElement")&&Y.isSimilar(D)){v.mapper.bindElementToMarker(Y,y.markerName);break}}}),{priority:o.converterPriority||"normal"}),d.on(`addMarker:${o.model}`,(function(m){return(y,v,A)=>{if(!v.item||!(v.item instanceof sn))return;const S=ES(m,v,A);if(!S||!A.consumable.test(v.item,y.name))return;const D=A.mapper.toViewElement(v.item);if(D&&D.getCustomProperty("addHighlight")){A.consumable.consume(v.item,y.name);for(const N of Xe._createIn(v.item))A.consumable.consume(N.item,y.name);D.getCustomProperty("addHighlight")(D,S,A.writer),A.mapper.bindElementToMarker(D,v.markerName)}}})(o.view),{priority:o.converterPriority||"normal"}),d.on(`removeMarker:${o.model}`,(function(m){return(y,v,A)=>{if(v.markerRange.isCollapsed)return;const S=ES(m,v,A);if(!S)return;const D=x$(A.writer,S),N=A.mapper.markerNameToElements(v.markerName);if(N){for(const L of N)A.mapper.unbindElementFromMarkerName(L,v.markerName),L.is("attributeElement")?A.writer.unwrap(A.writer.createRangeOn(L),D):L.getCustomProperty("removeHighlight")(L,S.id,A.writer);A.writer.clearClonedElementsGroup(v.markerName),y.stop()}}})(o.view),{priority:o.converterPriority||"normal"})}})(i))}markerToData(i){return this.add((function(o){o=Eo(o);const d=o.model;let u=o.view;return u||(u=m=>({group:d,name:m.substr(o.model.length+1)})),m=>{var y;m.on(`addMarker:${d}`,(y=u,(v,A,S)=>{const D=y(A.markerName,S);if(!D)return;const N=A.markerRange;S.consumable.consume(N,v.name)&&(b$(N,!1,S,A,D),b$(N,!0,S,A,D),v.stop())}),{priority:o.converterPriority||"normal"}),m.on(`removeMarker:${d}`,(function(v){return(A,S,D)=>{const N=v(S.markerName,D);if(!N)return;const L=D.mapper.markerNameToElements(S.markerName);if(L){for(const Y of L)D.mapper.unbindElementFromMarkerName(Y,S.markerName),Y.is("containerElement")?(q(`data-${N.group}-start-before`,Y),q(`data-${N.group}-start-after`,Y),q(`data-${N.group}-end-before`,Y),q(`data-${N.group}-end-after`,Y)):D.writer.clear(D.writer.createRangeOn(Y),Y);D.writer.clearClonedElementsGroup(S.markerName),A.stop()}function q(Y,ne){if(ne.hasAttribute(Y)){const ue=new Set(ne.getAttribute(Y).split(","));ue.delete(N.name),ue.size==0?D.writer.removeAttribute(Y,ne):D.writer.setAttribute(Y,Array.from(ue).join(","),ne)}}}})(u),{priority:o.converterPriority||"normal"})}})(i))}}function x$(g,i){const o=g.createAttributeElement("span",i.attributes);return i.classes&&o._addClass(i.classes),typeof i.priority=="number"&&(o._priority=i.priority),o._id=i.id,o}function ice(g){return(i,o,d)=>{if(!d.consumable.test(o.item,i.name))return;const u=g(o.attributeOldValue,d,o),m=g(o.attributeNewValue,d,o);if(!u&&!m)return;d.consumable.consume(o.item,i.name);const y=d.writer,v=y.document.selection;if(o.item instanceof xa||o.item instanceof Do)y.wrap(v.getFirstRange(),m);else{let A=d.mapper.toViewRange(o.range);o.attributeOldValue!==null&&u&&(A=y.unwrap(A,u)),o.attributeNewValue!==null&&m&&y.wrap(A,m)}}}function sce(g,i=lce){return(o,d,u)=>{if(!i(d.item,u.consumable,{preflight:!0}))return;const m=g(d.item,u,d);if(!m)return;i(d.item,u.consumable);const y=u.mapper.toViewPosition(d.range.start);u.mapper.bindElements(d.item,m),u.writer.insert(y,m),u.convertAttributes(d.item),C$(m,d.item.getChildren(),u,{reconversion:d.reconversion})}}function ace(g){return(i,o,d)=>{o.isOpening=!0;const u=g(o,d);o.isOpening=!1;const m=g(o,d);if(!u||!m)return;const y=o.markerRange;if(y.isCollapsed&&!d.consumable.consume(y,i.name))return;for(const S of y)if(!d.consumable.consume(S.item,i.name))return;const v=d.mapper,A=d.writer;A.insert(v.toViewPosition(y.start),u),d.mapper.bindElementToMarker(u,o.markerName),y.isCollapsed||(A.insert(v.toViewPosition(y.end),m),d.mapper.bindElementToMarker(m,o.markerName)),i.stop()}}function b$(g,i,o,d,u){const m=i?g.start:g.end,y=m.nodeAfter&&m.nodeAfter.is("element")?m.nodeAfter:null,v=m.nodeBefore&&m.nodeBefore.is("element")?m.nodeBefore:null;if(y||v){let A,S;i&&y||!i&&!v?(A=y,S=!0):(A=v,S=!1);const D=o.mapper.toViewElement(A);if(D)return void(function(N,L,q,Y,ne,ue){const me=`data-${ue.group}-${L?"start":"end"}-${q?"before":"after"}`,Ae=N.hasAttribute(me)?N.getAttribute(me).split(","):[];Ae.unshift(ue.name),Y.writer.setAttribute(me,Ae.join(","),N),Y.mapper.bindElementToMarker(N,ne.markerName)})(D,i,S,o,d,u)}(function(A,S,D,N,L){const q=`${L.group}-${S?"start":"end"}`,Y=L.name?{name:L.name}:null,ne=D.writer.createUIElement(q,Y);D.writer.insert(A,ne),D.mapper.bindElementToMarker(ne,N.markerName)})(o.mapper.toViewPosition(m),i,o,d,u)}function k$(g){return typeof g=="string"&&(g={name:g}),{name:g.name,attributes:g.attributes?An(g.attributes):[],children:!!g.children}}function ep(g,i){return typeof g=="function"?g:(o,d)=>(function(u,m,y){typeof u=="string"&&(u={name:u});let v;const A=m.writer,S=Object.assign({},u.attributes);if(y=="container")v=A.createContainerElement(u.name,S);else if(y=="attribute"){const D={priority:u.priority||gd.DEFAULT_PRIORITY};v=A.createAttributeElement(u.name,S,D)}else v=A.createUIElement(u.name,S);if(u.styles){const D=Object.keys(u.styles);for(const N of D)A.setStyle(N,u.styles[N],v)}if(u.classes){const D=u.classes;if(typeof D=="string")A.addClass(D,v);else for(const N of D)A.addClass(N,v)}return v})(g,d,i)}function y$(g){return g.model.values?(i,o,d)=>{const u=g.view[i];return u?u(i,o,d):null}:g.view}function w$(g){return typeof g=="string"?i=>({key:g,value:i}):typeof g=="object"?g.value?()=>g:i=>({key:g.key,value:i}):g}function ES(g,i,o){const d=typeof g=="function"?g(i,o):g;return d?(d.priority||(d.priority=10),d.id||(d.id=i.markerName),d):null}function v$(g){const i=(function(o){return(d,u)=>{if(!d.is("element",o.name))return!1;if(u.type=="attribute"){if(o.attributes.includes(u.attributeKey))return!0}else if(o.children)return!0;return!1}})(g);return(o,d)=>{const u=[];d.reconvertedElements||(d.reconvertedElements=new Set);for(const m of d.changes){const y=m.type=="attribute"?m.range.start.nodeAfter:m.position.parent;if(y&&i(y,m)){if(!d.reconvertedElements.has(y)){d.reconvertedElements.add(y);const v=it._createBefore(y);let A=u.length;for(let S=u.length-1;S>=0;S--){const D=u[S],N=(D.type=="attribute"?D.range.start:D.position).compareWith(v);if(N=="before"||D.type=="remove"&&N=="same")break;A=S}u.splice(A,0,{type:"remove",name:y.name,position:v,length:1},{type:"reinsert",name:y.name,position:v,length:1})}}else u.push(m)}d.changes=u}}function _$(g){return(i,o,d={})=>{const u=["insert"];for(const m of g.attributes)i.hasAttribute(m)&&u.push(`attribute:${m}`);return!!u.every((m=>o.test(i,m)))&&(d.preflight||u.forEach((m=>o.consume(i,m))),!0)}}function C$(g,i,o,d){for(const u of i)oce(g.root,u,o,d)||o.convertItem(u)}function oce(g,i,o,d){const{writer:u,mapper:m}=o;if(!d.reconversion)return!1;const y=m.toViewElement(i);return!(!y||y.root==g)&&!!o.canReuseView(y)&&(u.move(u.createRangeOn(y),m.toViewPosition(it._createBefore(i))),!0)}function lce(g,i,{preflight:o}={}){return o?i.test(g,"insert"):i.consume(g,"insert")}function A$(g){const{schema:i,document:o}=g.model;for(const d of o.getRoots())if(d.isEmpty&&!i.checkChild(d,"$text")&&i.checkChild(d,"paragraph"))return g.insertElement("paragraph",d),!0;return!1}function S$(g,i,o){const d=o.createContext(g);return!!o.checkChild(d,"paragraph")&&!!o.checkChild(d.push("paragraph"),i)}function T$(g,i){const o=i.createElement("paragraph");return i.insert(o,g),i.createPositionAt(o,0)}class cce extends O${elementToElement(i){return this.add(E$(i))}elementToAttribute(i){return this.add((function(o){o=Eo(o),P$(o);const d=D$(o,!1),u=PS(o.view),m=u?`element:${u}`:"element";return y=>{y.on(m,d,{priority:o.converterPriority||"low"})}})(i))}attributeToAttribute(i){return this.add((function(o){o=Eo(o);let d=null;(typeof o.view=="string"||o.view.key)&&(d=(function(m){typeof m.view=="string"&&(m.view={key:m.view});const y=m.view.key,v=m.view.value===void 0?/[\s\S]*/:m.view.value;let A;return y=="class"||y=="style"?A={[y=="class"?"classes":"styles"]:v}:A={attributes:{[y]:v}},m.view.name&&(A.name=m.view.name),m.view=A,y})(o)),P$(o,d);const u=D$(o,!0);return m=>{m.on("element",u,{priority:o.converterPriority||"low"})}})(i))}elementToMarker(i){return this.add((function(o){const d=(function(u){return(m,y)=>{const v=typeof u=="string"?u:u(m,y);return y.writer.createElement("$marker",{"data-name":v})}})(o.model);return E$({...o,model:d})})(i))}dataToMarker(i){return this.add((function(o){o=Eo(o),o.model||(o.model=y=>y?o.view+":"+y:o.view);const d={view:o.view,model:o.model},u=DS(Q$(d,"start")),m=DS(Q$(d,"end"));return y=>{y.on(`element:${o.view}-start`,u,{priority:o.converterPriority||"normal"}),y.on(`element:${o.view}-end`,m,{priority:o.converterPriority||"normal"});const v=X.low,A=X.highest,S=X.get(o.converterPriority)/A;y.on("element",(function(D){return(N,L,q)=>{const Y=`data-${D.view}`;function ne(ue,me){for(const Ae of me){const Me=D.model(Ae,q),Ue=q.writer.createElement("$marker",{"data-name":Me});q.writer.insert(Ue,ue),L.modelCursor.isEqual(ue)?L.modelCursor=L.modelCursor.getShiftedBy(1):L.modelCursor=L.modelCursor._getTransformedByInsertion(ue,1),L.modelRange=L.modelRange._getTransformedByInsertion(ue,1)[0]}}(q.consumable.test(L.viewItem,{attributes:Y+"-end-after"})||q.consumable.test(L.viewItem,{attributes:Y+"-start-after"})||q.consumable.test(L.viewItem,{attributes:Y+"-end-before"})||q.consumable.test(L.viewItem,{attributes:Y+"-start-before"}))&&(L.modelRange||Object.assign(L,q.convertChildren(L.viewItem,L.modelCursor)),q.consumable.consume(L.viewItem,{attributes:Y+"-end-after"})&&ne(L.modelRange.end,L.viewItem.getAttribute(Y+"-end-after").split(",")),q.consumable.consume(L.viewItem,{attributes:Y+"-start-after"})&&ne(L.modelRange.end,L.viewItem.getAttribute(Y+"-start-after").split(",")),q.consumable.consume(L.viewItem,{attributes:Y+"-end-before"})&&ne(L.modelRange.start,L.viewItem.getAttribute(Y+"-end-before").split(",")),q.consumable.consume(L.viewItem,{attributes:Y+"-start-before"})&&ne(L.modelRange.start,L.viewItem.getAttribute(Y+"-start-before").split(",")))}})(d),{priority:v+S})}})(i))}}function E$(g){const i=DS(g=Eo(g)),o=PS(g.view),d=o?`element:${o}`:"element";return u=>{u.on(d,i,{priority:g.converterPriority||"normal"})}}function PS(g){return typeof g=="string"?g:typeof g=="object"&&typeof g.name=="string"?g.name:null}function DS(g){const i=new gl(g.view);return(o,d,u)=>{const m=i.match(d.viewItem);if(!m)return;const y=m.match;if(y.name=!0,!u.consumable.test(d.viewItem,y))return;const v=(function(A,S,D){return A instanceof Function?A(S,D):D.writer.createElement(A)})(g.model,d.viewItem,u);v&&u.safeInsert(v,d.modelCursor)&&(u.consumable.consume(d.viewItem,y),u.convertChildren(d.viewItem,v),u.updateConversionResult(v,d))}}function P$(g,i=null){const o=i===null||(m=>m.getAttribute(i)),d=typeof g.model!="object"?g.model:g.model.key,u=typeof g.model!="object"||g.model.value===void 0?o:g.model.value;g.model={key:d,value:u}}function D$(g,i){const o=new gl(g.view);return(d,u,m)=>{if(!u.modelRange&&i)return;const y=o.match(u.viewItem);if(!y||((function(D,N){const L=typeof D=="function"?D(N):D;return typeof L=="object"&&!PS(L)?!1:!L.classes&&!L.attributes&&!L.styles})(g.view,u.viewItem)?y.match.name=!0:delete y.match.name,!m.consumable.test(u.viewItem,y.match)))return;const v=g.model.key,A=typeof g.model.value=="function"?g.model.value(u.viewItem,m):g.model.value;if(A===null)return;u.modelRange||Object.assign(u,m.convertChildren(u.viewItem,u.modelCursor)),(function(D,N,L,q){let Y=!1;for(const ne of Array.from(D.getItems({shallow:L})))q.schema.checkAttribute(ne,N.key)&&(Y=!0,ne.hasAttribute(N.key)||q.writer.setAttribute(N.key,N.value,ne));return Y})(u.modelRange,{key:v,value:A},i,m)&&(m.consumable.test(u.viewItem,{name:!0})&&(y.match.name=!0),m.consumable.consume(u.viewItem,y.match))}}function Q$(g,i){return{view:`${g.view}-${i}`,model:(o,d)=>{const u=o.getAttribute("name"),m=g.model(u,d);return d.writer.createElement("$marker",{"data-name":m})}}}function dce(g){g.document.registerPostFixer((i=>(function(o,d){const u=d.document.selection,m=d.schema,y=[];let v=!1;for(const A of u.getRanges()){const S=$$(A,m);S&&!S.isEqual(A)?(y.push(S),v=!0):y.push(A)}return v&&o.setSelection((function(A){const S=[...A],D=new Set;let N=1;for(;N<S.length;){const L=S[N],q=S.slice(0,N);for(const[Y,ne]of q.entries())if(!D.has(Y)){if(L.isEqual(ne))D.add(Y);else if(L.isIntersecting(ne)){D.add(Y),D.add(N);const ue=L.getJoined(ne);S.push(ue)}}N++}return S.filter(((L,q)=>!D.has(q)))})(y),{backward:u.isBackward}),!1})(i,g)))}function $$(g,i){return g.isCollapsed?(function(o,d){const u=o.start,m=d.getNearestSelectionRange(u);if(!m){const v=u.getAncestors().reverse().find((A=>d.isObject(A)));return v?Xe._createOn(v):null}if(!m.isCollapsed)return m;const y=m.start;return u.isEqual(y)?null:new Xe(y)})(g,i):(function(o,d){const{start:u,end:m}=o,y=d.checkChild(u,"$text"),v=d.checkChild(m,"$text"),A=d.getLimitElement(u),S=d.getLimitElement(m);if(A===S){if(y&&v)return null;if((function(L,q,Y){const ne=L.nodeAfter&&!Y.isLimit(L.nodeAfter)||Y.checkChild(L,"$text"),ue=q.nodeBefore&&!Y.isLimit(q.nodeBefore)||Y.checkChild(q,"$text");return ne||ue})(u,m,d)){const L=u.nodeAfter&&d.isSelectable(u.nodeAfter)?null:d.getNearestSelectionRange(u,"forward"),q=m.nodeBefore&&d.isSelectable(m.nodeBefore)?null:d.getNearestSelectionRange(m,"backward"),Y=L?L.start:u,ne=q?q.end:m;return new Xe(Y,ne)}}const D=A&&!A.is("rootElement"),N=S&&!S.is("rootElement");if(D||N){const L=u.nodeAfter&&m.nodeBefore&&u.nodeAfter.parent===m.nodeBefore.parent,q=D&&(!L||!R$(u.nodeAfter,d)),Y=N&&(!L||!R$(m.nodeBefore,d));let ne=u,ue=m;return q&&(ne=it._createBefore(M$(A,d))),Y&&(ue=it._createAfter(M$(S,d))),new Xe(ne,ue)}return null})(g,i)}function M$(g,i){let o=g,d=o;for(;i.isLimit(d)&&d.parent;)o=d,d=d.parent;return o}function R$(g,i){return g&&i.isSelectable(g)}class hce extends Ge(){constructor(i,o){super(),this.model=i,this.view=new Wle(o),this.mapper=new u$,this.downcastDispatcher=new f$({mapper:this.mapper,schema:i.schema});const d=this.model.document,u=d.selection,m=this.model.markers;var y,v,A;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(d,"change",(()=>{this.view.change((S=>{this.downcastDispatcher.convertChanges(d.differ,m,S),this.downcastDispatcher.convertSelection(u,m,S)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(function(S,D){return(N,L)=>{const q=L.newSelection,Y=[];for(const ue of q.getRanges())Y.push(D.toModelRange(ue));const ne=S.createSelection(Y,{backward:q.isBackward});ne.isEqual(S.document.selection)||S.change((ue=>{ue.setSelection(ne)}))}})(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(y=this.mapper,v=this.model.schema,A=this.view,(S,D)=>{if(!A.document.isComposing||p.isAndroid)for(let N=0;N<D.targetRanges.length;N++){const L=D.targetRanges[N],q=y.toModelRange(L),Y=$$(q,v);Y&&!Y.isEqual(q)&&(D.targetRanges[N]=y.toViewRange(Y))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((S,D,N)=>{if(!N.consumable.consume(D.item,S.name))return;const L=N.writer,q=N.mapper.toViewPosition(D.range.start),Y=L.createText(D.item.data);L.insert(q,Y)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((S,D,N)=>{N.convertAttributes(D.item),D.reconversion||!D.item.is("element")||D.item.isEmpty||N.convertChildren(D.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((S,D,N)=>{const L=N.mapper.toViewPosition(D.position),q=D.position.getShiftedBy(D.length),Y=N.mapper.toViewPosition(q,{isPhantom:!0}),ne=N.writer.createRange(L,Y),ue=N.writer.remove(ne.getTrimmed());for(const me of N.writer.createRangeIn(ue).getItems())N.mapper.unbindViewElement(me,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((S,D,N)=>{const L=N.writer,q=L.document.selection;for(const Y of q.getRanges())Y.isCollapsed&&Y.end.parent.isAttached()&&N.writer.mergeAttributes(Y.start);L.setSelection(null)})),this.downcastDispatcher.on("selection",((S,D,N)=>{const L=D.selection;if(L.isCollapsed||!N.consumable.consume(L,"selection"))return;const q=[];for(const Y of L.getRanges())q.push(N.mapper.toViewRange(Y));N.writer.setSelection(q,{backward:L.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((S,D,N)=>{const L=D.selection;if(!L.isCollapsed||!N.consumable.consume(L,"selection"))return;const q=N.writer,Y=L.getFirstPosition(),ne=N.mapper.toViewPosition(Y),ue=q.breakAttributes(ne);q.setSelection(ue)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((S=>{if(S.rootName=="$graveyard")return null;const D=new NQ(this.view.document,S.name);return D.rootName=S.rootName,this.mapper.bindElements(S,D),D}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(i){const o=typeof i=="string"?i:i.name,d=this.model.markers.get(o);if(!d)throw new F("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change((()=>{this.model.markers._refresh(d)}))}reconvertItem(i){this.model.change((()=>{this.model.document.differ._refreshItem(i)}))}}class uce extends Ge(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties=Object.create(null),this._customChildChecks=new Map,this._customAttributeChecks=new Map,this._genericCheckSymbol=Symbol("$generic"),this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((i,o)=>{o[0]=new md(o[0])}),{priority:"highest"}),this.on("checkChild",((i,o)=>{o[0]=new md(o[0]),o[1]=this.getDefinition(o[1])}),{priority:"highest"})}register(i,o){if(this._sourceDefinitions[i])throw new F("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},o)],this._clearCache()}extend(i,o){if(!this._sourceDefinitions[i])throw new F("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let o;return o=typeof i=="string"?i:"is"in i&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[o]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const o=this.getDefinition(i);return!(!o||!o.isBlock)}isLimit(i){const o=this.getDefinition(i);return!!o&&!(!o.isLimit&&!o.isObject)}isObject(i){const o=this.getDefinition(i);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(i){const o=this.getDefinition(i);return!(!o||!o.isInline)}isSelectable(i){const o=this.getDefinition(i);return!!o&&!(!o.isSelectable&&!o.isObject)}isContent(i){const o=this.getDefinition(i);return!!o&&!(!o.isContent&&!o.isObject)}checkChild(i,o){return!!o&&this._checkContextMatch(i,o)}checkAttribute(i,o){const d=this.getDefinition(i.last);if(!d)return!1;const u=this._evaluateAttributeChecks(i,o);return u!==void 0?u:d.allowAttributes.includes(o)}checkMerge(i,o){if(i instanceof it){const d=i.nodeBefore,u=i.nodeAfter;if(!(d instanceof sn))throw new F("schema-check-merge-no-element-before",this);if(!(u instanceof sn))throw new F("schema-check-merge-no-element-after",this);return this.checkMerge(d,u)}if(this.isLimit(i)||this.isLimit(o))return!1;for(const d of o.getChildren())if(!this.checkChild(i,d))return!1;return!0}addChildCheck(i,o){const d=o!==void 0?o:this._genericCheckSymbol,u=this._customChildChecks.get(d)||[];u.push(i),this._customChildChecks.set(d,u)}addAttributeCheck(i,o){const d=o!==void 0?o:this._genericCheckSymbol,u=this._customAttributeChecks.get(d)||[];u.push(i),this._customAttributeChecks.set(d,u)}setAttributeProperties(i,o){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),o)}getAttributeProperties(i){return this._attributeProperties[i]||Object.create(null)}getLimitElement(i){let o;for(i instanceof it?o=i.parent:o=(i instanceof Xe?[i]:Array.from(i.getRanges())).reduce(((d,u)=>{const m=u.getCommonAncestor();return d?d.getCommonAncestor(m,{includeSelf:!0}):m}),null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(i,o){if(i.isCollapsed){const d=[...i.getFirstPosition().getAncestors(),new un("",i.getAttributes())];return this.checkAttribute(d,o)}{const d=i.getRanges();for(const u of d)for(const m of u)if(this.checkAttribute(m.item,o))return!0}return!1}*getValidRanges(i,o){i=(function*(d){for(const u of d)yield*u.getMinimalFlatRanges()})(i);for(const d of i)yield*this._getValidRangesForRange(d,o)}getNearestSelectionRange(i,o="both"){if(i.root.rootName=="$graveyard")return null;if(this.checkChild(i,"$text"))return new Xe(i);let d,u;const m=i.getAncestors().reverse().find((y=>this.isLimit(y)))||i.root;o!="both"&&o!="backward"||(d=new ac({boundaries:Xe._createIn(m),startPosition:i,direction:"backward"})),o!="both"&&o!="forward"||(u=new ac({boundaries:Xe._createIn(m),startPosition:i}));for(const y of(function*(v,A){let S=!1;for(;!S;){if(S=!0,v){const D=v.next();D.done||(S=!1,yield{walker:v,value:D.value})}if(A){const D=A.next();D.done||(S=!1,yield{walker:A,value:D.value})}}})(d,u)){const v=y.walker==d?"elementEnd":"elementStart",A=y.value;if(A.type==v&&this.isObject(A.item))return Xe._createOn(A.item);if(this.checkChild(A.nextPosition,"$text"))return new Xe(A.nextPosition)}return null}findAllowedParent(i,o){let d=i.parent;for(;d;){if(this.checkChild(d,o))return d;if(this.isLimit(d))return null;d=d.parent}return null}setAllowedAttributes(i,o,d){const u=d.model;for(const[m,y]of Object.entries(o))u.schema.checkAttribute(i,m)&&d.setAttribute(m,y,i)}removeDisallowedAttributes(i,o){for(const d of i)if(d.is("$text"))N$(this,d,o);else{const u=Xe._createIn(d).getPositions();for(const m of u)N$(this,m.nodeBefore||m.parent,o)}}getAttributesWithProperty(i,o,d){const u={};for(const[m,y]of i.getAttributes()){const v=this.getAttributeProperties(m);v[o]!==void 0&&(d!==void 0&&d!==v[o]||(u[m]=y))}return u}createContext(i){return new md(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},o=this._sourceDefinitions,d=Object.keys(o);for(const m of d)i[m]=fce(o[m],m);const u=Object.values(i);for(const m of u)gce(i,m),pce(i,m),mce(i,m),Oce(i,m);for(const m of u)xce(i,m);for(const m of u)bce(i,m);for(const m of u)kce(i,m);for(const m of u)yce(i,m);for(const m of u)wce(i,m);this._compiledDefinitions=(function(m){const y={};for(const v of Object.values(m))y[v.name]={name:v.name,isBlock:!!v.isBlock,isContent:!!v.isContent,isInline:!!v.isInline,isLimit:!!v.isLimit,isObject:!!v.isObject,isSelectable:!!v.isSelectable,allowIn:Array.from(v.allowIn).filter((A=>!!m[A])),allowChildren:Array.from(v.allowChildren).filter((A=>!!m[A])),allowAttributes:Array.from(v.allowAttributes)};return y})(i)}_checkContextMatch(i,o){const d=i.last;let u=this._evaluateChildChecks(i,o);if(u=u!==void 0?u:o.allowIn.includes(d.name),!u)return!1;const m=this.getDefinition(d),y=i.trimLast();return!!m&&(y.length==0||this._checkContextMatch(y,m))}_evaluateChildChecks(i,o){const d=this._customChildChecks.get(this._genericCheckSymbol)||[],u=this._customChildChecks.get(o.name)||[];for(const m of[...d,...u]){const y=m(i,o);if(y!==void 0)return y}}_evaluateAttributeChecks(i,o){const d=this._customAttributeChecks.get(this._genericCheckSymbol)||[],u=this._customAttributeChecks.get(o)||[];for(const m of[...d,...u]){const y=m(i,o);if(y!==void 0)return y}}*_getValidRangesForRange(i,o){let d=i.start,u=i.start;for(const m of i.getItems({shallow:!0}))m.is("element")&&(yield*this._getValidRangesForRange(Xe._createIn(m),o)),this.checkAttribute(m,o)||(d.isEqual(u)||(yield new Xe(d,u)),d=it._createAfter(m)),u=it._createAfter(m);d.isEqual(u)||(yield new Xe(d,u))}findOptimalInsertionRange(i,o){const d=i.getSelectedElement();if(d&&this.isObject(d)&&!this.isInline(d))return o=="before"||o=="after"?new Xe(it._createAt(d,o)):Xe._createOn(d);const u=Ti(i.getSelectedBlocks());if(!u)return new Xe(i.focus);if(u.isEmpty)return new Xe(it._createAt(u,0));const m=it._createAfter(u);return i.focus.isTouching(m)?new Xe(m):new Xe(it._createBefore(u))}}class md{constructor(i){if(i instanceof md)return i;let o;o=typeof i=="string"?[i]:Array.isArray(i)?i:i.getAncestors({includeSelf:!0}),this._items=o.map(vce)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const o=new md([i]);return o._items=[...this._items,...o._items],o}trimLast(){const i=new md([]);return i._items=this._items.slice(0,-1),i}getItem(i){return this._items[i]}*getNames(){yield*this._items.map((i=>i.name))}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function fce(g,i){const o={name:i,allowIn:new Set,allowChildren:new Set,disallowIn:new Set,disallowChildren:new Set,allowContentOf:new Set,allowWhere:new Set,allowAttributes:new Set,disallowAttributes:new Set,allowAttributesOf:new Set,inheritTypesFrom:new Set};return(function(d,u){for(const m of d){const y=Object.keys(m).filter((v=>v.startsWith("is")));for(const v of y)u[v]=!!m[v]}})(g,o),ml(g,o,"allowIn"),ml(g,o,"allowChildren"),ml(g,o,"disallowIn"),ml(g,o,"disallowChildren"),ml(g,o,"allowContentOf"),ml(g,o,"allowWhere"),ml(g,o,"allowAttributes"),ml(g,o,"disallowAttributes"),ml(g,o,"allowAttributesOf"),ml(g,o,"inheritTypesFrom"),(function(d,u){for(const m of d){const y=m.inheritAllFrom;y&&(u.allowContentOf.add(y),u.allowWhere.add(y),u.allowAttributesOf.add(y),u.inheritTypesFrom.add(y))}})(g,o),o}function gce(g,i){for(const o of i.allowIn){const d=g[o];d?d.allowChildren.add(i.name):i.allowIn.delete(o)}}function pce(g,i){for(const o of i.allowChildren){const d=g[o];d?d.allowIn.add(i.name):i.allowChildren.delete(o)}}function mce(g,i){for(const o of i.disallowIn){const d=g[o];d?d.disallowChildren.add(i.name):i.disallowIn.delete(o)}}function Oce(g,i){for(const o of i.disallowChildren){const d=g[o];d?d.disallowIn.add(i.name):i.disallowChildren.delete(o)}}function xce(g,i){for(const o of i.disallowChildren)i.allowChildren.delete(o);for(const o of i.disallowIn)i.allowIn.delete(o);for(const o of i.disallowAttributes)i.allowAttributes.delete(o)}function bce(g,i){for(const o of i.allowContentOf){const d=g[o];d&&(d.disallowChildren.forEach((u=>{i.allowChildren.has(u)||(i.disallowChildren.add(u),g[u].disallowIn.add(i.name))})),d.allowChildren.forEach((u=>{i.disallowChildren.has(u)||(i.allowChildren.add(u),g[u].allowIn.add(i.name))})))}}function kce(g,i){for(const o of i.allowWhere){const d=g[o];d&&(d.disallowIn.forEach((u=>{i.allowIn.has(u)||(i.disallowIn.add(u),g[u].disallowChildren.add(i.name))})),d.allowIn.forEach((u=>{i.disallowIn.has(u)||(i.allowIn.add(u),g[u].allowChildren.add(i.name))})))}}function yce(g,i){for(const o of i.allowAttributesOf){const d=g[o];if(!d)return;d.allowAttributes.forEach((u=>{i.disallowAttributes.has(u)||i.allowAttributes.add(u)}))}}function wce(g,i){for(const o of i.inheritTypesFrom){const d=g[o];if(d){const u=Object.keys(d).filter((m=>m.startsWith("is")));for(const m of u)m in i||(i[m]=d[m])}}}function ml(g,i,o){for(const d of g){let u=d[o];typeof u=="string"&&(u=[u]),Array.isArray(u)&&u.forEach((m=>i[o].add(m)))}}function vce(g){return typeof g=="string"||g.is("documentFragment")?{name:typeof g=="string"?g:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:g.is("element")?g.name:"$text",*getAttributeKeys(){yield*g.getAttributeKeys()},getAttribute:i=>g.getAttribute(i)}}function N$(g,i,o){for(const d of i.getAttributeKeys())g.checkAttribute(i,d)||o.removeAttribute(d,i)}class _ce extends K(){constructor(i){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...i,consumable:null,writer:null,store:null,convertItem:(o,d)=>this._convertItem(o,d),convertChildren:(o,d)=>this._convertChildren(o,d),safeInsert:(o,d)=>this._safeInsert(o,d),updateConversionResult:(o,d)=>this._updateConversionResult(o,d),splitToAllowedParent:(o,d)=>this._splitToAllowedParent(o,d),getSplitParts:o=>this._getSplitParts(o),keepEmptyElement:o=>this._keepEmptyElement(o)}}convert(i,o,d=["$root"]){this.fire("viewCleanup",i),this._modelCursor=(function(y,v){let A;for(const S of new md(y)){const D={};for(const L of S.getAttributeKeys())D[L]=S.getAttribute(L);const N=v.createElement(S.name,D);A&&v.insert(N,A),A=it._createAt(N,0)}return A})(d,o),this.conversionApi.writer=o,this.conversionApi.consumable=Ab.createFrom(i),this.conversionApi.store={};const{modelRange:u}=this._convertItem(i,this._modelCursor),m=o.createDocumentFragment();if(u){this._removeEmptyElements();const y=this._modelCursor.parent,v=y._removeChildren(0,y.childCount);m._insertChild(0,v),m.markers=(function(A,S){const D=new Set,N=new Map,L=Xe._createIn(A).getItems();for(const q of L)q.is("element","$marker")&&D.add(q);for(const q of D){const Y=q.getAttribute("data-name"),ne=S.createPositionBefore(q);N.has(Y)?N.get(Y).end=ne.clone():N.set(Y,new Xe(ne.clone())),S.remove(q)}return N})(m,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,m}_convertItem(i,o){const d={viewItem:i,modelCursor:o,modelRange:null};if(i.is("element")?this.fire(`element:${i.name}`,d,this.conversionApi):i.is("$text")?this.fire("text",d,this.conversionApi):this.fire("documentFragment",d,this.conversionApi),d.modelRange&&!(d.modelRange instanceof Xe))throw new F("view-conversion-dispatcher-incorrect-result",this);return{modelRange:d.modelRange,modelCursor:d.modelCursor}}_convertChildren(i,o){let d=o.is("position")?o:it._createAt(o,0);const u=new Xe(d);for(const m of Array.from(i.getChildren())){const y=this._convertItem(m,d);y.modelRange instanceof Xe&&(u.end=y.modelRange.end,d=y.modelCursor)}return{modelRange:u,modelCursor:d}}_safeInsert(i,o){const d=this._splitToAllowedParent(i,o);return!!d&&(this.conversionApi.writer.insert(i,d.position),!0)}_updateConversionResult(i,o){const d=this._getSplitParts(i),u=this.conversionApi.writer;o.modelRange||(o.modelRange=u.createRange(u.createPositionBefore(i),u.createPositionAfter(d[d.length-1])));const m=this._cursorParents.get(i);o.modelCursor=m?u.createPositionAt(m,0):o.modelRange.end}_splitToAllowedParent(i,o){const{schema:d,writer:u}=this.conversionApi;let m=d.findAllowedParent(o,i);if(m){if(m===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(m)&&(m=null)}if(!m)return S$(o,i,d)?{position:T$(o,u)}:null;const y=this.conversionApi.writer.split(o,m),v=[];for(const S of y.range.getWalker())if(S.type=="elementEnd")v.push(S.item);else{const D=v.pop(),N=S.item;this._registerSplitPair(D,N)}const A=y.range.end.parent;return this._cursorParents.set(i,A),{position:y.position,cursorParent:A}}_registerSplitPair(i,o){this._splitParts.has(i)||this._splitParts.set(i,[i]);const d=this._splitParts.get(i);this._splitParts.set(o,d),d.push(o)}_getSplitParts(i){let o;return o=this._splitParts.has(i)?this._splitParts.get(i):[i],o}_keepEmptyElement(i){this._emptyElementsToKeep.add(i)}_removeEmptyElements(){const i=new Map;for(const o of this._splitParts.keys())if(o.isEmpty&&!this._emptyElementsToKeep.has(o)){const d=i.get(o.parent)||[];d.push(o),this._splitParts.delete(o),i.set(o.parent,d)}for(const[o,d]of i)o._removeChildrenArray(d);i.size&&this._removeEmptyElements()}}class Cce{getHtml(i){const o=c.document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(i),o.innerHTML}}class Ace{constructor(i){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Mb(i,{renderingMode:"data"}),this.htmlWriter=new Cce}toData(i){const o=this.domConverter.viewToDom(i);return this.htmlWriter.getHtml(o)}toView(i){const o=this._toDom(i);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(i){this.domConverter.registerRawContentMatcher(i)}useFillerType(i){this.domConverter.blockFillerMode=i=="marked"?"markedNbsp":"nbsp"}_toDom(i){/<(?:html|body|head|meta)(?:\s[^>]*)?>/i.test(i.trim().slice(0,1e4))||(i=`<body>${i}</body>`);const o=this.domParser.parseFromString(i,"text/html"),d=o.createDocumentFragment(),u=o.body.childNodes;for(;u.length>0;)d.appendChild(u[0]);return d}}class Sce extends K(){constructor(i,o){super(),this.model=i,this.mapper=new u$,this.downcastDispatcher=new f$({mapper:this.mapper,schema:i.schema}),this.downcastDispatcher.on("insert:$text",((d,u,m)=>{if(!m.consumable.consume(u.item,d.name))return;const y=m.writer,v=m.mapper.toViewPosition(u.range.start),A=y.createText(u.item.data);y.insert(v,A)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((d,u,m)=>{m.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||m.convertChildren(u.item)}),{priority:"lowest"}),this.upcastDispatcher=new _ce({schema:i.schema}),this.viewDocument=new Pb(o),this.stylesProcessor=o,this.htmlProcessor=new Ace(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new IQ(this.viewDocument),this.upcastDispatcher.on("text",((d,u,{schema:m,consumable:y,writer:v})=>{let A=u.modelCursor;if(!y.test(u.viewItem))return;if(!m.checkChild(A,"$text")){if(!S$(A,"$text",m)||u.viewItem.data.trim().length==0)return;A=T$(A,v)}y.consume(u.viewItem);const S=v.createText(u.viewItem.data);v.insert(S,A),u.modelRange=v.createRange(A,A.getShiftedBy(S.offsetSize)),u.modelCursor=u.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((d,u,m)=>{if(!u.modelRange&&m.consumable.consume(u.viewItem,{name:!0})){const{modelRange:y,modelCursor:v}=m.convertChildren(u.viewItem,u.modelCursor);u.modelRange=y,u.modelCursor=v}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((d,u,m)=>{if(!u.modelRange&&m.consumable.consume(u.viewItem,{name:!0})){const{modelRange:y,modelCursor:v}=m.convertChildren(u.viewItem,u.modelCursor);u.modelRange=y,u.modelCursor=v}}),{priority:"lowest"}),Ge().prototype.decorate.call(this,"init"),Ge().prototype.decorate.call(this,"set"),Ge().prototype.decorate.call(this,"get"),Ge().prototype.decorate.call(this,"toView"),Ge().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},A$)}),{priority:"lowest"})}get(i={}){const{rootName:o="main",trim:d="empty"}=i;if(!this._checkIfRootsExists([o]))throw new F("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(o);return u.isAttached()||V("datacontroller-get-detached-root",this),d!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,i):""}stringify(i,o={}){const d=this.toView(i,o);return this.processor.toData(d)}toView(i,o={}){const d=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const m=Xe._createIn(i),y=new jh(d);this.mapper.bindElements(i,y);const v=i.is("documentFragment")?i.markers:(function(A){const S=[],D=A.root.document;if(!D)return new Map;const N=Xe._createIn(A);for(const L of D.model.markers){const q=L.getRange(),Y=q.isCollapsed,ne=q.start.isEqual(N.start)||q.end.isEqual(N.end);if(Y&&ne)S.push([L.name,q]);else{const ue=N.getIntersection(q);ue&&S.push([L.name,ue])}}return S.sort((([L,q],[Y,ne])=>{if(q.end.compareWith(ne.start)!=="after")return 1;if(q.start.compareWith(ne.end)!=="before")return-1;switch(q.start.compareWith(ne.start)){case"before":return 1;case"after":return-1;default:switch(q.end.compareWith(ne.end)){case"before":return 1;case"after":return-1;default:return Y.localeCompare(L)}}})),new Map(S)})(i);return this.downcastDispatcher.convert(m,v,u,o),y}init(i){if(this.model.document.version)throw new F("datacontroller-init-document-not-empty",this);let o={};if(typeof i=="string"?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new F("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(d=>{for(const u of Object.keys(o)){const m=this.model.document.getRoot(u);d.insert(this.parse(o[u],m),m,0)}})),Promise.resolve()}set(i,o={}){let d={};if(typeof i=="string"?d.main=i:d=i,!this._checkIfRootsExists(Object.keys(d)))throw new F("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},(u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const m of Object.keys(d)){const y=this.model.document.getRoot(m);u.remove(u.createRangeIn(y)),u.insert(this.parse(d[m],y),y,0)}}))}parse(i,o="$root"){const d=this.processor.toView(i);return this.toModel(d,o)}toModel(i,o="$root"){return this.model.change((d=>this.upcastDispatcher.convert(i,d,o)))}addStyleProcessorRules(i){i(this.stylesProcessor)}registerRawContentMatcher(i){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(i),this.htmlProcessor.registerRawContentMatcher(i)}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const o of i)if(!this.model.document.getRoot(o))return!1;return!0}}class Tce{constructor(i,o){this._helpers=new Map,this._downcast=An(i),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=An(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,o){const d=this._downcast.includes(o);if(!this._upcast.includes(o)&&!d)throw new F("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:i,dispatchers:[o],isDowncast:d})}for(i){if(!this._helpers.has(i))throw new F("conversion-for-unknown-group",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:o,view:d}of QS(i))this.for("upcast").elementToElement({model:o,view:d,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:o,view:d}of QS(i))this.for("upcast").elementToAttribute({view:d,model:o,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:o,view:d}of QS(i))this.for("upcast").attributeToAttribute({view:d,model:o})}_createConversionHelpers({name:i,dispatchers:o,isDowncast:d}){if(this._helpers.has(i))throw new F("conversion-group-exists",this);const u=d?new nce(o):new cce(o);this._helpers.set(i,u)}}function*QS(g){if(g.model.values)for(const i of g.model.values){const o={key:g.model.key,value:i},d=g.view[i],u=g.upcastAlso?g.upcastAlso[i]:void 0;yield*B$(o,d,u)}else yield*B$(g.model,g.view,g.upcastAlso)}function*B$(g,i,o){if(yield{model:g,view:i},o)for(const d of An(o))yield{model:g,view:d}}class ba{constructor(i){this.baseVersion=i,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i,o){return new this(i.baseVersion)}}function $S(g,i){const o=j$(i),d=o.reduce(((y,v)=>y+v.offsetSize),0),u=g.parent;np(g);const m=g.index;return u._insertChild(m,o),rp(u,m+o.length),rp(u,m),new Xe(g,g.getShiftedBy(d))}function I$(g){if(!g.isFlat)throw new F("operation-utils-remove-range-not-flat",this);const i=g.start.parent;np(g.start),np(g.end);const o=i._removeChildren(g.start.index,g.end.index-g.start.index);return rp(i,g.start.index),o}function tp(g,i){if(!g.isFlat)throw new F("operation-utils-move-range-not-flat",this);const o=I$(g);return $S(i=i._getTransformedByDeletion(g.start,g.end.offset-g.start.offset),o)}function j$(g){const i=[];(function o(d){if(typeof d=="string")i.push(new un(d));else if(d instanceof Po)i.push(new un(d.data,d.getAttributes()));else if(d instanceof zh)i.push(d);else if(Ct(d))for(const u of d)o(u)})(g);for(let o=1;o<i.length;o++){const d=i[o],u=i[o-1];d instanceof un&&u instanceof un&&F$(d,u)&&(i.splice(o-1,2,new un(u.data+d.data,u.getAttributes())),o--)}return i}function rp(g,i){const o=g.getChild(i-1),d=g.getChild(i);if(o&&d&&o.is("$text")&&d.is("$text")&&F$(o,d)){const u=new un(o.data+d.data,o.getAttributes());g._removeChildren(i-1,2),g._insertChild(i-1,u)}}function np(g){const i=g.textNode,o=g.parent;if(i){const d=g.offset-i.startOffset,u=i.index;o._removeChildren(u,1);const m=new un(i.data.substr(0,d),i.getAttributes()),y=new un(i.data.substr(d),i.getAttributes());o._insertChild(u,[m,y])}}function F$(g,i){const o=g.getAttributes(),d=i.getAttributes();for(const u of o){if(u[1]!==i.getAttribute(u[0]))return!1;d.next()}return d.next().done}class zr extends ba{constructor(i,o,d,u){super(u),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=d.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Xe._createFromPositionAndShift(this.sourcePosition,this.howMany),Xe._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new zr(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new zr(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent,d=this.sourcePosition.offset,u=this.targetPosition.offset;if(d+this.howMany>i.maxOffset)throw new F("move-operation-nodes-do-not-exist",this);if(i===o&&d<u&&u<d+this.howMany)throw new F("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&tt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const m=this.sourcePosition.path.length-1;if(this.targetPosition.path[m]>=d&&this.targetPosition.path[m]<d+this.howMany)throw new F("move-operation-node-into-itself",this)}}_execute(){tp(Xe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,o){const d=it.fromJSON(i.sourcePosition,o),u=it.fromJSON(i.targetPosition,o);return new this(d,i.howMany,u,i.baseVersion)}}class Ei extends ba{constructor(i,o,d){super(d),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new Jg(j$(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const i=new Jg([...this.nodes].map((d=>d._clone(!0)))),o=new Ei(this.position,i,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const i=this.position.root.document.graveyard,o=new it(i,[0]);return new zr(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new F("insert-operation-position-invalid",this)}_execute(){const i=this.nodes;this.nodes=new Jg([...i].map((o=>o._clone(!0)))),$S(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,o){const d=[];for(const m of i.nodes)m.name?d.push(sn.fromJSON(m)):d.push(un.fromJSON(m));const u=new Ei(it.fromJSON(i.position,o),d,i.baseVersion);return u.shouldReceiveAttributes=i.shouldReceiveAttributes,u}}class rn extends ba{constructor(i,o,d,u,m){super(m),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=d,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new it(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xe(this.splitPosition,i)}get affectedSelectable(){const i=[Xe._createFromPositionAndShift(this.splitPosition,0),Xe._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&i.push(Xe._createFromPositionAndShift(this.graveyardPosition,0)),i}clone(){return new rn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.splitPosition.root.document.graveyard,o=new it(i,[0]);return new Ln(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent,o=this.splitPosition.offset;if(!i||i.maxOffset<o)throw new F("split-operation-position-invalid",this);if(!i.parent)throw new F("split-operation-split-in-root",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new F("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new F("split-operation-graveyard-position-invalid",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)tp(Xe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=i._clone();$S(this.insertionPosition,o)}tp(new Xe(it._createAt(i,this.splitPosition.offset),it._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const o=i.path.slice(0,-1);return o[o.length-1]++,new it(i.root,o,"toPrevious")}static fromJSON(i,o){const d=it.fromJSON(i.splitPosition,o),u=it.fromJSON(i.insertionPosition,o),m=i.graveyardPosition?it.fromJSON(i.graveyardPosition,o):null;return new this(d,i.howMany,u,m,i.baseVersion)}}class Ln extends ba{constructor(i,o,d,u,m){super(m),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=d.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new it(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xe(this.sourcePosition,i)}get affectedSelectable(){const i=this.sourcePosition.parent;return[Xe._createOn(i),Xe._createFromPositionAndShift(this.targetPosition,0),Xe._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Ln(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),d=new it(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new rn(i,this.howMany,d,this.graveyardPosition,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent;if(!i.parent)throw new F("merge-operation-source-position-invalid",this);if(!o.parent)throw new F("merge-operation-target-position-invalid",this);if(this.howMany!=i.maxOffset)throw new F("merge-operation-how-many-invalid",this)}_execute(){const i=this.sourcePosition.parent;tp(Xe._createIn(i),this.targetPosition),tp(Xe._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,o){const d=it.fromJSON(i.sourcePosition,o),u=it.fromJSON(i.targetPosition,o),m=it.fromJSON(i.graveyardPosition,o);return new this(d,i.howMany,u,m,i.baseVersion)}}class Es extends ba{constructor(i,o,d,u,m,y){super(y),this.name=i,this.oldRange=o?o.clone():null,this.newRange=d?d.clone():null,this.affectsData=m,this._markers=u}get type(){return"marker"}get affectedSelectable(){const i=[];return this.oldRange&&i.push(this.oldRange.clone()),this.newRange&&(this.oldRange?i.push(...this.newRange.getDifference(this.oldRange)):i.push(this.newRange.clone())),i}clone(){return new Es(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Es(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,o){return new Es(i.name,i.oldRange?Xe.fromJSON(i.oldRange,o):null,i.newRange?Xe.fromJSON(i.newRange,o):null,o.model.markers,i.affectsData,i.baseVersion)}}const L$=function(g,i){return Bb(g,i)};class Zn extends ba{constructor(i,o,d,u,m){super(m),this.range=i.clone(),this.key=o,this.oldValue=d===void 0?null:d,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Zn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Zn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new F("attribute-operation-range-not-flat",this);for(const i of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!L$(i.getAttribute(this.key),this.oldValue))throw new F("attribute-operation-wrong-old-value",this,{item:i,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&i.hasAttribute(this.key))throw new F("attribute-operation-attribute-exists",this,{node:i,key:this.key})}}_execute(){L$(this.oldValue,this.newValue)||(function(i,o,d){np(i.start),np(i.end);for(const u of i.getItems({shallow:!0})){const m=u.is("$textProxy")?u.textNode:u;d!==null?m._setAttribute(o,d):m._removeAttribute(o),rp(m.parent,m.index)}rp(i.end.parent,i.end.index)})(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,o){return new Zn(Xe.fromJSON(i.range,o),i.key,i.oldValue,i.newValue,i.baseVersion)}}class pi extends ba{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new pi(this.baseVersion)}getReversed(){return new pi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class ra extends ba{constructor(i,o,d,u){super(u),this.position=i,this.position.stickiness="toNext",this.oldName=o,this.newName=d}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new ra(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new ra(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof sn))throw new F("rename-operation-wrong-position",this);if(i.name!==this.oldName)throw new F("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,o){return new ra(it.fromJSON(i.position,o),i.oldName,i.newName,i.baseVersion)}}class oc extends ba{constructor(i,o,d,u,m){super(m),this.root=i,this.key=o,this.oldValue=d===void 0?null:d,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new oc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new oc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new F("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new F("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new F("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,o){if(!o.getRoot(i.root))throw new F("rootattribute-operation-fromjson-no-root",this,{rootName:i.root});return new oc(o.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Ol extends ba{constructor(i,o,d,u,m){super(m),this.rootName=i,this.elementName=o,this.isAdd=d,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ol(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ol(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const i=super.toJSON();return delete i._document,i}static get className(){return"RootOperation"}static fromJSON(i,o){return new Ol(i.rootName,i.elementName,i.isAdd,o,i.baseVersion)}}const Xa={};Xa[Zn.className]=Zn,Xa[Ei.className]=Ei,Xa[Es.className]=Es,Xa[zr.className]=zr,Xa[pi.className]=pi,Xa[ba.className]=ba,Xa[ra.className]=ra,Xa[oc.className]=oc,Xa[Ol.className]=Ol,Xa[rn.className]=rn,Xa[Ln.className]=Ln;class Ece{static fromJSON(i,o){return Xa[i.__className].fromJSON(i,o)}}const MS=new Map;function Mr(g,i,o){let d=MS.get(g);d||(d=new Map,MS.set(g,d)),d.set(i,o)}function Pce(g){return[g]}function z$(g,i,o={}){const d=(function(u,m){const y=MS.get(u);return y&&y.has(m)?y.get(m):Pce})(g.constructor,i.constructor);try{return d(g=g.clone(),i,o)}catch(u){throw u}}function Dce(g,i,o){g=g.slice(),i=i.slice();const d=new Qce(o.document,o.useRelations,o.forceWeakRemove);d.setOriginalOperations(g),d.setOriginalOperations(i);const u=d.originalOperations;if(g.length==0||i.length==0)return{operationsA:g,operationsB:i,originalOperations:u};const m=new WeakMap;for(const A of g)m.set(A,0);const y={nextBaseVersionA:g[g.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:g.length,originalOperationsBCount:i.length};let v=0;for(;v<g.length;){const A=g[v],S=m.get(A);if(S==i.length){v++;continue}const D=i[S],N=z$(A,D,d.getContext(A,D,!0)),L=z$(D,A,d.getContext(D,A,!1));d.updateRelation(A,D),d.setOriginalOperations(N,A),d.setOriginalOperations(L,D);for(const q of N)m.set(q,S+L.length);g.splice(v,1,...N),i.splice(S,1,...L)}return V$(g),V$(i),o.padWithNoOps,X$(g,y.nextBaseVersionB),X$(i,y.nextBaseVersionA),{operationsA:g,operationsB:i,originalOperations:u}}class Qce{constructor(i,o,d=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=o,this._forceWeakRemove=!!d,this._relations=new Map}setOriginalOperations(i,o=null){const d=o?this.originalOperations.get(o):null;for(const u of i)this.originalOperations.set(u,d||u)}updateRelation(i,o){if(i instanceof zr)o instanceof Ln?i.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,o,"insertAtSource"):i.targetPosition.isEqual(o.deletionPosition)?this._setRelation(i,o,"insertBetween"):i.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(i,o,"moveTargetAfter"):o instanceof zr&&(i.targetPosition.isEqual(o.sourcePosition)||i.targetPosition.isBefore(o.sourcePosition)?this._setRelation(i,o,"insertBefore"):this._setRelation(i,o,"insertAfter"));else if(i instanceof rn){if(o instanceof Ln)i.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(i,o,"splitBefore");else if(o instanceof zr)if(i.splitPosition.isEqual(o.sourcePosition)||i.splitPosition.isBefore(o.sourcePosition))this._setRelation(i,o,"splitBefore");else{const d=Xe._createFromPositionAndShift(o.sourcePosition,o.howMany);if(i.splitPosition.hasSameParentAs(o.sourcePosition)&&d.containsPosition(i.splitPosition)){const u=d.end.offset-i.splitPosition.offset,m=i.splitPosition.offset-d.start.offset;this._setRelation(i,o,{howMany:u,offset:m})}}}else if(i instanceof Ln)o instanceof Ln?(i.targetPosition.isEqual(o.sourcePosition)||this._setRelation(i,o,"mergeTargetNotMoved"),i.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(i,o,"mergeSourceNotMoved"),i.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeSameElement")):o instanceof rn?i.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(i,o,"splitAtSource"):o instanceof zr&&o.howMany>0&&(i.sourcePosition.isEqual(o.sourcePosition.getShiftedBy(o.howMany))&&this._setRelation(i,o,"mergeSourceAffected"),i.targetPosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeTargetWasBefore"));else if(i instanceof Es){const d=i.newRange;if(!d)return;if(o instanceof Ln){const u=d.start.isEqual(o.targetPosition),m=d.start.isEqual(o.deletionPosition),y=d.end.isEqual(o.deletionPosition),v=d.end.isEqual(o.sourcePosition);(u||m||y||v)&&this._setRelation(i,o,{wasInLeftElement:u,wasStartBeforeMergedElement:m,wasEndBeforeMergedElement:y,wasInRightElement:v})}}}getContext(i,o,d){return{aIsStrong:d,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(i,o):null,baRelation:this._useRelations?this._getRelation(o,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const o=this.originalOperations.get(i);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(i,o){const d=this.originalOperations.get(o),u=this._history.getUndoneOperation(d);if(!u)return null;const m=this.originalOperations.get(i),y=this._relations.get(m);return y&&y.get(u)||null}_setRelation(i,o,d){const u=this.originalOperations.get(i),m=this.originalOperations.get(o);let y=this._relations.get(u);y||(y=new Map,this._relations.set(u,y)),y.set(m,d)}}function X$(g,i){for(const o of g)o.baseVersion=i++}function V$(g){const i=new Map;for(let o=0;o<g.length;o++){const d=g[o];d instanceof Es&&(d.baseVersion!==-1?i.set(d.name,{op:d,ranges:d.newRange?[d.newRange]:[]}):(d.newRange&&i.get(d.name).ranges.push(d.newRange),g.splice(o,1),o--))}for(const{op:o,ranges:d}of i.values())d.length?o.newRange=Xe._createFromRanges(d):o.newRange=null}function U$(g,i,o){const d=g.nodes.getNode(0).getAttribute(i);if(d==o)return null;const u=new Xe(g.position,g.position.getShiftedBy(g.howMany));return new Zn(u,i,d,o,0)}function q$(g,i){return g.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)===null}function y0(g,i){const o=[];for(let d=0;d<g.length;d++){const u=g[d],m=new zr(u.start,u.end.offset-u.start.offset,i,0);o.push(m);for(let y=d+1;y<g.length;y++)g[y]=g[y]._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany)[0];i=i._getTransformedByMove(m.sourcePosition,m.targetPosition,m.howMany)}return o}Mr(Zn,Zn,((g,i,o)=>{if(g.key===i.key&&g.range.start.hasSameParentAs(i.range.start)){const d=g.range.getDifference(i.range).map((m=>new Zn(m,g.key,g.oldValue,g.newValue,0))),u=g.range.getIntersection(i.range);return u&&o.aIsStrong&&d.push(new Zn(u,i.key,i.newValue,g.newValue,0)),d.length==0?[new pi(0)]:d}return[g]})),Mr(Zn,Ei,((g,i)=>{if(g.range.start.hasSameParentAs(i.position)&&g.range.containsPosition(i.position)){const o=g.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map((d=>new Zn(d,g.key,g.oldValue,g.newValue,g.baseVersion)));if(i.shouldReceiveAttributes){const d=U$(i,g.key,g.oldValue);d&&o.unshift(d)}return o}return g.range=g.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[g]})),Mr(Zn,Ln,((g,i)=>{const o=[];g.range.start.hasSameParentAs(i.deletionPosition)&&(g.range.containsPosition(i.deletionPosition)||g.range.start.isEqual(i.deletionPosition))&&o.push(Xe._createFromPositionAndShift(i.graveyardPosition,1));const d=g.range._getTransformedByMergeOperation(i);return d.isCollapsed||o.push(d),o.map((u=>new Zn(u,g.key,g.oldValue,g.newValue,g.baseVersion)))})),Mr(Zn,zr,((g,i)=>(function(d,u){const m=Xe._createFromPositionAndShift(u.sourcePosition,u.howMany);let y=null,v=[];m.containsRange(d,!0)?y=d:d.start.hasSameParentAs(m.start)?(v=d.getDifference(m),y=d.getIntersection(m)):v=[d];const A=[];for(let S of v){S=S._getTransformedByDeletion(u.sourcePosition,u.howMany);const D=u.getMovedRangeStart(),N=S.start.hasSameParentAs(D),L=S._getTransformedByInsertion(D,u.howMany,N);A.push(...L)}return y&&A.push(y._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),A})(g.range,i).map((d=>new Zn(d,g.key,g.oldValue,g.newValue,g.baseVersion))))),Mr(Zn,rn,((g,i)=>{if(g.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||g.range.end.offset++,[g];if(g.range.start.hasSameParentAs(i.splitPosition)&&g.range.containsPosition(i.splitPosition)){const o=g.clone();return o.range=new Xe(i.moveTargetPosition.clone(),g.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),g.range.end=i.splitPosition.clone(),g.range.end.stickiness="toPrevious",[g,o]}return g.range=g.range._getTransformedBySplitOperation(i),[g]})),Mr(Ei,Zn,((g,i)=>{const o=[g];if(g.shouldReceiveAttributes&&g.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(g.position)){const d=U$(g,i.key,i.newValue);d&&o.push(d)}return o})),Mr(Ei,Ei,((g,i,o)=>(g.position.isEqual(i.position)&&o.aIsStrong||(g.position=g.position._getTransformedByInsertOperation(i)),[g]))),Mr(Ei,zr,((g,i)=>(g.position=g.position._getTransformedByMoveOperation(i),[g]))),Mr(Ei,rn,((g,i)=>(g.position=g.position._getTransformedBySplitOperation(i),[g]))),Mr(Ei,Ln,((g,i)=>(g.position=g.position._getTransformedByMergeOperation(i),[g]))),Mr(Es,Ei,((g,i)=>(g.oldRange&&(g.oldRange=g.oldRange._getTransformedByInsertOperation(i)[0]),g.newRange&&(g.newRange=g.newRange._getTransformedByInsertOperation(i)[0]),[g]))),Mr(Es,Es,((g,i,o)=>{if(g.name==i.name){if(!o.aIsStrong)return[new pi(0)];g.oldRange=i.newRange?i.newRange.clone():null}return[g]})),Mr(Es,Ln,((g,i)=>(g.oldRange&&(g.oldRange=g.oldRange._getTransformedByMergeOperation(i)),g.newRange&&(g.newRange=g.newRange._getTransformedByMergeOperation(i)),[g]))),Mr(Es,zr,((g,i)=>{const o=[g];if(g.oldRange&&(g.oldRange=Xe._createFromRanges(g.oldRange._getTransformedByMoveOperation(i))),g.newRange){const d=g.newRange._getTransformedByMoveOperation(i);g.newRange=d[0];for(let u=1;u<d.length;u++){const m=g.clone();m.oldRange=null,m.newRange=d[u],m.baseVersion=-1,o.push(m)}}return o})),Mr(Es,rn,((g,i,o)=>{if(g.oldRange&&(g.oldRange=g.oldRange._getTransformedBySplitOperation(i)),g.newRange){if(o.abRelation){const d=g.newRange._getTransformedBySplitOperation(i);return g.newRange.start.isEqual(i.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?g.newRange.start=it._createAt(i.insertionPosition):g.newRange.start.isEqual(i.splitPosition)&&!o.abRelation.wasInLeftElement?g.newRange.start=it._createAt(i.moveTargetPosition):g.newRange.start=d.start,g.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasInRightElement?g.newRange.end=it._createAt(i.moveTargetPosition):g.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?g.newRange.end=it._createAt(i.insertionPosition):g.newRange.end=d.end,[g]}g.newRange=g.newRange._getTransformedBySplitOperation(i)}return[g]})),Mr(Ln,Ei,((g,i)=>(g.sourcePosition.hasSameParentAs(i.position)&&(g.howMany+=i.howMany),g.sourcePosition=g.sourcePosition._getTransformedByInsertOperation(i),g.targetPosition=g.targetPosition._getTransformedByInsertOperation(i),[g]))),Mr(Ln,Ln,((g,i,o)=>{if(g.sourcePosition.isEqual(i.sourcePosition)&&g.targetPosition.isEqual(i.targetPosition)){if(o.bWasUndone){const d=i.graveyardPosition.path.slice();return d.push(0),g.sourcePosition=new it(i.graveyardPosition.root,d),g.howMany=0,[g]}return[new pi(0)]}if(g.sourcePosition.isEqual(i.sourcePosition)&&!g.targetPosition.isEqual(i.targetPosition)&&!o.bWasUndone&&o.abRelation!="splitAtSource"){const d=g.targetPosition.root.rootName=="$graveyard",u=i.targetPosition.root.rootName=="$graveyard";if(u&&!d||!(d&&!u)&&o.aIsStrong){const m=i.targetPosition._getTransformedByMergeOperation(i),y=g.targetPosition._getTransformedByMergeOperation(i);return[new zr(m,g.howMany,y,0)]}return[new pi(0)]}return g.sourcePosition.hasSameParentAs(i.targetPosition)&&(g.howMany+=i.howMany),g.sourcePosition=g.sourcePosition._getTransformedByMergeOperation(i),g.targetPosition=g.targetPosition._getTransformedByMergeOperation(i),g.graveyardPosition.isEqual(i.graveyardPosition)&&o.aIsStrong||(g.graveyardPosition=g.graveyardPosition._getTransformedByMergeOperation(i)),[g]})),Mr(Ln,zr,((g,i,o)=>{const d=Xe._createFromPositionAndShift(i.sourcePosition,i.howMany);return i.type=="remove"&&!o.bWasUndone&&g.deletionPosition.hasSameParentAs(i.sourcePosition)&&d.containsPosition(g.sourcePosition)?[new pi(0)]:(i.sourcePosition.getShiftedBy(i.howMany).isEqual(g.sourcePosition)?g.sourcePosition.stickiness="toNone":i.targetPosition.isEqual(g.sourcePosition)&&o.abRelation=="mergeSourceAffected"?g.sourcePosition.stickiness="toNext":i.sourcePosition.isEqual(g.targetPosition)?(g.targetPosition.stickiness="toNone",g.howMany-=i.howMany):i.targetPosition.isEqual(g.targetPosition)&&o.abRelation=="mergeTargetWasBefore"?(g.targetPosition.stickiness="toPrevious",g.howMany+=i.howMany):(g.sourcePosition.hasSameParentAs(i.targetPosition)&&(g.howMany+=i.howMany),g.sourcePosition.hasSameParentAs(i.sourcePosition)&&(g.howMany-=i.howMany)),g.sourcePosition=g.sourcePosition._getTransformedByMoveOperation(i),g.targetPosition=g.targetPosition._getTransformedByMoveOperation(i),g.sourcePosition.stickiness="toPrevious",g.targetPosition.stickiness="toNext",g.graveyardPosition.isEqual(i.targetPosition)||(g.graveyardPosition=g.graveyardPosition._getTransformedByMoveOperation(i)),[g])})),Mr(Ln,rn,((g,i,o)=>{if(i.graveyardPosition&&(g.graveyardPosition=g.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),g.deletionPosition.isEqual(i.graveyardPosition)&&(g.howMany=i.howMany)),g.targetPosition.isEqual(i.splitPosition)&&(i.graveyardPosition&&g.deletionPosition.isEqual(i.graveyardPosition)||o.abRelation=="mergeTargetNotMoved"))return g.sourcePosition=g.sourcePosition._getTransformedBySplitOperation(i),[g];if(g.sourcePosition.isEqual(i.splitPosition)){if(o.abRelation=="mergeSourceNotMoved")return g.howMany=0,g.targetPosition=g.targetPosition._getTransformedBySplitOperation(i),[g];if(o.abRelation=="mergeSameElement"||g.sourcePosition.offset>0)return g.sourcePosition=i.moveTargetPosition.clone(),g.targetPosition=g.targetPosition._getTransformedBySplitOperation(i),[g]}return g.sourcePosition.hasSameParentAs(i.splitPosition)&&(g.howMany=i.splitPosition.offset),g.sourcePosition=g.sourcePosition._getTransformedBySplitOperation(i),g.targetPosition=g.targetPosition._getTransformedBySplitOperation(i),[g]})),Mr(zr,Ei,((g,i)=>{const o=Xe._createFromPositionAndShift(g.sourcePosition,g.howMany)._getTransformedByInsertOperation(i,!1)[0];return g.sourcePosition=o.start,g.howMany=o.end.offset-o.start.offset,g.targetPosition.isEqual(i.position)||(g.targetPosition=g.targetPosition._getTransformedByInsertOperation(i)),[g]})),Mr(zr,zr,((g,i,o)=>{const d=Xe._createFromPositionAndShift(g.sourcePosition,g.howMany),u=Xe._createFromPositionAndShift(i.sourcePosition,i.howMany);let m,y=o.aIsStrong,v=!o.aIsStrong;if(o.abRelation=="insertBefore"||o.baRelation=="insertAfter"?v=!0:o.abRelation!="insertAfter"&&o.baRelation!="insertBefore"||(v=!1),m=g.targetPosition.isEqual(i.targetPosition)&&v?g.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):g.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),q$(g,i)&&q$(i,g))return[i.getReversed()];if(d.containsPosition(i.targetPosition)&&d.containsRange(u,!0))return d.start=d.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),d.end=d.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),y0([d],m);if(u.containsPosition(g.targetPosition)&&u.containsRange(d,!0))return d.start=d.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),d.end=d.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),y0([d],m);const A=tt(g.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if(A=="prefix"||A=="extension")return d.start=d.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),d.end=d.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),y0([d],m);g.type!="remove"||i.type=="remove"||o.aWasUndone||o.forceWeakRemove?g.type=="remove"||i.type!="remove"||o.bWasUndone||o.forceWeakRemove||(y=!1):y=!0;const S=[],D=d.getDifference(u);for(const L of D){L.start=L.start._getTransformedByDeletion(i.sourcePosition,i.howMany),L.end=L.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const q=tt(L.start.getParentPath(),i.getMovedRangeStart().getParentPath())=="same",Y=L._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,q);S.push(...Y)}const N=d.getIntersection(u);return N!==null&&y&&(N.start=N.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),N.end=N.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),S.length===0?S.push(N):S.length==1?u.start.isBefore(d.start)||u.start.isEqual(d.start)?S.unshift(N):S.push(N):S.splice(1,0,N)),S.length===0?[new pi(g.baseVersion)]:y0(S,m)})),Mr(zr,rn,((g,i,o)=>{let d=g.targetPosition.clone();g.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&o.abRelation!="moveTargetAfter"||(d=g.targetPosition._getTransformedBySplitOperation(i));const u=Xe._createFromPositionAndShift(g.sourcePosition,g.howMany);if(u.end.isEqual(i.insertionPosition))return i.graveyardPosition||g.howMany++,g.targetPosition=d,[g];if(u.start.hasSameParentAs(i.splitPosition)&&u.containsPosition(i.splitPosition)){let y=new Xe(i.splitPosition,u.end);return y=y._getTransformedBySplitOperation(i),y0([new Xe(u.start,i.splitPosition),y],d)}g.targetPosition.isEqual(i.splitPosition)&&o.abRelation=="insertAtSource"&&(d=i.moveTargetPosition),g.targetPosition.isEqual(i.insertionPosition)&&o.abRelation=="insertBetween"&&(d=g.targetPosition);const m=[u._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const y=u.start.isEqual(i.graveyardPosition)||u.containsPosition(i.graveyardPosition);g.howMany>1&&y&&!o.aWasUndone&&m.push(Xe._createFromPositionAndShift(i.insertionPosition,1))}return y0(m,d)})),Mr(zr,Ln,((g,i,o)=>{const d=Xe._createFromPositionAndShift(g.sourcePosition,g.howMany);if(i.deletionPosition.hasSameParentAs(g.sourcePosition)&&d.containsPosition(i.sourcePosition)){if(g.type!="remove"||o.forceWeakRemove){if(g.howMany==1)return o.bWasUndone?(g.sourcePosition=i.graveyardPosition.clone(),g.targetPosition=g.targetPosition._getTransformedByMergeOperation(i),[g]):[new pi(0)]}else if(!o.aWasUndone){const m=[];let y=i.graveyardPosition.clone(),v=i.targetPosition._getTransformedByMergeOperation(i);const A=g.targetPosition.getTransformedByOperation(i);g.howMany>1&&(m.push(new zr(g.sourcePosition,g.howMany-1,A,0)),y=y._getTransformedByMove(g.sourcePosition,A,g.howMany-1),v=v._getTransformedByMove(g.sourcePosition,A,g.howMany-1));const S=i.deletionPosition._getCombined(g.sourcePosition,A),D=new zr(y,1,S,0),N=D.getMovedRangeStart().path.slice();N.push(0);const L=new it(D.targetPosition.root,N);v=v._getTransformedByMove(y,S,1);const q=new zr(v,i.howMany,L,0);return m.push(D),m.push(q),m}}const u=Xe._createFromPositionAndShift(g.sourcePosition,g.howMany)._getTransformedByMergeOperation(i);return g.sourcePosition=u.start,g.howMany=u.end.offset-u.start.offset,g.targetPosition=g.targetPosition._getTransformedByMergeOperation(i),[g]})),Mr(ra,Ei,((g,i)=>(g.position=g.position._getTransformedByInsertOperation(i),[g]))),Mr(ra,Ln,((g,i)=>g.position.isEqual(i.deletionPosition)?(g.position=i.graveyardPosition.clone(),g.position.stickiness="toNext",[g]):(g.position=g.position._getTransformedByMergeOperation(i),[g]))),Mr(ra,zr,((g,i)=>(g.position=g.position._getTransformedByMoveOperation(i),[g]))),Mr(ra,ra,((g,i,o)=>{if(g.position.isEqual(i.position)){if(!o.aIsStrong)return[new pi(0)];g.oldName=i.newName}return[g]})),Mr(ra,rn,((g,i)=>{if(tt(g.position.path,i.splitPosition.getParentPath())=="same"&&!i.graveyardPosition){const o=new ra(g.position.getShiftedBy(1),g.oldName,g.newName,0);return[g,o]}return g.position=g.position._getTransformedBySplitOperation(i),[g]})),Mr(oc,oc,((g,i,o)=>{if(g.root===i.root&&g.key===i.key){if(!o.aIsStrong||g.newValue===i.newValue)return[new pi(0)];g.oldValue=i.newValue}return[g]})),Mr(Ol,Ol,((g,i)=>g.rootName===i.rootName&&g.isAdd===i.isAdd?[new pi(0)]:[g])),Mr(rn,Ei,((g,i)=>(g.splitPosition.hasSameParentAs(i.position)&&g.splitPosition.offset<i.position.offset&&(g.howMany+=i.howMany),g.splitPosition=g.splitPosition._getTransformedByInsertOperation(i),g.insertionPosition=g.insertionPosition._getTransformedByInsertOperation(i),[g]))),Mr(rn,Ln,((g,i,o)=>{if(!g.graveyardPosition&&!o.bWasUndone&&g.splitPosition.hasSameParentAs(i.sourcePosition)){const d=i.graveyardPosition.path.slice();d.push(0);const u=new it(i.graveyardPosition.root,d),m=rn.getInsertionPosition(new it(i.graveyardPosition.root,d)),y=new rn(u,0,m,null,0);return g.splitPosition=g.splitPosition._getTransformedByMergeOperation(i),g.insertionPosition=rn.getInsertionPosition(g.splitPosition),g.graveyardPosition=y.insertionPosition.clone(),g.graveyardPosition.stickiness="toNext",[y,g]}return g.splitPosition.hasSameParentAs(i.deletionPosition)&&!g.splitPosition.isAfter(i.deletionPosition)&&g.howMany--,g.splitPosition.hasSameParentAs(i.targetPosition)&&(g.howMany+=i.howMany),g.splitPosition=g.splitPosition._getTransformedByMergeOperation(i),g.insertionPosition=rn.getInsertionPosition(g.splitPosition),g.graveyardPosition&&(g.graveyardPosition=g.graveyardPosition._getTransformedByMergeOperation(i)),[g]})),Mr(rn,zr,((g,i,o)=>{const d=Xe._createFromPositionAndShift(i.sourcePosition,i.howMany);if(g.graveyardPosition){const m=d.start.isEqual(g.graveyardPosition)||d.containsPosition(g.graveyardPosition);if(!o.bWasUndone&&m){const y=g.splitPosition._getTransformedByMoveOperation(i),v=g.graveyardPosition._getTransformedByMoveOperation(i),A=v.path.slice();A.push(0);const S=new it(v.root,A);return[new zr(y,g.howMany,S,0)]}g.graveyardPosition=g.graveyardPosition._getTransformedByMoveOperation(i)}const u=g.splitPosition.isEqual(i.targetPosition);if(u&&(o.baRelation=="insertAtSource"||o.abRelation=="splitBefore"))return g.howMany+=i.howMany,g.splitPosition=g.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),g.insertionPosition=rn.getInsertionPosition(g.splitPosition),[g];if(u&&o.abRelation&&o.abRelation.howMany){const{howMany:m,offset:y}=o.abRelation;return g.howMany+=m,g.splitPosition=g.splitPosition.getShiftedBy(y),[g]}if(g.splitPosition.hasSameParentAs(i.sourcePosition)&&d.containsPosition(g.splitPosition)){const m=i.howMany-(g.splitPosition.offset-i.sourcePosition.offset);return g.howMany-=m,g.splitPosition.hasSameParentAs(i.targetPosition)&&g.splitPosition.offset<i.targetPosition.offset&&(g.howMany+=i.howMany),g.splitPosition=i.sourcePosition.clone(),g.insertionPosition=rn.getInsertionPosition(g.splitPosition),[g]}return i.sourcePosition.isEqual(i.targetPosition)||(g.splitPosition.hasSameParentAs(i.sourcePosition)&&g.splitPosition.offset<=i.sourcePosition.offset&&(g.howMany-=i.howMany),g.splitPosition.hasSameParentAs(i.targetPosition)&&g.splitPosition.offset<i.targetPosition.offset&&(g.howMany+=i.howMany)),g.splitPosition.stickiness="toNone",g.splitPosition=g.splitPosition._getTransformedByMoveOperation(i),g.splitPosition.stickiness="toNext",g.graveyardPosition?g.insertionPosition=g.insertionPosition._getTransformedByMoveOperation(i):g.insertionPosition=rn.getInsertionPosition(g.splitPosition),[g]})),Mr(rn,rn,((g,i,o)=>{if(g.splitPosition.isEqual(i.splitPosition)){if(!g.graveyardPosition&&!i.graveyardPosition)return[new pi(0)];if(g.graveyardPosition&&i.graveyardPosition&&g.graveyardPosition.isEqual(i.graveyardPosition))return[new pi(0)];if(o.abRelation=="splitBefore")return g.howMany=0,g.graveyardPosition=g.graveyardPosition._getTransformedBySplitOperation(i),[g]}if(g.graveyardPosition&&i.graveyardPosition&&g.graveyardPosition.isEqual(i.graveyardPosition)){const d=g.splitPosition.root.rootName=="$graveyard",u=i.splitPosition.root.rootName=="$graveyard";if(u&&!d||!(d&&!u)&&o.aIsStrong){const m=[];return i.howMany&&m.push(new zr(i.moveTargetPosition,i.howMany,i.splitPosition,0)),g.howMany&&m.push(new zr(g.splitPosition,g.howMany,g.moveTargetPosition,0)),m}return[new pi(0)]}if(g.graveyardPosition&&(g.graveyardPosition=g.graveyardPosition._getTransformedBySplitOperation(i)),g.splitPosition.isEqual(i.insertionPosition)&&o.abRelation=="splitBefore")return g.howMany++,[g];if(i.splitPosition.isEqual(g.insertionPosition)&&o.baRelation=="splitBefore"){const d=i.insertionPosition.path.slice();d.push(0);const u=new it(i.insertionPosition.root,d);return[g,new zr(g.insertionPosition,1,u,0)]}return g.splitPosition.hasSameParentAs(i.splitPosition)&&g.splitPosition.offset<i.splitPosition.offset&&(g.howMany-=i.howMany),g.splitPosition=g.splitPosition._getTransformedBySplitOperation(i),g.insertionPosition=rn.getInsertionPosition(g.splitPosition),[g]}));class Vi extends K(it){constructor(i,o,d="toNone"){if(super(i,o,d),!this.root.is("rootElement"))throw new F("model-liveposition-root-not-rootelement",i);$ce.call(this)}detach(){this.stopListening()}toPosition(){return new it(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,o){return new this(i.root,i.path.slice(),o||i.stickiness)}}function $ce(){this.listenTo(this.root.document.model,"applyOperation",((g,i)=>{const o=i[0];o.isDocumentOperation&&Mce.call(this,o)}),{priority:"low"})}function Mce(g){const i=this.getTransformedByOperation(g);if(!this.isEqual(i)){const o=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",o)}}Vi.prototype.is=function(g){return g==="livePosition"||g==="model:livePosition"||g=="position"||g==="model:position"};class w0{constructor(i={}){typeof i=="string"&&(i=i==="transparent"?{isUndoable:!1}:{},V("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:d=!0,isUndo:u=!1,isTyping:m=!1}=i;this.operations=[],this.isUndoable=o,this.isLocal=d,this.isUndo=u,this.isTyping=m}get type(){return V("batch-type-deprecated"),"default"}get baseVersion(){for(const i of this.operations)if(i.baseVersion!==null)return i.baseVersion;return null}addOperation(i){return i.isDocumentOperation&&(i.batch=this,this.operations.push(i)),i}}const r1=class r1{constructor(i){this._changesInElement=new Map,this._elementsSnapshots=new Map,this._elementChildrenSnapshots=new Map,this._elementState=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=i}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(i){const o=i;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const d of o.range.getItems({shallow:!0}))this._isInInsertedElement(d.parent)||this._markAttribute(d);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const d=this._isInInsertedElement(o.sourcePosition.parent),u=this._isInInsertedElement(o.targetPosition.parent);d||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),u||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);const m=Xe._createFromPositionAndShift(o.sourcePosition,o.howMany);for(const y of m.getItems({shallow:!0}))this._setElementState(y,"move");break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const d=Xe._createFromPositionAndShift(o.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(d)){const m=u.getData();this.bufferMarkerChange(u.name,m,m)}this._setElementState(o.position.nodeAfter,"rename");break}case"split":{const d=o.splitPosition.parent;if(!this._isInInsertedElement(d)){this._markRemove(d,o.splitPosition.offset,o.howMany);const u=Xe._createFromPositionAndShift(o.splitPosition,o.howMany);for(const m of u.getItems({shallow:!0}))this._setElementState(m,"move")}this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&(this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1),this._setElementState(o.graveyardPosition.nodeAfter,"move"));break}case"merge":{const d=o.sourcePosition.parent;this._isInInsertedElement(d.parent)||this._markRemove(d.parent,d.startOffset,1);const u=o.graveyardPosition.parent;this._markInsert(u,o.graveyardPosition.offset,1),this._setElementState(d,"move");const m=o.targetPosition.parent;if(!this._isInInsertedElement(m)){this._markInsert(m,o.targetPosition.offset,d.maxOffset);const y=Xe._createFromPositionAndShift(o.sourcePosition,o.howMany);for(const v of y.getItems({shallow:!0}))this._setElementState(v,"move")}break}case"detachRoot":case"addRoot":{const d=o.affectedSelectable;if(!d._isLoaded||d.isAttached()==o.isAdd)return;this._bufferRootStateChange(o.rootName,o.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!o.root._isLoaded)return;const d=o.root.rootName;this._bufferRootAttributeChange(d,o.key,o.oldValue,o.newValue);break}}this._cachedChanges=null}bufferMarkerChange(i,o,d){o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null),d.range&&d.range.root.is("rootElement")&&!d.range.root._isLoaded&&(d.range=null);let u=this._changedMarkers.get(i);u?u.newMarkerData=d:(u={newMarkerData:d,oldMarkerData:o},this._changedMarkers.set(i,u)),u.oldMarkerData.range==null&&d.range==null&&this._changedMarkers.delete(i)}getMarkersToRemove(){const i=[];for(const[o,d]of this._changedMarkers)d.oldMarkerData.range!=null&&i.push({name:o,range:d.oldMarkerData.range});return i}getMarkersToAdd(){const i=[];for(const[o,d]of this._changedMarkers)d.newMarkerData.range!=null&&i.push({name:o,range:d.newMarkerData.range});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map((([i,o])=>({name:i,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}})))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:i,oldMarkerData:o}of this._changedMarkers.values()){if(i.affectsData!==o.affectsData)return!0;if(i.affectsData){const d=i.range&&!o.range,u=!i.range&&o.range,m=i.range&&o.range&&!i.range.isEqual(o.range);if(d||u||m)return!0}}return!1}getChanges(i={}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const d of this._changesInElement.keys()){const u=this._changesInElement.get(d).sort(((D,N)=>D.offset===N.offset?D.type!=N.type?D.type=="remove"?-1:1:0:D.offset<N.offset?-1:1)),m=this._elementChildrenSnapshots.get(d),y=Y$(d.getChildren()),v=Rce(m.length,u);let A=0,S=0;for(const D of v)if(D==="i"){const N=this._getDiffActionForNode(y[A].node,"insert"),L=this._elementsSnapshots.get(y[A].node),q=this._getInsertDiff(d,A,N,y[A],L);o.push(q),A++}else if(D==="r"){const N=this._getDiffActionForNode(m[S].node,"remove"),L=this._getRemoveDiff(d,A,N,m[S]);o.push(L),S++}else if(D==="a"){const N=m[S].attributes,L=y[A].attributes;let q;if(y[A].name=="$text")q=new Xe(it._createAt(d,A),it._createAt(d,A+1));else{const ne=d.offsetToIndex(A);q=new Xe(it._createAt(d,A),it._createAt(d.getChild(ne),0))}const Y=this._getAttributesDiff(q,N,L);o.push(...Y),A++,S++}else A++,S++}o.sort(((d,u)=>d.position.root!=u.position.root?d.position.root.rootName<u.position.root.rootName?-1:1:d.position.isEqual(u.position)?d.changeCount-u.changeCount:d.position.isBefore(u.position)?-1:1));for(let d=1,u=0;d<o.length;d++){const m=o[u],y=o[d],v=m.type=="remove"&&y.type=="remove"&&m.name=="$text"&&y.name=="$text"&&m.position.isEqual(y.position),A=m.type=="insert"&&y.type=="insert"&&m.name=="$text"&&y.name=="$text"&&m.position.parent==y.position.parent&&m.position.offset+m.length==y.position.offset,S=m.type=="attribute"&&y.type=="attribute"&&m.position.parent==y.position.parent&&m.range.isFlat&&y.range.isFlat&&m.position.offset+m.length==y.position.offset&&m.attributeKey==y.attributeKey&&m.attributeOldValue==y.attributeOldValue&&m.attributeNewValue==y.attributeNewValue;v||A||S?(m.length++,S&&(m.range.end=m.range.end.getShiftedBy(1)),o[d]=null):u=d}o=o.filter((d=>d));for(const d of o)delete d.changeCount,d.type=="attribute"&&(delete d.position,delete d.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(Nce),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((i=>{const o={...i};return o.state!==void 0&&delete o.attributes,o}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementChildrenSnapshots.clear(),this._elementsSnapshots.clear(),this._elementState.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems.clear(),this._cachedChanges=null}_refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize),this._refreshedItems.add(i),this._setElementState(i,"refresh");const o=Xe._createOn(i);for(const d of this._markerCollection.getMarkersIntersectingRange(o)){const u=d.getData();this.bufferMarkerChange(d.name,u,u)}this._cachedChanges=null}_bufferRootLoad(i){if(i.isAttached()){this._bufferRootStateChange(i.rootName,!0),this._markInsert(i,0,i.maxOffset);for(const o of i.getAttributeKeys())this._bufferRootAttributeChange(i.rootName,o,null,i.getAttribute(o));for(const o of this._markerCollection)if(o.getRange().root==i){const d=o.getData();this.bufferMarkerChange(o.name,{...d,range:null},d)}}}_bufferRootStateChange(i,o){if(!this._changedRoots.has(i))return void this._changedRoots.set(i,{name:i,state:o?"attached":"detached"});const d=this._changedRoots.get(i);d.state!==void 0?(delete d.state,d.attributes===void 0&&this._changedRoots.delete(i)):d.state=o?"attached":"detached"}_bufferRootAttributeChange(i,o,d,u){const m=this._changedRoots.get(i)||{name:i},y=m.attributes||{};if(y[o]){const v=y[o];u===v.oldValue?delete y[o]:v.newValue=u}else y[o]={oldValue:d,newValue:u};Object.entries(y).length===0?(delete m.attributes,m.state===void 0&&this._changedRoots.delete(i)):(m.attributes=y,this._changedRoots.set(i,m))}_markInsert(i,o,d){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const u={type:"insert",offset:o,howMany:d,count:this._changeCount++};this._markChange(i,u)}_markRemove(i,o,d){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const u={type:"remove",offset:o,howMany:d,count:this._changeCount++};this._markChange(i,u),this._removeAllNestedChanges(i,o,d)}_markAttribute(i){if(i.root.is("rootElement")&&!i.root._isLoaded)return;const o={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,o)}_markChange(i,o){this._makeSnapshots(i);const d=this._getChangesForElement(i);this._handleChange(o,d),d.push(o);for(let u=0;u<d.length;u++)d[u].howMany<1&&(d.splice(u,1),u--)}_setElementState(i,o){if(!i.is("element"))return;const d=r1._statesPriority.indexOf(this._elementState.get(i));r1._statesPriority.indexOf(o)>d&&this._elementState.set(i,o)}_getDiffActionForNode(i,o){if(!i.is("element")||!this._elementsSnapshots.has(i))return o;const d=this._elementState.get(i);return d&&d!="move"?d:o}_getChangesForElement(i){let o;return this._changesInElement.has(i)?o=this._changesInElement.get(i):(o=[],this._changesInElement.set(i,o)),o}_makeSnapshots(i){if(this._elementChildrenSnapshots.has(i))return;const o=Y$(i.getChildren());this._elementChildrenSnapshots.set(i,o);for(const d of o)this._elementsSnapshots.set(d.node,d)}_handleChange(i,o){i.nodesToHandle=i.howMany;for(const d of o){const u=i.offset+i.howMany,m=d.offset+d.howMany;if(i.type=="insert"&&(d.type=="insert"&&(i.offset<=d.offset?d.offset+=i.howMany:i.offset<m&&(d.howMany+=i.nodesToHandle,i.nodesToHandle=0)),d.type=="remove"&&i.offset<d.offset&&(d.offset+=i.howMany),d.type=="attribute")){if(i.offset<=d.offset)d.offset+=i.howMany;else if(i.offset<m){const y=d.howMany;d.howMany=i.offset-d.offset,o.unshift({type:"attribute",offset:u,howMany:y-d.howMany,count:this._changeCount++})}}if(i.type=="remove"){if(d.type=="insert"){if(u<=d.offset)d.offset-=i.howMany;else if(u<=m)if(i.offset<d.offset){const y=u-d.offset;d.offset=i.offset,d.howMany-=y,i.nodesToHandle-=y}else d.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=d.offset)i.nodesToHandle-=d.howMany,d.howMany=0;else if(i.offset<m){const y=m-i.offset;d.howMany-=y,i.nodesToHandle-=y}}if(d.type=="remove"&&(u<=d.offset?d.offset-=i.howMany:i.offset<d.offset&&(i.nodesToHandle+=d.howMany,d.howMany=0)),d.type=="attribute"){if(u<=d.offset)d.offset-=i.howMany;else if(i.offset<d.offset){const y=u-d.offset;d.offset=i.offset,d.howMany-=y}else if(i.offset<m)if(u<=m){const y=d.howMany;d.howMany=i.offset-d.offset;const v=y-d.howMany-i.nodesToHandle;o.unshift({type:"attribute",offset:i.offset,howMany:v,count:this._changeCount++})}else d.howMany-=m-i.offset}}if(i.type=="attribute"){if(d.type=="insert")if(i.offset<d.offset&&u>d.offset){if(u>m){const y={type:"attribute",offset:m,howMany:u-m,count:this._changeCount++};this._handleChange(y,o),o.push(y)}i.nodesToHandle=d.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=d.offset&&i.offset<m&&(u>m?(i.nodesToHandle=u-m,i.offset=m):i.nodesToHandle=0);if(d.type=="remove"&&i.offset<d.offset&&u>d.offset){const y={type:"attribute",offset:d.offset,howMany:u-d.offset,count:this._changeCount++};this._handleChange(y,o),o.push(y),i.nodesToHandle=d.offset-i.offset,i.howMany=i.nodesToHandle}d.type=="attribute"&&(i.offset>=d.offset&&u<=m?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=d.offset&&u>=m&&(d.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,o,d,u,m){const y={type:"insert",position:it._createAt(i,o),name:u.name,attributes:new Map(u.attributes),length:1,changeCount:this._changeCount++,action:d};return d!="insert"&&m&&(y.before={name:m.name,attributes:new Map(m.attributes)}),y}_getRemoveDiff(i,o,d,u){return{type:"remove",action:d,position:it._createAt(i,o),name:u.name,attributes:new Map(u.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(i,o,d){const u=[];d=new Map(d);for(const[m,y]of o){const v=d.has(m)?d.get(m):null;v!==y&&u.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:m,attributeOldValue:y,attributeNewValue:v,changeCount:this._changeCount++}),d.delete(m)}for(const[m,y]of d)u.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:m,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++});return u}_isInInsertedElement(i){const o=i.parent;if(!o)return!1;const d=this._changesInElement.get(o),u=i.startOffset;if(d){for(const m of d)if(m.type=="insert"&&u>=m.offset&&u<m.offset+m.howMany)return!0}return this._isInInsertedElement(o)}_removeAllNestedChanges(i,o,d){const u=new Xe(it._createAt(i,o),it._createAt(i,o+d));for(const m of u.getItems({shallow:!0}))m.is("element")&&(this._changesInElement.delete(m),this._removeAllNestedChanges(m,0,m.maxOffset))}};r1._statesPriority=[void 0,"refresh","rename","move"];let RS=r1;function W$(g){return{node:g,name:g.is("$text")?"$text":g.name,attributes:new Map(g.getAttributes())}}function Y$(g){const i=[];for(const o of g)if(o.is("$text"))for(let d=0;d<o.data.length;++d)i.push(W$(o));else i.push(W$(o));return i}function Rce(g,i){const o=[];let d=0,u=0;for(const m of i){if(m.offset>d){for(let y=0;y<m.offset-d;y++)o.push("e");u+=m.offset-d}if(m.type=="insert"){for(let y=0;y<m.howMany;y++)o.push("i");d=m.offset+m.howMany}else if(m.type=="remove"){for(let y=0;y<m.howMany;y++)o.push("r");d=m.offset,u+=m.howMany}else{if(m.howMany>1500)for(let y=0;y<m.howMany;y++)o.push("a");else o.push(..."a".repeat(m.howMany).split(""));d=m.offset+m.howMany,u+=m.howMany}}if(u<g)for(let m=0;m<g-u-d;m++)o.push("e");return o}function Nce(g){const i="position"in g&&g.position.root.rootName=="$graveyard",o="range"in g&&g.range.root.rootName=="$graveyard";return!i&&!o}class Bce{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(i){this._operations.length&&i>this._version+1&&this._gaps.set(this._version,i),this._version=i}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(i){if(i.baseVersion!==this.version)throw new F("model-document-history-addoperation-incorrect-version",this,{operation:i,historyVersion:this.version});this._operations.push(i),this._version++,this._baseVersionToOperationIndex.set(i.baseVersion,this._operations.length-1)}getOperations(i,o=this.version){if(!this._operations.length)return[];const d=this._operations[0];i===void 0&&(i=d.baseVersion);let u=o-1;for(const[v,A]of this._gaps)i>v&&i<A&&(i=A),u>v&&u<A&&(u=v-1);if(u<d.baseVersion||i>this.lastOperation.baseVersion)return[];let m=this._baseVersionToOperationIndex.get(i);m===void 0&&(m=0);let y=this._baseVersionToOperationIndex.get(u);return y===void 0&&(y=this._operations.length-1),this._operations.slice(m,y+1)}getOperation(i){const o=this._baseVersionToOperationIndex.get(i);if(o!==void 0)return this._operations[o]}setOperationAsUndone(i,o){this._undoPairs.set(o,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Lb extends sn{constructor(i,o,d="main"){super(o),this._isAttached=!0,this._isLoaded=!0,this._document=i,this.rootName=d}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Lb.prototype.is=function(g,i){return i?i===this.name&&(g==="rootElement"||g==="model:rootElement"||g==="element"||g==="model:element"):g==="rootElement"||g==="model:rootElement"||g==="element"||g==="model:element"||g==="node"||g==="model:node"};const Z$="$graveyard";class Ice extends K(){constructor(i){super(),this.model=i,this.history=new Bce,this.selection=new Do(this),this.roots=new _o({idProperty:"rootName"}),this.differ=new RS(i.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Z$),this.listenTo(i,"applyOperation",((o,d)=>{const u=d[0];u.isDocumentOperation&&this.differ.bufferOperation(u)}),{priority:"high"}),this.listenTo(i,"applyOperation",((o,d)=>{const u=d[0];u.isDocumentOperation&&this.history.addOperation(u)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(i.markers,"update",((o,d,u,m,y)=>{const v={...d.getData(),range:m};this.differ.bufferMarkerChange(d.name,y,v),u===null&&d.on("change",((A,S)=>{const D=d.getData();this.differ.bufferMarkerChange(d.name,{...D,range:S},D)}))})),this.registerPostFixer((o=>{let d=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(o.remove(o.createRangeIn(u)),d=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(o.removeMarker(u),d=!0);return d}))}get version(){return this.history.version}set version(i){this.history.version=i}get graveyard(){return this.getRoot(Z$)}createRoot(i="$root",o="main"){if(this.roots.get(o))throw new F("model-document-createroot-name-exists",this,{name:o});const d=new Lb(this,i,o);return this.roots.add(d),d}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(i=!1){return this.getRoots(i).map((o=>o.rootName))}getRoots(i=!1){return this.roots.filter((o=>o!=this.graveyard&&(i||o.isAttached())&&o._isLoaded))}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=$Q(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const i=this.getRoots();return i.length?i[0]:this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),o=this.model,d=o.schema,u=o.createPositionFromPath(i,[0]);return d.getNearestSelectionRange(u)||o.createRange(u)}_validateSelectionRange(i){return i.start.isValid()&&i.end.isValid()&&G$(i.start)&&G$(i.end)}_callPostFixers(i){let o=!1;do for(const d of this._postFixers)if(this.selection.refresh(),o=d(i),o)break;while(o)}}function G$(g){const i=g.textNode;if(i){const o=i.data,d=g.offset-i.startOffset;return!eS(o,d)&&!tS(o,d)}return!0}class jce extends K(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){const o=i instanceof v0?i.name:i;return this._markers.has(o)}get(i){return this._markers.get(i)||null}_set(i,o,d=!1,u=!1){const m=i instanceof v0?i.name:i;if(m.includes(","))throw new F("markercollection-incorrect-marker-name",this);const y=this._markers.get(m);if(y){const S=y.getData(),D=y.getRange();let N=!1;return D.isEqual(o)||(y._attachLiveRange(ta.fromRange(o)),N=!0),d!=y.managedUsingOperations&&(y._managedUsingOperations=d,N=!0),typeof u=="boolean"&&u!=y.affectsData&&(y._affectsData=u,N=!0),N&&this.fire(`update:${m}`,y,D,o,S),y}const v=ta.fromRange(o),A=new v0(m,v,d,u);return this._markers.set(m,A),this.fire(`update:${m}`,A,null,o,{...A.getData(),range:null}),A}_remove(i){const o=i instanceof v0?i.name:i,d=this._markers.get(o);return!!d&&(this._markers.delete(o),this.fire(`update:${o}`,d,d.getRange(),null,d.getData()),this._destroyMarker(d),!0)}_refresh(i){const o=i instanceof v0?i.name:i,d=this._markers.get(o);if(!d)throw new F("markercollection-refresh-marker-not-exists",this);const u=d.getRange();this.fire(`update:${o}`,d,u,u,d.getData())}*getMarkersAtPosition(i){for(const o of this)o.getRange().containsPosition(i)&&(yield o)}*getMarkersIntersectingRange(i){for(const o of this)o.getRange().getIntersection(i)!==null&&(yield o)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const o of this._markers.values())o.name.startsWith(i+":")&&(yield o)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}class v0 extends K(pd){constructor(i,o,d,u){super(),this.name=i,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=d,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new F("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}v0.prototype.is=function(g){return g==="marker"||g==="model:marker"};class Fce extends ba{constructor(i,o){super(null),this.sourcePosition=i.clone(),this.howMany=o}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new F("detach-operation-on-document-node",this)}_execute(){I$(Xe._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class xl extends pd{constructor(i){super(),this.markers=new Map,this._children=new Jg,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(i){return this._children.getNode(i)}getChildAtOffset(i){return this._children.getNodeAtOffset(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let o=this;for(const d of i)o=o.getChildAtOffset(d);return o}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const o of this._children)i.push(o.toJSON());return i}static fromJSON(i){const o=[];for(const d of i)d.name?o.push(sn.fromJSON(d)):o.push(un.fromJSON(d));return new xl(o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const d=(function(u){return typeof u=="string"?[new un(u)]:(Ct(u)||(u=[u]),Array.from(u).map((m=>typeof m=="string"?new un(m):m instanceof Po?new un(m.data,m.getAttributes()):m)))})(o);for(const u of d)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(i,d)}_removeChildren(i,o=1){const d=this._children._removeNodes(i,o);for(const u of d)u.parent=null;return d}_removeChildrenArray(i){this._children._removeNodesArray(i);for(const o of i)o.parent=null}}xl.prototype.is=function(g){return g==="documentFragment"||g==="model:documentFragment"};class Lce{constructor(i,o){this.model=i,this.batch=o}createText(i,o){return new un(i,o)}createElement(i,o){return new sn(i,o)}createDocumentFragment(){return new xl}cloneElement(i,o=!0){return i._clone(o)}insert(i,o,d=0){if(this._assertWriterUsedCorrectly(),i instanceof un&&i.data=="")return;const u=it._createAt(o,d);if(i.parent){if(J$(i.root,u.root))return void this.move(Xe._createOn(i),u);if(i.root.document)throw new F("model-writer-insert-forbidden-move",this);this.remove(i)}const m=u.root.document?u.root.document.version:null,y=i instanceof xl?i._removeChildren(0,i.childCount):i,v=new Ei(u,y,m);if(i instanceof un&&(v.shouldReceiveAttributes=!0),this.batch.addOperation(v),this.model.applyOperation(v),i instanceof xl)for(const[A,S]of i.markers){const D=it._createAt(S.root,0),N={range:new Xe(S.start._getCombined(D,u),S.end._getCombined(D,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(A)?this.updateMarker(A,N):this.addMarker(A,N)}}insertText(i,o,d,u){o instanceof xl||o instanceof sn||o instanceof it?this.insert(this.createText(i),o,d):this.insert(this.createText(i,o),d,u)}insertElement(i,o,d,u){o instanceof xl||o instanceof sn||o instanceof it?this.insert(this.createElement(i),o,d):this.insert(this.createElement(i,o),d,u)}append(i,o){this.insert(i,o,"end")}appendText(i,o,d){o instanceof xl||o instanceof sn?this.insert(this.createText(i),o,"end"):this.insert(this.createText(i,o),d,"end")}appendElement(i,o,d){o instanceof xl||o instanceof sn?this.insert(this.createElement(i),o,"end"):this.insert(this.createElement(i,o),d,"end")}setAttribute(i,o,d){if(this._assertWriterUsedCorrectly(),d instanceof Xe){const u=d.getMinimalFlatRanges();for(const m of u)H$(this,i,o,m)}else K$(this,i,o,d)}setAttributes(i,o){for(const[d,u]of fl(i))this.setAttribute(d,u,o)}removeAttribute(i,o){if(this._assertWriterUsedCorrectly(),o instanceof Xe){const d=o.getMinimalFlatRanges();for(const u of d)H$(this,i,null,u)}else K$(this,i,null,o)}clearAttributes(i){this._assertWriterUsedCorrectly();const o=d=>{for(const u of d.getAttributeKeys())this.removeAttribute(u,d)};if(i instanceof Xe)for(const d of i.getItems())o(d);else o(i)}move(i,o,d){if(this._assertWriterUsedCorrectly(),!(i instanceof Xe))throw new F("writer-move-invalid-range",this);if(!i.isFlat)throw new F("writer-move-range-not-flat",this);const u=it._createAt(o,d);if(u.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!J$(i.root,u.root))throw new F("writer-move-different-document",this);const m=i.root.document?i.root.document.version:null,y=new zr(i.start,i.end.offset-i.start.offset,u,m);this.batch.addOperation(y),this.model.applyOperation(y)}remove(i){this._assertWriterUsedCorrectly();const o=(i instanceof Xe?i:Xe._createOn(i)).getMinimalFlatRanges().reverse();for(const d of o)this._addOperationForAffectedMarkers("move",d),zce(d.start,d.end.offset-d.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const o=i.nodeBefore,d=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(o instanceof sn))throw new F("writer-merge-no-element-before",this);if(!(d instanceof sn))throw new F("writer-merge-no-element-after",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,o,d){return this.model.createPositionFromPath(i,o,d)}createPositionAt(i,o){return this.model.createPositionAt(i,o)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,o){return this.model.createRange(i,o)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(...i){return this.model.createSelection(...i)}_mergeDetached(i){const o=i.nodeBefore,d=i.nodeAfter;this.move(Xe._createIn(d),it._createAt(o,"end")),this.remove(d)}_merge(i){const o=it._createAt(i.nodeBefore,"end"),d=it._createAt(i.nodeAfter,0),u=i.root.document.graveyard,m=new it(u,[0]),y=i.root.document.version,v=new Ln(d,i.nodeAfter.maxOffset,o,m,y);this.batch.addOperation(v),this.model.applyOperation(v)}rename(i,o){if(this._assertWriterUsedCorrectly(),!(i instanceof sn))throw new F("writer-rename-not-element-instance",this);const d=i.root.document?i.root.document.version:null,u=new ra(it._createBefore(i),i.name,o,d);this.batch.addOperation(u),this.model.applyOperation(u)}split(i,o){this._assertWriterUsedCorrectly();let d,u,m=i.parent;if(!m.parent)throw new F("writer-split-element-no-parent",this);if(o||(o=m.parent),!i.parent.getAncestors({includeSelf:!0}).includes(o))throw new F("writer-split-invalid-limit-element",this);do{const y=m.root.document?m.root.document.version:null,v=m.maxOffset-i.offset,A=rn.getInsertionPosition(i),S=new rn(i,v,A,null,y);this.batch.addOperation(S),this.model.applyOperation(S),d||u||(d=m,u=i.parent.nextSibling),m=(i=this.createPositionAfter(i.parent)).parent}while(m!==o);return{position:i,range:new Xe(it._createAt(d,"end"),it._createAt(u,0))}}wrap(i,o){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new F("writer-wrap-range-not-flat",this);const d=o instanceof sn?o:new sn(o);if(d.childCount>0)throw new F("writer-wrap-element-not-empty",this);if(d.parent!==null)throw new F("writer-wrap-element-attached",this);this.insert(d,i.start);const u=new Xe(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(u,it._createAt(d,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),i.parent===null)throw new F("writer-unwrap-element-no-parent",this);this.move(Xe._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,o){if(this._assertWriterUsedCorrectly(),!o||typeof o.usingOperation!="boolean")throw new F("writer-addmarker-no-usingoperation",this);const d=o.usingOperation,u=o.range,m=o.affectsData!==void 0&&o.affectsData;if(this.model.markers.has(i))throw new F("writer-addmarker-marker-exists",this);if(!u)throw new F("writer-addmarker-no-range",this);return d?(ip(this,i,null,u,m),this.model.markers.get(i)):this.model.markers._set(i,u,d,m)}updateMarker(i,o){this._assertWriterUsedCorrectly();const d=typeof i=="string"?i:i.name,u=this.model.markers.get(d);if(!u)throw new F("writer-updatemarker-marker-not-exists",this);if(!o)return V("writer-updatemarker-reconvert-using-editingcontroller",{markerName:d}),void this.model.markers._refresh(u);const m=typeof o.usingOperation=="boolean",y=typeof o.affectsData=="boolean",v=y?o.affectsData:u.affectsData;if(!m&&!o.range&&!y)throw new F("writer-updatemarker-wrong-options",this);const A=u.getRange(),S=o.range?o.range:A;m&&o.usingOperation!==u.managedUsingOperations?o.usingOperation?ip(this,d,null,S,v):(ip(this,d,A,null,v),this.model.markers._set(d,S,void 0,v)):u.managedUsingOperations?ip(this,d,A,S,v):this.model.markers._set(d,S,void 0,v)}removeMarker(i){this._assertWriterUsedCorrectly();const o=typeof i=="string"?i:i.name;if(!this.model.markers.has(o))throw new F("writer-removemarker-no-marker",this);const d=this.model.markers.get(o);if(!d.managedUsingOperations)return void this.model.markers._remove(o);ip(this,o,d.getRange(),null,d.affectsData)}addRoot(i,o="$root"){this._assertWriterUsedCorrectly();const d=this.model.document.getRoot(i);if(d&&d.isAttached())throw new F("writer-addroot-root-exists",this);const u=this.model.document,m=new Ol(i,o,!0,u,u.version);return this.batch.addOperation(m),this.model.applyOperation(m),this.model.document.getRoot(i)}detachRoot(i){this._assertWriterUsedCorrectly();const o=typeof i=="string"?this.model.document.getRoot(i):i;if(!o||!o.isAttached())throw new F("writer-detachroot-no-root",this);for(const m of this.model.markers)m.getRange().root===o&&this.removeMarker(m);for(const m of o.getAttributeKeys())this.removeAttribute(m,o);this.remove(this.createRangeIn(o));const d=this.model.document,u=new Ol(o.rootName,o.name,!1,d,d.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...i){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...i)}setSelectionFocus(i,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,o)}setSelectionAttribute(i,o){if(this._assertWriterUsedCorrectly(),typeof i=="string")this._setSelectionAttribute(i,o);else for(const[d,u]of fl(i))this._setSelectionAttribute(d,u)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),typeof i=="string")this._removeSelectionAttribute(i);else for(const o of i)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,o){const d=this.model.document.selection;if(d.isCollapsed&&d.anchor.parent.isEmpty){const u=Do._getStoreAttributeKey(i);this.setAttribute(u,o,d.anchor.parent)}d._setAttribute(i,o)}_removeSelectionAttribute(i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const d=Do._getStoreAttributeKey(i);this.removeAttribute(d,o.anchor.parent)}o._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new F("writer-incorrect-use",this)}_addOperationForAffectedMarkers(i,o){for(const d of this.model.markers){if(!d.managedUsingOperations)continue;const u=d.getRange();let m=!1;if(i==="move"){const y=o;m=y.containsPosition(u.start)||y.start.isEqual(u.start)||y.containsPosition(u.end)||y.end.isEqual(u.end)}else{const y=o,v=y.nodeBefore,A=y.nodeAfter,S=u.start.parent==v&&u.start.isAtEnd,D=u.end.parent==A&&u.end.offset==0,N=u.end.nodeAfter==A,L=u.start.nodeAfter==A;m=S||D||N||L}m&&this.updateMarker(d.name,{range:u})}}}function H$(g,i,o,d){const u=g.model,m=u.document;let y,v,A,S=d.start;for(const N of d.getWalker({shallow:!0}))A=N.item.getAttribute(i),y&&v!=A&&(v!=o&&D(),S=y),y=N.nextPosition,v=A;function D(){const N=new Xe(S,y),L=N.root.document?m.version:null,q=new Zn(N,i,v,o,L);g.batch.addOperation(q),u.applyOperation(q)}y instanceof it&&y!=S&&v!=o&&D()}function K$(g,i,o,d){const u=g.model,m=u.document,y=d.getAttribute(i);let v,A;if(y!=o){if(d.root===d){const S=d.document?m.version:null;A=new oc(d,i,y,o,S)}else{v=new Xe(it._createBefore(d),g.createPositionAfter(d));const S=v.root.document?m.version:null;A=new Zn(v,i,y,o,S)}g.batch.addOperation(A),u.applyOperation(A)}}function ip(g,i,o,d,u){const m=g.model,y=m.document,v=new Es(i,o,d,m.markers,!!u,y.version);g.batch.addOperation(v),m.applyOperation(v)}function zce(g,i,o,d){let u;if(g.root.document){const m=d.document,y=new it(m.graveyard,[0]);u=new zr(g,i,y,m.version)}else u=new Fce(g,i);o.addOperation(u),d.applyOperation(u)}function J$(g,i){return g===i||g instanceof Lb&&i instanceof Lb}function Xce(g,i,o={}){if(i.isCollapsed)return;const d=i.getFirstRange();if(d.root.rootName=="$graveyard")return;const u=g.schema;g.change((m=>{if(!o.doNotResetEntireContent&&(function(S,D){const N=S.getLimitElement(D);if(!D.containsEntireContent(N))return!1;const L=D.getFirstRange();return L.start.parent==L.end.parent?!1:S.checkChild(N,"paragraph")})(u,i))return void(function(S,D){const N=S.model.schema.getLimitElement(D);S.remove(S.createRangeIn(N)),rM(S,S.createPositionAt(N,0),D)})(m,i);const y={};if(!o.doNotAutoparagraph){const S=i.getSelectedElement();S&&Object.assign(y,u.getAttributesWithProperty(S,"copyOnReplace",!0))}const[v,A]=(function(S){const D=S.root.document.model,N=S.start;let L=S.end;if(D.hasContent(S,{ignoreMarkers:!0})){const q=(function(Y){const ne=Y.parent,ue=ne.root.document.model.schema,me=ne.getAncestors({parentFirst:!0,includeSelf:!0});for(const Ae of me){if(ue.isLimit(Ae))return null;if(ue.isBlock(Ae))return Ae}})(L);if(q&&L.isTouching(D.createPositionAt(q,0))){const Y=D.createSelection(S);D.modifySelection(Y,{direction:"backward"});const ne=Y.getLastPosition(),ue=D.createRange(ne,L);D.hasContent(ue,{ignoreMarkers:!0})||(L=ne)}}return[Vi.fromPosition(N,"toPrevious"),Vi.fromPosition(L,"toNext")]})(d);v.isTouching(A)||m.remove(m.createRange(v,A)),o.leaveUnmerged||((function(S,D,N){const L=S.model;if(!NS(S.model.schema,D,N))return;const[q,Y]=(function(ne,ue){const me=ne.getAncestors(),Ae=ue.getAncestors();let Me=0;for(;me[Me]&&me[Me]==Ae[Me];)Me++;return[me[Me],Ae[Me]]})(D,N);!q||!Y||(!L.hasContent(q,{ignoreMarkers:!0})&&L.hasContent(Y,{ignoreMarkers:!0})?tM(S,D,N,q.parent):eM(S,D,N,q.parent))})(m,v,A),u.removeDisallowedAttributes(v.parent.getChildren(),m)),nM(m,i,v),!o.doNotAutoparagraph&&(function(S,D){const N=S.checkChild(D,"$text"),L=S.checkChild(D,"paragraph");return!N&&L})(u,v)&&rM(m,v,i,y),v.detach(),A.detach()}))}function eM(g,i,o,d){const u=i.parent,m=o.parent;if(u!=d&&m!=d){for(i=g.createPositionAfter(u),(o=g.createPositionBefore(m)).isEqual(i)||g.insert(m,i),g.merge(i);o.parent.isEmpty;){const y=o.parent;o=g.createPositionBefore(y),g.remove(y)}NS(g.model.schema,i,o)&&eM(g,i,o,d)}}function tM(g,i,o,d){const u=i.parent,m=o.parent;if(u!=d&&m!=d){for(i=g.createPositionAfter(u),(o=g.createPositionBefore(m)).isEqual(i)||g.insert(u,o);i.parent.isEmpty;){const y=i.parent;i=g.createPositionBefore(y),g.remove(y)}o=g.createPositionBefore(m),(function(y,v){const A=v.nodeBefore,S=v.nodeAfter;A.name!=S.name&&y.rename(A,S.name),y.clearAttributes(A),y.setAttributes(Object.fromEntries(S.getAttributes()),A),y.merge(v)})(g,o),NS(g.model.schema,i,o)&&tM(g,i,o,d)}}function NS(g,i,o){const d=i.parent,u=o.parent;return d!=u&&!g.isLimit(d)&&!g.isLimit(u)&&(function(m,y,v){const A=new Xe(m,y);for(const S of A.getWalker())if(v.isLimit(S.item))return!1;return!0})(i,o,g)}function rM(g,i,o,d={}){const u=g.createElement("paragraph");g.model.schema.setAllowedAttributes(u,d,g),g.insert(u,i),nM(g,o,g.createPositionAt(u,0))}function nM(g,i,o){i instanceof Do?g.setSelection(o):i.setTo(o)}function iM(g,i){const o=[];Array.from(g.getItems({direction:"backward"})).map((d=>i.createRangeOn(d))).filter((d=>(d.start.isAfter(g.start)||d.start.isEqual(g.start))&&(d.end.isBefore(g.end)||d.end.isEqual(g.end)))).forEach((d=>{o.push(d.start.parent),i.remove(d)})),o.forEach((d=>{let u=d;for(;u.parent&&u.isEmpty;){const m=i.createRangeOn(u);u=u.parent,i.remove(m)}}))}class Vce{constructor(i,o,d){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=i,this.writer=o,this.position=d,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(i){for(const o of Array.from(i))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(i){const o=this.writer.createPositionAfter(this._lastNode),d=this.writer.createPositionAfter(i);if(d.isAfter(o)){if(this._lastNode=i,this.position.parent!=i||!this.position.isAtEnd)throw new F("insertcontent-invalid-insertion-position",this);this.position=d,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Xe._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Xe(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i){this._checkAndSplitToAllowedPosition(i)?(this._appendToFragment(i),this._firstNode||(this._firstNode=i),this._lastNode=i):this.schema.isObject(i)||this._handleDisallowedNode(i)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const i=Vi.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=i.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=i.toPosition(),i.detach()}_handleDisallowedNode(i){i.is("element")&&this.handleNodes(i.getChildren())}_appendToFragment(i){if(!this.schema.checkChild(this.position,i))throw new F("insertcontent-wrong-position",this,{node:i,position:this.position});this.writer.insert(i,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(i.offsetSize),this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=i:this._nodeToSelect=null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=Vi.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Vi.fromPosition(i,"toNext"))}_mergeOnLeft(){const i=this._firstNode;if(!(i instanceof sn)||!this._canMergeLeft(i))return;const o=Vi._createBefore(i);o.stickiness="toNext";const d=Vi.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Vi._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Vi._createAt(o.nodeBefore,"end","toNext")),this.position=d.toPosition(),d.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const i=this._lastNode;if(!(i instanceof sn)||!this._canMergeRight(i))return;const o=Vi._createAfter(i);if(o.stickiness="toNext",!this.position.isEqual(o))throw new F("insertcontent-invalid-insertion-position",this);this.position=it._createAt(o.nodeBefore,"end");const d=Vi.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Vi._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Vi._createAt(o.nodeBefore,0,"toPrevious")),this.position=d.toPosition(),d.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(i){const o=i.previousSibling;return o instanceof sn&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,i)}_canMergeRight(i){const o=i.nextSibling;return o instanceof sn&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(i,o)}_insertAutoParagraph(){this._insertPartialFragment();const i=this.writer.createElement("paragraph");this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0)}_checkAndSplitToAllowedPosition(i){const o=this._getAllowedIn(this.position.parent,i);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const d=this.position.parent;this.position=this.writer.createPositionBefore(d),d.isEmpty&&d.parent===o&&this.writer.remove(d)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const d=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=d,this.canMergeWith.add(this.position.nodeAfter)}return this.schema.checkChild(this.position.parent,i)||this._insertAutoParagraph(),!0}_getAllowedIn(i,o){return this.schema.checkChild(i,o)||this.schema.checkChild(i,"paragraph")&&this.schema.checkChild("paragraph",o)?i:this.schema.isLimit(i)?null:this._getAllowedIn(i.parent,o)}}function Uce(g,i,o,d={}){if(!g.schema.isObject(i))throw new F("insertobject-element-not-an-object",g,{object:i});const u=o||g.document.selection;let m=u;d.findOptimalPosition&&g.schema.isBlock(i)&&(m=g.createSelection(g.schema.findOptimalInsertionRange(u,d.findOptimalPosition)));const y=Ti(u.getSelectedBlocks()),v={};return y&&Object.assign(v,g.schema.getAttributesWithProperty(y,"copyOnReplace",!0)),g.change((A=>{m.isCollapsed||g.deleteContent(m,{doNotAutoparagraph:!0});let S=i;const D=m.anchor.parent;!g.schema.checkChild(D,i)&&g.schema.checkChild(D,"paragraph")&&g.schema.checkChild("paragraph",i)&&(S=A.createElement("paragraph"),A.insert(i,S)),g.schema.setAllowedAttributes(S,v,A);const N=g.insertContent(S,m);return N.isCollapsed||d.setSelection&&(function(L,q,Y,ne){const ue=L.model;if(Y=="on")return void L.setSelection(q,"on");if(Y!="after")throw new F("insertobject-invalid-place-parameter-value",ue);let me=q.nextSibling;if(ue.schema.isInline(q))return void L.setSelection(q,"after");!(me&&ue.schema.checkChild(me,"$text"))&&ue.schema.checkChild(q.parent,"paragraph")&&(me=L.createElement("paragraph"),ue.schema.setAllowedAttributes(me,ne,L),ue.insertContent(me,L.createPositionAfter(q))),me&&L.setSelection(me,0)})(A,i,d.setSelection,v),N}))}function qce(g,i){const{isForward:o,walker:d,unit:u,schema:m,treatEmojiAsSingleUnit:y}=g,{type:v,item:A,nextPosition:S}=i;if(v=="text")return g.unit==="word"?(function(D,N){let L=D.position.textNode;for(L||(L=N?D.position.nodeAfter:D.position.nodeBefore);L&&L.is("$text");){const q=D.position.offset-L.startOffset;if(Zce(L,q,N))L=N?D.position.nodeAfter:D.position.nodeBefore;else{if(Yce(L.data,q,N))break;D.next()}}return D.position})(d,o):(function(D,N,L){const q=D.position.textNode;if(q){const Y=q.data;let ne=D.position.offset-q.startOffset;for(;eS(Y,ne)||N=="character"&&tS(Y,ne)||L&&hQ(Y,ne);)D.next(),ne=D.position.offset-q.startOffset}return D.position})(d,u,y);if(v==(o?"elementStart":"elementEnd")){if(m.isSelectable(A))return it._createAt(A,o?"after":"before");if(m.checkChild(S,"$text"))return S}else{if(m.isLimit(A))return void d.skip((()=>!0));if(m.checkChild(S,"$text"))return S}}function Wce(g,i){const o=g.root,d=it._createAt(o,i?"end":0);return i?new Xe(g,d):new Xe(d,g)}function Yce(g,i,o){const d=i+(o?0:-1);return' ,.?!:;"-()'.includes(g.charAt(d))}function Zce(g,i,o){return i===(o?g.offsetSize:0)}class Gce extends Ge(){constructor(){super(),this.markers=new jce,this.document=new Ice(this),this.schema=new uce,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((i=>this.decorate(i))),this.on("applyOperation",((i,o)=>{o[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((()=>!0),"$marker"),dce(this),this.document.registerPostFixer(A$),this.on("insertContent",((i,[o,d])=>{i.return=(function(u,m,y){return u.change((v=>{const A=y||u.document.selection;A.isCollapsed||u.deleteContent(A,{doNotAutoparagraph:!0});const S=new Vce(u,v,A.anchor),D=[];let N;if(m.is("documentFragment")){if(m.markers.size){const Y=[];for(const[ne,ue]of m.markers){const{start:me,end:Ae}=ue,Me=me.isEqual(Ae);Y.push({position:me,name:ne,isCollapsed:Me},{position:Ae,name:ne,isCollapsed:Me})}Y.sort((({position:ne},{position:ue})=>ne.isBefore(ue)?1:-1));for(const{position:ne,name:ue,isCollapsed:me}of Y){let Ae=null,Me=null;const Ue=ne.parent===m&&ne.isAtStart,qe=ne.parent===m&&ne.isAtEnd;Ue||qe?me&&(Me=Ue?"start":"end"):(Ae=v.createElement("$marker"),v.insert(Ae,ne)),D.push({name:ue,element:Ae,collapsed:Me})}}N=m.getChildren()}else N=[m];S.handleNodes(N);let L=S.getSelectionRange();if(m.is("documentFragment")&&D.length){const Y=L?ta.fromRange(L):null,ne={};for(let ue=D.length-1;ue>=0;ue--){const{name:me,element:Ae,collapsed:Me}=D[ue],Ue=!ne[me];if(Ue&&(ne[me]=[]),Ae){const qe=v.createPositionAt(Ae,"before");ne[me].push(qe),v.remove(Ae)}else{const qe=S.getAffectedRange();if(!qe){Me&&ne[me].push(S.position);continue}Me?ne[me].push(qe[Me]):ne[me].push(Ue?qe.start:qe.end)}}for(const[ue,[me,Ae]]of Object.entries(ne))me&&Ae&&me.root===Ae.root&&me.root.document&&!v.model.markers.has(ue)&&v.addMarker(ue,{usingOperation:!0,affectsData:!0,range:new Xe(me,Ae)});Y&&(L=Y.toRange(),Y.detach())}L&&(A instanceof Do?v.setSelection(L):A.setTo(L));const q=S.getAffectedRange()||u.createRange(A.anchor);return S.destroy(),q}))})(this,o,d)})),this.on("insertObject",((i,[o,d,u])=>{i.return=Uce(this,o,d,u)})),this.on("canEditAt",(i=>{const o=!this.document.isReadOnly;i.return=o,o||i.stop()}))}change(i){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new w0,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(o){F.rethrowUnexpectedError(o,this)}}enqueueChange(i,o){try{i?typeof i=="function"?(o=i,i=new w0):i instanceof w0||(i=new w0(i)):i=new w0,this._pendingChanges.push({batch:i,callback:o}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(d){F.rethrowUnexpectedError(d,this)}}applyOperation(i){i._execute()}insertContent(i,o,d,...u){const m=BS(o,d);return this.fire("insertContent",[i,m,d,...u])}insertObject(i,o,d,u,...m){const y=BS(o,d);return this.fire("insertObject",[i,y,u,u,...m])}deleteContent(i,o){Xce(this,i,o)}modifySelection(i,o){(function(d,u,m={}){const y=d.schema,v=m.direction!="backward",A=m.unit?m.unit:"character",S=!!m.treatEmojiAsSingleUnit,D=u.focus,N=new ac({boundaries:Wce(D,v),singleCharacters:!0,direction:v?"forward":"backward"}),L={walker:N,schema:y,isForward:v,unit:A,treatEmojiAsSingleUnit:S};let q;for(;q=N.next();){if(q.done)return;const Y=qce(L,q.value);if(Y)return void(u instanceof Do?d.change((ne=>{ne.setSelectionFocus(Y)})):u.setFocus(Y))}})(this,i,o)}getSelectedContent(i){return(function(o,d){return o.change((u=>{const m=u.createDocumentFragment(),y=d.getFirstRange();if(!y||y.isCollapsed)return m;const v=y.start.root,A=y.start.getCommonPath(y.end),S=v.getNodeByPath(A);let D;D=y.start.parent==y.end.parent?y:u.createRange(u.createPositionAt(S,y.start.path[A.length]),u.createPositionAt(S,y.end.path[A.length]+1));const N=D.end.offset-D.start.offset;for(const L of D.getItems({shallow:!0}))L.is("$textProxy")?u.appendText(L.data,L.getAttributes(),m):u.append(u.cloneElement(L,!0),m);if(D!=y){const L=y._getTransformedByMove(D.start,u.createPositionAt(m,0),N)[0],q=u.createRange(u.createPositionAt(m,0),L.start);iM(u.createRange(L.end,u.createPositionAt(m,"end")),u),iM(q,u)}return m}))})(this,i)}hasContent(i,o={}){const d=i instanceof Xe?i:Xe._createIn(i);if(d.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:m=!1}=o;if(!m){for(const y of this.markers.getMarkersIntersectingRange(d))if(y.affectsData)return!0}for(const y of d.getItems())if(this.schema.isContent(y)&&(!y.is("$textProxy")||!u||y.data.search(/\S/)!==-1))return!0;return!1}canEditAt(i){const o=BS(i);return this.fire("canEditAt",[o])}createPositionFromPath(i,o,d){return new it(i,o,d)}createPositionAt(i,o){return it._createAt(i,o)}createPositionAfter(i){return it._createAfter(i)}createPositionBefore(i){return it._createBefore(i)}createRange(i,o){return new Xe(i,o)}createRangeIn(i){return Xe._createIn(i)}createRangeOn(i){return Xe._createOn(i)}createSelection(...i){return new xa(...i)}createBatch(i){return new w0(i)}createOperationFromJSON(i){return Ece.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const o=this._pendingChanges[0].batch;this._currentWriter=new Lce(this,o);const d=this._pendingChanges[0].callback(this._currentWriter);i.push(d),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return i}}function BS(g,i){if(g)return g instanceof xa||g instanceof Do?g:g instanceof zh?i||i===0?new xa(g,i):g.is("rootElement")?new xa(g,"in"):new xa(g,"on"):new xa(g)}class Hce extends sc{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}class IS extends sc{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(i){this.fire(i.type,i)}}class Kce extends sc{constructor(){super(...arguments),this.domEventType=["touchstart","touchend","touchmove"]}onDomEvent(i){this.fire(i.type,i)}}class lc{constructor(i){this.document=i}createDocumentFragment(i){return new jh(this.document,i)}createElement(i,o,d){return new So(this.document,i,o,d)}createText(i){return new ai(this.document,i)}clone(i,o=!1){return i._clone(o)}appendChild(i,o){return o._appendChild(i)}insertChild(i,o,d){return d._insertChild(i,o)}removeChildren(i,o,d){return d._removeChildren(i,o)}remove(i){const o=i.parent;return o?this.removeChildren(o.getChildIndex(i),1,o):[]}replace(i,o){const d=i.parent;if(d){const u=d.getChildIndex(i);return this.removeChildren(u,1,d),this.insertChild(u,o,d),!0}return!1}unwrapElement(i){const o=i.parent;if(o){const d=o.getChildIndex(i);this.remove(i),this.insertChild(d,i.getChildren(),o)}}rename(i,o){const d=new So(this.document,i,o.getAttributes(),o.getChildren());return this.replace(o,d)?d:null}setAttribute(i,o,d){d._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,d){qr(i)&&d===void 0?o._setStyle(i):d._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,d){d._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}createPositionAt(i,o){return mt._createAt(i,o)}createPositionAfter(i){return mt._createAfter(i)}createPositionBefore(i){return mt._createBefore(i)}createRange(i,o){return new ir(i,o)}createRangeOn(i){return ir._createOn(i)}createRangeIn(i){return ir._createIn(i)}createSelection(...i){return new To(...i)}}class sM{constructor(i){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof i.crashNumberLimit=="number"?i.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof i.minimumNonErrorTimePeriod=="number"?i.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const d="error"in o?o.error:o.reason;d instanceof Error&&this._handleError(d,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(i,o){this._listeners[i]||(this._listeners[i]=[]),this._listeners[i].push(o)}off(i,o){this._listeners[i]=this._listeners[i].filter((d=>d!==o))}_fire(i,...o){const d=this._listeners[i]||[];for(const u of d)u.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(i,o){if(this._shouldReactToError(i)){this.crashes.push({message:i.message,stack:i.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const d=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:i,causesRestart:d}),d?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(i){return i.is&&i.is("CKEditorError")&&i.context!==void 0&&i.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(i)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}const zb=function(g,i,o){var d=!0,u=!0;if(typeof g!="function")throw new TypeError("Expected a function");return Ee(o)&&(d="leading"in o?!!o.leading:d,u="trailing"in o?!!o.trailing:u),Fh(g,i,{leading:d,maxWait:i,trailing:u})};function jS(g,i=new Set){const o=[g],d=new Set;let u=0;for(;o.length>u;){const m=o[u++];if(!d.has(m)&&Jce(m)&&!i.has(m))if(d.add(m),Symbol.iterator in m)try{for(const y of m)o.push(y)}catch{}else for(const y in m)y!=="defaultValue"&&o.push(m[y])}return d}function Jce(g){const i=Object.prototype.toString.call(g),o=typeof g;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||i==="[object Date]"||i==="[object RegExp]"||i==="[object Module]"||g==null||g._watchdogExcluded||g instanceof EventTarget||g instanceof Event)}function aM(g,i,o=new Set){if(g===i&&typeof(d=g)=="object"&&d!==null)return!0;var d;const u=jS(g,o),m=jS(i,o);for(const y of u)if(m.has(y))return!0;return!1}class oM extends sM{constructor(i,o={}){super(o),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=zb(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),i&&(this._creator=(d,u)=>i.create(d,u)),this._destructor=d=>d.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(i){this._creator=i}setDestructor(i){this._destructor=i}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((i=>{console.error("An error happened during the editor destroying.",i)})).then((()=>{const i={},o=[],d=this._config.rootsAttributes||{},u={};for(const[y,v]of Object.entries(this._data.roots))v.isLoaded?(i[y]="",u[y]=d[y]||{}):o.push(y);const m={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:u,_watchdogInitialData:this._data};return delete m.initialData,m.extraPlugins.push(ede),this._initUsingData?this.create(i,m,m.context):hd(this._elementOrData)?this.create(this._elementOrData,m,m.context):this.create(this._editables,m,m.context)})).then((()=>{this._fire("restart")}))}create(i=this._elementOrData,o=this._config,d){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=i,this._initUsingData=typeof i=="string"||Object.keys(i).length>0&&typeof Object.values(i)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=d,this._creator(i,this._config)))).then((u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const i=this._editor;return this._editor=null,i.model.document.off("change:data",this._throttledSave),this._destructor(i)}))}_save(){const i=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=i}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(i){this._excludedProps=i}_getData(){const i=this._editor,o=i.model.document.roots.filter((v=>v.isAttached()&&v.rootName!="$graveyard")),{plugins:d}=i,u=d.has("CommentsRepository")&&d.get("CommentsRepository"),m=d.has("TrackChanges")&&d.get("TrackChanges"),y={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach((v=>{y.roots[v.rootName]={content:JSON.stringify(Array.from(v.getChildren())),attributes:JSON.stringify(Array.from(v.getAttributes())),isLoaded:v._isLoaded}}));for(const v of i.model.markers)v._affectsData&&(y.markers[v.name]={rangeJSON:v.getRange().toJSON(),usingOperation:v._managedUsingOperations,affectsData:v._affectsData});return u&&(y.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),m&&(y.suggestions=JSON.stringify(m.getSuggestions({toJSON:!0,skipNotAttached:!0}))),y}_getEditables(){const i={};for(const o of this.editor.model.document.getRootNames()){const d=this.editor.ui.getEditableElement(o);d&&(i[o]=d)}return i}_isErrorComingFromThisItem(i){return aM(this._editor,i.context,this._excludedProps)}_cloneEditorConfiguration(i){return VA(i,((o,d)=>hd(o)||d==="context"?o:void 0))}}class ede{constructor(i){this.editor=i,this._data=i.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(i=>{i.stop(),this.editor.model.enqueueChange({isUndoable:!1},(o=>{this._restoreCollaborationData(),this._restoreEditorData(o)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(i,o){if("name"in o){const d=i.createElement(o.name,o.attributes);if(o.children)for(const u of o.children)d._appendChild(this._createNode(i,u));return d}return i.createText(o.data,o.attributes)}_restoreEditorData(i){const o=this.editor;Object.entries(this._data.roots).forEach((([d,{content:u,attributes:m}])=>{const y=JSON.parse(u),v=JSON.parse(m),A=o.model.document.getRoot(d);for(const[S,D]of v)i.setAttribute(S,D,A);for(const S of y){const D=this._createNode(i,S);i.insert(D,A,"end")}})),Object.entries(this._data.markers).forEach((([d,u])=>{const{document:m}=o.model,{rangeJSON:{start:y,end:v},...A}=u,S=m.getRoot(y.root),D=i.createPositionFromPath(S,y.path,y.stickiness),N=i.createPositionFromPath(S,v.path,v.stickiness),L=i.createRange(D,N);i.addMarker(d,{range:L,...A})}))}_restoreCollaborationData(){const i=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);i.forEach((d=>{const u=this.editor.config.get("collaboration.channelId"),m=this.editor.plugins.get("CommentsRepository");m.hasCommentThread(d.threadId)&&m.getCommentThread(d.threadId).remove(),m.addCommentThread({channelId:u,...d})})),o.forEach((d=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(d.id)?u.getSuggestion(d.id).attributes=d.attributes:u.addSuggestionData(d)}))}}const sp=Symbol("MainQueueId");class tde extends sM{constructor(i,o={}){super(o),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new rde,this._watchdogConfig=o,this._creator=d=>i.create(d),this._destructor=d=>d.destroy(),this._actionQueues.onEmpty((()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))}))}setCreator(i){this._creator=i}setDestructor(i){this._destructor=i}get context(){return this._context}create(i={}){return this._actionQueues.enqueue(sp,(()=>(this._contextConfig=i,this._create())))}getItem(i){return this._getWatchdog(i)._item}getItemState(i){return this._getWatchdog(i).state}add(i){const o=lM(i);return Promise.all(o.map((d=>this._actionQueues.enqueue(d.id,(()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let u;if(this._watchdogs.has(d.id))throw new Error(`Item with the given id is already added: '${d.id}'.`);if(d.type==="editor")return u=new oM(null,this._watchdogConfig),u.setCreator(d.creator),u._setExcludedProperties(this._contextProps),d.destructor&&u.setDestructor(d.destructor),this._watchdogs.set(d.id,u),u.on("error",((m,{error:y,causesRestart:v})=>{this._fire("itemError",{itemId:d.id,error:y}),v&&this._actionQueues.enqueue(d.id,(()=>new Promise((A=>{const S=()=>{u.off("restart",S),this._fire("itemRestart",{itemId:d.id}),A()};u.on("restart",S)}))))})),u.create(d.sourceElementOrData,d.config,this._context);throw new Error(`Not supported item type: '${d.type}'.`)})))))}remove(i){const o=lM(i);return Promise.all(o.map((d=>this._actionQueues.enqueue(d,(()=>{const u=this._getWatchdog(d);return this._watchdogs.delete(d),u.destroy()})))))}destroy(){return this._actionQueues.enqueue(sp,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(sp,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((i=>{console.error("An error happened during destroying the context or items.",i)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((i=>(this._context=i,this._contextProps=jS(this._context),Promise.all(Array.from(this._watchdogs.values()).map((o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const i=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((o=>o.destroy()))).then((()=>this._destructor(i)))}))}_getWatchdog(i){const o=this._watchdogs.get(i);if(!o)throw new Error(`Item with the given id was not registered: ${i}.`);return o}_isErrorComingFromThisItem(i){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(i))return!1;return aM(this._context,i.context)}}class rde{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(i){this._onEmptyCallbacks.push(i)}enqueue(i,o){const d=i===sp;this._activeActions++,this._queues.get(i)||this._queues.set(i,Promise.resolve());const u=(d?Promise.all(this._queues.values()):Promise.all([this._queues.get(sp),this._queues.get(i)])).then(o),m=u.catch((()=>{}));return this._queues.set(i,m),u.finally((()=>{this._activeActions--,this._queues.get(i)===m&&this._activeActions===0&&this._onEmptyCallbacks.forEach((y=>y()))}))}}function lM(g){return Array.isArray(g)?g:[g]}class nde{constructor(){this._commands=new Map}add(i,o){this._commands.set(i,o)}get(i){return this._commands.get(i)}execute(i,...o){const d=this.get(i);if(!d)throw new F("commandcollection-command-not-found",this,{commandName:i});return d.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}class ide extends as{constructor(i){super(),this.editor=i}set(i,o,d={}){if(typeof o=="string"){const u=o;o=(m,y)=>{this.editor.execute(u),y()}}super.set(i,o,d)}}const FS="contentEditing",cM="common";class sde{constructor(i){this.keystrokeInfos=new Map,this._editor=i;const o=i.config.get("menuBar.isVisible"),d=i.locale.t;this.addKeystrokeInfoCategory({id:FS,label:d("Content editing keystrokes"),description:d("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:d("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:d("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:d("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:d("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:d("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:d("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];o&&u.push({label:d("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:d("User interface and content navigation keystrokes"),description:d("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:i,label:o,description:d,groups:u}){this.keystrokeInfos.set(i,{id:i,label:o,description:d,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:i,id:cM}),u&&u.forEach((m=>{this.addKeystrokeInfoGroup({categoryId:i,...m})}))}addKeystrokeInfoGroup({categoryId:i=FS,id:o,label:d,keystrokes:u}){const m=this.keystrokeInfos.get(i);if(!m)throw new F("accessibility-unknown-keystroke-info-category",this._editor,{groupId:o,categoryId:i});m.groups.set(o,{id:o,label:d,keystrokes:u||[]})}addKeystrokeInfos({categoryId:i=FS,groupId:o=cM,keystrokes:d}){if(!this.keystrokeInfos.has(i))throw new F("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:i,keystrokes:d});const u=this.keystrokeInfos.get(i);if(!u.groups.has(o))throw new F("accessibility-unknown-keystroke-info-group",this._editor,{groupId:o,categoryId:i,keystrokes:d});u.groups.get(o).keystrokes.push(...d)}}function ade(g){return Object.getPrototypeOf(g).constructor.editorName}function LS(g){if(!g)return;const i=Array.isArray(g)?{items:g}:g,o=(function u(m){return m.flatMap((y=>typeof y=="string"?[y]:u(y.items)))})(i.items||[]);return{isMultiline:o.includes("-"),shouldNotGroupWhenFull:!!i.shouldNotGroupWhenFull,items:(d=o,d.filter((u=>u!=="|"&&u!=="-")))};var d}function ode(){let g="unknown",i="unknown";return p.isMac?g="mac":p.isWindows?g="windows":p.isiOS?g="ios":p.isAndroid&&(g="android"),p.isGecko?i="gecko":p.isBlink?i="blink":p.isSafari&&(i="safari"),{os:g,browser:i}}function lde(){return localStorage.getItem("__ckeditor-session-id")||localStorage.setItem("__ckeditor-session-id",z()),localStorage.getItem("__ckeditor-session-id")}function cde(){return c.window.CKEDITOR_PAGE_SESSION_ID=c.window.CKEDITOR_PAGE_SESSION_ID||z(),c.window.CKEDITOR_PAGE_SESSION_ID}const n1=class n1 extends Ge(){static get editorName(){return"Editor"}constructor(i={}){if(super(),"sanitizeHtml"in i)throw new F("editor-config-sanitizehtml-not-supported");const o=this.constructor,{translations:d,...u}=o.defaultConfig||{},{translations:m=d,...y}=i,v=i.language||u.language;this._context=i.context||new AQ({language:v,translations:m}),this._context._addEditor(this,!i.context);const A=Array.from(o.builtinPlugins||[]);this.config=new ND(y,u),this.config.define("plugins",A),this.config.define(this._context._getEditorConfig()),(function(D){let N=D.get("licenseKey");if(!N&&window.CKEDITOR_GLOBAL_LICENSE_KEY&&(N=window.CKEDITOR_GLOBAL_LICENSE_KEY,D.set("licenseKey",N)),!N)throw new F("license-key-missing")})(this.config),this.plugins=new CQ(this,A,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new nde,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new Gce,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const S=new Hoe;this.data=new Sce(this.model,S),this.editing=new hce(this.model,S),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Tce([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ide(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new sde(this),(function(D){const N=D.config.get("licenseKey"),L=window[Symbol.for("cke distribution")]||"sh";function q(Ae){D.enableReadOnlyMode(Symbol("invalidLicense")),D._showLicenseError(Ae)}if(N=="GPL")return void(L=="cloud"&&q("distributionChannel"));const Y=(function(Ae){const Me=Ae.split(".");return Me.length!=3?null:Me[1]})(N);if(!Y)return void q("invalid");const ne=JA(Y);if(!ne||(ue=ne,!["exp","jti","vc"].every((Ae=>Ae in ue))))return void q("invalid");var ue;if(ne.distributionChannel&&!An(ne.distributionChannel).includes(L))return void q("distributionChannel");if((function(Ae){const Me=Array.isArray(Ae)?Ae:[Ae],Ue=(function(){const Ut=[];for(let Xr=0;Xr<256;Xr++){let xn=Xr;for(let i1=0;i1<8;i1++)1&xn?xn=3988292384^xn>>>1:xn>>>=1;Ut[Xr]=xn}return Ut})();let qe=-1;const Bt=Me.map((Ut=>Array.isArray(Ut)?Ut.join(""):String(Ut))).join("");for(let Ut=0;Ut<Bt.length;Ut++)qe=qe>>>8^Ue[255&(qe^Bt.charCodeAt(Ut))];return qe=~qe>>>0,qe.toString(16).padStart(8,"0")})((function(Ae){return Object.getOwnPropertyNames(Ae).sort().filter((Me=>Me!="vc"&&Ae[Me]!=null)).map((Me=>Ae[Me]))})(ne))!=ne.vc.toLowerCase())return void q("invalid");if(new Date(1e3*ne.exp)<ie)return void q("expired");const me=ne.licensedHosts;if(me&&me.length>0&&!(function(Ae){const{hostname:Me}=new URL(window.location.href);if(Ae.includes(Me))return!0;const Ue=Me.split(".");return Ae.filter((qe=>qe.includes("*"))).map((qe=>qe.split("."))).filter((qe=>qe.length<=Ue.length)).map((qe=>Array(Ue.length-qe.length).fill(qe[0]==="*"?"*":"").concat(qe))).some((qe=>Ue.every(((Bt,Ut)=>qe[Ut]===Bt||qe[Ut]==="*"))))})(me))return void q("domainLimit");if(["evaluation","trial"].includes(ne.licenseType)&&1e3*ne.exp<Date.now())return void q("expired");if(["development","evaluation","trial"].includes(ne.licenseType)){const{licenseType:Ae}=ne,Me=Ae[0].toUpperCase()+Ae.slice(1),Ue=Ae==="evaluation"?"an":"a";console.info(`%cCKEditor 5 ${Me} License`,"color: #ffffff; background: #743CCD; font-size: 14px; padding: 4px 8px; border-radius: 4px;"),console.warn(` You are using ${Ue} ${Ae} license of CKEditor 5${Ae==="trial"?" which is for evaluation purposes only":""}. For production usage, please obtain a production license at https://portal.ckeditor.com/`)}if(["evaluation","trial"].includes(ne.licenseType)){const Ae=ne.licenseType,Me=setTimeout((()=>{q(`${Ae}Limit`)}),6e5);D.on("destroy",(()=>{clearTimeout(Me)}))}ne.usageEndpoint&&D.once("ready",(()=>{const Ae={requestId:z(),requestTime:Math.round(Date.now()/1e3),license:N,editor:dde(D)};D._sendUsageRequest(ne.usageEndpoint,Ae).then((Me=>{const{status:Ue,message:qe}=Me;qe&&console.warn(qe),Ue!="ok"&&q("usageLimit")}),(()=>{te("license-key-validation-endpoint-not-reachable",{url:ne.usageEndpoint})}))}),{priority:"high"})})(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(i){throw new F("editor-isreadonly-has-no-setter")}enableReadOnlyMode(i){if(typeof i!="string"&&typeof i!="symbol")throw new F("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)||(this._readOnlyLocks.add(i),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(i){if(typeof i!="string"&&typeof i!="symbol")throw new F("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)&&(this._readOnlyLocks.delete(i),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(i){this.data.set(i)}getData(i){return this.data.get(i)}initPlugins(){const i=this.config,o=i.get("plugins"),d=i.get("removePlugins")||[],u=i.get("extraPlugins")||[],m=i.get("substitutePlugins")||[];return this.plugins.init(o.concat(u),d,m)}destroy(){let i=Promise.resolve();return this.state=="initializing"&&(i=new Promise((o=>this.once("ready",o)))),i.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(i,...o){try{return this.commands.execute(i,...o)}catch(d){F.rethrowUnexpectedError(d,this)}}focus(){this.editing.view.focus()}static create(...i){throw new Error("This is an abstract method.")}_showLicenseError(i,o){setTimeout((()=>{if(i=="invalid")throw new F("invalid-license-key");if(i=="expired")throw new F("license-key-expired");if(i=="domainLimit")throw new F("license-key-domain-limit");if(i=="featureNotAllowed")throw new F("license-key-plugin-not-allowed",null,{pluginName:o});if(i=="evaluationLimit")throw new F("license-key-evaluation-limit");if(i=="trialLimit")throw new F("license-key-trial-limit");if(i=="developmentLimit")throw new F("license-key-development-limit");if(i=="usageLimit")throw new F("license-key-usage-limit");if(i=="distributionChannel")throw new F("license-key-invalid-distribution-channel")}),0),this._showLicenseError=()=>{}}async _sendUsageRequest(i,o){const d=new Headers({"Content-Type":"application/json"}),u=await fetch(new URL(i),{method:"POST",headers:d,body:JSON.stringify(o)});if(!u.ok)throw new Error(`HTTP Response: ${u.status}`);return u.json()}};n1.Context=AQ,n1.EditorWatchdog=oM,n1.ContextWatchdog=tde;let zS=n1;function dde(g){const i=(function(o){return{sessionId:lde(),pageSessionId:cde(),hostname:window.location.hostname,version:globalThis.CKEDITOR_VERSION,type:ade(o),plugins:(d=o.plugins,Array.from(d).filter((([u])=>!!u.pluginName)).map((([u])=>{const{pluginName:m,isContextPlugin:y,isOfficialPlugin:v,isPremiumPlugin:A}=u;return{isContext:!!y,isOfficial:!!v,isPremium:!!A,name:m}}))),distribution:{channel:window[Symbol.for("cke distribution")]||"sh"},env:ode(),integration:Object.create(null),menuBar:{isVisible:!!o.config.get("menuBar.isVisible")},language:{ui:o.locale.uiLanguage,content:o.locale.contentLanguage},toolbar:{main:LS(o.config.get("toolbar")),block:LS(o.config.get("blockToolbar")),balloon:LS(o.config.get("balloonToolbar"))}};var d})(g);return g.fire("collectUsageData",{setUsageData:function(o,d){if(p0(i,o)!==void 0)throw new F("editor-usage-data-path-already-set",{path:o});EQ(i,o,d)}}),i}function XS(g){return class extends g{updateSourceElement(i){if(!this.sourceElement)throw new F("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),d=this.sourceElement instanceof HTMLTextAreaElement;if(!o&&!d)return void qD(this.sourceElement,"");const u=typeof i=="string"?i:this.data.get();qD(this.sourceElement,u)}}}XS.updateSourceElement=XS(Object).prototype.updateSourceElement;class dM extends wb{static get pluginName(){return"PendingActions"}static get isOfficialPlugin(){return!0}init(){this.set("hasAny",!1),this._actions=new _o({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(i){if(typeof i!="string")throw new F("pendingactions-add-invalid-message",this);const o=new(Ge());return o.set("message",i),this._actions.add(o),this.hasAny=!0,o}remove(i){this._actions.remove(i),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const $t={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var Xb=s(7621),ap={attributes:{"data-cke":!0}};ap.setAttributes=gt(),ap.insert=ft().bind(null,"head"),ap.domAPI=ut(),ap.insertStyleElement=pt(),ht()(Xb.A,ap),Xb.A&&Xb.A.locals&&Xb.A.locals;const iw=class iw extends Vt{constructor(){super();const i=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",i.if("isVisible","ck-hidden",(o=>!o)),"ck-reset_all-excluded",i.if("isColorInherited","ck-icon_inherit-color")],viewBox:i.to("viewBox"),"aria-hidden":!0}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const i=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=i.getAttribute("viewBox");o&&(this.viewBox=o);for(const{name:d,value:u}of Array.from(i.attributes))iw.presentationalAttributeNames.includes(d)&&this.element.setAttribute(d,u);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((i=>{i.style.fill=this.fillColor}))}};iw.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];let Va=iw;class hM extends Vt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const i=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("style"),id:i.to("id")},children:[{text:i.to("text")}]})}}var Vb=s(9715),op={attributes:{"data-cke":!0}};op.setAttributes=gt(),op.insert=ft().bind(null,"head"),op.domAPI=ut(),op.insertStyleElement=pt(),ht()(Vb.A,op),Vb.A&&Vb.A.locals&&Vb.A.locals;class Er extends Vt{constructor(i,o=new hM){super(i),this._focusDelayed=null;const d=this.bindTemplate,u=z();this.set("_ariaPressed",!1),this.set("_ariaChecked",!1),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(o),this.iconView=new Va,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const m={tag:"button",attributes:{class:["ck","ck-button",d.to("class"),d.if("isEnabled","ck-disabled",(y=>!y)),d.if("isVisible","ck-hidden",(y=>!y)),d.to("isOn",(y=>y?"ck-on":"ck-off")),d.if("withText","ck-button_with-text"),d.if("withKeystroke","ck-button_with-keystroke")],role:d.to("role"),type:d.to("type",(y=>y||"button")),tabindex:d.to("tabindex"),"aria-checked":d.to("_ariaChecked"),"aria-pressed":d.to("_ariaPressed"),"aria-label":d.to("ariaLabel"),"aria-labelledby":d.to("ariaLabelledBy"),"aria-disabled":d.if("isEnabled",!0,(y=>!y)),"data-cke-tooltip-text":d.to("_tooltipString"),"data-cke-tooltip-position":d.to("tooltipPosition")},children:this.children,on:{click:d.to((y=>{this.isEnabled?this.fire("execute"):y.preventDefault()}))}};this.bind("_ariaPressed").to(this,"isOn",this,"isToggleable",this,"role",((y,v,A)=>!(!v||uM(A))&&String(!!y))),this.bind("_ariaChecked").to(this,"isOn",this,"isToggleable",this,"role",((y,v,A)=>!(!v||!uM(A))&&String(!!y))),p.isSafari&&(this._focusDelayed||(this._focusDelayed=KA((()=>this.focus()),0)),m.on.mousedown=d.to((()=>{this._focusDelayed()})),m.on.mouseup=d.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(m)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(i){return i.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),i}_createKeystrokeView(){const i=new Vt;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(o=>mb(o)))}]}),i}_getTooltipString(i,o,d){return i?typeof i=="string"?i:(d&&(d=mb(d)),i instanceof Function?i(o,d):`${o}${d?` (${d})`:""}`):""}}function uM(g){switch(g){case"radio":case"checkbox":case"option":case"switch":case"menuitemcheckbox":case"menuitemradio":return!0;default:return!1}}var Ub=s(7913),lp={attributes:{"data-cke":!0}};lp.setAttributes=gt(),lp.insert=ft().bind(null,"head"),lp.domAPI=ut(),lp.insertStyleElement=pt(),ht()(Ub.A,lp),Ub.A&&Ub.A.locals&&Ub.A.locals;class hde extends Vt{constructor(i,o={}){super(i);const d=this.bindTemplate;this.set("label",o.label||""),this.set("class",o.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",d.to("class")]},children:this.children}),o.icon&&(this.iconView=new Va,this.iconView.content=o.icon,this.children.add(this.iconView));const u=new Vt(i);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:d.to("label")}]}),this.children.add(u)}}class Qo extends K(){constructor(i){if(super(),this.focusables=i.focusables,this.focusTracker=i.focusTracker,this.keystrokeHandler=i.keystrokeHandler,this.actions=i.actions,i.actions&&i.keystrokeHandler)for(const o in i.actions){let d=i.actions[o];typeof d=="string"&&(d=[d]);for(const u of d)i.keystrokeHandler.set(u,((m,y)=>{this[o](),y()}),i.keystrokeHandlerOptions)}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(VS)||null}get last(){return this.focusables.filter(VS).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let i=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(((o,d)=>{const u=o.element===this.focusTracker.focusedElement;return u&&(i=d),u})),i)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const i=this.next;i&&this.focusables.getIndex(i)===this.current||i===this.first?this.fire("forwardCycle"):this._focus(i,1)}focusPrevious(){const i=this.previous;i&&this.focusables.getIndex(i)===this.current||i===this.last?this.fire("backwardCycle"):this._focus(i,-1)}chain(i){const o=()=>this.current===null?null:this.focusables.get(this.current);this.listenTo(i,"forwardCycle",(d=>{const u=o();this.focusNext(),u!==o()&&d.stop()}),{priority:"low"}),this.listenTo(i,"backwardCycle",(d=>{const u=o();this.focusPrevious(),u!==o()&&d.stop()}),{priority:"low"})}unchain(i){this.stopListening(i)}_focus(i,o){i&&this.focusTracker.focusedElement!==i.element&&i.focus(o)}_getDomFocusableItem(i){const o=this.focusables.length;if(!o)return null;const d=this.current;if(d===null)return this[i===1?"first":"last"];let u=this.focusables.get(d),m=(d+o+i)%o;do{const y=this.focusables.get(m);if(VS(y)){u=y;break}m=(m+o+i)%o}while(m!==d);return u}}function VS(g){return cp(g)&&nc(g.element)}function cp(g){return!(!("focus"in g)||typeof g.focus!="function")}function ude(g){return class extends g{constructor(...i){super(...i),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(c.document,"mouseup",this._onDragEndBound),this.listenTo(c.document,"touchend",this._onDragEndBound),this.listenTo(c.document,"mousemove",this._onDragBound),this.listenTo(c.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(c.document,"mouseup",this._onDragEndBound),this.stopListening(c.document,"touchend",this._onDragEndBound),this.stopListening(c.document,"mousemove",this._onDragBound),this.stopListening(c.document,"touchmove",this._onDragBound)}_onDragStart(i,o){if(!this._isHandleElementPressed(o))return;this._attachDragListeners();let d=0,u=0;o instanceof MouseEvent?(d=o.clientX,u=o.clientY):(d=o.touches[0].clientX,u=o.touches[0].clientY),this._lastDraggingCoordinates={x:d,y:u},this.isDragging=!0}_onDrag(i,o){if(!this.isDragging)return void this._detachDragListeners();let d=0,u=0;o instanceof MouseEvent?(d=o.clientX,u=o.clientY):(d=o.touches[0].clientX,u=o.touches[0].clientY),o.preventDefault(),this.fire("drag",{deltaX:Math.round(d-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:d,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(i){return!!this.dragHandleElement&&(this.dragHandleElement===i.target||i.target instanceof HTMLElement&&this.dragHandleElement.contains(i.target))}}}var qb=s(9822),dp={attributes:{"data-cke":!0}};dp.setAttributes=gt(),dp.insert=ft().bind(null,"head"),dp.domAPI=ut(),dp.insertStyleElement=pt(),ht()(qb.A,dp),qb.A&&qb.A.locals&&qb.A.locals;class fde extends Vt{constructor(i){super(i),this.children=this.createCollection(),this.keystrokes=new as,this._focusTracker=new si,this._focusables=new Co,this.focusCycler=new Qo({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(i){for(const o of i){const d=new Er(this.locale);let u;for(u in d.on("execute",(()=>o.onExecute())),o.onCreate&&o.onCreate(d),o)u!="onExecute"&&u!="onCreate"&&d.set(u,o[u]);this.children.add(d)}this._updateFocusCyclableItems()}focus(i){i===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((i=>{this._focusables.add(i),this._focusTracker.add(i.element)}))}}class gde extends Vt{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var Wb=s(9819),hp={attributes:{"data-cke":!0}};hp.setAttributes=gt(),hp.insert=ft().bind(null,"head"),hp.domAPI=ut(),hp.insertStyleElement=pt(),ht()(Wb.A,hp),Wb.A&&Wb.A.locals&&Wb.A.locals;const Yb="screen-center",fM="editor-center",pde="editor-top-side",mde="editor-top-center",Ode="editor-bottom-center",xde="editor-above-center",bde="editor-below-center",gM=h0("px"),sw=class sw extends ude(Vt){constructor(i,{getCurrentDomRoot:o,getViewportOffset:d,keystrokeHandlerOptions:u}){super(i),this.wasMoved=!1;const m=this.bindTemplate,y=i.t;this.set("className",""),this.set("ariaLabel",y("Editor dialog")),this.set("isModal",!1),this.set("position",Yb),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=o,this._getViewportOffset=d,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new as,this.focusTracker=new si,this._focusables=new Co,this._focusCycler=new Qo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"},keystrokeHandlerOptions:u}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",m.if("isModal","ck-dialog-overlay__transparent",(v=>!v)),m.if("_isVisible","ck-hidden",(v=>!v))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",m.if("isModal","ck-dialog_modal"),m.to("className")],role:"dialog","aria-label":m.to("ariaLabel"),style:{top:m.to("_top",(v=>gM(v))),left:m.to("_left",(v=>gM(v))),visibility:m.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((i,o)=>{i.defaultPrevented||(this.fire("close",{source:"escKeyPress"}),o())})),this.on("drag",((i,{deltaX:o,deltaY:d})=>{this.wasMoved=!0,this.moveBy(o,d)})),this.listenTo(c.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(c.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((i,o,d)=>{d&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView&&!this.isModal?this.headerView.element:null}setupParts({icon:i,title:o,hasCloseButton:d=!0,content:u,actionButtons:m}){o&&(this.headerView=new hde(this.locale,{icon:i}),d&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=o,this.ariaLabel=o,this.parts.add(this.headerView,0)),u&&(u instanceof Vt&&(u=[u]),this.contentView=new gde(this.locale),this.contentView.children.addMany(u),this.parts.add(this.contentView)),m&&(this.actionsView=new fde(this.locale),this.actionsView.setButtons(m),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(i,o){const d=this._getViewportRect(),u=this._getDialogRect();i+u.width>d.right&&(i=d.right-u.width),i<d.left&&(i=d.left),o<d.top&&(o=d.top),this._moveTo(i,o)}_moveTo(i,o){this._left=i,this._top=o}moveBy(i,o){this.moveTo(this._left+i,this._top+o)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const i=this._getViewportRect();let o,d=this.position;this._getCurrentDomRoot()?o=this._getVisibleDomRootRect(i):d=Yb;const u=sw.defaultOffset,m=this._getDialogRect();switch(d){case pde:if(o){const y=this.locale.contentLanguageDirection==="ltr"?o.right-m.width-u:o.left+u;this.moveTo(y,o.top+u)}else this._moveOffScreen();break;case fM:o?this.moveTo(Math.round(o.left+o.width/2-m.width/2),Math.round(o.top+o.height/2-m.height/2)):this._moveOffScreen();break;case Yb:this.moveTo(Math.round((i.width-m.width)/2),Math.round((i.height-m.height)/2));break;case mde:o?this.moveTo(Math.round(o.left+o.width/2-m.width/2),o.top+u):this._moveOffScreen();break;case Ode:o?this.moveTo(Math.round(o.left+o.width/2-m.width/2),o.bottom-m.height-u):this._moveOffScreen();break;case xde:o?this.moveTo(Math.round(o.left+o.width/2-m.width/2),o.top-m.height-u):this._moveOffScreen();break;case bde:o?this.moveTo(Math.round(o.left+o.width/2-m.width/2),o.bottom+u):this._moveOffScreen()}}_getVisibleDomRootRect(i){let o=new wr(this._getCurrentDomRoot()).getVisible();return o?(o=i.getIntersection(o),o||null):null}_getDialogRect(){return new wr(this.element.firstElementChild)}_getViewportRect(){const i=new wr(c.window);if(this.isModal)return i;const o={top:0,bottom:0,left:0,right:0,...this._getViewportOffset()};return i.top+=o.top,i.height-=o.top,i.bottom-=o.bottom,i.height-=o.bottom,i.left+=o.left,i.right-=o.right,i.width-=o.left+o.right,i}_updateFocusCyclableItems(){const i=[];if(this.contentView)for(const o of this.contentView.children)cp(o)&&i.push(o);this.actionsView&&i.push(this.actionsView),this.closeButtonView&&i.push(this.closeButtonView),i.forEach((o=>{var d;this._focusables.add(o),this.focusTracker.add(o.element),cp(d=o)&&"focusCycler"in d&&d.focusCycler instanceof Qo&&this._focusCycler.chain(o.focusCycler)}))}_createCloseButton(){const i=new Er(this.locale),o=this.locale.t;return i.set({label:o("Close"),tooltip:!0,icon:$t.cancel}),i.on("execute",(()=>this.fire("close",{source:"closeButton"}))),i}};sw.defaultOffset=15;let up=sw;class $o extends at{static get pluginName(){return"Dialog"}static get isOfficialPlugin(){return!0}constructor(i){super(i);const o=i.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set({id:null,isOpen:!1}),i.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:o("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}destroy(){super.destroy(),$o._visibleDialogPlugin===this&&this._unlockBodyScroll()}_initShowHideListeners(){this.on("show",((i,o)=>{this._show(o)})),this.on("show",((i,o)=>{o.onShow&&o.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{$o._visibleDialogPlugin&&$o._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const i=this.editor;i.keystrokes.set("Ctrl+F6",((o,d)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?i.editing.view.focus():this.view.focus(),d())}))}_initMultiRootIntegration(){const i=this.editor.model;i.document.on("change:data",(()=>{if(!this.view)return;const o=i.document.differ.getChangedRoots();for(const d of o)d.state&&this.view.updatePosition()}))}show(i){this.hide(),this.fire(`show:${i.id}`,i)}_show({id:i,icon:o,title:d,hasCloseButton:u=!0,content:m,actionButtons:y,className:v,isModal:A,position:S,onHide:D,keystrokeHandlerOptions:N}){const L=this.editor;this.view=new up(L.locale,{getCurrentDomRoot:()=>L.editing.view.getDomRoot(L.model.document.selection.anchor.root.rootName),getViewportOffset:()=>L.ui.viewportOffset,keystrokeHandlerOptions:N});const q=this.view;q.on("close",(()=>{this.hide()})),L.ui.view.body.add(q),L.keystrokes.listenTo(q.element),S||(S=A?Yb:fM),A&&this._lockBodyScroll(),q.set({position:S,_isVisible:!0,className:v,isModal:A}),q.setupParts({icon:o,title:d,hasCloseButton:u,content:m,actionButtons:y}),this.id=i,D&&(this._onHide=D),this.isOpen=!0,$o._visibleDialogPlugin=this}hide(){$o._visibleDialogPlugin&&$o._visibleDialogPlugin.fire(`hide:${$o._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const i=this.editor,o=this.view;o.isModal&&this._unlockBodyScroll(),o.contentView&&o.contentView.reset(),i.ui.view.body.remove(o),i.ui.focusTracker.remove(o.element),i.keystrokes.stopListening(o.element),o.destroy(),i.editing.view.focus(),this.id=null,this.isOpen=!1,$o._visibleDialogPlugin=null}_lockBodyScroll(){document.documentElement.classList.add("ck-dialog-scroll-locked")}_unlockBodyScroll(){document.documentElement.classList.remove("ck-dialog-scroll-locked")}}var Zb=s(278),fp={attributes:{"data-cke":!0}};fp.setAttributes=gt(),fp.insert=ft().bind(null,"head"),fp.domAPI=ut(),fp.insertStyleElement=pt(),ht()(Zb.A,fp),Zb.A&&Zb.A.locals&&Zb.A.locals;class Xh extends Er{constructor(i,o=new hM){super(i,o),this._checkIconHolderView=new kde,this.set({hasCheckSpace:!1,_hasCheck:this.isToggleable});const d=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-list-item-button",d.if("isToggleable","ck-list-item-button_toggleable")]}}),this.bind("_hasCheck").to(this,"hasCheckSpace",this,"isToggleable",((u,m)=>u||m))}render(){super.render(),this._hasCheck&&this.children.add(this._checkIconHolderView,0),this._watchCheckIconHolderMount()}_watchCheckIconHolderMount(){this._checkIconHolderView.bind("isOn").to(this,"isOn",(i=>this.isToggleable&&i)),this.on("change:_hasCheck",((i,o,d)=>{const{children:u,_checkIconHolderView:m}=this;d?u.add(m,0):u.remove(m)}))}}class kde extends Vt{constructor(){super(),this._checkIconView=this._createCheckIconView();const i=this.bindTemplate;this.children=this.createCollection(),this.set("isOn",!1),this.setTemplate({tag:"span",children:this.children,attributes:{class:["ck","ck-list-item-button__check-holder",i.to("isOn",(o=>o?"ck-on":"ck-off"))]}})}render(){super.render(),this.isOn&&this.children.add(this._checkIconView,0),this._watchCheckIconMount()}_watchCheckIconMount(){this.on("change:isOn",((i,o,d)=>{const{children:u,_checkIconView:m}=this;d&&!u.has(m)?u.add(m):!d&&u.has(m)&&u.remove(m)}))}_createCheckIconView(){const i=new Va;return i.content=$t.check,i.extendTemplate({attributes:{class:"ck-list-item-button__check-icon"}}),i}}var Gb=s(977),gp={attributes:{"data-cke":!0}};gp.setAttributes=gt(),gp.insert=ft().bind(null,"head"),gp.domAPI=ut(),gp.insertStyleElement=pt(),ht()(Gb.A,gp),Gb.A&&Gb.A.locals&&Gb.A.locals;class Ui extends Xh{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var Hb=s(7801),pp={attributes:{"data-cke":!0}};pp.setAttributes=gt(),pp.insert=ft().bind(null,"head"),pp.domAPI=ut(),pp.insertStyleElement=pt(),ht()(Hb.A,pp),Hb.A&&Hb.A.locals&&Hb.A.locals;class Kb extends Vt{constructor(i){super(i),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${z()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class yde extends Vt{constructor(i,o){super(i);const d=i.t,u=new Kb;u.text=d("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[_t(document,"p",{},d("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(o.values())),u]})}focus(){this.element.focus()}_createCategories(i){return i.map((o=>{const d=[_t(document,"h3",{},o.label),...Array.from(o.groups.values()).map((u=>this._createGroup(u))).flat()];return o.description&&d.splice(1,0,_t(document,"p",{},o.description)),_t(document,"section",{},d)}))}_createGroup(i){const o=i.keystrokes.sort(((u,m)=>u.label.localeCompare(m.label))).map((u=>this._createGroupRow(u))).flat(),d=[_t(document,"dl",{},o)];return i.label&&d.unshift(_t(document,"h4",{},i.label)),d}_createGroupRow(i){const o=this.locale.t,d=_t(document,"dt"),u=_t(document,"dd"),m=(function(v){return typeof v=="string"?[[v]]:typeof v[0]=="string"?[v]:v})(i.keystroke),y=[];for(const v of m)y.push(v.map(wde).join(""));return d.innerHTML=i.label,u.innerHTML=y.join(", ")+(i.mayRequireFn&&p.isMac?` ${o("(may require <kbd>Fn</kbd>)")}`:""),[d,u]}}function wde(g){return mb(g).split("+").map((i=>`<kbd>${i}</kbd>`)).join("+")}const pM='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Jb=s(8527),mp={attributes:{"data-cke":!0}};mp.setAttributes=gt(),mp.insert=ft().bind(null,"head"),mp.domAPI=ut(),mp.insertStyleElement=pt(),ht()(Jb.A,mp),Jb.A&&Jb.A.locals&&Jb.A.locals;class vde extends at{constructor(){super(...arguments),this.contentView=null}static get requires(){return[$o]}static get pluginName(){return"AccessibilityHelp"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.locale.t;i.ui.componentFactory.add("accessibilityHelp",(()=>{const d=this._createButton(Er);return d.set({tooltip:!0,withText:!1,label:o("Accessibility help")}),d})),i.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const d=this._createButton(Ui);return d.label=o("Accessibility"),d})),i.keystrokes.set("Alt+0",((d,u)=>{this._toggleDialog(),u()})),this._setupRootLabels()}_createButton(i){const o=this.editor,d=o.plugins.get("Dialog"),u=new i(o.locale);return u.set({keystroke:"Alt+0",icon:pM,isToggleable:!0}),u.on("execute",(()=>this._toggleDialog())),u.bind("isOn").to(d,"id",(m=>m==="accessibilityHelp")),u}_setupRootLabels(){const i=this.editor,o=i.editing.view,d=i.t;function u(m,y){const v=[y.getAttribute("aria-label"),d("Press %0 for help.",[mb("Alt+0")])].filter((A=>A)).join(". ");m.setAttribute("aria-label",v,y)}i.ui.on("ready",(()=>{o.change((m=>{for(const y of o.document.roots)u(m,y)})),i.on("addRoot",((m,y)=>{const v=i.editing.view.document.getRoot(y.rootName);o.change((A=>u(A,v)))}),{priority:"low"})}))}_toggleDialog(){const i=this.editor,o=i.plugins.get("Dialog"),d=i.locale.t;this.contentView||(this.contentView=new yde(i.locale,i.accessibility.keystrokeInfos)),o.id==="accessibilityHelp"?o.hide():o.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:d("Accessibility help"),icon:pM,hasCloseButton:!0,content:this.contentView})}}class Mo extends Co{constructor(i,o=[]){super(o),this.locale=i}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Ao({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection,role:"application"},children:this}).render(),Mo._bodyWrapper&&Mo._bodyWrapper.isConnected||(Mo._bodyWrapper=_t(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Mo._bodyWrapper)),Mo._bodyWrapper.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove(),Mo._bodyWrapper&&!Mo._bodyWrapper.childElementCount&&(Mo._bodyWrapper.remove(),delete Mo._bodyWrapper)}}var ek=s(4391),Op={attributes:{"data-cke":!0}};Op.setAttributes=gt(),Op.insert=ft().bind(null,"head"),Op.domAPI=ut(),Op.insertStyleElement=pt(),ht()(ek.A,Op),ek.A&&ek.A.locals&&ek.A.locals;class tk extends Er{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new Vt;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}class mM extends OM(Er){}class _de extends OM(Xh){}function OM(g){return class extends g{constructor(...i){super(...i),this.buttonView=this,this._fileInputView=new Cde(this.locale),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}}class Cde extends Vt{constructor(i){super(i),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const xp='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var rk=s(25),bp={attributes:{"data-cke":!0}};bp.setAttributes=gt(),bp.insert=ft().bind(null,"head"),bp.domAPI=ut(),bp.insertStyleElement=pt(),ht()(rk.A,bp),rk.A&&rk.A.locals&&rk.A.locals;class Ade extends Vt{constructor(i,o){super(i);const d=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),o&&this.children.addMany(o),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",d.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:d.if("isCollapsed","hidden"),"aria-labelledby":d.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const i=new Er(this.locale),o=i.bindTemplate;return i.set({withText:!0,icon:xp}),i.extendTemplate({attributes:{"aria-expanded":o.to("isOn",(d=>String(d)))}}),i.bind("label").to(this),i.bind("isOn").to(this,"isCollapsed",(d=>!d)),i.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),i}}var nk=s(7317),kp={attributes:{"data-cke":!0}};kp.setAttributes=gt(),kp.insert=ft().bind(null,"head"),kp.domAPI=ut(),kp.insertStyleElement=pt(),ht()(nk.A,kp),nk.A&&nk.A.locals&&nk.A.locals,s(6931),s(9047);var ik=s(4962),yp={attributes:{"data-cke":!0}};yp.setAttributes=gt(),yp.insert=ft().bind(null,"head"),yp.domAPI=ut(),yp.insertStyleElement=pt(),ht()(ik.A,yp),ik.A&&ik.A.locals&&ik.A.locals;class sk extends Vt{constructor(i,o){super(i);const d=`ck-labeled-field-view-${z()}`,u=`ck-labeled-field-view-status-${z()}`;this.fieldView=o(this,d,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(d),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((y,v)=>y||v));const m=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",m.to("class"),m.if("isEnabled","ck-disabled",(y=>!y)),m.if("isEmpty","ck-labeled-field-view_empty"),m.if("isFocused","ck-labeled-field-view_focused"),m.if("placeholder","ck-labeled-field-view_placeholder"),m.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(i){const o=new Kb(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createStatusView(i){const o=new Vt(this.locale),d=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",d.if("errorText","ck-labeled-field-view__status_error"),d.if("_statusText","ck-hidden",(u=>!u))],id:i,role:d.if("errorText","alert")},children:[{text:d.to("_statusText")}]}),o}focus(i){this.fieldView.focus(i)}}class Sde extends Vt{constructor(i){super(i),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new si,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),tabindex:o.to("tabIndex"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById"),"aria-label":o.to("ariaLabel")},on:{input:o.to(((...d)=>{this.fire("input",...d),this._updateIsEmpty()})),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((i,o,d)=>{this._setDomElementValue(d),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||i===0?i:""}}var ak=s(253),wp={attributes:{"data-cke":!0}};wp.setAttributes=gt(),wp.insert=ft().bind(null,"head"),wp.domAPI=ut(),wp.insertStyleElement=pt(),ht()(ak.A,wp),ak.A&&ak.A.locals&&ak.A.locals;class Tde extends Sde{constructor(i){super(i),this.set("inputMode","text");const o=this.bindTemplate;this.extendTemplate({attributes:{inputmode:o.to("inputMode")}})}}class Ede extends Tde{constructor(i){super(i),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var ok=s(1671),vp={attributes:{"data-cke":!0}};vp.setAttributes=gt(),vp.insert=ft().bind(null,"head"),vp.domAPI=ut(),vp.insertStyleElement=pt(),ht()(ok.A,vp),ok.A&&ok.A.locals&&ok.A.locals;class Pde extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",(d=>`ck-dropdown__panel_${d}`)),o.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:o.to((d=>{d.target.tagName.toLocaleLowerCase()!=="input"&&d.preventDefault()}))}})}focus(){if(this.children.length){const i=this.children.first;typeof i.focus=="function"?i.focus():V("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const i=this.children.last;typeof i.focusLast=="function"?i.focusLast():i.focus()}}}var lk=s(8149),_p={attributes:{"data-cke":!0}};_p.setAttributes=gt(),_p.insert=ft().bind(null,"head"),_p.domAPI=ut(),_p.insertStyleElement=pt(),ht()(lk.A,_p),lk.A&&lk.A.locals&&lk.A.locals;const N0=class N0 extends Vt{constructor(i,o,d){super(i);const u=this.bindTemplate;this.buttonView=o,this.panelView=d,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new as,this.focusTracker=new si,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",u.to("class"),u.if("isEnabled","ck-disabled",(m=>!m))],id:u.to("id"),"aria-describedby":u.to("ariaDescribedById")},children:[o,d]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":u.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((o,d,u)=>{if(u)if(this.panelPosition==="auto"){const m=N0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=m?m.name:this._defaultPanelPositionName}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const i=(o,d)=>{this.isOpen&&(this.isOpen=!1,d())};this.keystrokes.set("arrowdown",((o,d)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,d())})),this.keystrokes.set("arrowright",((o,d)=>{this.isOpen&&d()})),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:i,north:o,southEast:d,southWest:u,northEast:m,northWest:y,southMiddleEast:v,southMiddleWest:A,northMiddleEast:S,northMiddleWest:D}=N0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[d,u,v,A,i,m,y,S,D,o]:[u,d,A,v,i,y,m,D,S,o]}get _defaultPanelPositionName(){return this.locale.uiLanguageDirection==="rtl"?"sw":"se"}};N0.defaultPanelPositions={south:(i,o)=>({top:i.bottom,left:i.left-(o.width-i.width)/2,name:"s"}),southEast:i=>({top:i.bottom,left:i.left,name:"se"}),southWest:(i,o)=>({top:i.bottom,left:i.left-o.width+i.width,name:"sw"}),southMiddleEast:(i,o)=>({top:i.bottom,left:i.left-(o.width-i.width)/4,name:"sme"}),southMiddleWest:(i,o)=>({top:i.bottom,left:i.left-3*(o.width-i.width)/4,name:"smw"}),north:(i,o)=>({top:i.top-o.height,left:i.left-(o.width-i.width)/2,name:"n"}),northEast:(i,o)=>({top:i.top-o.height,left:i.left,name:"ne"}),northWest:(i,o)=>({top:i.top-o.height,left:i.left-o.width+i.width,name:"nw"}),northMiddleEast:(i,o)=>({top:i.top-o.height,left:i.left-(o.width-i.width)/4,name:"nme"}),northMiddleWest:(i,o)=>({top:i.top-o.height,left:i.left-3*(o.width-i.width)/4,name:"nmw"})},N0._getOptimalPosition=pb;let US=N0;class Dde extends Er{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(o=>String(o)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new Va;return i.content=xp,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}var ck=s(4767),Cp={attributes:{"data-cke":!0}};Cp.setAttributes=gt(),Cp.insert=ft().bind(null,"head"),Cp.domAPI=ut(),Cp.insertStyleElement=pt(),ht()(ck.A,Cp),ck.A&&ck.A.locals&&ck.A.locals;var dk=s(9554),Ap={attributes:{"data-cke":!0}};Ap.setAttributes=gt(),Ap.insert=ft().bind(null,"head"),Ap.domAPI=ut(),Ap.insertStyleElement=pt(),ht()(dk.A,Ap),dk.A&&dk.A.locals&&dk.A.locals;class Qde extends Xh{constructor(i){super(i);const o=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list__nested-menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(d=>String(d))),"data-cke-tooltip-disabled":o.to("isOn")},on:{mouseenter:o.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new Va;return i.content=xp,i.extendTemplate({attributes:{class:"ck-dropdown-menu-list__nested-menu__button__arrow"}}),i}}class Od extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",(d=>!d))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class qS extends Vt{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class hk extends Vt{constructor(i,o=new Kb){super(i);const d=this.bindTemplate,u=new fk(i);this.set({label:"",isVisible:!0}),this.labelView=o,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:o.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",d.if("isVisible","ck-hidden",(m=>!m))]},children:this.children})}focus(){if(this.items){const i=this.items.find((o=>!(o instanceof qS)));i&&i.focus()}}}var uk=s(5199),Sp={attributes:{"data-cke":!0}};Sp.setAttributes=gt(),Sp.insert=ft().bind(null,"head"),Sp.domAPI=ut(),Sp.insertStyleElement=pt(),ht()(uk.A,Sp),uk.A&&uk.A.locals&&uk.A.locals;class fk extends Vt{constructor(i){super(i),this._listItemGroupToChangeListeners=new WeakMap;const o=this.bindTemplate;this.focusables=new Co,this.items=this.createCollection(),this.focusTracker=new si,this.keystrokes=new as,this._focusCycler=new Qo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:o.to("role"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const i of this.items)i instanceof hk?this._registerFocusableItemsGroup(i):i instanceof Od&&this._registerFocusableListItem(i);this.items.on("change",((i,o)=>{for(const d of o.removed)d instanceof hk?this._deregisterFocusableItemsGroup(d):d instanceof Od&&this._deregisterFocusableListItem(d);for(const d of Array.from(o.added).reverse())d instanceof hk?this._registerFocusableItemsGroup(d,o.index):this._registerFocusableListItem(d,o.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(i,o){this.focusTracker.add(i.element),this.focusables.add(i,o)}_deregisterFocusableListItem(i){this.focusTracker.remove(i.element),this.focusables.remove(i)}_getOnGroupItemsChangeCallback(i){return(o,d)=>{for(const u of d.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(d.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(i)+d.index)}}_registerFocusableItemsGroup(i,o){Array.from(i.items).forEach(((u,m)=>{const y=o!==void 0?o+m:void 0;this._registerFocusableListItem(u,y)}));const d=this._getOnGroupItemsChangeCallback(i);this._listItemGroupToChangeListeners.set(i,d),i.items.on("change",d)}_deregisterFocusableItemsGroup(i){for(const o of i.items)this._deregisterFocusableListItem(o);i.items.off("change",this._listItemGroupToChangeListeners.get(i)),this._listItemGroupToChangeListeners.delete(i)}}class $de extends fk{constructor(i){super(i);const o=this.bindTemplate;this.role="menu",this.set("isVisible",!0),this.extendTemplate({attributes:{class:["ck-dropdown-menu-list",o.if("isVisible","ck-hidden",(d=>!d))]}})}}const Mde={eastSouth:g=>({top:g.top,left:g.right-5,name:"es"}),eastNorth:(g,i)=>({top:g.top-i.height+g.height,left:g.right-5,name:"en"}),westSouth:(g,i)=>({top:g.top,left:g.left-i.width+5,name:"ws"}),westNorth:(g,i)=>({top:g.top-i.height+g.height,left:g.left-i.width+5,name:"wn"})};var gk=s(2171),Tp={attributes:{"data-cke":!0}};Tp.setAttributes=gt(),Tp.insert=ft().bind(null,"head"),Tp.domAPI=ut(),Tp.insertStyleElement=pt(),ht()(gk.A,Tp),gk.A&&gk.A.locals&&gk.A.locals;const _0={openOnArrowRightKey(g){const i=g.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";g.keystrokes.set(i,((o,d)=>{g.focusTracker.focusedElement===g.buttonView.element&&g.isEnabled&&(g.isOpen||(g.isOpen=!0),g.panelView.focus(),d())}))},openOnButtonClick(g){g.buttonView.on("execute",(()=>{g.isEnabled&&(g.isOpen=!0)}))},openAndFocusOnEnterKeyPress(g){g.keystrokes.set("enter",((i,o)=>{g.focusTracker.focusedElement===g.buttonView.element&&(g.isOpen=!0,g.panelView.focus(),o())}))},closeOnArrowLeftKey(g){const i=g.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";g.keystrokes.set(i,((o,d)=>{g.isOpen&&(g.focus(),g.isOpen=!1,d())}))},closeOnEscKey(g){g.keystrokes.set("esc",((i,o)=>{g.isOpen&&(g.focus(),g.isOpen=!1,o())}))},closeOnParentClose(g,i){i.on("change:isOpen",((o,d,u)=>{u||o.source!==i||(g.isOpen=!1)}))}};var pk=s(3710),Ep={attributes:{"data-cke":!0}};Ep.setAttributes=gt(),Ep.insert=ft().bind(null,"head"),Ep.domAPI=ut(),Ep.insertStyleElement=pt(),ht()(pk.A,Ep),pk.A&&pk.A.locals&&pk.A.locals;const xM=h0("px"),Rde={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},ka=class ka extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this._resizeObserver=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",(d=>`ck-balloon-panel_${d}`)),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",xM),left:o.to("left",xM)}},children:this.content})}destroy(){this.hide(),super.destroy()}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(i){const o=mk(i.target);if(o&&!nc(o))return!1;this.show();const d=ka.defaultPositions,u=Object.assign({},{element:this.element,positions:[d.southArrowNorth,d.southArrowNorthMiddleWest,d.southArrowNorthMiddleEast,d.southArrowNorthWest,d.southArrowNorthEast,d.northArrowSouth,d.northArrowSouthMiddleWest,d.northArrowSouthMiddleEast,d.northArrowSouthWest,d.northArrowSouthEast,d.viewportStickyNorth],limiter:c.document.body,fitInViewport:!0},i),m=ka._getOptimalPosition(u)||Rde,y=parseInt(m.left),v=parseInt(m.top),A=m.name,S=m.config||{},{withArrow:D=!0}=S;return this.top=v,this.left=y,this.position=A,this.withArrow=D,!0}pin(i){this.unpin(),this._startPinning(i)&&(this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(i):this._stopPinning()},this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback))}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(i){if(!this.attachTo(i))return!1;let o=mk(i.target);const d=i.limiter?mk(i.limiter):c.document.body;if(this.listenTo(c.document,"scroll",((u,m)=>{const y=m.target,v=o&&y.contains(o),A=d&&y.contains(d);!v&&!A&&o&&d||this.attachTo(i)}),{useCapture:!0}),this.listenTo(c.window,"resize",(()=>{this.attachTo(i)})),!this._resizeObserver&&(o&&$n(o)&&(o=o.parentElement),o)){const u=()=>{nc(o)||this.unpin()};this._resizeObserver=new Ng(o,u)}return!0}_stopPinning(){this.stopListening(c.document,"scroll"),this.stopListening(c.window,"resize"),this._resizeObserver&&(this._resizeObserver.destroy(),this._resizeObserver=null)}static generatePositions(i={}){const{sideOffset:o=ka.arrowSideOffset,heightOffset:d=ka.arrowHeightOffset,stickyVerticalOffset:u=ka.stickyVerticalOffset,config:m}=i;return{northWestArrowSouthWest:(A,S)=>({top:y(A,S),left:A.left-o,name:"arrow_sw",...m&&{config:m}}),northWestArrowSouthMiddleWest:(A,S)=>({top:y(A,S),left:A.left-.25*S.width-o,name:"arrow_smw",...m&&{config:m}}),northWestArrowSouth:(A,S)=>({top:y(A,S),left:A.left-S.width/2,name:"arrow_s",...m&&{config:m}}),northWestArrowSouthMiddleEast:(A,S)=>({top:y(A,S),left:A.left-.75*S.width+o,name:"arrow_sme",...m&&{config:m}}),northWestArrowSouthEast:(A,S)=>({top:y(A,S),left:A.left-S.width+o,name:"arrow_se",...m&&{config:m}}),northArrowSouthWest:(A,S)=>({top:y(A,S),left:A.left+A.width/2-o,name:"arrow_sw",...m&&{config:m}}),northArrowSouthMiddleWest:(A,S)=>({top:y(A,S),left:A.left+A.width/2-.25*S.width-o,name:"arrow_smw",...m&&{config:m}}),northArrowSouth:(A,S)=>({top:y(A,S),left:A.left+A.width/2-S.width/2,name:"arrow_s",...m&&{config:m}}),northArrowSouthMiddleEast:(A,S)=>({top:y(A,S),left:A.left+A.width/2-.75*S.width+o,name:"arrow_sme",...m&&{config:m}}),northArrowSouthEast:(A,S)=>({top:y(A,S),left:A.left+A.width/2-S.width+o,name:"arrow_se",...m&&{config:m}}),northEastArrowSouthWest:(A,S)=>({top:y(A,S),left:A.right-o,name:"arrow_sw",...m&&{config:m}}),northEastArrowSouthMiddleWest:(A,S)=>({top:y(A,S),left:A.right-.25*S.width-o,name:"arrow_smw",...m&&{config:m}}),northEastArrowSouth:(A,S)=>({top:y(A,S),left:A.right-S.width/2,name:"arrow_s",...m&&{config:m}}),northEastArrowSouthMiddleEast:(A,S)=>({top:y(A,S),left:A.right-.75*S.width+o,name:"arrow_sme",...m&&{config:m}}),northEastArrowSouthEast:(A,S)=>({top:y(A,S),left:A.right-S.width+o,name:"arrow_se",...m&&{config:m}}),southWestArrowNorthWest:A=>({top:v(A),left:A.left-o,name:"arrow_nw",...m&&{config:m}}),southWestArrowNorthMiddleWest:(A,S)=>({top:v(A),left:A.left-.25*S.width-o,name:"arrow_nmw",...m&&{config:m}}),southWestArrowNorth:(A,S)=>({top:v(A),left:A.left-S.width/2,name:"arrow_n",...m&&{config:m}}),southWestArrowNorthMiddleEast:(A,S)=>({top:v(A),left:A.left-.75*S.width+o,name:"arrow_nme",...m&&{config:m}}),southWestArrowNorthEast:(A,S)=>({top:v(A),left:A.left-S.width+o,name:"arrow_ne",...m&&{config:m}}),southArrowNorthWest:A=>({top:v(A),left:A.left+A.width/2-o,name:"arrow_nw",...m&&{config:m}}),southArrowNorthMiddleWest:(A,S)=>({top:v(A),left:A.left+A.width/2-.25*S.width-o,name:"arrow_nmw",...m&&{config:m}}),southArrowNorth:(A,S)=>({top:v(A),left:A.left+A.width/2-S.width/2,name:"arrow_n",...m&&{config:m}}),southArrowNorthMiddleEast:(A,S)=>({top:v(A),left:A.left+A.width/2-.75*S.width+o,name:"arrow_nme",...m&&{config:m}}),southArrowNorthEast:(A,S)=>({top:v(A),left:A.left+A.width/2-S.width+o,name:"arrow_ne",...m&&{config:m}}),southEastArrowNorthWest:A=>({top:v(A),left:A.right-o,name:"arrow_nw",...m&&{config:m}}),southEastArrowNorthMiddleWest:(A,S)=>({top:v(A),left:A.right-.25*S.width-o,name:"arrow_nmw",...m&&{config:m}}),southEastArrowNorth:(A,S)=>({top:v(A),left:A.right-S.width/2,name:"arrow_n",...m&&{config:m}}),southEastArrowNorthMiddleEast:(A,S)=>({top:v(A),left:A.right-.75*S.width+o,name:"arrow_nme",...m&&{config:m}}),southEastArrowNorthEast:(A,S)=>({top:v(A),left:A.right-S.width+o,name:"arrow_ne",...m&&{config:m}}),westArrowEast:(A,S)=>({top:A.top+A.height/2-S.height/2,left:A.left-S.width-d,name:"arrow_e",...m&&{config:m}}),eastArrowWest:(A,S)=>({top:A.top+A.height/2-S.height/2,left:A.right+d,name:"arrow_w",...m&&{config:m}}),viewportStickyNorth:(A,S,D,N)=>{const L=N||D;return A.getIntersection(L)?L.height-A.height>u?null:{top:L.top+u,left:A.left+A.width/2-S.width/2,name:"arrowless",config:{withArrow:!1,...m}}:null}};function y(A,S){return A.top-S.height-d}function v(A){return A.bottom+d}}};ka.arrowSideOffset=25,ka.arrowHeightOffset=10,ka.stickyVerticalOffset=20,ka._getOptimalPosition=pb,ka.defaultPositions=ka.generatePositions();let cc=ka;function mk(g){return hd(g)?g:fb(g)?g.commonAncestorContainer:typeof g=="function"?mk(g()):null}var Ok=s(3610),Pp={attributes:{"data-cke":!0}};Pp.setAttributes=gt(),Pp.insert=ft().bind(null,"head"),Pp.domAPI=ut(),Pp.insertStyleElement=pt(),ht()(Ok.A,Pp),Ok.A&&Ok.A.locals&&Ok.A.locals;class Nde extends cc{constructor(i){super(i);const o=this.bindTemplate;this.set({isVisible:!1,position:"se",class:null,top:0,left:0}),this.extendTemplate({tag:"div",attributes:{class:["ck-reset","ck-dropdown-menu__nested-menu__panel"],tabindex:"-1"},on:{selectstart:o.to((d=>{d.target.tagName.toLocaleLowerCase()!=="input"&&d.preventDefault()}))}})}focus(i=1){const{content:o}=this;o.length&&(i===1?o.first.focus():o.last.focus())}}var xk=s(7218),Dp={attributes:{"data-cke":!0}};Dp.setAttributes=gt(),Dp.insert=ft().bind(null,"head"),Dp.domAPI=ut(),Dp.insertStyleElement=pt(),ht()(xk.A,Dp),xk.A&&xk.A.locals&&xk.A.locals;const aw=class aw extends Vt{constructor(i,o,d,u,m){super(i),this._bodyCollection=o,this.id=d,this.set({isOpen:!1,isEnabled:!0,panelPosition:"w",class:void 0,parentMenuView:null}),this.keystrokes=new as,this.focusTracker=new si,this.buttonView=new Qde(i),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.buttonView.label=u,this.panelView=new Nde(i),this.panelView.isVisible=!0,this.listView=new $de(i),this.listView.bind("ariaLabel").to(this.buttonView,"label"),this.panelView.content.add(this.listView);const y=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown-menu-list__nested-menu",y.to("class"),y.if("isEnabled","ck-disabled",(v=>!v))],role:"presentation"},children:[this.buttonView]}),this.parentMenuView=m,this.parentMenuView&&this._handleParentMenuView(),this._attachBehaviors()}get _panelPositions(){const{westSouth:i,eastSouth:o,westNorth:d,eastNorth:u}=Mde;return this.locale.uiLanguageDirection==="ltr"?[o,u,i,d]:[i,d,o,u]}render(){super.render(),this.panelView.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.focusTracker.add(this.listView),this.keystrokes.listenTo(this.element),this._mountPanelOnOpen()}destroy(){this._removePanelFromBody(),this.panelView.destroy(),super.destroy()}focus(){this.buttonView.focus()}_handleParentMenuView(){this.delegate(...aw.DELEGATED_EVENTS).to(this.parentMenuView),_0.closeOnParentClose(this,this.parentMenuView)}_attachBehaviors(){_0.openOnButtonClick(this),_0.openAndFocusOnEnterKeyPress(this),_0.openOnArrowRightKey(this),_0.closeOnEscKey(this),_0.closeOnArrowLeftKey(this)}_mountPanelOnOpen(){const{panelView:i}=this;this.on("change:isOpen",((o,d,u)=>{o.source===this&&(u||!this._bodyCollection.has(i)?u&&!this._bodyCollection.has(i)&&this._addPanelToBody():this._removePanelFromBody())}))}_removePanelFromBody(){const{panelView:i,keystrokes:o}=this;this._bodyCollection.has(i)&&(this._bodyCollection.remove(i),o.stopListening(i.element))}_addPanelToBody(){const{panelView:i,buttonView:o,keystrokes:d}=this;this._bodyCollection.has(i)||(this._bodyCollection.add(i),d.listenTo(i.element),i.pin({positions:this._panelPositions,limiter:c.document.body,element:i.element,target:o.element,fitInViewport:!0}))}};aw.DELEGATED_EVENTS=["mouseenter","execute","change:isOpen"];let bM=aw;class kM extends Vt{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Bde extends Vt{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function yM(g){if(Array.isArray(g))return{items:g,removeItems:[]};const i={items:[],removeItems:[]};return g?{...i,...g}:i}var bk=s(9677),Qp={attributes:{"data-cke":!0}};Qp.setAttributes=gt(),Qp.insert=ft().bind(null,"head"),Qp.domAPI=ut(),Qp.insertStyleElement=pt(),ht()(bk.A,Qp),bk.A&&bk.A.locals&&bk.A.locals;const Ide={alignLeft:$t.alignLeft,bold:$t.bold,importExport:$t.importExport,paragraph:$t.paragraph,plus:$t.plus,text:$t.text,threeVerticalDots:$t.threeVerticalDots,pilcrow:$t.pilcrow,dragIndicator:$t.dragIndicator};class WS extends Vt{constructor(i,o){super(i);const d=this.bindTemplate,u=this.t;this.options=o||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.set("role","toolbar"),this.items=this.createCollection(),this.focusTracker=new si,this.keystrokes=new as,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new jde(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const m=i.uiLanguageDirection==="rtl";this._focusCycler=new Qo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[m?"arrowright":"arrowleft","arrowup"],focusNext:[m?"arrowleft":"arrowright","arrowdown"]}});const y=["ck","ck-toolbar",d.to("class"),d.if("isCompact","ck-toolbar_compact")];var v;this.options.shouldGroupWhenFull&&this.options.isFloating&&y.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:y,role:d.to("role"),"aria-label":d.to("ariaLabel"),style:{maxWidth:d.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(v=this,v.bindTemplate.to((A=>{A.target===v.element&&A.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new Lde(this):new Fde(this)}render(){super.render(),this.focusTracker.add(this.element);for(const i of this.items)this.focusTracker.add(i);this.items.on("add",((i,o)=>{this.focusTracker.add(o)})),this.items.on("remove",((i,o)=>{this.focusTracker.remove(o)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,o,d){this.items.addMany(this._buildItemsFromConfig(i,o,d))}_buildItemsFromConfig(i,o,d){const u=yM(i),m=d||u.removeItems;return this._cleanItemsConfiguration(u.items,o,m).map((y=>Ee(y)?this._createNestedToolbarDropdown(y,o,m):y==="|"?new kM:y==="-"?new Bde:o.create(y))).filter((y=>!!y))}_cleanItemsConfiguration(i,o,d){const u=i.filter(((m,y,v)=>m==="|"||d.indexOf(m)===-1&&(m==="-"?!this.options.shouldGroupWhenFull||(V("toolbarview-line-break-ignored-when-grouping-items",v),!1):!(!Ee(m)&&!o.has(m))||(V("toolbarview-item-unavailable",{item:m}),!1))));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(i){const o=y=>y!=="-"&&y!=="|",d=i.length,u=i.findIndex(o);if(u===-1)return[];const m=d-i.slice().reverse().findIndex(o);return i.slice(u,m).filter(((y,v,A)=>o(y)?!0:!(v>0&&A[v-1]===y)))}_createNestedToolbarDropdown(i,o,d){let{label:u,icon:m,items:y,tooltip:v=!0,withText:A=!1}=i;if(y=this._cleanItemsConfiguration(y,o,d),!y.length)return null;const S=xd(this.locale);return u||V("toolbarview-nested-toolbar-dropdown-missing-label",i),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:u,tooltip:v,withText:!!A}),m!==!1?S.buttonView.icon=Ide[m]||m||$t.threeVerticalDots:S.buttonView.withText=!0,YS(S,(()=>S.toolbarView._buildItemsFromConfig(y,o,d))),S}}class jde extends Vt{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Fde{constructor(i){const o=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using((d=>d)),i.focusables.bindTo(i.items).using((d=>cp(d)?d:null)),i.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Lde{constructor(i){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),i.itemsView.children.bindTo(this.ungroupedItems).using((o=>o)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),i.children.on("change",this._updateFocusCyclableItems.bind(this)),i.items.on("change",((o,d)=>{const u=d.index,m=Array.from(d.added);for(const y of d.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(y):this.ungroupedItems.remove(y);for(let y=u;y<u+m.length;y++){const v=m[y-u];y>this.ungroupedItems.length?this.groupedItems.add(v,y-this.ungroupedItems.length):this.ungroupedItems.add(v,y)}this._updateGrouping()})),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!nc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,o=this.viewLocale.uiLanguageDirection,d=new wr(i.lastChild),u=new wr(i);if(!this.cachedPadding){const m=c.window.getComputedStyle(i),y=o==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(m[y])}return o==="ltr"?d.right>u.right-this.cachedPadding:d.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new Ng(this.viewElement,(o=>{i&&i===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=o.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new kM),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,o=i.t,d=xd(i);return d.class="ck-toolbar__grouped-dropdown",d.panelPosition=i.uiLanguageDirection==="ltr"?"sw":"se",YS(d,this.groupedItems),d.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:i.uiLanguageDirection==="rtl"?"se":"sw",icon:$t.threeVerticalDots}),d}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((i=>{cp(i)&&this.viewFocusables.add(i)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var kk=s(1792),$p={attributes:{"data-cke":!0}};$p.setAttributes=gt(),$p.insert=ft().bind(null,"head"),$p.domAPI=ut(),$p.insertStyleElement=pt(),ht()(kk.A,$p),kk.A&&kk.A.locals&&kk.A.locals;class yk extends Vt{constructor(i,o){super(i);const d=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(o),this.arrowView=this._createArrowView(),this.keystrokes=new as,this.focusTracker=new si,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",d.to("class"),d.if("isVisible","ck-hidden",(u=>!u)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((i,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())})),this.keystrokes.set("arrowleft",((i,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(i){const o=i||new Er;return i||o.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),o.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),o.delegate("execute").to(this),o}_createArrowView(){const i=new Er,o=i.bindTemplate;return i.icon=xp,i.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",(d=>String(d)))}}),i.bind("isEnabled").to(this),i.bind("label").to(this),i.bind("tooltip").to(this),i.delegate("execute").to(this,"open"),i}}var wk=s(1666),Mp={attributes:{"data-cke":!0}};Mp.setAttributes=gt(),Mp.insert=ft().bind(null,"head"),Mp.domAPI=ut(),Mp.insertStyleElement=pt(),ht()(wk.A,Mp),wk.A&&wk.A.locals&&wk.A.locals;var vk=s(3629),Rp={attributes:{"data-cke":!0}};Rp.setAttributes=gt(),Rp.insert=ft().bind(null,"head"),Rp.domAPI=ut(),Rp.insertStyleElement=pt(),ht()(vk.A,Rp),vk.A&&vk.A.locals&&vk.A.locals;function xd(g,i=Dde){const o=typeof i=="function"?new i(g):i,d=new Pde(g),u=new US(g,o,d);return o.bind("isEnabled").to(u),o instanceof yk?o.arrowView.bind("isOn").to(u,"isOpen"):o.bind("isOn").to(u,"isOpen"),(function(m){(function(y){kb({emitter:y,activator:()=>y.isRendered&&y.isOpen,callback:()=>{y.isOpen=!1},contextElements:()=>[y.element,...AM(y.focusTracker).filter((v=>!y.element.contains(v)))]})})(m),(function(y){y.on("execute",(v=>{v.source instanceof tk||(y.isOpen=!1)}))})(m),(function(y){y.focusTracker.on("change:isFocused",((v,A,S)=>{!S&&y.isOpen&&(y.isOpen=!1)}))})(m),(function(y){y.keystrokes.set("arrowdown",((v,A)=>{y.isOpen&&(y.panelView.focus(),A())})),y.keystrokes.set("arrowup",((v,A)=>{y.isOpen&&(y.panelView.focusLast(),A())}))})(m),(function(y){y.on("change:isOpen",((v,A,S)=>{S||y.focusTracker.elements.some((D=>D.contains(c.document.activeElement)))&&y.buttonView.focus()}))})(m),(function(y){y.on("change:isOpen",((v,A,S)=>{S&&y.panelView.focus()}),{priority:"low"})})(m)})(u),u}function YS(g,i,o={}){g.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),g.isOpen?wM(g,i,o):g.once("change:isOpen",(()=>wM(g,i,o)),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&CM(g,(()=>g.toolbarView.items.find((d=>d.isOn))))}function wM(g,i,o){const d=g.locale,u=d.t,m=g.toolbarView=new WS(d),y=typeof i=="function"?i():i;m.ariaLabel=o.ariaLabel||u("Dropdown toolbar"),o.maxWidth&&(m.maxWidth=o.maxWidth),o.class&&(m.class=o.class),o.isCompact&&(m.isCompact=o.isCompact),o.isVertical&&(m.isVertical=!0),y instanceof Co?m.items.bindTo(y).using((v=>v)):m.items.addMany(y),g.panelView.children.add(m),g.focusTracker.add(m),m.items.delegate("execute").to(g)}function vM(g,i,o={}){g.isOpen?_M(g,i,o):g.once("change:isOpen",(()=>_M(g,i,o)),{priority:"highest"}),CM(g,(()=>g.listView.items.find((d=>d instanceof Od&&d.children.first.isOn))))}function _M(g,i,o){const d=g.locale,u=g.listView=new fk(d),m=typeof i=="function"?i():i;u.ariaLabel=o.ariaLabel,u.role=o.role,SM(g,u.items,m,d),g.panelView.children.add(u),u.items.delegate("execute").to(g)}function CM(g,i){g.on("change:isOpen",(()=>{if(!g.isOpen)return;const o=i();o&&(typeof o.focus=="function"?o.focus():V("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))}),{priority:X.low-10})}function AM(g){return[...g.elements,...g.externalViews.flatMap((i=>AM(i.focusTracker)))]}function SM(g,i,o,d){i.on("change",(()=>{const u=[...i].reduce(((y,v)=>(v instanceof Od&&v.children.first instanceof Xh&&y.push(v.children.first),y)),[]),m=u.some((y=>y.isToggleable));u.forEach((y=>{y.hasCheckSpace=m}))})),i.bindTo(o).using((u=>{if(u.type==="separator")return new qS(d);if(u.type==="group"){const m=new hk(d);return m.set({label:u.label}),SM(g,m.items,u.items,d),m.items.delegate("execute").to(g),m}if(u.type==="button"||u.type==="switchbutton"){const m=u.model.role==="menuitemcheckbox"||u.model.role==="menuitemradio",y=new Od(d);let v;return u.type==="button"?(v=new Xh(d),v.set({isToggleable:m})):v=new tk(d),v.bind(...Object.keys(u.model)).to(u.model),v.delegate("execute").to(y),y.children.add(v),y}return null}))}const _k=(g,i,o)=>{const d=new Ede(g.locale);return d.set({id:i,ariaDescribedById:o}),d.bind("isReadOnly").to(g,"isEnabled",(u=>!u)),d.bind("hasError").to(g,"errorText",(u=>!!u)),d.on("input",(()=>{g.errorText=null})),g.bind("isEmpty","isFocused","placeholder").to(d),d};var Ck=s(1905),Np={attributes:{"data-cke":!0}};Np.setAttributes=gt(),Np.insert=ft().bind(null,"head"),Np.domAPI=ut(),Np.insertStyleElement=pt(),ht()(Ck.A,Np),Ck.A&&Ck.A.locals&&Ck.A.locals;var Ak=s(6309),Bp={attributes:{"data-cke":!0}};Bp.setAttributes=gt(),Bp.insert=ft().bind(null,"head"),Bp.domAPI=ut(),Bp.insertStyleElement=pt(),ht()(Ak.A,Bp),Ak.A&&Ak.A.locals&&Ak.A.locals;class zde{constructor(i){this._components=new Map,this.editor=i}*names(){for(const i of this._components.values())yield i.originalName}add(i,o){this._components.set(ZS(i),{callback:o,originalName:i})}create(i){if(!this.has(i))throw new F("componentfactory-item-missing",this,{name:i});return this._components.get(ZS(i)).callback(this.editor.locale)}has(i){return this._components.has(ZS(i))}}function ZS(g){return String(g).toLowerCase()}var Sk=s(9205),Ip={attributes:{"data-cke":!0}};Ip.setAttributes=gt(),Ip.insert=ft().bind(null,"head"),Ip.domAPI=ut(),Ip.insertStyleElement=pt(),ht()(Sk.A,Ip),Sk.A&&Sk.A.locals&&Sk.A.locals;const TM="ck-tooltip",Pi=class Pi extends za(){constructor(i){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._mutationObserver=null,Pi._editors.add(i),Pi._instance)return Pi._instance;Pi._instance=this,this.tooltipTextView=new Vt(i.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new cc(i.locale),this.balloonPanelView.class=TM,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=(function(o){const d=new MutationObserver((()=>{o()}));return{attach(u){d.observe(u,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){d.disconnect()}}})((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=Fh(this._pinTooltip,600),this._unpinTooltipDebounced=Fh(this._unpinTooltip,400),this.listenTo(c.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(c.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(c.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(c.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(c.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(c.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(i){const o=i.ui.view&&i.ui.view.body;Pi._editors.delete(i),this.stopListening(i.ui),o&&o.has(this.balloonPanelView)&&o.remove(this.balloonPanelView),Pi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Pi._instance=null)}static getPositioningFunctions(i){const o=Pi.defaultBalloonPositions;return{s:[o.southArrowNorth,o.southArrowNorthEast,o.southArrowNorthWest],n:[o.northArrowSouth],e:[o.eastArrowWest],w:[o.westArrowEast],sw:[o.southArrowNorthEast],se:[o.southArrowNorthWest]}[i]}_onKeyDown(i,o){o.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),o.stopPropagation())}_onEnterOrFocus(i,{target:o}){const d=HS(o);d?d!==this._currentElementWithTooltip?(this._unpinTooltip(),i.name==="focus"&&!d.matches(":hover")||d.matches("[data-cke-tooltip-instant]")?this._pinTooltip(d,KS(d)):this._pinTooltipDebounced(d,KS(d))):this._unpinTooltipDebounced.cancel():i.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(i,{target:o,relatedTarget:d}){if(i.name==="mouseleave"){if(!hd(o))return;const u=this.balloonPanelView.element,m=u&&(u===d||u.contains(d)),y=!m&&o===u;if(m)return void this._unpinTooltipDebounced.cancel();if(!y&&this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;const v=HS(o),A=HS(d);(y||v&&v!==A)&&(this._pinTooltipDebounced.cancel(),this._currentElementWithTooltip&&this._currentElementWithTooltip.matches("[data-cke-tooltip-instant]")||v&&v.matches("[data-cke-tooltip-instant]")?this._unpinTooltip():this._unpinTooltipDebounced())}else{if(this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;this._pinTooltipDebounced.cancel(),this._unpinTooltipDebounced()}}_onScroll(i,{target:o}){this._currentElementWithTooltip&&(o.contains(this.balloonPanelView.element)&&o.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(i,{text:o,position:d,cssClass:u}){this._unpinTooltip();const m=Ti(Pi._editors.values()).ui.view.body;m.has(this.balloonPanelView)||m.add(this.balloonPanelView),this.tooltipTextView.text=o,this.balloonPanelView.class=[TM,u].filter((y=>y)).join(" "),this.balloonPanelView.pin({target:i,positions:Pi.getPositioningFunctions(d)}),this._mutationObserver.attach(i);for(const y of Pi._editors)this.listenTo(y.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=i,this._currentTooltipPosition=d}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const i of Pi._editors)this.stopListening(i.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const i=KS(this._currentElementWithTooltip);nc(this._currentElementWithTooltip)&&i.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Pi.getPositioningFunctions(i.position)}):this._unpinTooltip()}};Pi.defaultBalloonPositions=cc.generatePositions({heightOffset:5,sideOffset:13}),Pi._editors=new Set,Pi._instance=null;let GS=Pi;function HS(g){return hd(g)?g.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function KS(g){return{text:g.dataset.ckeTooltipText,position:g.dataset.ckeTooltipPosition||"s",cssClass:g.dataset.ckeTooltipClass||""}}class EM extends za(){constructor(i,o={}){super(),this._balloonView=null,this._showBalloonThrottled=zb((()=>this._showBalloon()),50,{leading:!0}),this._lastFocusedEditableElement=null,this.editor=i,this._balloonClass=o.balloonClass,i.on("ready",(()=>this._handleEditorReady()))}destroy(){const i=this._balloonView;i&&(i.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const i=this.editor;this._isEnabled()&&i.ui.view&&(i.ui.focusTracker.on("change:isFocused",((o,d,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()})),i.ui.focusTracker.on("change:focusedElement",((o,d,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()})),i.ui.on("update",(()=>{this._showBalloonThrottled()})))}_getNormalizedConfig(){return{side:this.editor.locale.contentLanguageDirection==="ltr"?"right":"left",position:"border",verticalOffset:0,horizontalOffset:5}}_showBalloon(){const i=this._getBalloonAttachOptions();i&&(this._balloonView||(this._balloonView=this._createBalloonView()),this._balloonView.pin(i))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_createBalloonView(){const i=this.editor,o=new cc,d=this._createBadgeContent();return o.content.add(d),this._balloonClass&&(o.class=this._balloonClass),i.ui.view.body.add(o),o}_getBalloonAttachOptions(){if(!this._lastFocusedEditableElement)return null;const i=this._getNormalizedConfig(),o=i.side==="right"?PM(this._lastFocusedEditableElement,d=i,((u,m)=>u.left+u.width-m.width-d.horizontalOffset)):(function(u,m){return PM(u,m,(y=>y.left+m.horizontalOffset))})(this._lastFocusedEditableElement,i);var d;return{target:this._lastFocusedEditableElement,positions:[o]}}_updateLastFocusedEditableElement(){const i=this.editor,o=i.ui.focusTracker.isFocused,d=i.ui.focusTracker.focusedElement;if(!o||!d)return void(this._lastFocusedEditableElement=null);const u=Array.from(i.ui.getEditableElementsNames()).map((m=>i.ui.getEditableElement(m)));u.includes(d)?this._lastFocusedEditableElement=d:this._lastFocusedEditableElement=u[0]}}function PM(g,i,o){return(d,u)=>{const m=new wr(g);if(m.width<350||m.height<50)return null;let y;y=i.position==="inside"?m.bottom-u.height:m.bottom-u.height/2,y-=i.verticalOffset;const v=o(m,u),A=d.clone().moveTo(v,y).getIntersection(u.clone().moveTo(v,y)).getVisible();return!A||A.getArea()<u.getArea()?null:{top:y,left:v,name:`position_${i.position}-side_${i.side}`,config:{withArrow:!1}}}}class Xde extends EM{constructor(i){super(i,{balloonClass:"ck-powered-by-balloon"})}_isEnabled(){const i=this.editor;if(i.config.get("ui.poweredBy.forceVisible"))return!0;const o=i.config.get("licenseKey");if(o=="GPL")return!0;const d=JA(o.split(".")[1]);return!d||!d.whiteLabel}_createBadgeContent(){return new Vde(this.editor.locale,this._getNormalizedConfig().label)}_getNormalizedConfig(){const i=super._getNormalizedConfig(),o=this.editor.config.get("ui.poweredBy")||{},d=o.position||i.position,u=d==="inside"?5:i.verticalOffset;return{position:d,side:o.side||i.side,label:o.label===void 0?"Powered by":o.label,verticalOffset:o.verticalOffset!==void 0?o.verticalOffset:u,horizontalOffset:o.horizontalOffset!==void 0?o.horizontalOffset:i.horizontalOffset,forceVisible:!!o.forceVisible}}}class Vde extends Vt{constructor(i,o){super(i);const d=new Va,u=this.bindTemplate;d.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/powered-by-ckeditor/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...o?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[o]}]:[],d],on:{dragstart:u.to((m=>m.preventDefault()))}}]})}}class Ude extends EM{constructor(i){super(i,{balloonClass:"ck-evaluation-badge-balloon"}),this.licenseTypeMessage={evaluation:"For evaluation purposes only",trial:"For evaluation purposes only",development:"For development purposes only"}}_isEnabled(){const i=DM(this.editor.config.get("licenseKey"));return!!(i&&this.licenseTypeMessage[i])}_createBadgeContent(){const i=DM(this.editor.config.get("licenseKey"));return new qde(this.editor.locale,this.licenseTypeMessage[i])}_getNormalizedConfig(){const i=super._getNormalizedConfig(),o=this.editor.config.get("ui.poweredBy")||{};return{position:o.position||i.position,side:(o.side||i.side)==="left"?"right":"left",verticalOffset:i.verticalOffset,horizontalOffset:i.horizontalOffset}}}class qde extends Vt{constructor(i,o){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-evaluation-badge"],"aria-hidden":!0},children:[{tag:"span",attributes:{class:["ck","ck-evaluation-badge__label"]},children:[o]}]})}}function DM(g){if(g=="GPL")return"GPL";const i=JA(g.split(".")[1]);return i?i.licenseType||"production":null}var Tk=s(1801),jp={attributes:{"data-cke":!0}};jp.setAttributes=gt(),jp.insert=ft().bind(null,"head"),jp.domAPI=ut(),jp.insertStyleElement=pt(),ht()(Tk.A,jp),Tk.A&&Tk.A.locals&&Tk.A.locals;const QM={POLITE:"polite",ASSERTIVE:"assertive"};class Wde{constructor(i){this.editor=i,i.once("ready",(()=>{for(const o of Object.values(QM))this.announce("",o)}))}announce(i,o=QM.POLITE){const d=this.editor;if(!d.ui.view)return;this.view||(this.view=new Yde(d.locale),d.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:m}=typeof o=="string"?{politeness:o}:o;let y=this.view.regionViews.find((v=>v.politeness===u));y||(y=new Zde(d,u),this.view.regionViews.add(y)),y.announce({announcement:i,isUnsafeHTML:m})}}class Yde extends Vt{constructor(i){super(i),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Zde extends Vt{constructor(i,o){super(i.locale),this.setTemplate({tag:"div",attributes:{"aria-live":o,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),i.on("destroy",(()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=o,this._domConverter=i.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce({announcement:i,isUnsafeHTML:o}){if(!i.trim().length)return;const d=document.createElement("li");o?this._domConverter.setContentOf(d,i):d.innerText=i,this._listElement.appendChild(d)}get _listElement(){return this.element.querySelector("ul")}}var Ek=s(9481),Fp={attributes:{"data-cke":!0}};Fp.setAttributes=gt(),Fp.insert=ft().bind(null,"head"),Fp.domAPI=ut(),Fp.insertStyleElement=pt(),ht()(Ek.A,Fp),Ek.A&&Ek.A.locals&&Ek.A.locals;class Pk extends Od{constructor(i,o){super(i);const d=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:d.to("mouseenter")}}),this.delegate("mouseenter").to(o)}}const C0={toggleMenusAndFocusItemsOnHover(g){g.on("menu:mouseenter",(i=>{if(g.isFocusBorderEnabled||g.isOpen){if(g.isOpen)for(const o of g.menus){const d=i.path[0],u=d instanceof Pk&&d.children.first===o;o.isOpen=(i.path.includes(o)||u)&&o.isEnabled}i.source.focus()}}))},focusCycleMenusOnArrows(g){const i=g.locale.uiLanguageDirection==="rtl";function o(d,u){const m=g.children.getIndex(d),y=d.isOpen,v=g.children.length,A=g.children.get((m+v+u)%v);d.isOpen=!1,y&&(A.isOpen=!0),A.buttonView.focus()}g.on("menu:arrowright",(d=>{o(d.source,i?-1:1)})),g.on("menu:arrowleft",(d=>{o(d.source,i?1:-1)}))},closeMenusWhenTheBarCloses(g){g.on("change:isOpen",(()=>{g.isOpen||g.menus.forEach((i=>{i.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(g){g.on("menu:change:isOpen",((i,o,d)=>{d&&g.menus.filter((u=>i.source.parentMenuView===u.parentMenuView&&i.source!==u&&u.isOpen)).forEach((u=>{u.isOpen=!1}))}))},closeOnClickOutside(g){kb({emitter:g,activator:()=>g.isOpen,callback:()=>g.close(),contextElements:()=>g.children.map((i=>i.element))})},enableFocusHighlightOnInteraction(g){let i=!1;g.on("change:isOpen",((o,d,u)=>{u||(i||(g.isFocusBorderEnabled=!1),i=!1)})),g.listenTo(g.element,"keydown",(()=>{i=!0}),{useCapture:!0}),g.listenTo(g.element,"keyup",(()=>{i=!1}),{useCapture:!0}),g.listenTo(g.element,"focus",(()=>{i&&(g.isFocusBorderEnabled=!0)}),{useCapture:!0})}},bd={openAndFocusPanelOnArrowDownKey(g){g.keystrokes.set("arrowdown",((i,o)=>{g.focusTracker.focusedElement===g.buttonView.element&&(g.isOpen||(g.isOpen=!0),g.panelView.focus(),o())}))},openOnArrowRightKey(g){const i=g.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";g.keystrokes.set(i,((o,d)=>{g.focusTracker.focusedElement===g.buttonView.element&&g.isEnabled&&(g.isOpen||(g.isOpen=!0),g.panelView.focus(),d())}))},openOnButtonClick(g){g.buttonView.on("execute",(()=>{g.isOpen=!0}))},toggleOnButtonClick(g){g.buttonView.on("execute",(()=>{g.isOpen=!g.isOpen}))},openAndFocusOnEnterKeyPress(g){g.keystrokes.set("enter",((i,o)=>{g.focusTracker.focusedElement===g.buttonView.element&&(g.isOpen=!0,g.panelView.focus(),o())}))},closeOnArrowLeftKey(g){const i=g.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";g.keystrokes.set(i,((o,d)=>{g.isOpen&&(g.isOpen=!1,g.focus(),d())}))},closeOnEscKey(g){g.keystrokes.set("esc",((i,o)=>{g.isOpen&&(g.isOpen=!1,g.focus(),o())}))},closeOnParentClose(g){g.parentMenuView.on("change:isOpen",((i,o,d)=>{d||i.source!==g.parentMenuView||(g.isOpen=!1)}))}},Gde={southEast:g=>({top:g.bottom,left:g.left,name:"se"}),southWest:(g,i)=>({top:g.bottom,left:g.left-i.width+g.width,name:"sw"}),northEast:(g,i)=>({top:g.top-i.height,left:g.left,name:"ne"}),northWest:(g,i)=>({top:g.top-i.height,left:g.left-i.width+g.width,name:"nw"}),eastSouth:g=>({top:g.top,left:g.right-5,name:"es"}),eastNorth:(g,i)=>({top:g.top-i.height,left:g.right-5,name:"en"}),westSouth:(g,i)=>({top:g.top,left:g.left-i.width+5,name:"ws"}),westNorth:(g,i)=>({top:g.top-i.height,left:g.left-i.width+5,name:"wn"})},Hde=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditingEnhanced",items:["menuBar:sourceEditingEnhanced"]},{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"previewMergeFields",items:["menuBar:previewMergeFields"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:insertImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:bookmark","menuBar:comment","menuBar:insertMergeField","menuBar:emoji"]},{groupId:"insertMinorWidgets",items:["menuBar:mediaEmbed","menuBar:insertTemplate","menuBar:specialCharacters","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:multiLevelList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function Kde({normalizedConfig:g,locale:i,componentFactory:o,extraItems:d}){const u=Eo(g);return $M(g,u,d),(function(m,y){const v=y.removeItems,A=[];y.items=y.items.filter((({menuId:S})=>!v.includes(S)||(A.push(S),!1))),A0(y.items,(S=>{S.groups=S.groups.filter((({groupId:D})=>!v.includes(D)||(A.push(D),!1)));for(const D of S.groups)D.items=D.items.filter((N=>{const L=NM(N);return!v.includes(L)||(A.push(L),!1)}))}));for(const S of v)A.includes(S)||V("menu-bar-item-could-not-be-removed",{menuBarConfig:m,itemName:S})})(g,u),$M(g,u,u.addItems),(function(m,y,v){A0(y.items,(A=>{for(const S of A.groups)S.items=S.items.filter((D=>{const N=typeof D=="string"&&!v.has(D);return N&&!y.isUsingDefaultConfig&&V("menu-bar-item-unavailable",{menuBarConfig:m,parentMenuConfig:Eo(A),componentName:D}),!N}))}))})(g,u,o),RM(g,u),(function(m,y){const v=y.t,A={File:v({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:v({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:v({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:v({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:v({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:v({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:v({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:v({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:v({string:"Font",id:"MENU_BAR_MENU_FONT"})};A0(m.items,(S=>{S.label in A&&(S.label=A[S.label])}))})(u,i),u}function $M(g,i,o){const d=[];if(o.length!=0){for(const m of o){const y=ehe(m.position),v=the(m.position);if(typeof(u=m)=="object"&&"menu"in u)if(v){const A=i.items.findIndex((S=>S.menuId===v));A!=-1?y==="before"?(i.items.splice(A,0,m.menu),d.push(m)):y==="after"&&(i.items.splice(A+1,0,m.menu),d.push(m)):MM(i,m.menu,v,y)&&d.push(m)}else y==="start"?(i.items.unshift(m.menu),d.push(m)):y==="end"&&(i.items.push(m.menu),d.push(m));else Jde(m)?A0(i.items,(A=>{if(A.menuId===v)y==="start"?(A.groups.unshift(m.group),d.push(m)):y==="end"&&(A.groups.push(m.group),d.push(m));else{const S=A.groups.findIndex((D=>D.groupId===v));S!==-1&&(y==="before"?(A.groups.splice(S,0,m.group),d.push(m)):y==="after"&&(A.groups.splice(S+1,0,m.group),d.push(m)))}})):MM(i,m.item,v,y)&&d.push(m)}var u;for(const m of o)d.includes(m)||V("menu-bar-item-could-not-be-added",{menuBarConfig:g,addedItemConfig:m})}}function MM(g,i,o,d){let u=!1;return A0(g.items,(m=>{for(const{groupId:y,items:v}of m.groups){if(u)return;if(y===o)d==="start"?(v.unshift(i),u=!0):d==="end"&&(v.push(i),u=!0);else{const A=v.findIndex((S=>NM(S)===o));A!==-1&&(d==="before"?(v.splice(A,0,i),u=!0):d==="after"&&(v.splice(A+1,0,i),u=!0))}}})),u}function RM(g,i){const o=i.isUsingDefaultConfig;let d=!1;i.items=i.items.filter((u=>!!u.groups.length||(JS(g,u,o),!1))),i.items.length?(A0(i.items,(u=>{u.groups=u.groups.filter((m=>!!m.items.length||(d=!0,!1)));for(const m of u.groups)m.items=m.items.filter((y=>!(BM(y)&&!y.groups.length)||(JS(g,y,o),d=!0,!1)))})),d&&RM(g,i)):JS(g,g,o)}function JS(g,i,o){o||V("menu-bar-menu-empty",{menuBarConfig:g,emptyMenuConfig:i})}function A0(g,i){if(Array.isArray(g))for(const d of g)o(d);function o(d){i(d);for(const u of d.groups)for(const m of u.items)BM(m)&&o(m)}}function Jde(g){return typeof g=="object"&&"group"in g}function ehe(g){return g.startsWith("start")?"start":g.startsWith("end")?"end":g.startsWith("after")?"after":"before"}function the(g){const i=g.match(/^[^:]+:(.+)/);return i?i[1]:null}function NM(g){return typeof g=="string"?g:g.menuId}function BM(g){return typeof g=="object"&&"menuId"in g}class rhe extends Ge(){constructor(i){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this._extraMenuBarElements=[],this._lastFocusedForeignElement=null;const o=i.editing.view;this.editor=i,this.componentFactory=new zde(i),this.focusTracker=new si,this.tooltipManager=new GS(i),this.poweredBy=new Xde(i),this.evaluationBadge=new Ude(i),this.ariaLiveAnnouncer=new Wde(i),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this._bindBodyCollectionWithFocusTracker(),this.isReady=!0})),this.listenTo(o.document,"layoutChanged",this.update.bind(this)),this.listenTo(o,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy(),this.evaluationBadge.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null,this.editor.keystrokes.stopListening(i);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(i,o){this._editableElementsMap.set(i,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const d=()=>{this.editor.editing.view.getDomRoot(i)||this.editor.keystrokes.listenTo(o)};this.isReady?d():this.once("ready",d)}removeEditableElement(i){const o=this._editableElementsMap.get(i);o&&(this._editableElementsMap.delete(i),this.editor.keystrokes.stopListening(o),this.focusTracker.remove(o),o.ckeditorInstance=null)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(i,o={}){i.isRendered?(this.focusTracker.add(i),this.editor.keystrokes.listenTo(i.element)):i.once("render",(()=>{this.focusTracker.add(i),this.editor.keystrokes.listenTo(i.element)})),this._focusableToolbarDefinitions.push({toolbarView:i,options:o})}extendMenuBar(i){this._extraMenuBarElements.push(i)}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_initMenuBar(i){const o=i.element;this.focusTracker.add(o),this.editor.keystrokes.listenTo(o);const d=(function(u){let m;return m="items"in u&&u.items?{items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1,...u}:{items:Eo(Hde),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0,...u},m})(this.editor.config.get("menuBar")||{});i.fillFromConfig(d,this.componentFactory,this._extraMenuBarElements),this.editor.keystrokes.set("Esc",((u,m)=>{o.contains(this.editor.ui.focusTracker.focusedElement)&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):this.editor.editing.view.focus(),m())})),this.editor.keystrokes.set("Alt+F9",((u,m)=>{o.contains(this.editor.ui.focusTracker.focusedElement)||(this._saveLastFocusedForeignElement(),i.isFocusBorderEnabled=!0,i.focus(),m())}))}_readViewportOffsetFromConfig(){const i=this.editor,o=i.config.get("ui.viewportOffset");if(o)return o;const d=i.config.get("toolbar.viewportTopOffset");return d?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:d}):{top:0}}_initFocusTracking(){const i=this.editor;let o;i.keystrokes.set("Alt+F10",((d,u)=>{this._saveLastFocusedForeignElement();const m=this._getCurrentFocusedToolbarDefinition();m&&o||(o=this._getFocusableCandidateToolbarDefinitions());for(let y=0;y<o.length;y++){const v=o.shift();if(o.push(v),v!==m&&this._focusFocusableCandidateToolbar(v)){m&&m.options.afterBlur&&m.options.afterBlur();break}}u()})),i.keystrokes.set("Esc",((d,u)=>{const m=this._getCurrentFocusedToolbarDefinition();m&&(this._lastFocusedForeignElement?(this._lastFocusedForeignElement.focus(),this._lastFocusedForeignElement=null):i.editing.view.focus(),m.options.afterBlur&&m.options.afterBlur(),u())}))}_saveLastFocusedForeignElement(){const i=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(i)&&!Array.from(this.editor.editing.view.domRoots.values()).includes(i)&&(this._lastFocusedForeignElement=i)}_getFocusableCandidateToolbarDefinitions(){const i=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:d,options:u}=o;(nc(d.element)||u.beforeFocus)&&i.push(o)}return i.sort(((o,d)=>IM(o)-IM(d))),i}_getCurrentFocusedToolbarDefinition(){for(const i of this._focusableToolbarDefinitions)if(i.toolbarView.element&&i.toolbarView.element.contains(this.focusTracker.focusedElement))return i;return null}_focusFocusableCandidateToolbar(i){const{toolbarView:o,options:{beforeFocus:d}}=i;return d&&d(),!!nc(o.element)&&(o.focus(),!0)}_handleScrollToTheSelection(i,o){const d={top:0,bottom:0,left:0,right:0,...this.viewportOffset};o.viewportOffset.top+=d.top,o.viewportOffset.bottom+=d.bottom,o.viewportOffset.left+=d.left,o.viewportOffset.right+=d.right}_bindBodyCollectionWithFocusTracker(){const i=this.view.body;for(const o of i)this.focusTracker.add(o.element);i.on("add",((o,d)=>{this.focusTracker.add(d.element)})),i.on("remove",((o,d)=>{this.focusTracker.remove(d.element)}))}}function IM(g){const{toolbarView:i,options:o}=g;let d=10;return nc(i.element)&&d--,o.isContextual&&d--,d}var Dk=s(1185),Lp={attributes:{"data-cke":!0}};Lp.setAttributes=gt(),Lp.insert=ft().bind(null,"head"),Lp.domAPI=ut(),Lp.insertStyleElement=pt(),ht()(Dk.A,Lp),Dk.A&&Dk.A.locals&&Dk.A.locals;class nhe extends Vt{constructor(i){super(i),this.body=new Mo(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class ihe extends nhe{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,o=new Kb;return o.text=i("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class she extends Vt{constructor(i,o,d){super(i),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=d,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const i=this._editingView;function o(d){i.change((u=>{const m=i.document.getRoot(d.name);u.addClass(d.isFocused?"ck-focused":"ck-blurred",m),u.removeClass(d.isFocused?"ck-blurred":"ck-focused",m)}))}i.isRenderingInProgress?(function d(u){i.once("change:isRenderingInProgress",((m,y,v)=>{v?d(u):o(u)}))})(this):o(this)}}class ahe extends she{constructor(i,o,d,u={}){super(i,o,d),this._options=u,this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const i=this._editingView;i.change((o=>{const d=i.document.getRoot(this.name);o.setAttribute("aria-label",this.getEditableAriaLabel(),d)}))}getEditableAriaLabel(){const i=this.locale.t,o=this._options.label,d=this._editableElement,u=this.name;if(typeof o=="string")return o;if(typeof o=="object")return o[u];if(typeof o=="function")return o(this);if(d){const m=d.getAttribute("aria-label");if(m)return m}return i("Rich Text Editor. Editing area: %0",u)}}class e4 extends wb{static get pluginName(){return"Notification"}static get isOfficialPlugin(){return!0}init(){this.on("show:warning",((i,o)=>{window.alert(o.message)}),{priority:"lowest"})}showSuccess(i,o={}){this._showNotification({message:i,type:"success",namespace:o.namespace,title:o.title})}showInfo(i,o={}){this._showNotification({message:i,type:"info",namespace:o.namespace,title:o.title})}showWarning(i,o={}){this._showNotification({message:i,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(i){const o=i.namespace?`show:${i.type}:${i.namespace}`:`show:${i.type}`;this.fire(o,{message:i.message,type:i.type,title:i.title||""})}}class jM extends Ge(){constructor(i,o){super(),o&&JQ(this,o),i&&this.set(i)}}var Qk=s(991),zp={attributes:{"data-cke":!0}};zp.setAttributes=gt(),zp.insert=ft().bind(null,"head"),zp.domAPI=ut(),zp.insertStyleElement=pt(),ht()(Qk.A,zp),Qk.A&&Qk.A.locals&&Qk.A.locals;var $k=s(5380),Xp={attributes:{"data-cke":!0}};Xp.setAttributes=gt(),Xp.insert=ft().bind(null,"head"),Xp.domAPI=ut(),Xp.insertStyleElement=pt(),ht()($k.A,Xp),$k.A&&$k.A.locals&&$k.A.locals;const Mk=h0("px");class Rk extends at{constructor(i){super(i),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,d=o.document.selection.editableElement;return d?o.domConverter.mapViewToDom(d.root):null},this.decorate("getPositionOptions"),this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}static get isOfficialPlugin(){return!0}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this._view||this._createPanelView(),this.hasView(i.view))throw new F("contextualballoon-add-view-exist",[this,i]);const o=i.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(o));const d=this._idToStack.get(o);i.singleViewMode&&this.showStack(o),d.set(i.view,i),this._viewToStack.set(i.view,d),d===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new F("contextualballoon-remove-view-not-exist",[this,i]);const o=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(o.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),o.size===1?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition()}getPositionOptions(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}showStack(i){this.visibleStack=i;const o=this._idToStack.get(i);if(!o)throw new F("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new cc(this.editor.locale),this.editor.ui.view.body.add(this._view),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find((o=>o[1]===i))[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)+1;i[o]||(o=0),this.showStack(this._getStackId(i[o]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)-1;i[o]||(o=i.length-1),this.showStack(this._getStackId(i[o]))}_createRotatorView(){const i=new ohe(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((d,u)=>!u&&d>1)),i.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((d,u)=>{if(u<2)return"";const m=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[m,u])})),i.buttonNextView.on("execute",(()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),i.buttonPrevView.on("execute",(()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),i}_createFakePanelsView(){const i=new lhe(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((o,d)=>!d&&o>=2?Math.min(o-1,2):0)),i.listenTo(this.view,"change:top",(()=>i.updatePosition())),i.listenTo(this.view,"change:left",(()=>i.updatePosition())),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:o="",withArrow:d=!0,singleViewMode:u=!1}){this.view.class=o,this.view.withArrow=d,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this.getPositionOptions()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}}class ohe extends Vt{constructor(i){super(i);const o=i.t,d=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new si,this.buttonPrevView=this._createButtonView(o("Previous"),$t.previousArrow),this.buttonNextView=this._createButtonView(o("Next"),$t.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",d.to("isNavigationVisible",(u=>u?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:d.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,o){const d=new Er(this.locale);return d.set({label:i,icon:o,tooltip:!0}),d}}class lhe extends Vt{constructor(i,o){super(i);const d=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",d.to("numberOfPanels",(u=>u?"":"ck-hidden"))],style:{top:d.to("top",Mk),left:d.to("left",Mk),width:d.to("width",Mk),height:d.to("height",Mk)}},children:this.content}),this.on("change:numberOfPanels",((u,m,y,v)=>{y>v?this._addPanels(y-v):this._removePanels(v-y),this.updatePosition()}))}_addPanels(i){for(;i--;){const o=new Vt;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(i){for(;i--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:o}=this._balloonPanelView,{width:d,height:u}=new wr(this._balloonPanelView.element);Object.assign(this,{top:i,left:o,width:d,height:u})}}}var Nk=s(8298),Vp={attributes:{"data-cke":!0}};Vp.setAttributes=gt(),Vp.insert=ft().bind(null,"head"),Vp.domAPI=ut(),Vp.insertStyleElement=pt(),ht()(Nk.A,Vp),Nk.A&&Nk.A.locals&&Nk.A.locals;const S0=h0("px");class che extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Ao({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",(d=>d?"block":"none")),height:o.to("isSticky",(d=>d?S0(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new Ao({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",(d=>d?S0(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:o.to("_stickyTopOffset",(d=>d&&S0(d))),bottom:o.to("_stickyBottomOffset",(d=>d&&S0(d))),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(c.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const i=new wr(this.limiterElement);let o=i.getVisible();if(o){const d=new wr(c.window);d.top+=this.viewportTopOffset,d.height-=this.viewportTopOffset,o=o.getIntersection(d)}if(o&&i.top<o.top){const d=o.top;if(d+this._contentPanelRect.height+this.limiterBottomOffset>o.bottom){const u=Math.max(i.bottom-o.bottom,0)+this.limiterBottomOffset;i.bottom-u>i.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<i.height?this._stickToTopOfAncestors(d):this._unstick()}else this._unstick()}_stickToTopOfAncestors(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=i,this._stickyBottomOffset=null,this._marginLeft=S0(-c.window.scrollX)}_stickToBottomOfLimiter(i){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=i,this._marginLeft=S0(-c.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new wr(this.contentPanelElement)}}class dhe extends sk{constructor(i,o){const d=i.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:_k},o);super(i,u.creator),this.label=o.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new Va,this.iconView.content=$t.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Er(i),this.resetButtonView.set({label:d("Clear"),icon:$t.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(m=>!m)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class hhe extends Vt{constructor(){super();const i=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",i.if("isVisible","ck-hidden",(o=>!o))],tabindex:-1},children:[{tag:"span",children:[{text:[i.to("primaryText")]}]},{tag:"span",children:[{text:[i.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class uhe extends Vt{constructor(i){super(i),this.children=this.createCollection(),this.focusTracker=new si,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Qo({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const i of this.children)this.focusTracker.add(i.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var FM=/[\\^$.*+?()[\]{}|]/g,fhe=RegExp(FM.source);const LM=function(g){return(g=oS(g))&&fhe.test(g)?g.replace(FM,"\\$&"):g};var Bk=s(8107),Up={attributes:{"data-cke":!0}};Up.setAttributes=gt(),Up.insert=ft().bind(null,"head"),Up.domAPI=ut(),Up.insertStyleElement=pt(),ht()(Bk.A,Up),Bk.A&&Bk.A.locals&&Bk.A.locals;class ghe extends Vt{constructor(i,o){super(i),this._config=o,this.filteredView=o.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new si,this.keystrokes=new as,this.resultsView=new uhe(i),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),o.infoView&&o.infoView.instance?this.infoView=o.infoView.instance:(this.infoView=new hhe,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Qo({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((d,{resultsCount:u,totalItemsCount:m})=>{this.resultsCount=u,this.totalItemsCount=m})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",o.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const i=o=>o.stopPropagation();for(const o of this.focusableChildren)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search(""),this.filteredView.element.scrollTo(0,0)}search(i){const o=i?new RegExp(LM(i),"ig"):null,d=this.filteredView.filter(o);this.fire("search",{query:i,...d})}_createSearchTextQueryView(){const i=new dhe(this.locale,this._config.queryView);return this.listenTo(i.fieldView,"input",(()=>{this.search(i.fieldView.element.value)})),i.on("reset",(()=>this.reset())),i.bind("isEnabled").to(this),i}_enableDefaultInfoViewBehavior(){const i=this.locale.t,o=this.infoView;function d(u,{query:m,resultsCount:y,totalItemsCount:v}){return typeof u=="function"?u(m,y,v):u}this.on("search",((u,m)=>{if(m.resultsCount)o.set({isVisible:!1});else{const y=this._config.infoView&&this._config.infoView.text;let v,A;m.totalItemsCount?y&&y.notFound?(v=y.notFound.primary,A=y.notFound.secondary):(v=i("No results found"),A=""):y&&y.noSearchableItems?(v=y.noSearchableItems.primary,A=y.noSearchableItems.secondary):(v=i("No searchable items"),A=""),o.set({primaryText:d(v,m),secondaryText:d(A,m),isVisible:!0})}}))}}var Ik=s(5727),qp={attributes:{"data-cke":!0}};qp.setAttributes=gt(),qp.insert=ft().bind(null,"head"),qp.domAPI=ut(),qp.insertStyleElement=pt(),ht()(Ik.A,qp),Ik.A&&Ik.A.locals&&Ik.A.locals;const B0=class B0 extends ghe{constructor(i,o){super(i,o),this._config=o;const d=h0("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const u=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[u.if("isVisible","ck-hidden",(m=>!m)),u.to("_position",(m=>`ck-search__results_${m}`))],style:{width:u.to("_width",d)}}}),this.focusTracker.on("change:isFocused",((m,y,v)=>{this._updateResultsVisibility(),v?this.resultsView.element.scrollTop=0:o.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((m,y)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,y())})),this.listenTo(c.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((m,{value:y})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=y,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new wr(this.queryView.fieldView.element).width;const i=B0._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:B0.defaultResultsPositions});this.resultsView._position=i?i.name:"s"}_updateResultsVisibility(){const i=this._config.queryMinChars===void 0?0:this._config.queryMinChars,o=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&o>=i}};B0.defaultResultsPositions=[i=>({top:i.bottom,left:i.left,name:"s"}),(i,o)=>({top:i.top-o.height,left:i.left,name:"n"})],B0._getOptimalPosition=pb;let zM=B0;var jk=s(9529),Wp={attributes:{"data-cke":!0}};Wp.setAttributes=gt(),Wp.insert=ft().bind(null,"head"),Wp.domAPI=ut(),Wp.insertStyleElement=pt(),ht()(jk.A,Wp),jk.A&&jk.A.locals&&jk.A.locals;var Fk=s(109),Yp={attributes:{"data-cke":!0}};Yp.setAttributes=gt(),Yp.insert=ft().bind(null,"head"),Yp.domAPI=ut(),Yp.insertStyleElement=pt(),ht()(Fk.A,Yp),Fk.A&&Fk.A.locals&&Fk.A.locals;var Lk=s(2710),Zp={attributes:{"data-cke":!0}};Zp.setAttributes=gt(),Zp.insert=ft().bind(null,"head"),Zp.domAPI=ut(),Zp.insertStyleElement=pt(),ht()(Lk.A,Zp),Lk.A&&Lk.A.locals&&Lk.A.locals;var zk=s(3344),Gp={attributes:{"data-cke":!0}};Gp.setAttributes=gt(),Gp.insert=ft().bind(null,"head"),Gp.domAPI=ut(),Gp.insertStyleElement=pt(),ht()(zk.A,Gp),zk.A&&zk.A.locals&&zk.A.locals;class phe extends Xh{constructor(i){super(i);const o=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(d=>String(d))),"data-cke-tooltip-disabled":o.to("isOn")},on:{mouseenter:o.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new Va;return i.content=xp,i.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),i}}var Xk=s(9108),Hp={attributes:{"data-cke":!0}};Hp.setAttributes=gt(),Hp.insert=ft().bind(null,"head"),Hp.domAPI=ut(),Hp.insertStyleElement=pt(),ht()(Xk.A,Hp),Xk.A&&Xk.A.locals&&Xk.A.locals;class mhe extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",o.to("position",(d=>`ck-menu-bar__menu__panel_position_${d}`)),o.if("isVisible","ck-hidden",(d=>!d))],tabindex:"-1"},children:this.children,on:{selectstart:o.to((d=>{d.target.tagName.toLocaleLowerCase()!=="input"&&d.preventDefault()}))}})}focus(i=1){this.children.length&&(i===1?this.children.first.focus():this.children.last.focus())}}var Vk=s(4),Kp={attributes:{"data-cke":!0}};Kp.setAttributes=gt(),Kp.insert=ft().bind(null,"head"),Kp.domAPI=ut(),Kp.insertStyleElement=pt(),ht()(Vk.A,Kp),Vk.A&&Vk.A.locals&&Vk.A.locals;const ow=class ow extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.buttonView=new phe(i),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new mhe(i),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new as,this.focusTracker=new si,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",o.to("class"),o.if("isEnabled","ck-disabled",(d=>!d)),o.if("parentMenuView","ck-menu-bar__menu_top-level",(d=>!d))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),bd.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(bd.openOnButtonClick(this),bd.openOnArrowRightKey(this),bd.closeOnArrowLeftKey(this),bd.openAndFocusOnEnterKeyPress(this),bd.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),bd.openAndFocusPanelOnArrowDownKey(this),bd.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((i,o)=>{this.fire("arrowright"),o()})),this.keystrokes.set("arrowleft",((i,o)=>{this.fire("arrowleft"),o()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((i,o,d)=>{if(!d)return;const u=ow._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._defaultMenuPositionName}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:i,southWest:o,northEast:d,northWest:u,westSouth:m,eastSouth:y,westNorth:v,eastNorth:A}=Gde;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[y,A,m,v]:[i,o,d,u]:this.parentMenuView?[m,v,y,A]:[o,i,u,d]}get _defaultMenuPositionName(){return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?"es":"se":this.parentMenuView?"ws":"sw"}};ow._getOptimalPosition=pb;let kd=ow;class Uk extends fk{constructor(i){super(i),this.role="menu",this.items.on("change",this._setItemsCheckSpace.bind(this))}_setItemsCheckSpace(){const i=Array.from(this.items).some((o=>{const d=XM(o);return d&&d.isToggleable}));this.items.forEach((o=>{const d=XM(o);d&&(d.hasCheckSpace=i)}))}}function XM(g){return g instanceof Od?g.children.map((i=>(function(o){return typeof o=="object"&&"buttonView"in o&&o.buttonView instanceof Er})(i)?i.buttonView:i)).find((i=>i instanceof Xh)):null}class VM extends _de{constructor(i){super(i),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var qk=s(497),Jp={attributes:{"data-cke":!0}};Jp.setAttributes=gt(),Jp.insert=ft().bind(null,"head"),Jp.domAPI=ut(),Jp.insertStyleElement=pt(),ht()(qk.A,Jp),qk.A&&qk.A.locals&&qk.A.locals;const UM=["mouseenter","arrowleft","arrowright","change:isOpen"];class Ohe extends Vt{constructor(i){super(i),this.menus=[];const o=i.t,d=this.bindTemplate;this.set({isOpen:!1,isFocusBorderEnabled:!1}),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar",d.if("isFocusBorderEnabled","ck-menu-bar_focus-border-enabled")],"aria-label":o("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(i,o,d=[]){const u=Kde({normalizedConfig:i,locale:this.locale,componentFactory:o,extraItems:d}).items.map((m=>this._createMenu({componentFactory:o,menuDefinition:m})));this.children.addMany(u)}render(){super.render(),C0.toggleMenusAndFocusItemsOnHover(this),C0.closeMenusWhenTheBarCloses(this),C0.closeMenuWhenAnotherOnTheSameLevelOpens(this),C0.focusCycleMenusOnArrows(this),C0.closeOnClickOutside(this),C0.enableFocusHighlightOnInteraction(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const i of this.children)i.isOpen=!1}registerMenu(i,o=null){o?(i.delegate(...UM).to(o),i.parentMenuView=o):i.delegate(...UM).to(this,(d=>"menu:"+d)),i._attachBehaviors(),this.menus.push(i)}_createMenu({componentFactory:i,menuDefinition:o,parentMenuView:d}){const u=this.locale,m=new kd(u);return this.registerMenu(m,d),m.buttonView.set({label:o.label}),m.once("change:isOpen",(()=>{const y=new Uk(u);y.ariaLabel=o.label,m.panelView.children.add(y),y.items.addMany(this._createMenuItems({menuDefinition:o,parentMenuView:m,componentFactory:i}))})),m}_createMenuItems({menuDefinition:i,parentMenuView:o,componentFactory:d}){const u=this.locale,m=[];for(const y of i.groups){for(const v of y.items){const A=new Pk(u,o);if(Ee(v))A.children.add(this._createMenu({componentFactory:d,menuDefinition:v,parentMenuView:o}));else{const S=this._createMenuItemContentFromFactory({componentName:v,componentFactory:d,parentMenuView:o});if(!S)continue;A.children.add(S)}m.push(A)}y!==i.groups[i.groups.length-1]&&m.push(new qS(u))}return m}_createMenuItemContentFromFactory({componentName:i,parentMenuView:o,componentFactory:d}){const u=d.create(i);return u instanceof kd||u instanceof Ui||u instanceof VM?(this._registerMenuTree(u,o),u.on("execute",(()=>{this.close()})),u):(V("menu-bar-component-unsupported",{componentName:i,componentView:u}),null)}_registerMenuTree(i,o){if(!(i instanceof kd))return void i.delegate("mouseenter").to(o);this.registerMenu(i,o);const d=i.panelView.children.filter((m=>m instanceof Uk))[0];if(!d)return void i.delegate("mouseenter").to(o);const u=d.items.filter((m=>m instanceof Od));for(const m of u)this._registerMenuTree(m.children.get(0),i)}_setupIsOpenUpdater(){let i;this.on("menu:change:isOpen",((o,d,u)=>{clearTimeout(i),u?this.isOpen=!0:i=setTimeout((()=>{this.isOpen=Array.from(this.children).some((m=>m.isOpen))}),0)}))}}class xhe extends rhe{constructor(i,o){super(i),this.view=o,this._toolbarConfig=yM(i.config.get("toolbar")),this._elementReplacer=new st,this.listenTo(i.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(i){const o=this.editor,d=this.view,u=o.editing.view,m=d.editable,y=u.document.getRoot();m.name=y.rootName,d.render();const v=m.element;this.setEditableElement(m.name,v),d.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(v),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),d.menuBarView&&this._initMenuBar(d.menuBarView),this._initDialogPluginIntegration(),this._initContextualBalloonIntegration(),this.fire("ready")}destroy(){super.destroy();const i=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.getDomRoot(i.editable.name)&&o.detachDomRoot(i.editable.name),i.destroy()}_initToolbar(){const i=this.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,i.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top:o})=>o||0)),i.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(i.toolbar)}_initPlaceholder(){const i=this.editor,o=i.editing.view,d=o.document.getRoot(),u=i.sourceElement;let m;const y=i.config.get("placeholder");y&&(m=typeof y=="string"?y:y[this.view.editable.name]),!m&&u&&u.tagName.toLowerCase()==="textarea"&&(m=u.getAttribute("placeholder")),m&&(d.placeholder=m),DQ({view:o,element:d,isDirectHost:!1,keepOnFocus:!0})}_initContextualBalloonIntegration(){if(!this.editor.plugins.has("ContextualBalloon"))return;const{stickyPanel:i}=this.view,o=this.editor.plugins.get("ContextualBalloon");o.on("getPositionOptions",(u=>{const m=u.return;if(!m||!i.isSticky||!i.element)return;const y=new wr(i.element).height,v=typeof m.target=="function"?m.target():m.target,A=typeof m.limiter=="function"?m.limiter():m.limiter;if(v&&A&&new wr(v).height>=new wr(A).height-y)return;const S={...m.viewportOffsetConfig},D=(S.top||0)+y;u.return={...m,viewportOffsetConfig:{...S,top:D}}}),{priority:"low"});const d=()=>{o.visibleView&&o.updatePosition()};this.listenTo(i,"change:isSticky",d),this.listenTo(this.editor.ui,"change:viewportOffset",d)}_handleScrollToTheSelectionWithStickyPanel(i,o,d){const u=this.view.stickyPanel;if(u.isSticky){const m=new wr(u.element).height;o.viewportOffset.top+=m}else{const m=()=>{this.editor.editing.view.scrollToTheSelection(d)};this.listenTo(u,"change:isSticky",m),setTimeout((()=>{this.stopListening(u,"change:isSticky",m)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const i=this.view.stickyPanel,o=this.editor.plugins.get("Dialog");o.on("show",(()=>{const d=o.view;d.on("moveTo",((u,m)=>{if(!i.isSticky||d.wasMoved||d.isModal)return;const y=new wr(i.contentPanelElement);m[1]<y.bottom+up.defaultOffset&&(m[1]=y.bottom+up.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}var Wk=s(7388),em={attributes:{"data-cke":!0}};em.setAttributes=gt(),em.insert=ft().bind(null,"head"),em.domAPI=ut(),em.insertStyleElement=pt(),ht()(Wk.A,em),Wk.A&&Wk.A.locals&&Wk.A.locals;class bhe extends ihe{constructor(i,o,d={}){super(i),this.stickyPanel=new che(i),this.toolbar=new WS(i,{shouldGroupWhenFull:d.shouldToolbarGroupWhenFull}),d.useMenuBar&&(this.menuBarView=new Ohe(i)),this.editable=new ahe(i,o,void 0,{label:d.label})}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class khe extends XS(zS){static get editorName(){return"ClassicEditor"}constructor(i,o={}){if(!Yk(i)&&o.initialData!==void 0)throw new F("editor-create-initial-data",null);super(o),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",(function(y){return Yk(y)?(v=y,v instanceof HTMLTextAreaElement?v.value:v.innerHTML):y;var v})(i)),Yk(i)&&(this.sourceElement=i),this.model.document.createRoot();const d=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),m=new bhe(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:d,useMenuBar:u.isVisible,label:this.config.get("label")});this.ui=new xhe(this,m),(function(y){if(!Oe(y.updateSourceElement))throw new F("attachtoform-missing-elementapi-interface",y);const v=y.sourceElement;if((function(A){return!!A&&A.tagName.toLowerCase()==="textarea"})(v)&&v.form){let A;const S=v.form,D=()=>y.updateSourceElement();Oe(S.submit)&&(A=S.submit,S.submit=()=>{D(),A.apply(S)}),S.addEventListener("submit",D),y.on("destroy",(()=>{S.removeEventListener("submit",D),A&&(S.submit=A)}))}})(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,o={}){return new Promise((d=>{const u=new this(i,o);d(u.initPlugins().then((()=>u.ui.init(Yk(i)?i:null))).then((()=>u.data.init(u.config.get("initialData")))).then((()=>u.fire("ready"))).then((()=>u)))}))}}function Yk(g){return hd(g)}class tm extends sc{constructor(i){super(i),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const o=this.document;function d(u){return(m,y)=>{y.preventDefault();const v=y.dropRange?[y.dropRange]:null,A=new I(o,u);o.fire(A,{dataTransfer:y.dataTransfer,method:m.name,targetRanges:v,target:y.target,domEvent:y.domEvent}),A.stop.called&&y.stopPropagation()}}this.listenTo(o,"paste",d("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",d("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",d("dragging"),{priority:"low"})}onDomEvent(i){const o="clipboardData"in i?i.clipboardData:i.dataTransfer,d=i.type=="drop"||i.type=="paste",u={dataTransfer:new o$(o,{cacheFiles:d})};if(i.type=="drop"||i.type=="dragover"){const m=LD(i);u.dropRange=m&&this.view.domConverter.domRangeToView(m)}this.fire(i.type,i,u)}}const qM=["figcaption","li"],WM=["ol","ul"];function YM(g,i){if(i.is("$text")||i.is("$textProxy"))return i.data;if(i.is("element","img")&&i.hasAttribute("alt"))return i.getAttribute("alt");if(i.is("element","br"))return`
`;let o="",d=null;for(const u of i.getChildren())o+=yhe(u,d)+YM(g,u),d=u;if(i.is("rawElement")){const u=document.createElement("div");i.render(u,g),o+=ZM(u)}return o}function ZM(g){let i="";if(g.nodeType===Node.TEXT_NODE)return g.textContent;if(g.tagName==="BR")return`
`;for(const o of g.childNodes)i+=ZM(o);return i}function yhe(g,i){return i?g.is("element","li")&&!g.isEmpty&&g.getChild(0).is("containerElement")||WM.includes(g.name)&&WM.includes(i.name)?`

`:g.is("containerElement")||i.is("containerElement")?qM.includes(g.name)||qM.includes(i.name)?`
`:g.is("element")&&g.getCustomProperty("dataPipeline:transparentRendering")||i.is("element")&&i.getCustomProperty("dataPipeline:transparentRendering")?"":`

`:"":""}const whe=function(g,i){return g&&rQ(g,i,Mg)},vhe=function(g,i,o,d){var u=o.length,m=u;if(g==null)return!m;for(g=Object(g);u--;){var y=o[u];if(y[2]?y[1]!==g[y[0]]:!(y[0]in g))return!1}for(;++u<m;){var v=(y=o[u])[0],A=g[v],S=y[1];if(y[2]){if(A===void 0&&!(v in g))return!1}else{var D=new o0,N;if(!(N===void 0?Bb(S,A,3,d,D):N))return!1}}return!0},GM=function(g){return g==g&&!Ee(g)},_he=function(g){for(var i=Mg(g),o=i.length;o--;){var d=i[o],u=g[d];i[o]=[d,u,GM(u)]}return i},HM=function(g,i){return function(o){return o!=null&&o[g]===i&&(i!==void 0||g in Object(o))}},Che=function(g){var i=_he(g);return i.length==1&&i[0][2]?HM(i[0][0],i[0][1]):function(o){return o===g||vhe(o,g,i)}},Ahe=function(g,i){return g!=null&&i in Object(g)},She=function(g,i,o){for(var d=-1,u=(i=_b(i,g)).length,m=!1;++d<u;){var y=g0(i[d]);if(!(m=g!=null&&o(g,y)))break;g=g[y]}return m||++d!=u?m:!!(u=g==null?0:g.length)&&DA(u)&&cb(y,u)&&(Cn(g)||lb(g))},The=function(g,i){return g!=null&&She(g,i,Ahe)},Ehe=function(g,i){return sS(g)&&GM(i)?HM(g0(g),i):function(o){var d=p0(o,g);return d===void 0&&d===i?The(o,g):Bb(i,d,3)}},Phe=function(g){return function(i){return i==null?void 0:i[g]}},Dhe=function(g){return function(i){return lS(i,g)}},Qhe=function(g){return sS(g)?Phe(g0(g)):Dhe(g)},$he=function(g){return typeof g=="function"?g:g==null?fd:typeof g=="object"?Cn(g)?Ehe(g[0],g[1]):Che(g):Qhe(g)},Mhe=function(g,i){var o={};return i=$he(i),whe(g,(function(d,u,m){ob(o,u,i(d,u,m))})),o};class rm extends at{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}static get isOfficialPlugin(){return!0}_registerMarkerToCopy(i,o){this._markersToCopy.set(i,o)}_copySelectedFragmentWithMarkers(i,o,d=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change((u=>{const m=u.model.document.selection;u.setSelection(o);const y=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,i),v=d(u),A=this._removeFakeMarkersInsideElement(u,v);for(const[S,D]of Object.entries(y)){A[S]||(A[S]=u.createRangeIn(v));for(const N of D)u.remove(N)}v.markers.clear();for(const[S,D]of Object.entries(A))v.markers.set(S,D);return u.setSelection(m),v}))}_pasteMarkersIntoTransformedElement(i,o){const d=this._getPasteMarkersFromRangeMap(i);return this.editor.model.change((u=>{const m=this._insertFakeMarkersElements(u,d),y=o(u),v=this._removeFakeMarkersInsideElement(u,y);for(const A of Object.values(m).flat())u.remove(A);for(const[A,S]of Object.entries(v))u.model.markers.has(A)||u.addMarker(A,{usingOperation:!0,affectsData:!0,range:S});return y}))}_pasteFragmentWithMarkers(i){const o=this._getPasteMarkersFromRangeMap(i.markers);i.markers.clear();for(const d of o)i.markers.set(d.name,d.range);return this.editor.model.insertContent(i)}_forceMarkersCopy(i,o,d={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(i);this._markersToCopy.set(i,d),o(),u?this._markersToCopy.set(i,u):this._markersToCopy.delete(i)}_isMarkerCopyable(i,o){const d=this._getMarkerClipboardConfig(i);if(!d)return!1;if(!o)return!0;const{allowedActions:u}=d;return u==="all"||u.includes(o)}_hasMarkerConfiguration(i){return!!this._getMarkerClipboardConfig(i)}_getMarkerClipboardConfig(i){const[o]=i.split(":");return this._markersToCopy.get(o)||null}_insertFakeMarkersIntoSelection(i,o,d){const u=this._getCopyableMarkersFromSelection(i,o,d);return this._insertFakeMarkersElements(i,u)}_getCopyableMarkersFromSelection(i,o,d){const u=Array.from(o.getRanges()),m=new Set(u.flatMap((y=>Array.from(i.model.markers.getMarkersIntersectingRange(y)))));return Array.from(m).filter((y=>{if(!this._isMarkerCopyable(y.name,d))return!1;const{copyPartiallySelected:v}=this._getMarkerClipboardConfig(y.name);if(!v){const A=y.getRange();return u.some((S=>S.containsRange(A,!0)))}return!0})).map((y=>({name:d==="dragstart"?this._getUniqueMarkerName(y.name):y.name,range:y.getRange()})))}_getPasteMarkersFromRangeMap(i,o=null){const{model:d}=this.editor;return(i instanceof Map?Array.from(i.entries()):Object.entries(i)).flatMap((([u,m])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:m}];if(this._isMarkerCopyable(u,o)){const y=this._getMarkerClipboardConfig(u),v=d.markers.has(u)&&d.markers.get(u).getRange().root.rootName==="$graveyard";return(y.duplicateOnPaste||v)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:m}]}return[]}))}_insertFakeMarkersElements(i,o){const d={},u=o.flatMap((m=>{const{start:y,end:v}=m.range;return[{position:y,marker:m,type:"start"},{position:v,marker:m,type:"end"}]})).sort((({position:m},{position:y})=>m.isBefore(y)?1:-1));for(const{position:m,marker:y,type:v}of u){const A=i.createElement("$marker",{"data-name":y.name,"data-type":v});d[y.name]||(d[y.name]=[]),d[y.name].push(A),i.insert(A,m)}return d}_removeFakeMarkersInsideElement(i,o){const d=this._getAllFakeMarkersFromElement(i,o).reduce(((u,m)=>{const y=m.markerElement&&i.createPositionBefore(m.markerElement);let v=u[m.name],A=!1;return v&&v.start&&v.end&&(this._getMarkerClipboardConfig(m.name).duplicateOnPaste?u[this._getUniqueMarkerName(m.name)]=u[m.name]:A=!0,v=null),A||(u[m.name]={...v,[m.type]:y}),m.markerElement&&i.remove(m.markerElement),u}),{});return Mhe(d,(u=>new Xe(u.start||i.createPositionFromPath(o,[0]),u.end||i.createPositionAt(o,"end"))))}_getAllFakeMarkersFromElement(i,o){const d=Array.from(i.createRangeIn(o)).flatMap((({item:y})=>{if(!y.is("element","$marker"))return[];const v=y.getAttribute("data-name"),A=y.getAttribute("data-type");return[{markerElement:y,name:v,type:A}]})),u=[],m=[];for(const y of d)y.type==="end"&&(d.some((v=>v.name===y.name&&v.type==="start"))||u.push({markerElement:null,name:y.name,type:"start"})),y.type==="start"&&(d.some((v=>v.name===y.name&&v.type==="end"))||m.unshift({markerElement:null,name:y.name,type:"end"}));return[...u,...d,...m]}_getUniqueMarkerName(i){const o=i.split(":"),d=z().substring(1,6);return o.length===3?`${o.slice(0,2).join(":")}:${d}`:`${o.join(":")}:${d}`}}class Ua extends at{static get pluginName(){return"ClipboardPipeline"}static get isOfficialPlugin(){return!0}static get requires(){return[rm]}init(){this.editor.editing.view.addObserver(tm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(i,o,d){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:d==="cut"},(()=>{const m=u._copySelectedFragmentWithMarkers(d,o);this.fire("outputTransformation",{dataTransfer:i,content:m,method:d})}))}_setupPasteDrop(){const i=this.editor,o=i.model,d=i.editing.view,u=d.document,m=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",((y,v)=>{v.method!="paste"||i.model.canEditAt(i.model.document.selection)||y.stop()}),{priority:"highest"}),this.listenTo(u,"clipboardInput",((y,v)=>{const A=v.dataTransfer;let S;if(v.content)S=v.content;else{let q="";A.getData("text/html")?q=(function(Y){return Y.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((ne,ue)=>ue.length==1?" ":ue)).replace(/<!--[\s\S]*?-->/g,"")})(A.getData("text/html")):A.getData("text/plain")&&(((D=(D=A.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||D.includes("<br>"))&&(D=`<p>${D}</p>`),q=D),S=this.editor.data.htmlProcessor.toView(q)}var D;const N=new I(this,"inputTransformation"),L=A.getData("application/ckeditor5-editor-id")||null;this.fire(N,{content:S,dataTransfer:A,sourceEditorId:L,targetRanges:v.targetRanges,method:v.method}),N.stop.called&&y.stop(),d.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((y,v)=>{if(v.content.isEmpty)return;const A=this.editor.data.toModel(v.content,"$clipboardHolder");A.childCount!=0&&(y.stop(),o.change((()=>{this.fire("contentInsertion",{content:A,method:v.method,sourceEditorId:v.sourceEditorId,dataTransfer:v.dataTransfer,targetRanges:v.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((y,v)=>{v.resultRange=m._pasteFragmentWithMarkers(v.content)}),{priority:"low"})}_setupCopyCut(){const i=this.editor,o=i.model.document,d=i.editing.view.document,u=(m,y)=>{const v=y.dataTransfer;y.preventDefault(),this._fireOutputTransformationEvent(v,o.selection,m.name)};this.listenTo(d,"copy",u,{priority:"low"}),this.listenTo(d,"cut",((m,y)=>{i.model.canEditAt(i.model.document.selection)?u(m,y):y.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((m,y)=>{const v=i.data.toView(y.content,{isClipboardPipeline:!0});d.fire("clipboardOutput",{dataTransfer:y.dataTransfer,content:v,method:y.method})}),{priority:"low"}),this.listenTo(d,"clipboardOutput",((m,y)=>{y.content.isEmpty||(y.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(y.content)),y.dataTransfer.setData("text/plain",YM(i.data.htmlProcessor.domConverter,y.content)),y.dataTransfer.setData("application/ckeditor5-editor-id",this.editor.id)),y.method=="cut"&&i.model.deleteContent(o.selection)}),{priority:"low"})}}class KM{constructor(i,o=20){this._batch=null,this.model=i,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(d,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(i){this._size+=i,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i=!1){this.isLocked&&!i||(this._batch=null,this._size=0)}}class Rhe extends vr{constructor(i,o){super(i),this._buffer=new KM(i.model,o),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const o=this.editor.model,d=o.document,u=i.text||"",m=u.length;let y=d.selection;if(i.selection?y=i.selection:i.range&&(y=o.createSelection(i.range)),!o.canEditAt(y))return;const v=i.resultRange;o.enqueueChange(this._buffer.batch,(A=>{this._buffer.lock();const S=Array.from(d.selection.getAttributes());o.deleteContent(y),u&&o.insertContent(A.createText(u,S),y),v?A.setSelection(v):y.is("documentSelection")||A.setSelection(y),this._buffer.unlock(),this._buffer.input(m)}))}}const JM=["insertText","insertReplacementText"],Nhe=[...JM,"insertCompositionText"];class Bhe extends pl{constructor(i){super(i),this.focusObserver=i.getObserver(Ib);const o=p.isAndroid?Nhe:JM,d=i.document;d.on("beforeinput",((u,m)=>{if(!this.isEnabled)return;const{data:y,targetRanges:v,inputType:A,domEvent:S}=m;if(!o.includes(A))return;this.focusObserver.flush();const D=new I(d,"insertText");d.fire(D,new k0(i,S,{text:y,selection:i.createSelection(v)})),D.stop.called&&u.stop()})),p.isAndroid||d.on("compositionend",((u,{data:m,domEvent:y})=>{this.isEnabled&&m&&d.fire("insertText",new k0(i,y,{text:m}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class e9 extends at{static get pluginName(){return"Input"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.model,d=i.editing.view,u=i.editing.mapper,m=o.document.selection;this._compositionQueue=new Ihe(i),d.addObserver(Bhe);const y=new Rhe(i,i.config.get("typing.undoStep")||20);i.commands.add("insertText",y),i.commands.add("input",y),this.listenTo(d.document,"insertText",((v,A)=>{d.document.isComposing||A.preventDefault(),p.isAndroid&&d.document.isComposing&&this._compositionQueue.flush("next beforeinput");const{text:S,selection:D}=A;let N;N=D?Array.from(D.getRanges()).map((Y=>u.toModelRange(Y))):Array.from(m.getRanges());let L=S;if(p.isAndroid){const Y=Array.from(N[0].getItems()).reduce(((ne,ue)=>ne+(ue.is("$textProxy")?ue.data:"")),"");if(Y&&(Y.length<=L.length?L.startsWith(Y)&&(L=L.substring(Y.length),N[0].start=N[0].start.getShiftedBy(Y.length)):Y.startsWith(L)&&(N[0].start=N[0].start.getShiftedBy(L.length),L="")),L.length==0&&N[0].isCollapsed)return}const q={text:L,selection:o.createSelection(N)};p.isAndroid&&d.document.isComposing?this._compositionQueue.push(q):(i.execute("insertText",q),d.scrollToTheSelection())})),p.isAndroid?this.listenTo(d.document,"keydown",((v,A)=>{!m.isCollapsed&&A.keyCode==229&&d.document.isComposing&&t9(o,y)})):this.listenTo(d.document,"compositionstart",(()=>{m.isCollapsed||t9(o,y)})),p.isAndroid?(this.listenTo(d.document,"mutations",((v,{mutations:A})=>{if(d.document.isComposing)for(const{node:S}of A){const D=jhe(S,u),N=u.toModelElement(D);if(this._compositionQueue.isComposedElement(N))return void this._compositionQueue.flush("mutations")}})),this.listenTo(d.document,"compositionend",(()=>{this._compositionQueue.flush("composition end")})),this.listenTo(d.document,"compositionend",(()=>{const v=[];for(const A of this._compositionQueue.flushComposedElements()){const S=u.toViewElement(A);S&&v.push({type:"children",node:S})}v.length&&d.document.fire("mutations",{mutations:v})}),{priority:"lowest"})):this.listenTo(d.document,"compositionend",(()=>{d.document.fire("mutations",{mutations:[]})}),{priority:"lowest"})}destroy(){super.destroy(),this._compositionQueue.destroy()}}class Ihe{constructor(i){this.flushDebounced=Fh((()=>this.flush("timeout")),50),this._queue=[],this._compositionElements=new Set,this.editor=i}destroy(){for(this.flushDebounced.cancel(),this._compositionElements.clear();this._queue.length;)this.shift()}get length(){return this._queue.length}push(i){const o={text:i.text};if(i.selection){o.selectionRanges=[];for(const d of i.selection.getRanges())o.selectionRanges.push(ta.fromRange(d)),this._compositionElements.add(d.start.parent)}this._queue.push(o),this.flushDebounced()}shift(){const i=this._queue.shift(),o={text:i.text};if(i.selectionRanges){const d=i.selectionRanges.map((u=>(function(m){const y=m.toRange();return m.detach(),y.root.rootName=="$graveyard"?null:y})(u))).filter((u=>!!u));d.length&&(o.selection=this.editor.model.createSelection(d))}return o}flush(i){const o=this.editor,d=o.model,u=o.editing.view;if(this.flushDebounced.cancel(),!this._queue.length)return;const m=o.commands.get("insertText").buffer;d.enqueueChange(m.batch,(()=>{for(m.lock();this._queue.length;){const y=this.shift();o.execute("insertText",y)}m.unlock()})),u.scrollToTheSelection()}isComposedElement(i){return this._compositionElements.has(i)}flushComposedElements(){const i=Array.from(this._compositionElements);return this._compositionElements.clear(),i}}function t9(g,i){if(!i.isEnabled)return;const o=i.buffer;o.lock(),g.enqueueChange(o.batch,(()=>{g.deleteContent(g.document.selection)})),o.unlock()}function jhe(g,i){let o=g.is("$text")?g.parent:g;for(;!i.toModelElement(o);)o=o.parent;return o}class r9 extends vr{constructor(i,o){super(i),this.direction=o,this._buffer=new KM(i.model,i.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(i={}){const o=this.editor.model,d=o.document;o.enqueueChange(this._buffer.batch,(u=>{this._buffer.lock();const m=u.createSelection(i.selection||d.selection);if(!o.canEditAt(m))return;const y=i.sequence||1,v=m.isCollapsed;if(m.isCollapsed&&o.modifySelection(m,{direction:this.direction,unit:i.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(y))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(m,y))return void this.editor.execute("paragraph",{selection:m});if(m.isCollapsed)return;let A=0;m.getFirstRange().getMinimalFlatRanges().forEach((S=>{A+=xt(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),o.deleteContent(m,{doNotResetEntireContent:v,direction:this.direction}),this._buffer.input(A),u.setSelection(m),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const o=this.editor.model,d=o.document.selection,u=o.schema.getLimitElement(d);if(!(d.isCollapsed&&d.containsEntireContent(u))||!o.schema.checkChild(u,"paragraph"))return!1;const m=u.getChild(0);return!m||!m.is("element","paragraph")}_replaceEntireContentWithParagraph(i){const o=this.editor.model,d=o.document.selection,u=o.schema.getLimitElement(d),m=i.createElement("paragraph");i.remove(i.createRangeIn(u)),i.insert(m,u),i.setSelection(m,0)}_shouldReplaceFirstBlockWithParagraph(i,o){const d=this.editor.model;if(o>1||this.direction!="backward"||!i.isCollapsed)return!1;const u=i.getFirstPosition(),m=d.schema.getLimitElement(u),y=m.getChild(0);return u.parent==y&&!!i.containsEntireContent(y)&&!!d.schema.checkChild(m,"paragraph")&&y.name!="paragraph"}}const n9="word",yd="selection",T0="backward",nm="forward",i9={deleteContent:{unit:yd,direction:T0},deleteContentBackward:{unit:"codePoint",direction:T0},deleteWordBackward:{unit:n9,direction:T0},deleteHardLineBackward:{unit:yd,direction:T0},deleteSoftLineBackward:{unit:yd,direction:T0},deleteContentForward:{unit:"character",direction:nm},deleteWordForward:{unit:n9,direction:nm},deleteHardLineForward:{unit:yd,direction:nm},deleteSoftLineForward:{unit:yd,direction:nm}};class Fhe extends pl{constructor(i){super(i);const o=i.document;let d=0;o.on("keydown",(()=>{d++})),o.on("keyup",(()=>{d=0})),o.on("beforeinput",((u,m)=>{if(!this.isEnabled)return;const{targetRanges:y,domEvent:v,inputType:A}=m,S=i9[A];if(!S)return;const D={direction:S.direction,unit:S.unit,sequence:d};D.unit==yd&&(D.selectionToRemove=i.createSelection(y[0])),A==="deleteContentBackward"&&(p.isAndroid&&(D.sequence=1),(function(L){if(L.length!=1||L[0].isCollapsed)return!1;const q=L[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let Y=0;for(const{nextPosition:ne,item:ue}of q){if(ne.parent.is("$text")){const me=ne.parent.data,Ae=ne.offset;if(eS(me,Ae)||tS(me,Ae)||hQ(me,Ae))continue;Y++}else(ue.is("containerElement")||ue.is("emptyElement"))&&Y++;if(Y>1)return!0}return!1})(y)&&(D.unit=yd,D.selectionToRemove=i.createSelection(y)));const N=new O0(o,"delete",y[0]);o.fire(N,new k0(i,v,D)),N.stop.called&&u.stop()})),p.isBlink&&(function(u){const m=u.view,y=m.document;let v=null,A=!1;function S(N){return N==Tr.backspace||N==Tr.delete}function D(N){return N==Tr.backspace?T0:nm}y.on("keydown",((N,{keyCode:L})=>{v=L,A=!1})),y.on("keyup",((N,{keyCode:L,domEvent:q})=>{const Y=y.selection,ne=u.isEnabled&&L==v&&S(L)&&!Y.isCollapsed&&!A;if(v=null,ne){const ue=Y.getFirstRange(),me=new O0(y,"delete",ue),Ae={unit:yd,direction:D(L),selectionToRemove:Y};y.fire(me,new k0(m,q,Ae))}})),y.on("beforeinput",((N,{inputType:L})=>{const q=i9[L];S(v)&&q&&q.direction==D(v)&&(A=!0)}),{priority:"high"}),y.on("beforeinput",((N,{inputType:L,data:q})=>{v==Tr.delete&&L=="insertText"&&q==""&&N.stop()}),{priority:"high"})})(this)}observe(){}stopObserving(){}}class dc extends at{static get pluginName(){return"Delete"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.editing.view,d=o.document,u=i.model.document;o.addObserver(Fhe),this._undoOnBackspace=!1;const m=new r9(i,"forward");i.commands.add("deleteForward",m),i.commands.add("forwardDelete",m),i.commands.add("delete",new r9(i,"backward")),this.listenTo(d,"delete",((y,v)=>{d.isComposing||v.preventDefault();const{direction:A,sequence:S,selectionToRemove:D,unit:N}=v,L=A==="forward"?"deleteForward":"delete",q={sequence:S};if(N=="selection"){const Y=Array.from(D.getRanges()).map((ne=>i.editing.mapper.toModelRange(ne)));q.selection=i.model.createSelection(Y)}else q.unit=N;i.execute(L,q),o.scrollToTheSelection()}),{priority:"low"}),this.listenTo(d,"keydown",((y,v)=>{if(d.isComposing||v.keyCode!=Tr.backspace||!u.selection.isCollapsed)return;const A=i.model.schema.getLimitElement(u.selection);i.model.createPositionAt(A,0).isTouching(u.selection.getFirstPosition())&&v.preventDefault()})),this.editor.plugins.has("UndoEditing")&&(this.listenTo(d,"delete",((y,v)=>{this._undoOnBackspace&&v.direction=="backward"&&v.sequence==1&&v.unit=="codePoint"&&(this._undoOnBackspace=!1,i.execute("undo"),v.preventDefault(),y.stop())}),{context:"$capture"}),this.listenTo(u,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Lhe extends at{static get requires(){return[e9,dc]}static get pluginName(){return"Typing"}static get isOfficialPlugin(){return!0}}function s9(g,i){let o=g.start;return{text:Array.from(g.getWalker({ignoreElementEnd:!1})).reduce(((d,{item:u})=>u.is("$text")||u.is("$textProxy")?d+u.data:(o=i.createPositionAfter(u),"")),""),range:i.createRange(o,g.end)}}class a9 extends Ge(){constructor(i,o){super(),this.model=i,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",((o,{directChange:d})=>{d&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(i,"change:data",((o,d)=>{!d.isUndo&&d.isLocal&&this._evaluateTextBeforeSelection("data",{batch:d})}))}_evaluateTextBeforeSelection(i,o={}){const d=this.model,u=d.document.selection,m=d.createRange(d.createPositionAt(u.focus.parent,0),u.focus),{text:y,range:v}=s9(m,d),A=this.testCallback(y);if(!A&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!A,A){const S=Object.assign(o,{text:y,range:v});typeof A=="object"&&Object.assign(S,A),this.fire(`matched:${i}`,S)}}}class o9 extends at{constructor(i){super(i),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.model,d=i.editing.view,u=i.locale,m=o.document.selection;this.listenTo(d.document,"arrowKey",((y,v)=>{if(!m.isCollapsed||v.shiftKey||v.altKey||v.ctrlKey)return;const A=v.keyCode==Tr.arrowright,S=v.keyCode==Tr.arrowleft;if(!A&&!S)return;const D=u.contentLanguageDirection;let N=!1;N=D==="ltr"&&A||D==="rtl"&&S?this._handleForwardMovement(v):this._handleBackwardMovement(v),N===!0&&y.stop()}),{context:"$text",priority:"highest"}),this.listenTo(m,"change:range",((y,v)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!v.directChange&&qa(m.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(i){this.attributes.add(i)}_handleForwardMovement(i){const o=this.attributes,d=this.editor.model,u=d.document.selection,m=u.getFirstPosition();return!this._isGravityOverridden&&(!m.isAtStart||!hc(u,o))&&!!qa(m,o)&&(sm(i),hc(u,o)&&qa(m,o,!0)?im(d,o):this._overrideGravity(),!0)}_handleBackwardMovement(i){const o=this.attributes,d=this.editor.model,u=d.document.selection,m=u.getFirstPosition();return this._isGravityOverridden?(sm(i),this._restoreGravity(),qa(m,o,!0)?im(d,o):Zk(d,o,m),!0):m.isAtStart?!!hc(u,o)&&(sm(i),Zk(d,o,m),!0):!hc(u,o)&&qa(m,o,!0)?(sm(i),Zk(d,o,m),!0):!!l9(m,o)&&(m.isAtEnd&&!hc(u,o)&&qa(m,o)?(sm(i),Zk(d,o,m),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const i=this.editor,o=i.model,d=o.document.selection,u=i.editing.view.document;i.editing.view.addObserver(IS),i.editing.view.addObserver(Kce);let m=!1,y=!1;this.listenTo(u,"touchstart",(()=>{y=!1,m=!0})),this.listenTo(u,"mousedown",(()=>{y=!0})),this.listenTo(u,"selectionChange",(()=>{const v=this.attributes;if(!y&&!m||(y=!1,m=!1,!d.isCollapsed)||!hc(d,v))return;const A=d.getFirstPosition();qa(A,v)&&(A.isAtStart||qa(A,v,!0)?im(o,v):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,o=i.document.selection,d=this.attributes;this.listenTo(i,"insertContent",(()=>{const u=o.getFirstPosition();hc(o,d)&&qa(u,d)&&im(i,d)}),{priority:"low"})}_handleDeleteContentAfterNode(){const i=this.editor,o=i.model,d=o.document.selection,u=i.editing.view;let m=!1,y=!1;this.listenTo(u.document,"delete",((v,A)=>{m=A.direction==="backward"}),{priority:"high"}),this.listenTo(o,"deleteContent",(()=>{if(!m)return;const v=d.getFirstPosition();y=hc(d,this.attributes)&&!l9(v,this.attributes)}),{priority:"high"}),this.listenTo(o,"deleteContent",(()=>{m&&(m=!1,y||i.model.enqueueChange((()=>{const v=d.getFirstPosition();hc(d,this.attributes)&&qa(v,this.attributes)&&(v.isAtStart||qa(v,this.attributes,!0)?im(o,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((i=>i.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function hc(g,i){for(const o of i)if(g.hasAttribute(o))return!0;return!1}function Zk(g,i,o){const d=o.nodeBefore;g.change((u=>{if(d){const m=[],y=g.schema.isObject(d)&&g.schema.isInline(d);for(const[v,A]of d.getAttributes())!g.schema.checkAttribute("$text",v)||y&&g.schema.getAttributeProperties(v).copyFromObject===!1||m.push([v,A]);u.setSelectionAttribute(m)}else u.removeSelectionAttribute(i)}))}function im(g,i){g.change((o=>{o.removeSelectionAttribute(i)}))}function sm(g){g.preventDefault()}function l9(g,i){return qa(g.getShiftedBy(-1),i)}function qa(g,i,o=!1){const{nodeBefore:d,nodeAfter:u}=g;for(const m of i){const y=d?d.getAttribute(m):void 0,v=u?u.getAttribute(m):void 0;if((!o||y!==void 0&&v!==void 0)&&v!==y)return!0}return!1}const c9={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:E0('"'),to:[null,"",null,""]},quotesSecondary:{from:E0("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:E0("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:E0('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:E0('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:E0("'"),to:[null,"",null,""]}},d9={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},zhe=["symbols","mathematical","typography","quotes"];class Xhe extends at{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}static get isOfficialPlugin(){return!0}constructor(i){super(i),i.config.define("typing",{transformations:{include:zhe}})}init(){const i=this.editor.model.document.selection;i.on("change:range",(()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const i=this.editor,o=i.model,d=i.plugins.get("Delete"),u=(function(y){const v=y.extra||[],A=y.remove||[],S=D=>!A.includes(D);return(function(D){const N=new Set;for(const L of D)if(typeof L=="string"&&d9[L])for(const q of d9[L])N.add(q);else N.add(L);return Array.from(N)})(y.include.concat(v).filter(S)).filter(S).map((D=>typeof D=="string"&&c9[D]?c9[D]:D)).filter((D=>typeof D=="object")).map((D=>({from:Vhe(D.from),to:Uhe(D.to)})))})(i.config.get("typing.transformations")),m=new a9(i.model,(y=>{for(const v of u)if(v.from.test(y))return{normalizedTransformation:v}}));m.on("matched:data",((y,v)=>{if(!v.batch.isTyping)return;const{from:A,to:S}=v.normalizedTransformation,D=A.exec(v.text),N=S(D.slice(1)),L=v.range;let q=D.index;o.enqueueChange((Y=>{for(let ne=1;ne<D.length;ne++){const ue=D[ne],me=N[ne-1];if(me==null){q+=ue.length;continue}const Ae=L.start.getShiftedBy(q),Me=o.createRange(Ae,Ae.getShiftedBy(ue.length)),Ue=qhe(Ae);o.insertContent(Y.createText(me,Ue),Me),q+=me.length}o.enqueueChange((()=>{d.requestUndoOnBackspace()}))}))})),m.bind("isEnabled").to(this)}}function Vhe(g){return typeof g=="string"?new RegExp(`(${LM(g)})$`):g}function Uhe(g){return typeof g=="string"?()=>[g]:g instanceof Array?()=>g:g}function qhe(g){return(g.textNode?g.textNode:g.nodeAfter).getAttributes()}function E0(g){return new RegExp(`(^|\\s)(${g})([^${g}]*)(${g})$`)}function Gk(g,i,o,d){return d.createRange(h9(g,i,o,!0,d),h9(g,i,o,!1,d))}function h9(g,i,o,d,u){let m=g.textNode||(d?g.nodeBefore:g.nodeAfter),y=null;for(;m&&m.getAttribute(i)==o;)y=m,m=d?m.previousSibling:m.nextSibling;return y?u.createPositionAt(y,d?"before":"after"):g}function*u9(g,i){for(const o of i)o&&g.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class Whe extends vr{execute(){this.editor.model.change((i=>{this.enterBlock(i),this.fire("afterExecute",{writer:i})}))}enterBlock(i){const o=this.editor.model,d=o.document.selection,u=o.schema,m=d.isCollapsed,y=d.getFirstRange(),v=y.start.parent,A=y.end.parent;if(u.isLimit(v)||u.isLimit(A))return m||v!=A||o.deleteContent(d),!1;if(m){const S=u9(i.model.schema,d.getAttributes());return f9(i,y.start),i.setSelectionAttribute(S),!0}{const S=!(y.start.isAtStart&&y.end.isAtEnd),D=v==A;if(o.deleteContent(d,{leaveUnmerged:S}),S){if(D)return f9(i,d.focus),!0;i.setSelection(A,0)}}return!1}}function f9(g,i){g.split(i),g.setSelection(i.parent.nextSibling,0)}const Yhe={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class g9 extends pl{constructor(i){super(i);const o=this.document;let d=!1;o.on("keydown",((u,m)=>{d=m.shiftKey})),o.on("beforeinput",((u,m)=>{if(!this.isEnabled)return;let y=m.inputType;p.isSafari&&d&&y=="insertParagraph"&&(y="insertLineBreak");const v=m.domEvent,A=Yhe[y];if(!A)return;const S=new O0(o,"enter",m.targetRanges[0]);o.fire(S,new k0(i,v,{isSoft:A.isSoft})),S.stop.called&&u.stop()}))}observe(){}stopObserving(){}}class Hk extends at{static get pluginName(){return"Enter"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.editing.view,d=o.document,u=this.editor.t;o.addObserver(g9),i.commands.add("enter",new Whe(i)),this.listenTo(d,"enter",((m,y)=>{d.isComposing||y.preventDefault(),y.isSoft||(i.execute("enter"),o.scrollToTheSelection())}),{priority:"low"}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class Zhe extends vr{execute(){const i=this.editor.model,o=i.document;i.change((d=>{(function(u,m,y){const v=y.isCollapsed,A=y.getFirstRange(),S=A.start.parent,D=A.end.parent,N=S==D;if(v){const L=u9(u.schema,y.getAttributes());p9(u,m,A.end),m.removeSelectionAttribute(y.getAttributeKeys()),m.setSelectionAttribute(L)}else{const L=!(A.start.isAtStart&&A.end.isAtEnd);u.deleteContent(y,{leaveUnmerged:L}),N?p9(u,m,y.focus):L&&m.setSelection(D,0)}})(i,d,o.selection),this.fire("afterExecute",{writer:d})}))}refresh(){const i=this.editor.model,o=i.document;this.isEnabled=(function(d,u){if(u.rangeCount>1)return!1;const m=u.anchor;if(!m||!d.checkChild(m,"softBreak"))return!1;const y=u.getFirstRange(),v=y.start.parent,A=y.end.parent;return!((t4(v,d)||t4(A,d))&&v!==A)})(i.schema,o.selection)}}function p9(g,i,o){const d=i.createElement("softBreak");g.insertContent(d,o),i.setSelection(d,"after")}function t4(g,i){return!g.is("rootElement")&&(i.isLimit(g)||t4(g.parent,i))}class Ghe extends at{static get pluginName(){return"ShiftEnter"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.model.schema,d=i.conversion,u=i.editing.view,m=u.document,y=this.editor.t;o.register("softBreak",{allowWhere:"$text",isInline:!0}),d.for("upcast").elementToElement({model:"softBreak",view:"br"}),d.for("downcast").elementToElement({model:"softBreak",view:(v,{writer:A})=>A.createEmptyElement("br")}),u.addObserver(g9),i.commands.add("shiftEnter",new Zhe(i)),this.listenTo(m,"enter",((v,A)=>{m.isComposing||A.preventDefault(),A.isSoft&&(i.execute("shiftEnter"),u.scrollToTheSelection())}),{priority:"low"}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:y("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class Hhe extends K(){constructor(){super(...arguments),this._stack=[]}add(i,o){const d=this._stack,u=d[0];this._insertDescriptor(i);const m=d[0];u===m||r4(u,m)||this.fire("change:top",{oldDescriptor:u,newDescriptor:m,writer:o})}remove(i,o){const d=this._stack,u=d[0];this._removeDescriptor(i);const m=d[0];u===m||r4(u,m)||this.fire("change:top",{oldDescriptor:u,newDescriptor:m,writer:o})}_insertDescriptor(i){const o=this._stack,d=o.findIndex((m=>m.id===i.id));if(r4(i,o[d]))return;d>-1&&o.splice(d,1);let u=0;for(;o[u]&&Khe(o[u],i);)u++;o.splice(u,0,i)}_removeDescriptor(i){const o=this._stack,d=o.findIndex((u=>u.id===i));d>-1&&o.splice(d,1)}}function r4(g,i){return g&&i&&g.priority==i.priority&&Kk(g.classes)==Kk(i.classes)}function Khe(g,i){return g.priority>i.priority||!(g.priority<i.priority)&&Kk(g.classes)>Kk(i.classes)}function Kk(g){return Array.isArray(g)?g.sort().join(","):g}const Jhe='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',m9="ck-widget_selected";function zn(g){return!!g.is("element")&&!!g.getCustomProperty("widget")}function n4(g,i,o={}){if(!g.is("containerElement"))throw new F("widget-to-widget-wrong-element-type",null,{element:g});return i.setAttribute("contenteditable","false",g),i.addClass("ck-widget",g),i.setCustomProperty("widget",!0,g),g.getFillerOffset=rue,i.setCustomProperty("widgetLabel",[],g),o.label&&(function(d,u){d.getCustomProperty("widgetLabel").push(u)})(g,o.label),o.hasSelectionHandle&&(function(d,u){const m=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(y){const v=this.toDomElement(y),A=new Va;return A.set("content",Jhe),A.render(),v.appendChild(A.element),v}));u.insert(u.createPositionAt(d,0),m),u.addClass(["ck-widget_with-selection-handle"],d)})(g,i),O9(g,i),g}function eue(g,i,o){if(i.classes&&o.addClass(An(i.classes),g),i.attributes)for(const d in i.attributes)o.setAttribute(d,i.attributes[d],g)}function tue(g,i,o){if(i.classes&&o.removeClass(An(i.classes),g),i.attributes)for(const d in i.attributes)o.removeAttribute(d,g)}function O9(g,i,o=eue,d=tue){const u=new Hhe;u.on("change:top",((m,y)=>{y.oldDescriptor&&d(g,y.oldDescriptor,y.writer),y.newDescriptor&&o(g,y.newDescriptor,y.writer)})),i.setCustomProperty("addHighlight",((m,y,v)=>u.add(y,v)),g),i.setCustomProperty("removeHighlight",((m,y,v)=>u.remove(y,v)),g)}function x9(g,i,o={}){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],g),i.setAttribute("role","textbox",g),i.setAttribute("tabindex","-1",g),o.label&&i.setAttribute("aria-label",o.label,g),i.setAttribute("contenteditable",g.isReadOnly?"false":"true",g),g.on("change:isReadOnly",((d,u,m)=>{i.setAttribute("contenteditable",m?"false":"true",g)})),g.on("change:isFocused",((d,u,m)=>{m?i.addClass("ck-editor__nested-editable_focused",g):i.removeClass("ck-editor__nested-editable_focused",g)})),O9(g,i),g}function b9(g,i){const o=g.getSelectedElement();if(o){const d=wd(g);if(d)return i.createRange(i.createPositionAt(o,d))}return i.schema.findOptimalInsertionRange(g)}function rue(){return null}const uc="widget-type-around";function Vh(g,i,o){return!!g&&zn(g)&&!o.isInline(i)}function wd(g){return g.getAttribute(uc)}var Jk=s(8508),am={attributes:{"data-cke":!0}};am.setAttributes=gt(),am.insert=ft().bind(null,"head"),am.domAPI=ut(),am.insertStyleElement=pt(),ht()(Jk.A,am),Jk.A&&Jk.A.locals&&Jk.A.locals;const k9=["before","after"],nue=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,y9="ck-widget__type-around_disabled";class iue extends at{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get isOfficialPlugin(){return!0}static get requires(){return[Hk,dc]}init(){const i=this.editor,o=i.editing.view;this.on("change:isEnabled",((d,u,m)=>{o.change((y=>{for(const v of o.document.roots)m?y.removeClass(y9,v):y.addClass(y9,v)})),m||i.model.change((y=>{y.removeSelectionAttribute(uc)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(i,o){const d=this.editor,u=d.editing.view,m=d.model.schema.getAttributesWithProperty(i,"copyOnReplace",!0);d.execute("insertParagraph",{position:d.model.createPositionAt(i,o),attributes:m}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(i,o,d,u){this.listenTo(i,o,((...m)=>{this.isEnabled&&d(...m)}),u)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,o=wd(i);if(!o)return!1;const d=i.getSelectedElement();return this._insertParagraph(d,o),!0}_enableTypeAroundUIInjection(){const i=this.editor,o=i.model.schema,d=i.locale.t,u={before:d("Insert paragraph before block"),after:d("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",((m,y,v)=>{const A=v.mapper.toViewElement(y.item);A&&Vh(A,y.item,o)&&((function(S,D,N){const L=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(q){const Y=this.toDomElement(q);return(function(ne,ue){for(const me of k9){const Ae=new Ao({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${me}`],title:ue[me],"aria-hidden":"true"},children:[ne.ownerDocument.importNode(nue,!0)]});ne.appendChild(Ae.render())}})(Y,D),(function(ne){const ue=new Ao({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ne.appendChild(ue.render())})(Y),Y}));S.insert(S.createPositionAt(N,"end"),L)})(v.writer,u,A),A.getCustomProperty("widgetLabel").push((()=>this.isEnabled?d("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const i=this.editor,o=i.model,d=o.document.selection,u=o.schema,m=i.editing.view;function y(v){return`ck-widget_type-around_show-fake-caret_${v}`}this._listenToIfEnabled(m.document,"arrowKey",((v,A)=>{this._handleArrowKeyPress(v,A)}),{context:[zn,"$text"],priority:"high"}),this._listenToIfEnabled(d,"change:range",((v,A)=>{A.directChange&&i.model.change((S=>{S.removeSelectionAttribute(uc)}))})),this._listenToIfEnabled(o.document,"change:data",(()=>{const v=d.getSelectedElement();v&&Vh(i.editing.mapper.toViewElement(v),v,u)||i.model.change((A=>{A.removeSelectionAttribute(uc)}))})),this._listenToIfEnabled(i.editing.downcastDispatcher,"selection",((v,A,S)=>{const D=S.writer;if(this._currentFakeCaretModelElement){const Y=S.mapper.toViewElement(this._currentFakeCaretModelElement);Y&&(D.removeClass(k9.map(y),Y),this._currentFakeCaretModelElement=null)}const N=A.selection.getSelectedElement();if(!N)return;const L=S.mapper.toViewElement(N);if(!Vh(L,N,u))return;const q=wd(A.selection);q&&(D.addClass(y(q),L),this._currentFakeCaretModelElement=N)})),this._listenToIfEnabled(i.ui.focusTracker,"change:isFocused",((v,A,S)=>{S||i.model.change((D=>{D.removeSelectionAttribute(uc)}))}))}_handleArrowKeyPress(i,o){const d=this.editor,u=d.model,m=u.document.selection,y=u.schema,v=d.editing.view,A=(function(N,L){const q=ZA(N,L);return q==="down"||q==="right"})(o.keyCode,d.locale.contentLanguageDirection),S=v.document.selection.getSelectedElement();let D;Vh(S,d.editing.mapper.toModelElement(S),y)?D=this._handleArrowKeyPressOnSelectedWidget(A):m.isCollapsed?D=this._handleArrowKeyPressWhenSelectionNextToAWidget(A):o.shiftKey||(D=this._handleArrowKeyPressWhenNonCollapsedSelection(A)),D&&(o.preventDefault(),i.stop())}_handleArrowKeyPressOnSelectedWidget(i){const o=this.editor.model,d=wd(o.document.selection);return o.change((u=>d?d!==(i?"after":"before")?(u.removeSelectionAttribute(uc),!0):!1:(u.setSelectionAttribute(uc,i?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(i){const o=this.editor,d=o.model,u=d.schema,m=o.plugins.get("Widget"),y=m._getObjectElementNextToSelection(i);return!!Vh(o.editing.mapper.toViewElement(y),y,u)&&(d.change((v=>{m._setSelectionOverElement(y),v.setSelectionAttribute(uc,i?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(i){const o=this.editor,d=o.model,u=d.schema,m=o.editing.mapper,y=d.document.selection,v=i?y.getLastPosition().nodeBefore:y.getFirstPosition().nodeAfter;return!!Vh(m.toViewElement(v),v,u)&&(d.change((A=>{A.setSelection(v,"on"),A.setSelectionAttribute(uc,i?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,o=i.editing.view;this._listenToIfEnabled(o.document,"mousedown",((d,u)=>{const m=u.domTarget.closest(".ck-widget__type-around__button");if(!m)return;const y=(function(S){return S.classList.contains("ck-widget__type-around__button_before")?"before":"after"})(m),v=(function(S,D){const N=S.closest(".ck-widget");return D.mapDomToView(N)})(m,o.domConverter),A=i.editing.mapper.toModelElement(v);this._insertParagraph(A,y),u.preventDefault(),d.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const i=this.editor,o=i.model.document.selection,d=i.editing.view;this._listenToIfEnabled(d.document,"enter",((u,m)=>{if(u.eventPhase!="atTarget")return;const y=o.getSelectedElement(),v=i.editing.mapper.toViewElement(y),A=i.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:Vh(v,y,A)&&(this._insertParagraph(y,m.isSoft?"before":"after"),S=!0),S&&(m.preventDefault(),u.stop())}),{context:zn})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",((o,d)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(d.selection=i.selection)}),{priority:"high"}),p.isAndroid?this._listenToIfEnabled(i,"keydown",((o,d)=>{d.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(i,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const i=this.editor,o=i.editing.view,d=i.model,u=d.schema;this._listenToIfEnabled(o.document,"delete",((m,y)=>{if(m.eventPhase!="atTarget")return;const v=wd(d.document.selection);if(!v)return;const A=y.direction,S=d.document.selection.getSelectedElement(),D=A=="forward";if(v==="before"===D)i.execute("delete",{selection:d.createSelection(S,"on")});else{const N=u.getNearestSelectionRange(d.createPositionAt(S,v),A);if(N)if(N.isCollapsed){const L=d.createSelection(N.start);if(d.modifySelection(L,{direction:A}),L.focus.isEqual(N.start)){const q=(function(Y,ne){let ue=ne;for(const me of ne.getAncestors({parentFirst:!0})){if(me.childCount>1||Y.isLimit(me))break;ue=me}return ue})(u,N.start.parent);d.deleteContent(d.createSelection(q,"on"),{doNotAutoparagraph:!0})}else d.change((q=>{q.setSelection(N),i.execute(D?"deleteForward":"delete")}))}else d.change((L=>{L.setSelection(N),i.execute(D?"deleteForward":"delete")}))}y.preventDefault(),m.stop()}),{context:zn})}_enableInsertContentIntegration(){const i=this.editor,o=this.editor.model,d=o.document.selection;this._listenToIfEnabled(i.model,"insertContent",((u,[m,y])=>{if(y&&!y.is("documentSelection"))return;const v=wd(d);return v?(u.stop(),o.change((A=>{const S=d.getSelectedElement(),D=o.createPositionAt(S,v),N=A.createSelection(D),L=o.insertContent(m,N);return A.setSelection(N),L}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const i=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(i.model,"insertObject",((d,u)=>{const[,m,y={}]=u;if(m&&!m.is("documentSelection"))return;const v=wd(o);v&&(y.findOptimalPosition=v,u[3]=y)}),{priority:"high"})}_enableDeleteContentIntegration(){const i=this.editor,o=this.editor.model.document.selection;this._listenToIfEnabled(i.model,"deleteContent",((d,[u])=>{u&&!u.is("documentSelection")||wd(o)&&d.stop()}),{priority:"high"})}}function sue(g){const i=g.model;return(o,d)=>{const u=d.keyCode==Tr.arrowup,m=d.keyCode==Tr.arrowdown,y=d.shiftKey,v=i.document.selection;if(!u&&!m)return;const A=m;if(y&&(function(D,N){return!D.isCollapsed&&D.isBackward==N})(v,A))return;const S=(function(D,N,L){const q=D.model;if(L){const Y=N.isCollapsed?N.focus:N.getLastPosition(),ne=w9(q,Y,"forward");if(!ne)return null;const ue=q.createRange(Y,ne),me=v9(q.schema,ue,"backward");return me?q.createRange(Y,me):null}{const Y=N.isCollapsed?N.focus:N.getFirstPosition(),ne=w9(q,Y,"backward");if(!ne)return null;const ue=q.createRange(ne,Y),me=v9(q.schema,ue,"forward");return me?q.createRange(me,Y):null}})(g,v,A);if(S){if(S.isCollapsed&&(v.isCollapsed||y))return;(S.isCollapsed||(function(D,N,L){const q=D.model,Y=D.view.domConverter;if(L){const Me=q.createSelection(N.start);q.modifySelection(Me),Me.focus.isAtEnd||N.start.isEqual(Me.focus)||(N=q.createRange(Me.focus,N.end))}const ne=D.mapper.toViewRange(N),ue=Y.viewRangeToDom(ne),me=wr.getDomRangeRects(ue);let Ae;for(const Me of me)if(Ae!==void 0){if(Math.round(Me.top)>=Ae)return!1;Ae=Math.max(Ae,Math.round(Me.bottom))}else Ae=Math.round(Me.bottom);return!0})(g,S,A))&&(i.change((D=>{const N=A?S.end:S.start;if(y){const L=i.createSelection(v.anchor);L.setFocus(N),D.setSelection(L)}else D.setSelection(N)})),o.stop(),d.preventDefault(),d.stopPropagation())}}}function w9(g,i,o){const d=g.schema,u=g.createRangeIn(i.root),m=o=="forward"?"elementStart":"elementEnd";for(const{previousPosition:y,item:v,type:A}of u.getWalker({startPosition:i,direction:o})){if(d.isLimit(v)&&!d.isInline(v))return y;if(A==m&&d.isBlock(v))return null}return null}function v9(g,i,o){const d=o=="backward"?i.end:i.start;if(g.checkChild(d,"$text"))return d;for(const{nextPosition:u}of i.getWalker({direction:o}))if(g.checkChild(u,"$text"))return u;return null}var ey=s(695),om={attributes:{"data-cke":!0}};om.setAttributes=gt(),om.insert=ft().bind(null,"head"),om.domAPI=ut(),om.insertStyleElement=pt(),ht()(ey.A,om),ey.A&&ey.A.locals&&ey.A.locals;class lm extends at{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get isOfficialPlugin(){return!0}static get requires(){return[iue,dc]}init(){const i=this.editor,o=i.editing.view,d=o.document,u=i.t;this.editor.editing.downcastDispatcher.on("selection",((m,y,v)=>{const A=v.writer,S=y.selection;if(S.isCollapsed)return;const D=S.getSelectedElement();if(!D)return;const N=i.editing.mapper.toViewElement(D);var L;zn(N)&&v.consumable.consume(S,"selection")&&A.setSelection(A.createRangeOn(N),{fake:!0,label:(L=N,L.getCustomProperty("widgetLabel").reduce(((q,Y)=>typeof Y=="function"?q?q+". "+Y():Y():q?q+". "+Y:Y),""))})})),this.editor.editing.downcastDispatcher.on("selection",((m,y,v)=>{this._clearPreviouslySelectedWidgets(v.writer);const A=v.writer,S=A.document.selection;let D=null;for(const N of S.getRanges())for(const L of N){const q=L.item;zn(q)&&!aue(q,D)&&(A.addClass(m9,q),this._previouslySelected.add(q),D=q)}}),{priority:"low"}),o.addObserver(IS),this.listenTo(d,"mousedown",((...m)=>this._onMousedown(...m))),this.listenTo(d,"arrowKey",((...m)=>{this._handleSelectionChangeOnArrowKeyPress(...m)}),{context:[zn,"$text"]}),this.listenTo(d,"arrowKey",((...m)=>{this._preventDefaultOnArrowKeyPress(...m)}),{context:"$root"}),this.listenTo(d,"arrowKey",sue(this.editor.editing),{context:"$text"}),this.listenTo(d,"delete",((m,y)=>{this._handleDelete(y.direction=="forward")&&(y.preventDefault(),m.stop())}),{context:"$root"}),this.listenTo(d,"tab",((m,y)=>{m.eventPhase=="atTarget"&&(y.shiftKey||this._selectFirstNestedEditable()&&(y.preventDefault(),m.stop()))}),{context:zn,priority:"low"}),this.listenTo(d,"tab",((m,y)=>{y.shiftKey&&this._selectAncestorWidget()&&(y.preventDefault(),m.stop())}),{priority:"low"}),this.listenTo(d,"keydown",((m,y)=>{y.keystroke==Tr.esc&&this._selectAncestorWidget()&&(y.preventDefault(),m.stop())}),{priority:"low"}),i.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Move focus from an editable area back to the parent widget"),keystroke:"Esc"},{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(i,o){const d=this.editor,u=d.editing.view,m=u.document;let y=o.target;if(!y)return;if(o.domEvent.detail>=3)return void(this._selectBlockContent(y)&&o.preventDefault());if(!zn(y)){const A=(function(S){let D=S;for(;D;){if(D.is("editableElement")||zn(D))return D;D=D.parent}return null})(y);if(!A)return;if(zn(A))y=A;else{const S=(function(D,N){const L=LD(N.domEvent);let q=null;if(q=L?D.domConverter.domRangeToView(L):D.createRange(D.createPositionAt(N.target,0)),!q)return null;const Y=q.start;if(!Y.parent)return null;let ne=Y.parent;return Y.parent.is("editableElement")&&(Y.isAtEnd&&Y.nodeBefore?ne=Y.nodeBefore:Y.isAtStart&&Y.nodeAfter&&(ne=Y.nodeAfter)),ne.is("$text")?ne.parent:ne})(u,o);if(!S||!zn(S))return;y=S}}p.isAndroid&&o.preventDefault(),m.isFocused||u.focus();const v=d.editing.mapper.toModelElement(y);this._setSelectionOverElement(v)}_selectBlockContent(i){const o=this.editor,d=o.model,u=o.editing.mapper,m=d.schema,y=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(i,0)),v=(function(A,S){for(const D of A.getAncestors({includeSelf:!0,parentFirst:!0})){if(S.checkChild(D,"$text"))return D;if(S.isLimit(D)&&!S.isObject(D))break}return null})(u.toModelElement(y),d.schema);return!!v&&(d.change((A=>{const S=m.isLimit(v)?null:(function(L,q){const Y=new ac({startPosition:L});for(const{item:ne}of Y){if(q.isLimit(ne)||!ne.is("element"))return null;if(q.checkChild(ne,"$text"))return ne}return null})(A.createPositionAfter(v),m),D=A.createPositionAt(v,0),N=S?A.createPositionAt(S,0):A.createPositionAt(v,"end");A.setSelection(A.createRange(D,N))})),!0)}_handleSelectionChangeOnArrowKeyPress(i,o){const d=o.keyCode,u=this.editor.model,m=u.schema,y=u.document.selection,v=y.getSelectedElement(),A=ZA(d,this.editor.locale.contentLanguageDirection),S=A=="down"||A=="right",D=A=="up"||A=="down";if(v&&m.isObject(v)){const L=S?y.getLastPosition():y.getFirstPosition(),q=m.getNearestSelectionRange(L,S?"forward":"backward");return void(q&&(u.change((Y=>{Y.setSelection(q)})),o.preventDefault(),i.stop()))}if(!y.isCollapsed&&!o.shiftKey){const L=y.getFirstPosition(),q=y.getLastPosition(),Y=L.nodeAfter,ne=q.nodeBefore;return void((Y&&m.isObject(Y)||ne&&m.isObject(ne))&&(u.change((ue=>{ue.setSelection(S?q:L)})),o.preventDefault(),i.stop()))}if(!y.isCollapsed)return;const N=this._getObjectElementNextToSelection(S);if(N&&m.isObject(N)){if(m.isInline(N)&&D)return;this._setSelectionOverElement(N),o.preventDefault(),i.stop()}}_preventDefaultOnArrowKeyPress(i,o){const d=this.editor.model,u=d.schema,m=d.document.selection.getSelectedElement();m&&u.isObject(m)&&(o.preventDefault(),i.stop())}_handleDelete(i){const o=this.editor.model.document.selection;if(!this.editor.model.canEditAt(o)||!o.isCollapsed)return;const d=this._getObjectElementNextToSelection(i);return d?(this.editor.model.change((u=>{let m=o.anchor.parent;for(;m.isEmpty;){const y=m;m=y.parent,u.remove(y)}this._setSelectionOverElement(d)})),!0):void 0}_setSelectionOverElement(i){this.editor.model.change((o=>{o.setSelection(o.createRangeOn(i))}))}_getObjectElementNextToSelection(i){const o=this.editor.model,d=o.schema,u=o.document.selection,m=o.createSelection(u);if(o.modifySelection(m,{direction:i?"forward":"backward"}),m.isEqual(u))return null;const y=i?m.focus.nodeBefore:m.focus.nodeAfter;return y&&d.isObject(y)?y:null}_clearPreviouslySelectedWidgets(i){for(const o of this._previouslySelected)i.removeClass(m9,o);this._previouslySelected.clear()}_selectFirstNestedEditable(){const i=this.editor,o=this.editor.editing.view.document;for(const d of o.selection.getFirstRange().getItems())if(d.is("editableElement")){const u=i.editing.mapper.toModelElement(d);if(!u)continue;const m=i.model.createPositionAt(u,0),y=i.model.schema.getNearestSelectionRange(m,"forward");return i.model.change((v=>{v.setSelection(y)})),!0}return!1}_selectAncestorWidget(){const i=this.editor,o=i.editing.mapper,d=i.editing.view.document.selection.getFirstPosition().parent,u=(d.is("$text")?d.parent:d).findAncestor(zn);if(!u)return!1;const m=o.toModelElement(u);return!!m&&(i.model.change((y=>{y.setSelection(m,"on")})),!0)}}function aue(g,i){return!!i&&Array.from(g.getAncestors()).includes(i)}class ty extends at{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Rk]}static get pluginName(){return"WidgetToolbarRepository"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;if(i.plugins.has("BalloonToolbar")){const o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",(d=>{(function(u){const m=u.getSelectedElement();return!(!m||!zn(m))})(i.editing.view.document.selection)&&d.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(i.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(i.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const i of this._toolbarDefinitions.values())i.view.destroy()}register(i,{ariaLabel:o,items:d,getRelatedElement:u,balloonClassName:m="ck-toolbar-container"}){if(!d.length)return void V("widget-toolbar-no-items",{toolbarId:i});const y=this.editor,v=y.t,A=new WS(y.locale);if(A.ariaLabel=o||v("Widget toolbar"),this._toolbarDefinitions.has(i))throw new F("widget-toolbar-duplicated",this,{toolbarId:i});const S={view:A,getRelatedElement:u,balloonClassName:m,itemsConfig:d,initialized:!1};y.ui.addToolbar(A,{isContextual:!0,beforeFocus:()=>{const D=u(y.editing.view.document.selection);D&&this._showToolbar(S,D)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(i,S)}_updateToolbarsVisibility(){let i=0,o=null,d=null;for(const u of this._toolbarDefinitions.values()){const m=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&m)if(this.editor.ui.focusTracker.isFocused){const y=m.getAncestors().length;y>i&&(i=y,o=m,d=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}d&&this._showToolbar(d,o)}_hideToolbar(i){this._balloon.remove(i.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(i,o){this._isToolbarVisible(i)?_9(this.editor,o):this._isToolbarInBalloon(i)||(i.initialized||(i.initialized=!0,i.view.fillFromConfig(i.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:i.view,position:C9(this.editor,o),balloonClassName:i.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const d of this._toolbarDefinitions.values())if(this._isToolbarVisible(d)){const u=d.getRelatedElement(this.editor.editing.view.document.selection);_9(this.editor,u)}})))}_isToolbarVisible(i){return this._balloon.visibleView===i.view}_isToolbarInBalloon(i){return this._balloon.hasView(i.view)}}function _9(g,i){const o=g.plugins.get("ContextualBalloon"),d=C9(g,i);o.updatePosition(d)}function C9(g,i){const o=g.editing.view,d=cc.defaultPositions;return{target:o.domConverter.mapViewToDom(i),positions:[d.northArrowSouth,d.northArrowSouthWest,d.northArrowSouthEast,d.southArrowNorth,d.southArrowNorthWest,d.southArrowNorthEast,d.viewportStickyNorth]}}var ry=s(4095),cm={attributes:{"data-cke":!0}};cm.setAttributes=gt(),cm.insert=ft().bind(null,"head"),cm.domAPI=ut(),cm.insertStyleElement=pt(),ht()(ry.A,cm),ry.A&&ry.A.locals&&ry.A.locals;const i4=h0("px");class oue extends Vt{constructor(){super();const i=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",i.if("isVisible","ck-hidden",(o=>!o))],style:{left:i.to("left",(o=>i4(o))),top:i.to("top",(o=>i4(o))),width:i.to("width",(o=>i4(o)))}}})}}class ny extends at{constructor(){super(...arguments),this.removeDropMarkerDelayed=KA((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=zb((i=>this._updateDropMarker(i)),40),this._reconvertMarkerThrottled=zb((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new oue,this._domEmitter=new(za()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}static get isOfficialPlugin(){return!0}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:i}of this._scrollables.values())i.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(i,o,d,u,m,y){this.removeDropMarkerDelayed.cancel();const v=A9(this.editor,i,o,d,u,m,y);if(v)return y&&y.containsRange(v)?this.removeDropMarker():void this._updateDropMarkerThrottled(v)}getFinalDropRange(i,o,d,u,m,y){const v=A9(this.editor,i,o,d,u,m,y);return this.removeDropMarker(),v}removeDropMarker(){const i=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,i.markers.has("drop-target")&&i.change((o=>{o.removeMarker("drop-target")}))}_setupDropMarker(){const i=this.editor;i.ui.view.body.add(this._dropTargetLineView),i.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),i.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:d})=>{if(i.model.schema.checkChild(o.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(d);o.markerRange.isCollapsed?this._updateDropTargetLine(o.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(i){const o=this.editor,d=o.model.markers;o.model.change((u=>{d.has("drop-target")?d.get("drop-target").getRange().isEqual(i)||u.updateMarker("drop-target",{range:i}):u.addMarker("drop-target",{range:i,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(i){return i.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(o){const d=this.toDomElement(o);return d.append("",o.createElement("span"),""),d}))}_updateDropTargetLine(i){const o=this.editor.editing,d=i.start.nodeBefore,u=i.start.nodeAfter,m=i.start.parent,y=d?o.mapper.toViewElement(d):null,v=y?o.view.domConverter.mapViewToDom(y):null,A=u?o.mapper.toViewElement(u):null,S=A?o.view.domConverter.mapViewToDom(A):null,D=o.mapper.toViewElement(m);if(!D)return;const N=o.view.domConverter.mapViewToDom(D),L=this._getScrollableRect(D),{scrollX:q,scrollY:Y}=c.window,ne=v?new wr(v):null,ue=S?new wr(S):null,me=new wr(N).excludeScrollbarsAndBorders(),Ae=ne?ne.bottom:me.top,Me=ue?ue.top:me.bottom,Ue=c.window.getComputedStyle(N),qe=Ae<=Me?(Ae+Me)/2:Me;if(L.top<qe&&qe<L.bottom){const Bt=me.left+parseFloat(Ue.paddingLeft),Ut=me.right-parseFloat(Ue.paddingRight),Xr=Math.max(Bt+q,L.left),xn=Math.min(Ut+q,L.right);this._dropTargetLineView.set({isVisible:!0,left:Xr,top:qe+Y,width:xn-Xr})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(i){const o=i.root.rootName;let d;if(this._scrollables.has(o))d=this._scrollables.get(o).domElement;else{d=(function(m){let y=m;do{y=y.parentElement;const v=c.window.getComputedStyle(y).overflowY;if(v=="auto"||v=="scroll")break}while(y.tagName!="BODY");return y})(this.editor.editing.view.domConverter.mapViewToDom(i)),this._domEmitter.listenTo(d,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new Ng(d,this._reconvertMarkerThrottled);this._scrollables.set(o,{domElement:d,resizeObserver:u})}return new wr(d).excludeScrollbarsAndBorders()}}function A9(g,i,o,d,u,m,y){const v=g.model,A=g.editing.mapper;let S=T9(g,i);for(;S;){if(!m){if(v.schema.checkChild(S,"$text")){if(o){const D=o[0].start,N=A.toModelPosition(D);if(!y||Array.from(y.getItems({shallow:!0})).every((L=>v.schema.checkChild(N,L)))){if(v.schema.checkChild(N,"$text"))return v.createRange(N);if(D)return iy(g,T9(g,D.parent),d,u)}}}else if(v.schema.isInline(S))return iy(g,S,d,u)}if(v.schema.isBlock(S))return iy(g,S,d,u);if(v.schema.checkChild(S,"$block")){const D=Array.from(S.getChildren()).filter((q=>q.is("element")&&!lue(g,q)));let N=0,L=D.length;if(L==0)return v.createRange(v.createPositionAt(S,"end"));for(;N<L-1;){const q=Math.floor((N+L)/2);S9(g,D[q],d,u)=="before"?L=q:N=q}return iy(g,D[N],d,u)}S=S.parent}return null}function lue(g,i){const o=g.editing.mapper,d=g.editing.view.domConverter,u=o.toViewElement(i);if(!u)return!0;const m=d.mapViewToDom(u);return c.window.getComputedStyle(m).float!="none"}function iy(g,i,o,d){const u=g.model;return u.createRange(u.createPositionAt(i,S9(g,i,o,d)))}function S9(g,i,o,d){const u=g.editing.mapper,m=g.editing.view.domConverter,y=u.toViewElement(i),v=m.mapViewToDom(y),A=new wr(v);return g.model.schema.isInline(i)?o<(A.left+A.right)/2?"before":"after":d<(A.top+A.bottom)/2?"before":"after"}function T9(g,i){const o=g.editing.mapper,d=g.editing.view,u=o.toModelElement(i);if(u)return u;const m=d.createPositionBefore(i),y=o.findMappedViewAncestor(m);return o.toModelElement(y)}class cue extends at{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(za())}static get pluginName(){return"DragDropBlockToolbar"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;if(this.listenTo(i,"change:isReadOnly",((o,d,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),p.isAndroid&&this.forceDisabled("noAndroidSupport"),i.plugins.has("BlockToolbar")){const o=i.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(o,"dragstart",((d,u)=>this._handleBlockDragStart(u))),this._domEmitter.listenTo(c.document,"dragover",((d,u)=>this._handleBlockDragging(u))),this._domEmitter.listenTo(c.document,"drop",((d,u)=>this._handleBlockDragging(u))),this._domEmitter.listenTo(c.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&o.setAttribute("draggable","true"),this.on("change:isEnabled",((d,u,m)=>{o.setAttribute("draggable",m?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(i){if(!this.isEnabled)return;const o=this.editor.model,d=o.document.selection,u=this.editor.editing.view,m=Array.from(d.getSelectedBlocks()),y=o.createRange(o.createPositionBefore(m[0]),o.createPositionAfter(m[m.length-1]));o.change((v=>v.setSelection(y))),this._isBlockDragging=!0,u.focus(),u.getObserver(tm).onDomEvent(i)}_handleBlockDragging(i){if(!this.isEnabled||!this._isBlockDragging)return;const o=i.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),d=i.clientY,u=document.elementFromPoint(o,d),m=this.editor.editing.view;u&&u.closest(".ck-editor__editable")&&m.getObserver(tm).onDomEvent({...i,type:i.type,dataTransfer:i.dataTransfer,target:u,clientX:o,clientY:d,preventDefault:()=>i.preventDefault(),stopPropagation:()=>i.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var sy=s(7793),dm={attributes:{"data-cke":!0}};dm.setAttributes=gt(),dm.insert=ft().bind(null,"head"),dm.domAPI=ut(),dm.insertStyleElement=pt(),ht()(sy.A,dm),sy.A&&sy.A.locals&&sy.A.locals;class due extends at{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=KA((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(za())}static get pluginName(){return"DragDrop"}static get isOfficialPlugin(){return!0}static get requires(){return[Ua,lm,ny,cue]}init(){const i=this.editor,o=i.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,o.addObserver(tm),o.addObserver(IS),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(i,"change:isReadOnly",((d,u,m)=>{m?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((d,u,m)=>{m||this._finalizeDragging(!1)})),p.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const i=this.editor,o=i.model,d=i.editing.view,u=d.document,m=i.plugins.get(ny);this.listenTo(u,"dragstart",((y,v)=>{if(v.target&&v.target.is("editableElement")||(this._prepareDraggedRange(v.target),!this._draggedRange))return void v.preventDefault();this._draggingUid=z(),v.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",v.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const A=o.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(v.dataTransfer,A,"dragstart");const{dataTransfer:S,domTarget:D,domEvent:N}=v,{clientX:L}=N;this._updatePreview({dataTransfer:S,domTarget:D,clientX:L}),v.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(u,"dragend",((y,v)=>{this._finalizeDragging(!v.dataTransfer.isCanceled&&v.dataTransfer.dropEffect=="move")}),{priority:"low"}),this._domEmitter.listenTo(c.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(u,"dragenter",(()=>{this.isEnabled&&d.focus()})),this.listenTo(u,"dragleave",(()=>{m.removeDropMarkerDelayed()})),this.listenTo(u,"dragging",((y,v)=>{if(!this.isEnabled)return void(v.dataTransfer.dropEffect="none");const{clientX:A,clientY:S}=v.domEvent;m.updateDropMarker(v.target,v.targetRanges,A,S,this._blockMode,this._draggedRange),this._draggedRange||(v.dataTransfer.dropEffect="copy"),p.isGecko||(v.dataTransfer.effectAllowed=="copy"?v.dataTransfer.dropEffect="copy":["all","copyMove"].includes(v.dataTransfer.effectAllowed)&&(v.dataTransfer.dropEffect="move")),y.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const i=this.editor,o=i.editing.view.document,d=i.plugins.get(ny);this.listenTo(o,"clipboardInput",((u,m)=>{if(m.method!="drop")return;const{clientX:y,clientY:v}=m.domEvent,A=d.getFinalDropRange(m.target,m.targetRanges,y,v,this._blockMode,this._draggedRange);if(!A)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=m.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),E9(m.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(A,!0))return this._finalizeDragging(!1),void u.stop();m.targetRanges=[i.editing.mapper.toViewRange(A)]}),{priority:"high"})}_setupContentInsertionIntegration(){const i=this.editor.plugins.get(Ua);i.on("contentInsertion",((o,d)=>{if(!this.isEnabled||d.method!=="drop")return;const u=d.targetRanges.map((m=>this.editor.editing.mapper.toModelRange(m)));this.editor.model.change((m=>m.setSelection(u)))}),{priority:"high"}),i.on("contentInsertion",((o,d)=>{if(!this.isEnabled||d.method!=="drop")return;const u=E9(d.dataTransfer)=="move",m=!d.resultRange||!d.resultRange.isCollapsed;this._finalizeDragging(m&&u)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const i=this.editor,o=i.editing.view,d=o.document;this.listenTo(d,"mousedown",((u,m)=>{if(p.isAndroid||!m)return;this._clearDraggableAttributesDelayed.cancel();let y=P9(m.target);if(p.isBlink&&!i.isReadOnly&&!y&&!d.selection.isCollapsed){const v=d.selection.getSelectedElement();v&&zn(v)||(y=d.selection.editableElement)}y&&(o.change((v=>{v.setAttribute("draggable","true",y)})),this._draggableElement=i.editing.mapper.toModelElement(y))})),this.listenTo(d,"mouseup",(()=>{p.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const i=this.editor.editing;i.view.change((o=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&o.removeAttribute("draggable",i.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(i){const o=this.editor,d=o.model;o.plugins.get(ny).removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(i&&this.isEnabled&&d.change((u=>{const m=d.createSelection(this._draggedRange);d.deleteContent(m,{doNotAutoparagraph:!0});const y=m.getFirstPosition().parent;y.isEmpty&&!d.schema.checkChild(y,"$text")&&d.schema.checkChild(y,"paragraph")&&u.insertElement("paragraph",y,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(i){const o=this.editor,d=o.model,u=d.document.selection,m=i?P9(i):null;if(m){const S=o.editing.mapper.toModelElement(m);this._draggedRange=ta.fromRange(d.createRangeOn(S)),this._blockMode=d.schema.isBlock(S),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const y=Array.from(u.getSelectedBlocks()),v=u.getFirstRange();if(y.length==0)return void(this._draggedRange=ta.fromRange(v));const A=D9(d,y);if(y.length>1)this._draggedRange=ta.fromRange(A),this._blockMode=!0;else if(y.length==1){const S=v.start.isTouching(A.start)&&v.end.isTouching(A.end);this._draggedRange=ta.fromRange(S?A:v),this._blockMode=S}d.change((S=>S.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:i,domTarget:o,clientX:d}){const u=this.editor.editing.view,m=u.document.selection.editableElement,y=u.domConverter.mapViewToDom(m),v=c.window.getComputedStyle(y);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=_t(c.document,"div",{style:"position: fixed; left: -999999px;"}),c.document.body.appendChild(this._previewContainer));const A=new wr(y);if(y.contains(o))return;const S=parseFloat(v.paddingLeft),D=_t(c.document,"div");D.className="ck ck-content",D.style.width=v.width,D.style.paddingLeft=`${A.left-d+S}px`,p.isiOS&&(D.style.backgroundColor="white"),u.domConverter.setContentOf(D,i.getData("text/html")),i.setDragImage(D,0,0),this._previewContainer.appendChild(D)}}function E9(g){return p.isGecko?g.dropEffect:["all","copyMove"].includes(g.effectAllowed)?"move":"copy"}function P9(g){if(g.is("editableElement"))return null;if(g.hasClass("ck-widget__selection-handle"))return g.findAncestor(zn);if(zn(g))return g;const i=g.findAncestor((o=>zn(o)||o.is("editableElement")));return zn(i)?i:null}function D9(g,i){const o=i[0],d=i[i.length-1],u=o.getCommonAncestor(d),m=g.createPositionBefore(o),y=g.createPositionAfter(d);if(u&&u.is("element")&&!g.schema.isLimit(u)){const v=g.createRangeOn(u),A=m.isTouching(v.start),S=y.isTouching(v.end);if(A&&S)return D9(g,[u])}return g.createRange(m,y)}class hue extends at{static get pluginName(){return"PastePlainText"}static get isOfficialPlugin(){return!0}static get requires(){return[Ua]}init(){const i=this.editor,o=i.model,d=i.editing.view,u=o.document.selection;d.addObserver(tm),i.plugins.get(Ua).on("contentInsertion",((m,y)=>{(function(v,A){let S=A.createRangeIn(v);if(v.childCount==1){const D=v.getChild(0);D.is("element")&&A.schema.isBlock(D)&&!A.schema.isObject(D)&&!A.schema.isLimit(D)&&(S=A.createRangeIn(D))}for(const D of S.getItems())if(!A.schema.isInline(D)||Array.from(D.getAttributeKeys()).find((N=>A.schema.getAttributeProperties(N).isFormatting)))return!1;return!0})(y.content,o)&&o.change((v=>{const A=Array.from(u.getAttributes()).filter((([D])=>o.schema.getAttributeProperties(D).isFormatting));u.isCollapsed||o.deleteContent(u,{doNotAutoparagraph:!0}),A.push(...u.getAttributes());const S=v.createRangeIn(y.content);for(const D of S.getItems())for(const N of A)o.schema.checkAttribute(D,N[0])&&v.setAttribute(N[0],N[1],D)}))}))}}class Q9 extends at{static get pluginName(){return"Clipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[rm,Ua,due,hue]}init(){const i=this.editor,o=this.editor.t;i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Copy selected content"),keystroke:"CTRL+C"},{label:o("Paste content"),keystroke:"CTRL+V"},{label:o("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class uue extends vr{constructor(i){super(i),this.affectsData=!1}execute(){const i=this.editor.model,o=i.document.selection;let d=i.schema.getLimitElement(o);if(o.containsEntireContent(d)||!$9(i.schema,d))do if(d=d.parent,!d)return;while(!$9(i.schema,d));i.change((u=>{u.setSelection(d,"in")}))}}function $9(g,i){return g.isLimit(i)&&(g.checkChild(i,"$text")||g.checkChild(i,"paragraph"))}const fue=YA("Ctrl+A");class gue extends at{static get pluginName(){return"SelectAllEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.t,d=i.editing.view.document;i.commands.add("selectAll",new uue(i)),this.listenTo(d,"keydown",((u,m)=>{u0(m)===fue&&(i.execute("selectAll"),m.preventDefault())})),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Select all"),keystroke:"CTRL+A"}]})}}class pue extends at{static get pluginName(){return"SelectAllUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",(()=>{const o=this._createButton(Er);return o.set({tooltip:!0}),o})),i.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(Ui)))}_createButton(i){const o=this.editor,d=o.locale,u=o.commands.get("selectAll"),m=new i(o.locale),y=d.t;return m.set({label:y("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),m.bind("isEnabled").to(u,"isEnabled"),this.listenTo(m,"execute",(()=>{o.execute("selectAll"),o.editing.view.focus()})),m}}class mue extends at{static get requires(){return[gue,pue]}static get pluginName(){return"SelectAll"}static get isOfficialPlugin(){return!0}}class M9 extends vr{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(i.data,"set",((o,d)=>{d[1]={...d[1]};const u=d[1];u.batchType||(u.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(i.data,"set",((o,d)=>{d[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(i){const o=this.editor.model.document.selection,d={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:i,selection:d}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,o,d){const u=this.editor.model,m=u.document,y=[],v=i.map((S=>S.getTransformedByOperations(d))),A=v.flat();for(const S of v){const D=S.filter((N=>N.root!=m.graveyard)).filter((N=>!xue(N,A)));D.length&&(Oue(D),y.push(D[0]))}y.length&&u.change((S=>{S.setSelection(y,{backward:o})}))}_undo(i,o){const d=this.editor.model,u=d.document;this._createdBatches.add(o);const m=i.operations.slice().filter((y=>y.isDocumentOperation));m.reverse();for(const y of m){const v=y.baseVersion+1,A=Array.from(u.history.getOperations(v)),S=Dce([y.getReversed()],A,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let D of S){const N=D.affectedSelectable;N&&!d.canEditAt(N)&&(D=new pi(D.baseVersion)),o.addOperation(D),d.applyOperation(D),u.history.setOperationAsUndone(y,D)}}}}function Oue(g){g.sort(((i,o)=>i.start.isBefore(o.start)?-1:1));for(let i=1;i<g.length;i++){const o=g[i-1].getJoined(g[i],!0);o&&(i--,g.splice(i,2,o))}}function xue(g,i){return i.some((o=>o!==g&&o.containsRange(g,!0)))}class bue extends M9{execute(i=null){const o=i?this._stack.findIndex((m=>m.batch==i)):this._stack.length-1,d=this._stack.splice(o,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,(()=>{this._undo(d.batch,u);const m=this.editor.model.document.history.getOperations(d.batch.baseVersion);this._restoreSelection(d.selection.ranges,d.selection.isBackward,m)})),this.fire("revert",d.batch,u),this.refresh()}}class kue extends M9{execute(){const i=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,(()=>{const d=i.batch.operations[i.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(d);this._restoreSelection(i.selection.ranges,i.selection.isBackward,u),this._undo(i.batch,o)})),this.refresh()}}class yue extends at{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.t;this._undoCommand=new bue(i),this._redoCommand=new kue(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",((d,u)=>{const m=u[0];if(!m.isDocumentOperation)return;const y=m.batch,v=this._redoCommand.createdBatches.has(y),A=this._undoCommand.createdBatches.has(y);this._batchRegistry.has(y)||(this._batchRegistry.add(y),y.isUndoable&&(v?this._undoCommand.addBatch(y):A||(this._undoCommand.addBatch(y),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((d,u,m)=>{this._redoCommand.addBatch(m)})),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo"),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Undo"),keystroke:"CTRL+Z"},{label:o("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class wue extends at{static get pluginName(){return"UndoUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.locale,d=i.t,u=o.uiLanguageDirection=="ltr"?$t.undo:$t.redo,m=o.uiLanguageDirection=="ltr"?$t.redo:$t.undo;this._addButtonsToFactory("undo",d("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",d("Redo"),"CTRL+Y",m)}_addButtonsToFactory(i,o,d,u){const m=this.editor;m.ui.componentFactory.add(i,(()=>{const y=this._createButton(Er,i,o,d,u);return y.set({tooltip:!0}),y})),m.ui.componentFactory.add("menuBar:"+i,(()=>this._createButton(Ui,i,o,d,u)))}_createButton(i,o,d,u,m){const y=this.editor,v=y.locale,A=y.commands.get(o),S=new i(v);return S.set({label:d,icon:m,keystroke:u}),S.bind("isEnabled").to(A,"isEnabled"),this.listenTo(S,"execute",(()=>{y.execute(o),y.editing.view.focus()})),S}}class R9 extends at{static get requires(){return[yue,wue]}static get pluginName(){return"Undo"}static get isOfficialPlugin(){return!0}}class vue extends at{static get requires(){return[vde,Q9,Hk,mue,Ghe,Lhe,R9]}static get pluginName(){return"Essentials"}static get isOfficialPlugin(){return!0}}class _ue extends Ge(){constructor(){super();const i=new window.FileReader;this._reader=i,this._data=void 0,this.set("loaded",0),i.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(i){const o=this._reader;return this.total=i.size,new Promise(((d,u)=>{o.onload=()=>{const m=o.result;this._data=m,d(m)},o.onerror=()=>{u("error")},o.onabort=()=>{u("aborted")},this._reader.readAsDataURL(i)}))}abort(){this._reader.abort()}}class Wa extends at{constructor(){super(...arguments),this.loaders=new _o,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get isOfficialPlugin(){return!0}static get requires(){return[dM]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((i,o)=>o?i/o*100:0))}getLoader(i){return this._loadersMap.get(i)||null}createLoader(i){if(!this.createUploadAdapter)return V("filerepository-no-upload-adapter"),null;const o=new N9(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(i,o),i instanceof Promise&&o.file.then((d=>{this._loadersMap.set(d,o)})).catch((()=>{})),o.on("change:uploaded",(()=>{let d=0;for(const u of this.loaders)d+=u.uploaded;this.uploaded=d})),o.on("change:uploadTotal",(()=>{let d=0;for(const u of this.loaders)u.uploadTotal&&(d+=u.uploadTotal);this.uploadTotal=d})),o}destroyLoader(i){const o=i instanceof N9?i:this.getLoader(i);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach(((d,u)=>{d===o&&this._loadersMap.delete(u)}))}_updatePendingAction(){const i=this.editor.plugins.get(dM);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,d=u=>`${o("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=i.add(d(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",d)}}else i.remove(this._pendingAction),this._pendingAction=null}}class N9 extends Ge(){constructor(i,o){super(),this.id=z(),this._filePromiseWrapper=this._createFilePromiseWrapper(i),this._adapter=o(this),this._reader=new _ue,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((d,u)=>u?d/u*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((i=>this._filePromiseWrapper?i:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new F("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((i=>this._reader.read(i))).then((i=>{if(this.status!=="reading")throw this.status;return this.status="idle",i})).catch((i=>{throw i==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:i)}))}upload(){if(this.status!="idle")throw new F("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((i=>(this.uploadResponse=i,this.status="idle",i))).catch((i=>{throw this.status==="aborted"?"aborted":(this.status="error",i)}))}abort(){const i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?i=="reading"?this._reader.abort():i=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(i){const o={};return o.promise=new Promise(((d,u)=>{o.rejecter=u,o.isFulfilled=!1,i.then((m=>{o.isFulfilled=!0,d(m)})).catch((m=>{o.isFulfilled=!0,u(m)}))})),o}}const B9="ckCsrfToken",Cue="abcdefghijklmnopqrstuvwxyz0123456789";function Aue(){let g=(function(d){d=d.toLowerCase();const u=document.cookie.split(";");for(const m of u){const y=m.split("=");if(decodeURIComponent(y[0].trim().toLowerCase())===d)return decodeURIComponent(y[1])}return null})(B9);var i,o;return g&&g.length==40||(g=(function(d){let u="";const m=new Uint8Array(d);window.crypto.getRandomValues(m);for(let y=0;y<m.length;y++){const v=Cue.charAt(m[y]%36);u+=Math.random()>.5?v.toUpperCase():v}return u})(40),i=B9,o=g,document.cookie=encodeURIComponent(i)+"="+encodeURIComponent(o)+";path=/"),g}class Sue extends at{static get requires(){return[Wa]}static get pluginName(){return"CKFinderUploadAdapter"}static get isOfficialPlugin(){return!0}init(){const i=this.editor.config.get("ckfinder.uploadUrl");i&&(this.editor.plugins.get(Wa).createUploadAdapter=o=>new Tue(o,i,this.editor.t))}}class Tue{constructor(i,o,d){this.loader=i,this.url=o,this.t=d}upload(){return this.loader.file.then((i=>new Promise(((o,d)=>{this._initRequest(),this._initListeners(o,d,i),this._sendRequest(i)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const i=this.xhr=new XMLHttpRequest;i.open("POST",this.url,!0),i.responseType="json"}_initListeners(i,o,d){const u=this.xhr,m=this.loader,y=(0,this.t)("Cannot upload file:")+` ${d.name}.`;u.addEventListener("error",(()=>o(y))),u.addEventListener("abort",(()=>o())),u.addEventListener("load",(()=>{const v=u.response;if(!v||!v.uploaded)return o(v&&v.error&&v.error.message?v.error.message:y);i({default:v.url})})),u.upload&&u.upload.addEventListener("progress",(v=>{v.lengthComputable&&(m.uploadTotal=v.total,m.uploaded=v.loaded)}))}_sendRequest(i){const o=new FormData;o.append("upload",i),o.append("ckCsrfToken",Aue()),this.xhr.send(o)}}function vd(g,i,o,d){let u,m=null;typeof d=="function"?u=d:(m=g.commands.get(d),u=()=>{g.execute(d)}),g.model.document.on("change:data",((y,v)=>{if(m&&!m.isEnabled||!i.isEnabled)return;const A=Ti(g.model.document.selection.getRanges());if(!A.isCollapsed||v.isUndo||!v.isLocal)return;const S=Array.from(g.model.document.differ.getChanges()),D=S[0];if(S.length!=1||D.type!=="insert"||D.name!="$text"||D.length!=1)return;const N=D.position.parent;if(N.is("element","codeBlock")||N.is("element","listItem")&&typeof d!="function"&&!["numberedList","bulletedList","todoList"].includes(d)||m&&m.value===!0)return;const L=N.getChild(0),q=g.model.createRangeOn(L);if(!q.containsRange(A)&&!A.end.isEqual(q.end))return;const Y=o.exec(L.data.substr(0,A.end.offset));Y&&g.model.enqueueChange((ne=>{const ue=ne.createPositionAt(N,0),me=ne.createPositionAt(N,Y[0].length),Ae=new ta(ue,me);if(u({match:Y})!==!1){ne.remove(Ae);const Me=g.model.document.selection.getFirstRange(),Ue=ne.createRangeIn(N);!N.isEmpty||Ue.isEqual(Me)||Ue.containsRange(Me,!0)||ne.remove(N)}Ae.detach(),g.model.enqueueChange((()=>{g.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function P0(g,i,o,d){let u,m;o instanceof RegExp?u=o:m=o,m=m||(y=>{let v;const A=[],S=[];for(;(v=u.exec(y))!==null&&!(v&&v.length<4);){let{index:D,1:N,2:L,3:q}=v;const Y=N+L+q;D+=v[0].length-Y.length;const ne=[D,D+N.length],ue=[D+N.length+L.length,D+N.length+L.length+q.length];A.push(ne),A.push(ue),S.push([D+N.length,D+N.length+L.length])}return{remove:A,format:S}}),g.model.document.on("change:data",((y,v)=>{if(v.isUndo||!v.isLocal||!i.isEnabled)return;const A=g.model,S=A.document.selection;if(!S.isCollapsed)return;const D=Array.from(A.document.differ.getChanges()),N=D[0];if(D.length!=1||N.type!=="insert"||N.name!="$text"||N.length!=1)return;const L=S.focus,q=L.parent,{text:Y,range:ne}=(function(Me,Ue){let qe=Me.start;return{text:Array.from(Me.getItems()).reduce(((Ut,Xr)=>!Xr.is("$text")&&!Xr.is("$textProxy")||Xr.getAttribute("code")?(qe=Ue.createPositionAfter(Xr),""):Ut+Xr.data),""),range:Ue.createRange(qe,Me.end)}})(A.createRange(A.createPositionAt(q,0),L),A),ue=m(Y),me=I9(ne.start,ue.format,A),Ae=I9(ne.start,ue.remove,A);me.length&&Ae.length&&A.enqueueChange((Me=>{if(d(Me,me)!==!1){for(const Ue of Ae.reverse())Me.remove(Ue);A.enqueueChange((()=>{g.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function I9(g,i,o){return i.filter((d=>d[0]!==void 0&&d[1]!==void 0)).map((d=>o.createRange(g.getShiftedBy(d[0]),g.getShiftedBy(d[1]))))}class Eue extends at{static get requires(){return[dc]}static get pluginName(){return"Autoformat"}static get isOfficialPlugin(){return!0}afterInit(){const i=this.editor,o=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const i=this.editor.commands;i.get("bulletedList")&&vd(this.editor,this,/^[*-]\s$/,"bulletedList"),i.get("numberedList")&&vd(this.editor,this,/^1[.|)]\s$/,"numberedList"),i.get("todoList")&&vd(this.editor,this,/^\[\s?\]\s$/,"todoList"),i.get("checkTodoList")&&vd(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const i=this.editor.commands;if(i.get("bold")){const o=ay(this.editor,"bold");P0(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,o),P0(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,o)}if(i.get("italic")){const o=ay(this.editor,"italic");P0(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,o),P0(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,o)}if(i.get("code")){const o=ay(this.editor,"code");P0(this.editor,this,/(`)([^`]+)(`)$/g,o)}if(i.get("strikethrough")){const o=ay(this.editor,"strikethrough");P0(this.editor,this,/(~~)([^~]+)(~~)$/g,o)}}_addHeadingAutoformats(){const i=this.editor.commands.get("heading");i&&i.modelElements.filter((o=>o.match(/^heading[1-6]$/))).forEach((o=>{const d=o[7],u=new RegExp(`^(#{${d}})\\s$`);vd(this.editor,this,u,(()=>{if(!i.isEnabled||i.value===o)return!1;this.editor.execute("heading",{value:o})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&vd(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const i=this.editor,o=i.model.document.selection;i.commands.get("codeBlock")&&vd(i,this,/^```$/,(()=>{if(o.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&vd(this.editor,this,/^---$/,"horizontalLine")}}function ay(g,i){return(o,d)=>{if(!g.commands.get(i).isEnabled)return!1;const u=g.model.schema.getValidRanges(d,i);for(const m of u)o.setAttribute(i,!0,m);o.removeSelectionAttribute(i)}}class j9 extends vr{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,d=o.document.selection,u=i.forceValue===void 0?!this.value:i.forceValue;o.change((m=>{if(d.isCollapsed)u?m.setSelectionAttribute(this.attributeKey,!0):m.removeSelectionAttribute(this.attributeKey);else{const y=o.schema.getValidRanges(d.getRanges(),this.attributeKey);for(const v of y)u?m.setAttribute(this.attributeKey,u,v):m.removeAttribute(this.attributeKey,v)}}))}_getValueFromFirstAllowedNode(){const i=this.editor.model,o=i.schema,d=i.document.selection;if(d.isCollapsed)return d.hasAttribute(this.attributeKey);for(const u of d.getRanges())for(const m of u.getItems())if(o.checkAttribute(m,this.attributeKey))return m.hasAttribute(this.attributeKey);return!1}}const D0="bold";class Pue extends at{static get pluginName(){return"BoldEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=this.editor.t;i.model.schema.extend("$text",{allowAttributes:D0}),i.model.schema.setAttributeProperties(D0,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:D0,view:"strong",upcastAlso:["b",d=>{const u=d.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),i.commands.add(D0,new j9(i,D0)),i.keystrokes.set("CTRL+B",D0),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Bold text"),keystroke:"CTRL+B"}]})}}function F9({editor:g,commandName:i,plugin:o,icon:d,label:u,keystroke:m}){return y=>{const v=g.commands.get(i),A=new y(g.locale);return A.set({label:u,icon:d,keystroke:m,isToggleable:!0}),A.bind("isEnabled").to(v,"isEnabled"),A.bind("isOn").to(v,"value"),A instanceof Ui?A.set({role:"menuitemcheckbox"}):A.set({tooltip:!0}),o.listenTo(A,"execute",(()=>{g.execute(i),g.editing.view.focus()})),A}}const s4="bold";class Due extends at{static get pluginName(){return"BoldUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.locale.t,d=F9({editor:i,commandName:s4,plugin:this,icon:$t.bold,label:o("Bold"),keystroke:"CTRL+B"});i.ui.componentFactory.add(s4,(()=>d(Er))),i.ui.componentFactory.add("menuBar:"+s4,(()=>d(Ui)))}}class Que extends at{static get requires(){return[Pue,Due]}static get pluginName(){return"Bold"}static get isOfficialPlugin(){return!0}}var oy=s(4199),hm={attributes:{"data-cke":!0}};hm.setAttributes=gt(),hm.insert=ft().bind(null,"head"),hm.domAPI=ut(),hm.insertStyleElement=pt(),ht()(oy.A,hm),oy.A&&oy.A.locals&&oy.A.locals;const Q0="italic";class $ue extends at{static get pluginName(){return"ItalicEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=this.editor.t;i.model.schema.extend("$text",{allowAttributes:Q0}),i.model.schema.setAttributeProperties(Q0,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:Q0,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add(Q0,new j9(i,Q0)),i.keystrokes.set("CTRL+I",Q0),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Italic text"),keystroke:"CTRL+I"}]})}}const a4="italic";class Mue extends at{static get pluginName(){return"ItalicUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.locale.t,d=F9({editor:i,commandName:a4,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:o("Italic")});i.ui.componentFactory.add(a4,(()=>d(Er))),i.ui.componentFactory.add("menuBar:"+a4,(()=>d(Ui)))}}class Rue extends at{static get requires(){return[$ue,Mue]}static get pluginName(){return"Italic"}static get isOfficialPlugin(){return!0}}class Nue extends vr{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,d=o.schema,u=o.document.selection,m=Array.from(u.getSelectedBlocks()),y=i.forceValue===void 0?!this.value:i.forceValue;o.change((v=>{if(y){const A=m.filter((S=>ly(S)||z9(d,S)));this._applyQuote(v,A)}else this._removeQuote(v,m.filter(ly))}))}_getValue(){const i=Ti(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!ly(i))}_checkEnabled(){if(this.value)return!0;const i=this.editor.model.document.selection,o=this.editor.model.schema,d=Ti(i.getSelectedBlocks());return!!d&&z9(o,d)}_removeQuote(i,o){L9(i,o).reverse().forEach((d=>{if(d.start.isAtStart&&d.end.isAtEnd)return void i.unwrap(d.start.parent);if(d.start.isAtStart){const m=i.createPositionBefore(d.start.parent);return void i.move(d,m)}d.end.isAtEnd||i.split(d.end);const u=i.createPositionAfter(d.end.parent);i.move(d,u)}))}_applyQuote(i,o){const d=[];L9(i,o).reverse().forEach((u=>{let m=ly(u.start);m||(m=i.createElement("blockQuote"),i.wrap(u,m)),d.push(m)})),d.reverse().reduce(((u,m)=>u.nextSibling==m?(i.merge(i.createPositionAfter(u)),u):m))}}function ly(g){return g.parent.name=="blockQuote"?g.parent:null}function L9(g,i){let o,d=0;const u=[];for(;d<i.length;){const m=i[d],y=i[d+1];o||(o=g.createPositionBefore(m)),y&&m.nextSibling==y||(u.push(g.createRange(o,g.createPositionAfter(m))),o=null),d++}return u}function z9(g,i){const o=g.checkChild(i.parent,"blockQuote"),d=g.checkChild(["$root","blockQuote"],i);return o&&d}class Bue extends at{static get pluginName(){return"BlockQuoteEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Hk,dc]}init(){const i=this.editor,o=i.model.schema;i.commands.add("blockQuote",new Nue(i)),o.register("blockQuote",{inheritAllFrom:"$container"}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer((y=>{const v=i.model.document.differ.getChanges();for(const A of v)if(A.type=="insert"){const S=A.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0;if(S.is("element","blockQuote")&&!o.checkChild(A.position,S))return y.unwrap(S),!0;if(S.is("element")){const D=y.createRangeIn(S);for(const N of D.getItems())if(N.is("element","blockQuote")&&!o.checkChild(y.createPositionBefore(N),N))return y.unwrap(N),!0}}else if(A.type=="remove"){const S=A.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0}return!1}));const d=this.editor.editing.view.document,u=i.model.document.selection,m=i.commands.get("blockQuote");this.listenTo(d,"enter",((y,v)=>{!u.isCollapsed||!m.value||u.getLastPosition().parent.isEmpty&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),v.preventDefault(),y.stop())}),{context:"blockquote"}),this.listenTo(d,"delete",((y,v)=>{if(v.direction!="backward"||!u.isCollapsed||!m.value)return;const A=u.getLastPosition().parent;A.isEmpty&&!A.previousSibling&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),v.preventDefault(),y.stop())}),{context:"blockquote"})}}var cy=s(8708),um={attributes:{"data-cke":!0}};um.setAttributes=gt(),um.insert=ft().bind(null,"head"),um.domAPI=ut(),um.insertStyleElement=pt(),ht()(cy.A,um),cy.A&&cy.A.locals&&cy.A.locals;class Iue extends at{static get pluginName(){return"BlockQuoteUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.ui.componentFactory.add("blockQuote",(()=>{const o=this._createButton(Er);return o.set({tooltip:!0}),o})),i.ui.componentFactory.add("menuBar:blockQuote",(()=>{const o=this._createButton(Ui);return o.set({role:"menuitemcheckbox"}),o}))}_createButton(i){const o=this.editor,d=o.locale,u=o.commands.get("blockQuote"),m=new i(o.locale),y=d.t;return m.set({label:y("Block quote"),icon:$t.quote,isToggleable:!0}),m.bind("isEnabled").to(u,"isEnabled"),m.bind("isOn").to(u,"value"),this.listenTo(m,"execute",(()=>{o.execute("blockQuote"),o.editing.view.focus()})),m}}class jue extends at{static get requires(){return[Bue,Iue]}static get pluginName(){return"BlockQuote"}static get isOfficialPlugin(){return!0}}class Fue extends at{static get pluginName(){return"CKBoxUI"}static get isOfficialPlugin(){return!0}afterInit(){const i=this.editor;i.commands.get("ckbox")&&(i.ui.componentFactory.add("ckbox",(()=>this._createFileToolbarButton())),i.ui.componentFactory.add("menuBar:ckbox",(()=>this._createFileMenuBarButton())),i.plugins.has("ImageInsertUI")&&i.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>i.commands.get("ckbox"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:o=>this._createImageMenuBarButton(o?"insertOnly":"insertNested")}))}_createButton(i){const o=this.editor,d=new i(o.locale),u=o.commands.get("ckbox");return d.bind("isOn","isEnabled").to(u,"value","isEnabled"),d.on("execute",(()=>{o.execute("ckbox")})),d}_createFileToolbarButton(){const i=this.editor.locale.t,o=this._createButton(Er);return o.icon=$t.browseFiles,o.label=i("Open file manager"),o.tooltip=!0,o}_createImageToolbarButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this._createButton(Er);return d.icon=$t.imageAssetManager,d.bind("label").to(o,"isImageSelected",(u=>i(u?"Replace image with file manager":"Insert image with file manager"))),d.tooltip=!0,d}_createImageDropdownButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this._createButton(Er);return d.icon=$t.imageAssetManager,d.withText=!0,d.bind("label").to(o,"isImageSelected",(u=>i(u?"Replace with file manager":"Insert with file manager"))),d.on("execute",(()=>{o.dropdownView.isOpen=!1})),d}_createFileMenuBarButton(){const i=this.editor.locale.t,o=this._createButton(Ui);return o.icon=$t.browseFiles,o.withText=!0,o.label=i("File"),o}_createImageMenuBarButton(i){const o=this.editor.locale.t,d=this.editor.locale.t,u=this._createButton(Ui);switch(u.icon=$t.imageAssetManager,u.withText=!0,i){case"insertOnly":u.label=o("Image");break;case"insertNested":u.label=d("With file manager")}return u}}var Lue=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],fm=g=>{let i=0;for(let o=0;o<g.length;o++){let d=g[o];i=83*i+Lue.indexOf(d)}return i},o4=g=>{let i=g/255;return i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)},l4=g=>{let i=Math.max(0,Math.min(1,g));return i<=.0031308?Math.trunc(12.92*i*255+.5):Math.trunc(255*(1.055*Math.pow(i,.4166666666666667)-.055)+.5)},c4=(g,i)=>(o=>o<0?-1:1)(g)*Math.pow(Math.abs(g),i),X9=class extends Error{constructor(g){super(g),this.name="ValidationError",this.message=g}},zue=g=>{if(!g||g.length<6)throw new X9("The blurhash string must be at least 6 characters");let i=fm(g[0]),o=Math.floor(i/9)+1,d=i%9+1;if(g.length!==4+2*d*o)throw new X9(`blurhash length mismatch: length is ${g.length} but it should be ${4+2*d*o}`)},Xue=g=>{let i=g>>8&255,o=255&g;return[o4(g>>16),o4(i),o4(o)]},Vue=(g,i)=>{let o=Math.floor(g/361),d=Math.floor(g/19)%19,u=g%19;return[c4((o-9)/9,2)*i,c4((d-9)/9,2)*i,c4((u-9)/9,2)*i]},Uue=(g,i,o,d)=>{zue(g),d|=1;let u=fm(g[0]),m=Math.floor(u/9)+1,y=u%9+1,v=(fm(g[1])+1)/166,A=new Array(y*m);for(let N=0;N<A.length;N++)if(N===0){let L=fm(g.substring(2,6));A[N]=Xue(L)}else{let L=fm(g.substring(4+2*N,6+2*N));A[N]=Vue(L,v*d)}let S=4*i,D=new Uint8ClampedArray(S*o);for(let N=0;N<o;N++)for(let L=0;L<i;L++){let q=0,Y=0,ne=0;for(let Me=0;Me<m;Me++)for(let Ue=0;Ue<y;Ue++){let qe=Math.cos(Math.PI*L*Ue/i)*Math.cos(Math.PI*N*Me/o),Bt=A[Ue+Me*y];q+=Bt[0]*qe,Y+=Bt[1]*qe,ne+=Bt[2]*qe}let ue=l4(q),me=l4(Y),Ae=l4(ne);D[4*L+0+N*S]=ue,D[4*L+1+N*S]=me,D[4*L+2+N*S]=Ae,D[4*L+3+N*S]=255}return D};function V9(g){const i=[];let o=0;for(const u in g){const m=parseInt(u,10);isNaN(m)||(m>o&&(o=m),i.push(`${g[u]} ${u}w`))}const d=[{srcset:i.join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}];return{imageFallbackUrl:g.default,imageSources:d}}function d4({url:g,method:i="GET",data:o,onUploadProgress:d,signal:u,authorization:m}){const y=new XMLHttpRequest;y.open(i,g.toString()),y.setRequestHeader("Authorization",m),y.setRequestHeader("CKBox-Version","CKEditor 5"),y.responseType="json";const v=()=>{y.abort()};return new Promise(((A,S)=>{u.throwIfAborted(),u.addEventListener("abort",v),y.addEventListener("loadstart",(()=>{u.addEventListener("abort",v)})),y.addEventListener("loadend",(()=>{u.removeEventListener("abort",v)})),y.addEventListener("error",(()=>{S()})),y.addEventListener("abort",(()=>{S()})),y.addEventListener("load",(()=>{const D=y.response;if(!D||D.statusCode>=400)return S(D&&D.message);A(D)})),d&&y.upload.addEventListener("progress",(D=>{d(D)})),y.send(o)}))}const que={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};class Wue extends vr{constructor(i){super(i),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const i=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!i.isEnabled&&!o.isEnabled)}_prepareOptions(){const i=this.editor.config.get("ckbox"),o=i.dialog,d=i.categories,u=i.view,m=i.upload;return{theme:i.theme,language:i.language,tokenUrl:i.tokenUrl,serviceOrigin:i.serviceOrigin,forceDemoLabel:i.forceDemoLabel,choosableFileExtensions:i.choosableFileExtensions,assets:{onChoose:y=>this.fire("ckbox:choose",y)},dialog:{onClose:()=>this.fire("ckbox:close"),width:o&&o.width,height:o&&o.height},categories:d&&{icons:d.icons},view:u&&{openLastView:u.openLastView,startupFolderId:u.startupFolderId,startupCategoryId:u.startupCategoryId,hideMaximizeButton:u.hideMaximizeButton},upload:m&&{componentsHideTimeout:m.componentsHideTimeout,dialogMinimizeTimeout:m.dialogMinimizeTimeout}}}_initListeners(){const i=this.editor,o=i.model,d=!i.config.get("ckbox.ignoreDataId"),u=i.config.get("ckbox.downloadableFiles");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=_t(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,i.editing.view.focus())})),this.on("ckbox:choose",((m,y)=>{if(!this.isEnabled)return;const v=i.commands.get("insertImage"),A=i.commands.get("link"),S=(function({downloadableFilesConfig:N,assets:L,isImageAllowed:q,isLinkAllowed:Y}){return L.map((ne=>(function(ue){const me=ue.data.metadata;return me?me.width&&me.height:!1})(ne)?{id:ne.data.id,type:"image",attributes:Yue(ne)}:{id:ne.data.id,type:"link",attributes:Zue(ne,N)})).filter((ne=>ne.type==="image"?q:Y))})({assets:y,downloadableFilesConfig:u,isImageAllowed:v.isEnabled,isLinkAllowed:A.isEnabled}),D=S.length;D!==0&&(o.change((N=>{for(const L of S){const q=L===S[D-1],Y=D===1;this._insertAsset(L,q,N,Y),d&&(setTimeout((()=>this._chosenAssets.delete(L)),1e3),this._chosenAssets.add(L))}})),i.editing.view.focus())})),this.listenTo(i,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(i,o,d,u){const m=this.editor.model.document.selection;d.removeSelectionAttribute("linkHref"),i.type==="image"?this._insertImage(i):this._insertLink(i,d,u),o||d.setSelection(m.getLastPosition())}_insertImage(i){const o=this.editor,{imageFallbackUrl:d,imageSources:u,imageTextAlternative:m,imageWidth:y,imageHeight:v,imagePlaceholder:A}=i.attributes;o.execute("insertImage",{source:{src:d,sources:u,alt:m,width:y,height:v,...A?{placeholder:A}:null}})}_insertLink(i,o,d){const u=this.editor,m=u.model,y=m.document.selection,{linkName:v,linkHref:A}=i.attributes;if(y.isCollapsed){const S=fl(y.getAttributes()),D=o.createText(v,S);if(!d){const L=y.getLastPosition(),q=L.parent;q.name==="paragraph"&&q.isEmpty||u.execute("insertParagraph",{position:L});const Y=m.insertContent(D);return o.setSelection(Y),void u.execute("link",A)}const N=m.insertContent(D);o.setSelection(N)}u.execute("link",A)}}function Yue(g){const{imageFallbackUrl:i,imageSources:o}=V9(g.data.imageUrls),{description:d,width:u,height:m,blurHash:y}=g.data.metadata,v=(function(A){if(A)try{const S="32px",D=document.createElement("canvas");D.setAttribute("width",S),D.setAttribute("height",S);const N=D.getContext("2d");if(!N)return;const L=N.createImageData(32,32),q=Uue(A,32,32);return L.data.set(q),N.putImageData(L,0,0),D.toDataURL()}catch{return}})(y);return{imageFallbackUrl:i,imageSources:o,imageTextAlternative:d||"",imageWidth:u,imageHeight:m,...v?{imagePlaceholder:v}:null}}function Zue(g,i){return{linkName:g.data.name,linkHref:Gue(g,i)}}function Gue(g,i){const o=new URL(g.data.url);return(function(d,u){return typeof u=="function"?u(d):!0})(g,i)&&o.searchParams.set("download","true"),o.toString()}class h4 extends at{static get pluginName(){return"CKBoxUtils"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices"]}init(){const i=this.editor,o=!!i.config.get("ckbox"),d=!!window.CKBox;if(!o&&!d)return;i.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:i.locale.uiLanguage,theme:"lark",tokenUrl:i.config.get("cloudServices.tokenUrl")});const u=i.plugins.get("CloudServices"),m=i.config.get("cloudServices.tokenUrl"),y=i.config.get("ckbox.tokenUrl");if(!y)throw new F("ckbox-plugin-missing-token-url",this);this._token=y==m?Promise.resolve(u.token):u.registerTokenUrl(y)}getToken(){return this._token}async getWorkspaceId(){const i=(0,this.editor.t)("Cannot access default workspace."),o=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),d=(function(u,m){const[,y]=u.value.split("."),v=JSON.parse(atob(y)),A=v.auth&&v.auth.ckbox&&v.auth.ckbox.workspaces||[v.aud];return m?(v.auth&&v.auth.ckbox&&v.auth.ckbox.role)=="superadmin"||A.includes(m)?m:null:A[0]})(await this._token,o);if(d==null)throw te("ckbox-access-default-workspace-error"),i;return d}async getCategoryIdForFile(i,o){const d=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),m=this._getAvailableCategories(o),y=typeof i=="string"?(v=await(async function(D,N){try{const L=await fetch(D,{method:"HEAD",cache:"force-cache",...N});return L.ok&&L.headers.get("content-type")||""}catch{return""}})(i,o),que[v]):i.name.match(/\.(?<ext>[^.]+)$/).groups.ext.toLowerCase();var v;const A=await m;if(!A)throw d;if(u){const D=Object.keys(u).find((N=>u[N].find((L=>L.toLowerCase()==y))));if(D){const N=A.find((L=>L.id===D||L.name===D));if(!N)throw d;return N.id}}const S=A.find((D=>D.extensions.find((N=>N.toLowerCase()==y))));if(!S)throw d;return S.id}async _getAvailableCategories(i){const o=this.editor,d=this._token,{signal:u}=i,m=o.config.get("ckbox.serviceOrigin"),y=await this.getWorkspaceId();try{const A=[];let S,D=0;do{const N=await v(D);A.push(...N.items),S=N.totalCount-(D+50),D+=50}while(S>0);return A}catch{return u.throwIfAborted(),void te("ckbox-fetch-category-http-error")}async function v(A){const S=new URL("categories",m);return S.searchParams.set("limit",String(50)),S.searchParams.set("offset",String(A)),S.searchParams.set("workspaceId",y),d4({url:S,signal:u,authorization:(await d).value})}}}class Hue extends at{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Wa,q9]}static get pluginName(){return"CKBoxUploadAdapter"}static get isOfficialPlugin(){return!0}async afterInit(){const i=this.editor,o=!!i.config.get("ckbox"),d=!!window.CKBox;if(!o&&!d)return;const u=i.plugins.get(Wa),m=i.plugins.get(h4);u.createUploadAdapter=A=>new Kue(A,i,m);const y=!i.config.get("ckbox.ignoreDataId"),v=i.plugins.get("ImageUploadEditing");y&&v.on("uploadComplete",((A,{imageElement:S,data:D})=>{i.model.change((N=>{N.setAttribute("ckboxImageId",D.ckboxImageId,S)}))}))}}class Kue{constructor(i,o,d){this.loader=i,this.token=d.getToken(),this.ckboxUtils=d,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin")}async upload(){const i=this.ckboxUtils,o=this.editor.t,d=await this.loader.file,u=await i.getCategoryIdForFile(d,{signal:this.controller.signal}),m=new URL("assets",this.serviceOrigin),y=new FormData;return m.searchParams.set("workspaceId",await i.getWorkspaceId()),y.append("categoryId",u),y.append("file",d),d4({method:"POST",url:m,data:y,onUploadProgress:v=>{v.lengthComputable&&(this.loader.uploadTotal=v.total,this.loader.uploaded=v.loaded)},signal:this.controller.signal,authorization:(await this.token).value}).then((async v=>{const A=V9(v.imageUrls);return{ckboxImageId:v.id,default:A.imageFallbackUrl,sources:A.imageSources}})).catch((()=>{const v=o("Cannot upload file:")+` ${d.name}.`;return Promise.reject(v)}))}abort(){this.controller.abort()}}const U9="NoPermission";class q9 extends at{static get pluginName(){return"CKBoxEditing"}static get isOfficialPlugin(){return!0}static get requires(){return["LinkEditing","PictureEditing",Hue,h4]}init(){const i=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),Y9()&&i.commands.add("ckbox",new Wue(i)),(async function(o){const d=o.plugins.get(h4),u=o.config.get("ckbox.serviceOrigin"),m=new URL("permissions",u),{value:y}=await d.getToken(),v=await d4({url:m,authorization:y,signal:new AbortController().signal});return Object.values(v).some((A=>A["asset:create"]))})(i).then((o=>{o||this._blockImageCommands()})))}afterInit(){const i=this.editor;this._shouldBeInitialised()&&(i.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||Y9()}_blockImageCommands(){const i=this.editor,o=i.commands.get("uploadImage"),d=i.commands.get("ckboxImageEdit");o&&(o.isAccessAllowed=!1,o.forceDisabled(U9)),d&&d.forceDisabled(U9)}_checkImagePlugins(){const i=this.editor;i.plugins.has("ImageBlockEditing")||i.plugins.has("ImageInlineEditing")||te("ckbox-plugin-image-feature-missing",i)}_initSchema(){const i=this.editor.model.schema;i.extend("$text",{allowAttributes:"ckboxLinkId"}),i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.addAttributeCheck((o=>{if(!o.last.getAttribute("linkHref"))return!1}),"ckboxLinkId")}_initConversion(){const i=this.editor;i.conversion.for("downcast").add((d=>{d.on("attribute:ckboxLinkId:imageBlock",((u,m,y)=>{const{writer:v,mapper:A,consumable:S}=y;if(!S.consume(m.item,u.name))return;const D=[...A.toViewElement(m.item).getChildren()].find((N=>N.name==="a"));D&&(m.item.hasAttribute("ckboxLinkId")?v.setAttribute("data-ckbox-resource-id",m.item.getAttribute("ckboxLinkId"),D):v.removeAttribute("data-ckbox-resource-id",D))}),{priority:"low"}),d.on("attribute:ckboxLinkId",((u,m,y)=>{const{writer:v,mapper:A,consumable:S}=y;if(S.consume(m.item,u.name)){if(m.attributeOldValue){const D=W9(v,m.attributeOldValue);v.unwrap(A.toViewRange(m.range),D)}if(m.attributeNewValue){const D=W9(v,m.attributeNewValue);if(m.item.is("selection")){const N=v.document.selection;v.wrap(N.getFirstRange(),D)}else v.wrap(A.toViewRange(m.range),D)}}}),{priority:"low"})})),i.conversion.for("upcast").add((d=>{d.on("element:a",((u,m,y)=>{const{writer:v,consumable:A}=y;if(!m.viewItem.getAttribute("href")||!A.consume(m.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const S=m.viewItem.getAttribute("data-ckbox-resource-id");if(S)if(m.modelRange)for(let D of m.modelRange.getItems())D.is("$textProxy")&&(D=D.textNode),e0e(D)&&v.setAttribute("ckboxLinkId",S,D);else{const D=m.modelCursor.nodeBefore||m.modelCursor.parent;v.setAttribute("ckboxLinkId",S,D)}}),{priority:"low"})})),i.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),i.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:d=>d.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const o=i.commands.get("replaceImageSource");o&&this.listenTo(o,"cleanupImage",((d,[u,m])=>{u.removeAttribute("ckboxImageId",m)}))}_initFixers(){const i=this.editor,o=i.model,d=o.document.selection;o.document.registerPostFixer((function(u){return m=>{let y=!1;const v=u.model,A=u.commands.get("ckbox");if(!A)return y;for(const S of v.document.differ.getChanges()){if(S.type!=="insert"&&S.type!=="attribute")continue;const D=S.type==="insert"?new Xe(S.position,S.position.getShiftedBy(S.length)):S.range,N=S.type==="attribute"&&S.attributeKey==="linkHref"&&S.attributeNewValue===null;for(const L of D.getItems()){if(N&&L.hasAttribute("ckboxLinkId")){m.removeAttribute("ckboxLinkId",L),y=!0;continue}const q=Jue(L,A._chosenAssets);for(const Y of q){const ne=Y.type==="image"?"ckboxImageId":"ckboxLinkId";Y.id!==L.getAttribute(ne)&&(m.setAttribute(ne,Y.id,L),y=!0)}}}return y}})(i)),o.document.registerPostFixer((function(u){return m=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(m.removeSelectionAttribute("ckboxLinkId"),!0)})(d))}}function Jue(g,i){const o=g.is("element","imageInline")||g.is("element","imageBlock"),d=g.hasAttribute("linkHref");return[...i].filter((u=>u.type==="image"&&o?u.attributes.imageFallbackUrl===g.getAttribute("src"):u.type==="link"&&d?u.attributes.linkHref===g.getAttribute("linkHref"):void 0))}function W9(g,i){const o=g.createAttributeElement("a",{"data-ckbox-resource-id":i},{priority:5});return g.setCustomProperty("link",!0,o),o}function e0e(g){return!!g.is("$text")||!(!g.is("element","imageInline")&&!g.is("element","imageBlock"))}function Y9(){return!!window.CKBox}class t0e extends at{static get pluginName(){return"CKBox"}static get isOfficialPlugin(){return!0}static get requires(){return[q9,Fue]}}var dy=s(1866),gm={attributes:{"data-cke":!0}};gm.setAttributes=gt(),gm.insert=ft().bind(null,"head"),gm.domAPI=ut(),gm.insertStyleElement=pt(),ht()(dy.A,gm),dy.A&&dy.A.locals&&dy.A.locals;class r0e extends at{static get pluginName(){return"CKFinderUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.ui.componentFactory.add("ckfinder",(()=>this._createFileToolbarButton())),i.ui.componentFactory.add("menuBar:ckfinder",(()=>this._createFileMenuBarButton())),i.plugins.has("ImageInsertUI")&&i.plugins.get("ImageInsertUI").registerIntegration({name:"assetManager",observable:()=>i.commands.get("ckfinder"),buttonViewCreator:()=>this._createImageToolbarButton(),formViewCreator:()=>this._createImageDropdownButton(),menuBarButtonViewCreator:o=>this._createImageMenuBarButton(o?"insertOnly":"insertNested")})}_createButton(i){const o=this.editor,d=new i(o.locale),u=o.commands.get("ckfinder");return d.bind("isEnabled").to(u),d.on("execute",(()=>{o.execute("ckfinder"),o.editing.view.focus()})),d}_createFileToolbarButton(){const i=this.editor.locale.t,o=this._createButton(Er);return o.icon=$t.browseFiles,o.label=i("Insert image or file"),o.tooltip=!0,o}_createImageToolbarButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this._createButton(Er);return d.icon=$t.imageAssetManager,d.bind("label").to(o,"isImageSelected",(u=>i(u?"Replace image with file manager":"Insert image with file manager"))),d.tooltip=!0,d}_createImageDropdownButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this._createButton(Er);return d.icon=$t.imageAssetManager,d.withText=!0,d.bind("label").to(o,"isImageSelected",(u=>i(u?"Replace with file manager":"Insert with file manager"))),d.on("execute",(()=>{o.dropdownView.isOpen=!1})),d}_createFileMenuBarButton(){const i=this.editor.locale.t,o=this._createButton(Ui);return o.icon=$t.browseFiles,o.withText=!0,o.label=i("File"),o}_createImageMenuBarButton(i){const o=this.editor.locale.t,d=this.editor.locale.t,u=this._createButton(Ui);switch(u.icon=$t.imageAssetManager,u.withText=!0,i){case"insertOnly":u.label=o("Image");break;case"insertNested":u.label=d("With file manager")}return u}}class n0e extends vr{constructor(i){super(i),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const i=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=i.isEnabled||o.isEnabled}execute(){const i=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if(o!="popup"&&o!="modal")throw new F("ckfinder-unknown-openermethod",i);const d=this.editor.config.get("ckfinder.options")||{};d.chooseFiles=!0;const u=d.onInit;d.language||(d.language=i.locale.uiLanguage),d.onInit=m=>{u&&u(m),m.on("files:choose",(y=>{const v=y.data.files.toArray(),A=v.filter((N=>!N.isImage())),S=v.filter((N=>N.isImage()));for(const N of A)i.execute("link",N.getUrl());const D=[];for(const N of S){const L=N.getUrl();D.push(L||m.request("file:getProxyUrl",{file:N}))}D.length&&Z9(i,D)})),m.on("file:choose:resizedImage",(y=>{const v=y.data.resizedUrl;if(v)Z9(i,[v]);else{const A=i.plugins.get("Notification"),S=i.locale.t;A.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[o](d)}}function Z9(g,i){if(g.commands.get("insertImage").isEnabled)g.execute("insertImage",{source:i});else{const o=g.plugins.get("Notification"),d=g.locale.t;o.showWarning(d("Could not insert image at the current position."),{title:d("Inserting image failed"),namespace:"ckfinder"})}}class i0e extends at{static get pluginName(){return"CKFinderEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[e4,"LinkEditing"]}init(){const i=this.editor;if(!i.plugins.has("ImageBlockEditing")&&!i.plugins.has("ImageInlineEditing"))throw new F("ckfinder-missing-image-plugin",i);i.commands.add("ckfinder",new n0e(i))}}class s0e extends at{static get pluginName(){return"CKFinder"}static get isOfficialPlugin(){return!0}static get requires(){return["Link","CKFinderUploadAdapter",i0e,r0e]}}class a0e extends at{static get pluginName(){return"CloudServicesUploadAdapter"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices",Wa]}init(){const i=this.editor,o=i.plugins.get("CloudServices"),d=o.token,u=o.uploadUrl;if(!d)return;const m=i.plugins.get("CloudServicesCore");this._uploadGateway=m.createUploadGateway(d,u),i.plugins.get(Wa).createUploadAdapter=y=>new o0e(this._uploadGateway,y)}}class o0e{constructor(i,o){this.uploadGateway=i,this.loader=o}upload(){return this.loader.file.then((i=>(this.fileUploader=this.uploadGateway.upload(i),this.fileUploader.on("progress",((o,d)=>{this.loader.uploadTotal=d.total,this.loader.uploaded=d.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class l0e extends at{static get pluginName(){return"EasyImage"}static get isOfficialPlugin(){return!0}static get requires(){return[a0e,"ImageUpload"]}init(){const i=this.editor;i.plugins.has("ImageBlockEditing")||i.plugins.has("ImageInlineEditing")||V("easy-image-image-feature-missing",i)}}class c0e extends vr{constructor(i){super(i),this._isEnabledBasedOnSelection=!1}refresh(){const i=this.editor.model,o=Ti(i.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&G9(o,i.schema)}execute(i={}){const o=this.editor.model,d=o.document,u=i.selection||d.selection;o.canEditAt(u)&&o.change((m=>{const y=u.getSelectedBlocks();for(const v of y)!v.is("element","paragraph")&&G9(v,o.schema)&&m.rename(v,"paragraph")}))}}function G9(g,i){return i.checkChild(g.parent,"paragraph")&&!i.isObject(g)}class d0e extends vr{constructor(i){super(i),this._isEnabledBasedOnSelection=!1}execute(i){const o=this.editor.model,d=i.attributes;let u=i.position;return o.canEditAt(u)?o.change((m=>{if(u=this._findPositionToInsertParagraph(u,m),!u)return null;const y=m.createElement("paragraph");return d&&o.schema.setAllowedAttributes(y,d,m),o.insertContent(y,u),m.setSelection(y,"in"),m.createPositionAt(y,0)})):null}_findPositionToInsertParagraph(i,o){const d=this.editor.model;if(d.schema.checkChild(i,"paragraph"))return i;const u=d.schema.findAllowedParent(i,"paragraph");if(!u)return null;const m=i.parent,y=d.schema.checkChild(m,"$text");return m.isEmpty||y&&i.isAtEnd?d.createPositionAfter(m):!m.isEmpty&&y&&i.isAtStart?d.createPositionBefore(m):o.split(i,u).position}}const lw=class lw extends at{static get pluginName(){return"Paragraph"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.model;i.commands.add("paragraph",new c0e(i)),i.commands.add("insertParagraph",new d0e(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:(d,{writer:u})=>lw.paragraphLikeElements.has(d.name)?d.isEmpty?null:u.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};lw.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);let hy=lw;class h0e extends vr{constructor(i,o){super(i),this.modelElements=o}refresh(){const i=Ti(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some((o=>H9(i,o,this.editor.model.schema)))}execute(i){const o=this.editor.model,d=o.document,u=i.value;o.change((m=>{const y=Array.from(d.selection.getSelectedBlocks()).filter((v=>H9(v,u,o.schema)));for(const v of y)v.is("element",u)||m.rename(v,u)}))}}function H9(g,i,o){return o.checkChild(g.parent,i)&&!o.isObject(g)}const K9="paragraph";class u0e extends at{static get pluginName(){return"HeadingEditing"}static get isOfficialPlugin(){return!0}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[hy]}init(){const i=this.editor,o=i.config.get("heading.options"),d=[];for(const u of o)u.model!=="paragraph"&&(i.model.schema.register(u.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(u),d.push(u.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new h0e(i,d))}afterInit(){const i=this.editor,o=i.commands.get("enter"),d=i.config.get("heading.options");o&&this.listenTo(o,"afterExecute",((u,m)=>{const y=i.model.document.selection.getFirstPosition().parent;d.some((v=>y.is("element",v.model)))&&!y.is("element",K9)&&y.childCount===0&&m.writer.rename(y,K9)}))}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:X.low+1})}}var uy=s(6269),pm={attributes:{"data-cke":!0}};pm.setAttributes=gt(),pm.insert=ft().bind(null,"head"),pm.domAPI=ut(),pm.insertStyleElement=pt(),ht()(uy.A,pm),uy.A&&uy.A.locals&&uy.A.locals;class f0e extends at{static get pluginName(){return"HeadingUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.t,d=(function(y){const v=y.t,A={Paragraph:v("Paragraph"),"Heading 1":v("Heading 1"),"Heading 2":v("Heading 2"),"Heading 3":v("Heading 3"),"Heading 4":v("Heading 4"),"Heading 5":v("Heading 5"),"Heading 6":v("Heading 6")};return y.config.get("heading.options").map((S=>{const D=A[S.title];return D&&D!=S.title&&(S.title=D),S}))})(i),u=o("Choose heading"),m=o("Heading");i.ui.componentFactory.add("heading",(y=>{const v={},A=new _o,S=i.commands.get("heading"),D=i.commands.get("paragraph"),N=[S];for(const q of d){const Y={type:"button",model:new jM({label:q.title,class:q.class,role:"menuitemradio",withText:!0})};q.model==="paragraph"?(Y.model.bind("isOn").to(D,"value"),Y.model.set("commandName","paragraph"),N.push(D)):(Y.model.bind("isOn").to(S,"value",(ne=>ne===q.model)),Y.model.set({commandName:"heading",commandValue:q.model})),A.add(Y),v[q.model]=q.title}const L=xd(y);return vM(L,A,{ariaLabel:m,role:"menu"}),L.buttonView.set({ariaLabel:m,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:m}),L.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),L.bind("isEnabled").toMany(N,"isEnabled",((...q)=>q.some((Y=>Y)))),L.buttonView.bind("label").to(S,"value",D,"value",((q,Y)=>{const ne=Y?"paragraph":q;return typeof ne=="boolean"?u:v[ne]?v[ne]:u})),L.buttonView.bind("ariaLabel").to(S,"value",D,"value",((q,Y)=>{const ne=Y?"paragraph":q;return typeof ne=="boolean"?m:v[ne]?`${v[ne]}, ${m}`:m})),this.listenTo(L,"execute",(q=>{const{commandName:Y,commandValue:ne}=q.source;i.execute(Y,ne?{value:ne}:void 0),i.editing.view.focus()})),L})),i.ui.componentFactory.add("menuBar:heading",(y=>{const v=new kd(y),A=i.commands.get("heading"),S=i.commands.get("paragraph"),D=[A],N=new Uk(y);v.set({class:"ck-heading-dropdown"}),N.set({ariaLabel:o("Heading"),role:"menu"}),v.buttonView.set({label:o("Heading")}),v.panelView.children.add(N);for(const L of d){const q=new Pk(y,v),Y=new Ui(y);q.children.add(Y),N.items.add(q),Y.set({isToggleable:!0,label:L.title,role:"menuitemradio",class:L.class}),Y.delegate("execute").to(v),Y.on("execute",(()=>{const ne=L.model==="paragraph"?"paragraph":"heading";i.execute(ne,{value:L.model}),i.editing.view.focus()})),L.model==="paragraph"?(Y.bind("isOn").to(S,"value"),D.push(S)):Y.bind("isOn").to(A,"value",(ne=>ne===L.model))}return v.bind("isEnabled").toMany(D,"isEnabled",((...L)=>L.some((q=>q)))),v}))}}class g0e extends at{static get requires(){return[u0e,f0e]}static get pluginName(){return"Heading"}static get isOfficialPlugin(){return!0}}function J9(g){return g.createContainerElement("figure",{class:"image"},[g.createEmptyElement("img"),g.createSlot("children")])}function eR(g,i){const o=g.plugins.get("ImageUtils"),d=g.plugins.has("ImageInlineEditing")&&g.plugins.has("ImageBlockEditing");return m=>o.isInlineImageView(m)?d&&(m.getStyle("display")=="block"||m.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==i?null:u(m):null;function u(m){const y={name:!0};return m.hasAttribute("src")&&(y.attributes=["src"]),y}}function u4(g,i){const o=Ti(i.getSelectedBlocks());return!o||g.isObject(o)||o.isEmpty&&o.name!="listItem"?"imageBlock":"imageInline"}function fy(g){return g&&g.endsWith("px")?parseInt(g):null}function tR(g){const i=fy(g.getStyle("width")),o=fy(g.getStyle("height"));return!(!i||!o)}const p0e=/^(image|image-inline)$/;class Ps extends at{constructor(){super(...arguments),this._domEmitter=new(za())}static get pluginName(){return"ImageUtils"}static get isOfficialPlugin(){return!0}isImage(i){return this.isInlineImage(i)||this.isBlockImage(i)}isInlineImageView(i){return!!i&&i.is("element","img")}isBlockImageView(i){return!!i&&i.is("element","figure")&&i.hasClass("image")}insertImage(i={},o=null,d=null,u={}){const m=this.editor,y=m.model,v=y.document.selection,A=rR(m,o||v,d);i={...Object.fromEntries(v.getAttributes()),...i};for(const S in i)y.schema.checkAttribute(A,S)||delete i[S];return y.change((S=>{const{setImageSizes:D=!0}=u,N=S.createElement(A,i);return y.insertObject(N,o,null,{setSelection:"on",findOptimalPosition:o||A=="imageInline"?void 0:"auto"}),N.parent?(D&&this.setImageNaturalSizeAttributes(N),N):null}))}setImageNaturalSizeAttributes(i){const o=i.getAttribute("src");o&&(i.getAttribute("width")||i.getAttribute("height")||this.editor.model.change((d=>{const u=new c.window.Image;this._domEmitter.listenTo(u,"load",(()=>{i.getAttribute("width")||i.getAttribute("height")||this.editor.model.enqueueChange(d.batch,(m=>{m.setAttribute("width",u.naturalWidth,i),m.setAttribute("height",u.naturalHeight,i)})),this._domEmitter.stopListening(u,"load")})),u.src=o})))}getClosestSelectedImageWidget(i){const o=i.getFirstPosition();if(!o)return null;const d=i.getSelectedElement();if(d&&this.isImageWidget(d))return d;let u=o.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(i){const o=i.getSelectedElement();return this.isImage(o)?o:i.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(i){return i.findAncestor({classes:p0e})}isImageAllowed(){const i=this.editor.model.document.selection;return(function(o,d){if(rR(o,d,null)=="imageBlock"){const m=(function(y,v){const A=b9(y,v),S=A.start.parent;return S.isEmpty&&!S.is("element","$root")?S.parent:S})(d,o.model);if(o.model.schema.checkChild(m,"imageBlock"))return!0}else if(o.model.schema.checkChild(d.focus,"imageInline"))return!0;return!1})(this.editor,i)&&(function(o){return[...o.focus.getAncestors()].every((d=>!d.is("element","imageBlock")))})(i)}toImageWidget(i,o,d){return o.setCustomProperty("image",!0,i),n4(i,o,{label:()=>{const u=this.findViewImgElement(i).getAttribute("alt");return u?`${u} ${d}`:d}})}isImageWidget(i){return!!i.getCustomProperty("image")&&zn(i)}isBlockImage(i){return!!i&&i.is("element","imageBlock")}isInlineImage(i){return!!i&&i.is("element","imageInline")}findViewImgElement(i){if(this.isInlineImageView(i))return i;const o=this.editor.editing.view;for(const{item:d}of o.createRangeIn(i))if(this.isInlineImageView(d))return d}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function rR(g,i,o){const d=g.model.schema,u=g.config.get("image.insert.type");return g.plugins.has("ImageBlockEditing")?g.plugins.has("ImageInlineEditing")?o||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":i.is("selection")?u4(d,i):d.checkChild(i,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class m0e extends vr{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled&&i.hasAttribute("alt")?this.value=i.getAttribute("alt"):this.value=!1}execute(i){const o=this.editor,d=o.plugins.get("ImageUtils"),u=o.model,m=d.getClosestSelectedImageElement(u.document.selection);u.change((y=>{y.setAttribute("alt",i.newValue,m)}))}}class O0e extends at{static get requires(){return[Ps]}static get pluginName(){return"ImageTextAlternativeEditing"}static get isOfficialPlugin(){return!0}init(){this.editor.commands.add("imageTextAlternative",new m0e(this.editor))}}var gy=s(4062),mm={attributes:{"data-cke":!0}};mm.setAttributes=gt(),mm.insert=ft().bind(null,"head"),mm.domAPI=ut(),mm.insertStyleElement=pt(),ht()(gy.A,mm),gy.A&&gy.A.locals&&gy.A.locals;var py=s(2722),Om={attributes:{"data-cke":!0}};Om.setAttributes=gt(),Om.insert=ft().bind(null,"head"),Om.domAPI=ut(),Om.insertStyleElement=pt(),ht()(py.A,Om),py.A&&py.A.locals&&py.A.locals;class x0e extends Vt{constructor(i){super(i);const o=this.locale.t;this.focusTracker=new si,this.keystrokes=new as,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),$t.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),$t.cancel,"ck-button-cancel","cancel"),this._focusables=new Co,this._focusCycler=new Qo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),yb({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(i,o,d,u){const m=new Er(this.locale);return m.set({label:i,icon:o,tooltip:!0}),m.extendTemplate({attributes:{class:d}}),u&&m.delegate("execute").to(this,u),m}_createLabeledInputView(){const i=this.locale.t,o=new sk(this.locale,_k);return o.label=i("Text alternative"),o}}function nR(g){const i=g.editing.view,o=cc.defaultPositions,d=g.plugins.get("ImageUtils");return{target:i.domConverter.mapViewToDom(d.getClosestSelectedImageWidget(i.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class b0e extends at{static get requires(){return[Rk]}static get pluginName(){return"ImageTextAlternativeUI"}static get isOfficialPlugin(){return!0}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",(d=>{const u=i.commands.get("imageTextAlternative"),m=new Er(d);return m.set({label:o("Change image text alternative"),icon:$t.textAlternative,tooltip:!0}),m.bind("isEnabled").to(u,"isEnabled"),m.bind("isOn").to(u,"value",(y=>!!y)),this.listenTo(m,"execute",(()=>{this._showForm()})),m}))}_createForm(){const i=this.editor,o=i.editing.view.document,d=i.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(iS(x0e))(i.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((u,m)=>{this._hideForm(!0),m()})),this.listenTo(i.ui,"update",(()=>{d.getClosestSelectedImageWidget(o.selection)?this._isVisible&&(function(u){const m=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const y=nR(u);m.updatePosition(y)}})(i):this._hideForm(!0)})),kb({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const i=this.editor,o=i.commands.get("imageTextAlternative"),d=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:nR(i)}),d.fieldView.value=d.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(i=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),i&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class iR extends at{static get requires(){return[O0e,b0e]}static get pluginName(){return"ImageTextAlternative"}static get isOfficialPlugin(){return!0}}function sR(g,i){const o=(d,u,m)=>{if(!m.consumable.consume(u.item,d.name))return;const y=m.writer,v=m.mapper.toViewElement(u.item),A=g.findViewImgElement(v);u.attributeNewValue===null?(y.removeAttribute("srcset",A),y.removeAttribute("sizes",A)):u.attributeNewValue&&(y.setAttribute("srcset",u.attributeNewValue,A),y.setAttribute("sizes","100vw",A))};return d=>{d.on(`attribute:srcset:${i}`,o)}}function my(g,i,o){const d=(u,m,y)=>{if(!y.consumable.consume(m.item,u.name))return;const v=y.writer,A=y.mapper.toViewElement(m.item),S=g.findViewImgElement(A);v.setAttribute(m.attributeKey,m.attributeNewValue||"",S)};return u=>{u.on(`attribute:${o}:${i}`,d)}}class aR extends pl{observe(i){this.listenTo(i,"load",((o,d)=>{const u=d.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(d)}),{useCapture:!0})}stopObserving(i){this.stopListening(i)}_fireEvents(i){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",i))}}class k0e extends vr{constructor(i){super(i);const o=i.config.get("image.insert.type");i.plugins.has("ImageBlockEditing")||o==="block"&&V("image-block-plugin-required"),i.plugins.has("ImageInlineEditing")||o==="inline"&&V("image-inline-plugin-required")}refresh(){const i=this.editor.plugins.get("ImageUtils");this.isEnabled=i.isImageAllowed()}execute(i){const o=An(i.source),d=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),m=Object.fromEntries(d.getAttributes());o.forEach(((y,v)=>{const A=d.getSelectedElement();if(typeof y=="string"&&(y={src:y}),v&&A&&u.isImage(A)){const S=this.editor.model.createPositionAfter(A);u.insertImage({...y,...m},S,i.imageType)}else i.breakBlock?u.insertImage({...y,...m},d.getFirstPosition(),i.imageType):u.insertImage({...y,...m},null,i.imageType)}))}}class y0e extends vr{constructor(i){super(i),this.decorate("cleanupImage")}refresh(){const i=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=i.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(i){const o=this.editor.model.document.selection.getSelectedElement(),d=this.editor.plugins.get("ImageUtils");this.editor.model.change((u=>{u.setAttribute("src",i.source,o),this.cleanupImage(u,o),d.setImageNaturalSizeAttributes(o)}))}cleanupImage(i,o){i.removeAttribute("srcset",o),i.removeAttribute("sizes",o),i.removeAttribute("sources",o),i.removeAttribute("width",o),i.removeAttribute("height",o),i.removeAttribute("alt",o)}}class f4 extends at{static get requires(){return[Ps]}static get pluginName(){return"ImageEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.conversion;i.editing.view.addObserver(aR),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const d=new k0e(i),u=new y0e(i);i.commands.add("insertImage",d),i.commands.add("replaceImageSource",u),i.commands.add("imageInsert",d)}}class oR extends at{static get requires(){return[Ps]}static get pluginName(){return"ImageSizeAttributes"}static get isOfficialPlugin(){return!0}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(i){const o=this.editor,d=o.plugins.get("ImageUtils"),u=i==="imageBlock"?"figure":"img";function m(y,v,A,S,D=!1){y.on(`attribute:${v}:${i}`,((N,L,q)=>{if(!q.consumable.consume(L.item,N.name))return;const Y=q.writer,ne=q.mapper.toViewElement(L.item),ue=d.findViewImgElement(ne);L.attributeNewValue!==null?Y.setAttribute(A,L.attributeNewValue,ue):Y.removeAttribute(A,ue);const me=L.item.getAttribute("width"),Ae=L.item.getAttribute("height"),Me=me&&Ae;if(Me&&D&&Y.setAttribute("loading","lazy",ue),L.item.hasAttribute("sources"))return;const Ue=L.item.hasAttribute("resizedWidth");(i!=="imageInline"||Ue||S)&&Me&&Y.setStyle("aspect-ratio",`${me}/${Ae}`,ue)}))}o.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:y=>tR(y)?fy(y.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:y=>tR(y)?fy(y.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),o.conversion.for("editingDowncast").add((y=>{m(y,"width","width",!0,!0),m(y,"height","height",!0,!0)})),o.conversion.for("dataDowncast").add((y=>{m(y,"width","width",!1),m(y,"height","height",!1)}))}}class lR extends vr{constructor(i,o){super(i),this._modelElementName=o}refresh(){const i=this.editor.plugins.get("ImageUtils"),o=i.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=i.isInlineImage(o):this.isEnabled=i.isBlockImage(o)}execute(i={}){const o=this.editor,d=this.editor.model,u=o.plugins.get("ImageUtils"),m=u.getClosestSelectedImageElement(d.document.selection),y=Object.fromEntries(m.getAttributes());return y.src||y.uploadId?d.change((v=>{const{setImageSizes:A=!0}=i,S=Array.from(d.markers).filter((L=>L.getRange().containsItem(m))),D=u.insertImage(y,d.createSelection(m,"on"),this._modelElementName,{setImageSizes:A});if(!D)return null;const N=v.createRangeOn(D);for(const L of S){const q=L.getRange(),Y=q.root.rootName!="$graveyard"?q.getJoined(N,!0):N;v.updateMarker(L,{range:Y})}return{oldElement:m,newElement:D}})):null}}var Oy=s(7378),xm={attributes:{"data-cke":!0}};xm.setAttributes=gt(),xm.insert=ft().bind(null,"head"),xm.domAPI=ut(),xm.insertStyleElement=pt(),ht()(Oy.A,xm),Oy.A&&Oy.A.locals&&Oy.A.locals;class cR extends at{static get requires(){return[Ps]}static get pluginName(){return"ImagePlaceholder"}static get isOfficialPlugin(){return!0}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const i=this.editor.model.schema;i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["placeholder"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const i=this.editor,o=i.conversion,d=i.plugins.get("ImageUtils");o.for("editingDowncast").add((u=>{u.on("attribute:placeholder",((m,y,v)=>{if(!v.consumable.test(y.item,m.name)||!y.item.is("element","imageBlock")&&!y.item.is("element","imageInline"))return;v.consumable.consume(y.item,m.name);const A=v.writer,S=v.mapper.toViewElement(y.item),D=d.findViewImgElement(S);y.attributeNewValue?(A.addClass("image_placeholder",D),A.setStyle("background-image",`url(${y.attributeNewValue})`,D),A.setCustomProperty("editingPipeline:doNotReuseOnce",!0,D)):(A.removeClass("image_placeholder",D),A.removeStyle("background-image",D))}))}))}_setupLoadListener(){const i=this.editor,o=i.model,d=i.editing,u=d.view,m=i.plugins.get("ImageUtils");u.addObserver(aR),this.listenTo(u.document,"imageLoaded",((y,v)=>{const A=u.domConverter.mapDomToView(v.target);if(!A)return;const S=m.getImageWidgetFromImageView(A);if(!S)return;const D=d.mapper.toModelElement(S);D&&D.hasAttribute("placeholder")&&o.enqueueChange({isUndoable:!1},(N=>{N.removeAttribute("placeholder",D)}))}))}}class dR extends at{static get requires(){return[f4,oR,Ps,cR,Ua]}static get pluginName(){return"ImageBlockEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),i.plugins.has("ImageInlineEditing")&&(i.commands.add("imageTypeBlock",new lR(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,d=i.conversion,u=i.plugins.get("ImageUtils");d.for("dataDowncast").elementToStructure({model:"imageBlock",view:(m,{writer:y})=>J9(y)}),d.for("editingDowncast").elementToStructure({model:"imageBlock",view:(m,{writer:y})=>u.toImageWidget(J9(y),y,o("image widget"))}),d.for("downcast").add(my(u,"imageBlock","src")).add(my(u,"imageBlock","alt")).add(sR(u,"imageBlock")),d.for("upcast").elementToElement({view:eR(i,"imageBlock"),model:(m,{writer:y})=>y.createElement("imageBlock",m.hasAttribute("src")?{src:m.getAttribute("src")}:void 0)}).add((function(m){const y=(v,A,S)=>{if(!S.consumable.test(A.viewItem,{name:!0,classes:"image"}))return;const D=m.findViewImgElement(A.viewItem);if(!D||!S.consumable.test(D,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"image"});const N=Ti(S.convertItem(D,A.modelCursor).modelRange.getItems());N?(S.convertChildren(A.viewItem,N),S.updateConversionResult(N,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"image"})};return v=>{v.on("element:figure",y)}})(u))}_setupClipboardIntegration(){const i=this.editor,o=i.model,d=i.editing.view,u=i.plugins.get("ImageUtils"),m=i.plugins.get("ClipboardPipeline");this.listenTo(m,"inputTransformation",((y,v)=>{const A=Array.from(v.content.getChildren());let S;if(!A.every(u.isInlineImageView))return;S=v.targetRanges?i.editing.mapper.toModelRange(v.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(S);if(u4(o.schema,D)==="imageBlock"){const N=new lc(d.document),L=A.map((q=>N.createElement("figure",{class:"image"},q)));v.content=N.createDocumentFragment(L)}})),this.listenTo(m,"contentInsertion",((y,v)=>{v.method==="paste"&&o.change((A=>{const S=A.createRangeIn(v.content);for(const D of S.getItems())D.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(D)}))}))}}var xy=s(3350),bm={attributes:{"data-cke":!0}};bm.setAttributes=gt(),bm.insert=ft().bind(null,"head"),bm.domAPI=ut(),bm.insertStyleElement=pt(),ht()(xy.A,bm),xy.A&&xy.A.locals&&xy.A.locals;class w0e extends Vt{constructor(i,o=[]){super(i),this.focusTracker=new si,this.keystrokes=new as,this._focusables=new Co,this.children=this.createCollection(),this._focusCycler=new Qo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const d of o)this.children.add(d),this._focusables.add(d),d instanceof Ade&&this._focusables.addMany(d.children);this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),yb({view:this});for(const o of this._focusables)this.focusTracker.add(o.element);this.keystrokes.listenTo(this.element);const i=o=>o.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}class hR extends at{constructor(i){super(i),this._integrations=new Map,i.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get isOfficialPlugin(){return!0}static get requires(){return[Ps]}init(){const i=this.editor,o=i.model.document.selection,d=i.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(i.model.document,"change",(()=>{this.isImageSelected=d.isImage(o.getSelectedElement())}));const u=m=>this._createToolbarComponent(m);i.ui.componentFactory.add("insertImage",u),i.ui.componentFactory.add("imageInsert",u),i.ui.componentFactory.add("menuBar:insertImage",(m=>this._createMenuBarComponent(m)))}registerIntegration({name:i,observable:o,buttonViewCreator:d,formViewCreator:u,menuBarButtonViewCreator:m,requiresForm:y=!1,override:v=!1}){this._integrations.has(i)&&!v&&V("image-insert-integration-exists",{name:i}),this._integrations.set(i,{observable:o,buttonViewCreator:d,menuBarButtonViewCreator:m,formViewCreator:u,requiresForm:y})}_createToolbarComponent(i){const o=this.editor,d=i.t,u=this._prepareIntegrations();if(!u.length)return null;let m;const y=u[0];if(u.length==1){if(!y.requiresForm)return y.buttonViewCreator(!0);m=y.buttonViewCreator(!0)}else{const S=y.buttonViewCreator(!1);m=new yk(i,S),m.tooltip=!0,m.bind("label").to(this,"isImageSelected",(D=>d(D?"Replace image":"Insert image")))}const v=this.dropdownView=xd(i,m),A=u.map((({observable:S})=>typeof S=="function"?S():S));return v.bind("isEnabled").toMany(A,"isEnabled",((...S)=>S.some((D=>D)))),v.once("change:isOpen",(()=>{const S=u.flatMap((({formViewCreator:N})=>N(u.length==1))),D=new w0e(o.locale,S);v.panelView.children.add(D)})),v}_createMenuBarComponent(i){const o=i.t,d=this._prepareIntegrations();if(!d.length)return null;const u=d.flatMap((({menuBarButtonViewCreator:v})=>v(d.length==1))),m=new kd(i),y=new Uk(i);m.panelView.children.add(y),m.buttonView.set({icon:$t.image,label:o("Image")});for(const v of u){const A=new Pk(i,m);A.children.add(v),y.items.add(A),v.delegate("execute").to(m)}return m}_prepareIntegrations(){const i=this.editor.config.get("image.insert.integrations"),o=[];if(!i.length)return V("image-insert-integrations-not-specified"),o;for(const d of i)this._integrations.has(d)?o.push(this._integrations.get(d)):["upload","assetManager","url"].includes(d)||V("image-insert-unknown-integration",{item:d});return o.length||V("image-insert-integrations-not-registered"),o}}var by=s(265),km={attributes:{"data-cke":!0}};km.setAttributes=gt(),km.insert=ft().bind(null,"head"),km.domAPI=ut(),km.insertStyleElement=pt(),ht()(by.A,km),by.A&&by.A.locals&&by.A.locals;class v0e extends at{static get requires(){return[dR,lm,iR,hR]}static get pluginName(){return"ImageBlock"}static get isOfficialPlugin(){return!0}}class _0e extends at{static get requires(){return[f4,oR,Ps,cR,Ua]}static get pluginName(){return"ImageInlineEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.model.schema.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"],disallowIn:["caption"]}),this._setupConversion(),i.plugins.has("ImageBlockEditing")&&(i.commands.add("imageTypeInline",new lR(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,d=i.conversion,u=i.plugins.get("ImageUtils");d.for("dataDowncast").elementToElement({model:"imageInline",view:(m,{writer:y})=>y.createEmptyElement("img")}),d.for("editingDowncast").elementToStructure({model:"imageInline",view:(m,{writer:y})=>u.toImageWidget((function(v){return v.createContainerElement("span",{class:"image-inline"},v.createEmptyElement("img"))})(y),y,o("image widget"))}),d.for("downcast").add(my(u,"imageInline","src")).add(my(u,"imageInline","alt")).add(sR(u,"imageInline")),d.for("upcast").elementToElement({view:eR(i,"imageInline"),model:(m,{writer:y})=>y.createElement("imageInline",m.hasAttribute("src")?{src:m.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const i=this.editor,o=i.model,d=i.editing.view,u=i.plugins.get("ImageUtils"),m=i.plugins.get("ClipboardPipeline");this.listenTo(m,"inputTransformation",((y,v)=>{const A=Array.from(v.content.getChildren());let S;if(!A.every(u.isBlockImageView))return;S=v.targetRanges?i.editing.mapper.toModelRange(v.targetRanges[0]):o.document.selection.getFirstRange();const D=o.createSelection(S);if(u4(o.schema,D)==="imageInline"){const N=new lc(d.document),L=A.map((q=>q.childCount===1?(Array.from(q.getAttributes()).forEach((Y=>N.setAttribute(...Y,u.findViewImgElement(q)))),q.getChild(0)):q));v.content=N.createDocumentFragment(L)}})),this.listenTo(m,"contentInsertion",((y,v)=>{v.method==="paste"&&o.change((A=>{const S=A.createRangeIn(v.content);for(const D of S.getItems())D.is("element","imageInline")&&u.setImageNaturalSizeAttributes(D)}))}))}}class C0e extends at{static get requires(){return[_0e,lm,iR,hR]}static get pluginName(){return"ImageInline"}static get isOfficialPlugin(){return!0}}class A0e extends at{static get requires(){return[v0e,C0e]}static get pluginName(){return"Image"}static get isOfficialPlugin(){return!0}}class uR extends at{static get pluginName(){return"ImageCaptionUtils"}static get isOfficialPlugin(){return!0}static get requires(){return[Ps]}getCaptionFromImageModelElement(i){for(const o of i.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(i){const o=this.editor.plugins.get("ImageUtils"),d=i.getFirstPosition().findAncestor("caption");return d&&o.isBlockImage(d.parent)?d:null}matchImageCaptionViewElement(i){const o=this.editor.plugins.get("ImageUtils");return i.name=="figcaption"&&o.isBlockImageView(i.parent)?{name:!0}:null}}class S0e extends vr{refresh(){const i=this.editor,o=i.plugins.get("ImageCaptionUtils"),d=i.plugins.get("ImageUtils");if(!i.plugins.has(dR))return this.isEnabled=!1,void(this.value=!1);const u=i.model.document.selection,m=u.getSelectedElement();if(!m){const y=o.getCaptionFromModelSelection(u);return this.isEnabled=!!y,void(this.value=!!y)}this.isEnabled=d.isImage(m),this.isEnabled?this.value=!!o.getCaptionFromImageModelElement(m):this.value=!1}execute(i={}){const{focusCaptionOnShow:o}=i;this.editor.model.change((d=>{this.value?this._hideImageCaption(d):this._showImageCaption(d,o)}))}_showImageCaption(i,o){const d=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),m=this.editor.plugins.get("ImageUtils");let y=d.getSelectedElement();const v=u._getSavedCaption(y);m.isInlineImage(y)&&(this.editor.execute("imageTypeBlock"),y=d.getSelectedElement());const A=v||i.createElement("caption");i.append(A,y),o&&i.setSelection(A,"in")}_hideImageCaption(i){const o=this.editor,d=o.model.document.selection,u=o.plugins.get("ImageCaptionEditing"),m=o.plugins.get("ImageCaptionUtils");let y,v=d.getSelectedElement();v?y=m.getCaptionFromImageModelElement(v):(y=m.getCaptionFromModelSelection(d),v=y.parent),u._saveCaption(v,y),i.setSelection(v,"on"),i.remove(y)}}class T0e extends at{static get requires(){return[Ps,uR]}static get pluginName(){return"ImageCaptionEditing"}static get isOfficialPlugin(){return!0}constructor(i){super(i),this._savedCaptionsMap=new WeakMap}init(){const i=this.editor,o=i.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),i.commands.add("toggleImageCaption",new S0e(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const i=this.editor,o=i.editing.view,d=i.plugins.get("ImageUtils"),u=i.plugins.get("ImageCaptionUtils"),m=i.t;i.conversion.for("upcast").elementToElement({view:y=>u.matchImageCaptionViewElement(y),model:"caption"}),i.conversion.for("dataDowncast").elementToElement({model:"caption",view:(y,{writer:v})=>d.isBlockImage(y.parent)?v.createContainerElement("figcaption"):null}),i.conversion.for("editingDowncast").elementToElement({model:"caption",view:(y,{writer:v})=>{if(!d.isBlockImage(y.parent))return null;const A=v.createEditableElement("figcaption");v.setCustomProperty("imageCaption",!0,A),A.placeholder=m("Enter image caption"),DQ({view:o,element:A,keepOnFocus:!0});const S=y.parent.getAttribute("alt");return x9(A,v,{label:S?m("Caption for image: %0",[S]):m("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const i=this.editor,o=i.plugins.get("ImageUtils"),d=i.plugins.get("ImageCaptionUtils"),u=i.commands.get("imageTypeInline"),m=i.commands.get("imageTypeBlock"),y=v=>{if(!v.return)return;const{oldElement:A,newElement:S}=v.return;if(!A)return;if(o.isBlockImage(A)){const N=d.getCaptionFromImageModelElement(A);if(N)return void this._saveCaption(S,N)}const D=this._getSavedCaption(A);D&&this._saveCaption(S,D)};u&&this.listenTo(u,"execute",y,{priority:"low"}),m&&this.listenTo(m,"execute",y,{priority:"low"})}_getSavedCaption(i){const o=this._savedCaptionsMap.get(i);return o?sn.fromJSON(o):null}_saveCaption(i,o){this._savedCaptionsMap.set(i,o.toJSON())}_registerCaptionReconversion(){const i=this.editor,o=i.model,d=i.plugins.get("ImageUtils"),u=i.plugins.get("ImageCaptionUtils");o.document.on("change:data",(()=>{const m=o.document.differ.getChanges();for(const y of m){if(y.attributeKey!=="alt")continue;const v=y.range.start.nodeAfter;if(d.isBlockImage(v)){const A=u.getCaptionFromImageModelElement(v);if(!A)return;i.editing.reconvertItem(A)}}}))}}class E0e extends at{static get requires(){return[uR]}static get pluginName(){return"ImageCaptionUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.editing.view,d=i.plugins.get("ImageCaptionUtils"),u=i.t;i.ui.componentFactory.add("toggleImageCaption",(m=>{const y=i.commands.get("toggleImageCaption"),v=new Er(m);return v.set({icon:$t.caption,tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(y,"value","isEnabled"),v.bind("label").to(y,"value",(A=>u(A?"Toggle caption off":"Toggle caption on"))),this.listenTo(v,"execute",(()=>{i.execute("toggleImageCaption",{focusCaptionOnShow:!0});const A=d.getCaptionFromModelSelection(i.model.document.selection);if(A){const S=i.editing.mapper.toViewElement(A);o.scrollToTheSelection(),o.change((D=>{D.addClass("image__caption_highlighted",S)}))}i.editing.view.focus()})),v}))}}var ky=s(5247),ym={attributes:{"data-cke":!0}};ym.setAttributes=gt(),ym.insert=ft().bind(null,"head"),ym.domAPI=ut(),ym.insertStyleElement=pt(),ht()(ky.A,ym),ky.A&&ky.A.locals&&ky.A.locals;class P0e extends at{static get requires(){return[T0e,E0e]}static get pluginName(){return"ImageCaption"}static get isOfficialPlugin(){return!0}}function fR(g){const i=g.map((o=>o.replace("+","\\+")));return new RegExp(`^image\\/(${i.join("|")})$`)}function D0e(g){return new Promise(((i,o)=>{const d=g.getAttribute("src");fetch(d).then((u=>u.blob())).then((u=>{const m=gR(u,d),y=m.replace("image/",""),v=new File([u],`image.${y}`,{type:m});i(v)})).catch((u=>u&&u.name==="TypeError"?(function(m){return(function(y){return new Promise(((v,A)=>{const S=c.document.createElement("img");S.addEventListener("load",(()=>{const D=c.document.createElement("canvas");D.width=S.width,D.height=S.height,D.getContext("2d").drawImage(S,0,0),D.toBlob((N=>N?v(N):A()))})),S.addEventListener("error",(()=>A())),S.src=y}))})(m).then((y=>{const v=gR(y,m),A=v.replace("image/","");return new File([y],`image.${A}`,{type:v})}))})(d).then(i).catch(o):o(u)))}))}function gR(g,i){return g.type?g.type:i.match(/data:(image\/\w+);base64/)?i.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Q0e extends at{static get pluginName(){return"ImageUploadUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.ui.componentFactory.add("uploadImage",(()=>this._createToolbarButton())),i.ui.componentFactory.add("imageUpload",(()=>this._createToolbarButton())),i.ui.componentFactory.add("menuBar:uploadImage",(()=>this._createMenuBarButton("standalone"))),i.plugins.has("ImageInsertUI")&&i.plugins.get("ImageInsertUI").registerIntegration({name:"upload",observable:()=>i.commands.get("uploadImage"),buttonViewCreator:()=>this._createToolbarButton(),formViewCreator:()=>this._createDropdownButton(),menuBarButtonViewCreator:o=>this._createMenuBarButton(o?"insertOnly":"insertNested")})}_createButton(i){const o=this.editor,d=o.locale,u=o.commands.get("uploadImage"),m=o.config.get("image.upload.types"),y=fR(m),v=new i(o.locale),A=d.t;return v.set({acceptedType:m.map((S=>`image/${S}`)).join(","),allowMultipleFiles:!0,label:A("Upload from computer"),icon:$t.imageUpload}),v.bind("isEnabled").to(u),v.on("done",((S,D)=>{const N=Array.from(D).filter((L=>y.test(L.type)));N.length&&(o.execute("uploadImage",{file:N}),o.editing.view.focus())})),v}_createToolbarButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this.editor.commands.get("uploadImage"),u=this._createButton(mM);return u.tooltip=!0,u.bind("label").to(o,"isImageSelected",d,"isAccessAllowed",((m,y)=>i(y?m?"Replace image from computer":"Upload image from computer":"You have no image upload permissions."))),u}_createDropdownButton(){const i=this.editor.locale.t,o=this.editor.plugins.get("ImageInsertUI"),d=this._createButton(mM);return d.withText=!0,d.bind("label").to(o,"isImageSelected",(u=>i(u?"Replace from computer":"Upload from computer"))),d.on("execute",(()=>{o.dropdownView.isOpen=!1})),d}_createMenuBarButton(i){const o=this.editor.locale.t,d=this._createButton(VM);switch(d.withText=!0,i){case"standalone":d.label=o("Image from computer");break;case"insertOnly":d.label=o("Image");break;case"insertNested":d.label=o("From computer")}return d}}var yy=s(2267),wm={attributes:{"data-cke":!0}};wm.setAttributes=gt(),wm.insert=ft().bind(null,"head"),wm.domAPI=ut(),wm.insertStyleElement=pt(),ht()(yy.A,wm),yy.A&&yy.A.locals&&yy.A.locals;var wy=s(7693),vm={attributes:{"data-cke":!0}};vm.setAttributes=gt(),vm.insert=ft().bind(null,"head"),vm.domAPI=ut(),vm.insertStyleElement=pt(),ht()(wy.A,vm),wy.A&&wy.A.locals&&wy.A.locals;var vy=s(1559),_m={attributes:{"data-cke":!0}};_m.setAttributes=gt(),_m.insert=ft().bind(null,"head"),_m.domAPI=ut(),_m.insertStyleElement=pt(),ht()(vy.A,_m),vy.A&&vy.A.locals&&vy.A.locals;class $0e extends at{constructor(i){super(i),this.uploadStatusChange=(o,d,u)=>{const m=this.editor,y=d.item,v=y.getAttribute("uploadId");if(!u.consumable.consume(d.item,o.name))return;const A=m.plugins.get("ImageUtils"),S=m.plugins.get(Wa),D=v?d.attributeNewValue:null,N=this.placeholder,L=m.editing.mapper.toViewElement(y),q=u.writer;if(D=="reading")return pR(L,q),void mR(A,N,L,q);if(D=="uploading"){const Y=S.loaders.get(v);return pR(L,q),void(Y?(OR(L,q),(function(ne,ue,me,Ae){const Me=(function(Ue){const qe=Ue.createUIElement("div",{class:"ck-progress-bar"});return Ue.setCustomProperty("progressBar",!0,qe),qe})(ue);ue.insert(ue.createPositionAt(ne,"end"),Me),me.on("change:uploadedPercent",((Ue,qe,Bt)=>{Ae.change((Ut=>{Ut.setStyle("width",Bt+"%",Me)}))}))})(L,q,Y,m.editing.view),(function(ne,ue,me,Ae){if(Ae.data){const Me=ne.findViewImgElement(ue);me.setAttribute("src",Ae.data,Me)}})(A,L,q,Y)):mR(A,N,L,q))}D=="complete"&&S.loaders.get(v)&&(function(Y,ne,ue){const me=ne.createUIElement("div",{class:"ck-image-upload-complete-icon"});ne.insert(ne.createPositionAt(Y,"end"),me),setTimeout((()=>{ue.change((Ae=>Ae.remove(Ae.createRangeOn(me))))}),3e3)})(L,q,m.editing.view),(function(Y,ne){bR(Y,ne,"progressBar")})(L,q),OR(L,q),(function(Y,ne){ne.removeClass("ck-appear",Y)})(L,q)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.plugins.has("ImageBlockEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),i.plugins.has("ImageInlineEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function pR(g,i){g.hasClass("ck-appear")||i.addClass("ck-appear",g)}function mR(g,i,o,d){o.hasClass("ck-image-upload-placeholder")||d.addClass("ck-image-upload-placeholder",o);const u=g.findViewImgElement(o);u.getAttribute("src")!==i&&d.setAttribute("src",i,u),xR(o,"placeholder")||d.insert(d.createPositionAfter(u),(function(m){const y=m.createUIElement("div",{class:"ck-upload-placeholder-loader"});return m.setCustomProperty("placeholder",!0,y),y})(d))}function OR(g,i){g.hasClass("ck-image-upload-placeholder")&&i.removeClass("ck-image-upload-placeholder",g),bR(g,i,"placeholder")}function xR(g,i){for(const o of g.getChildren())if(o.getCustomProperty(i))return o}function bR(g,i,o){const d=xR(g,o);d&&i.remove(i.createRangeOn(d))}class M0e extends vr{constructor(i){super(i),this.set("isAccessAllowed",!0)}refresh(){const i=this.editor,o=i.plugins.get("ImageUtils"),d=i.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(d)}execute(i){const o=An(i.file),d=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),m=Object.fromEntries(d.getAttributes());o.forEach(((y,v)=>{const A=d.getSelectedElement();if(v&&A&&u.isImage(A)){const S=this.editor.model.createPositionAfter(A);this._uploadImage(y,m,S)}else this._uploadImage(y,m)}))}_uploadImage(i,o,d){const u=this.editor,m=u.plugins.get(Wa).createLoader(i),y=u.plugins.get("ImageUtils");m&&y.insertImage({...o,uploadId:m.id},d)}}class R0e extends at{constructor(i){super(i),this._uploadedImages=new Map,i.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Wa,e4,Ua,Ps]}static get pluginName(){return"ImageUploadEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.model.document,d=i.conversion,u=i.plugins.get(Wa),m=i.plugins.get("ImageUtils"),y=i.plugins.get("ClipboardPipeline"),v=fR(i.config.get("image.upload.types")),A=new M0e(i);i.commands.add("uploadImage",A),i.commands.add("imageUpload",A),d.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}).add((S=>S.on("element:img",((D,N,L)=>{if(!L.consumable.test(N.viewItem,{attributes:["data-ck-upload-id"]}))return;const q=N.viewItem.getAttribute("data-ck-upload-id");if(!q)return;const[Y]=Array.from(N.modelRange.getItems({shallow:!0})),ne=u.loaders.get(q);Y&&(L.writer.setAttribute("uploadId",q,Y),L.consumable.consume(N.viewItem,{attributes:["data-ck-upload-id"]}),ne&&ne.data&&L.writer.setAttribute("uploadStatus",ne.status,Y))}),{priority:"low"}))),this.listenTo(i.editing.view.document,"clipboardInput",((S,D)=>{if(N=D.dataTransfer,Array.from(N.types).includes("text/html")&&N.getData("text/html")!=="")return;var N;const L=Array.from(D.dataTransfer.files).filter((q=>!!q&&v.test(q.type)));if(L.length&&(S.stop(),i.model.change((q=>{D.targetRanges&&q.setSelection(D.targetRanges.map((Y=>i.editing.mapper.toModelRange(Y)))),i.execute("uploadImage",{file:L})})),!i.commands.get("uploadImage").isAccessAllowed)){const q=i.plugins.get("Notification"),Y=i.locale.t;q.showWarning(Y("You have no image upload permissions."),{namespace:"image"})}})),this.listenTo(y,"inputTransformation",((S,D)=>{const N=Array.from(i.editing.view.createRangeIn(D.content)).map((q=>q.item)).filter((q=>(function(Y,ne){return!(!Y.isInlineImageView(ne)||!ne.getAttribute("src")||!ne.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ne.getAttribute("src").match(/^blob:/g))})(m,q)&&!q.getAttribute("uploadProcessed"))).map((q=>({promise:D0e(q),imageElement:q})));if(!N.length)return;const L=new lc(i.editing.view.document);for(const q of N){L.setAttribute("uploadProcessed",!0,q.imageElement);const Y=u.createLoader(q.promise);Y&&(L.setAttribute("src","",q.imageElement),L.setAttribute("uploadId",Y.id,q.imageElement))}})),i.editing.view.document.on("dragover",((S,D)=>{D.preventDefault()})),o.on("change",(()=>{const S=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),D=new Set;for(const N of S)if(N.type=="insert"&&N.name!="$text"){const L=N.position.nodeAfter,q=N.position.root.rootName=="$graveyard";for(const Y of N0e(i,L)){const ne=Y.getAttribute("uploadId");if(!ne)continue;const ue=u.loaders.get(ne);ue?q?D.has(ne)||Array.from(this._uploadImageElements.get(ne)).every((me=>me.root.rootName=="$graveyard"))&&ue.abort():(D.add(ne),this._uploadImageElements.has(ne)?this._uploadImageElements.get(ne).add(Y):this._uploadImageElements.set(ne,new Set([Y])),ue.status=="idle"&&this._readAndUpload(ue)):!q&&this._uploadedImages.has(ne)&&i.model.enqueueChange({isUndoable:!1},(me=>{me.setAttribute("uploadStatus","complete",Y),this.fire("uploadComplete",{data:this._uploadedImages.get(ne),imageElement:Y})}))}}})),this.on("uploadComplete",((S,{imageElement:D,data:N})=>{const L=N.urls?N.urls:N;this.editor.model.change((q=>{q.setAttribute("src",L.default,D),this._parseAndSetSrcsetAttributeOnImage(L,D,q),m.setImageNaturalSizeAttributes(D)}))}),{priority:"low"})}afterInit(){const i=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&(i.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageBlock")),this.editor.plugins.has("ImageInlineEditing")&&(i.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]}),this._registerConverters("imageInline"))}_readAndUpload(i){const o=this.editor,d=o.model,u=o.locale.t,m=o.plugins.get(Wa),y=o.plugins.get(e4),v=o.plugins.get("ImageUtils"),A=this._uploadImageElements;return d.enqueueChange({isUndoable:!1},(D=>{const N=A.get(i.id);for(const L of N)D.setAttribute("uploadStatus","reading",L)})),i.read().then((()=>{const D=i.upload();o.ui&&o.ui.ariaLiveAnnouncer.announce(u("Uploading image"));for(const N of A.get(i.id)){if(p.isSafari){const L=o.editing.mapper.toViewElement(N),q=v.findViewImgElement(L);o.editing.view.once("render",(()=>{if(!q.parent)return;const Y=o.editing.view.domConverter.mapViewToDom(q.parent);if(!Y)return;const ne=Y.style.display;Y.style.display="none",Y._ckHack=Y.offsetHeight,Y.style.display=ne}))}d.enqueueChange({isUndoable:!1},(L=>{L.setAttribute("uploadStatus","uploading",N)}))}return D})).then((D=>{d.enqueueChange({isUndoable:!1},(N=>{for(const L of A.get(i.id))N.setAttribute("uploadStatus","complete",L),this.fire("uploadComplete",{data:D,imageElement:L});o.ui&&o.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this._uploadedImages.set(i.id,D)})),S()})).catch((D=>{if(o.ui&&o.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),i.status!=="error"&&i.status!=="aborted")throw D;i.status=="error"&&D&&y.showWarning(D,{title:u("Upload failed"),namespace:"upload"}),d.enqueueChange({isUndoable:!1},(N=>{for(const L of A.get(i.id))L.root.rootName!=="$graveyard"&&N.remove(L)})),S()}));function S(){d.enqueueChange({isUndoable:!1},(D=>{for(const N of A.get(i.id))D.removeAttribute("uploadId",N),D.removeAttribute("uploadStatus",N);A.delete(i.id)})),m.destroyLoader(i)}}_parseAndSetSrcsetAttributeOnImage(i,o,d){let u=0;const m=Object.keys(i).filter((y=>{const v=parseInt(y,10);if(!isNaN(v))return u=Math.max(u,v),!0})).map((y=>`${i[y]} ${y}w`)).join(", ");if(m!=""){const y={srcset:m};o.hasAttribute("width")||o.hasAttribute("height")||(y.width=u),d.setAttributes(y,o)}}_registerConverters(i){const{conversion:o,plugins:d}=this.editor,u=d.get(Wa),m=d.get(Ps);o.for("dataDowncast").add((y=>{y.on(`attribute:uploadId:${i}`,((v,A,S)=>{if(!S.consumable.test(A.item,v.name))return;const D=u.loaders.get(A.attributeNewValue);if(!D||!D.data)return null;const N=S.mapper.toViewElement(A.item),L=m.findViewImgElement(N);L&&(S.consumable.consume(A.item,v.name),S.writer.setAttribute("data-ck-upload-id",D.id,L))}))}))}}function N0e(g,i){const o=g.plugins.get("ImageUtils");return Array.from(g.model.createRangeOn(i)).filter((d=>o.isImage(d.item))).map((d=>d.item))}class B0e extends at{static get pluginName(){return"ImageUpload"}static get isOfficialPlugin(){return!0}static get requires(){return[R0e,Q0e,$0e]}}var _y=s(4642),Cm={attributes:{"data-cke":!0}};Cm.setAttributes=gt(),Cm.insert=ft().bind(null,"head"),Cm.domAPI=ut(),Cm.insertStyleElement=pt(),ht()(_y.A,Cm),_y.A&&_y.A.locals&&_y.A.locals;var Cy=s(3469),Am={attributes:{"data-cke":!0}};Am.setAttributes=gt(),Am.insert=ft().bind(null,"head"),Am.domAPI=ut(),Am.insertStyleElement=pt(),ht()(Cy.A,Am),Cy.A&&Cy.A.locals&&Cy.A.locals;class I0e extends vr{constructor(i,o){super(i),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map((d=>{if(d.isDefault)for(const u of d.modelElements)this._defaultStyles[u]=d.name;return[d.name,d]})))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.isEnabled?i.hasAttribute("imageStyle")?this.value=i.getAttribute("imageStyle"):this.value=this._defaultStyles[i.name]:this.value=!1}execute(i={}){const o=this.editor,d=o.model,u=o.plugins.get("ImageUtils");d.change((m=>{const y=i.value,{setImageSizes:v=!0}=i;let A=u.getClosestSelectedImageElement(d.document.selection);y&&this.shouldConvertImageType(y,A)&&(this.editor.execute(u.isBlockImage(A)?"imageTypeInline":"imageTypeBlock",{setImageSizes:v}),A=u.getClosestSelectedImageElement(d.document.selection)),!y||this._styles.get(y).isDefault?m.removeAttribute("imageStyle",A):m.setAttribute("imageStyle",y,A),v&&u.setImageNaturalSizeAttributes(A)}))}shouldConvertImageType(i,o){return!this._styles.get(i).modelElements.includes(o.name)}}const Ay={get inline(){return{name:"inline",title:"In line",icon:$t.objectInline,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:$t.objectLeft,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:$t.objectBlockLeft,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:$t.objectCenter,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:$t.objectRight,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:$t.objectBlockRight,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:$t.objectCenter,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:$t.objectRight,modelElements:["imageBlock"],className:"image-style-side"}}},kR={full:$t.objectFullWidth,left:$t.objectBlockLeft,right:$t.objectBlockRight,center:$t.objectCenter,inlineLeft:$t.objectLeft,inlineRight:$t.objectRight,inline:$t.objectInline},yR=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function wR(g){V("image-style-configuration-definition-invalid",g)}const g4={normalizeStyles:function(g){return(g.configuredStyles.options||[]).map((o=>(function(d){return d=typeof d=="string"?Ay[d]?{...Ay[d]}:{name:d}:(function(u,m){const y={...m};for(const v in u)Object.prototype.hasOwnProperty.call(m,v)||(y[v]=u[v]);return y})(Ay[d.name],d),typeof d.icon=="string"&&(d.icon=kR[d.icon]||d.icon),d})(o))).filter((o=>(function(d,{isBlockPluginLoaded:u,isInlinePluginLoaded:m}){const{modelElements:y,name:v}=d;if(!(y&&y.length&&v))return wR({style:d}),!1;{const A=[u?"imageBlock":null,m?"imageInline":null];if(!y.some((S=>A.includes(S))))return V("image-style-missing-dependency",{style:d,missingPlugins:y.map((S=>S==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0})(o,g)))},getDefaultStylesConfiguration:function(g,i){return g&&i?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:g?{options:["block","side"]}:i?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(g){return g.has("ImageBlockEditing")&&g.has("ImageInlineEditing")?[...yR]:[]},warnInvalidStyle:wR,DEFAULT_OPTIONS:Ay,DEFAULT_ICONS:kR,DEFAULT_DROPDOWN_DEFINITIONS:yR};function vR(g,i){for(const o of i)if(o.name===g)return o}class _R extends at{static get pluginName(){return"ImageStyleEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Ps]}init(){const{normalizeStyles:i,getDefaultStylesConfiguration:o}=g4,d=this.editor,u=d.plugins.has("ImageBlockEditing"),m=d.plugins.has("ImageInlineEditing");d.config.define("image.styles",o(u,m)),this.normalizedStyles=i({configuredStyles:d.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:m}),this._setupConversion(u,m),this._setupPostFixer(),d.commands.add("imageStyle",new I0e(d,this.normalizedStyles))}_setupConversion(i,o){const d=this.editor,u=d.model.schema,m=(y=this.normalizedStyles,(A,S,D)=>{if(!D.consumable.consume(S.item,A.name))return;const N=vR(S.attributeNewValue,y),L=vR(S.attributeOldValue,y),q=D.mapper.toViewElement(S.item),Y=D.writer;L&&Y.removeClass(L.className,q),N&&Y.addClass(N.className,q)});var y;const v=(function(A){const S={imageInline:A.filter((D=>!D.isDefault&&D.modelElements.includes("imageInline"))),imageBlock:A.filter((D=>!D.isDefault&&D.modelElements.includes("imageBlock")))};return(D,N,L)=>{if(!N.modelRange)return;const q=N.viewItem,Y=Ti(N.modelRange.getItems());if(Y&&L.schema.checkAttribute(Y,"imageStyle"))for(const ne of S[Y.name])L.consumable.consume(q,{classes:ne.className})&&L.writer.setAttribute("imageStyle",ne.name,Y)}})(this.normalizedStyles);d.editing.downcastDispatcher.on("attribute:imageStyle",m),d.data.downcastDispatcher.on("attribute:imageStyle",m),i&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),d.data.upcastDispatcher.on("element:figure",v,{priority:"low"})),o&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),d.data.upcastDispatcher.on("element:img",v,{priority:"low"}))}_setupPostFixer(){const i=this.editor,o=i.model.document,d=i.plugins.get(Ps),u=new Map(this.normalizedStyles.map((m=>[m.name,m])));o.registerPostFixer((m=>{let y=!1;for(const v of o.differ.getChanges())if(v.type=="insert"||v.type=="attribute"&&v.attributeKey=="imageStyle"){let A=v.type=="insert"?v.position.nodeAfter:v.range.start.nodeAfter;if(A&&A.is("element","paragraph")&&A.childCount>0&&(A=A.getChild(0)),!d.isImage(A))continue;const S=A.getAttribute("imageStyle");if(!S)continue;const D=u.get(S);D&&D.modelElements.includes(A.name)||(m.removeAttribute("imageStyle",A),y=!0)}return y}))}}var Sy=s(6386),Sm={attributes:{"data-cke":!0}};Sm.setAttributes=gt(),Sm.insert=ft().bind(null,"head"),Sm.domAPI=ut(),Sm.insertStyleElement=pt(),ht()(Sy.A,Sm),Sy.A&&Sy.A.locals&&Sy.A.locals;class j0e extends at{static get requires(){return[_R]}static get pluginName(){return"ImageStyleUI"}static get isOfficialPlugin(){return!0}get localizedDefaultStylesTitles(){const i=this.editor.t;return{"Wrap text":i("Wrap text"),"Break text":i("Break text"),"In line":i("In line"),"Full size image":i("Full size image"),"Side image":i("Side image"),"Left aligned image":i("Left aligned image"),"Centered image":i("Centered image"),"Right aligned image":i("Right aligned image")}}init(){const i=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],d=CR(i.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const m of d)this._createButton(m);const u=CR([...o.filter(Ee),...g4.getDefaultDropdownDefinitions(i)],this.localizedDefaultStylesTitles);for(const m of u)this._createDropdown(m,d)}_createDropdown(i,o){const d=this.editor.ui.componentFactory;d.add(i.name,(u=>{let m;const{defaultItem:y,items:v,title:A}=i,S=v.filter((q=>o.find((({name:Y})=>AR(Y)===q)))).map((q=>{const Y=d.create(q);return q===y&&(m=Y),Y}));v.length!==S.length&&g4.warnInvalidStyle({dropdown:i});const D=xd(u,yk),N=D.buttonView,L=N.arrowView;return YS(D,S,{enableActiveItemFocusOnDropdownOpen:!0}),N.set({label:SR(A,m.label),class:null,tooltip:!0}),L.unbind("label"),L.set({label:A}),N.bind("icon").toMany(S,"isOn",((...q)=>{const Y=q.findIndex(fd);return Y<0?m.icon:S[Y].icon})),N.bind("label").toMany(S,"isOn",((...q)=>{const Y=q.findIndex(fd);return SR(A,Y<0?m.label:S[Y].label)})),N.bind("isOn").toMany(S,"isOn",((...q)=>q.some(fd))),N.bind("class").toMany(S,"isOn",((...q)=>q.some(fd)?"ck-splitbutton_flatten":void 0)),N.on("execute",(()=>{S.some((({isOn:q})=>q))?D.isOpen=!D.isOpen:m.fire("execute")})),D.bind("isEnabled").toMany(S,"isEnabled",((...q)=>q.some(fd))),this.listenTo(D,"execute",(()=>{this.editor.editing.view.focus()})),D}))}_createButton(i){const o=i.name;this.editor.ui.componentFactory.add(AR(o),(d=>{const u=this.editor.commands.get("imageStyle"),m=new Er(d);return m.set({label:i.title,icon:i.icon,tooltip:!0,isToggleable:!0}),m.bind("isEnabled").to(u,"isEnabled"),m.bind("isOn").to(u,"value",(y=>y===o)),m.on("execute",this._executeCommand.bind(this,o)),m}))}_executeCommand(i){this.editor.execute("imageStyle",{value:i}),this.editor.editing.view.focus()}}function CR(g,i){for(const o of g)i[o.title]&&(o.title=i[o.title]);return g}function AR(g){return`imageStyle:${g}`}function SR(g,i){return(g?g+": ":"")+i}class F0e extends at{static get requires(){return[_R,j0e]}static get pluginName(){return"ImageStyle"}static get isOfficialPlugin(){return!0}}class L0e extends at{static get requires(){return[ty,Ps]}static get pluginName(){return"ImageToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const i=this.editor,o=i.t,d=i.plugins.get(ty),u=i.plugins.get("ImageUtils");var m;d.register("image",{ariaLabel:o("Image toolbar"),items:(m=i.config.get("image.toolbar")||[],m.map((y=>Ee(y)?y.name:y))),getRelatedElement:y=>u.getClosestSelectedImageWidget(y)})}}class z0e extends at{static get requires(){return[f4,Ps]}static get pluginName(){return"PictureEditing"}static get isOfficialPlugin(){return!0}afterInit(){const i=this.editor;i.plugins.has("ImageBlockEditing")&&i.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),i.plugins.has("ImageInlineEditing")&&i.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const i=this.editor,o=i.conversion,d=i.plugins.get("ImageUtils");o.for("upcast").add((function(u){const m=["srcset","media","type","sizes"],y=(v,A,S)=>{const D=A.viewItem;if(!S.consumable.test(D,{name:!0}))return;const N=new Map;for(const Y of D.getChildren())if(Y.is("element","source")){const ne={};for(const ue of m)Y.hasAttribute(ue)&&S.consumable.test(Y,{attributes:ue})&&(ne[ue]=Y.getAttribute(ue));Object.keys(ne).length&&N.set(Y,ne)}const L=u.findViewImgElement(D);if(!L)return;let q=A.modelCursor.parent;if(!q.is("element","imageBlock")){const Y=S.convertItem(L,A.modelCursor);A.modelRange=Y.modelRange,A.modelCursor=Y.modelCursor,q=Ti(Y.modelRange.getItems())}S.consumable.consume(D,{name:!0});for(const[Y,ne]of N)S.consumable.consume(Y,{attributes:Object.keys(ne)});N.size&&S.writer.setAttribute("sources",Array.from(N.values()),q),S.convertChildren(D,q)};return v=>{v.on("element:picture",y)}})(d)),o.for("downcast").add((function(u){const m=(y,v,A)=>{if(!A.consumable.consume(v.item,y.name))return;const S=A.writer,D=A.mapper.toViewElement(v.item),N=u.findViewImgElement(D),L=v.attributeNewValue;if(L&&L.length){const q=[];let Y=N.parent;for(;Y&&Y.is("attributeElement");){const me=Y.parent;S.unwrap(S.createRangeOn(N),Y),q.unshift(Y),Y=me}const ne=N.parent.is("element","picture"),ue=ne?N.parent:S.createContainerElement("picture",null);ne||S.insert(S.createPositionBefore(N),ue),S.remove(S.createRangeIn(ue)),S.insert(S.createPositionAt(ue,"end"),L.map((me=>S.createEmptyElement("source",me)))),S.move(S.createRangeOn(N),S.createPositionAt(ue,"end"));for(const me of q)S.wrap(S.createRangeOn(ue),me)}else if(N.parent.is("element","picture")){const q=N.parent;S.move(S.createRangeOn(N),S.createPositionBefore(q)),S.remove(q)}};return y=>{y.on("attribute:sources:imageBlock",m),y.on("attribute:sources:imageInline",m)}})(d))}_setupImageUploadEditingIntegration(){const i=this.editor;if(!i.plugins.has("ImageUploadEditing"))return;const o=i.plugins.get("ImageUploadEditing");this.listenTo(o,"uploadComplete",((d,{imageElement:u,data:m})=>{const y=m.sources;y&&i.model.change((v=>{v.setAttributes({sources:y},u)}))}))}}class X0e extends at{static get pluginName(){return"IndentEditing"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.commands.add("indent",new _Q(i)),i.commands.add("outdent",new _Q(i))}}class V0e extends at{static get pluginName(){return"IndentUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=i.locale,d=i.t,u=o.uiLanguageDirection=="ltr"?$t.indent:$t.outdent,m=o.uiLanguageDirection=="ltr"?$t.outdent:$t.indent;this._defineButton("indent",d("Increase indent"),u),this._defineButton("outdent",d("Decrease indent"),m)}_defineButton(i,o,d){const u=this.editor;u.ui.componentFactory.add(i,(()=>{const m=this._createButton(Er,i,o,d);return m.set({tooltip:!0}),m})),u.ui.componentFactory.add("menuBar:"+i,(()=>this._createButton(Ui,i,o,d)))}_createButton(i,o,d,u){const m=this.editor,y=m.commands.get(o),v=new i(m.locale);return v.set({label:d,icon:u}),v.bind("isEnabled").to(y,"isEnabled"),this.listenTo(v,"execute",(()=>{m.execute(o),m.editing.view.focus()})),v}}class U0e extends at{static get pluginName(){return"Indent"}static get isOfficialPlugin(){return!0}static get requires(){return[X0e,V0e]}}class q0e{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach((o=>this._definitions.add(o))):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",((o,d,u)=>{if(!u.consumable.test(d.item,"attribute:linkHref")||!d.item.is("selection")&&!u.schema.isInline(d.item))return;const m=u.writer,y=m.document.selection;for(const v of this._definitions){const A=m.createAttributeElement("a",v.attributes,{priority:5});v.classes&&m.addClass(v.classes,A);for(const S in v.styles)m.setStyle(S,v.styles[S],A);m.setCustomProperty("link",!0,A),v.callback(d.attributeNewValue)?d.item.is("selection")?m.wrap(y.getFirstRange(),A):m.wrap(u.mapper.toViewRange(d.range),A):m.unwrap(u.mapper.toViewRange(d.range),A)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return i=>{i.on("attribute:linkHref:imageBlock",((o,d,{writer:u,mapper:m})=>{const y=m.toViewElement(d.item),v=Array.from(y.getChildren()).find((A=>A.is("element","a")));if(v)for(const A of this._definitions){const S=fl(A.attributes);if(A.callback(d.attributeNewValue)){for(const[D,N]of S)D==="class"?u.addClass(N,v):u.setAttribute(D,N,v);A.classes&&u.addClass(A.classes,v);for(const D in A.styles)u.setStyle(D,A.styles[D],v)}else{for(const[D,N]of S)D==="class"?u.removeClass(N,v):u.removeAttribute(D,v);A.classes&&u.removeClass(A.classes,v);for(const D in A.styles)u.removeStyle(D,v)}}}))}}}const W0e=function(g,i,o){var d=g.length;return o=o===void 0?d:o,!i&&o>=d?g:MQ(g,i,o)};var Y0e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const TR=function(g){return Y0e.test(g)},Z0e=function(g){return g.split("")};var ER="\\ud800-\\udfff",G0e="["+ER+"]",p4="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",m4="\\ud83c[\\udffb-\\udfff]",PR="[^"+ER+"]",DR="(?:\\ud83c[\\udde6-\\uddff]){2}",QR="[\\ud800-\\udbff][\\udc00-\\udfff]",$R="(?:"+p4+"|"+m4+")?",MR="[\\ufe0e\\ufe0f]?",H0e=MR+$R+("(?:\\u200d(?:"+[PR,DR,QR].join("|")+")"+MR+$R+")*"),K0e="(?:"+[PR+p4+"?",p4,DR,QR,G0e].join("|")+")",J0e=RegExp(m4+"(?="+m4+")|"+K0e+H0e,"g");const efe=function(g){return g.match(J0e)||[]},tfe=function(g){return TR(g)?efe(g):Z0e(g)},rfe=(function(g){return function(i){i=oS(i);var o=TR(i)?tfe(i):void 0,d=o?o[0]:i.charAt(0),u=o?W0e(o,1).join(""):i.slice(1);return d[g]()+u}})("toUpperCase"),nfe=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ife=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,sfe=/^((\w+:(\/{2,})?)|(\W))/i,afe=["https?","ftps?","mailto"],Ty="Ctrl+K";function RR(g,{writer:i}){const o=i.createAttributeElement("a",{href:g},{priority:5});return i.setCustomProperty("link",!0,o),o}function NR(g,i=afe){const o=String(g),d=i.join("|");return(function(u,m){return!!u.replace(nfe,"").match(m)})(o,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",d)}`,"i"))?o:"#"}function O4(g,i){return!!g&&i.checkAttribute(g.name,"linkHref")}function x4(g,i){const o=(d=g,ife.test(d)?"mailto:":i);var d;const u=!!o&&!BR(g);return g&&u?o+g:g}function BR(g){return sfe.test(g)}function IR(g){window.open(g,"_blank","noopener")}function jR(g){const i=g.plugins.has("BookmarkEditing")?g.plugins.get("BookmarkEditing"):null;return{isScrollableToTarget:function(o){return!!o&&o.startsWith("#")&&!!i&&!!i.getElementForBookmarkId(o.slice(1))},scrollToTarget:function(o){const d=o.slice(1),u=i.getElementForBookmarkId(d);g.model.change((m=>{m.setSelection(u,"on")})),g.editing.view.scrollToTheSelection({alignToTop:!0,forceScroll:!0})}}}class ofe extends vr{constructor(){super(...arguments),this.manualDecorators=new _o,this.automaticDecorators=new q0e}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,o=i.document.selection,d=o.getSelectedElement()||Ti(o.getSelectedBlocks());O4(d,i.schema)?(this.value=d.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttribute(d,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttributeInSelection(o,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(i,o={}){const d=this.editor.model,u=d.document.selection,m=[],y=[];for(const v in o)o[v]?m.push(v):y.push(v);d.change((v=>{if(u.isCollapsed){const A=u.getFirstPosition();if(u.hasAttribute("linkHref")){const S=FR(u);let D=Gk(A,"linkHref",u.getAttribute("linkHref"),d);u.getAttribute("linkHref")===S&&(D=this._updateLinkContent(d,v,D,i)),v.setAttribute("linkHref",i,D),m.forEach((N=>{v.setAttribute(N,!0,D)})),y.forEach((N=>{v.removeAttribute(N,D)})),v.setSelection(v.createPositionAfter(D.end.nodeBefore))}else if(i!==""){const S=fl(u.getAttributes());S.set("linkHref",i),m.forEach((N=>{S.set(N,!0)}));const{end:D}=d.insertContent(v.createText(i,S),A);v.setSelection(D)}["linkHref",...m,...y].forEach((S=>{v.removeSelectionAttribute(S)}))}else{const A=d.schema.getValidRanges(u.getRanges(),"linkHref"),S=[];for(const N of u.getSelectedBlocks())d.schema.checkAttribute(N,"linkHref")&&S.push(v.createRangeOn(N));const D=S.slice();for(const N of A)this._isRangeToUpdate(N,S)&&D.push(N);for(const N of D){let L=N;if(D.length===1){const q=FR(u);u.getAttribute("linkHref")===q&&(L=this._updateLinkContent(d,v,N,i),v.setSelection(v.createSelection(L)))}v.setAttribute("linkHref",i,L),m.forEach((q=>{v.setAttribute(q,!0,L)})),y.forEach((q=>{v.removeAttribute(q,L)}))}}}))}_getDecoratorStateFromModel(i){const o=this.editor.model,d=o.document.selection,u=d.getSelectedElement();return O4(u,o.schema)?u.getAttribute(i):d.getAttribute(i)}_isRangeToUpdate(i,o){for(const d of o)if(d.containsRange(i))return!1;return!0}_updateLinkContent(i,o,d,u){const m=o.createText(u,{linkHref:u});return i.insertContent(m,d)}}function FR(g){if(g.isCollapsed){const i=g.getFirstPosition();return i.textNode&&i.textNode.data}{const i=Array.from(g.getFirstRange().getItems());if(i.length>1)return null;const o=i[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class lfe extends vr{refresh(){const i=this.editor.model,o=i.document.selection,d=o.getSelectedElement();O4(d,i.schema)?this.isEnabled=i.schema.checkAttribute(d,"linkHref"):this.isEnabled=i.schema.checkAttributeInSelection(o,"linkHref")}execute(){const i=this.editor,o=this.editor.model,d=o.document.selection,u=i.commands.get("link");o.change((m=>{const y=d.isCollapsed?[Gk(d.getFirstPosition(),"linkHref",d.getAttribute("linkHref"),o)]:o.schema.getValidRanges(d.getRanges(),"linkHref");for(const v of y)if(m.removeAttribute("linkHref",v),u)for(const A of u.manualDecorators)m.removeAttribute(A.id,v)}))}}class cfe extends Ge(){constructor({id:i,label:o,attributes:d,classes:u,styles:m,defaultValue:y}){super(),this.id=i,this.set("value",void 0),this.defaultValue=y,this.label=o,this.attributes=d,this.classes=u,this.styles=m}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var Ey=s(7719),Tm={attributes:{"data-cke":!0}};Tm.setAttributes=gt(),Tm.insert=ft().bind(null,"head"),Tm.domAPI=ut(),Tm.insertStyleElement=pt(),ht()(Ey.A,Tm),Ey.A&&Ey.A.locals&&Ey.A.locals;const LR="automatic",dfe=/^(https?:)?\/\//;class zR extends at{static get pluginName(){return"LinkEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[o9,e9,Ua]}constructor(i){super(i),i.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const i=this.editor,o=this.editor.config.get("link.allowedProtocols");i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:RR}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,m)=>RR(NR(u,o),m)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),i.commands.add("link",new ofe(i)),i.commands.add("unlink",new lfe(i));const d=(function(u,m){const y={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return m.forEach((v=>("label"in v&&y[v.label]&&(v.label=y[v.label]),v))),m})(i.t,(function(u){const m=[];if(u)for(const[y,v]of Object.entries(u)){const A=Object.assign({},v,{id:`link${rfe(y)}`});m.push(A)}return m})(i.config.get("link.decorators")));this._enableAutomaticDecorators(d.filter((u=>u.mode===LR))),this._enableManualDecorators(d.filter((u=>u.mode==="manual"))),i.plugins.get(o9).registerAttribute("linkHref"),(function(u,m,y,v){const A=u.editing.view,S=new Set;A.document.registerPostFixer((D=>{const N=u.model.document.selection;let L=!1;if(N.hasAttribute(m)){const q=Gk(N.getFirstPosition(),m,N.getAttribute(m),u.model),Y=u.editing.mapper.toViewRange(q);for(const ne of Y.getItems())ne.is("element",y)&&!ne.hasClass(v)&&(D.addClass(v,ne),S.add(ne),L=!0)}return L})),u.conversion.for("editingDowncast").add((D=>{function N(){A.change((L=>{for(const q of S.values())L.removeClass(v,q),S.delete(q)}))}D.on("insert",N,{priority:"highest"}),D.on("remove",N,{priority:"highest"}),D.on("attribute",N,{priority:"highest"}),D.on("selection",N,{priority:"highest"})}))})(i,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(i){const o=this.editor,d=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&d.add({id:"linkIsExternal",mode:LR,callback:u=>!!u&&dfe.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),d.add(i),d.length&&o.conversion.for("downcast").add(d.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const o=this.editor,d=o.commands.get("link").manualDecorators;i.forEach((u=>{o.model.schema.extend("$text",{allowAttributes:u.id});const m=new cfe(u);d.add(m),o.conversion.for("downcast").attributeToElement({model:m.id,view:(y,{writer:v,schema:A},{item:S})=>{if((S.is("selection")||A.isInline(S))&&y){const D=v.createAttributeElement("a",m.attributes,{priority:5});m.classes&&v.addClass(m.classes,D);for(const N in m.styles)v.setStyle(N,m.styles[N],D);return v.setCustomProperty("link",!0,D),D}}}),o.conversion.for("upcast").elementToAttribute({view:{name:"a",...m._createPattern()},model:{key:m.id}})}))}_enableLinkOpen(){const i=this.editor,o=i.editing.view.document,d=jR(i);function u(m){d.isScrollableToTarget(m)?d.scrollToTarget(m):IR(m)}this.listenTo(o,"click",((m,y)=>{if(!(p.isMac?y.domEvent.metaKey:y.domEvent.ctrlKey))return;let v=y.domTarget;if(v.tagName.toLowerCase()!="a"&&(v=v.closest("a")),!v)return;const A=v.getAttribute("href");A&&(m.stop(),y.preventDefault(),u(A))}),{context:"$capture"}),this.listenTo(o,"keydown",((m,y)=>{const v=i.commands.get("link").value;v&&y.keyCode===Tr.enter&&y.altKey&&(m.stop(),u(v))}))}_enableSelectionAttributesFixer(){const i=this.editor.model,o=i.document.selection;this.listenTo(o,"change:attribute",((d,{attributeKeys:u})=>{u.includes("linkHref")&&!o.hasAttribute("linkHref")&&i.change((m=>{var y;(function(v,A){v.removeSelectionAttribute("linkHref");for(const S of A)v.removeSelectionAttribute(S)})(m,(y=i.schema,y.getDefinition("$text").allowAttributes.filter((v=>v.startsWith("link")))))}))}))}_enableClipboardIntegration(){const i=this.editor,o=i.model,d=this.editor.config.get("link.defaultProtocol");d&&this.listenTo(i.plugins.get("ClipboardPipeline"),"contentInsertion",((u,m)=>{o.change((y=>{const v=y.createRangeIn(m.content);for(const A of v.getItems())if(A.hasAttribute("linkHref")){const S=x4(A.getAttribute("linkHref"),d);y.setAttribute("linkHref",S,A)}}))}))}}var Py=s(3817),Em={attributes:{"data-cke":!0}};Em.setAttributes=gt(),Em.insert=ft().bind(null,"head"),Em.domAPI=ut(),Em.insertStyleElement=pt(),ht()(Py.A,Em),Py.A&&Py.A.locals&&Py.A.locals;class hfe extends Vt{constructor(i,o,d){super(i),this.focusTracker=new si,this.keystrokes=new as,this._focusables=new Co;const u=i.t;this._validators=d,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),$t.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),$t.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusCycler=new Qo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const m=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&m.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:m,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((i,o)=>(i[o.name]=o.isOn,i)),{})}render(){super.render(),yb({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const i of this._validators){const o=i(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const i=this.locale.t,o=new sk(this.locale,_k);return o.fieldView.inputMode="url",o.label=i("Link URL"),o}_createButton(i,o,d,u){const m=new Er(this.locale);return m.set({label:i,icon:o,tooltip:!0}),m.extendTemplate({attributes:{class:d}}),u&&m.delegate("execute").to(this,u),m}_createManualDecoratorSwitches(i){const o=this.createCollection();for(const d of i.manualDecorators){const u=new tk(this.locale);u.set({name:d.id,label:d.label,withText:!0}),u.bind("isOn").toMany([d,i],"value",((m,y)=>y===void 0&&m===void 0?!!d.defaultValue:!!m)),u.on("execute",(()=>{d.set("value",!u.isOn)})),o.add(u)}return o}_createFormChildren(i){const o=this.createCollection();if(o.add(this.urlInputView),i.length){const d=new Vt;d.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(d)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}get url(){const{element:i}=this.urlInputView.fieldView;return i?i.value.trim():null}}var Dy=s(8762),Pm={attributes:{"data-cke":!0}};Pm.setAttributes=gt(),Pm.insert=ft().bind(null,"head"),Pm.domAPI=ut(),Pm.insertStyleElement=pt(),ht()(Dy.A,Pm),Dy.A&&Dy.A.locals&&Dy.A.locals;class ufe extends Vt{constructor(i,o={},d){super(i),this.focusTracker=new si,this.keystrokes=new as,this._focusables=new Co;const u=i.t;this._options=d,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(u("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(u("Edit link"),$t.pencil,"edit"),this.set("href",void 0),this._linkConfig=o,this._focusCycler=new Qo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((i=>{this._focusables.add(i),this.focusTracker.add(i.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(i,o,d){const u=new Er(this.locale);return u.set({label:i,icon:o,tooltip:!0}),u.delegate("execute").to(this,d),u}_createPreviewButton(){const i=new Er(this.locale),o=this.bindTemplate,d=this.t;return i.set({withText:!0}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",(u=>u&&NR(u,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"},on:{click:o.to((u=>{this._options&&this._options.isScrollableToTarget(this.href)?(u.preventDefault(),this._options.scrollToTarget(this.href)):IR(this.href)}))}}),i.bind("tooltip").to(this,"href",(u=>this._options&&this._options.isScrollableToTarget(u)?d("Scroll to target"):d("Open link in new tab"))),i.bind("label").to(this,"href",(u=>u||d("This link has no URL"))),i.bind("isEnabled").to(this,"href",(u=>!!u)),i.template.tag="a",i}}const bl="link-ui";class ffe extends at{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Rk]}static get pluginName(){return"LinkUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=this.editor.t;i.editing.view.addObserver(Hce),this._balloon=i.plugins.get(Rk),this._createToolbarLinkButton(),this._enableBalloonActivators(),i.conversion.for("editingDowncast").markerToHighlight({model:bl,view:{classes:["ck-fake-link-selection"]}}),i.conversion.for("editingDowncast").markerToElement({model:bl,view:(d,{writer:u})=>{if(!d.markerRange.isCollapsed)return null;const m=u.createUIElement("span");return u.addClass(["ck-fake-link-selection","ck-fake-link-selection_collapsed"],m),m}}),i.accessibility.addKeystrokeInfos({keystrokes:[{label:o("Create link"),keystroke:Ty},{label:o("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const i=this.editor,o=new ufe(i.locale,i.config.get("link"),jR(i)),d=i.commands.get("link"),u=i.commands.get("unlink");return o.bind("href").to(d,"value"),o.editButtonView.bind("isEnabled").to(d),o.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(o,"edit",(()=>{this._addFormView()})),this.listenTo(o,"unlink",(()=>{i.execute("unlink"),this._hideUI()})),o.keystrokes.set("Esc",((m,y)=>{this._hideUI(),y()})),o.keystrokes.set(Ty,((m,y)=>{this._addFormView(),y()})),o}_createFormView(){const i=this.editor,o=i.commands.get("link"),d=i.config.get("link.defaultProtocol"),u=new(iS(hfe))(i.locale,o,(function(m){const y=m.t,v=m.config.get("link.allowCreatingEmptyLinks");return[A=>{if(!v&&!A.url.length)return y("Link URL must not be empty.")}]})(i));return u.urlInputView.fieldView.bind("value").to(o,"value"),u.urlInputView.bind("isEnabled").to(o,"isEnabled"),u.saveButtonView.bind("isEnabled").to(o,"isEnabled"),this.listenTo(u,"submit",(()=>{if(u.isValid()){const{value:m}=u.urlInputView.fieldView.element,y=x4(m,d);i.execute("link",y,u.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(u.urlInputView,"change:errorText",(()=>{i.ui.update()})),this.listenTo(u,"cancel",(()=>{this._closeFormView()})),u.keystrokes.set("Esc",((m,y)=>{this._closeFormView(),y()})),u}_createToolbarLinkButton(){const i=this.editor;i.ui.componentFactory.add("link",(()=>{const o=this._createButton(Er);return o.set({tooltip:!0}),o})),i.ui.componentFactory.add("menuBar:link",(()=>{const o=this._createButton(Ui);return o.set({role:"menuitemcheckbox"}),o}))}_createButton(i){const o=this.editor,d=o.locale,u=o.commands.get("link"),m=new i(o.locale),y=d.t;return m.set({label:y("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:Ty,isToggleable:!0}),m.bind("isEnabled").to(u,"isEnabled"),m.bind("isOn").to(u,"value",(v=>!!v)),this.listenTo(m,"execute",(()=>this._showUI(!0))),m}_enableBalloonActivators(){const i=this.editor,o=i.editing.view.document;this.listenTo(o,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),i.keystrokes.set(Ty,((d,u)=>{u(),i.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((i,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((i,o)=>{this._isUIVisible&&(this._hideUI(),o())})),kb({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=i.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),i.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(i=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const i=this.editor,o=i.editing.view.document;let d=this._getSelectedLinkElement(),u=y();const m=()=>{const v=this._getSelectedLinkElement(),A=y();d&&!v||!d&&A!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),d=v,u=A};function y(){return o.selection.focus.getAncestors().reverse().find((v=>v.is("element")))}this.listenTo(i.ui,"update",m),this.listenTo(this._balloon,"change:visibleView",m)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const i=this._balloon.visibleView;return!!this.formView&&i==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,o=this.editor.model,d=i.document;let u;if(o.markers.has(bl)){const m=Array.from(this.editor.editing.mapper.markerNameToElements(bl)),y=i.createRange(i.createPositionBefore(m[0]),i.createPositionAfter(m[m.length-1]));u=i.domConverter.viewRangeToDom(y)}else u=()=>{const m=this._getSelectedLinkElement();return m?i.domConverter.mapViewToDom(m):i.domConverter.viewRangeToDom(d.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const i=this.editor.editing.view,o=i.document.selection,d=o.getSelectedElement();if(o.isCollapsed||d&&zn(d))return b4(o.getFirstPosition());{const u=o.getFirstRange().getTrimmed(),m=b4(u.start),y=b4(u.end);return m&&m==y&&i.createRangeIn(m).getTrimmed().isEqual(u)?m:null}}_showFakeVisualSelection(){const i=this.editor.model;i.change((o=>{const d=i.document.selection.getFirstRange();if(i.markers.has(bl))o.updateMarker(bl,{range:d});else if(d.start.isAtEnd){const u=d.start.getLastMatchingPosition((({item:m})=>!i.schema.isContent(m)),{boundaries:d});o.addMarker(bl,{usingOperation:!1,affectsData:!1,range:o.createRange(u,d.end)})}else o.addMarker(bl,{usingOperation:!1,affectsData:!1,range:d})}))}_hideFakeVisualSelection(){const i=this.editor.model;i.markers.has(bl)&&i.change((o=>{o.removeMarker(bl)}))}}function b4(g){return g.getAncestors().find((i=>{return(o=i).is("attributeElement")&&!!o.getCustomProperty("link");var o}))||null}const XR=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class gfe extends at{static get requires(){return[dc,zR]}static get pluginName(){return"AutoLink"}static get isOfficialPlugin(){return!0}init(){const i=this.editor.model.document.selection;i.on("change:range",(()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(i,o){return o.textNode&&o.textNode.hasAttribute("linkHref")?Gk(o,"linkHref",o.textNode.getAttribute("linkHref"),i):null}_selectEntireLinks(i,o){const d=this.editor.model,u=d.document.selection,m=u.getFirstPosition(),y=u.getLastPosition();let v=o.getJoined(this._expandLinkRange(d,m)||o);v&&(v=v.getJoined(this._expandLinkRange(d,y)||o)),v&&(v.start.isBefore(m)||v.end.isAfter(y))&&i.setSelection(v)}_enablePasteLinking(){const i=this.editor,o=i.model,d=o.document.selection,u=i.plugins.get("ClipboardPipeline"),m=i.commands.get("link");u.on("inputTransformation",((y,v)=>{if(!this.isEnabled||!m.isEnabled||d.isCollapsed||v.method!=="paste"||d.rangeCount>1)return;const A=d.getFirstRange(),S=v.dataTransfer.getData("text/plain");if(!S)return;const D=S.match(XR);D&&D[2]===S&&(o.change((N=>{this._selectEntireLinks(N,A),m.execute(S)})),y.stop())}),{priority:"high"})}_enableTypingHandling(){const i=this.editor,o=new a9(i.model,(d=>{let u=d;if(!(function(y){return y.length>4&&y[y.length-1]===" "&&y[y.length-2]!==" "})(u))return;u=u.slice(0,-1),"!.:,;?".includes(u[u.length-1])&&(u=u.slice(0,-1));const m=VR(u);return m?{url:m,removedTrailingCharacters:d.length-u.length}:void 0}));o.on("matched:data",((d,u)=>{const{batch:m,range:y,url:v,removedTrailingCharacters:A}=u;if(!m.isTyping)return;const S=y.end.getShiftedBy(-A),D=S.getShiftedBy(-v.length),N=i.model.createRange(D,S);this._applyAutoLink(v,N)})),o.bind("isEnabled").to(this)}_enableEnterHandling(){const i=this.editor,o=i.model,d=i.commands.get("enter");d&&d.on("execute",(()=>{const u=o.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const m=o.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(m)}))}_enableShiftEnterHandling(){const i=this.editor,o=i.model,d=i.commands.get("shiftEnter");d&&d.on("execute",(()=>{const u=o.document.selection.getFirstPosition(),m=o.createRange(o.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(m)}))}_checkAndApplyAutoLinkOnRange(i){const o=this.editor.model,{text:d,range:u}=s9(i,o),m=VR(d);if(m){const y=o.createRange(u.end.getShiftedBy(-m.length),u.end);this._applyAutoLink(m,y)}}_applyAutoLink(i,o){const d=this.editor.model,u=x4(i,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&(function(m,y){return y.schema.checkAttributeInSelection(y.createSelection(m),"linkHref")})(o,d)&&BR(u)&&!(function(m){const y=m.start.nodeAfter;return!!y&&y.hasAttribute("linkHref")})(o)&&this._persistAutoLink(u,o)}_persistAutoLink(i,o){const d=this.editor.model,u=this.editor.plugins.get("Delete");d.enqueueChange((m=>{m.setAttribute("linkHref",i,o),d.enqueueChange((()=>{u.requestUndoOnBackspace()}))}))}}function VR(g){const i=XR.exec(g);return i?i[2]:null}class pfe extends at{static get requires(){return[zR,ffe,gfe]}static get pluginName(){return"Link"}static get isOfficialPlugin(){return!0}}var Qy=s(4808),Dm={attributes:{"data-cke":!0}};Dm.setAttributes=gt(),Dm.insert=ft().bind(null,"head"),Dm.domAPI=ut(),Dm.insertStyleElement=pt(),ht()(Qy.A,Dm),Qy.A&&Qy.A.locals&&Qy.A.locals;class Ya{constructor(i,o){this._startElement=i,this._referenceIndent=i.getAttribute("listIndent"),this._isForward=o.direction=="forward",this._includeSelf=!!o.includeSelf,this._sameAttributes=An(o.sameAttributes||[]),this._sameIndent=!!o.sameIndent,this._lowerIndent=!!o.lowerIndent,this._higherIndent=!!o.higherIndent}static first(i,o){return Ti(new this(i,o)[Symbol.iterator]())}*[Symbol.iterator](){const i=[];for(const{node:o}of new Qm(this._getStartNode(),this._isForward?"forward":"backward")){const d=o.getAttribute("listIndent");if(d<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=d}else if(d>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){i.push(o);continue}}else{if(!this._sameIndent){if(this._higherIndent){i.length&&(yield*i,i.length=0);break}continue}if(this._sameAttributes.some((u=>o.getAttribute(u)!==this._startElement.getAttribute(u))))break}i.length&&(yield*i,i.length=0),yield o}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}class Qm{constructor(i,o="forward"){this._previousNodesByIndent=[],this._previous=null,this._previousNodeIndent=null,this._node=i,this._isForward=o==="forward"}[Symbol.iterator](){return this}next(){if(!oi(this._node))return{done:!0,value:void 0};const i=this._node.getAttribute("listIndent");let o=null;if(this._previous){const u=this._previousNodeIndent;i>u?this._previousNodesByIndent[u]=this._previous:i<u?(o=this._previousNodesByIndent[i]||null,this._previousNodesByIndent.length=i):o=this._previous}const d={node:this._node,previous:this._previous,previousNodeInList:o};return this._previous=this._node,this._previousNodeIndent=i,this._node=this._isForward?this._node.nextSibling:this._node.previousSibling,{value:d,done:!1}}}class mfe{constructor(i){this._listHead=i}[Symbol.iterator](){return new Qm(this._listHead)}}class $0{static next(){return z()}}function oi(g){return!!g&&g.is("element")&&g.hasAttribute("listItemId")}function k4(g,i={}){return[..._d(g,{...i,direction:"backward"}),..._d(g,{...i,direction:"forward"})]}function _d(g,i={}){const o=i.direction=="forward",d=Array.from(new Ya(g,{...i,includeSelf:o,sameIndent:!0,sameAttributes:"listItemId"}));return o?d:d.reverse()}function UR(g,i){const o=new Ya(g,{sameIndent:!0,sameAttributes:"listType",...i}),d=new Ya(g,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward",...i});return[...Array.from(o).reverse(),...d]}function Uh(g){return!Ya.first(g,{sameIndent:!0,sameAttributes:"listItemId"})}function qR(g){return!Ya.first(g,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function $m(g,i={}){g=An(g);const o=i.withNested!==!1,d=new Set;for(const u of g)for(const m of k4(u,{higherIndent:o}))d.add(m);return qh(d)}function Ofe(g){g=An(g);const i=new Set;for(const o of g)for(const d of UR(o))i.add(d);return qh(i)}function y4(g,i){const o=_d(g,{direction:"forward"}),d=$0.next();for(const u of o)i.setAttribute("listItemId",d,u);return o}function w4(g,i,o){const d={};for(const[m,y]of i.getAttributes())m.startsWith("list")&&(d[m]=y);const u=_d(g,{direction:"forward"});for(const m of u)o.setAttributes(d,m);return u}function v4(g,i,{expand:o,indentBy:d=1}={}){g=An(g);const u=o?$m(g):g;for(const m of u){const y=m.getAttribute("listIndent")+d;y<0?$y(m,i):i.setAttribute("listIndent",y,m)}return u}function $y(g,i){g=An(g);for(const o of g)o.is("element","listItem")&&i.rename(o,"paragraph");for(const o of g)for(const d of o.getAttributeKeys())d.startsWith("list")&&i.removeAttribute(d,o);return g}function Mm(g){if(!g.length)return!1;const i=g[0].getAttribute("listItemId");return!!i&&!g.some((o=>o.getAttribute("listItemId")!=i))}function qh(g){return Array.from(g).filter((i=>i.root.rootName!=="$graveyard")).sort(((i,o)=>i.index-o.index))}function Rm(g){const i=g.document.selection.getSelectedElement();return i&&g.schema.isObject(i)&&g.schema.isBlock(i)?i:null}function _4(g,i){return i.checkChild(g.parent,"listItem")&&i.checkChild(g,"$text")&&!i.isObject(g)}function xfe(g){return g=="numbered"||g=="customNumbered"}function bfe(g,i,o){return _d(i,{direction:"forward"}).pop().index>g.index?w4(g,i,o):[]}class WR extends vr{constructor(i,o){super(i),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model,o=YR(i.document.selection);i.change((d=>{const u=[];Mm(o)&&!Uh(o[0])?(this._direction=="forward"&&u.push(...v4(o,d)),u.push(...y4(o[0],d))):this._direction=="forward"?u.push(...v4(o,d,{expand:!0})):u.push(...(function(m,y){const v=$m(m=An(m)),A=new Set,S=Math.min(...v.map((N=>N.getAttribute("listIndent")))),D=new Map;for(const N of v)D.set(N,Ya.first(N,{lowerIndent:!0}));for(const N of v){if(A.has(N))continue;A.add(N);const L=N.getAttribute("listIndent")-1;if(L<0)$y(N,y);else{if(N.getAttribute("listIndent")==S){const q=bfe(N,D.get(N),y);for(const Y of q)A.add(Y);if(q.length)continue}y.setAttribute("listIndent",L,N)}}return qh(A)})(o,d));for(const m of u){if(!m.hasAttribute("listType"))continue;const y=Ya.first(m,{sameIndent:!0});y&&d.setAttribute("listType",y.getAttribute("listType"),m)}this._fireAfterExecute(u)}))}_fireAfterExecute(i){this.fire("afterExecute",qh(new Set(i)))}_checkEnabled(){let i=YR(this.editor.model.document.selection),o=i[0];if(!o)return!1;if(this._direction=="backward"||Mm(i)&&!Uh(i[0]))return!0;i=$m(i),o=i[0];const d=Ya.first(o,{sameIndent:!0});return!!d&&d.getAttribute("listType")==o.getAttribute("listType")}}function YR(g){const i=Array.from(g.getSelectedBlocks()),o=i.findIndex((d=>!oi(d)));return o!=-1&&(i.length=o),i}class My extends vr{constructor(i,o,d={}){super(i),this.type=o,this._listWalkerOptions=d.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,d=o.document,u=Rm(o),m=Array.from(d.selection.getSelectedBlocks()).filter((v=>o.schema.checkAttribute(v,"listType")||_4(v,o.schema))),y=i.forceValue!==void 0?!i.forceValue:this.value;o.change((v=>{if(y){const A=m[m.length-1],S=_d(A,{direction:"forward"}),D=[];S.length>1&&D.push(...y4(S[1],v)),D.push(...$y(m,v)),D.push(...(function(N,L){const q=[];let Y=Number.POSITIVE_INFINITY;for(const{node:ne}of new Qm(N.nextSibling)){const ue=ne.getAttribute("listIndent");if(ue==0)break;ue<Y&&(Y=ue);const me=ue-Y;L.setAttribute("listIndent",me,ne),q.push(ne)}return q})(A,v)),this._fireAfterExecute(D)}else if((u||d.selection.isCollapsed)&&oi(m[0])){const A=UR(u||m[0],this._listWalkerOptions);for(const S of A)v.setAttributes({...i.additionalAttributes,listType:this.type},S);this._fireAfterExecute(A)}else{const A=[];for(const S of m)if(S.hasAttribute("listType"))for(const D of $m(S,{withNested:!1}))D.getAttribute("listType")!=this.type&&(v.setAttributes({...i.additionalAttributes,listType:this.type},D),A.push(D));else!S.is("element","listItem")&&_4(S,o.schema)&&v.rename(S,"listItem"),v.setAttributes({...i.additionalAttributes,listIndent:0,listItemId:$0.next(),listType:this.type},S),A.push(S);this._fireAfterExecute(A)}}))}_fireAfterExecute(i){this.fire("afterExecute",qh(new Set(i)))}_getValue(){const i=this.editor.model.document.selection,o=Array.from(i.getSelectedBlocks());if(!o.length)return!1;for(const d of o)if(d.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const i=this.editor.model,o=i.schema,d=i.document.selection,u=Array.from(d.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const m of u)if(o.checkAttribute(m,"listType")||_4(m,o))return!0;return!1}}class ZR extends vr{constructor(i,o){super(i),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:i=!1}={}){const o=this.editor.model,d=o.document.selection,u=[];o.change((m=>{const{firstElement:y,lastElement:v}=this._getMergeSubjectElements(d,i),A=y.getAttribute("listIndent")||0,S=v.getAttribute("listIndent"),D=v.getAttribute("listItemId");if(A!=S){const L=(N=v,Array.from(new Ya(N,{direction:"forward",higherIndent:!0})));u.push(...v4([v,...L],m,{indentBy:A-S,expand:A<S}))}var N;if(i){let L=d;d.isCollapsed&&(L=m.createSelection(m.createRange(m.createPositionAt(y,"end"),m.createPositionAt(v,0)))),o.deleteContent(L,{doNotResetEntireContent:d.isCollapsed});const q=L.getLastPosition().parent,Y=q.nextSibling;u.push(q),Y&&Y!==v&&Y.getAttribute("listItemId")==D&&u.push(...w4(Y,q,m))}else u.push(...w4(v,y,m));this._fireAfterExecute(u)}))}_fireAfterExecute(i){this.fire("afterExecute",qh(new Set(i)))}_checkEnabled(){const i=this.editor.model,o=i.document.selection,d=Rm(i);if(o.isCollapsed||d){const u=d||o.getFirstPosition().parent;if(!oi(u))return!1;const m=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!m||Mm([u,m]))return!1}else{const u=o.getLastPosition(),m=o.getFirstPosition();if(u.parent===m.parent||!oi(u.parent))return!1}return!0}_getMergeSubjectElements(i,o){const d=Rm(this.editor.model);let u,m;if(i.isCollapsed||d){const y=d||i.getFirstPosition().parent,v=Uh(y);this._direction=="backward"?(m=y,u=v&&!o?Ya.first(y,{sameIndent:!0,lowerIndent:!0}):y.previousSibling):(u=y,m=y.nextSibling)}else u=i.getFirstPosition().parent,m=i.getLastPosition().parent;return{firstElement:u,lastElement:m}}}class GR extends vr{constructor(i,o){super(i),this._direction=o}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((i=>{const o=y4(this._getStartBlock(),i);this._fireAfterExecute(o)}))}_fireAfterExecute(i){this.fire("afterExecute",qh(new Set(i)))}_checkEnabled(){const i=this.editor.model.document.selection,o=this._getStartBlock();return i.isCollapsed&&oi(o)&&!Uh(o)}_getStartBlock(){const i=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?i:i.nextSibling}}class kfe extends at{static get pluginName(){return"ListUtils"}static get isOfficialPlugin(){return!0}expandListBlocksToCompleteList(i){return Ofe(i)}isFirstBlockOfListItem(i){return Uh(i)}isListItemBlock(i){return oi(i)}expandListBlocksToCompleteItems(i,o={}){return $m(i,o)}isNumberedListType(i){return xfe(i)}}function yfe(g){return g.is("element","ol")||g.is("element","ul")}function C4(g){return g.is("element","li")}function wfe(g,i,o,d=KR(o,i)){return g.createAttributeElement(HR(o),null,{priority:2*i/100-100,id:d})}function vfe(g,i,o){return g.createAttributeElement("li",null,{priority:(2*i+1)/100-100,id:o})}function HR(g){return g=="numbered"||g=="customNumbered"?"ol":"ul"}function KR(g,i){return`list-${g}-${i}`}function Ro(g,i,o){const d=g.nodeBefore;if(oi(d)){let u=d;for(const{node:m}of new Qm(u,"backward"))if(u=m,o.has(u)||(o.add(u),i.has(d)))return;i.add(u)}else{const u=g.nodeAfter;oi(u)&&i.add(u)}}function _fe(){return(g,i,o)=>{const{writer:d,schema:u}=o;if(!i.modelRange)return;const m=Array.from(i.modelRange.getItems({shallow:!0})).filter((N=>u.checkAttribute(N,"listItemId")));if(!m.length)return;const y=$0.next(),v=(function(N){let L=0,q=N.parent;for(;q;){if(C4(q))L++;else{const Y=q.previousSibling;Y&&C4(Y)&&L++}q=q.parent}return L})(i.viewItem);let A=i.viewItem.parent&&i.viewItem.parent.is("element","ol")?"numbered":"bulleted";const S=m[0].getAttribute("listType");S&&(A=S);const D={listItemId:y,listIndent:v,listType:A};for(const N of m)N.hasAttribute("listItemId")||d.setAttributes(D,N);m.length>1&&m[1].getAttribute("listItemId")!=D.listItemId&&o.keepEmptyElement(m[0])}}function JR(g,i,o,{dataPipeline:d}={}){const u=(function(m){return(y,v)=>{const A=[];for(const S of m)y.hasAttribute(S)&&A.push(`attribute:${S}`);return!!A.every((S=>v.test(y,S)!==!1))&&(A.forEach((S=>v.consume(y,S))),!0)}})(g);return(m,y,v)=>{const{writer:A,mapper:S,consumable:D}=v,N=y.item;if(!g.includes(y.attributeKey)||!u(N,D))return;const L=(function(Y,ne,ue){const me=ue.createRangeOn(Y);return ne.toViewRange(me).getTrimmed().end.nodeBefore})(N,S,o);tN(L,A,S),(function(Y,ne){let ue=Y.parent;for(;ue.is("attributeElement")&&["ul","ol","li"].includes(ue.name);){const me=ue.parent;ne.unwrap(ne.createRangeOn(Y),ue),ue=me}})(L,A);const q=(function(Y,ne,ue,me,{dataPipeline:Ae}){let Me=me.createRangeOn(ne);if(!Uh(Y))return Me;for(const Ue of ue){if(Ue.scope!="itemMarker")continue;const qe=Ue.createElement(me,Y,{dataPipeline:Ae});if(!qe||(me.setCustomProperty("listItemMarker",!0,qe),Ue.canInjectMarkerIntoElement&&Ue.canInjectMarkerIntoElement(Y)?me.insert(me.createPositionAt(ne,0),qe):(me.insert(Me.start,qe),Me=me.createRange(me.createPositionBefore(qe),me.createPositionAfter(ne))),!Ue.createWrapperElement||!Ue.canWrapElement))continue;const Bt=Ue.createWrapperElement(me,Y,{dataPipeline:Ae});me.setCustomProperty("listItemWrapper",!0,Bt),Ue.canWrapElement(Y)?Me=me.wrap(Me,Bt):(Me=me.wrap(me.createRangeOn(qe),Bt),Me=me.createRange(Me.start,me.createPositionAfter(ne)))}return Me})(N,L,i,A,{dataPipeline:d});(function(Y,ne,ue,me){if(!Y.hasAttribute("listIndent"))return;const Ae=Y.getAttribute("listIndent");let Me=Y;for(let Ue=Ae;Ue>=0;Ue--){const qe=vfe(me,Ue,Me.getAttribute("listItemId")),Bt=wfe(me,Ue,Me.getAttribute("listType"));for(const Ut of ue)Ut.scope!="list"&&Ut.scope!="item"||!Me.hasAttribute(Ut.attributeName)||Ut.setAttributeOnDowncast(me,Me.getAttribute(Ut.attributeName),Ut.scope=="list"?Bt:qe);if(ne=me.wrap(ne,qe),ne=me.wrap(ne,Bt),Ue==0||(Me=Ya.first(Me,{lowerIndent:!0}),!Me))break}})(N,q,i,A)}}function eN(g,{dataPipeline:i}={}){return(o,{writer:d})=>{if(!rN(o,g))return null;if(!i)return d.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=d.createContainerElement("p");return d.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function tN(g,i,o){for(;g.parent.is("attributeElement")&&g.parent.getCustomProperty("listItemWrapper");)i.unwrap(i.createRangeOn(g),g.parent);const d=[];u(i.createPositionBefore(g).getWalker({direction:"backward"})),u(i.createRangeIn(g).getWalker());for(const m of d)i.remove(m);function u(m){for(const{item:y}of m){if(y.is("element")&&o.toModelElement(y))break;y.is("element")&&y.getCustomProperty("listItemMarker")&&d.push(y)}}}function rN(g,i,o=k4(g)){if(!oi(g))return!1;for(const d of g.getAttributeKeys())if(!d.startsWith("selection:")&&d!="htmlEmptyBlock"&&!i.includes(d))return!1;return o.length<2}var Ry=s(1232),Nm={attributes:{"data-cke":!0}};Nm.setAttributes=gt(),Nm.insert=ft().bind(null,"head"),Nm.domAPI=ut(),Nm.insertStyleElement=pt(),ht()(Ry.A,Nm),Ry.A&&Ry.A.locals&&Ry.A.locals;var Ny=s(6903),Bm={attributes:{"data-cke":!0}};Bm.setAttributes=gt(),Bm.insert=ft().bind(null,"head"),Bm.domAPI=ut(),Bm.insertStyleElement=pt(),ht()(Ny.A,Bm),Ny.A&&Ny.A.locals&&Ny.A.locals;const By=["listType","listIndent","listItemId"];class Cfe extends at{constructor(i){super(i),this._downcastStrategies=[],i.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[Hk,dc,kfe,Ua]}init(){const i=this.editor,o=i.model,d=i.config.get("list.multiBlock");if(i.plugins.has("LegacyListEditing"))throw new F("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});o.schema.register("$listItem",{allowAttributes:By}),d?(o.schema.extend("$container",{allowAttributesOf:"$listItem"}),o.schema.extend("$block",{allowAttributesOf:"$listItem"}),o.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):o.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of By)o.schema.setAttributeProperties(u,{copyOnReplace:!0});i.commands.add("numberedList",new My(i,"numbered")),i.commands.add("bulletedList",new My(i,"bulleted")),i.commands.add("customNumberedList",new My(i,"customNumbered",{multiLevel:!0})),i.commands.add("customBulletedList",new My(i,"customBulleted",{multiLevel:!0})),i.commands.add("indentList",new WR(i,"forward")),i.commands.add("outdentList",new WR(i,"backward")),i.commands.add("splitListItemBefore",new GR(i,"before")),i.commands.add("splitListItemAfter",new GR(i,"after")),d&&(i.commands.add("mergeListItemBackward",new ZR(i,"backward")),i.commands.add("mergeListItemForward",new ZR(i,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const i=this.editor.commands,o=i.get("indent"),d=i.get("outdent");o&&o.registerChildCommand(i.get("indentList"),{priority:"high"}),d&&d.registerChildCommand(i.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(i){this._downcastStrategies.push(i)}getListAttributeNames(){return[...By,...this._downcastStrategies.map((i=>i.attributeName))]}_setupDeleteIntegration(){const i=this.editor,o=i.commands.get("mergeListItemBackward"),d=i.commands.get("mergeListItemForward");this.listenTo(i.editing.view.document,"delete",((u,m)=>{const y=i.model.document.selection;Rm(i.model)||i.model.change((()=>{const v=y.getFirstPosition();if(y.isCollapsed&&m.direction=="backward"){if(!v.isAtStart)return;const A=v.parent;if(!oi(A))return;if(Ya.first(A,{sameAttributes:"listType",sameIndent:!0})||A.getAttribute("listIndent")!==0){if(!o||!o.isEnabled)return;o.execute({shouldMergeOnBlocksContentLevel:nN(i.model,"backward")})}else qR(A)||i.execute("splitListItemAfter"),i.execute("outdentList");m.preventDefault(),u.stop()}else{if(y.isCollapsed&&!y.getLastPosition().isAtEnd||!d||!d.isEnabled)return;d.execute({shouldMergeOnBlocksContentLevel:nN(i.model,"forward")}),m.preventDefault(),u.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const i=this.editor,o=i.model,d=i.commands,u=d.get("enter");this.listenTo(i.editing.view.document,"enter",((m,y)=>{const v=o.document,A=v.selection.getFirstPosition().parent;if(v.selection.isCollapsed&&oi(A)&&A.isEmpty&&!y.isSoft){const S=Uh(A),D=qR(A);S&&D?(i.execute("outdentList"),y.preventDefault(),m.stop()):S&&!D?(i.execute("splitListItemAfter"),y.preventDefault(),m.stop()):D&&(i.execute("splitListItemBefore"),y.preventDefault(),m.stop())}}),{context:"li"}),this.listenTo(u,"afterExecute",(()=>{const m=d.get("splitListItemBefore");m.refresh(),m.isEnabled&&k4(i.model.document.selection.getLastPosition().parent).length===2&&m.execute()}))}_setupTabIntegration(){const i=this.editor;this.listenTo(i.editing.view.document,"tab",((o,d)=>{const u=d.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(i.execute(u),d.stopPropagation(),d.preventDefault(),o.stop())}),{context:"li"})}_setupConversion(){const i=this.editor,o=i.model,d=this.getListAttributeNames(),u=i.config.get("list.multiBlock"),m=u?"paragraph":"listItem";i.conversion.for("upcast").elementToElement({view:"li",model:(S,{writer:D})=>D.createElement(m,{listType:""})}).elementToElement({view:"p",model:(S,{writer:D})=>S.parent&&S.parent.is("element","li")?D.createElement(m,{listType:""}):null,converterPriority:"high"}).add((S=>{S.on("element:li",_fe())})),u||i.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),i.conversion.for("editingDowncast").elementToElement({model:m,view:eN(d),converterPriority:"high"}).add((S=>{var D;S.on("attribute",JR(d,this._downcastStrategies,o)),S.on("remove",(D=o.schema,(N,L,q)=>{const{writer:Y,mapper:ne}=q,ue=N.name.split(":")[1];if(!D.checkAttribute(ue,"listItemId"))return;const me=ne.toViewPosition(L.position),Ae=L.position.getShiftedBy(L.length),Me=ne.toViewPosition(Ae,{isPhantom:!0}),Ue=Y.createRange(me,Me).getTrimmed().end.nodeBefore;Ue&&tN(Ue,Y,ne)}))})),i.conversion.for("dataDowncast").elementToElement({model:m,view:eN(d,{dataPipeline:!0}),converterPriority:"high"}).add((S=>{S.on("attribute",JR(d,this._downcastStrategies,o,{dataPipeline:!0}))}));const y=(v=this._downcastStrategies,A=i.editing.view,(S,D)=>{if(D.modelPosition.offset>0)return;const N=D.modelPosition.parent;if(!oi(N)||!v.some((ue=>ue.scope=="itemMarker"&&ue.canInjectMarkerIntoElement&&ue.canInjectMarkerIntoElement(N))))return;const L=D.mapper.toViewElement(N),q=A.createRangeIn(L),Y=q.getWalker();let ne=q.start;for(const{item:ue}of Y){if(ue.is("element")&&D.mapper.toModelElement(ue)||ue.is("$textProxy"))break;ue.is("element")&&ue.getCustomProperty("listItemMarker")&&(ne=A.createPositionAfter(ue),Y.skip((({previousPosition:me})=>!me.isEqual(ne))))}D.viewPosition=ne});var v,A;i.editing.mapper.on("modelToViewPosition",y),i.data.mapper.on("modelToViewPosition",y),this.listenTo(o.document,"change:data",(function(S,D,N,L){return()=>{const ue=S.document.differ.getChanges(),me=[],Ae=new Set,Me=new Set,Ue=new Set;for(const qe of ue)if(qe.type=="insert"&&qe.name!="$text")Ro(qe.position,Ae,Ue),qe.attributes.has("listItemId")?Me.add(qe.position.nodeAfter):Ro(qe.position.getShiftedBy(qe.length),Ae,Ue);else if(qe.type=="remove"&&qe.attributes.has("listItemId"))Ro(qe.position,Ae,Ue);else if(qe.type=="attribute"){const Bt=qe.range.start.nodeAfter;N.includes(qe.attributeKey)?(Ro(qe.range.start,Ae,Ue),qe.attributeNewValue===null?(Ro(qe.range.start.getShiftedBy(1),Ae,Ue),Y(Bt)&&me.push(Bt)):Me.add(Bt)):oi(Bt)&&Y(Bt)&&me.push(Bt)}for(const qe of Ae.values())me.push(...q(qe,Me));for(const qe of new Set(me))D.reconvertItem(qe)};function q(ue,me){const Ae=[],Me=new Set,Ue=[];for(const{node:qe,previous:Bt}of new Qm(ue)){if(Me.has(qe))continue;const Ut=qe.getAttribute("listIndent");Bt&&Ut<Bt.getAttribute("listIndent")&&(Ue.length=Ut+1),Ue[Ut]=Object.fromEntries(Array.from(qe.getAttributes()).filter((([xn])=>N.includes(xn))));const Xr=_d(qe,{direction:"forward"});for(const xn of Xr)Me.add(xn),(Y(xn,Xr)||ne(xn,Ue,me))&&Ae.push(xn)}return Ae}function Y(ue,me){const Ae=D.mapper.toViewElement(ue);if(!Ae)return!1;if(L.fire("checkElement",{modelElement:ue,viewElement:Ae}))return!0;if(!ue.is("element","paragraph")&&!ue.is("element","listItem"))return!1;const Me=rN(ue,N,me);return!(!Me||!Ae.is("element","p"))||!(Me||!Ae.is("element","span"))}function ne(ue,me,Ae){if(Ae.has(ue))return!1;const Me=D.mapper.toViewElement(ue);let Ue=me.length-1;for(let qe=Me.parent;!qe.is("editableElement");qe=qe.parent){const Bt=C4(qe),Ut=yfe(qe);if(!Ut&&!Bt)continue;const Xr="checkAttributes:"+(Bt?"item":"list");if(L.fire(Xr,{viewElement:qe,modelAttributes:me[Ue]}))break;if(Ut&&(Ue--,Ue<0))return!1}return!0}})(o,i.editing,d,this),{priority:"high"}),this.on("checkAttributes:item",((S,{viewElement:D,modelAttributes:N})=>{D.id!=N.listItemId&&(S.return=!0,S.stop())})),this.on("checkAttributes:list",((S,{viewElement:D,modelAttributes:N})=>{D.name==HR(N.listType)&&D.id==KR(N.listType,N.listIndent)||(S.return=!0,S.stop())}))}_setupModelPostFixing(){const i=this.editor.model,o=this.getListAttributeNames();i.document.registerPostFixer((d=>(function(u,m,y,v){const A=u.document.differ.getChanges(),S=new Set,D=new Set,N=v.editor.config.get("list.multiBlock");let L=!1;for(const Y of A){if(Y.type=="insert"&&Y.name!="$text"){const ne=Y.position.nodeAfter;if(!u.schema.checkAttribute(ne,"listItemId"))for(const ue of Array.from(ne.getAttributeKeys()))y.includes(ue)&&(m.removeAttribute(ue,ne),L=!0);Ro(Y.position,D,S),Y.attributes.has("listItemId")||Ro(Y.position.getShiftedBy(Y.length),D,S);for(const{item:ue,previousPosition:me}of u.createRangeIn(ne))oi(ue)&&Ro(me,D,S)}else Y.type=="remove"?Ro(Y.position,D,S):Y.type=="attribute"&&y.includes(Y.attributeKey)&&(Ro(Y.range.start,D,S),Y.attributeNewValue===null&&Ro(Y.range.start.getShiftedBy(1),D,S));if(!N&&Y.type=="attribute"&&By.includes(Y.attributeKey)){const ne=Y.range.start.nodeAfter;Y.attributeNewValue===null&&ne&&ne.is("element","listItem")?(m.rename(ne,"paragraph"),L=!0):Y.attributeOldValue===null&&ne&&ne.is("element")&&ne.name!="listItem"&&(m.rename(ne,"listItem"),L=!0)}}const q=new Set;for(const Y of D.values())L=v.fire("postFixer",{listNodes:new mfe(Y),listHead:Y,writer:m,seenIds:q})||L;return L})(i,d,o,this))),this.on("postFixer",((d,{listNodes:u,writer:m})=>{d.return=(function(y,v){let A=0,S=-1,D=null,N=!1;for(const{node:L}of y){const q=L.getAttribute("listIndent");if(q>A){let Y;D===null?(D=q-A,Y=A):(D>q&&(D=q),Y=q-D),Y>S+1&&(Y=S+1),v.setAttribute("listIndent",Y,L),N=!0,S=Y}else D=null,A=q+1,S=q}return N})(u,m)||d.return}),{priority:"high"}),this.on("postFixer",((d,{listNodes:u,writer:m,seenIds:y})=>{d.return=(function(v,A,S){const D=new Set;let N=!1;for(const{node:L}of v){if(D.has(L))continue;let q=L.getAttribute("listType"),Y=L.getAttribute("listItemId");if(A.has(Y)&&(Y=$0.next()),A.add(Y),L.is("element","listItem"))L.getAttribute("listItemId")!=Y&&(S.setAttribute("listItemId",Y,L),N=!0);else for(const ne of _d(L,{direction:"forward"}))D.add(ne),ne.getAttribute("listType")!=q&&(Y=$0.next(),q=ne.getAttribute("listType")),ne.getAttribute("listItemId")!=Y&&(S.setAttribute("listItemId",Y,ne),N=!0)}return N})(u,y,m)||d.return}),{priority:"high"})}_setupClipboardIntegration(){const i=this.editor.model,o=this.editor.plugins.get("ClipboardPipeline");this.listenTo(i,"insertContent",(function(d){return(u,[m,y])=>{const v=m.is("documentFragment")?Array.from(m.getChildren()):[m];if(!v.length)return;const A=(y?d.createSelection(y):d.document.selection).getFirstPosition();let S;if(oi(A.parent))S=A.parent;else{if(!oi(A.nodeBefore)||!oi(A.nodeAfter))return;S=A.nodeBefore}d.change((D=>{const N=S.getAttribute("listType"),L=S.getAttribute("listIndent"),q=v[0].getAttribute("listIndent")||0,Y=Math.max(L-q,0);for(const ne of v){const ue=oi(ne);S.is("element","listItem")&&ne.is("element","paragraph")&&D.rename(ne,"listItem"),D.setAttributes({listIndent:(ue?ne.getAttribute("listIndent"):0)+Y,listItemId:ue?ne.getAttribute("listItemId"):$0.next(),listType:N},ne)}}))}})(i),{priority:"high"}),this.listenTo(o,"outputTransformation",((d,u)=>{i.change((m=>{const y=Array.from(u.content.getChildren()),v=y[y.length-1];if(y.length>1&&v.is("element")&&v.isEmpty&&y.slice(0,-1).every(oi)&&m.remove(v),u.method=="copy"||u.method=="cut"){const A=Array.from(u.content.getChildren());Mm(A)&&$y(A,m)}}))}))}_setupAccessibilityIntegration(){const i=this.editor,o=i.t;i.accessibility.addKeystrokeInfoGroup({id:"list",label:o("Keystrokes that can be used in a list"),keystrokes:[{label:o("Increase list item indent"),keystroke:"Tab"},{label:o("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function nN(g,i){const o=g.document.selection;if(!o.isCollapsed)return!Rm(g);if(i==="forward")return!0;const d=o.getFirstPosition().parent,u=d.previousSibling;return!g.schema.isObject(u)&&(!!u.isEmpty||Mm([d,u]))}function iN(g,i,o,d){g.ui.componentFactory.add(i,(()=>{const u=sN(Er,g,i,o,d);return u.set({tooltip:!0,isToggleable:!0}),u})),g.ui.componentFactory.add(`menuBar:${i}`,(()=>{const u=sN(Ui,g,i,o,d);return u.set({role:"menuitemcheckbox",isToggleable:!0}),u}))}function sN(g,i,o,d,u){const m=i.commands.get(o),y=new g(i.locale);return y.set({label:d,icon:u}),y.bind("isOn","isEnabled").to(m,"value","isEnabled"),y.on("execute",(()=>{i.execute(o),i.editing.view.focus()})),y}class Afe extends at{static get pluginName(){return"ListUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||iN(this.editor,"numberedList",i("Numbered List"),$t.numberedList),this.editor.ui.componentFactory.has("bulletedList")||iN(this.editor,"bulletedList",i("Bulleted List"),$t.bulletedList)}}class Sfe extends at{static get requires(){return[Cfe,Afe]}static get pluginName(){return"List"}static get isOfficialPlugin(){return!0}}const Tfe=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:g,typeAttribute:i,listType:o}of Tfe);var Iy=s(9968),Im={attributes:{"data-cke":!0}};Im.setAttributes=gt(),Im.insert=ft().bind(null,"head"),Im.domAPI=ut(),Im.insertStyleElement=pt(),ht()(Iy.A,Im),Iy.A&&Iy.A.locals&&Iy.A.locals;var jy=s(7141),jm={attributes:{"data-cke":!0}};jm.setAttributes=gt(),jm.insert=ft().bind(null,"head"),jm.domAPI=ut(),jm.insertStyleElement=pt(),ht()(jy.A,jm),jy.A&&jy.A.locals&&jy.A.locals;var Fy=s(8991),Fm={attributes:{"data-cke":!0}};Fm.setAttributes=gt(),Fm.insert=ft().bind(null,"head"),Fm.domAPI=ut(),Fm.insertStyleElement=pt(),ht()(Fy.A,Fm),Fy.A&&Fy.A.locals&&Fy.A.locals;function aN(g,i){const o=(d,u,m)=>{if(!m.consumable.consume(u.item,d.name))return;const y=u.attributeNewValue,v=m.writer,A=m.mapper.toViewElement(u.item),S=[...A.getChildren()].find((N=>N.getCustomProperty("media-content")));v.remove(S);const D=g.getMediaViewElement(v,y,i);v.insert(v.createPositionAt(A,0),D)};return d=>{d.on("attribute:url:media",o)}}function oN(g,i,o,d){return g.createContainerElement("figure",{class:"media"},[i.getMediaViewElement(g,o,d),g.createSlot()])}function lN(g){const i=g.getSelectedElement();return i&&i.is("element","media")?i:null}function cN(g,i,o,d){g.change((u=>{const m=u.createElement("media",{url:i});g.insertObject(m,o,null,{setSelection:"on",findOptimalPosition:d?"auto":void 0})}))}class Efe extends vr{refresh(){const i=this.editor.model,o=i.document.selection,d=lN(o);this.value=d?d.getAttribute("url"):void 0,this.isEnabled=(function(u){const m=u.getSelectedElement();return!!m&&m.name==="media"})(o)||(function(u,m){let v=b9(u,m).start.parent;return v.isEmpty&&!m.schema.isLimit(v)&&(v=v.parent),m.schema.checkChild(v,"media")})(o,i)}execute(i){const o=this.editor.model,d=o.document.selection,u=lN(d);u?o.change((m=>{m.setAttribute("url",i,u)})):cN(o,i,d,!0)}}class Pfe{constructor(i,o){const d=o.providers,u=o.extraProviders||[],m=new Set(o.removeProviders),y=d.concat(u).filter((v=>{const A=v.name;return A?!m.has(A):(V("media-embed-no-provider-name",{provider:v}),!1)}));this.locale=i,this.providerDefinitions=y}hasMedia(i){return!!this._getMedia(i)}getMediaViewElement(i,o,d){return this._getMedia(o).getViewElement(i,d)}_getMedia(i){if(!i)return new dN(this.locale);i=i.trim();for(const o of this.providerDefinitions){const d=o.html,u=An(o.url);for(const m of u){const y=this._getUrlMatches(i,m);if(y)return new dN(this.locale,i,y,d)}}return null}_getUrlMatches(i,o){let d=i.match(o);if(d)return d;let u=i.replace(/^https?:\/\//,"");return d=u.match(o),d||(u=u.replace(/^www\./,""),d=u.match(o),d||null)}}class dN{constructor(i,o,d,u){this.url=this._getValidUrl(o),this._locale=i,this._match=d,this._previewRenderer=u}getViewElement(i,o){const d={};let u;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(d["data-oembed-url"]=this.url),o.renderForEditingView&&(d.class="ck-media__wrapper");const m=this._getPreviewHtml(o);u=i.createRawElement("div",d,((y,v)=>{v.setContentOf(y,m)}))}else this.url&&(d.url=this.url),u=i.createEmptyElement(o.elementName,d);return i.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(i){return this._previewRenderer?this._previewRenderer(this._match):this.url&&i.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const i=new Va,o=this._locale.t;return i.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',i.viewBox="0 0 64 42",new Ao({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[i]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(i){return i?i.match(/^https?/)?i:"https://"+i:null}}var Ly=s(7048),Lm={attributes:{"data-cke":!0}};Lm.setAttributes=gt(),Lm.insert=ft().bind(null,"head"),Lm.domAPI=ut(),Lm.insertStyleElement=pt(),ht()(Ly.A,Lm),Ly.A&&Ly.A.locals&&Ly.A.locals;class zy extends at{static get pluginName(){return"MediaEmbedEditing"}static get isOfficialPlugin(){return!0}constructor(i){super(i),i.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/shorts\/([\w-]+)(?:\?t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const d=o[1],u=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${d}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:[/^instagram\.com\/p\/(\w+)/,/^instagram\.com\/reel\/(\w+)/]},{name:"twitter",url:[/^twitter\.com/,/^x\.com/]},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Pfe(i.locale,i.config.get("mediaEmbed"))}init(){const i=this.editor,o=i.model.schema,d=i.t,u=i.conversion,m=i.config.get("mediaEmbed.previewsInData"),y=i.config.get("mediaEmbed.elementName"),v=this.registry;i.commands.add("mediaEmbed",new Efe(i)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const D=A.getAttribute("url");return oN(S,v,D,{elementName:y,renderMediaPreview:!!D&&m})}}),u.for("dataDowncast").add(aN(v,{elementName:y,renderMediaPreview:m})),u.for("editingDowncast").elementToStructure({model:"media",view:(A,{writer:S})=>{const D=A.getAttribute("url");return(function(N,L,q){return L.setCustomProperty("media",!0,N),n4(N,L,{label:q})})(oN(S,v,D,{elementName:y,renderForEditingView:!0}),S,d("media widget"))}}),u.for("editingDowncast").add(aN(v,{elementName:y,renderForEditingView:!0})),u.for("upcast").elementToElement({view:A=>["oembed",y].includes(A.name)&&A.getAttribute("url")?{name:!0}:null,model:(A,{writer:S})=>{const D=A.getAttribute("url");return v.hasMedia(D)?S.createElement("media",{url:D}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(A,{writer:S})=>{const D=A.getAttribute("data-oembed-url");return v.hasMedia(D)?S.createElement("media",{url:D}):null}}).add((A=>{A.on("element:figure",((S,D,N)=>{if(!N.consumable.consume(D.viewItem,{name:!0,classes:"media"}))return;const{modelRange:L,modelCursor:q}=N.convertChildren(D.viewItem,D.modelCursor);D.modelRange=L,D.modelCursor=q,Ti(L.getItems())||N.consumable.revert(D.viewItem,{name:!0,classes:"media"})}))}))}}const Dfe=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Qfe extends at{static get requires(){return[Q9,dc,R9]}static get pluginName(){return"AutoMediaEmbed"}static get isOfficialPlugin(){return!0}constructor(i){super(i),this._timeoutId=null,this._positionToInsert=null}init(){const i=this.editor,o=i.model.document,d=i.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(()=>{const u=o.selection.getFirstRange(),m=Vi.fromPosition(u.start);m.stickiness="toPrevious";const y=Vi.fromPosition(u.end);y.stickiness="toNext",o.once("change:data",(()=>{this._embedMediaBetweenPositions(m,y),m.detach(),y.detach()}),{priority:"high"})})),i.commands.get("undo").on("execute",(()=>{this._timeoutId&&(c.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(i,o){const d=this.editor,u=d.plugins.get(zy).registry,m=new ta(i,o),y=m.getWalker({ignoreElementEnd:!0});let v="";for(const A of y)A.item.is("$textProxy")&&(v+=A.item.data);if(v=v.trim(),!v.match(Dfe)||!u.hasMedia(v))return void m.detach();d.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Vi.fromPosition(i),this._timeoutId=c.window.setTimeout((()=>{d.model.change((A=>{this._timeoutId=null,A.remove(m),m.detach();let S=null;this._positionToInsert.root.rootName!=="$graveyard"&&(S=this._positionToInsert),cN(d.model,v,S,!1),this._positionToInsert.detach(),this._positionToInsert=null})),d.plugins.get(dc).requestUndoOnBackspace()}),100)):m.detach()}}var Xy=s(5651),zm={attributes:{"data-cke":!0}};zm.setAttributes=gt(),zm.insert=ft().bind(null,"head"),zm.domAPI=ut(),zm.insertStyleElement=pt(),ht()(Xy.A,zm),Xy.A&&Xy.A.locals&&Xy.A.locals;class $fe extends Vt{constructor(i,o){super(o),this.focusTracker=new si,this.keystrokes=new as,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this._validators=i,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView]})}render(){super.render(),yb({view:this}),this.focusTracker.add(this.urlInputView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.urlInputView.focus()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(i){this.urlInputView.fieldView.value=i.trim()}isValid(){this.resetFormStatus();for(const i of this._validators){const o=i(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const i=this.locale.t,o=new sk(this.locale,_k),d=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,d.inputMode="url",d.on("input",(()=>{o.infoText=d.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=d.element.value.trim()})),o}}class Mfe extends at{static get requires(){return[zy,$o]}static get pluginName(){return"MediaEmbedUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor;i.ui.componentFactory.add("mediaEmbed",(()=>{const o=this.editor.locale.t,d=this._createDialogButton(Er);return d.tooltip=!0,d.label=o("Insert media"),d})),i.ui.componentFactory.add("menuBar:mediaEmbed",(()=>{const o=this.editor.locale.t,d=this._createDialogButton(Ui);return d.label=o("Media"),d}))}_createDialogButton(i){const o=this.editor,d=new i(o.locale),u=o.commands.get("mediaEmbed"),m=this.editor.plugins.get("Dialog");return d.icon='<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',d.bind("isEnabled").to(u,"isEnabled"),d.on("execute",(()=>{m.id==="mediaEmbed"?m.hide():this._showDialog()})),d}_showDialog(){const i=this.editor,o=i.plugins.get("Dialog"),d=i.commands.get("mediaEmbed"),u=i.locale.t;if(!this._formView){const m=i.plugins.get(zy).registry;this._formView=new(iS($fe))((function(y,v){return[A=>{if(!A.url.length)return y("The URL must not be empty.")},A=>{if(!v.hasMedia(A.url))return y("This media URL is not supported.")}]})(i.t,m),i.locale),this._formView.on("submit",(()=>this._handleSubmitForm()))}o.show({id:"mediaEmbed",title:u("Insert media"),content:this._formView,isModal:!0,onShow:()=>{this._formView.url=d.value||"",this._formView.resetFormStatus(),this._formView.urlInputView.fieldView.select()},actionButtons:[{label:u("Cancel"),withText:!0,onExecute:()=>o.hide()},{label:u("Accept"),class:"ck-button-action",withText:!0,onExecute:()=>this._handleSubmitForm()}]})}_handleSubmitForm(){const i=this.editor,o=i.plugins.get("Dialog");this._formView.isValid()&&(i.execute("mediaEmbed",this._formView.url),o.hide(),i.editing.view.focus())}}var Vy=s(70),Xm={attributes:{"data-cke":!0}};Xm.setAttributes=gt(),Xm.insert=ft().bind(null,"head"),Xm.domAPI=ut(),Xm.insertStyleElement=pt(),ht()(Vy.A,Xm),Vy.A&&Vy.A.locals&&Vy.A.locals;class Rfe extends at{static get requires(){return[zy,Mfe,Qfe,lm]}static get pluginName(){return"MediaEmbed"}static get isOfficialPlugin(){return!0}}function hN(g){return g!==void 0&&g.endsWith("px")}function M0(g){return g.toFixed(2).replace(/\.?0+$/,"")+"px"}function Nfe(g,i,o){if(!g.childCount)return;const d=new lc(g.document),u=(function(v,A){const S=A.createRangeIn(v),D=[],N=new Set;for(const L of S.getItems()){if(!L.is("element")||!L.name.match(/^(p|h\d+|li|div)$/))continue;let q=Vfe(L);if(q===void 0||parseFloat(q)!=0||Array.from(L.getClassNames()).find((Y=>Y.startsWith("MsoList")))||(q=void 0),L.hasStyle("mso-list")||q!==void 0&&N.has(q)){const Y=zfe(L);D.push({element:L,id:Y.id,order:Y.order,indent:Y.indent,marginLeft:q}),q!==void 0&&N.add(q)}else N.clear()}return D})(g,d);if(!u.length)return;const m={},y=[];for(const v of u)if(v.indent!==void 0){Bfe(v)||(y.length=0);const A=`${v.id}:${v.indent}`,S=Math.min(v.indent-1,y.length);if(S<y.length&&y[S].id!==v.id&&(y.length=S),S<y.length-1)y.length=S+1;else{const N=jfe(v,i);if(S>y.length-1||y[S].listElement.name!=N.type){S==0&&N.type=="ol"&&v.id!==void 0&&m[A]&&(N.startIndex=m[A]);const L=Lfe(N,d,o);if(hN(v.marginLeft)&&(S==0||hN(y[S-1].marginLeft))){let q=v.marginLeft;S>0&&(q=M0(parseFloat(q)-parseFloat(y[S-1].marginLeft))),d.setStyle("padding-left",q,L)}if(y.length==0){const q=v.element.parent,Y=q.getChildIndex(v.element)+1;d.insertChild(Y,L,q)}else{const q=y[S-1].listItemElements;d.appendChild(L,q[q.length-1])}y[S]={...v,listElement:L,listItemElements:[]},S==0&&v.id!==void 0&&(m[A]=N.startIndex||1)}}const D=v.element.name=="li"?v.element:d.createElement("li");d.appendChild(D,y[S].listElement),y[S].listItemElements.push(D),S==0&&v.id!==void 0&&m[A]++,v.element!=D&&d.appendChild(v.element,D),Xfe(v.element,d),d.removeStyle("text-indent",v.element),d.removeStyle("margin-left",v.element)}else{const A=y.find((S=>S.marginLeft==v.marginLeft));if(A){const S=A.listItemElements;d.appendChild(v.element,S[S.length-1]),d.removeStyle("margin-left",v.element)}else y.length=0}}function Bfe(g){const i=g.element.previousSibling;return Ife(i||g.element.parent)}function Ife(g){return g.is("element","ol")||g.is("element","ul")}function jfe(g,i){const o=new RegExp(`@list l${g.id}:level${g.indent}\\s*({[^}]*)`,"gi"),d=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,m=new RegExp(`@list\\s+l${g.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),y=new RegExp(`@list l${g.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),v=m.exec(i),A=y.exec(i),S=v&&!A,D=o.exec(i);let N="decimal",L="ol",q=null;if(D&&D[1]){const Y=d.exec(D[1]);if(Y&&Y[1]&&(N=Y[1].trim(),L=N!=="bullet"&&N!=="image"?"ol":"ul"),N==="bullet"){const ne=(function(ue){if(ue.name=="li"&&ue.parent.name=="ul"&&ue.parent.hasAttribute("type"))return ue.parent.getAttribute("type");const me=(function(Me){if(Me.getChild(0).is("$text"))return null;for(const Ue of Me.getChildren()){if(!Ue.is("element","span"))continue;const qe=Ue.getChild(0);if(qe)return qe.is("$text")?qe:qe.getChild(0)}return null})(ue);if(!me)return null;const Ae=me._data;return Ae==="o"?"circle":Ae===""?"disc":Ae===""?"square":null})(g.element);ne&&(N=ne)}else{const ne=u.exec(D[1]);ne&&ne[1]&&(q=parseInt(ne[1]))}S&&(L="ol")}return{type:L,startIndex:q,style:Ffe(N),isLegalStyleList:S}}function Ffe(g){if(g.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(g){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return g;default:return null}}function Lfe(g,i,o){const d=i.createElement(g.type);return g.style&&i.setStyle("list-style-type",g.style,d),g.startIndex&&g.startIndex>1&&i.setAttribute("start",g.startIndex,d),g.isLegalStyleList&&o&&i.addClass("legal-list",d),d}function zfe(g){const i=g.getStyle("mso-list");if(i===void 0)return{};const o=i.match(/(^|\s{1,100})l(\d+)/i),d=i.match(/\s{0,100}lfo(\d+)/i),u=i.match(/\s{0,100}level(\d+)/i);return o&&d&&u?{id:o[2],order:d[1],indent:parseInt(u[1])}:{indent:1}}function Xfe(g,i){const o=new gl({name:"span",styles:{"mso-list":"Ignore"}}),d=i.createRangeIn(g);for(const u of d)u.type==="elementStart"&&o.match(u.item)&&i.remove(u.item)}function Vfe(g){const i=g.getStyle("margin-left");return i===void 0||i.endsWith("px")?i:(function(o){const d=parseFloat(o);return o.endsWith("pt")?M0(96*d/72):o.endsWith("pc")?M0(12*d*96/72):o.endsWith("in")?M0(96*d):o.endsWith("cm")?M0(96*d/2.54):o.endsWith("mm")?M0(d/10*96/2.54):o})(i)}function Ufe(g,i){if(!g.childCount)return;const o=new lc(g.document),d=(function(m,y){const v=y.createRangeIn(m),A=new gl({name:/v:(.+)/}),S=[];for(const D of v){if(D.type!="elementStart")continue;const N=D.item,L=N.previousSibling,q=L&&L.is("element")?L.name:null,Y=["Chart"],ne=A.match(N),ue=N.getAttribute("o:gfxdata"),me=q==="v:shapetype",Ae=ue&&Y.some((Me=>N.getAttribute("id").includes(Me)));ne&&ue&&!me&&!Ae&&S.push(D.item.getAttribute("id"))}return S})(g,o);(function(m,y,v){const A=v.createRangeIn(y),S=new gl({name:"img"}),D=[];for(const N of A)if(N.item.is("element")&&S.match(N.item)){const L=N.item,q=L.getAttribute("v:shapes")?L.getAttribute("v:shapes").split(" "):[];q.length&&q.every((Y=>m.indexOf(Y)>-1))?D.push(L):L.getAttribute("src")||D.push(L)}for(const N of D)v.remove(N)})(d,g,o),(function(m,y,v){const A=v.createRangeIn(y),S=[];for(const L of A)if(L.type=="elementStart"&&L.item.is("element","v:shape")){const q=L.item.getAttribute("id");if(m.includes(q))continue;D(L.item.parent.getChildren(),q)||S.push(L.item)}for(const L of S){const q={src:N(L)};L.hasAttribute("alt")&&(q.alt=L.getAttribute("alt"));const Y=v.createElement("img",q);v.insertChild(L.index+1,Y,L.parent)}function D(L,q){for(const Y of L)if(Y.is("element")&&(Y.name=="img"&&Y.getAttribute("v:shapes")==q||D(Y.getChildren(),q)))return!0;return!1}function N(L){for(const q of L.getChildren())if(q.is("element")&&q.getAttribute("src"))return q.getAttribute("src")}})(d,g,o),(function(m,y){const v=y.createRangeIn(m),A=new gl({name:/v:(.+)/}),S=[];for(const D of v)D.type=="elementStart"&&A.match(D.item)&&S.push(D.item);for(const D of S)y.remove(D)})(g,o);const u=(function(m,y){const v=y.createRangeIn(m),A=new gl({name:"img"}),S=[];for(const D of v)D.item.is("element")&&A.match(D.item)&&D.item.getAttribute("src").startsWith("file://")&&S.push(D.item);return S})(g,o);u.length&&(function(m,y,v){if(m.length===y.length)for(let A=0;A<m.length;A++){const S=`data:${y[A].type};base64,${qfe(y[A].hex)}`;v.setAttribute("src",S,m[A])}})(u,(function(m){if(!m)return[];const y=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,v=new RegExp("(?:("+y.source+"))([\\da-fA-F\\s]+)\\}","g"),A=m.match(v),S=[];if(A)for(const D of A){let N=!1;D.includes("\\pngblip")?N="image/png":D.includes("\\jpegblip")&&(N="image/jpeg"),N&&S.push({hex:D.replace(y,"").replace(/[^\da-fA-F]/g,""),type:N})}return S})(i),o)}function qfe(g){return btoa(g.match(/\w{2}/g).map((i=>String.fromCharCode(parseInt(i,16)))).join(""))}const Wfe=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,Yfe=/xmlns:o="urn:schemas-microsoft-com/i;class Zfe{constructor(i,o=!1){this.document=i,this.hasMultiLevelListPlugin=o}isActive(i){return Wfe.test(i)||Yfe.test(i)}execute(i){const o=new lc(this.document),{body:d,stylesString:u}=i._parsedData;(function(m,y){const v=[];for(const A of y.createRangeIn(m)){const S=A.item;S.is("element","a")&&!S.hasAttribute("href")&&(S.hasAttribute("id")||S.hasAttribute("name"))&&v.push(S)}for(const A of v){const S=A.parent.getChildIndex(A)+1,D=A.getChildren();y.insertChild(S,D,A.parent)}})(d,o),Nfe(d,u,this.hasMultiLevelListPlugin),Ufe(d,i.dataTransfer.getData("text/rtf")),(function(m){const y=[],v=new lc(m.document);for(const{item:A}of v.createRangeIn(m))if(A.is("element")){for(const S of A.getClassNames())/\bmso/gi.exec(S)&&v.removeClass(S,A);for(const S of A.getStyleNames())/\bmso/gi.exec(S)&&v.removeStyle(S,A);(A.is("element","w:sdt")||A.is("element","w:sdtpr")&&A.isEmpty||A.is("element","o:p")&&A.isEmpty)&&y.push(A)}for(const A of y){const S=A.parent,D=S.getChildIndex(A);v.insertChild(D,A.getChildren(),S),v.remove(A)}})(d),i.content=d}}function uN(g,i,o,{blockElements:d,inlineObjectElements:u}){let m=o.createPositionAt(g,i=="forward"?"after":"before");return m=m.getLastMatchingPosition((({item:y})=>y.is("element")&&!d.includes(y.name)&&!u.includes(y.name)),{direction:i}),i=="forward"?m.nodeAfter:m.nodeBefore}function fN(g,i){return!!g&&g.is("element")&&i.includes(g.name)}const Gfe=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Hfe{constructor(i){this.document=i}isActive(i){return Gfe.test(i)}execute(i){const o=new lc(this.document),{body:d}=i._parsedData;(function(u,m){for(const y of u.getChildren())if(y.is("element","b")&&y.getStyle("font-weight")==="normal"){const v=u.getChildIndex(y);m.remove(y),m.insertChild(v,y.getChildren(),u)}})(d,o),(function(u,m){for(const y of m.createRangeIn(u)){const v=y.item;if(v.is("element","li")){const A=v.getChild(0);A&&A.is("element","p")&&m.unwrapElement(A)}}})(d,o),(function(u,m){const y=new Pb(m.document.stylesProcessor),v=new Mb(y,{renderingMode:"data"}),A=v.blockElements,S=v.inlineObjectElements,D=[];for(const N of m.createRangeIn(u)){const L=N.item;if(L.is("element","br")){const q=uN(L,"forward",m,{blockElements:A,inlineObjectElements:S}),Y=uN(L,"backward",m,{blockElements:A,inlineObjectElements:S}),ne=fN(q,A);(fN(Y,A)||ne)&&D.push(L)}}for(const N of D)N.hasClass("Apple-interchange-newline")?m.remove(N):m.replace(N,m.createElement("p"))})(d,o),i.content=d}}const Kfe=/<google-sheets-html-origin/i;class Jfe{constructor(i){this.document=i}isActive(i){return Kfe.test(i)}execute(i){const o=new lc(this.document),{body:d}=i._parsedData;(function(u,m){for(const y of u.getChildren())if(y.is("element","google-sheets-html-origin")){const v=u.getChildIndex(y);m.remove(y),m.insertChild(v,y.getChildren(),u)}})(d,o),(function(u,m){for(const y of u.getChildren())y.is("element","table")&&y.hasAttribute("xmlns")&&m.removeAttribute("xmlns",y)})(d,o),(function(u,m){for(const y of u.getChildren())y.is("element","table")&&y.getStyle("width")==="0px"&&m.removeStyle("width",y)})(d,o),(function(u,m){for(const y of Array.from(u.getChildren()))y.is("element","style")&&m.remove(y)})(d,o),i.content=d}}function gN(g){return g.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((i,o)=>o.length===1?" ":Array(o.length+1).join(" ").substr(0,o.length)))}function ege(g,i){const o=new DOMParser,d=(function(A){return gN(gN(A)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")})((function(A){const S="</body>",D="</html>",N=A.indexOf(S);if(N<0)return A;const L=A.indexOf(D,N+S.length);return A.substring(0,N+S.length)+(L>=0?A.substring(L):"")})(g=(g=g.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=o.parseFromString(d,"text/html");(function(A){A.querySelectorAll("span[style*=spacerun]").forEach((S=>{const D=S,N=D.innerText.length||0;D.innerText=Array(N+1).join(" ").substr(0,N)}))})(u);const m=u.body.innerHTML,y=(function(A,S){const D=new Pb(S),N=new Mb(D,{renderingMode:"data"}),L=A.createDocumentFragment(),q=A.body.childNodes;for(;q.length>0;)L.appendChild(q[0]);return N.domToView(L,{skipComments:!0})})(u,i),v=(function(A){const S=[],D=[],N=Array.from(A.getElementsByTagName("style"));for(const L of N)L.sheet&&L.sheet.cssRules&&L.sheet.cssRules.length&&(S.push(L.sheet),D.push(L.innerHTML));return{styles:S,stylesString:D.join(" ")}})(u);return{body:y,bodyString:m,styles:v.styles,stylesString:v.stylesString}}class tge extends at{static get pluginName(){return"PasteFromOffice"}static get isOfficialPlugin(){return!0}static get requires(){return[Ua]}init(){const i=this.editor,o=i.plugins.get("ClipboardPipeline"),d=i.editing.view.document,u=[],m=this.editor.plugins.has("MultiLevelList");u.push(new Zfe(d,m)),u.push(new Hfe(d)),u.push(new Jfe(d)),o.on("inputTransformation",((y,v)=>{if(v._isTransformedWithPasteFromOffice||i.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const A=v.dataTransfer.getData("text/html"),S=u.find((D=>D.isActive(A)));S&&(v._parsedData||(v._parsedData=ege(A,d.stylesProcessor)),S.execute(v),v._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}}function Xn(g,i,o,d,u=1){i!=null&&u!=null&&i>u?d.setAttribute(g,i,o):d.removeAttribute(g,o)}function Wh(g,i,o={}){const d=g.createElement("tableCell",o);return g.insertElement("paragraph",d),g.insert(d,i),d}function A4(g,i){const o=i.parent.parent,d=parseInt(o.getAttribute("headingColumns")||"0"),{column:u}=g.getCellLocation(i);return!!d&&u<d}function rge(){return g=>{g.on("element:table",((i,o,d)=>{const u=o.viewItem;if(!d.consumable.test(u,{name:!0}))return;const{rows:m,headingRows:y,headingColumns:v}=(function(D){let N,L=0;const q=[],Y=[];let ne;for(const ue of Array.from(D.getChildren())){if(ue.name!=="tbody"&&ue.name!=="thead"&&ue.name!=="tfoot")continue;ue.name!=="thead"||ne||(ne=ue);const me=Array.from(ue.getChildren()).filter((Me=>Me.is("element","tr")));let Ae=null;for(const Me of me){const Ue=Array.from(Me.getChildren()).filter((qe=>qe.is("element","td")||qe.is("element","th")));if(ne&&ue===ne||ue.name==="tbody"&&Ue.length>0&&(Ae===null||Ue.length===Ae)&&Ue.every((qe=>qe.is("element","th"))))L++,q.push(Me);else{Y.push(Me);const qe=nge(Me);(!N||qe<N)&&(N=qe)}Ae=Math.max(Ae||0,Ue.length)}}return{headingRows:L,headingColumns:N||0,rows:[...q,...Y]}})(u),A={};v&&(A.headingColumns=v),y&&(A.headingRows=y);const S=d.writer.createElement("table",A);if(d.safeInsert(S,o.modelCursor)){if(d.consumable.consume(u,{name:!0}),m.forEach((D=>d.convertItem(D,d.writer.createPositionAt(S,"end")))),d.convertChildren(u,d.writer.createPositionAt(S,"end")),S.isEmpty){const D=d.writer.createElement("tableRow");d.writer.insert(D,d.writer.createPositionAt(S,"end")),Wh(d.writer,d.writer.createPositionAt(D,"end"))}d.updateConversionResult(S,o)}}))}}function pN(g){return i=>{i.on(`element:${g}`,((o,d,{writer:u})=>{if(!d.modelRange)return;const m=d.modelRange.start.nodeAfter,y=u.createPositionAt(m,0);if(d.viewItem.isEmpty)return void u.insertElement("paragraph",y);const v=Array.from(m.getChildren());if(v.every((A=>A.is("element","$marker")))){const A=u.createElement("paragraph");u.insert(A,u.createPositionAt(m,0));for(const S of v)u.move(u.createRangeOn(S),u.createPositionAt(A,"end"))}}),{priority:"low"})}}function nge(g){let i=0,o=0;const d=Array.from(g.getChildren()).filter((u=>u.name==="th"||u.name==="td"));for(;o<d.length&&d[o].name==="th";){const u=d[o];i+=parseInt(u.getAttribute("colspan")||"1"),o++}return i}class Jr{constructor(i,o={}){this._jumpedToStartRow=!1,this._table=i,this._startRow=o.row!==void 0?o.row:o.startRow||0,this._endRow=o.row!==void 0?o.row:o.endRow,this._startColumn=o.column!==void 0?o.column:o.startColumn||0,this._endColumn=o.column!==void 0?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const i=this._table.getChild(this._rowIndex);if(!i||this._isOverEndRow())return{done:!0,value:void 0};if(!i.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const d=this._getSpanned();if(d)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(d.cell,d.row,d.column));else{const u=i.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const m=parseInt(u.getAttribute("colspan")||"1"),y=parseInt(u.getAttribute("rowspan")||"1");(m>1||y>1)&&this._recordSpans(u,y,m),this._shouldSkipSlot()||(o=this._formatOutValue(u)),this._nextCellAtColumn=this._column+m}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(i){this._skipRows.add(i)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(i,o=this._row,d=this._column){return{done:!1,value:new ige(this,i,o,d)}}_shouldSkipSlot(){const i=this._skipRows.has(this._row),o=this._row<this._startRow,d=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return i||o||d||u}_getSpanned(){const i=this._spannedCells.get(this._row);return i&&i.get(this._column)||null}_recordSpans(i,o,d){const u={cell:i,row:this._row,column:this._column};for(let m=this._row;m<this._row+o;m++)for(let y=this._column;y<this._column+d;y++)m==this._row&&y==this._column||this._markSpannedCell(m,y,u)}_markSpannedCell(i,o,d){this._spannedCells.has(i)||this._spannedCells.set(i,new Map),this._spannedCells.get(i).set(o,d)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const i=this._getRowLength(0);for(let o=this._startRow;!this._jumpedToStartRow;o--)i===this._getRowLength(o)&&(this._row=o,this._rowIndex=o,this._jumpedToStartRow=!0)}_getRowLength(i){return[...this._table.getChild(i).getChildren()].reduce(((o,d)=>o+parseInt(d.getAttribute("colspan")||"1")),0)}}class ige{constructor(i,o,d,u){this.cell=o,this.row=i._row,this.column=i._column,this.cellAnchorRow=d,this.cellAnchorColumn=u,this._cellIndex=i._cellIndex,this._rowIndex=i._rowIndex,this._table=i._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function mN(g,i){return(o,{writer:d})=>{const u=o.getAttribute("headingRows")||0,m=d.createContainerElement("table",null,[]),y=d.createContainerElement("figure",{class:"table"},m);u>0&&d.insert(d.createPositionAt(m,"end"),d.createContainerElement("thead",null,d.createSlot((v=>v.is("element","tableRow")&&v.index<u)))),u<g.getRows(o)&&d.insert(d.createPositionAt(m,"end"),d.createContainerElement("tbody",null,d.createSlot((v=>v.is("element","tableRow")&&v.index>=u))));for(const{positionOffset:v,filter:A}of i.additionalSlots)d.insert(d.createPositionAt(m,v),d.createSlot(A));return d.insert(d.createPositionAt(m,"after"),d.createSlot((v=>!v.is("element","tableRow")&&!i.additionalSlots.some((({filter:A})=>A(v)))))),i.asWidget?(function(v,A){return A.setCustomProperty("table",!0,v),n4(v,A,{hasSelectionHandle:!0})})(y,d):y}}function ON(g={}){return(i,{writer:o})=>{const d=i.parent,u=d.parent,m=u.getChildIndex(d),y=new Jr(u,{row:m}),v=u.getAttribute("headingRows")||0,A=u.getAttribute("headingColumns")||0;let S=null;for(const D of y)if(D.cell==i){const N=D.row<v||D.column<A?"th":"td";S=g.asWidget?x9(o.createEditableElement(N),o):o.createContainerElement(N);break}return S}}function xN(g={}){return(i,{writer:o})=>{if(!i.parent.is("element","tableCell")||!bN(i))return null;if(g.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const d=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,d),d}}}function bN(g){return g.parent.childCount==1&&!(function(i){for(const o of i.getAttributeKeys())if(!o.startsWith("selection:")&&o!="htmlEmptyBlock")return!0;return!1})(g)}class sge extends vr{refresh(){const i=this.editor.model,o=i.document.selection,d=i.schema;this.isEnabled=(function(u,m){const y=u.getFirstPosition().parent,v=y===y.root?y:y.parent;return m.checkChild(v,"table")})(o,d)}execute(i={}){const o=this.editor,d=o.model,u=o.plugins.get("TableUtils"),m=o.config.get("table.defaultHeadings.rows"),y=o.config.get("table.defaultHeadings.columns");i.headingRows===void 0&&m&&(i.headingRows=m),i.headingColumns===void 0&&y&&(i.headingColumns=y),d.change((v=>{const A=u.createTable(v,i);d.insertObject(A,null,null,{findOptimalPosition:"auto"}),v.setSelection(v.createPositionAt(A.getNodeByPath([0,0,0]),0))}))}}class kN extends vr{constructor(i,o={}){super(i),this.order=o.order||"below"}refresh(){const i=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=o}execute(){const i=this.editor,o=i.model.document.selection,d=i.plugins.get("TableUtils"),u=this.order==="above",m=d.getSelectionAffectedTableCells(o),y=d.getRowIndexes(m),v=u?y.first:y.last,A=m[0].findAncestor("table");d.insertRows(A,{at:u?v:v+1,copyStructureFromAbove:!u})}}class yN extends vr{constructor(i,o={}){super(i),this.order=o.order||"right"}refresh(){const i=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=o}execute(){const i=this.editor,o=i.model.document.selection,d=i.plugins.get("TableUtils"),u=this.order==="left",m=d.getSelectionAffectedTableCells(o),y=d.getColumnIndexes(m),v=u?y.first:y.last,A=m[0].findAncestor("table");d.insertColumns(A,{columns:1,at:u?v:v+1})}}class wN extends vr{constructor(i,o={}){super(i),this.direction=o.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length===1}execute(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?i.splitCellHorizontally(o,2):i.splitCellVertically(o,2)}}function vN(g,i,o){const{startRow:d,startColumn:u,endRow:m,endColumn:y}=i,v=o.createElement("table"),A=m-d+1;for(let D=0;D<A;D++)o.insertElement("tableRow",v,"end");const S=[...new Jr(g,{startRow:d,endRow:m,startColumn:u,endColumn:y,includeAllSlots:!0})];for(const{row:D,column:N,cell:L,isAnchor:q,cellAnchorRow:Y,cellAnchorColumn:ne}of S){const ue=D-d,me=v.getChild(ue);if(q){const Ae=o.cloneElement(L);o.append(Ae,me),TN(Ae,D,N,m,y,o)}else(Y<d||ne<u)&&Wh(o,o.createPositionAt(me,"end"))}return(function(D,N,L,q,Y){const ne=parseInt(N.getAttribute("headingRows")||"0");ne>0&&Xn("headingRows",ne-L,D,Y,0);const ue=parseInt(N.getAttribute("headingColumns")||"0");ue>0&&Xn("headingColumns",ue-q,D,Y,0)})(v,g,d,u,o),v}function _N(g,i,o=0){const d=[],u=new Jr(g,{startRow:o,endRow:i-1});for(const m of u){const{row:y,cellHeight:v}=m;y<i&&i<=y+v-1&&d.push(m)}return d}function CN(g,i,o){const d=g.parent,u=d.parent,m=d.index,y=i-m,v={},A=parseInt(g.getAttribute("rowspan"))-y;A>1&&(v.rowspan=A);const S=parseInt(g.getAttribute("colspan")||"1");S>1&&(v.colspan=S);const D=m+y,N=[...new Jr(u,{startRow:m,endRow:D,includeAllSlots:!0})];let L,q=null;for(const Y of N){const{row:ne,column:ue,cell:me}=Y;me===g&&L===void 0&&(L=ue),L!==void 0&&L===ue&&ne===D&&(q=Wh(o,Y.getPositionBefore(),v))}return Xn("rowspan",y,g,o),q}function AN(g,i){const o=[],d=new Jr(g);for(const u of d){const{column:m,cellWidth:y}=u;m<i&&i<=m+y-1&&o.push(u)}return o}function SN(g,i,o,d){const u=o-i,m={},y=parseInt(g.getAttribute("colspan"))-u;y>1&&(m.colspan=y);const v=parseInt(g.getAttribute("rowspan")||"1");v>1&&(m.rowspan=v);const A=Wh(d,d.createPositionAfter(g),m);return Xn("colspan",u,g,d),A}function TN(g,i,o,d,u,m){const y=parseInt(g.getAttribute("colspan")||"1"),v=parseInt(g.getAttribute("rowspan")||"1");o+y-1>u&&Xn("colspan",u-o+1,g,m,1),i+v-1>d&&Xn("rowspan",d-i+1,g,m,1)}function S4(g,i){const o=i.getColumns(g),d=new Array(o).fill(0);for(const{column:m}of new Jr(g))d[m]++;const u=d.reduce(((m,y,v)=>y?m:[...m,v]),[]);if(u.length>0){const m=u[u.length-1];return i.removeColumns(g,{at:m}),!0}return!1}function T4(g,i){const o=[],d=i.getRows(g);for(let u=0;u<d;u++)g.getChild(u).isEmpty&&o.push(u);if(o.length>0){const u=o[o.length-1];return i.removeRows(g,{at:u}),!0}return!1}function E4(g,i){S4(g,i)||T4(g,i)}function EN(g,i){const o=Array.from(new Jr(g,{startColumn:i.firstColumn,endColumn:i.lastColumn,row:i.lastRow}));if(o.every((({cellHeight:u})=>u===1)))return i.lastRow;const d=o[0].cellHeight-1;return i.lastRow+d}function PN(g,i){const o=Array.from(new Jr(g,{startRow:i.firstRow,endRow:i.lastRow,column:i.lastColumn}));if(o.every((({cellWidth:u})=>u===1)))return i.lastColumn;const d=o[0].cellWidth-1;return i.lastColumn+d}class Uy extends vr{constructor(i,o){super(i),this.direction=o.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const i=this._getMergeableCell();this.value=i,this.isEnabled=!!i}execute(){const i=this.editor.model,o=i.document,d=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],u=this.value,m=this.direction;i.change((y=>{const v=m=="right"||m=="down",A=v?d:u,S=v?u:d,D=S.parent;(function(ne,ue,me){DN(ne)||(DN(ue)&&me.remove(me.createRangeIn(ue)),me.move(me.createRangeIn(ne),me.createPositionAt(ue,"end"))),me.remove(ne)})(S,A,y);const N=this.isHorizontal?"colspan":"rowspan",L=parseInt(d.getAttribute(N)||"1"),q=parseInt(u.getAttribute(N)||"1");y.setAttribute(N,L+q,A),y.setSelection(y.createRangeIn(A));const Y=this.editor.plugins.get("TableUtils");E4(D.findAncestor("table"),Y)}))}_getMergeableCell(){const i=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),d=o.getTableCellsContainingSelection(i.selection)[0];if(!d)return;const u=this.isHorizontal?(function(v,A,S){const D=v.parent,N=D.parent,L=A=="right"?v.nextSibling:v.previousSibling,q=(N.getAttribute("headingColumns")||0)>0;if(!L)return;const Y=A=="right"?v:L,ne=A=="right"?L:v,{column:ue}=S.getCellLocation(Y),{column:me}=S.getCellLocation(ne),Ae=parseInt(Y.getAttribute("colspan")||"1"),Me=A4(S,Y),Ue=A4(S,ne);if(!(q&&Me!=Ue))return ue+Ae===me?L:void 0})(d,this.direction,o):(function(v,A,S){const D=v.parent,N=D.parent,L=N.getChildIndex(D);if(A=="down"&&L===S.getRows(N)-1||A=="up"&&L===0)return null;const q=parseInt(v.getAttribute("rowspan")||"1"),Y=N.getAttribute("headingRows")||0,ne=A=="down"&&L+q===Y,ue=A=="up"&&L===Y;if(Y&&(ne||ue))return null;const me=parseInt(v.getAttribute("rowspan")||"1"),Ae=A=="down"?L+me:L,Me=[...new Jr(N,{endRow:Ae})],Ue=Me.find((Ut=>Ut.cell===v)),qe=Ue.column,Bt=Me.find((({row:Ut,cellHeight:Xr,column:xn})=>xn===qe&&(A=="down"?Ut===Ae:Ae===Ut+Xr)));return Bt&&Bt.cell?Bt.cell:null})(d,this.direction,o);if(!u)return;const m=this.isHorizontal?"rowspan":"colspan",y=parseInt(d.getAttribute(m)||"1");return parseInt(u.getAttribute(m)||"1")===y?u:void 0}}function DN(g){const i=g.getChild(0);return g.childCount==1&&i.is("element","paragraph")&&i.isEmpty}class age extends vr{refresh(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection),d=o[0];if(d){const u=d.findAncestor("table"),m=i.getRows(u)-1,y=i.getRowIndexes(o),v=y.first===0&&y.last===m;this.isEnabled=!v}else this.isEnabled=!1}execute(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),d=o.getSelectionAffectedTableCells(i.document.selection),u=o.getRowIndexes(d),m=d[0],y=m.findAncestor("table"),v=o.getCellLocation(m).column;i.change((A=>{const S=u.last-u.first+1;o.removeRows(y,{at:u.first,rows:S});const D=(function(N,L,q,Y){const ne=N.getChild(Math.min(L,Y-1));let ue=ne.getChild(0),me=0;for(const Ae of ne.getChildren()){if(me>q)return ue;ue=Ae,me+=parseInt(Ae.getAttribute("colspan")||"1")}return ue})(y,u.first,v,o.getRows(y));A.setSelection(A.createPositionAt(D,0))}))}}class oge extends vr{refresh(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection),d=o[0];if(d){const u=d.findAncestor("table"),m=i.getColumns(u),{first:y,last:v}=i.getColumnIndexes(o);this.isEnabled=v-y<m-1}else this.isEnabled=!1}execute(){const i=this.editor.plugins.get("TableUtils"),[o,d]=(function(A,S){const D=S.getSelectionAffectedTableCells(A),N=D[0],L=D.pop(),q=[N,L];return N.isBefore(L)?q:q.reverse()})(this.editor.model.document.selection,i),u=o.parent.parent,m=[...new Jr(u)],y={first:m.find((A=>A.cell===o)).column,last:m.find((A=>A.cell===d)).column},v=(function(A,S,D,N){return parseInt(D.getAttribute("colspan")||"1")>1?D:S.previousSibling||D.nextSibling?D.nextSibling||S.previousSibling:N.first?A.reverse().find((({column:q})=>q<N.first)).cell:A.reverse().find((({column:q})=>q>N.last)).cell})(m,o,d,y);this.editor.model.change((A=>{const S=y.last-y.first+1;i.removeColumns(u,{at:y.first,columns:S}),A.setSelection(A.createPositionAt(v,0))}))}}class lge extends vr{refresh(){const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,d=i.getSelectionAffectedTableCells(o.document.selection),u=d.length>0;this.isEnabled=u,this.value=u&&d.every((m=>this._isInHeading(m,m.parent.parent)))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),d=this.editor.model,u=o.getSelectionAffectedTableCells(d.document.selection),m=u[0].findAncestor("table"),{first:y,last:v}=o.getRowIndexes(u),A=this.value?y:v+1,S=m.getAttribute("headingRows")||0;d.change((D=>{if(A){const N=_N(m,A,A>S?S:0);for(const{cell:L}of N)CN(L,A,D)}Xn("headingRows",A,m,D,0)}))}_isInHeading(i,o){const d=parseInt(o.getAttribute("headingRows")||"0");return!!d&&i.parent.index<d}}class cge extends vr{refresh(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),d=o.getSelectionAffectedTableCells(i.document.selection),u=d.length>0;this.isEnabled=u,this.value=u&&d.every((m=>A4(o,m)))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),d=this.editor.model,u=o.getSelectionAffectedTableCells(d.document.selection),m=u[0].findAncestor("table"),{first:y,last:v}=o.getColumnIndexes(u),A=this.value?y:v+1;d.change((S=>{if(A){const D=AN(m,A);for(const{cell:N,column:L}of D)SN(N,L,A,S)}Xn("headingColumns",A,m,S,0)}))}}function dge(g){if(g.is("element","tableColumnGroup"))return g;const i=g.getChildren();return Array.from(i).find((o=>o.is("element","tableColumnGroup")))}function hge(g){const i=dge(g);return i?Array.from(i.getChildren()):[]}class qi extends at{static get pluginName(){return"TableUtils"}static get isOfficialPlugin(){return!0}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(i){const o=i.parent,d=o.parent,u=d.getChildIndex(o),m=new Jr(d,{row:u});for(const{cell:y,row:v,column:A}of m)if(y===i)return{row:v,column:A}}createTable(i,o){const d=i.createElement("table"),u=o.rows||2,m=o.columns||2;return P4(i,d,0,u,m),o.headingRows&&Xn("headingRows",Math.min(o.headingRows,u),d,i,0),o.headingColumns&&Xn("headingColumns",Math.min(o.headingColumns,m),d,i,0),d}insertRows(i,o={}){const d=this.editor.model,u=o.at||0,m=o.rows||1,y=o.copyStructureFromAbove!==void 0,v=o.copyStructureFromAbove?u-1:u,A=this.getRows(i),S=this.getColumns(i);if(u>A)throw new F("tableutils-insertrows-insert-out-of-range",this,{options:o});d.change((D=>{const N=i.getAttribute("headingRows")||0;if(N>u&&Xn("headingRows",N+m,i,D,0),!y&&(u===0||u===A))return void P4(D,i,u,m,S);const L=y?Math.max(u,v):u,q=new Jr(i,{endRow:L}),Y=new Array(S).fill(1);for(const{row:ne,column:ue,cellHeight:me,cellWidth:Ae,cell:Me}of q){const Ue=ne+me-1,qe=ne<=v&&v<=Ue;ne<u&&u<=Ue?(D.setAttribute("rowspan",me+m,Me),Y[ue]=-Ae):y&&qe&&(Y[ue]=Ae)}for(let ne=0;ne<m;ne++){const ue=D.createElement("tableRow");D.insert(ue,i,u);for(let me=0;me<Y.length;me++){const Ae=Y[me],Me=D.createPositionAt(ue,"end");Ae>0&&Wh(D,Me,Ae>1?{colspan:Ae}:void 0),me+=Math.abs(Ae)-1}}}))}insertColumns(i,o={}){const d=this.editor.model,u=o.at||0,m=o.columns||1;d.change((y=>{const v=i.getAttribute("headingColumns");u<v&&y.setAttribute("headingColumns",v+m,i);const A=this.getColumns(i);if(u===0||A===u){for(const D of i.getChildren())D.is("element","tableRow")&&R0(m,y,y.createPositionAt(D,u?"end":0));return}const S=new Jr(i,{column:u,includeAllSlots:!0});for(const D of S){const{row:N,cell:L,cellAnchorColumn:q,cellAnchorRow:Y,cellWidth:ne,cellHeight:ue}=D;if(q<u){y.setAttribute("colspan",ne+m,L);const me=Y+ue-1;for(let Ae=N;Ae<=me;Ae++)S.skipRow(Ae)}else R0(m,y,D.getPositionBefore())}}))}removeRows(i,o){const d=this.editor.model,u=o.rows||1,m=this.getRows(i),y=o.at,v=y+u-1;if(v>m-1)throw new F("tableutils-removerows-row-index-out-of-range",this,{table:i,options:o});d.change((A=>{const S={first:y,last:v},{cellsToMove:D,cellsToTrim:N}=(function(L,{first:q,last:Y}){const ne=new Map,ue=[];for(const{row:me,column:Ae,cellHeight:Me,cell:Ue}of new Jr(L,{endRow:Y})){const qe=me+Me-1;if(me>=q&&me<=Y&&qe>Y){const Bt=Me-(Y-me+1);ne.set(Ae,{cell:Ue,rowspan:Bt})}if(me<q&&qe>=q){let Bt;Bt=qe>=Y?Y-q+1:qe-q+1,ue.push({cell:Ue,rowspan:Me-Bt})}}return{cellsToMove:ne,cellsToTrim:ue}})(i,S);D.size&&(function(L,q,Y,ne){const ue=new Jr(L,{includeAllSlots:!0,row:q}),me=[...ue],Ae=L.getChild(q);let Me;for(const{column:Ue,cell:qe,isAnchor:Bt}of me)if(Y.has(Ue)){const{cell:Ut,rowspan:Xr}=Y.get(Ue),xn=Me?ne.createPositionAfter(Me):ne.createPositionAt(Ae,0);ne.move(ne.createRangeOn(Ut),xn),Xn("rowspan",Xr,Ut,ne),Me=Ut}else Bt&&(Me=qe)})(i,v+1,D,A);for(let L=v;L>=y;L--)A.remove(i.getChild(L));for(const{rowspan:L,cell:q}of N)Xn("rowspan",L,q,A);(function(L,{first:q,last:Y},ne){const ue=L.getAttribute("headingRows")||0;q<ue&&Xn("headingRows",Y<ue?ue-(Y-q+1):q,L,ne,0)})(i,S,A),S4(i,this)||T4(i,this)}))}removeColumns(i,o){const d=this.editor.model,u=o.at,m=o.columns||1,y=o.at+m-1;d.change((v=>{(function(S,D,N){const L=S.getAttribute("headingColumns")||0;if(L&&D.first<L){const q=Math.min(L-1,D.last)-D.first+1;N.setAttribute("headingColumns",L-q,S)}})(i,{first:u,last:y},v);const A=hge(i);for(let S=y;S>=u;S--){for(const{cell:D,column:N,cellWidth:L}of[...new Jr(i)])N<=S&&L>1&&N+L>S?Xn("colspan",L-1,D,v):N===S&&v.remove(D);if(A[S]){const D=S===0?A[1]:A[S-1],N=parseFloat(A[S].getAttribute("columnWidth")),L=parseFloat(D.getAttribute("columnWidth"));v.remove(A[S]),v.setAttribute("columnWidth",N+L+"%",D)}}T4(i,this)||S4(i,this)}))}splitCellVertically(i,o=2){const d=this.editor.model,u=i.parent.parent,m=parseInt(i.getAttribute("rowspan")||"1"),y=parseInt(i.getAttribute("colspan")||"1");d.change((v=>{if(y>1){const{newCellsSpan:A,updatedSpan:S}=QN(y,o);Xn("colspan",S,i,v);const D={};A>1&&(D.colspan=A),m>1&&(D.rowspan=m),R0(y>o?o-1:y-1,v,v.createPositionAfter(i),D)}if(y<o){const A=o-y,S=[...new Jr(u)],{column:D}=S.find((({cell:Y})=>Y===i)),N=S.filter((({cell:Y,cellWidth:ne,column:ue})=>Y!==i&&ue===D||ue<D&&ue+ne>D));for(const{cell:Y,cellWidth:ne}of N)v.setAttribute("colspan",ne+A,Y);const L={};m>1&&(L.rowspan=m),R0(A,v,v.createPositionAfter(i),L);const q=u.getAttribute("headingColumns")||0;q>D&&Xn("headingColumns",q+A,u,v)}}))}splitCellHorizontally(i,o=2){const d=this.editor.model,u=i.parent,m=u.parent,y=m.getChildIndex(u),v=parseInt(i.getAttribute("rowspan")||"1"),A=parseInt(i.getAttribute("colspan")||"1");d.change((S=>{if(v>1){const D=[...new Jr(m,{startRow:y,endRow:y+v-1,includeAllSlots:!0})],{newCellsSpan:N,updatedSpan:L}=QN(v,o);Xn("rowspan",L,i,S);const{column:q}=D.find((({cell:ue})=>ue===i)),Y={};N>1&&(Y.rowspan=N),A>1&&(Y.colspan=A);let ne=0;for(const ue of D){const{column:me,row:Ae}=ue,Me=me===q;ne>=N&&Me&&(ne=0),Ae>=y+L&&Me&&(ne||R0(1,S,ue.getPositionBefore(),Y),ne++)}}if(v<o){const D=o-v,N=[...new Jr(m,{startRow:0,endRow:y})];for(const{cell:Y,cellHeight:ne,row:ue}of N)if(Y!==i&&ue+ne>y){const me=ne+D;S.setAttribute("rowspan",me,Y)}const L={};A>1&&(L.colspan=A),P4(S,m,y+1,D,1,L);const q=m.getAttribute("headingRows")||0;q>y&&Xn("headingRows",q+D,m,S)}}))}getColumns(i){return[...i.getChild(0).getChildren()].filter((o=>o.is("element","tableCell"))).reduce(((o,d)=>o+parseInt(d.getAttribute("colspan")||"1")),0)}getRows(i){return Array.from(i.getChildren()).reduce(((o,d)=>d.is("element","tableRow")?o+1:o),0)}createTableWalker(i,o={}){return new Jr(i,o)}getSelectedTableCells(i){const o=[];for(const d of this.sortRanges(i.getRanges())){const u=d.getContainedElement();u&&u.is("element","tableCell")&&o.push(u)}return o}getTableCellsContainingSelection(i){const o=[];for(const d of i.getRanges()){const u=d.start.findAncestor("tableCell");u&&o.push(u)}return o}getSelectionAffectedTableCells(i){const o=this.getSelectedTableCells(i);return o.length?o:this.getTableCellsContainingSelection(i)}getRowIndexes(i){const o=i.map((d=>d.parent.index));return this._getFirstLastIndexesObject(o)}getColumnIndexes(i){const o=i[0].findAncestor("table"),d=[...new Jr(o)].filter((u=>i.includes(u.cell))).map((u=>u.column));return this._getFirstLastIndexesObject(d)}isSelectionRectangular(i){if(i.length<2||!this._areCellInTheSameTableSection(i))return!1;const o=new Set,d=new Set;let u=0;for(const y of i){const{row:v,column:A}=this.getCellLocation(y),S=parseInt(y.getAttribute("rowspan"))||1,D=parseInt(y.getAttribute("colspan"))||1;o.add(v),d.add(A),S>1&&o.add(v+S-1),D>1&&d.add(A+D-1),u+=S*D}return(function(y,v){const A=Array.from(y.values()),S=Array.from(v.values()),D=Math.max(...A),N=Math.min(...A),L=Math.max(...S),q=Math.min(...S);return(D-N+1)*(L-q+1)})(o,d)==u}sortRanges(i){return Array.from(i).sort(uge)}_getFirstLastIndexesObject(i){const o=i.sort(((d,u)=>d-u));return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(i){const o=i[0].findAncestor("table"),d=this.getRowIndexes(i),u=parseInt(o.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(d,u))return!1;const m=this.getColumnIndexes(i),y=parseInt(o.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(m,y)}_areIndexesInSameSection({first:i,last:o},d){return i<d==o<d}}function P4(g,i,o,d,u,m={}){for(let y=0;y<d;y++){const v=g.createElement("tableRow");g.insert(v,i,o),R0(u,g,g.createPositionAt(v,"end"),m)}}function R0(g,i,o,d={}){for(let u=0;u<g;u++)Wh(i,o,d)}function QN(g,i){if(g<i)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(g/i);return{newCellsSpan:o,updatedSpan:g-o*i+o}}function uge(g,i){const o=g.start,d=i.start;return o.isBefore(d)?-1:1}class fge extends vr{refresh(){const i=this.editor.plugins.get(qi),o=i.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=i.isSelectionRectangular(o)}execute(){const i=this.editor.model,o=this.editor.plugins.get(qi);i.change((d=>{const u=o.getSelectedTableCells(i.document.selection),m=u.shift(),{mergeWidth:y,mergeHeight:v}=(function(A,S,D){let N=0,L=0;for(const me of S){const{row:Ae,column:Me}=D.getCellLocation(me);N=MN(me,Me,N,"colspan"),L=MN(me,Ae,L,"rowspan")}const{row:q,column:Y}=D.getCellLocation(A),ne=N-Y,ue=L-q;return{mergeWidth:ne,mergeHeight:ue}})(m,u,o);Xn("colspan",y,m,d),Xn("rowspan",v,m,d);for(const A of u)gge(A,m,d);E4(m.findAncestor("table"),o),d.setSelection(m,"in")}))}}function gge(g,i,o){$N(g)||($N(i)&&o.remove(o.createRangeIn(i)),o.move(o.createRangeIn(g),o.createPositionAt(i,"end"))),o.remove(g)}function $N(g){const i=g.getChild(0);return g.childCount==1&&i.is("element","paragraph")&&i.isEmpty}function MN(g,i,o,d){const u=parseInt(g.getAttribute(d)||"1");return Math.max(o,i+u)}class pge extends vr{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),d=o.getSelectionAffectedTableCells(i.document.selection),u=o.getRowIndexes(d),m=d[0].findAncestor("table"),y=[];for(let v=u.first;v<=u.last;v++)for(const A of m.getChild(v).getChildren())y.push(i.createRangeOn(A));i.change((v=>{v.setSelection(y)}))}}class mge extends vr{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,d=i.getSelectionAffectedTableCells(o.document.selection),u=d[0],m=d.pop(),y=u.findAncestor("table"),v=i.getCellLocation(u),A=i.getCellLocation(m),S=Math.min(v.column,A.column),D=Math.max(v.column,A.column),N=[];for(const L of new Jr(y,{startColumn:S,endColumn:D}))N.push(o.createRangeOn(L.cell));o.change((L=>{L.setSelection(N)}))}}function Oge(g){g.document.registerPostFixer((i=>(function(o,d){const u=d.document.differ.getChanges();let m=!1;const y=new Set;for(const v of u){let A=null;v.type=="insert"&&v.name=="table"&&(A=v.position.nodeAfter),v.type!="insert"&&v.type!="remove"||v.name!="tableRow"&&v.name!="tableCell"||(A=v.position.findAncestor("table")),kge(v)&&(A=v.range.start.findAncestor("table")),A&&!y.has(A)&&(m=xge(A,o)||m,m=bge(A,o)||m,y.add(A))}return m})(i,g)))}function xge(g,i){let o=!1;const d=(function(u){const m=parseInt(u.getAttribute("headingRows")||"0"),y=Array.from(u.getChildren()).reduce(((A,S)=>S.is("element","tableRow")?A+1:A),0),v=[];for(const{row:A,cell:S,cellHeight:D}of new Jr(u)){if(D<2)continue;const N=A<m?m:y;if(A+D>N){const L=N-A;v.push({cell:S,rowspan:L})}}return v})(g);if(d.length){o=!0;for(const u of d)Xn("rowspan",u.rowspan,u.cell,i,1)}return o}function bge(g,i){let o=!1;const d=(function(v){const A=new Array(v.childCount).fill(0);for(const{rowIndex:S}of new Jr(v,{includeAllSlots:!0}))A[S]++;return A})(g),u=[];for(const[v,A]of d.entries())!A&&g.getChild(v).is("element","tableRow")&&u.push(v);if(u.length){o=!0;for(const v of u.reverse())i.remove(g.getChild(v)),d.splice(v,1)}const m=d.filter(((v,A)=>g.getChild(A).is("element","tableRow"))),y=m[0];if(!m.every((v=>v===y))){const v=m.reduce(((A,S)=>S>A?S:A),0);for(const[A,S]of m.entries()){const D=v-S;if(D){for(let N=0;N<D;N++)Wh(i,i.createPositionAt(g.getChild(A),"end"));o=!0}}}return o}function kge(g){if(g.type!=="attribute")return!1;const i=g.attributeKey;return i==="headingRows"||i==="colspan"||i==="rowspan"}function yge(g){g.document.registerPostFixer((i=>(function(o,d){const u=d.document.differ.getChanges();let m=!1;for(const y of u)y.type=="insert"&&y.name=="table"&&(m=wge(y.position.nodeAfter,o)||m),y.type=="insert"&&y.name=="tableRow"&&(m=RN(y.position.nodeAfter,o)||m),y.type=="insert"&&y.name=="tableCell"&&(m=D4(y.position.nodeAfter,o)||m),y.type!="remove"&&y.type!="insert"||!vge(y)||(m=D4(y.position.parent,o)||m);return m})(i,g)))}function wge(g,i){let o=!1;for(const d of g.getChildren())d.is("element","tableRow")&&(o=RN(d,i)||o);return o}function RN(g,i){let o=!1;for(const d of g.getChildren())o=D4(d,i)||o;return o}function D4(g,i){if(g.childCount==0)return i.insertElement("paragraph",g),!0;const o=Array.from(g.getChildren()).filter((d=>d.is("$text")));for(const d of o)i.wrap(i.createRangeOn(d),"paragraph");return!!o.length}function vge(g){return!!g.position.parent.is("element","tableCell")&&(g.type=="insert"&&g.name=="$text"||g.type=="remove")}function _ge(g,i){if(!g.is("element","paragraph"))return!1;const o=i.toViewElement(g);return!!o&&bN(g)!==o.is("element","span")}var qy=s(8137),Vm={attributes:{"data-cke":!0}};Vm.setAttributes=gt(),Vm.insert=ft().bind(null,"head"),Vm.domAPI=ut(),Vm.insertStyleElement=pt(),ht()(qy.A,Vm),qy.A&&qy.A.locals&&qy.A.locals;class Cge extends at{static get pluginName(){return"TableEditing"}static get isOfficialPlugin(){return!0}static get requires(){return[qi]}constructor(i){super(i),this._additionalSlots=[]}init(){const i=this.editor,o=i.model,d=o.schema,u=i.conversion,m=i.plugins.get(qi);d.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),d.register("tableRow",{allowIn:"table",isLimit:!0}),d.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add((y=>{y.on("element:figure",((v,A,S)=>{if(!S.consumable.test(A.viewItem,{name:!0,classes:"table"}))return;const D=(function(L){for(const q of L.getChildren())if(q.is("element","table"))return q})(A.viewItem);if(!D||!S.consumable.test(D,{name:!0}))return;S.consumable.consume(A.viewItem,{name:!0,classes:"table"});const N=Ti(S.convertItem(D,A.modelCursor).modelRange.getItems());N?(S.convertChildren(A.viewItem,S.writer.createPositionAt(N,"end")),S.updateConversionResult(N,A)):S.consumable.revert(A.viewItem,{name:!0,classes:"table"})}))})),u.for("upcast").add(rge()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:mN(m,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:mN(m,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add((y=>{y.on("element:tr",((v,A)=>{A.viewItem.isEmpty&&A.modelCursor.index==0&&v.stop()}),{priority:"high"})})),u.for("downcast").elementToElement({model:"tableRow",view:(y,{writer:v})=>y.isEmpty?v.createEmptyElement("tr"):v.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(pN("td")),u.for("upcast").add(pN("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:ON({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:ON()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:xN({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:xN(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:NN("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:NN("rowspan")},view:"rowspan"}),i.config.define("table.defaultHeadings.rows",0),i.config.define("table.defaultHeadings.columns",0),i.commands.add("insertTable",new sge(i)),i.commands.add("insertTableRowAbove",new kN(i,{order:"above"})),i.commands.add("insertTableRowBelow",new kN(i,{order:"below"})),i.commands.add("insertTableColumnLeft",new yN(i,{order:"left"})),i.commands.add("insertTableColumnRight",new yN(i,{order:"right"})),i.commands.add("removeTableRow",new age(i)),i.commands.add("removeTableColumn",new oge(i)),i.commands.add("splitTableCellVertically",new wN(i,{direction:"vertically"})),i.commands.add("splitTableCellHorizontally",new wN(i,{direction:"horizontally"})),i.commands.add("mergeTableCells",new fge(i)),i.commands.add("mergeTableCellRight",new Uy(i,{direction:"right"})),i.commands.add("mergeTableCellLeft",new Uy(i,{direction:"left"})),i.commands.add("mergeTableCellDown",new Uy(i,{direction:"down"})),i.commands.add("mergeTableCellUp",new Uy(i,{direction:"up"})),i.commands.add("setTableColumnHeader",new cge(i)),i.commands.add("setTableRowHeader",new lge(i)),i.commands.add("selectTableRow",new pge(i)),i.commands.add("selectTableColumn",new mge(i)),Oge(o),yge(o),this.listenTo(o.document,"change:data",(()=>{(function(y,v){const A=y.document.differ;for(const S of A.getChanges()){let D,N=!1;if(S.type=="attribute"){const ne=S.range.start.nodeAfter;if(!ne||!ne.is("element","table")||S.attributeKey!="headingRows"&&S.attributeKey!="headingColumns")continue;D=ne,N=S.attributeKey=="headingRows"}else S.name!="tableRow"&&S.name!="tableCell"||(D=S.position.findAncestor("table"),N=S.name=="tableRow");if(!D)continue;const L=D.getAttribute("headingRows")||0,q=D.getAttribute("headingColumns")||0,Y=new Jr(D);for(const ne of Y){const ue=ne.row<L||ne.column<q?"th":"td",me=v.mapper.toViewElement(ne.cell);me&&me.is("element")&&me.name!=ue&&v.reconvertItem(N?ne.cell.parent:ne.cell)}}})(o,i.editing),(function(y,v){const A=y.document.differ,S=new Set;for(const D of A.getChanges()){const N=D.type=="attribute"?D.range.start.parent:D.position.parent;N.is("element","tableCell")&&S.add(N)}for(const D of S.values()){const N=Array.from(D.getChildren()).filter((L=>_ge(L,v.mapper)));for(const L of N)v.reconvertItem(L)}})(o,i.editing)}))}registerAdditionalSlot(i){this._additionalSlots.push(i)}}function NN(g){return i=>{const o=parseInt(i.getAttribute(g));return Number.isNaN(o)||o<=0?null:o}}var Wy=s(5032),Um={attributes:{"data-cke":!0}};Um.setAttributes=gt(),Um.insert=ft().bind(null,"head"),Um.domAPI=ut(),Um.insertStyleElement=pt(),ht()(Wy.A,Um),Wy.A&&Wy.A.locals&&Wy.A.locals;class BN extends Vt{constructor(i){super(i);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new as,this.focusTracker=new si,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((d,u)=>`${u}  ${d}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to((d=>{d.preventDefault()})),click:o.to((()=>{this.fire("execute")}))}}),this.on("boxover",((d,u)=>{const{row:m,column:y}=u.target.dataset;this.items.get(10*(parseInt(m,10)-1)+(parseInt(y,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((d,u,m)=>{if(!m)return;const{row:y,column:v}=m.dataset;this.set({rows:parseInt(y),columns:parseInt(v)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),Poe({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const i of this.items)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const i=this.rows,o=this.columns;this.items.map(((d,u)=>{const m=Math.floor(u/10)<i&&u%10<o;d.set("isOn",m)}))}_createGridButton(i,o,d,u){const m=new Er(i);return m.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),m.extendTemplate({attributes:{"data-row":o,"data-column":d}}),m}_createGridCollection(){const i=[];for(let o=0;o<100;o++){const d=Math.floor(o/10),u=o%10,m=`${d+1}  ${u+1}`;i.push(this._createGridButton(this.locale,d+1,u+1,m))}return this.createCollection(i)}}class Age extends at{static get pluginName(){return"TableUI"}static get isOfficialPlugin(){return!0}init(){const i=this.editor,o=this.editor.t,d=i.locale.contentLanguageDirection==="ltr";i.ui.componentFactory.add("insertTable",(u=>{const m=i.commands.get("insertTable"),y=xd(u);let v;return y.bind("isEnabled").to(m),y.buttonView.set({icon:$t.table,label:o("Insert table"),tooltip:!0}),y.on("change:isOpen",(()=>{v||(v=new BN(u),y.panelView.children.add(v),v.delegate("execute").to(y),y.on("execute",(()=>{i.execute("insertTable",{rows:v.rows,columns:v.columns}),i.editing.view.focus()})))})),y})),i.ui.componentFactory.add("menuBar:insertTable",(u=>{const m=i.commands.get("insertTable"),y=new kd(u),v=new BN(u);return v.delegate("execute").to(y),y.on("change:isOpen",((A,S,D)=>{D||v.reset()})),v.on("execute",(()=>{i.execute("insertTable",{rows:v.rows,columns:v.columns}),i.editing.view.focus()})),y.buttonView.set({label:o("Table"),icon:$t.table}),y.panelView.children.add(v),y.bind("isEnabled").to(m),y})),i.ui.componentFactory.add("tableColumn",(u=>{const m=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:d?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:d?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',m,u)})),i.ui.componentFactory.add("tableRow",(u=>{const m=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',m,u)})),i.ui.componentFactory.add("mergeTableCells",(u=>{const m=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:d?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:d?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',m,u)}))}_prepareDropdown(i,o,d,u){const m=this.editor,y=xd(u),v=this._fillDropdownWithListOptions(y,d);return y.buttonView.set({label:i,icon:o,tooltip:!0}),y.bind("isEnabled").toMany(v,"isEnabled",((...A)=>A.some((S=>S)))),this.listenTo(y,"execute",(A=>{m.execute(A.source.commandName),A.source instanceof tk||m.editing.view.focus()})),y}_prepareMergeSplitButtonDropdown(i,o,d,u){const m=this.editor,y=xd(u,yk),v="mergeTableCells",A=m.commands.get(v),S=this._fillDropdownWithListOptions(y,d);return y.buttonView.set({label:i,icon:o,tooltip:!0,isEnabled:!0}),y.bind("isEnabled").toMany([A,...S],"isEnabled",((...D)=>D.some((N=>N)))),this.listenTo(y.buttonView,"execute",(()=>{m.execute(v),m.editing.view.focus()})),this.listenTo(y,"execute",(D=>{m.execute(D.source.commandName),m.editing.view.focus()})),y}_fillDropdownWithListOptions(i,o){const d=this.editor,u=[],m=new _o;for(const y of o)Sge(y,d,u,m);return vM(i,m),u}}function Sge(g,i,o,d){if(g.type==="button"||g.type==="switchbutton"){const u=g.model=new jM(g.model),{commandName:m,bindIsOn:y}=g.model,v=i.commands.get(m);o.push(v),u.set({commandName:m}),u.bind("isEnabled").to(v),y&&u.bind("isOn").to(v,"value"),u.set({withText:!0})}d.add(g)}var Yy=s(8423),qm={attributes:{"data-cke":!0}};qm.setAttributes=gt(),qm.insert=ft().bind(null,"head"),qm.domAPI=ut(),qm.insertStyleElement=pt(),ht()(Yy.A,qm),Yy.A&&Yy.A.locals&&Yy.A.locals;class Yh extends at{static get pluginName(){return"TableSelection"}static get isOfficialPlugin(){return!0}static get requires(){return[qi,qi]}init(){const i=this.editor,o=i.model,d=i.editing.view;this.listenTo(o,"deleteContent",((u,m)=>this._handleDeleteContent(u,m)),{priority:"high"}),this.listenTo(d.document,"insertText",((u,m)=>this._handleInsertTextEvent(u,m)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const i=this.editor.plugins.get(qi),o=this.editor.model.document.selection,d=i.getSelectedTableCells(o);return d.length==0?null:d}getSelectionAsFragment(){const i=this.editor.plugins.get(qi),o=this.getSelectedTableCells();return o?this.editor.model.change((d=>{const u=d.createDocumentFragment(),{first:m,last:y}=i.getColumnIndexes(o),{first:v,last:A}=i.getRowIndexes(o),S=o[0].findAncestor("table");let D=A,N=y;if(i.isSelectionRectangular(o)){const q={firstColumn:m,lastColumn:y,firstRow:v,lastRow:A};D=EN(S,q),N=PN(S,q)}const L=vN(S,{startRow:v,startColumn:m,endRow:D,endColumn:N},d);return d.insert(L,u,0),u})):null}setCellSelection(i,o){const d=this._getCellsToSelect(i,o);this.editor.model.change((u=>{u.setSelection(d.cells.map((m=>u.createRangeOn(m))),{backward:d.backward})}))}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const i=Ti(this.editor.model.document.selection.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const i=this.editor,o=new Set;i.conversion.for("editingDowncast").add((d=>d.on("selection",((u,m,y)=>{const v=y.writer;(function(D){for(const N of o)D.removeClass("ck-editor__editable_selected",N);o.clear()})(v);const A=this.getSelectedTableCells();if(!A)return;for(const D of A){const N=y.mapper.toViewElement(D);v.addClass("ck-editor__editable_selected",N),o.add(N)}const S=y.mapper.toViewElement(A[A.length-1]);v.setSelection(S,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const i=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;i.model.change((d=>{const u=d.createPositionAt(o[0],0),m=i.model.schema.getNearestSelectionRange(u);d.setSelection(m)}))}}))}_handleDeleteContent(i,o){const d=this.editor.plugins.get(qi),u=o[0],m=o[1],y=this.editor.model,v=!m||m.direction=="backward",A=d.getSelectedTableCells(u);A.length&&(i.stop(),y.change((S=>{const D=A[v?A.length-1:0];y.change((L=>{for(const q of A)y.deleteContent(L.createSelection(q,"in"))}));const N=y.schema.getNearestSelectionRange(S.createPositionAt(D,0));u.is("documentSelection")?S.setSelection(N):u.setTo(N)})))}_handleInsertTextEvent(i,o){const d=this.editor,u=this.getSelectedTableCells();if(!u)return;const m=d.editing.view,y=d.editing.mapper,v=u.map((A=>m.createRangeOn(y.toViewElement(A))));o.selection=m.createSelection(v)}_getCellsToSelect(i,o){const d=this.editor.plugins.get("TableUtils"),u=d.getCellLocation(i),m=d.getCellLocation(o),y=Math.min(u.row,m.row),v=Math.max(u.row,m.row),A=Math.min(u.column,m.column),S=Math.max(u.column,m.column),D=new Array(v-y+1).fill(null).map((()=>[])),N={startRow:y,endRow:v,startColumn:A,endColumn:S};for(const{row:Y,cell:ne}of new Jr(i.findAncestor("table"),N))D[Y-y].push(ne);const L=m.row<u.row,q=m.column<u.column;return L&&D.reverse(),q&&D.forEach((Y=>Y.reverse())),{cells:D.flat(),backward:L||q}}}class Tge extends at{static get pluginName(){return"TableClipboard"}static get isOfficialPlugin(){return!0}static get requires(){return[rm,Ua,Yh,qi]}init(){const i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",((d,u)=>this._onCopyCut(d,u))),this.listenTo(o,"cut",((d,u)=>this._onCopyCut(d,u))),this.listenTo(i.model,"insertContent",((d,[u,m])=>this._onInsertContent(d,u,m)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(i,o){const d=this.editor.editing.view,u=this.editor.plugins.get(Yh),m=this.editor.plugins.get(rm);u.getSelectedTableCells()&&(i.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(o.preventDefault(),i.stop(),this.editor.model.enqueueChange({isUndoable:i.name==="cut"},(()=>{const y=m._copySelectedFragmentWithMarkers(i.name,this.editor.model.document.selection,(()=>u.getSelectionAsFragment()));d.document.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:this.editor.data.toView(y),method:i.name})})))}_onInsertContent(i,o,d){if(d&&!d.is("documentSelection"))return;const u=this.editor.model,m=this.editor.plugins.get(qi),y=this.editor.plugins.get(rm),v=this.getTableIfOnlyTableInContent(o,u);if(!v)return;const A=m.getSelectionAffectedTableCells(u.document.selection);A.length?(i.stop(),o.is("documentFragment")?y._pasteMarkersIntoTransformedElement(o.markers,(S=>this._replaceSelectedCells(v,A,S))):this.editor.model.change((S=>{this._replaceSelectedCells(v,A,S)}))):E4(v,m)}_replaceSelectedCells(i,o,d){const u=this.editor.plugins.get(qi),m={width:u.getColumns(i),height:u.getRows(i)},y=(function(N,L,q,Y){const ne=N[0].findAncestor("table"),ue=Y.getColumnIndexes(N),me=Y.getRowIndexes(N),Ae={firstColumn:ue.first,lastColumn:ue.last,firstRow:me.first,lastRow:me.last},Me=N.length===1;return Me&&(Ae.lastRow+=L.height-1,Ae.lastColumn+=L.width-1,(function(Ue,qe,Bt,Ut){const Xr=Ut.getColumns(Ue),xn=Ut.getRows(Ue);Bt>Xr&&Ut.insertColumns(Ue,{at:Xr,columns:Bt-Xr}),qe>xn&&Ut.insertRows(Ue,{at:xn,rows:qe-xn})})(ne,Ae.lastRow+1,Ae.lastColumn+1,Y)),Me||!Y.isSelectionRectangular(N)?(function(Ue,qe,Bt){const{firstRow:Ut,lastRow:Xr,firstColumn:xn,lastColumn:i1}=qe,zN={first:Ut,last:Xr},XN={first:xn,last:i1};$4(Ue,xn,zN,Bt),$4(Ue,i1+1,zN,Bt),Q4(Ue,Ut,XN,Bt),Q4(Ue,Xr+1,XN,Bt,Ut)})(ne,Ae,q):(Ae.lastRow=EN(ne,Ae),Ae.lastColumn=PN(ne,Ae)),Ae})(o,m,d,u),v=y.lastRow-y.firstRow+1,A=y.lastColumn-y.firstColumn+1;i=vN(i,{startRow:0,startColumn:0,endRow:Math.min(v,m.height)-1,endColumn:Math.min(A,m.width)-1},d);const S=o[0].findAncestor("table"),D=this._replaceSelectedCellsWithPasted(i,m,S,y,d);if(this.editor.plugins.get("TableSelection").isEnabled){const N=u.sortRanges(D.map((L=>d.createRangeOn(L))));d.setSelection(N)}else d.setSelection(D[0],0);return S}_replaceSelectedCellsWithPasted(i,o,d,u,m){const{width:y,height:v}=o,A=(function(ue,me,Ae){const Me=new Array(Ae).fill(null).map((()=>new Array(me).fill(null)));for(const{column:Ue,row:qe,cell:Bt}of new Jr(ue))Me[qe][Ue]=Bt;return Me})(i,y,v),S=[...new Jr(d,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],D=[];let N;for(const ue of S){const{row:me,column:Ae}=ue;Ae===u.firstColumn&&(N=ue.getPositionBefore());const Me=me-u.firstRow,Ue=Ae-u.firstColumn,qe=A[Me%v][Ue%y],Bt=qe?m.cloneElement(qe):null,Ut=this._replaceTableSlotCell(ue,Bt,N,m);Ut&&(TN(Ut,me,Ae,u.lastRow,u.lastColumn,m),D.push(Ut),N=m.createPositionAfter(Ut))}const L=parseInt(d.getAttribute("headingRows")||"0"),q=parseInt(d.getAttribute("headingColumns")||"0"),Y=u.firstRow<L&&L<=u.lastRow,ne=u.firstColumn<q&&q<=u.lastColumn;if(Y){const ue=Q4(d,L,{first:u.firstColumn,last:u.lastColumn},m,u.firstRow);D.push(...ue)}if(ne){const ue=$4(d,q,{first:u.firstRow,last:u.lastRow},m);D.push(...ue)}return D}_replaceTableSlotCell(i,o,d,u){const{cell:m,isAnchor:y}=i;return y&&u.remove(m),o?(u.insert(o,d),o):null}getTableIfOnlyTableInContent(i,o){if(!i.is("documentFragment")&&!i.is("element"))return null;if(i.is("element","table"))return i;if(i.childCount==1&&i.getChild(0).is("element","table"))return i.getChild(0);const d=o.createRangeIn(i);for(const u of d.getItems())if(u.is("element","table")){const m=o.createRange(d.start,o.createPositionBefore(u));if(o.hasContent(m,{ignoreWhitespaces:!0}))return null;const y=o.createRange(o.createPositionAfter(u),d.end);return o.hasContent(y,{ignoreWhitespaces:!0})?null:u}return null}}function Q4(g,i,o,d,u=0){if(!(i<1))return _N(g,i,u).filter((({column:m,cellWidth:y})=>IN(m,y,o))).map((({cell:m})=>CN(m,i,d)))}function $4(g,i,o,d){if(!(i<1))return AN(g,i).filter((({row:u,cellHeight:m})=>IN(u,m,o))).map((({cell:u,column:m})=>SN(u,m,i,d)))}function IN(g,i,o){const d=g+i-1,{first:u,last:m}=o;return g>=u&&g<=m||g<u&&d>=u}class Ege extends at{static get pluginName(){return"TableKeyboard"}static get isOfficialPlugin(){return!0}static get requires(){return[Yh,qi]}init(){const i=this.editor,o=i.editing.view.document,d=i.t;this.listenTo(o,"arrowKey",((...u)=>this._onArrowKey(...u)),{context:"table"}),this.listenTo(o,"tab",((...u)=>this._handleTabOnSelectedTable(...u)),{context:"figure"}),this.listenTo(o,"tab",((...u)=>this._handleTab(...u)),{context:["th","td"]}),i.accessibility.addKeystrokeInfoGroup({id:"table",label:d("Keystrokes that can be used in a table cell"),keystrokes:[{label:d("Move the selection to the next cell"),keystroke:"Tab"},{label:d("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:d("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:d("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(i,o){const d=this.editor,u=d.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(o.preventDefault(),o.stopPropagation(),i.stop(),d.model.change((m=>{m.setSelection(m.createRangeIn(u.getChild(0).getChild(0)))})))}_handleTab(i,o){const d=this.editor,u=this.editor.plugins.get(qi),m=this.editor.plugins.get("TableSelection"),y=d.model.document.selection,v=!o.shiftKey;let A=u.getTableCellsContainingSelection(y)[0];if(A||(A=m.getFocusCell()),!A)return;o.preventDefault(),o.stopPropagation(),i.stop();const S=A.parent,D=S.parent,N=D.getChildIndex(S),L=S.getChildIndex(A),q=L===0;if(!v&&q&&N===0)return void d.model.change((me=>{me.setSelection(me.createRangeOn(D))}));const Y=L===S.childCount-1,ne=N===u.getRows(D)-1;if(v&&ne&&Y&&(d.execute("insertTableRowBelow"),N===u.getRows(D)-1))return void d.model.change((me=>{me.setSelection(me.createRangeOn(D))}));let ue;if(v&&Y)ue=D.getChild(N+1).getChild(0);else if(!v&&q){const me=D.getChild(N-1);ue=me.getChild(me.childCount-1)}else ue=S.getChild(L+(v?1:-1));d.model.change((me=>{me.setSelection(me.createRangeIn(ue))}))}_onArrowKey(i,o){const d=this.editor,u=ZA(o.keyCode,d.locale.contentLanguageDirection);this._handleArrowKeys(u,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),i.stop())}_handleArrowKeys(i,o){const d=this.editor.plugins.get(qi),u=this.editor.plugins.get("TableSelection"),m=this.editor.model,y=m.document.selection,v=["right","down"].includes(i),A=d.getSelectedTableCells(y);if(A.length){let D;return D=o?u.getFocusCell():v?A[A.length-1]:A[0],this._navigateFromCellInDirection(D,i,o),!0}const S=y.focus.findAncestor("tableCell");if(!S)return!1;if(!y.isCollapsed)if(o){if(y.isBackward==v&&!y.containsEntireContent(S))return!1}else{const D=y.getSelectedElement();if(!D||!m.schema.isObject(D))return!1}return!!this._isSelectionAtCellEdge(y,S,v)&&(this._navigateFromCellInDirection(S,i,o),!0)}_isSelectionAtCellEdge(i,o,d){const u=this.editor.model,m=this.editor.model.schema,y=d?i.getLastPosition():i.getFirstPosition();if(!m.getLimitElement(y).is("element","tableCell"))return u.createPositionAt(o,d?"end":0).isTouching(y);const v=u.createSelection(y);return u.modifySelection(v,{direction:d?"forward":"backward"}),y.isEqual(v.focus)}_navigateFromCellInDirection(i,o,d=!1){const u=this.editor.model,m=i.findAncestor("table"),y=[...new Jr(m,{includeAllSlots:!0})],{row:v,column:A}=y[y.length-1],S=y.find((({cell:ne})=>ne==i));let{row:D,column:N}=S;switch(o){case"left":N--;break;case"up":D--;break;case"right":N+=S.cellWidth;break;case"down":D+=S.cellHeight}if(D<0||D>v||N<0&&D<=0||N>A&&D>=v)return void u.change((ne=>{ne.setSelection(ne.createRangeOn(m))}));N<0?(N=d?0:A,D--):N>A&&(N=d?A:0,D++);const L=y.find((ne=>ne.row==D&&ne.column==N)).cell,q=["right","down"].includes(o),Y=this.editor.plugins.get("TableSelection");if(d&&Y.isEnabled){const ne=Y.getAnchorCell()||i;Y.setCellSelection(ne,L)}else{const ne=u.createPositionAt(L,q?0:"end");u.change((ue=>{ue.setSelection(ne)}))}}}class Pge extends sc{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(i){this.fire(i.type,i)}}class Dge extends at{static get pluginName(){return"TableMouse"}static get isOfficialPlugin(){return!0}static get requires(){return[Yh,qi]}init(){this.editor.editing.view.addObserver(Pge),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const i=this.editor,o=i.plugins.get(qi);let d=!1;const u=i.plugins.get(Yh);this.listenTo(i.editing.view.document,"mousedown",((m,y)=>{const v=i.model.document.selection;if(!this.isEnabled||!u.isEnabled||!y.domEvent.shiftKey)return;const A=u.getAnchorCell()||o.getTableCellsContainingSelection(v)[0];if(!A)return;const S=this._getModelTableCellFromDomEvent(y);S&&jN(A,S)&&(d=!0,u.setCellSelection(A,S),y.preventDefault())})),this.listenTo(i.editing.view.document,"mouseup",(()=>{d=!1})),this.listenTo(i.editing.view.document,"selectionChange",(m=>{d&&m.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const i=this.editor;let o,d,u=!1,m=!1;const y=i.plugins.get(Yh);this.listenTo(i.editing.view.document,"mousedown",((v,A)=>{this.isEnabled&&y.isEnabled&&(A.domEvent.shiftKey||A.domEvent.ctrlKey||A.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(A)))})),this.listenTo(i.editing.view.document,"mousemove",((v,A)=>{if(!A.domEvent.buttons||!o)return;const S=this._getModelTableCellFromDomEvent(A);S&&jN(o,S)&&(d=S,u||d==o||(u=!0)),u&&(m=!0,y.setCellSelection(o,d),A.preventDefault())})),this.listenTo(i.editing.view.document,"mouseup",(()=>{u=!1,m=!1,o=null,d=null})),this.listenTo(i.editing.view.document,"selectionChange",(v=>{m&&v.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(i){const o=i.target,d=this.editor.editing.view.createPositionAt(o,0);return this.editor.editing.mapper.toModelPosition(d).parent.findAncestor("tableCell",{includeSelf:!0})}}function jN(g,i){return g.parent.parent==i.parent.parent}var Zy=s(2329),Wm={attributes:{"data-cke":!0}};Wm.setAttributes=gt(),Wm.insert=ft().bind(null,"head"),Wm.domAPI=ut(),Wm.insertStyleElement=pt(),ht()(Zy.A,Wm),Zy.A&&Zy.A.locals&&Zy.A.locals;class Qge extends at{static get requires(){return[Cge,Age,Yh,Dge,Ege,Tge,lm]}static get pluginName(){return"Table"}static get isOfficialPlugin(){return!0}}function $ge(g){const i=g.getSelectedElement();return i&&FN(i)?i:null}function Mge(g){const i=g.getFirstPosition();if(!i)return null;let o=i.parent;for(;o;){if(o.is("element")&&FN(o))return o;o=o.parent}return null}function FN(g){return!!g.getCustomProperty("table")&&zn(g)}class Rge extends at{static get requires(){return[ty]}static get pluginName(){return"TableToolbar"}static get isOfficialPlugin(){return!0}afterInit(){const i=this.editor,o=i.t,d=i.plugins.get(ty),u=i.config.get("table.contentToolbar"),m=i.config.get("table.tableToolbar");u&&d.register("tableContent",{ariaLabel:o("Table toolbar"),items:u,getRelatedElement:Mge}),m&&d.register("table",{ariaLabel:o("Table toolbar"),items:m,getRelatedElement:$ge})}}var Gy=s(5506),Ym={attributes:{"data-cke":!0}};Ym.setAttributes=gt(),Ym.insert=ft().bind(null,"head"),Ym.domAPI=ut(),Ym.insertStyleElement=pt(),ht()(Gy.A,Ym),Gy.A&&Gy.A.locals&&Gy.A.locals;var Hy=s(2655),Zm={attributes:{"data-cke":!0}};Zm.setAttributes=gt(),Zm.insert=ft().bind(null,"head"),Zm.domAPI=ut(),Zm.insertStyleElement=pt(),ht()(Hy.A,Zm),Hy.A&&Hy.A.locals&&Hy.A.locals;var Ky=s(4043),Gm={attributes:{"data-cke":!0}};Gm.setAttributes=gt(),Gm.insert=ft().bind(null,"head"),Gm.domAPI=ut(),Gm.insertStyleElement=pt(),ht()(Ky.A,Gm),Ky.A&&Ky.A.locals&&Ky.A.locals;var Jy=s(1623),Hm={attributes:{"data-cke":!0}};Hm.setAttributes=gt(),Hm.insert=ft().bind(null,"head"),Hm.domAPI=ut(),Hm.insertStyleElement=pt(),ht()(Jy.A,Hm),Jy.A&&Jy.A.locals&&Jy.A.locals;var ew=s(8986),Km={attributes:{"data-cke":!0}};Km.setAttributes=gt(),Km.insert=ft().bind(null,"head"),Km.domAPI=ut(),Km.insertStyleElement=pt(),ht()(ew.A,Km),ew.A&&ew.A.locals&&ew.A.locals;var tw=s(5562),Jm={attributes:{"data-cke":!0}};Jm.setAttributes=gt(),Jm.insert=ft().bind(null,"head"),Jm.domAPI=ut(),Jm.insertStyleElement=pt(),ht()(tw.A,Jm),tw.A&&tw.A.locals&&tw.A.locals;var rw=s(4143),e1={attributes:{"data-cke":!0}};e1.setAttributes=gt(),e1.insert=ft().bind(null,"head"),e1.domAPI=ut(),e1.insertStyleElement=pt(),ht()(rw.A,e1),rw.A&&rw.A.locals&&rw.A.locals;var nw=s(8795),t1={attributes:{"data-cke":!0}};t1.setAttributes=gt(),t1.insert=ft().bind(null,"head"),t1.domAPI=ut(),t1.insertStyleElement=pt(),ht()(nw.A,t1),nw.A&&nw.A.locals&&nw.A.locals;const Nge={autoRefresh:!0},LN=36e5;class M4 extends Ge(){constructor(i,o={}){if(super(),this._isDestroyed=!1,!i)throw new F("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh=typeof i=="function"?i:()=>{return d=i,new Promise(((u,m)=>{const y=new XMLHttpRequest;y.open("GET",d),y.addEventListener("load",(()=>{const v=y.status,A=y.response;return v<200||v>299?m(new F("token-cannot-download-new-token",null)):u(A)})),y.addEventListener("error",(()=>m(new Error("Network Error")))),y.addEventListener("abort",(()=>m(new Error("Abort")))),y.send()}));var d},this._options={...Nge,...o}}init(){return new Promise(((i,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),i(this)):this.refreshToken().then(i).catch(o)}))}refreshToken(){const i=this._options.autoRefresh;return this._refresh().then((o=>(this._validateTokenValue(o),this.set("value",o),i&&this._registerRefreshTokenTimeout(),this))).catch((o=>{throw V("token-refresh-failed",{autoRefresh:i}),i&&this._registerRefreshTokenTimeout(5e3),o}))}destroy(){this._isDestroyed=!0,clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(i){const o=typeof i=="string",d=!/^".*"$/.test(i),u=o&&i.split(".").length===3;if(!d||!u)throw new F("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(i){if(clearTimeout(this._tokenRefreshTimeout),this._isDestroyed)return;const o=i||this._getTokenRefreshTimeoutTime();this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),o)}_getTokenRefreshTimeoutTime(){try{const[,i]=this.value.split("."),{exp:o}=JSON.parse(atob(i));return o?Math.floor((1e3*o-Date.now())/2):LN}catch{return LN}}static create(i,o={}){return new M4(i,o).init()}}const R4=/^data:(\S*?);base64,/;class Bge extends K(){constructor(i,o,d){if(super(),!i)throw new F("fileuploader-missing-file",null);if(!o)throw new F("fileuploader-missing-token",null);if(!d)throw new F("fileuploader-missing-api-address",null);this.file=(function(u){if(typeof u!="string")return!1;const m=u.match(R4);return!(!m||!m.length)})(i)?(function(u,m=512){try{const y=u.match(R4)[1],v=atob(u.replace(R4,"")),A=[];for(let S=0;S<v.length;S+=m){const D=v.slice(S,S+m),N=new Array(D.length);for(let L=0;L<D.length;L++)N[L]=D.charCodeAt(L);A.push(new Uint8Array(N))}return new Blob(A,{type:y})}catch{throw new F("fileuploader-decoding-image-data-error",null)}})(i):i,this._token=o,this._apiAddress=d}onProgress(i){return this.on("progress",((o,d)=>i(d))),this}onError(i){return this.once("error",((o,d)=>i(d))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const i=new XMLHttpRequest;i.open("POST",this._apiAddress),i.setRequestHeader("Authorization",this._token.value),i.responseType="json",this.xhr=i}_attachXHRListeners(){const i=this.xhr,o=d=>()=>this.fire("error",d);i.addEventListener("error",o("Network Error")),i.addEventListener("abort",o("Abort")),i.upload&&i.upload.addEventListener("progress",(d=>{d.lengthComputable&&this.fire("progress",{total:d.total,uploaded:d.loaded})})),i.addEventListener("load",(()=>{const d=i.status,u=i.response;if(d<200||d>299)return this.fire("error",u.message||u.error)}))}_sendRequest(){const i=new FormData,o=this.xhr;return i.append("file",this.file),new Promise(((d,u)=>{o.addEventListener("load",(()=>{const m=o.status,y=o.response;return m<200||m>299?y.message?u(new F("fileuploader-uploading-data-failed",this,{message:y.message})):u(y.error):d(y)})),o.addEventListener("error",(()=>u(new Error("Network Error")))),o.addEventListener("abort",(()=>u(new Error("Abort")))),o.send(i)}))}}class Ige{constructor(i,o){if(!i)throw new F("uploadgateway-missing-token",null);if(!o)throw new F("uploadgateway-missing-api-address",null);this._token=i,this._apiAddress=o}upload(i){return new Bge(i,this._token,this._apiAddress)}}class jge extends wb{static get pluginName(){return"CloudServicesCore"}static get isOfficialPlugin(){return!0}createToken(i,o){return new M4(i,o)}createUploadGateway(i,o){return new Ige(i,o)}}class Fge extends wb{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get isOfficialPlugin(){return!0}static get requires(){return[jge]}async init(){const i=this.context.config.get("cloudServices")||{};for(const[d,u]of Object.entries(i))this[d]=u;if(!this.tokenUrl)return void(this.token=null);const o=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl);try{this.token=await o.init(),this._tokens.set(this.tokenUrl,this.token)}catch(d){throw o.destroy(),d}}async registerTokenUrl(i){if(this._tokens.has(i))return this.getTokenFor(i);const o=this.context.plugins.get("CloudServicesCore"),d=await o.createToken(i).init();return this._tokens.set(i,d),d}getTokenFor(i){const o=this._tokens.get(i);if(!o)throw new F("cloudservices-token-not-registered",this);return o}destroy(){super.destroy();for(const i of this._tokens.values())i.destroy()}}const cw=class cw extends khe{};cw.builtinPlugins=[vue,Sue,Eue,Que,Rue,jue,t0e,s0e,Fge,l0e,g0e,A0e,P0e,F0e,L0e,B0e,U0e,pfe,Sfe,Rfe,hy,tge,z0e,Qge,Rge,Xhe],cw.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"};let N4=cw})(),a=a.default})()))})($1,$1.exports)),$1.exports}var Nye=Rye();const Bye=OC(Nye);let lT=[],nW=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,r=0;e<t.length;e++)(e%2?nW:lT).push(r=r+t[e])})();function Iye(t){if(t<768)return!1;for(let e=0,r=lT.length;;){let n=e+r>>1;if(t<lT[n])r=n;else if(t>=nW[n])e=n+1;else return!0;if(e==r)return!1}}function AB(t){return t>=127462&&t<=127487}const SB=8205;function jye(t,e,r=!0,n=!0){return(r?iW:Fye)(t,e,n)}function iW(t,e,r){if(e==t.length)return e;e&&sW(t.charCodeAt(e))&&aW(t.charCodeAt(e-1))&&e--;let n=r5(t,e);for(e+=TB(n);e<t.length;){let s=r5(t,e);if(n==SB||s==SB||r&&Iye(s))e+=TB(s),n=s;else if(AB(s)){let a=0,l=e-2;for(;l>=0&&AB(r5(t,l));)a++,l-=2;if(a%2==0)break;e+=2}else break}return e}function Fye(t,e,r){for(;e>0;){let n=iW(t,e-2,r);if(n<e)return n;e--}return 0}function r5(t,e){let r=t.charCodeAt(e);if(!aW(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return sW(n)?(r-55296<<10)+(n-56320)+65536:r}function sW(t){return t>=56320&&t<57344}function aW(t){return t>=55296&&t<56320}function TB(t){return t<65536?1:2}class Nr{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){[e,r]=jf(this,e,r);let s=[];return this.decompose(0,e,s,2),n.length&&n.decompose(0,n.length,s,3),this.decompose(r,this.length,s,1),Sv.from(s,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){[e,r]=jf(this,e,r);let n=[];return this.decompose(e,r,n,0),Sv.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),s=new rO(this),a=new rO(e);for(let l=r,c=r;;){if(s.next(l),a.next(l),l=0,s.lineBreak!=a.lineBreak||s.done!=a.done||s.value!=a.value)return!1;if(c+=s.value.length,s.done||c>=n)return!0}}iter(e=1){return new rO(this,e)}iterRange(e,r=this.length){return new oW(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let s=this.line(e).from;n=this.iterRange(s,Math.max(s,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new lW(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Nr.empty:e.length<=32?new Jn(e):Sv.from(Jn.split(e,[]))}}class Jn extends Nr{constructor(e,r=Lye(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,s){for(let a=0;;a++){let l=this.text[a],c=s+l.length;if((r?n:c)>=e)return new zye(s,c,n,l);s=c+1,n++}}decompose(e,r,n,s){let a=e<=0&&r>=this.length?this:new Jn(EB(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(s&1){let l=n.pop(),c=Tv(a.text,l.text.slice(),0,a.length);if(c.length<=32)n.push(new Jn(c,l.length+a.length));else{let h=c.length>>1;n.push(new Jn(c.slice(0,h)),new Jn(c.slice(h)))}}else n.push(a)}replace(e,r,n){if(!(n instanceof Jn))return super.replace(e,r,n);[e,r]=jf(this,e,r);let s=Tv(this.text,Tv(n.text,EB(this.text,0,e)),r),a=this.length+n.length-(r-e);return s.length<=32?new Jn(s,a):Sv.from(Jn.split(s,[]),a)}sliceString(e,r=this.length,n=`
`){[e,r]=jf(this,e,r);let s="";for(let a=0,l=0;a<=r&&l<this.text.length;l++){let c=this.text[l],h=a+c.length;a>e&&l&&(s+=n),e<h&&r>a&&(s+=c.slice(Math.max(0,e-a),r-a)),a=h+1}return s}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],s=-1;for(let a of e)n.push(a),s+=a.length+1,n.length==32&&(r.push(new Jn(n,s)),n=[],s=-1);return s>-1&&r.push(new Jn(n,s)),r}}let Sv=class V0 extends Nr{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,s){for(let a=0;;a++){let l=this.children[a],c=s+l.length,h=n+l.lines-1;if((r?h:c)>=e)return l.lineInner(e,r,n,s);s=c+1,n=h+1}}decompose(e,r,n,s){for(let a=0,l=0;l<=r&&a<this.children.length;a++){let c=this.children[a],h=l+c.length;if(e<=h&&r>=l){let f=s&((l<=e?1:0)|(h>=r?2:0));l>=e&&h<=r&&!f?n.push(c):c.decompose(e-l,r-l,n,f)}l=h+1}}replace(e,r,n){if([e,r]=jf(this,e,r),n.lines<this.lines)for(let s=0,a=0;s<this.children.length;s++){let l=this.children[s],c=a+l.length;if(e>=a&&r<=c){let h=l.replace(e-a,r-a,n),f=this.lines-l.lines+h.lines;if(h.lines<f>>4&&h.lines>f>>6){let p=this.children.slice();return p[s]=h,new V0(p,this.length-(r-e)+n.length)}return super.replace(a,c,h)}a=c+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){[e,r]=jf(this,e,r);let s="";for(let a=0,l=0;a<this.children.length&&l<=r;a++){let c=this.children[a],h=l+c.length;l>e&&a&&(s+=n),e<h&&r>l&&(s+=c.sliceString(e-l,r-l,n)),l=h+1}return s}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof V0))return 0;let n=0,[s,a,l,c]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=r,a+=r){if(s==l||a==c)return n;let h=this.children[s],f=e.children[a];if(h!=f)return n+h.scanIdentical(f,r);n+=h.length+1}}static from(e,r=e.reduce((n,s)=>n+s.length+1,-1)){let n=0;for(let k of e)n+=k.lines;if(n<32){let k=[];for(let w of e)w.flatten(k);return new Jn(k,r)}let s=Math.max(32,n>>5),a=s<<1,l=s>>1,c=[],h=0,f=-1,p=[];function O(k){let w;if(k.lines>a&&k instanceof V0)for(let _ of k.children)O(_);else k.lines>l&&(h>l||!h)?(x(),c.push(k)):k instanceof Jn&&h&&(w=p[p.length-1])instanceof Jn&&k.lines+w.lines<=32?(h+=k.lines,f+=k.length+1,p[p.length-1]=new Jn(w.text.concat(k.text),w.length+1+k.length)):(h+k.lines>s&&x(),h+=k.lines,f+=k.length+1,p.push(k))}function x(){h!=0&&(c.push(p.length==1?p[0]:V0.from(p,f)),f=-1,h=p.length=0)}for(let k of e)O(k);return x(),c.length==1?c[0]:new V0(c,r)}};Nr.empty=new Jn([""],0);function Lye(t){let e=-1;for(let r of t)e+=r.length+1;return e}function Tv(t,e,r=0,n=1e9){for(let s=0,a=0,l=!0;a<t.length&&s<=n;a++){let c=t[a],h=s+c.length;h>=r&&(h>n&&(c=c.slice(0,n-s)),s<r&&(c=c.slice(r-s)),l?(e[e.length-1]+=c,l=!1):e.push(c)),s=h+1}return e}function EB(t,e,r){return Tv(t,[""],e,r)}class rO{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof Jn?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,s=this.nodes[n],a=this.offsets[n],l=a>>1,c=s instanceof Jn?s.text.length:s.children.length;if(l==(r>0?c:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Jn){let h=s.text[l+(r<0?-1:0)];if(this.offsets[n]+=r,h.length>Math.max(0,e))return this.value=e==0?h:r>0?h.slice(e):h.slice(0,h.length-e),this;e-=h.length}else{let h=s.children[l+(r<0?-1:0)];e>h.length?(e-=h.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(h),this.offsets.push(r>0?1:(h instanceof Jn?h.text.length:h.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class oW{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new rO(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*r,this.value=s.length<=n?s:r<0?s.slice(s.length-n):s.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class lW{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:s}=this.inner.next(e);return r&&this.afterBreak?(this.value="",this.afterBreak=!1):r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Nr.prototype[Symbol.iterator]=function(){return this.iter()},rO.prototype[Symbol.iterator]=oW.prototype[Symbol.iterator]=lW.prototype[Symbol.iterator]=function(){return this});class zye{constructor(e,r,n,s){this.from=e,this.to=r,this.number=n,this.text=s}get length(){return this.to-this.from}}function jf(t,e,r){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,r))]}function ts(t,e,r=!0,n=!0){return jye(t,e,r,n)}function Xye(t){return t>=56320&&t<57344}function Vye(t){return t>=55296&&t<56320}function ca(t,e){let r=t.charCodeAt(e);if(!Vye(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return Xye(n)?(r-55296<<10)+(n-56320)+65536:r}function oP(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Dl(t){return t<65536?1:2}const cT=/\r\n?|\n/;var Ji=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Ji||(Ji={}));class jl{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,s=0;r<this.sections.length;){let a=this.sections[r++],l=this.sections[r++];l<0?(e(n,s,a),s+=a):s+=l,n+=a}}iterChangedRanges(e,r=!1){dT(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],s=this.sections[r++];s<0?e.push(n,s):e.push(s,n)}return new jl(e)}composeDesc(e){return this.empty?e:e.empty?this:cW(this,e)}mapDesc(e,r=!1){return e.empty?this:hT(this,e,r)}mapPos(e,r=-1,n=Ji.Simple){let s=0,a=0;for(let l=0;l<this.sections.length;){let c=this.sections[l++],h=this.sections[l++],f=s+c;if(h<0){if(f>e)return a+(e-s);a+=c}else{if(n!=Ji.Simple&&f>=e&&(n==Ji.TrackDel&&s<e&&f>e||n==Ji.TrackBefore&&s<e||n==Ji.TrackAfter&&f>e))return null;if(f>e||f==e&&r<0&&!c)return e==s||r<0?a:a+h;a+=h}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return a}touchesRange(e,r=e){for(let n=0,s=0;n<this.sections.length&&s<=r;){let a=this.sections[n++],l=this.sections[n++],c=s+a;if(l>=0&&s<=r&&c>=e)return s<e&&c>r?"cover":!0;s=c}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],s=this.sections[r++];e+=(e?" ":"")+n+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new jl(e)}static create(e){return new jl(e)}}class xi extends jl{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return dT(this,(r,n,s,a,l)=>e=e.replace(s,s+(n-r),l),!1),e}mapDesc(e,r=!1){return hT(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let s=0,a=0;s<r.length;s+=2){let l=r[s],c=r[s+1];if(c>=0){r[s]=c,r[s+1]=l;let h=s>>1;for(;n.length<h;)n.push(Nr.empty);n.push(l?e.slice(a,a+l):Nr.empty)}a+=l}return new xi(r,n)}compose(e){return this.empty?e:e.empty?this:cW(this,e,!0)}map(e,r=!1){return e.empty?this:hT(this,e,r,!0)}iterChanges(e,r=!1){dT(this,e,r)}get desc(){return jl.create(this.sections)}filter(e){let r=[],n=[],s=[],a=new DO(this);e:for(let l=0,c=0;;){let h=l==e.length?1e9:e[l++];for(;c<h||c==h&&a.len==0;){if(a.done)break e;let p=Math.min(a.len,h-c);us(s,p,-1);let O=a.ins==-1?-1:a.off==0?a.ins:0;us(r,p,O),O>0&&Ld(n,r,a.text),a.forward(p),c+=p}let f=e[l++];for(;c<f;){if(a.done)break e;let p=Math.min(a.len,f-c);us(r,p,-1),us(s,p,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(p),c+=p}}return{changes:new xi(r,n),filtered:jl.create(s)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],s=this.sections[r+1];s<0?e.push(n):s==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let s=[],a=[],l=0,c=null;function h(p=!1){if(!p&&!s.length)return;l<r&&us(s,r-l,-1);let O=new xi(s,a);c=c?c.compose(O.map(c)):O,s=[],a=[],l=0}function f(p){if(Array.isArray(p))for(let O of p)f(O);else if(p instanceof xi){if(p.length!=r)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${r})`);h(),c=c?c.compose(p.map(c)):p}else{let{from:O,to:x=O,insert:k}=p;if(O>x||O<0||x>r)throw new RangeError(`Invalid change range ${O} to ${x} (in doc of length ${r})`);let w=k?typeof k=="string"?Nr.of(k.split(n||cT)):k:Nr.empty,_=w.length;if(O==x&&_==0)return;O<l&&h(),O>l&&us(s,O-l,-1),us(s,x-O,_),Ld(a,s,w),l=x}}return f(e),h(!c),c}static empty(e){return new xi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")r.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((l,c)=>c&&typeof l!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)r.push(a[0],0);else{for(;n.length<s;)n.push(Nr.empty);n[s]=Nr.of(a.slice(1)),r.push(a[0],n[s].length)}}}return new xi(r,n)}static createSet(e,r){return new xi(e,r)}}function us(t,e,r,n=!1){if(e==0&&r<=0)return;let s=t.length-2;s>=0&&r<=0&&r==t[s+1]?t[s]+=e:s>=0&&e==0&&t[s]==0?t[s+1]+=r:n?(t[s]+=e,t[s+1]+=r):t.push(e,r)}function Ld(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(Nr.empty);t.push(r)}}function dT(t,e,r){let n=t.inserted;for(let s=0,a=0,l=0;l<t.sections.length;){let c=t.sections[l++],h=t.sections[l++];if(h<0)s+=c,a+=c;else{let f=s,p=a,O=Nr.empty;for(;f+=c,p+=h,h&&n&&(O=O.append(n[l-2>>1])),!(r||l==t.sections.length||t.sections[l+1]<0);)c=t.sections[l++],h=t.sections[l++];e(s,f,a,p,O),s=f,a=p}}}function hT(t,e,r,n=!1){let s=[],a=n?[]:null,l=new DO(t),c=new DO(e);for(let h=-1;;){if(l.done&&c.len||c.done&&l.len)throw new Error("Mismatched change set lengths");if(l.ins==-1&&c.ins==-1){let f=Math.min(l.len,c.len);us(s,f,-1),l.forward(f),c.forward(f)}else if(c.ins>=0&&(l.ins<0||h==l.i||l.off==0&&(c.len<l.len||c.len==l.len&&!r))){let f=c.len;for(us(s,c.ins,-1);f;){let p=Math.min(l.len,f);l.ins>=0&&h<l.i&&l.len<=p&&(us(s,0,l.ins),a&&Ld(a,s,l.text),h=l.i),l.forward(p),f-=p}c.next()}else if(l.ins>=0){let f=0,p=l.len;for(;p;)if(c.ins==-1){let O=Math.min(p,c.len);f+=O,p-=O,c.forward(O)}else if(c.ins==0&&c.len<p)p-=c.len,c.next();else break;us(s,f,h<l.i?l.ins:0),a&&h<l.i&&Ld(a,s,l.text),h=l.i,l.forward(l.len-p)}else{if(l.done&&c.done)return a?xi.createSet(s,a):jl.create(s);throw new Error("Mismatched change set lengths")}}}function cW(t,e,r=!1){let n=[],s=r?[]:null,a=new DO(t),l=new DO(e);for(let c=!1;;){if(a.done&&l.done)return s?xi.createSet(n,s):jl.create(n);if(a.ins==0)us(n,a.len,0,c),a.next();else if(l.len==0&&!l.done)us(n,0,l.ins,c),s&&Ld(s,n,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let h=Math.min(a.len2,l.len),f=n.length;if(a.ins==-1){let p=l.ins==-1?-1:l.off?0:l.ins;us(n,h,p,c),s&&p&&Ld(s,n,l.text)}else l.ins==-1?(us(n,a.off?0:a.len,h,c),s&&Ld(s,n,a.textBit(h))):(us(n,a.off?0:a.len,l.off?0:l.ins,c),s&&!l.off&&Ld(s,n,l.text));c=(a.ins>h||l.ins>=0&&l.len>h)&&(c||n.length>f),a.forward2(h),l.forward(h)}}}}class DO{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?Nr.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?Nr.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class cu{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,r=-1){let n,s;return this.empty?n=s=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),n==this.from&&s==this.to?this:new cu(n,s,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return Ke.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return Ke.range(this.anchor,n)}eq(e,r=!1){return this.anchor==e.anchor&&this.head==e.head&&(!r||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ke.range(e.anchor,e.head)}static create(e,r,n){return new cu(e,r,n)}}class Ke{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:Ke.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e,r=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],r))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ke([this.main],0)}addRange(e,r=!0){return Ke.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,Ke.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ke(e.ranges.map(r=>cu.fromJSON(r)),e.main)}static single(e,r=e){return new Ke([Ke.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,s=0;s<e.length;s++){let a=e[s];if(a.empty?a.from<=n:a.from<n)return Ke.normalized(e.slice(),r);n=a.to}return new Ke(e,r)}static cursor(e,r=0,n,s){return cu.create(e,e,(r==0?0:r<0?8:16)|(n==null?7:Math.min(6,n))|(s??16777215)<<6)}static range(e,r,n,s){let a=(n??16777215)<<6|(s==null?7:Math.min(6,s));return r<e?cu.create(r,e,48|a):cu.create(e,r,(r>e?8:0)|a)}static normalized(e,r=0){let n=e[r];e.sort((s,a)=>s.from-a.from),r=e.indexOf(n);for(let s=1;s<e.length;s++){let a=e[s],l=e[s-1];if(a.empty?a.from<=l.to:a.from<l.to){let c=l.from,h=Math.max(a.to,l.to);s<=r&&r--,e.splice(--s,2,a.anchor>a.head?Ke.range(h,c):Ke.range(c,h))}}return new Ke(e,r)}}function dW(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let lP=0;class Pt{constructor(e,r,n,s,a){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=s,this.id=lP++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new Pt(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:cP),!!e.static,e.enables)}of(e){return new Ev([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ev(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ev(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function cP(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class Ev{constructor(e,r,n,s){this.dependencies=e,this.facet=r,this.type=n,this.value=s,this.id=lP++}dynamicSlot(e){var r;let n=this.value,s=this.facet.compareInput,a=this.id,l=e[a]>>1,c=this.type==2,h=!1,f=!1,p=[];for(let O of this.dependencies)O=="doc"?h=!0:O=="selection"?f=!0:(((r=e[O.id])!==null&&r!==void 0?r:1)&1)==0&&p.push(e[O.id]);return{create(O){return O.values[l]=n(O),1},update(O,x){if(h&&x.docChanged||f&&(x.docChanged||x.selection)||uT(O,p)){let k=n(O);if(c?!PB(k,O.values[l],s):!s(k,O.values[l]))return O.values[l]=k,1}return 0},reconfigure:(O,x)=>{let k,w=x.config.address[a];if(w!=null){let _=G2(x,w);if(this.dependencies.every(C=>C instanceof Pt?x.facet(C)===O.facet(C):C instanceof ji?x.field(C,!1)==O.field(C,!1):!0)||(c?PB(k=n(O),_,s):s(k=n(O),_)))return O.values[l]=_,0}else k=n(O);return O.values[l]=k,1}}}}function PB(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function uT(t,e){let r=!1;for(let n of e)nO(t,n)&1&&(r=!0);return r}function Uye(t,e,r){let n=r.map(h=>t[h.id]),s=r.map(h=>h.type),a=n.filter(h=>!(h&1)),l=t[e.id]>>1;function c(h){let f=[];for(let p=0;p<n.length;p++){let O=G2(h,n[p]);if(s[p]==2)for(let x of O)f.push(x);else f.push(O)}return e.combine(f)}return{create(h){for(let f of n)nO(h,f);return h.values[l]=c(h),1},update(h,f){if(!uT(h,a))return 0;let p=c(h);return e.compare(p,h.values[l])?0:(h.values[l]=p,1)},reconfigure(h,f){let p=uT(h,n),O=f.config.facets[e.id],x=f.facet(e);if(O&&!p&&cP(r,O))return h.values[l]=x,0;let k=c(h);return e.compare(k,x)?(h.values[l]=x,0):(h.values[l]=k,1)}}}const kw=Pt.define({static:!0});class ji{constructor(e,r,n,s,a){this.id=e,this.createF=r,this.updateF=n,this.compareF=s,this.spec=a,this.provides=void 0}static define(e){let r=new ji(lP++,e.create,e.update,e.compare||((n,s)=>n===s),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(kw).find(n=>n.field==this);return((r==null?void 0:r.create)||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,s)=>{let a=n.values[r],l=this.updateF(a,s);return this.compareF(a,l)?0:(n.values[r]=l,1)},reconfigure:(n,s)=>{let a=n.facet(kw),l=s.facet(kw),c;return(c=a.find(h=>h.field==this))&&c!=l.find(h=>h.field==this)?(n.values[r]=c.create(n),1):s.config.address[this.id]!=null?(n.values[r]=s.field(this),0):(n.values[r]=this.create(n),1)}}}init(e){return[this,kw.of({field:this,create:e})]}get extension(){return this}}const iu={lowest:4,low:3,default:2,high:1,highest:0};function d1(t){return e=>new hW(e,t)}const Ch={highest:d1(iu.highest),high:d1(iu.high),default:d1(iu.default),low:d1(iu.low),lowest:d1(iu.lowest)};class hW{constructor(e,r){this.inner=e,this.prec=r}}class DC{of(e){return new fT(this,e)}reconfigure(e){return DC.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class fT{constructor(e,r){this.compartment=e,this.inner=r}}class Z2{constructor(e,r,n,s,a,l){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=s,this.staticValues=a,this.facets=l,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let s=[],a=Object.create(null),l=new Map;for(let x of qye(e,r,l))x instanceof ji?s.push(x):(a[x.facet.id]||(a[x.facet.id]=[])).push(x);let c=Object.create(null),h=[],f=[];for(let x of s)c[x.id]=f.length<<1,f.push(k=>x.slot(k));let p=n==null?void 0:n.config.facets;for(let x in a){let k=a[x],w=k[0].facet,_=p&&p[x]||[];if(k.every(C=>C.type==0))if(c[w.id]=h.length<<1|1,cP(_,k))h.push(n.facet(w));else{let C=w.combine(k.map(T=>T.value));h.push(n&&w.compare(C,n.facet(w))?n.facet(w):C)}else{for(let C of k)C.type==0?(c[C.id]=h.length<<1|1,h.push(C.value)):(c[C.id]=f.length<<1,f.push(T=>C.dynamicSlot(T)));c[w.id]=f.length<<1,f.push(C=>Uye(C,w,k))}}let O=f.map(x=>x(c));return new Z2(e,l,O,c,h,a)}}function qye(t,e,r){let n=[[],[],[],[],[]],s=new Map;function a(l,c){let h=s.get(l);if(h!=null){if(h<=c)return;let f=n[h].indexOf(l);f>-1&&n[h].splice(f,1),l instanceof fT&&r.delete(l.compartment)}if(s.set(l,c),Array.isArray(l))for(let f of l)a(f,c);else if(l instanceof fT){if(r.has(l.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(l.compartment)||l.inner;r.set(l.compartment,f),a(f,c)}else if(l instanceof hW)a(l.inner,l.prec);else if(l instanceof ji)n[c].push(l),l.provides&&a(l.provides,c);else if(l instanceof Ev)n[c].push(l),l.facet.extensions&&a(l.facet.extensions,iu.default);else{let f=l.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${l}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(f,c)}}return a(t,iu.default),n.reduce((l,c)=>l.concat(c))}function nO(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let s=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|s}function G2(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const uW=Pt.define(),gT=Pt.define({combine:t=>t.some(e=>e),static:!0}),fW=Pt.define({combine:t=>t.length?t[0]:void 0,static:!0}),gW=Pt.define(),pW=Pt.define(),mW=Pt.define(),OW=Pt.define({combine:t=>t.length?t[0]:!1});class ql{constructor(e,r){this.type=e,this.value=r}static define(){return new Wye}}class Wye{of(e){return new ql(this,e)}}class Yye{constructor(e){this.map=e}of(e){return new ur(this,e)}}class ur{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new ur(this.type,r)}is(e){return this.type==e}static define(e={}){return new Yye(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let s of e){let a=s.map(r);a&&n.push(a)}return n}}ur.reconfigure=ur.define();ur.appendConfig=ur.define();class fi{constructor(e,r,n,s,a,l){this.startState=e,this.changes=r,this.selection=n,this.effects=s,this.annotations=a,this.scrollIntoView=l,this._doc=null,this._state=null,n&&dW(n,r.newLength),a.some(c=>c.type==fi.time)||(this.annotations=a.concat(fi.time.of(Date.now())))}static create(e,r,n,s,a,l){return new fi(e,r,n,s,a,l)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(fi.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}fi.time=ql.define();fi.userEvent=ql.define();fi.addToHistory=ql.define();fi.remote=ql.define();function Zye(t,e){let r=[];for(let n=0,s=0;;){let a,l;if(n<t.length&&(s==e.length||e[s]>=t[n]))a=t[n++],l=t[n++];else if(s<e.length)a=e[s++],l=e[s++];else return r;!r.length||r[r.length-1]<a?r.push(a,l):r[r.length-1]<l&&(r[r.length-1]=l)}}function xW(t,e,r){var n;let s,a,l;return r?(s=e.changes,a=xi.empty(e.changes.length),l=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),l=t.changes.compose(s)),{changes:l,selection:e.selection?e.selection.map(a):(n=t.selection)===null||n===void 0?void 0:n.map(s),effects:ur.mapEffects(t.effects,s).concat(ur.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function pT(t,e,r){let n=e.selection,s=ff(e.annotations);return e.userEvent&&(s=s.concat(fi.userEvent.of(e.userEvent))),{changes:e.changes instanceof xi?e.changes:xi.of(e.changes||[],r,t.facet(fW)),selection:n&&(n instanceof Ke?n:Ke.single(n.anchor,n.head)),effects:ff(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function bW(t,e,r){let n=pT(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(r=!1);let l=!!e[a].sequential;n=xW(n,pT(t,e[a],l?n.changes.newLength:t.doc.length),l)}let s=fi.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return Hye(r?Gye(s):s)}function Gye(t){let e=t.startState,r=!0;for(let s of e.facet(gW)){let a=s(t);if(a===!1){r=!1;break}Array.isArray(a)&&(r=r===!0?a:Zye(r,a))}if(r!==!0){let s,a;if(r===!1)a=t.changes.invertedDesc,s=xi.empty(e.doc.length);else{let l=t.changes.filter(r);s=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}t=fi.create(e,s,t.selection&&t.selection.map(a),ur.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let n=e.facet(pW);for(let s=n.length-1;s>=0;s--){let a=n[s](t);a instanceof fi?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof fi?t=a[0]:t=bW(e,ff(a),!1)}return t}function Hye(t){let e=t.startState,r=e.facet(mW),n=t;for(let s=r.length-1;s>=0;s--){let a=r[s](t);a&&Object.keys(a).length&&(n=xW(n,pT(e,a,t.changes.newLength),!0))}return n==t?t:fi.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const Kye=[];function ff(t){return t==null?Kye:Array.isArray(t)?t:[t]}var Dn=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Dn||(Dn={}));const Jye=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let mT;try{mT=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function ewe(t){if(mT)return mT.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||Jye.test(r)))return!0}return!1}function twe(t){return e=>{if(!/\S/.test(e))return Dn.Space;if(ewe(e))return Dn.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return Dn.Word;return Dn.Other}}class Dr{constructor(e,r,n,s,a,l){this.config=e,this.doc=r,this.selection=n,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=a,l&&(l._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)nO(this,c<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return nO(this,n),G2(this,n)}update(...e){return bW(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:s}=r;for(let c of e.effects)c.is(DC.reconfigure)?(r&&(s=new Map,r.compartments.forEach((h,f)=>s.set(f,h)),r=null),s.set(c.value.compartment,c.value.extension)):c.is(ur.reconfigure)?(r=null,n=c.value):c.is(ur.appendConfig)&&(r=null,n=ff(n).concat(c.value));let a;r?a=e.startState.values.slice():(r=Z2.resolve(n,s,this),a=new Dr(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(h,f)=>f.reconfigure(h,this),null).values);let l=e.startState.facet(gT)?e.newSelection:e.newSelection.asSingle();new Dr(r,e.newDoc,l,a,(c,h)=>h.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:Ke.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),s=this.changes(n.changes),a=[n.range],l=ff(n.effects);for(let c=1;c<r.ranges.length;c++){let h=e(r.ranges[c]),f=this.changes(h.changes),p=f.map(s);for(let x=0;x<c;x++)a[x]=a[x].map(p);let O=s.mapDesc(f,!0);a.push(h.range.map(O)),s=s.compose(p),l=ur.mapEffects(l,p).concat(ur.mapEffects(ff(h.effects),O))}return{changes:s,selection:Ke.create(a,r.mainIndex),effects:l}}changes(e=[]){return e instanceof xi?e:xi.of(e,this.doc.length,this.facet(Dr.lineSeparator))}toText(e){return Nr.of(e.split(this.facet(Dr.lineSeparator)||cT))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(nO(this,r),G2(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let s=e[n];s instanceof ji&&this.config.address[s.id]!=null&&(r[n]=s.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(n){for(let a in n)if(Object.prototype.hasOwnProperty.call(e,a)){let l=n[a],c=e[a];s.push(l.init(h=>l.spec.fromJSON(c,h)))}}return Dr.create({doc:e.doc,selection:Ke.fromJSON(e.selection),extensions:r.extensions?s.concat([r.extensions]):s})}static create(e={}){let r=Z2.resolve(e.extensions||[],new Map),n=e.doc instanceof Nr?e.doc:Nr.of((e.doc||"").split(r.staticFacet(Dr.lineSeparator)||cT)),s=e.selection?e.selection instanceof Ke?e.selection:Ke.single(e.selection.anchor,e.selection.head):Ke.single(0);return dW(s,n.length),r.staticFacet(gT)||(s=s.asSingle()),new Dr(r,n,s,r.dynamicSlots.map(()=>null),(a,l)=>l.create(a),null)}get tabSize(){return this.facet(Dr.tabSize)}get lineBreak(){return this.facet(Dr.lineSeparator)||`
`}get readOnly(){return this.facet(OW)}phrase(e,...r){for(let n of this.facet(Dr.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,s)=>{if(s=="$")return"$";let a=+(s||1);return!a||a>r.length?n:r[a-1]})),e}languageDataAt(e,r,n=-1){let s=[];for(let a of this.facet(uW))for(let l of a(this,r,n))Object.prototype.hasOwnProperty.call(l,e)&&s.push(l[e]);return s}charCategorizer(e){return twe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:s}=this.doc.lineAt(e),a=this.charCategorizer(e),l=e-n,c=e-n;for(;l>0;){let h=ts(r,l,!1);if(a(r.slice(h,l))!=Dn.Word)break;l=h}for(;c<s;){let h=ts(r,c);if(a(r.slice(c,h))!=Dn.Word)break;c=h}return l==c?null:Ke.range(l+n,c+n)}}Dr.allowMultipleSelections=gT;Dr.tabSize=Pt.define({combine:t=>t.length?t[0]:4});Dr.lineSeparator=fW;Dr.readOnly=OW;Dr.phrases=Pt.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(s=>t[s]==e[s])}});Dr.languageData=uW;Dr.changeFilter=gW;Dr.transactionFilter=pW;Dr.transactionExtender=mW;DC.reconfigure=ur.define();function Wl(t,e,r={}){let n={};for(let s of t)for(let a of Object.keys(s)){let l=s[a],c=n[a];if(c===void 0)n[a]=l;else if(!(c===l||l===void 0))if(Object.hasOwnProperty.call(r,a))n[a]=r[a](c,l);else throw new Error("Config merge conflict for field "+a)}for(let s in e)n[s]===void 0&&(n[s]=e[s]);return n}class Au{eq(e){return this==e}range(e,r=e){return OT.create(e,r,this)}}Au.prototype.startSide=Au.prototype.endSide=0;Au.prototype.point=!1;Au.prototype.mapMode=Ji.TrackDel;let OT=class kW{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new kW(e,r,n)}};function xT(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class dP{constructor(e,r,n,s){this.from=e,this.to=r,this.value=n,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,s=0){let a=n?this.to:this.from;for(let l=s,c=a.length;;){if(l==c)return l;let h=l+c>>1,f=a[h]-e||(n?this.value[h].endSide:this.value[h].startSide)-r;if(h==l)return f>=0?l:c;f>=0?c=h:l=h+1}}between(e,r,n,s){for(let a=this.findIndex(r,-1e9,!0),l=this.findIndex(n,1e9,!1,a);a<l;a++)if(s(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,r){let n=[],s=[],a=[],l=-1,c=-1;for(let h=0;h<this.value.length;h++){let f=this.value[h],p=this.from[h]+e,O=this.to[h]+e,x,k;if(p==O){let w=r.mapPos(p,f.startSide,f.mapMode);if(w==null||(x=k=w,f.startSide!=f.endSide&&(k=r.mapPos(p,f.endSide),k<x)))continue}else if(x=r.mapPos(p,f.startSide),k=r.mapPos(O,f.endSide),x>k||x==k&&f.startSide>0&&f.endSide<=0)continue;(k-x||f.endSide-f.startSide)<0||(l<0&&(l=x),f.point&&(c=Math.max(c,k-x)),n.push(f),s.push(x-l),a.push(k-l))}return{mapped:n.length?new dP(s,a,n,c):null,pos:l}}}class Ir{constructor(e,r,n,s){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=s}static create(e,r,n,s){return new Ir(e,r,n,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:s=0,filterTo:a=this.length}=e,l=e.filter;if(r.length==0&&!l)return this;if(n&&(r=r.slice().sort(xT)),this.isEmpty)return r.length?Ir.of(r):this;let c=new yW(this,null,-1).goto(0),h=0,f=[],p=new Yc;for(;c.value||h<r.length;)if(h<r.length&&(c.from-r[h].from||c.startSide-r[h].value.startSide)>=0){let O=r[h++];p.addInner(O.from,O.to,O.value)||f.push(O)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(h==r.length||this.chunkEnd(c.chunkIndex)<r[h].from)&&(!l||s>this.chunkEnd(c.chunkIndex)||a<this.chunkPos[c.chunkIndex])&&p.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!l||s>c.to||a<c.from||l(c.from,c.to,c.value))&&(p.addInner(c.from,c.to,c.value)||f.push(OT.create(c.from,c.to,c.value))),c.next());return p.finishInner(this.nextLayer.isEmpty&&!f.length?Ir.empty:this.nextLayer.update({add:f,filter:l,filterFrom:s,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],s=-1;for(let l=0;l<this.chunk.length;l++){let c=this.chunkPos[l],h=this.chunk[l],f=e.touchesRange(c,c+h.length);if(f===!1)s=Math.max(s,h.maxPoint),r.push(h),n.push(e.mapPos(c));else if(f===!0){let{mapped:p,pos:O}=h.map(c,e);p&&(s=Math.max(s,p.maxPoint),r.push(p),n.push(O))}}let a=this.nextLayer.map(e);return r.length==0?a:new Ir(n,r,a||Ir.empty,s)}between(e,r,n){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s];if(r>=a&&e<=a+l.length&&l.between(a,e-a,r-a,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return QO.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return QO.from(e).goto(r)}static compare(e,r,n,s,a=-1){let l=e.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=a),c=r.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=a),h=DB(l,c,n),f=new h1(l,h,a),p=new h1(c,h,a);n.iterGaps((O,x,k)=>QB(f,O,p,x,k,s)),n.empty&&n.length==0&&QB(f,0,p,0,0,s)}static eq(e,r,n=0,s){s==null&&(s=999999999);let a=e.filter(p=>!p.isEmpty&&r.indexOf(p)<0),l=r.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(a.length!=l.length)return!1;if(!a.length)return!0;let c=DB(a,l),h=new h1(a,c,0).goto(n),f=new h1(l,c,0).goto(n);for(;;){if(h.to!=f.to||!bT(h.active,f.active)||h.point&&(!f.point||!h.point.eq(f.point)))return!1;if(h.to>s)return!0;h.next(),f.next()}}static spans(e,r,n,s,a=-1){let l=new h1(e,null,a).goto(r),c=r,h=l.openStart;for(;;){let f=Math.min(l.to,n);if(l.point){let p=l.activeForPoint(l.to),O=l.pointFrom<r?p.length+1:l.point.startSide<0?p.length:Math.min(p.length,h);s.point(c,f,l.point,p,O,l.pointRank),h=Math.min(l.openEnd(f),p.length)}else f>c&&(s.span(c,f,l.active,h),h=l.openEnd(f));if(l.to>n)return h+(l.point&&l.to>n?1:0);c=l.to,l.next()}}static of(e,r=!1){let n=new Yc;for(let s of e instanceof OT?[e]:r?rwe(e):e)n.add(s.from,s.to,s.value);return n.finish()}static join(e){if(!e.length)return Ir.empty;let r=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let s=e[n];s!=Ir.empty;s=s.nextLayer)r=new Ir(s.chunkPos,s.chunk,r,Math.max(s.maxPoint,r.maxPoint));return r}}Ir.empty=new Ir([],[],null,-1);function rwe(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(xT(e,n)>0)return t.slice().sort(xT);e=n}return t}Ir.empty.nextLayer=Ir.empty;class Yc{finishChunk(e){this.chunks.push(new dP(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new Yc)).add(e,r,n)}addInner(e,r,n){let s=e-this.lastTo||n.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(Ir.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=Ir.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function DB(t,e,r){let n=new Map;for(let a of t)for(let l=0;l<a.chunk.length;l++)a.chunk[l].maxPoint<=0&&n.set(a.chunk[l],a.chunkPos[l]);let s=new Set;for(let a of e)for(let l=0;l<a.chunk.length;l++){let c=n.get(a.chunk[l]);c!=null&&(r?r.mapPos(c):c)==a.chunkPos[l]&&!(r!=null&&r.touchesRange(c,c+a.chunk[l].length))&&s.add(a.chunk[l])}return s}class yW{constructor(e,r,n,s=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class QO{constructor(e){this.heap=e}static from(e,r=null,n=-1){let s=[];for(let a=0;a<e.length;a++)for(let l=e[a];!l.isEmpty;l=l.nextLayer)l.maxPoint>=n&&s.push(new yW(l,r,n,a));return s.length==1?s[0]:new QO(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)n5(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)n5(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),n5(this.heap,0)}}}function n5(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let s=t[n];if(n+1<t.length&&s.compare(t[n+1])>=0&&(s=t[n+1],n++),r.compare(s)<0)break;t[n]=r,t[e]=s,e=n}}class h1{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=QO.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){yw(this.active,e),yw(this.activeTo,e),yw(this.activeRank,e),this.minActive=$B(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:s,rank:a}=this.cursor;for(;r<this.activeRank.length&&(a-this.activeRank[r]||s-this.activeTo[r])>0;)r++;ww(this.active,r,n),ww(this.activeTo,r,s),ww(this.activeRank,r,a),e&&ww(e,r,this.cursor.from),this.minActive=$B(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),n&&yw(n,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let s=n.length-1;s>=0&&n[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function QB(t,e,r,n,s,a){t.goto(e),r.goto(n);let l=n+s,c=n,h=n-e;for(;;){let f=t.to+h-r.to,p=f||t.endSide-r.endSide,O=p<0?t.to+h:r.to,x=Math.min(O,l);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&bT(t.activeForPoint(t.to),r.activeForPoint(r.to))||a.comparePoint(c,x,t.point,r.point):x>c&&!bT(t.active,r.active)&&a.compareRange(c,x,t.active,r.active),O>l)break;(f||t.openEnd!=r.openEnd)&&a.boundChange&&a.boundChange(O),c=O,p<=0&&t.next(),p>=0&&r.next()}}function bT(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function yw(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function ww(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function $B(t,e){let r=-1,n=1e9;for(let s=0;s<e.length;s++)(e[s]-n||t[s].endSide-t[r].endSide)<0&&(r=s,n=e[s]);return r}function gg(t,e,r=t.length){let n=0;for(let s=0;s<r&&s<t.length;)t.charCodeAt(s)==9?(n+=e-n%e,s++):(n++,s=ts(t,s));return n}function kT(t,e,r,n){for(let s=0,a=0;;){if(a>=e)return s;if(s==t.length)break;a+=t.charCodeAt(s)==9?r-a%r:1,s=ts(t,s)}return n===!0?-1:t.length}const yT="",MB=typeof Symbol>"u"?"__"+yT:Symbol.for(yT),wT=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),RB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class sh{constructor(e,r){this.rules=[];let{finish:n}=r||{};function s(l){return/^@/.test(l)?[l]:l.split(/,\s*/)}function a(l,c,h,f){let p=[],O=/^@(\w+)\b/.exec(l[0]),x=O&&O[1]=="keyframes";if(O&&c==null)return h.push(l[0]+";");for(let k in c){let w=c[k];if(/&/.test(k))a(k.split(/,\s*/).map(_=>l.map(C=>_.replace(/&/,C))).reduce((_,C)=>_.concat(C)),w,h);else if(w&&typeof w=="object"){if(!O)throw new RangeError("The value of a property ("+k+") should be a primitive value.");a(s(k),w,p,x)}else w!=null&&p.push(k.replace(/_.*/,"").replace(/[A-Z]/g,_=>"-"+_.toLowerCase())+": "+w+";")}(p.length||x)&&h.push((n&&!O&&!f?l.map(n):l).join(", ")+" {"+p.join(" ")+"}")}for(let l in e)a(s(l),e[l],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=RB[MB]||1;return RB[MB]=e+1,yT+e.toString(36)}static mount(e,r,n){let s=e[wT],a=n&&n.nonce;s?a&&s.setNonce(a):s=new nwe(e,a),s.mount(Array.isArray(r)?r:[r],e)}}let NB=new Map;class nwe{constructor(e,r){let n=e.ownerDocument||e,s=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let a=NB.get(n);if(a)return e[wT]=a;this.sheet=new s.CSSStyleSheet,NB.set(n,this)}else this.styleTag=n.createElement("style"),r&&this.styleTag.setAttribute("nonce",r);this.modules=[],e[wT]=this}mount(e,r){let n=this.sheet,s=0,a=0;for(let l=0;l<e.length;l++){let c=e[l],h=this.modules.indexOf(c);if(h<a&&h>-1&&(this.modules.splice(h,1),a--,h=-1),h==-1){if(this.modules.splice(a++,0,c),n)for(let f=0;f<c.rules.length;f++)n.insertRule(c.rules[f],s++)}else{for(;a<h;)s+=this.modules[a++].rules.length;s+=c.rules.length,a++}}if(n)r.adoptedStyleSheets.indexOf(this.sheet)<0&&(r.adoptedStyleSheets=[this.sheet,...r.adoptedStyleSheets]);else{let l="";for(let h=0;h<this.modules.length;h++)l+=this.modules[h].getRules()+`
`;this.styleTag.textContent=l;let c=r.head||r;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ah={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$O={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},iwe=typeof navigator<"u"&&/Mac/.test(navigator.platform),swe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ki=0;Ki<10;Ki++)ah[48+Ki]=ah[96+Ki]=String(Ki);for(var Ki=1;Ki<=24;Ki++)ah[Ki+111]="F"+Ki;for(var Ki=65;Ki<=90;Ki++)ah[Ki]=String.fromCharCode(Ki+32),$O[Ki]=String.fromCharCode(Ki);for(var i5 in ah)$O.hasOwnProperty(i5)||($O[i5]=ah[i5]);function awe(t){var e=iwe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||swe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?$O:ah)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function an(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var s=r[n];typeof s=="string"?t.setAttribute(n,s):s!=null&&(t[n]=s)}e++}for(;e<arguments.length;e++)wW(t,arguments[e]);return t}function wW(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)wW(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}let Ns=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},vT=typeof document<"u"?document:{documentElement:{style:{}}};const _T=/Edge\/(\d+)/.exec(Ns.userAgent),vW=/MSIE \d/.test(Ns.userAgent),CT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ns.userAgent),QC=!!(vW||CT||_T),BB=!QC&&/gecko\/(\d+)/i.test(Ns.userAgent),s5=!QC&&/Chrome\/(\d+)/.exec(Ns.userAgent),owe="webkitFontSmoothing"in vT.documentElement.style,AT=!QC&&/Apple Computer/.test(Ns.vendor),IB=AT&&(/Mobile\/\w+/.test(Ns.userAgent)||Ns.maxTouchPoints>2);var At={mac:IB||/Mac/.test(Ns.platform),windows:/Win/.test(Ns.platform),linux:/Linux|X11/.test(Ns.platform),ie:QC,ie_version:vW?vT.documentMode||6:CT?+CT[1]:_T?+_T[1]:0,gecko:BB,gecko_version:BB?+(/Firefox\/(\d+)/.exec(Ns.userAgent)||[0,0])[1]:0,chrome:!!s5,chrome_version:s5?+s5[1]:0,ios:IB,android:/Android\b/.test(Ns.userAgent),webkit_version:owe?+(/\bAppleWebKit\/(\d+)/.exec(Ns.userAgent)||[0,0])[1]:0,safari:AT,safari_version:AT?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ns.userAgent)||[0,0])[1]:0,tabSize:vT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function MO(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function ST(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Pv(t,e){if(!e.anchorNode)return!1;try{return ST(t,e.anchorNode)}catch{return!1}}function Ff(t){return t.nodeType==3?Tu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function iO(t,e,r,n){return r?jB(t,e,r,n,-1)||jB(t,e,r,n,1):!1}function Su(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function H2(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function jB(t,e,r,n,s){for(;;){if(t==r&&e==n)return!0;if(e==(s<0?0:Ll(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=Su(t)+(s<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=s<0?Ll(t):0}else return!1}}function Ll(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Sx(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function lwe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function _W(t,e){let r=e.width/t.offsetWidth,n=e.height/t.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.width-t.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-t.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}function cwe(t,e,r,n,s,a,l,c){let h=t.ownerDocument,f=h.defaultView||window;for(let p=t,O=!1;p&&!O;)if(p.nodeType==1){let x,k=p==h.body,w=1,_=1;if(k)x=lwe(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(O=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let E=p.getBoundingClientRect();({scaleX:w,scaleY:_}=_W(p,E)),x={left:E.left,right:E.left+p.clientWidth*w,top:E.top,bottom:E.top+p.clientHeight*_}}let C=0,T=0;if(s=="nearest")e.top<x.top?(T=e.top-(x.top+l),r>0&&e.bottom>x.bottom+T&&(T=e.bottom-x.bottom+l)):e.bottom>x.bottom&&(T=e.bottom-x.bottom+l,r<0&&e.top-T<x.top&&(T=e.top-(x.top+l)));else{let E=e.bottom-e.top,P=x.bottom-x.top;T=(s=="center"&&E<=P?e.top+E/2-P/2:s=="start"||s=="center"&&r<0?e.top-l:e.bottom-P+l)-x.top}if(n=="nearest"?e.left<x.left?(C=e.left-(x.left+a),r>0&&e.right>x.right+C&&(C=e.right-x.right+a)):e.right>x.right&&(C=e.right-x.right+a,r<0&&e.left<x.left+C&&(C=e.left-(x.left+a))):C=(n=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:n=="start"==c?e.left-a:e.right-(x.right-x.left)+a)-x.left,C||T)if(k)f.scrollBy(C,T);else{let E=0,P=0;if(T){let Q=p.scrollTop;p.scrollTop+=T/_,P=(p.scrollTop-Q)*_}if(C){let Q=p.scrollLeft;p.scrollLeft+=C/w,E=(p.scrollLeft-Q)*w}e={left:e.left-E,top:e.top-P,right:e.right-E,bottom:e.bottom-P},E&&Math.abs(E-C)<1&&(n="nearest"),P&&Math.abs(P-T)<1&&(s="nearest")}if(k)break;(e.top<x.top||e.bottom>x.bottom||e.left<x.left||e.right>x.right)&&(e={left:Math.max(e.left,x.left),right:Math.min(e.right,x.right),top:Math.max(e.top,x.top),bottom:Math.min(e.bottom,x.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function dwe(t){let e=t.ownerDocument,r,n;for(let s=t.parentNode;s&&!(s==e.body||r&&n);)if(s.nodeType==1)!n&&s.scrollHeight>s.clientHeight&&(n=s),!r&&s.scrollWidth>s.clientWidth&&(r=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:r,y:n}}class hwe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?Ll(r):0),n,Math.min(e.focusOffset,n?Ll(n):0))}set(e,r,n,s){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=s}}let eu=null;At.safari&&At.safari_version>=26&&(eu=!1);function CW(t){if(t.setActive)return t.setActive();if(eu)return t.focus(eu);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(eu==null?{get preventScroll(){return eu={preventScroll:!0},!0}}:void 0),!eu){eu=!1;for(let r=0;r<e.length;){let n=e[r++],s=e[r++],a=e[r++];n.scrollTop!=s&&(n.scrollTop=s),n.scrollLeft!=a&&(n.scrollLeft=a)}}}let FB;function Tu(t,e,r=e){let n=FB||(FB=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function gf(t,e,r,n){let s={key:e,code:e,keyCode:r,which:r,cancelable:!0};n&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=n);let a=new KeyboardEvent("keydown",s);a.synthetic=!0,t.dispatchEvent(a);let l=new KeyboardEvent("keyup",s);return l.synthetic=!0,t.dispatchEvent(l),a.defaultPrevented||l.defaultPrevented}function uwe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function AW(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function fwe(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,Ll(r));;)if(n){if(r.nodeType!=1)return!1;let s=r.childNodes[n-1];s.contentEditable=="false"?n--:(r=s,n=Ll(r))}else{if(r==t)return!0;n=Su(r),r=r.parentNode}}function SW(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function TW(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n>0)return{node:r,offset:n};if(r.nodeType==1&&n>0){if(r.contentEditable=="false")return null;r=r.childNodes[n-1],n=Ll(r)}else if(r.parentNode&&!H2(r))n=Su(r),r=r.parentNode;else return null}}function EW(t,e){for(let r=t,n=e;;){if(r.nodeType==3&&n<r.nodeValue.length)return{node:r,offset:n};if(r.nodeType==1&&n<r.childNodes.length){if(r.contentEditable=="false")return null;r=r.childNodes[n],n=0}else if(r.parentNode&&!H2(r))n=Su(r)+1,r=r.parentNode;else return null}}class ps{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new ps(e.parentNode,Su(e),r)}static after(e,r){return new ps(e.parentNode,Su(e)+1,r)}}const hP=[];class nn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.flags&2){let n=this.dom,s=null,a;for(let l of this.children){if(l.flags&7){if(!l.dom&&(a=s?s.nextSibling:n.firstChild)){let c=nn.get(a);(!c||!c.parent&&c.canReuseDOM(l))&&l.reuseDOM(a)}l.sync(e,r),l.flags&=-8}if(a=s?s.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&a!=l.dom&&(r.written=!0),l.dom.parentNode==n)for(;a&&a!=l.dom;)a=LB(a);else n.insertBefore(l.dom,a);s=l.dom}for(a=s?s.nextSibling:n.firstChild,a&&r&&r.node==n&&(r.written=!0);a;)a=LB(a)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,r),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let s=Ll(e)==0?0:r==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;s==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?s=-1:s=1),e=a}s<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!nn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let s=0,a=0;;s++){let l=this.children[s];if(l.dom==n)return a;a+=l.length+l.breakAfter}}domBoundsAround(e,r,n=0){let s=-1,a=-1,l=-1,c=-1;for(let h=0,f=n,p=n;h<this.children.length;h++){let O=this.children[h],x=f+O.length;if(f<e&&x>r)return O.domBoundsAround(e,r,f);if(x>=e&&s==-1&&(s=h,a=f),f>r&&O.dom.parentNode==this.dom){l=h,c=p;break}p=x,f=x+O.breakAfter}return{from:a,to:c<0?n+this.length:c,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:l<this.children.length&&l>=0?this.children[l].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.flags|=2),r.flags&1)return;r.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=hP){this.markDirty();for(let s=e;s<r;s++){let a=this.children[s];a.parent==this&&n.indexOf(a)<0&&a.destroy()}n.length<250?this.children.splice(e,r-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(r));for(let s=0;s<n.length;s++)n[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new PW(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,s,a,l){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}nn.prototype.breakAfter=0;function LB(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class PW{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function DW(t,e,r,n,s,a,l,c,h){let{children:f}=t,p=f.length?f[e]:null,O=a.length?a[a.length-1]:null,x=O?O.breakAfter:l;if(!(e==n&&p&&!l&&!x&&a.length<2&&p.merge(r,s,a.length?O:null,r==0,c,h))){if(n<f.length){let k=f[n];k&&(s<k.length||k.breakAfter&&(O!=null&&O.breakAfter))?(e==n&&(k=k.split(s),s=0),!x&&O&&k.merge(0,s,O,!0,0,h)?a[a.length-1]=k:((s||k.children.length&&!k.children[0].length)&&k.merge(0,s,null,!1,0,h),a.push(k))):k!=null&&k.breakAfter&&(O?O.breakAfter=1:l=1),n++}for(p&&(p.breakAfter=l,r>0&&(!l&&a.length&&p.merge(r,p.length,a[0],!1,c,0)?p.breakAfter=a.shift().breakAfter:(r<p.length||p.children.length&&p.children[p.children.length-1].length==0)&&p.merge(r,p.length,null,!1,c,0),e++));e<n&&a.length;)if(f[n-1].become(a[a.length-1]))n--,a.pop(),h=a.length?0:c;else if(f[e].become(a[0]))e++,a.shift(),c=a.length?0:h;else break;!a.length&&e&&n<f.length&&!f[e-1].breakAfter&&f[n].merge(0,0,f[e-1],!1,c,h)&&e--,(e<n||a.length)&&t.replaceChildren(e,n,a)}}function QW(t,e,r,n,s,a){let l=t.childCursor(),{i:c,off:h}=l.findPos(r,1),{i:f,off:p}=l.findPos(e,-1),O=e-r;for(let x of n)O+=x.length;t.length+=O,DW(t,f,p,c,h,n,0,s,a)}const gwe=256;class sl extends nn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return this.flags&8||n&&(!(n instanceof sl)||this.length-(r-e)+n.length>gwe||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new sl(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r.flags|=this.flags&8,r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new ps(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return pwe(this.dom,e,r)}}class Zc extends nn{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let s of r)s.setParent(this)}setAttrs(e){if(AW(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,r){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,s,a,l){return n&&(!(n instanceof Zc&&n.mark.eq(this.mark))||e&&a<=0||r<this.length&&l<=0)?!1:(QW(this,e,r,n?n.children.slice():[],a-1,l-1),this.markDirty(),!0)}split(e){let r=[],n=0,s=-1,a=0;for(let c of this.children){let h=n+c.length;h>e&&r.push(n<e?c.split(e-n):c),s<0&&n>=e&&(s=a),n=h,a++}let l=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new Zc(this.mark,r,l)}domAtPos(e){return $W(this,e)}coordsAt(e,r){return RW(this,e,r)}}function pwe(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let s=e,a=e,l=0;e==0&&r<0||e==n&&r>=0?At.chrome||At.gecko||(e?(s--,l=1):a<n&&(a++,l=-1)):r<0?s--:a<n&&a++;let c=Tu(t,s,a).getClientRects();if(!c.length)return null;let h=c[(l?l<0:r>=0)?0:c.length-1];return At.safari&&!l&&h.width==0&&(h=Array.prototype.find.call(c,f=>f.width)||h),l?Sx(h,l<0):h||null}class zd extends nn{static create(e,r,n){return new zd(e,r,n)}constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}split(e){let r=zd.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,r,n,s,a,l){return n&&(!(n instanceof zd)||!this.widget.compare(n.widget)||e>0&&a<=0||r<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof zd&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Nr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,s=this.posAtStart;return n?n.slice(s,s+this.length):Nr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?ps.before(this.dom):ps.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.side?this.side<0:e>0;for(let c=l?s.length-1:0;a=s[c],!(e>0?c==0:c==s.length-1||a.top<a.bottom);c+=l?-1:1);return Sx(a,!l)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Lf extends nn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Lf&&e.side==this.side}split(){return new Lf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ps.before(this.dom):ps.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Nr.empty}get isHidden(){return!0}}sl.prototype.children=zd.prototype.children=Lf.prototype.children=hP;function $W(t,e){let r=t.dom,{children:n}=t,s=0;for(let a=0;s<n.length;s++){let l=n[s],c=a+l.length;if(!(c==a&&l.getSide()<=0)){if(e>a&&e<c&&l.dom.parentNode==r)return l.domAtPos(e-a);if(e<=a)break;a=c}}for(let a=s;a>0;a--){let l=n[a-1];if(l.dom.parentNode==r)return l.domAtPos(l.length)}for(let a=s;a<n.length;a++){let l=n[a];if(l.dom.parentNode==r)return l.domAtPos(0)}return new ps(r,0)}function MW(t,e,r){let n,{children:s}=t;r>0&&e instanceof Zc&&s.length&&(n=s[s.length-1])instanceof Zc&&n.mark.eq(e.mark)?MW(n,e.children[0],r-1):(s.push(e),e.setParent(t)),t.length+=e.length}function RW(t,e,r){let n=null,s=-1,a=null,l=-1;function c(f,p){for(let O=0,x=0;O<f.children.length&&x<=p;O++){let k=f.children[O],w=x+k.length;w>=p&&(k.children.length?c(k,p-x):(!a||a.isHidden&&(r>0||Owe(a,k)))&&(w>p||x==w&&k.getSide()>0)?(a=k,l=p-x):(x<p||x==w&&k.getSide()<0&&!k.isHidden)&&(n=k,s=p-x)),x=w}}c(t,e);let h=(r<0?n:a)||n||a;return h?h.coordsAt(Math.max(0,h==n?s:l),r):mwe(t)}function mwe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=Ff(e);return r[r.length-1]||null}function Owe(t,e){let r=t.coordsAt(0,1),n=e.coordsAt(0,1);return r&&n&&n.top<r.bottom}function TT(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}const zB=Object.create(null);function K2(t,e,r){if(t==e)return!0;t||(t=zB),e||(e=zB);let n=Object.keys(t),s=Object.keys(e);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=s.length-(r&&s.indexOf(r)>-1?1:0))return!1;for(let a of n)if(a!=r&&(s.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function ET(t,e,r){let n=!1;if(e)for(let s in e)r&&s in r||(n=!0,s=="style"?t.style.cssText="":t.removeAttribute(s));if(r)for(let s in r)e&&e[s]==r[s]||(n=!0,s=="style"?t.style.cssText=r[s]:t.setAttribute(s,r[s]));return n}function xwe(t){let e=Object.create(null);for(let r=0;r<t.attributes.length;r++){let n=t.attributes[r];e[n.name]=n.value}return e}class Yl{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Vs=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Vs||(Vs={}));class Wt extends Au{constructor(e,r,n,s){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Tx(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new oh(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,s;if(e.isBlockGap)n=-5e8,s=4e8;else{let{start:a,end:l}=NW(e,r);n=(a?r?-3e8:-1:5e8)-1,s=(l?r?2e8:1:-6e8)+1}return new oh(e,n,s,r,e.widget||null,!0)}static line(e){return new Ex(e)}static set(e,r=!1){return Ir.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Wt.none=Ir.empty;class Tx extends Wt{constructor(e){let{start:r,end:n}=NW(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var r,n;return this==e||e instanceof Tx&&this.tagName==e.tagName&&(this.class||((r=this.attrs)===null||r===void 0?void 0:r.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&K2(this.attrs,e.attrs,"class")}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Tx.prototype.point=!1;class Ex extends Wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ex&&this.spec.class==e.spec.class&&K2(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}Ex.prototype.mapMode=Ji.TrackBefore;Ex.prototype.point=!0;class oh extends Wt{constructor(e,r,n,s,a,l){super(r,n,a,e),this.block=s,this.isReplace=l,this.mapMode=s?r<=0?Ji.TrackBefore:Ji.TrackAfter:Ji.TrackDel}get type(){return this.startSide!=this.endSide?Vs.WidgetRange:this.startSide<=0?Vs.WidgetBefore:Vs.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof oh&&bwe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}oh.prototype.point=!0;function NW(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function bwe(t,e){return t==e||!!(t&&e&&t.compare(e))}function Dv(t,e,r,n=0){let s=r.length-1;s>=0&&r[s]+n>=t?r[s]=Math.max(r[s],e):r.push(t,e)}class hi extends nn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,s,a,l){if(n){if(!(n instanceof hi))return!1;this.dom||n.transferDOM(this)}return s&&this.setDeco(n?n.attrs:null),QW(this,e,r,n?n.children.slice():[],a,l),!0}split(e){let r=new hi;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:s}=this.childPos(e);s&&(r.append(this.children[n].split(s),0),this.children[n].merge(s,this.children[n].length,null,!1,0,0),n++);for(let a=n;a<this.children.length;a++)r.append(this.children[a],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){K2(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){MW(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=TT(r,this.attrs||{})),n&&(this.attrs=TT({class:n},this.attrs||{}))}domAtPos(e){return $W(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,r){var n;this.dom?this.flags&4&&(AW(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(ET(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let s=this.dom.lastChild;for(;s&&nn.get(s)instanceof Zc;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((n=nn.get(s))===null||n===void 0?void 0:n.isEditable)==!1&&(!At.ios||!this.children.some(a=>a instanceof sl))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof sl)||/[^ -~]/.test(n.text))return null;let s=Ff(n.dom);if(s.length!=1)return null;e+=s[0].width,r=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=RW(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:s}=this.parent.view.viewState,a=n.bottom-n.top;if(Math.abs(a-s.lineHeight)<2&&s.textHeight<a){let l=(a-s.textHeight)/2;return{top:n.top+l,bottom:n.bottom-l,left:n.left,right:n.left}}}return n}become(e){return e instanceof hi&&this.children.length==0&&e.children.length==0&&K2(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,r){for(let n=0,s=0;n<e.children.length;n++){let a=e.children[n],l=s+a.length;if(l>=r){if(a instanceof hi)return a;if(l>r)break}s=l+a.breakAfter}return null}}class Bc extends nn{constructor(e,r,n){super(),this.widget=e,this.length=r,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,s,a,l){return n&&(!(n instanceof Bc)||!this.widget.compare(n.widget)||e>0&&a<=0||r<this.length&&l<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?ps.before(this.dom):ps.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new Bc(this.widget,r,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return hP}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Nr.empty}domBoundsAround(){return null}become(e){return e instanceof Bc&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);return n||(this.widget instanceof PT?null:Sx(this.dom.getBoundingClientRect(),this.length?e==0:r<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:r,endSide:n}=this.deco;return r==n?!1:e<0?r<0:n>0}}class PT extends Yl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class sO{constructor(e,r,n,s){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Bc&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new hi),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(vw(new Lf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Bc)&&this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:c,done:h}=this.cursor.next(this.skip);if(this.skip=0,h)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e),a=Math.min(s,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(vw(new sl(this.text.slice(this.textOff,this.textOff+a)),r),n),this.atCursorPos=!0,this.textOff+=a,e-=a,n=s<=a?0:r.length}}span(e,r,n,s){this.buildText(r-e,n,s),this.pos=r,this.openStart<0&&(this.openStart=s)}point(e,r,n,s,a,l){if(this.disallowBlockEffectsFor[l]&&n instanceof oh){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=r-e;if(n instanceof oh)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Bc(n.widget||zf.block,c,n));else{let h=zd.create(n.widget||zf.inline,c,c?0:n.startSide),f=this.atCursorPos&&!h.isEditable&&a<=s.length&&(e<r||n.startSide>0),p=!h.isEditable&&(e<r||a>s.length||n.startSide<=0),O=this.getLine();this.pendingBuffer==2&&!f&&!h.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),f&&(O.append(vw(new Lf(1),s),a),a=s.length+Math.max(0,a-s.length)),O.append(vw(h,s),a),this.atCursorPos=p,this.pendingBuffer=p?e<r||a>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=a)}static build(e,r,n,s,a){let l=new sO(e,r,n,a);return l.openEnd=Ir.spans(s,r,n,l),l.openStart<0&&(l.openStart=l.openEnd),l.finish(l.openEnd),l}}function vw(t,e){for(let r of e)t=new Zc(r,[t],t.length);return t}class zf extends Yl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}zf.inline=new zf("span");zf.block=new zf("div");var _n=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(_n||(_n={}));const Eu=_n.LTR,uP=_n.RTL;function BW(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const kwe=BW("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ywe=BW("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),DT=Object.create(null),kl=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);DT[e]=r,DT[r]=-e}function IW(t){return t<=247?kwe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?ywe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const wwe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Xd{get dir(){return this.level%2?uP:Eu}constructor(e,r,n){this.from=e,this.to=r,this.level=n}side(e,r){return this.dir==r==e?this.to:this.from}forward(e,r){return e==(this.dir==r)}static find(e,r,n,s){let a=-1;for(let l=0;l<e.length;l++){let c=e[l];if(c.from<=r&&c.to>=r){if(c.level==n)return l;(a<0||(s!=0?s<0?c.from<r:c.to>r:e[a].level>c.level))&&(a=l)}}if(a<0)throw new RangeError("Index out of range");return a}}function jW(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],s=e[r];if(n.from!=s.from||n.to!=s.to||n.direction!=s.direction||!jW(n.inner,s.inner))return!1}return!0}const on=[];function vwe(t,e,r,n,s){for(let a=0;a<=n.length;a++){let l=a?n[a-1].to:e,c=a<n.length?n[a].from:r,h=a?256:s;for(let f=l,p=h,O=h;f<c;f++){let x=IW(t.charCodeAt(f));x==512?x=p:x==8&&O==4&&(x=16),on[f]=x==4?2:x,x&7&&(O=x),p=x}for(let f=l,p=h,O=h;f<c;f++){let x=on[f];if(x==128)f<c-1&&p==on[f+1]&&p&24?x=on[f]=p:on[f]=256;else if(x==64){let k=f+1;for(;k<c&&on[k]==64;)k++;let w=f&&p==8||k<r&&on[k]==8?O==1?1:8:256;for(let _=f;_<k;_++)on[_]=w;f=k-1}else x==8&&O==1&&(on[f]=1);p=x,x&7&&(O=x)}}}function _we(t,e,r,n,s){let a=s==1?2:1;for(let l=0,c=0,h=0;l<=n.length;l++){let f=l?n[l-1].to:e,p=l<n.length?n[l].from:r;for(let O=f,x,k,w;O<p;O++)if(k=DT[x=t.charCodeAt(O)])if(k<0){for(let _=c-3;_>=0;_-=3)if(kl[_+1]==-k){let C=kl[_+2],T=C&2?s:C&4?C&1?a:s:0;T&&(on[O]=on[kl[_]]=T),c=_;break}}else{if(kl.length==189)break;kl[c++]=O,kl[c++]=x,kl[c++]=h}else if((w=on[O])==2||w==1){let _=w==s;h=_?0:1;for(let C=c-3;C>=0;C-=3){let T=kl[C+2];if(T&2)break;if(_)kl[C+2]|=2;else{if(T&4)break;kl[C+2]|=4}}}}}function Cwe(t,e,r,n){for(let s=0,a=n;s<=r.length;s++){let l=s?r[s-1].to:t,c=s<r.length?r[s].from:e;for(let h=l;h<c;){let f=on[h];if(f==256){let p=h+1;for(;;)if(p==c){if(s==r.length)break;p=r[s++].to,c=s<r.length?r[s].from:e}else if(on[p]==256)p++;else break;let O=a==1,x=(p<e?on[p]:n)==1,k=O==x?O?1:2:n;for(let w=p,_=s,C=_?r[_-1].to:t;w>h;)w==C&&(w=r[--_].from,C=_?r[_-1].to:t),on[--w]=k;h=p}else a=f,h++}}}function QT(t,e,r,n,s,a,l){let c=n%2?2:1;if(n%2==s%2)for(let h=e,f=0;h<r;){let p=!0,O=!1;if(f==a.length||h<a[f].from){let _=on[h];_!=c&&(p=!1,O=_==16)}let x=!p&&c==1?[]:null,k=p?n:n+1,w=h;e:for(;;)if(f<a.length&&w==a[f].from){if(O)break e;let _=a[f];if(!p)for(let C=_.to,T=f+1;;){if(C==r)break e;if(T<a.length&&a[T].from==C)C=a[T++].to;else{if(on[C]==c)break e;break}}if(f++,x)x.push(_);else{_.from>h&&l.push(new Xd(h,_.from,k));let C=_.direction==Eu!=!(k%2);$T(t,C?n+1:n,s,_.inner,_.from,_.to,l),h=_.to}w=_.to}else{if(w==r||(p?on[w]!=c:on[w]==c))break;w++}x?QT(t,h,w,n+1,s,x,l):h<w&&l.push(new Xd(h,w,k)),h=w}else for(let h=r,f=a.length;h>e;){let p=!0,O=!1;if(!f||h>a[f-1].to){let _=on[h-1];_!=c&&(p=!1,O=_==16)}let x=!p&&c==1?[]:null,k=p?n:n+1,w=h;e:for(;;)if(f&&w==a[f-1].to){if(O)break e;let _=a[--f];if(!p)for(let C=_.from,T=f;;){if(C==e)break e;if(T&&a[T-1].to==C)C=a[--T].from;else{if(on[C-1]==c)break e;break}}if(x)x.push(_);else{_.to<h&&l.push(new Xd(_.to,h,k));let C=_.direction==Eu!=!(k%2);$T(t,C?n+1:n,s,_.inner,_.from,_.to,l),h=_.from}w=_.from}else{if(w==e||(p?on[w-1]!=c:on[w-1]==c))break;w--}x?QT(t,w,h,n+1,s,x,l):w<h&&l.push(new Xd(w,h,k)),h=w}}function $T(t,e,r,n,s,a,l){let c=e%2?2:1;vwe(t,s,a,n,c),_we(t,s,a,n,c),Cwe(s,a,n,c),QT(t,s,a,e,r,n,l)}function Awe(t,e,r){if(!t)return[new Xd(0,0,e==uP?1:0)];if(e==Eu&&!r.length&&!wwe.test(t))return FW(t.length);if(r.length)for(;t.length>on.length;)on[on.length]=256;let n=[],s=e==Eu?0:1;return $T(t,s,s,r,0,t.length,n),n}function FW(t){return[new Xd(0,t,0)]}let LW="";function Swe(t,e,r,n,s){var a;let l=n.head-t.from,c=Xd.find(e,l,(a=n.bidiLevel)!==null&&a!==void 0?a:-1,n.assoc),h=e[c],f=h.side(s,r);if(l==f){let x=c+=s?1:-1;if(x<0||x>=e.length)return null;h=e[c=x],l=h.side(!s,r),f=h.side(s,r)}let p=ts(t.text,l,h.forward(s,r));(p<h.from||p>h.to)&&(p=f),LW=t.text.slice(Math.min(l,p),Math.max(l,p));let O=c==(s?e.length-1:0)?null:e[c+(s?1:-1)];return O&&p==f&&O.level+(s?0:1)<h.level?Ke.cursor(O.side(!s,r)+t.from,O.forward(s,r)?1:-1,O.level):Ke.cursor(p+t.from,h.forward(s,r)?-1:1,h.level)}function Twe(t,e,r){for(let n=e;n<r;n++){let s=IW(t.charCodeAt(n));if(s==1)return Eu;if(s==2||s==4)return uP}return Eu}const zW=Pt.define(),XW=Pt.define(),VW=Pt.define(),UW=Pt.define(),MT=Pt.define(),qW=Pt.define(),WW=Pt.define(),fP=Pt.define(),gP=Pt.define(),YW=Pt.define({combine:t=>t.some(e=>e)}),ZW=Pt.define({combine:t=>t.some(e=>e)}),GW=Pt.define();class pf{constructor(e,r="nearest",n="nearest",s=5,a=5,l=!1){this.range=e,this.y=r,this.x=n,this.yMargin=s,this.xMargin=a,this.isSnapshot=l}map(e){return e.empty?this:new pf(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new pf(Ke.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _w=ur.define({map:(t,e)=>t.map(e)}),HW=ur.define();function fa(t,e,r){let n=t.facet(UW);n.length?n[0](e):window.onerror&&window.onerror(String(e),r,void 0,void 0,e)||(r?console.error(r+":",e):console.error(e))}const $c=Pt.define({combine:t=>t.length?t[0]:!0});let Ewe=0;const J0=Pt.define({combine(t){return t.filter((e,r)=>{for(let n=0;n<r;n++)if(t[n].plugin==e.plugin)return!1;return!0})}});class ni{constructor(e,r,n,s,a){this.id=e,this.create=r,this.domEventHandlers=n,this.domEventObservers=s,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(J0.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(J0.of({plugin:this,arg:e}))}static define(e,r){const{eventHandlers:n,eventObservers:s,provide:a,decorations:l}=r||{};return new ni(Ewe++,e,n,s,c=>{let h=[];return l&&h.push(RO.of(f=>{let p=f.plugin(c);return p?l(p):Wt.none})),a&&h.push(a(c)),h})}static fromClass(e,r){return ni.define((n,s)=>new e(n,s),r)}}class a5{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(fa(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(r){fa(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){fa(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const KW=Pt.define(),pP=Pt.define(),RO=Pt.define(),JW=Pt.define(),Px=Pt.define(),eY=Pt.define();function XB(t,e){let r=t.state.facet(eY);if(!r.length)return r;let n=r.map(a=>a instanceof Function?a(t):a),s=[];return Ir.spans(n,e.from,e.to,{point(){},span(a,l,c,h){let f=a-e.from,p=l-e.from,O=s;for(let x=c.length-1;x>=0;x--,h--){let k=c[x].spec.bidiIsolate,w;if(k==null&&(k=Twe(e.text,f,p)),h>0&&O.length&&(w=O[O.length-1]).to==f&&w.direction==k)w.to=p,O=w.inner;else{let _={from:f,to:p,direction:k,inner:[]};O.push(_),O=_.inner}}}}),s}const tY=Pt.define();function mP(t){let e=0,r=0,n=0,s=0;for(let a of t.state.facet(tY)){let l=a(t);l&&(l.left!=null&&(e=Math.max(e,l.left)),l.right!=null&&(r=Math.max(r,l.right)),l.top!=null&&(n=Math.max(n,l.top)),l.bottom!=null&&(s=Math.max(s,l.bottom)))}return{left:e,right:r,top:n,bottom:s}}const M1=Pt.define();class oo{constructor(e,r,n,s){this.fromA=e,this.toA=r,this.fromB=n,this.toB=s}join(e){return new oo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let s=e[r-1];if(!(s.fromA>n.toA)){if(s.toA<n.fromA)break;n=n.join(s),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let s=0,a=0,l=0,c=0;;s++){let h=s==e.length?null:e[s],f=l-c,p=h?h.fromB:1e9;for(;a<r.length&&r[a]<p;){let O=r[a],x=r[a+1],k=Math.max(c,O),w=Math.min(p,x);if(k<=w&&new oo(k+f,w+f,k,w).addToSet(n),x>p)break;a+=2}if(!h)return n;new oo(h.fromA,h.toA,h.fromB,h.toB).addToSet(n),l=h.toA,c=h.toB}}}class J2{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=xi.empty(this.startState.doc.length);for(let a of n)this.changes=this.changes.compose(a.changes);let s=[];this.changes.iterChangedRanges((a,l,c,h)=>s.push(new oo(a,l,c,h))),this.changedRanges=s}static create(e,r,n){return new J2(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class VB extends nn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Wt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new hi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new oo(0,0,0,e.state.doc.length)],0,null)}update(e){var r;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:f,toA:p})=>p<this.minWidthFrom||f>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((r=this.domChanged)===null||r===void 0)&&r.newSel?s=this.domChanged.newSel.head:!Nwe(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let a=s>-1?Dwe(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:f,to:p}=this.hasComposition;n=new oo(f,p,e.changes.mapPos(f,-1),e.changes.mapPos(p,1)).addToSet(n.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(At.ie||At.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let l=this.decorations,c=this.updateDeco(),h=Mwe(l,c,e.changes);return n=oo.extendWithRanges(n,h),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r,n);let{observer:s}=this.view;s.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=At.chrome||At.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.flags&=-8,l&&(l.written||s.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(l=>l.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Bc&&l.widget instanceof PT&&a.push(l.dom);s.updateGaps(a)}updateChildren(e,r,n){let s=n?n.range.addToSet(e.slice()):e,a=this.childCursor(r);for(let l=s.length-1;;l--){let c=l>=0?s[l]:null;if(!c)break;let{fromA:h,toA:f,fromB:p,toB:O}=c,x,k,w,_;if(n&&n.range.fromB<O&&n.range.toB>p){let Q=sO.build(this.view.state.doc,p,n.range.fromB,this.decorations,this.dynamicDecorationMap),B=sO.build(this.view.state.doc,n.range.toB,O,this.decorations,this.dynamicDecorationMap);k=Q.breakAtStart,w=Q.openStart,_=B.openEnd;let R=this.compositionView(n);B.breakAtStart?R.breakAfter=1:B.content.length&&R.merge(R.length,R.length,B.content[0],!1,B.openStart,0)&&(R.breakAfter=B.content[0].breakAfter,B.content.shift()),Q.content.length&&R.merge(0,0,Q.content[Q.content.length-1],!0,0,Q.openEnd)&&Q.content.pop(),x=Q.content.concat(R).concat(B.content)}else({content:x,breakAtStart:k,openStart:w,openEnd:_}=sO.build(this.view.state.doc,p,O,this.decorations,this.dynamicDecorationMap));let{i:C,off:T}=a.findPos(f,1),{i:E,off:P}=a.findPos(h,-1);DW(this,E,P,C,T,x,k,w,_)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let r of e.transactions)for(let n of r.effects)n.is(HW)&&(this.editContextFormatting=n.value)}compositionView(e){let r=new sl(e.text.nodeValue);r.flags|=8;for(let{deco:s}of e.marks)r=new Zc(s,[r],r.length);let n=new hi;return n.append(r,0),n}fixCompositionDOM(e){let r=(a,l)=>{l.flags|=8|(l.children.some(h=>h.flags&7)?1:0),this.markedForComposition.add(l);let c=nn.get(a);c&&c!=l&&(c.dom=null),l.setDOM(a)},n=this.childPos(e.range.fromB,1),s=this.children[n.i];r(e.line,s);for(let a=e.marks.length-1;a>=-1;a--)n=s.childPos(n.off,1),s=s.children[n.i],r(a>=0?e.marks[a].node:e.text,s)}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,s=n==this.dom,a=!s&&!(this.view.state.facet($c)||this.dom.tabIndex>-1)&&Pv(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(s||r||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,h=this.moveToLine(this.domAtPos(c.anchor)),f=c.empty?h:this.moveToLine(this.domAtPos(c.head));if(At.gecko&&c.empty&&!this.hasComposition&&Pwe(h)){let O=document.createTextNode("");this.view.observer.ignore(()=>h.node.insertBefore(O,h.node.childNodes[h.offset]||null)),h=f=new ps(O,0),l=!0}let p=this.view.observer.selectionRange;(l||!p.focusNode||(!iO(h.node,h.offset,p.anchorNode,p.anchorOffset)||!iO(f.node,f.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,c))&&(this.view.observer.ignore(()=>{At.android&&At.chrome&&this.dom.contains(p.focusNode)&&Rwe(p.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let O=MO(this.view.root);if(O)if(c.empty){if(At.gecko){let x=Qwe(h.node,h.offset);if(x&&x!=3){let k=(x==1?TW:EW)(h.node,h.offset);k&&(h=new ps(k.node,k.offset))}}O.collapse(h.node,h.offset),c.bidiLevel!=null&&O.caretBidiLevel!==void 0&&(O.caretBidiLevel=c.bidiLevel)}else if(O.extend){O.collapse(h.node,h.offset);try{O.extend(f.node,f.offset)}catch{}}else{let x=document.createRange();c.anchor>c.head&&([h,f]=[f,h]),x.setEnd(f.node,f.offset),x.setStart(h.node,h.offset),O.removeAllRanges(),O.addRange(x)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(h,f)),this.impreciseAnchor=h.precise?null:new ps(p.anchorNode,p.anchorOffset),this.impreciseHead=f.precise?null:new ps(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,r){return this.hasComposition&&r.empty&&iO(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==r.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,r=e.state.selection.main,n=MO(e.root),{anchorNode:s,anchorOffset:a}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let l=hi.find(this,r.head);if(!l)return;let c=l.posAtStart;if(r.head==c||r.head==c+l.length)return;let h=this.coordsAt(r.head,-1),f=this.coordsAt(r.head,1);if(!h||!f||h.bottom>f.top)return;let p=this.domAtPos(r.head+r.assoc);n.collapse(p.node,p.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let O=e.observer.selectionRange;e.docView.posFromDOM(O.anchorNode,O.anchorOffset)!=r.from&&n.collapse(s,a)}moveToLine(e){let r=this.dom,n;if(e.node!=r)return e;for(let s=e.offset;!n&&s<r.childNodes.length;s++){let a=nn.get(r.childNodes[s]);a instanceof hi&&(n=a.domAtPos(0))}for(let s=e.offset-1;!n&&s>=0;s--){let a=nn.get(r.childNodes[s]);a instanceof hi&&(n=a.domAtPos(a.length))}return n?new ps(n.node,n.offset,!0):e}nearest(e){for(let r=e;r;){let n=nn.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let s=this.children[r];if(n<s.length||s instanceof hi)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){let n=null,s=0;for(let a=this.length,l=this.children.length-1;l>=0;l--){let c=this.children[l],h=a-c.breakAfter,f=h-c.length;if(h<e)break;if(f<=e&&(f<e||c.covers(-1))&&(h>e||c.covers(1))&&(!n||c instanceof hi&&!(n instanceof hi&&r>=0)))n=c,s=f;else if(n&&f==e&&h==e&&c instanceof Bc&&Math.abs(r)<2){if(c.deco.startSide<0)break;l&&(n=null)}a=f}return n?n.coordsAt(e-s,r):null}coordsForChar(e){let{i:r,off:n}=this.childPos(e,1),s=this.children[r];if(!(s instanceof hi))return null;for(;s.children.length;){let{i:c,off:h}=s.childPos(n,1);for(;;c++){if(c==s.children.length)return null;if((s=s.children[c]).length)break}n=h}if(!(s instanceof sl))return null;let a=ts(s.text,n);if(a==n)return null;let l=Tu(s.dom,n,a).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(c==l.length-1||h.top<h.bottom&&h.left<h.right)return h}return null}measureVisibleLineHeights(e){let r=[],{from:n,to:s}=e,a=this.view.contentDOM.clientWidth,l=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,h=this.view.textDirection==_n.LTR;for(let f=0,p=0;p<this.children.length;p++){let O=this.children[p],x=f+O.length;if(x>s)break;if(f>=n){let k=O.dom.getBoundingClientRect();if(r.push(k.height),l){let w=O.dom.lastChild,_=w?Ff(w):[];if(_.length){let C=_[_.length-1],T=h?C.right-k.left:k.right-C.left;T>c&&(c=T,this.minWidth=a,this.minWidthFrom=f,this.minWidthTo=x)}}}f=x+O.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?_n.RTL:_n.LTR}measureTextSize(){for(let a of this.children)if(a instanceof hi){let l=a.measureTextSize();if(l)return l}let e=document.createElement("div"),r,n,s;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=Ff(e.firstChild)[0];r=e.getBoundingClientRect().height,n=a?a.width/27:7,s=a?a.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:s}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new PW(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,s=0;;s++){let a=s==r.viewports.length?null:r.viewports[s],l=a?a.from-1:this.length;if(l>n){let c=(r.lineBlockAt(l).bottom-r.lineBlockAt(n).top)/this.view.scaleY;e.push(Wt.replace({widget:new PT(c),block:!0,inclusive:!0,isBlockGap:!0}).range(n,l))}if(!a)break;n=a.to+1}return Wt.set(e)}updateDeco(){let e=1,r=this.view.state.facet(RO).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),n=!1,s=this.view.state.facet(JW).map((a,l)=>{let c=typeof a=="function";return c&&(n=!0),c?a(this.view):a});for(s.length&&(this.dynamicDecorationMap[e++]=n,r.push(Ir.join(s))),this.decorations=[this.editContextFormatting,...r,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(GW))try{if(f(this.view,e.range,e))return!0}catch(p){fa(this.view.state,p,"scroll handler")}let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),s;if(!n)return;!r.empty&&(s=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,s.left),top:Math.min(n.top,s.top),right:Math.max(n.right,s.right),bottom:Math.max(n.bottom,s.bottom)});let a=mP(this.view),l={left:n.left-a.left,top:n.top-a.top,right:n.right+a.right,bottom:n.bottom+a.bottom},{offsetWidth:c,offsetHeight:h}=this.view.scrollDOM;cwe(this.view.scrollDOM,l,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,c),-c),Math.max(Math.min(e.yMargin,h),-h),this.view.textDirection==_n.LTR)}}function Pwe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function rY(t,e){let r=t.observer.selectionRange;if(!r.focusNode)return null;let n=TW(r.focusNode,r.focusOffset),s=EW(r.focusNode,r.focusOffset),a=n||s;if(s&&n&&s.node!=n.node){let c=nn.get(s.node);if(!c||c instanceof sl&&c.text!=s.node.nodeValue)a=s;else if(t.docView.lastCompositionAfterCursor){let h=nn.get(n.node);!h||h instanceof sl&&h.text!=n.node.nodeValue||(a=s)}}if(t.docView.lastCompositionAfterCursor=a!=n,!a)return null;let l=e-a.offset;return{from:l,to:l+a.node.nodeValue.length,node:a.node}}function Dwe(t,e,r){let n=rY(t,r);if(!n)return null;let{node:s,from:a,to:l}=n,c=s.nodeValue;if(/[\n\r]/.test(c)||t.state.doc.sliceString(n.from,n.to)!=c)return null;let h=e.invertedDesc,f=new oo(h.mapPos(a),h.mapPos(l),a,l),p=[];for(let O=s.parentNode;;O=O.parentNode){let x=nn.get(O);if(x instanceof Zc)p.push({node:O,deco:x.mark});else{if(x instanceof hi||O.nodeName=="DIV"&&O.parentNode==t.contentDOM)return{range:f,text:s,marks:p,line:O};if(O!=t.contentDOM)p.push({node:O,deco:new Tx({inclusive:!0,attributes:xwe(O),tagName:O.tagName.toLowerCase()})});else return null}}}function Qwe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let $we=class{constructor(){this.changes=[]}compareRange(e,r){Dv(e,r,this.changes)}comparePoint(e,r){Dv(e,r,this.changes)}boundChange(e){Dv(e,e,this.changes)}};function Mwe(t,e,r){let n=new $we;return Ir.compare(t,e,r,n),n.changes}function Rwe(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function Nwe(t,e){let r=!1;return e&&t.iterChangedRanges((n,s)=>{n<e.to&&s>e.from&&(r=!0)}),r}function Bwe(t,e,r=1){let n=t.charCategorizer(e),s=t.doc.lineAt(e),a=e-s.from;if(s.length==0)return Ke.cursor(e);a==0?r=1:a==s.length&&(r=-1);let l=a,c=a;r<0?l=ts(s.text,a,!1):c=ts(s.text,a);let h=n(s.text.slice(l,c));for(;l>0;){let f=ts(s.text,l,!1);if(n(s.text.slice(f,l))!=h)break;l=f}for(;c<s.length;){let f=ts(s.text,c);if(n(s.text.slice(c,f))!=h)break;c=f}return Ke.range(l+s.from,c+s.from)}function Iwe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function jwe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function o5(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function UB(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function qB(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function RT(t,e,r){let n,s,a,l,c=!1,h,f,p,O;for(let w=t.firstChild;w;w=w.nextSibling){let _=Ff(w);for(let C=0;C<_.length;C++){let T=_[C];s&&o5(s,T)&&(T=UB(qB(T,s.bottom),s.top));let E=Iwe(e,T),P=jwe(r,T);if(E==0&&P==0)return w.nodeType==3?WB(w,e,r):RT(w,e,r);(!n||l>P||l==P&&a>E)&&(n=w,s=T,a=E,l=P,c=E?e<T.left?C>0:C<_.length-1:!0),E==0?r>T.bottom&&(!p||p.bottom<T.bottom)?(h=w,p=T):r<T.top&&(!O||O.top>T.top)&&(f=w,O=T):p&&o5(p,T)?p=qB(p,T.bottom):O&&o5(O,T)&&(O=UB(O,T.top))}}if(p&&p.bottom>=r?(n=h,s=p):O&&O.top<=r&&(n=f,s=O),!n)return{node:t,offset:0};let x=Math.max(s.left,Math.min(s.right,e));if(n.nodeType==3)return WB(n,x,r);if(c&&n.contentEditable!="false")return RT(n,x,r);let k=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(s.left+s.right)/2?1:0);return{node:t,offset:k}}function WB(t,e,r){let n=t.nodeValue.length,s=-1,a=1e9,l=0;for(let c=0;c<n;c++){let h=Tu(t,c,c+1).getClientRects();for(let f=0;f<h.length;f++){let p=h[f];if(p.top==p.bottom)continue;l||(l=e-p.left);let O=(p.top>r?p.top-r:r-p.bottom)-1;if(p.left-1<=e&&p.right+1>=e&&O<a){let x=e>=(p.left+p.right)/2,k=x;if((At.chrome||At.gecko)&&Tu(t,c).getBoundingClientRect().left==p.right&&(k=!x),O<=0)return{node:t,offset:c+(k?1:0)};s=c+(k?1:0),a=O}}}return{node:t,offset:s>-1?s:l>0?t.nodeValue.length:0}}function nY(t,e,r,n=-1){var s,a;let l=t.contentDOM.getBoundingClientRect(),c=l.top+t.viewState.paddingTop,h,{docHeight:f}=t.viewState,{x:p,y:O}=e,x=O-c;if(x<0)return 0;if(x>f)return t.state.doc.length;for(let Q=t.viewState.heightOracle.textHeight/2,B=!1;h=t.elementAtHeight(x),h.type!=Vs.Text;)for(;x=n>0?h.bottom+Q:h.top-Q,!(x>=0&&x<=f);){if(B)return r?null:0;B=!0,n=-n}O=c+x;let k=h.from;if(k<t.viewport.from)return t.viewport.from==0?0:r?null:YB(t,l,h,p,O);if(k>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:YB(t,l,h,p,O);let w=t.dom.ownerDocument,_=t.root.elementFromPoint?t.root:w,C=_.elementFromPoint(p,O);C&&!t.contentDOM.contains(C)&&(C=null),C||(p=Math.max(l.left+1,Math.min(l.right-1,p)),C=_.elementFromPoint(p,O),C&&!t.contentDOM.contains(C)&&(C=null));let T,E=-1;if(C&&((s=t.docView.nearest(C))===null||s===void 0?void 0:s.isEditable)!=!1){if(w.caretPositionFromPoint){let Q=w.caretPositionFromPoint(p,O);Q&&({offsetNode:T,offset:E}=Q)}else if(w.caretRangeFromPoint){let Q=w.caretRangeFromPoint(p,O);Q&&({startContainer:T,startOffset:E}=Q)}T&&(!t.contentDOM.contains(T)||At.safari&&Fwe(T,E,p)||At.chrome&&Lwe(T,E,p))&&(T=void 0),T&&(E=Math.min(Ll(T),E))}if(!T||!t.docView.dom.contains(T)){let Q=hi.find(t.docView,k);if(!Q)return x>h.top+h.height/2?h.to:h.from;({node:T,offset:E}=RT(Q.dom,p,O))}let P=t.docView.nearest(T);if(!P)return null;if(P.isWidget&&((a=P.dom)===null||a===void 0?void 0:a.nodeType)==1){let Q=P.dom.getBoundingClientRect();return e.y<Q.top||e.y<=Q.bottom&&e.x<=(Q.left+Q.right)/2?P.posAtStart:P.posAtEnd}else return P.localPosFromDOM(T,E)+P.posAtStart}function YB(t,e,r,n,s){let a=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let c=t.viewState.heightOracle.textHeight,h=Math.floor((s-r.top-(t.defaultLineHeight-c)*.5)/c);a+=h*t.viewState.heightOracle.lineLength}let l=t.state.sliceDoc(r.from,r.to);return r.from+kT(l,a,t.state.tabSize)}function iY(t,e,r){let n,s=t;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(;;){let a=s.nextSibling;if(a){if(a.nodeName=="BR")break;return!1}else{let l=s.parentNode;if(!l||l.nodeName=="DIV")break;s=l}}return Tu(t,n-1,n).getBoundingClientRect().right>r}function Fwe(t,e,r){return iY(t,e,r)}function Lwe(t,e,r){if(e!=0)return iY(t,e,r);for(let s=t;;){let a=s.parentNode;if(!a||a.nodeType!=1||a.firstChild!=s)return!1;if(a.classList.contains("cm-line"))break;s=a}let n=t.nodeType==1?t.getBoundingClientRect():Tu(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function NT(t,e,r){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){let s;for(let a of n.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!s||a.type==Vs.Text&&(s.type!=a.type||(r<0?a.from<e:a.to>e)))&&(s=a)}}return s||n}return n}function zwe(t,e,r,n){let s=NT(t,e.head,e.assoc||-1),a=!n||s.type!=Vs.Text||!(t.lineWrapping||s.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(a){let l=t.dom.getBoundingClientRect(),c=t.textDirectionAt(s.from),h=t.posAtCoords({x:r==(c==_n.LTR)?l.right-1:l.left+1,y:(a.top+a.bottom)/2});if(h!=null)return Ke.cursor(h,r?-1:1)}return Ke.cursor(r?s.to:s.from,r?-1:1)}function ZB(t,e,r,n){let s=t.state.doc.lineAt(e.head),a=t.bidiSpans(s),l=t.textDirectionAt(s.from);for(let c=e,h=null;;){let f=Swe(s,a,l,c,r),p=LW;if(!f){if(s.number==(r?t.state.doc.lines:1))return c;p=`
`,s=t.state.doc.line(s.number+(r?1:-1)),a=t.bidiSpans(s),f=t.visualLineSide(s,!r)}if(h){if(!h(p))return c}else{if(!n)return f;h=n(p)}c=f}}function Xwe(t,e,r){let n=t.state.charCategorizer(e),s=n(r);return a=>{let l=n(a);return s==Dn.Space&&(s=l),s==l}}function Vwe(t,e,r,n){let s=e.head,a=r?1:-1;if(s==(r?t.state.doc.length:0))return Ke.cursor(s,e.assoc);let l=e.goalColumn,c,h=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(s,e.assoc||-1),p=t.documentTop;if(f)l==null&&(l=f.left-h.left),c=a<0?f.top:f.bottom;else{let k=t.viewState.lineBlockAt(s);l==null&&(l=Math.min(h.right-h.left,t.defaultCharacterWidth*(s-k.from))),c=(a<0?k.top:k.bottom)+p}let O=h.left+l,x=n??t.viewState.heightOracle.textHeight>>1;for(let k=0;;k+=10){let w=c+(x+k)*a,_=nY(t,{x:O,y:w},!1,a);if(w<h.top||w>h.bottom||(a<0?_<s:_>s)){let C=t.docView.coordsForChar(_),T=!C||w<C.top?-1:1;return Ke.cursor(_,T,void 0,l)}}}function aO(t,e,r){for(;;){let n=0;for(let s of t)s.between(e-1,e+1,(a,l,c)=>{if(e>a&&e<l){let h=n||r||(e-a<l-e?-1:1);e=h<0?a:l,n=h}});if(!n)return e}}function sY(t,e){let r=null;for(let n=0;n<e.ranges.length;n++){let s=e.ranges[n],a=null;if(s.empty){let l=aO(t,s.from,0);l!=s.from&&(a=Ke.cursor(l,-1))}else{let l=aO(t,s.from,-1),c=aO(t,s.to,1);(l!=s.from||c!=s.to)&&(a=Ke.range(s.from==s.anchor?l:c,s.from==s.head?l:c))}a&&(r||(r=e.ranges.slice()),r[n]=a)}return r?Ke.create(r,e.mainIndex):e}function l5(t,e,r){let n=aO(t.state.facet(Px).map(s=>s(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:Ke.cursor(n,n<r.from?1:-1)}const R1="";class Uwe{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(Dr.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=R1}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let s=e;;){this.findPointBefore(n,s);let a=this.text.length;this.readNode(s);let l=s.nextSibling;if(l==r)break;let c=nn.get(s),h=nn.get(l);(c&&h?c.breakAfter:(c?c.breakAfter:H2(s))||H2(l)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>a)&&!Wwe(l,r)&&this.lineBreak(),s=l}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,l=1,c;if(this.lineSeparator?(a=r.indexOf(this.lineSeparator,n),l=this.lineSeparator.length):(c=s.exec(r))&&(a=c.index,l=c[0].length),this.append(r.slice(n,a<0?r.length:a)),a<0)break;if(this.lineBreak(),l>1)for(let h of this.points)h.node==e&&h.pos>this.text.length&&(h.pos-=l-1);n=a+l}}readNode(e){if(e.cmIgnore)return;let r=nn.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let s=n.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(qwe(e,n.node,n.offset)?r:0))}}function qwe(t,e,r){for(;;){if(!e||r<Ll(e))return!1;if(e==t)return!0;r=Su(e)+1,e=e.parentNode}}function Wwe(t,e){let r;for(;!(t==e||!t);t=t.nextSibling){let n=nn.get(t);if(!(n!=null&&n.isWidget||t.cmIgnore))return!1;n&&(r||(r=[])).push(n)}if(r)for(let n of r){let s=n.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class GB{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class Ywe{constructor(e,r,n,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=r>-1;let{impreciseHead:a,impreciseAnchor:l}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let c=a||l?[]:Gwe(e),h=new Uwe(c,e.state);h.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=h.text,this.newSel=Hwe(c,this.bounds.from)}else{let c=e.observer.selectionRange,h=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!ST(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),f=l&&l.node==c.anchorNode&&l.offset==c.anchorOffset||!ST(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset),p=e.viewport;if((At.ios||At.chrome)&&e.state.selection.main.empty&&h!=f&&(p.from>0||p.to<e.state.doc.length)){let O=Math.min(h,f),x=Math.max(h,f),k=p.from-O,w=p.to-x;(k==0||k==1||O==0)&&(w==0||w==-1||x==e.state.doc.length)&&(h=0,f=e.state.doc.length)}this.newSel=Ke.single(f,h)}}}function aY(t,e){let r,{newSel:n}=e,s=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:l,to:c}=e.bounds,h=s.from,f=null;(a===8||At.android&&e.text.length<c-l)&&(h=s.to,f="end");let p=oY(t.state.doc.sliceString(l,c,R1),e.text,h-l,f);p&&(At.chrome&&a==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==R1+R1&&p.toB--,r={from:l+p.from,to:l+p.toA,insert:Nr.of(e.text.slice(p.from,p.toB).split(R1))})}else n&&(!t.hasFocus&&t.state.facet($c)||n.main.eq(s))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!s.empty&&n&&n.main.empty?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:(At.mac||At.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=Ke.single(n.main.anchor-1,n.main.head-1)),r={from:r.from,to:r.to,insert:Nr.of([r.insert.toString().replace("."," ")])}):r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,s.to))}:At.chrome&&r&&r.from==r.to&&r.from==s.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=Ke.single(n.main.anchor-1,n.main.head-1)),r={from:s.from,to:s.to,insert:Nr.of([" "])}),r)return OP(t,r,n,a);if(n&&!n.main.eq(s)){let l=!1,c="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(l=!0),c=t.inputState.lastSelectionOrigin,c=="select.pointer"&&(n=sY(t.state.facet(Px).map(h=>h(t)),n))),t.dispatch({selection:n,scrollIntoView:l,userEvent:c}),!0}else return!1}function OP(t,e,r,n=-1){if(At.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(At.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&t.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&gf(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&gf(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&gf(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let l,c=()=>l||(l=Zwe(t,e,r));return t.state.facet(qW).some(h=>h(t,e.from,e.to,a,c))||t.dispatch(c()),!0}function Zwe(t,e,r){let n,s=t.state,a=s.selection.main,l=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let h=e.from<a.from?-1:1,f=h<0?a.from:a.to,p=aO(s.facet(Px).map(O=>O(t)),f,h);e.from==p&&(l=p)}if(l>-1)n={changes:e,selection:Ke.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!r||r.main.empty&&r.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let h=a.from<e.from?s.sliceDoc(a.from,e.from):"",f=a.to>e.to?s.sliceDoc(e.to,a.to):"";n=s.replaceSelection(t.state.toText(h+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let h=s.changes(e),f=r&&r.main.to<=h.newLength?r.main:void 0;if(s.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=a.to&&e.to>=a.to-10){let p=t.state.sliceDoc(e.from,e.to),O,x=r&&rY(t,r.main.head);if(x){let _=e.insert.length-(e.to-e.from);O={from:x.from,to:x.to-_}}else O=t.state.doc.lineAt(a.head);let k=a.to-e.to,w=a.to-a.from;n=s.changeByRange(_=>{if(_.from==a.from&&_.to==a.to)return{changes:h,range:f||_.map(h)};let C=_.to-k,T=C-p.length;if(_.to-_.from!=w||t.state.sliceDoc(T,C)!=p||_.to>=O.from&&_.from<=O.to)return{range:_};let E=s.changes({from:T,to:C,insert:e.insert}),P=_.to-a.to;return{changes:E,range:f?Ke.range(Math.max(0,f.anchor+P),Math.max(0,f.head+P)):_.map(E)}})}else n={changes:h,selection:f&&s.selection.replaceRange(f)}}let c="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,c+=".compose",t.inputState.compositionFirstChange&&(c+=".start",t.inputState.compositionFirstChange=!1)),s.update(n,{userEvent:c,scrollIntoView:!0})}function oY(t,e,r,n){let s=Math.min(t.length,e.length),a=0;for(;a<s&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==s&&t.length==e.length)return null;let l=t.length,c=e.length;for(;l>0&&c>0&&t.charCodeAt(l-1)==e.charCodeAt(c-1);)l--,c--;if(n=="end"){let h=Math.max(0,a-Math.min(l,c));r-=l+h-a}if(l<a&&t.length<e.length){let h=r<=a&&r>=l?a-r:0;a-=h,c=a+(c-l),l=a}else if(c<a){let h=r<=a&&r>=c?a-r:0;a-=h,l=a+(l-c),c=a}return{from:a,toA:l,toB:c}}function Gwe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}=t.observer.selectionRange;return r&&(e.push(new GB(r,n)),(s!=r||a!=n)&&e.push(new GB(s,a))),e}function Hwe(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?Ke.single(r+e,n+e):null}class Kwe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,At.safari&&e.contentDOM.addEventListener("input",()=>null),At.gecko&&gve(e.contentDOM.ownerDocument)}handleEvent(e){!ave(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,r){let n=this.handlers[e];if(n){for(let s of n.observers)s(this.view,r);for(let s of n.handlers){if(r.defaultPrevented)break;if(s(this.view,r)){r.preventDefault();break}}}}ensureHandlers(e){let r=Jwe(e),n=this.handlers,s=this.view.contentDOM;for(let a in r)if(a!="scroll"){let l=!r[a].handlers.length,c=n[a];c&&l!=!c.handlers.length&&(s.removeEventListener(a,this.handleEvent),c=null),c||s.addEventListener(a,this.handleEvent,{passive:l})}for(let a in n)a!="scroll"&&!r[a]&&s.removeEventListener(a,this.handleEvent);this.handlers=r}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&cY.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),At.android&&At.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let r;return At.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((r=lY.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||eve.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=r||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let r=this.pendingIOSKey;return!r||r.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,gf(this.view.contentDOM,r.key,r.keyCode,r instanceof KeyboardEvent?r:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:At.safari&&!At.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function HB(t,e){return(r,n)=>{try{return e.call(t,n,r)}catch(s){fa(r.state,s)}}}function Jwe(t){let e=Object.create(null);function r(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of t){let s=n.spec,a=s&&s.plugin.domEventHandlers,l=s&&s.plugin.domEventObservers;if(a)for(let c in a){let h=a[c];h&&r(c).handlers.push(HB(n.value,h))}if(l)for(let c in l){let h=l[c];h&&r(c).observers.push(HB(n.value,h))}}for(let n in al)r(n).handlers.push(al[n]);for(let n in ho)r(n).observers.push(ho[n]);return e}const lY=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],eve="dthko",cY=[16,17,18,20,91,92,224,225],Cw=6;function Aw(t){return Math.max(0,t)*.7+8}function tve(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class rve{constructor(e,r,n,s){this.view=e,this.startEvent=r,this.style=n,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParents=dwe(e.contentDOM),this.atoms=e.state.facet(Px).map(l=>l(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(Dr.allowMultipleSelections)&&nve(e,r),this.dragging=sve(e,r)&&uY(r)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&tve(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,n=0,s=0,a=0,l=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:l}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let h=mP(this.view);e.clientX-h.left<=s+Cw?r=-Aw(s-e.clientX):e.clientX+h.right>=l-Cw&&(r=Aw(e.clientX-l)),e.clientY-h.top<=a+Cw?n=-Aw(a-e.clientY):e.clientY+h.bottom>=c-Cw&&(n=Aw(e.clientY-c)),this.setScrollSpeed(r,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:r}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),r&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=r,r=0),(e||r)&&this.view.win.scrollBy(e,r),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:r}=this,n=sY(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(r=>r.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function nve(t,e){let r=t.state.facet(zW);return r.length?r[0](e):At.mac?e.metaKey:e.ctrlKey}function ive(t,e){let r=t.state.facet(XW);return r.length?r[0](e):At.mac?!e.altKey:!e.ctrlKey}function sve(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=MO(t.root);if(!n||n.rangeCount==0)return!0;let s=n.getRangeAt(0).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(l.left<=e.clientX&&l.right>=e.clientX&&l.top<=e.clientY&&l.bottom>=e.clientY)return!0}return!1}function ave(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=nn.get(r))&&n.ignoreEvent(e))return!1;return!0}const al=Object.create(null),ho=Object.create(null),dY=At.ie&&At.ie_version<15||At.ios&&At.webkit_version<604;function ove(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),hY(t,r.value)},50)}function $C(t,e,r){for(let n of t.facet(e))r=n(r,t);return r}function hY(t,e){e=$C(t.state,fP,e);let{state:r}=t,n,s=1,a=r.toText(e),l=a.lines==r.selection.ranges.length;if(BT!=null&&r.selection.ranges.every(h=>h.empty)&&BT==a.toString()){let h=-1;n=r.changeByRange(f=>{let p=r.doc.lineAt(f.from);if(p.from==h)return{range:f};h=p.from;let O=r.toText((l?a.line(s++).text:e)+r.lineBreak);return{changes:{from:p.from,insert:O},range:Ke.cursor(f.from+O.length)}})}else l?n=r.changeByRange(h=>{let f=a.line(s++);return{changes:{from:h.from,to:h.to,insert:f.text},range:Ke.cursor(h.from+f.length)}}):n=r.replaceSelection(a);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}ho.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};al.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);ho.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};ho.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};al.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of t.state.facet(VW))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=dve(t,e)),r){let n=!t.hasFocus;t.inputState.startMouseSelection(new rve(t,e,r,n)),n&&t.observer.ignore(()=>{CW(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let s=t.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function KB(t,e,r,n){if(n==1)return Ke.cursor(e,r);if(n==2)return Bwe(t.state,e,r);{let s=hi.find(t.docView,e),a=t.state.doc.lineAt(s?s.posAtEnd:e),l=s?s.posAtStart:a.from,c=s?s.posAtEnd:a.to;return c<t.state.doc.length&&c==a.to&&c++,Ke.range(l,c)}}let JB=(t,e,r)=>e>=r.top&&e<=r.bottom&&t>=r.left&&t<=r.right;function lve(t,e,r,n){let s=hi.find(t.docView,e);if(!s)return 1;let a=e-s.posAtStart;if(a==0)return 1;if(a==s.length)return-1;let l=s.coordsAt(a,-1);if(l&&JB(r,n,l))return-1;let c=s.coordsAt(a,1);return c&&JB(r,n,c)?1:l&&l.bottom>=n?-1:1}function eI(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:lve(t,r,e.clientX,e.clientY)}}const cve=At.ie&&At.ie_version<=11;let tI=null,rI=0,nI=0;function uY(t){if(!cve)return t.detail;let e=tI,r=nI;return tI=t,nI=Date.now(),rI=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(rI+1)%3:1}function dve(t,e){let r=eI(t,e),n=uY(e),s=t.state.selection;return{update(a){a.docChanged&&(r.pos=a.changes.mapPos(r.pos),s=s.map(a.changes))},get(a,l,c){let h=eI(t,a),f,p=KB(t,h.pos,h.bias,n);if(r.pos!=h.pos&&!l){let O=KB(t,r.pos,r.bias,n),x=Math.min(O.from,p.from),k=Math.max(O.to,p.to);p=x<p.from?Ke.range(x,k):Ke.range(k,x)}return l?s.replaceRange(s.main.extend(p.from,p.to)):c&&n==1&&s.ranges.length>1&&(f=hve(s,h.pos))?f:c?s.addRange(p):Ke.create([p])}}}function hve(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:s}=t.ranges[r];if(n<=e&&s>=e)return Ke.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}al.dragstart=(t,e)=>{let{selection:{main:r}}=t.state;if(e.target.draggable){let s=t.docView.nearest(e.target);if(s&&s.isWidget){let a=s.posAtStart,l=a+s.length;(a>=r.to||l<=r.from)&&(r=Ke.range(a,l))}}let{inputState:n}=t;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=r,e.dataTransfer&&(e.dataTransfer.setData("Text",$C(t.state,gP,t.state.sliceDoc(r.from,r.to))),e.dataTransfer.effectAllowed="copyMove"),!1};al.dragend=t=>(t.inputState.draggedContent=null,!1);function iI(t,e,r,n){if(r=$C(t.state,fP,r),!r)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,l=n&&a&&ive(t,e)?{from:a.from,to:a.to}:null,c={from:s,insert:r},h=t.state.changes(l?[l,c]:c);t.focus(),t.dispatch({changes:h,selection:{anchor:h.mapPos(s,-1),head:h.mapPos(s,1)},userEvent:l?"move.drop":"input.drop"}),t.inputState.draggedContent=null}al.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let r=e.dataTransfer.files;if(r&&r.length){let n=Array(r.length),s=0,a=()=>{++s==r.length&&iI(t,e,n.filter(l=>l!=null).join(t.state.lineBreak),!1)};for(let l=0;l<r.length;l++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(n[l]=c.result),a()},c.readAsText(r[l])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return iI(t,e,n,!0),!0}return!1};al.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let r=dY?null:e.clipboardData;return r?(hY(t,r.getData("text/plain")||r.getData("text/uri-list")),!0):(ove(t),!1)};function uve(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function fve(t){let e=[],r=[],n=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),r.push(s));if(!e.length){let s=-1;for(let{from:a}of t.selection.ranges){let l=t.doc.lineAt(a);l.number>s&&(e.push(l.text),r.push({from:l.from,to:Math.min(t.doc.length,l.to+1)})),s=l.number}n=!0}return{text:$C(t,gP,e.join(t.lineBreak)),ranges:r,linewise:n}}let BT=null;al.copy=al.cut=(t,e)=>{let{text:r,ranges:n,linewise:s}=fve(t.state);if(!r&&!s)return!1;BT=s?r:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let a=dY?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",r),!0):(uve(t,r),!1)};const fY=ql.define();function gY(t,e){let r=[];for(let n of t.facet(WW)){let s=n(t,e);s&&r.push(s)}return r.length?t.update({effects:r,annotations:fY.of(!0)}):null}function pY(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=gY(t.state,e);r?t.dispatch(r):t.update([])}},10)}ho.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),pY(t)};ho.blur=t=>{t.observer.clearSelectionRange(),pY(t)};ho.compositionstart=ho.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};ho.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,At.chrome&&At.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};ho.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};al.beforeinput=(t,e)=>{var r,n;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(r=e.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"),l=e.getTargetRanges();if(a&&l.length){let c=l[0],h=t.posAtDOM(c.startContainer,c.startOffset),f=t.posAtDOM(c.endContainer,c.endOffset);return OP(t,{from:h,to:f,insert:t.state.toText(a)},null),!0}}let s;if(At.chrome&&At.android&&(s=lY.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let a=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return At.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),At.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>ho.compositionend(t,e),20),!1};const sI=new Set;function gve(t){sI.has(t)||(sI.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const aI=["pre-wrap","normal","pre-line","break-spaces"];let Xf=!1;function oI(){Xf=!1}class pve{constructor(e){this.lineWrapping=e,this.doc=Nr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return aI.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let s=e[n];s<0?n++:this.heightSamples[Math.floor(s*10)]||(r=!0,this.heightSamples[Math.floor(s*10)]=!0)}return r}refresh(e,r,n,s,a,l){let c=aI.indexOf(e)>-1,h=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=r,this.charWidth=n,this.textHeight=s,this.lineLength=a,h){this.heightSamples={};for(let f=0;f<l.length;f++){let p=l[f];p<0?f++:this.heightSamples[Math.floor(p*10)]=!0}}return h}}class mve{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class Ql{constructor(e,r,n,s,a){this.from=e,this.length=r,this.top=n,this.height=s,this._content=a}get type(){return typeof this._content=="number"?Vs.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof oh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ql(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var wn=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(wn||(wn={}));const Qv=.001;class Us{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Qv&&(Xf=!0),this.height=e)}replace(e,r,n){return Us.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,s){let a=this,l=n.doc;for(let c=s.length-1;c>=0;c--){let{fromA:h,toA:f,fromB:p,toB:O}=s[c],x=a.lineAt(h,wn.ByPosNoHeight,n.setDoc(r),0,0),k=x.to>=f?x:a.lineAt(f,wn.ByPosNoHeight,n,0,0);for(O+=k.to-f,f=k.to;c>0&&x.from<=s[c-1].toA;)h=s[c-1].fromA,p=s[c-1].fromB,c--,h<x.from&&(x=a.lineAt(h,wn.ByPosNoHeight,n,0,0));p+=x.from-h,h=x.from;let w=xP.build(n.setDoc(l),e,p,O);a=e_(a,a.replace(h,f,w))}return a.updateHeight(n,0)}static empty(){return new Ea(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,s=0,a=0;for(;;)if(r==n)if(s>a*2){let c=e[r-1];c.break?e.splice(--r,1,c.left,null,c.right):e.splice(--r,1,c.left,c.right),n+=1+c.break,s-=c.size}else if(a>s*2){let c=e[n];c.break?e.splice(n,1,c.left,null,c.right):e.splice(n,1,c.left,c.right),n+=2+c.break,a-=c.size}else break;else if(s<a){let c=e[r++];c&&(s+=c.size)}else{let c=e[--n];c&&(a+=c.size)}let l=0;return e[r-1]==null?(l=1,r--):e[r]==null&&(l=1,n++),new Ove(Us.of(e.slice(0,r)),l,Us.of(e.slice(n)))}}function e_(t,e){return t==e?t:(t.constructor!=e.constructor&&(Xf=!0),e)}Us.prototype.size=1;class mY extends Us{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,s){return new Ql(s,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,s,a){return this.blockAt(0,n,s,a)}forEachLine(e,r,n,s,a,l){e<=a+this.length&&r>=a&&l(this.blockAt(0,n,s,a))}updateHeight(e,r=0,n=!1,s){return s&&s.from<=r&&s.more&&this.setHeight(s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ea extends mY{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,s){return new Ql(s,this.length,n,this.height,this.breaks)}replace(e,r,n){let s=n[0];return n.length==1&&(s instanceof Ea||s instanceof Gi&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Gi?s=new Ea(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):Us.of(n)}updateHeight(e,r=0,n=!1,s){return s&&s.from<=r&&s.more?this.setHeight(s.heights[s.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Gi extends Us{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,s=e.doc.lineAt(r+this.length).number,a=s-n+1,l,c=0;if(e.lineWrapping){let h=Math.min(this.height,e.lineHeight*a);l=h/a,this.length>a+1&&(c=(this.height-h)/(this.length-a-1))}else l=this.height/a;return{firstLine:n,lastLine:s,perLine:l,perChar:c}}blockAt(e,r,n,s){let{firstLine:a,lastLine:l,perLine:c,perChar:h}=this.heightMetrics(r,s);if(r.lineWrapping){let f=s+(e<r.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),p=r.doc.lineAt(f),O=c+p.length*h,x=Math.max(n,e-O/2);return new Ql(p.from,p.length,x,O,0)}else{let f=Math.max(0,Math.min(l-a,Math.floor((e-n)/c))),{from:p,length:O}=r.doc.line(a+f);return new Ql(p,O,n+c*f,c,0)}}lineAt(e,r,n,s,a){if(r==wn.ByHeight)return this.blockAt(e,n,s,a);if(r==wn.ByPosNoHeight){let{from:k,to:w}=n.doc.lineAt(e);return new Ql(k,w-k,0,0,0)}let{firstLine:l,perLine:c,perChar:h}=this.heightMetrics(n,a),f=n.doc.lineAt(e),p=c+f.length*h,O=f.number-l,x=s+c*O+h*(f.from-a-O);return new Ql(f.from,f.length,Math.max(s,Math.min(x,s+this.height-p)),p,0)}forEachLine(e,r,n,s,a,l){e=Math.max(e,a),r=Math.min(r,a+this.length);let{firstLine:c,perLine:h,perChar:f}=this.heightMetrics(n,a);for(let p=e,O=s;p<=r;){let x=n.doc.lineAt(p);if(p==e){let w=x.number-c;O+=h*w+f*(e-a-w)}let k=h+f*x.length;l(new Ql(x.from,x.length,O,k,0)),O+=k,p=x.to+1}}replace(e,r,n){let s=this.length-r;if(s>0){let a=n[n.length-1];a instanceof Gi?n[n.length-1]=new Gi(a.length+s):n.push(null,new Gi(s-1))}if(e>0){let a=n[0];a instanceof Gi?n[0]=new Gi(e+a.length):n.unshift(new Gi(e-1),null)}return Us.of(n)}decomposeLeft(e,r){r.push(new Gi(e-1),null)}decomposeRight(e,r){r.push(null,new Gi(this.length-e-1))}updateHeight(e,r=0,n=!1,s){let a=r+this.length;if(s&&s.from<=r+this.length&&s.more){let l=[],c=Math.max(r,s.from),h=-1;for(s.from>r&&l.push(new Gi(s.from-r-1).updateHeight(e,r));c<=a&&s.more;){let p=e.doc.lineAt(c).length;l.length&&l.push(null);let O=s.heights[s.index++];h==-1?h=O:Math.abs(O-h)>=Qv&&(h=-2);let x=new Ea(p,O);x.outdated=!1,l.push(x),c+=p+1}c<=a&&l.push(null,new Gi(a-c).updateHeight(e,c));let f=Us.of(l);return(h<0||Math.abs(f.height-this.height)>=Qv||Math.abs(h-this.heightMetrics(e,r).perLine)>=Qv)&&(Xf=!0),e_(this,f)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ove extends Us{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,s){let a=n+this.left.height;return e<a?this.left.blockAt(e,r,n,s):this.right.blockAt(e,r,a,s+this.left.length+this.break)}lineAt(e,r,n,s,a){let l=s+this.left.height,c=a+this.left.length+this.break,h=r==wn.ByHeight?e<l:e<c,f=h?this.left.lineAt(e,r,n,s,a):this.right.lineAt(e,r,n,l,c);if(this.break||(h?f.to<c:f.from>c))return f;let p=r==wn.ByPosNoHeight?wn.ByPosNoHeight:wn.ByPos;return h?f.join(this.right.lineAt(c,p,n,l,c)):this.left.lineAt(c,p,n,s,a).join(f)}forEachLine(e,r,n,s,a,l){let c=s+this.left.height,h=a+this.left.length+this.break;if(this.break)e<h&&this.left.forEachLine(e,r,n,s,a,l),r>=h&&this.right.forEachLine(e,r,n,c,h,l);else{let f=this.lineAt(h,wn.ByPos,n,s,a);e<f.from&&this.left.forEachLine(e,f.from-1,n,s,a,l),f.to>=e&&f.from<=r&&l(f),r>f.to&&this.right.forEachLine(f.to+1,r,n,c,h,l)}}replace(e,r,n){let s=this.left.length+this.break;if(r<s)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,r-s,n));let a=[];e>0&&this.decomposeLeft(e,a);let l=a.length;for(let c of n)a.push(c);if(e>0&&lI(a,l-1),r<this.length){let c=a.length;this.decomposeRight(r,a),lI(a,c)}return Us.of(a)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,s=n+this.break;if(e>=s)return this.right.decomposeRight(e-s,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<s&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?Us.of(this.break?[e,null,r]:[e,r]):(this.left=e_(this.left,e),this.right=e_(this.right,r),this.setHeight(e.height+r.height),this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,s){let{left:a,right:l}=this,c=r+a.length+this.break,h=null;return s&&s.from<=r+a.length&&s.more?h=a=a.updateHeight(e,r,n,s):a.updateHeight(e,r,n),s&&s.from<=c+l.length&&s.more?h=l=l.updateHeight(e,c,n,s):l.updateHeight(e,c,n),h?this.balanced(a,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function lI(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof Gi&&(n=t[e+1])instanceof Gi&&t.splice(e-1,3,new Gi(r.length+1+n.length))}const xve=5;class xP{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Ea?s.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ea(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let s=n.widget?n.widget.estimatedHeight:0,a=n.widget?n.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let l=r-e;n.block?this.addBlock(new mY(l,s,n)):(l||a||s>=xve)&&this.addLineDeco(s,a,l)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ea(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new Gi(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ea)return e;let r=new Ea(0,-1);return this.nodes.push(r),r}addBlock(e){this.enterLine();let r=e.deco;r&&r.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r&&r.endSide>0&&(this.covering=e)}addLineDeco(e,r,n){let s=this.ensureLine();s.length+=n,s.collapsed+=n,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Ea)&&!this.isCovered?this.nodes.push(new Ea(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let s of this.nodes)s instanceof Ea&&s.updateHeight(this.oracle,n),n+=s?s.length:1;return this.nodes}static build(e,r,n,s){let a=new xP(n,e);return Ir.spans(r,n,s,a,0),a.finish(n)}}function bve(t,e,r){let n=new kve;return Ir.compare(t,e,r,n,0),n.changes}class kve{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,s){(e<r||n&&n.heightRelevant||s&&s.heightRelevant)&&Dv(e,r,this.changes,5)}}function yve(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,s=n.defaultView||window,a=Math.max(0,r.left),l=Math.min(s.innerWidth,r.right),c=Math.max(0,r.top),h=Math.min(s.innerHeight,r.bottom);for(let f=t.parentNode;f&&f!=n.body;)if(f.nodeType==1){let p=f,O=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&O.overflow!="visible"){let x=p.getBoundingClientRect();a=Math.max(a,x.left),l=Math.min(l,x.right),c=Math.max(c,x.top),h=Math.min(f==t.parentNode?s.innerHeight:h,x.bottom)}f=O.position=="absolute"||O.position=="fixed"?p.offsetParent:p.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:a-r.left,right:Math.max(a,l)-r.left,top:c-(r.top+e),bottom:Math.max(c,h)-(r.top+e)}}function wve(t){let e=t.getBoundingClientRect(),r=t.ownerDocument.defaultView||window;return e.left<r.innerWidth&&e.right>0&&e.top<r.innerHeight&&e.bottom>0}function vve(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class c5{constructor(e,r,n,s){this.from=e,this.to=r,this.size=n,this.displaySize=s}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let s=e[n],a=r[n];if(s.from!=a.from||s.to!=a.to||s.size!=a.size)return!1}return!0}draw(e,r){return Wt.replace({widget:new _ve(this.displaySize*(r?e.scaleY:e.scaleX),r)}).range(this.from,this.to)}}class _ve extends Yl{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cI{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=dI,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_n.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(pP).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new pve(r),this.stateDeco=e.facet(RO).filter(n=>typeof n!="function"),this.heightMap=Us.empty().applyChanges(this.stateDeco,Nr.empty,this.heightOracle.setDoc(e.doc),[new oo(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Wt.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let s=n?r.head:r.anchor;if(!e.some(({from:a,to:l})=>s>=a&&s<=l)){let{from:a,to:l}=this.lineBlockAt(s);e.push(new Sw(a,l))}}return this.viewports=e.sort((n,s)=>n.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?dI:new bP(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(N1(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(RO).filter(p=>typeof p!="function");let s=e.changedRanges,a=oo.extendWithRanges(s,bve(n,this.stateDeco,e?e.changes:xi.empty(this.state.doc.length))),l=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);oI(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=l||Xf)&&(e.flags|=2),c?(this.scrollAnchorPos=e.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=l);let h=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<h.from||r.range.head>h.to)||!this.viewportIsAppropriate(h))&&(h=this.getViewport(0,r));let f=h.from!=this.viewport.from||h.to!=this.viewport.to;this.viewport=h,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(ZW)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),s=this.heightOracle,a=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?_n.RTL:_n.LTR;let l=this.heightOracle.mustRefreshForWrapping(a),c=r.getBoundingClientRect(),h=l||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let f=0,p=0;if(c.width&&c.height){let{scaleX:Q,scaleY:B}=_W(r,c);(Q>.005&&Math.abs(this.scaleX-Q)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=Q,this.scaleY=B,f|=16,l=h=!0)}let O=(parseInt(n.paddingTop)||0)*this.scaleY,x=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=O||this.paddingBottom!=x)&&(this.paddingTop=O,this.paddingBottom=x,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(h=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let k=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=k&&(this.scrollAnchorHeight=-1,this.scrollTop=k),this.scrolledToBottom=SW(e.scrollDOM);let w=(this.printing?vve:yve)(r,this.paddingTop),_=w.top-this.pixelViewport.top,C=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let T=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(T!=this.inView&&(this.inView=T,T&&(h=!0)),!this.inView&&!this.scrollTarget&&!wve(e.dom))return 0;let E=c.width;if((this.contentDOMWidth!=E||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=c.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),h){let Q=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(Q)&&(l=!0),l||s.lineWrapping&&Math.abs(E-this.contentDOMWidth)>s.charWidth){let{lineHeight:B,charWidth:R,textHeight:M}=e.docView.measureTextSize();l=B>0&&s.refresh(a,B,R,M,Math.max(5,E/R),Q),l&&(e.docView.minWidth=0,f|=16)}_>0&&C>0?p=Math.max(_,C):_<0&&C<0&&(p=Math.min(_,C)),oI();for(let B of this.viewports){let R=B.from==this.viewport.from?Q:e.docView.measureVisibleLineHeights(B);this.heightMap=(l?Us.empty().applyChanges(this.stateDeco,Nr.empty,this.heightOracle,[new oo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,l,new mve(B.from,R))}Xf&&(f|=2)}let P=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return P&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),f|=this.updateForViewport()),(f&2||P)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(l?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,a=this.heightOracle,{visibleTop:l,visibleBottom:c}=this,h=new Sw(s.lineAt(l-n*1e3,wn.ByHeight,a,0,0).from,s.lineAt(c+(1-n)*1e3,wn.ByHeight,a,0,0).to);if(r){let{head:f}=r.range;if(f<h.from||f>h.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),O=s.lineAt(f,wn.ByPos,a,0,0),x;r.y=="center"?x=(O.top+O.bottom)/2-p/2:r.y=="start"||r.y=="nearest"&&f<h.from?x=O.top:x=O.bottom-p,h=new Sw(s.lineAt(x-1e3/2,wn.ByHeight,a,0,0).from,s.lineAt(x+p+1e3/2,wn.ByHeight,a,0,0).to)}}return h}mapViewport(e,r){let n=r.mapPos(e.from,-1),s=r.mapPos(e.to,1);return new Sw(this.heightMap.lineAt(n,wn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,wn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,wn.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(r,wn.ByPos,this.heightOracle,0,0),{visibleTop:l,visibleBottom:c}=this;return(e==0||s<=l-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||a>=c+Math.max(10,Math.min(n,250)))&&s>l-2*1e3&&a<c+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let s of e)r.touchesRange(s.from,s.to)||n.push(new c5(r.mapPos(s.from),r.mapPos(s.to),s.size,s.displaySize));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,s=n?1e4:2e3,a=s>>1,l=s<<1;if(this.defaultTextDirection!=_n.LTR&&!n)return[];let c=[],h=(p,O,x,k)=>{if(O-p<a)return;let w=this.state.selection.main,_=[w.from];w.empty||_.push(w.to);for(let T of _)if(T>p&&T<O){h(p,T-10,x,k),h(T+10,O,x,k);return}let C=Ave(e,T=>T.from>=x.from&&T.to<=x.to&&Math.abs(T.from-p)<a&&Math.abs(T.to-O)<a&&!_.some(E=>T.from<E&&T.to>E));if(!C){if(O<x.to&&r&&n&&r.visibleRanges.some(P=>P.from<=O&&P.to>=O)){let P=r.moveToLineBoundary(Ke.cursor(O),!1,!0).head;P>p&&(O=P)}let T=this.gapSize(x,p,O,k),E=n||T<2e6?T:2e6;C=new c5(p,O,T,E)}c.push(C)},f=p=>{if(p.length<l||p.type!=Vs.Text)return;let O=Cve(p.from,p.to,this.stateDeco);if(O.total<l)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,k,w;if(n){let _=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,T;if(x!=null){let E=Ew(O,x),P=((this.visibleBottom-this.visibleTop)/2+_)/p.height;C=E-P,T=E+P}else C=(this.visibleTop-p.top-_)/p.height,T=(this.visibleBottom-p.top+_)/p.height;k=Tw(O,C),w=Tw(O,T)}else{let _=O.total*this.heightOracle.charWidth,C=s*this.heightOracle.charWidth,T=0;if(_>2e6)for(let R of e)R.from>=p.from&&R.from<p.to&&R.size!=R.displaySize&&R.from*this.heightOracle.charWidth+T<this.pixelViewport.left&&(T=R.size-R.displaySize);let E=this.pixelViewport.left+T,P=this.pixelViewport.right+T,Q,B;if(x!=null){let R=Ew(O,x),M=((P-E)/2+C)/_;Q=R-M,B=R+M}else Q=(E-C)/_,B=(P+C)/_;k=Tw(O,Q),w=Tw(O,B)}k>p.from&&h(p.from,k,p,O),w<p.to&&h(w,p.to,p,O)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(f):f(p);return c}gapSize(e,r,n,s){let a=Ew(s,n)-Ew(s,r);return this.heightOracle.lineWrapping?e.height*a:s.total*this.heightOracle.charWidth*a}updateLineGaps(e){c5.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Wt.set(e.map(r=>r.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let r=this.stateDeco;this.lineGaps.length&&(r=r.concat(this.lineGapDeco));let n=[];Ir.spans(r,this.viewport.from,this.viewport.to,{span(a,l){n.push({from:a,to:l})},point(){}},20);let s=0;if(n.length!=this.visibleRanges.length)s=12;else for(let a=0;a<n.length&&!(s&8);a++){let l=this.visibleRanges[a],c=n[a];(l.from!=c.from||l.to!=c.to)&&(s|=4,e&&e.mapPos(l.from,-1)==c.from&&e.mapPos(l.to,1)==c.to||(s|=8))}return this.visibleRanges=n,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||N1(this.heightMap.lineAt(e,wn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(r=>r.top<=e&&r.bottom>=e)||N1(this.heightMap.lineAt(this.scaler.fromDOM(e),wn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let r=this.lineBlockAtHeight(e+8);return r.from>=this.viewport.from||this.viewportLines[0].top-e>200?r:this.viewportLines[0]}elementAtHeight(e){return N1(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Sw{constructor(e,r){this.from=e,this.to=r}}function Cve(t,e,r){let n=[],s=t,a=0;return Ir.spans(r,t,e,{span(){},point(l,c){l>s&&(n.push({from:s,to:l}),a+=l-s),s=c}},20),s<e&&(n.push({from:s,to:e}),a+=e-s),{total:a,ranges:n}}function Tw({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let s=0;;s++){let{from:a,to:l}=e[s],c=l-a;if(n<=c)return a+n;n-=c}}function Ew(t,e){let r=0;for(let{from:n,to:s}of t.ranges){if(e<=s){r+=e-n;break}r+=s-n}return r/t.total}function Ave(t,e){for(let r of t)if(e(r))return r}const dI={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class bP{constructor(e,r,n){let s=0,a=0,l=0;this.viewports=n.map(({from:c,to:h})=>{let f=r.lineAt(c,wn.ByPos,e,0,0).top,p=r.lineAt(h,wn.ByPos,e,0,0).bottom;return s+=p-f,{from:c,to:h,top:f,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(r.height-s);for(let c of this.viewports)c.domTop=l+(c.top-a)*this.scale,l=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(e){for(let r=0,n=0,s=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.top)return s+(e-n)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);n=a.bottom,s=a.domBottom}}fromDOM(e){for(let r=0,n=0,s=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.domTop)return n+(e-s)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);n=a.bottom,s=a.domBottom}}eq(e){return e instanceof bP?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((r,n)=>r.from==e.viewports[n].from&&r.to==e.viewports[n].to):!1}}function N1(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new Ql(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(s=>N1(s,e)):t._content)}const Pw=Pt.define({combine:t=>t.join(" ")}),IT=Pt.define({combine:t=>t.indexOf(!0)>-1}),jT=sh.newName(),OY=sh.newName(),xY=sh.newName(),bY={"&light":"."+OY,"&dark":"."+xY};function FT(t,e,r){return new sh(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,s=>{if(s=="&")return t;if(!r||!r[s])throw new RangeError(`Unsupported selector: ${s}`);return r[s]}):t+" "+n}})}const Sve=FT("."+jT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},bY),Tve={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},d5=At.ie&&At.ie_version<=11;class Eve{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new hwe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(At.ie&&At.ie_version<=11||At.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&At.android&&e.constructor.EDIT_CONTEXT!==!1&&!(At.chrome&&At.chrome_version<126)&&(this.editContext=new Dve(e),e.state.facet($c)&&(e.contentDOM.editContext=this.editContext.editContext)),d5&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,s=this.selectionRange;if(n.state.facet($c)?n.root.activeElement!=this.dom:!Pv(this.dom,s))return;let a=s.anchorNode&&n.docView.nearest(s.anchorNode);if(a&&a.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(At.ie&&At.ie_version<=11||At.android&&At.chrome)&&!n.state.selection.main.empty&&s.focusNode&&iO(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=MO(e.root);if(!r)return!1;let n=At.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Pve(this.view,r)||r;if(!n||this.selectionRange.eq(n))return!1;let s=Pv(this.dom,n);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&fwe(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Tve),d5&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),d5&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let s=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&gf(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,s=!1;for(let a of e){let l=this.readMutation(a);l&&(l.typeOver&&(s=!0),r==-1?{from:r,to:n}=l:(r=Math.min(l.from,r),n=Math.max(l.to,n)))}return{from:r,to:n,typeOver:s}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),s=this.selectionChanged&&Pv(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Ywe(this.view,e,r,n);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return this.view.requestMeasure(),!1;let n=this.view.state,s=aY(this.view,r);return this.view.state==n&&(r.domChanged||r.newSel&&!r.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.flags|=4),e.type=="childList"){let n=hI(r,e.previousSibling||e.target.previousSibling,-1),s=hI(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:s?r.posBefore(s):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet($c)!=e.state.facet($c)&&(e.view.contentDOM.editContext=e.state.facet($c)?this.editContext.editContext:null))}destroy(){var e,r,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function hI(t,e,r){for(;e;){let n=nn.get(e);if(n&&n.parent==t)return n;let s=e.parentNode;e=s!=t.dom?s:r>0?e.nextSibling:e.previousSibling}return null}function uI(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,a=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return iO(l.node,l.offset,s,a)&&([r,n,s,a]=[s,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:a}}function Pve(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return uI(t,s)}let r=null;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),r?uI(t,r):null}class Dve{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let r=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let s=e.state.selection.main,{anchor:a,head:l}=s,c=this.toEditorPos(n.updateRangeStart),h=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:c,drifted:!1});let f=h-c>n.text.length;c==this.from&&a<this.from?c=a:h==this.to&&a>this.to&&(h=a);let p=oY(e.state.sliceDoc(c,h),n.text,(f?s.from:s.to)-c,f?"end":null);if(!p){let x=Ke.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));x.main.eq(s)||e.dispatch({selection:x,userEvent:"select"});return}let O={from:p.from+c,to:p.toA+c,insert:Nr.of(n.text.slice(p.from,p.toB).split(`
`))};if((At.mac||At.android)&&O.from==l-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(O={from:c,to:h,insert:Nr.of([n.text.replace("."," ")])}),this.pendingContextChange=O,!e.state.readOnly){let x=this.to-this.from+(O.to-O.from+O.insert.length);OP(e,O,Ke.single(this.toEditorPos(n.selectionStart,x),this.toEditorPos(n.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),O.from<O.to&&!O.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(r.text.slice(Math.max(0,n.updateRangeStart-1),Math.min(r.text.length,n.updateRangeStart+1)))&&this.handlers.compositionend(n)},this.handlers.characterboundsupdate=n=>{let s=[],a=null;for(let l=this.toEditorPos(n.rangeStart),c=this.toEditorPos(n.rangeEnd);l<c;l++){let h=e.coordsForChar(l);a=h&&new DOMRect(h.left,h.top,h.right-h.left,h.bottom-h.top)||a||new DOMRect,s.push(a)}r.updateCharacterBounds(n.rangeStart,s)},this.handlers.textformatupdate=n=>{let s=[];for(let a of n.getTextFormats()){let l=a.underlineStyle,c=a.underlineThickness;if(!/none/i.test(l)&&!/none/i.test(c)){let h=this.toEditorPos(a.rangeStart),f=this.toEditorPos(a.rangeEnd);if(h<f){let p=`text-decoration: underline ${/^[a-z]/.test(l)?l+" ":l=="Dashed"?"dashed ":l=="Squiggle"?"wavy ":""}${/thin/i.test(c)?1:2}px`;s.push(Wt.mark({attributes:{style:p}}).range(h,f))}}}e.dispatch({effects:HW.of(Wt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)r.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let s=MO(n.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let r=0,n=!1,s=this.pendingContextChange;return e.changes.iterChanges((a,l,c,h,f)=>{if(n)return;let p=f.length-(l-a);if(s&&l>=s.to)if(s.from==a&&s.to==l&&s.insert.eq(f)){s=this.pendingContextChange=null,r+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(a+=r,l+=r,l<=this.from)this.from+=p,this.to+=p;else if(a<this.to){if(a<this.from||l>this.to||this.to-this.from+f.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(l),f.toString()),this.to+=p}r+=p}),s&&!n&&this.revertPending(e.state),!n}update(e){let r=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||r)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:r}=e.selection.main;this.from=Math.max(0,r-1e4),this.to=Math.min(e.doc.length,r+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let r=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(r.from),this.toContextPos(r.from+r.insert.length),e.doc.sliceString(r.from,r.to))}setSelection(e){let{main:r}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,r.anchor))),s=this.toContextPos(r.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(n,s)}rangeIsValid(e){let{head:r}=e.selection.main;return!(this.from>0&&r-this.from<500||this.to<e.doc.length&&this.to-r<500||this.to-this.from>1e4*3)}toEditorPos(e,r=this.to-this.from){e=Math.min(e,r);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let r=this.composing;return r&&r.drifted?r.contextBase+(e-r.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class vt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var r;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(s=>s.forEach(a=>n(a,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||uwe(e.parent)||document,this.viewState=new cI(e.state||Dr.create(e)),e.scrollTo&&e.scrollTo.is(_w)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(J0).map(s=>new a5(s));for(let s of this.plugins)s.update(this);this.observer=new Eve(this),this.inputState=new Kwe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new VB(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((r=document.fonts)===null||r===void 0)&&r.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let r=e.length==1&&e[0]instanceof fi?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,s,a=this.state;for(let x of e){if(x.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=x.state}if(this.destroyed){this.viewState.state=a;return}let l=this.hasFocus,c=0,h=null;e.some(x=>x.annotation(fY))?(this.inputState.notifiedFocused=l,c=1):l!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=l,h=gY(a,l),h||(c=1));let f=this.observer.delayedAndroidKey,p=null;if(f?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(p=null)):this.observer.clear(),a.facet(Dr.phrases)!=this.state.facet(Dr.phrases))return this.setState(a);s=J2.create(this,a,e),s.flags|=c;let O=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(O&&(O=O.map(x.changes)),x.scrollIntoView){let{main:k}=x.state.selection;O=new pf(k.empty?k:Ke.cursor(k.head,k.head>k.anchor?-1:1))}for(let k of x.effects)k.is(_w)&&(O=k.value.clip(this.state))}this.viewState.update(s,O),this.bidiCache=t_.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),r=this.docView.update(s),this.state.facet(M1)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Pw)!=s.state.facet(Pw)&&(this.viewState.mustMeasureContent=!0),(r||n||O||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!s.empty)for(let x of this.state.facet(MT))try{x(s)}catch(k){fa(this.state,k,"update listener")}(h||p)&&Promise.resolve().then(()=>{h&&this.state==h.startState&&this.dispatch(h),p&&!aY(this,p)&&f.force&&gf(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new cI(e),this.plugins=e.facet(J0).map(n=>new a5(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new VB(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(J0),n=e.state.facet(J0);if(r!=n){let s=[];for(let a of n){let l=r.indexOf(a);if(l<0)s.push(new a5(a));else{let c=this.plugins[l];c.mustUpdate=e,s.push(c)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);r!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let r=e.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(n){fa(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,s=n.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:l}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(l=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(l<0)if(SW(n))a=-1,l=this.viewState.heightMap.height;else{let k=this.viewState.scrollAnchorAt(s);a=k.from,l=k.top}this.updateState=1;let h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];h&4||([this.measureRequests,f]=[f,this.measureRequests]);let p=f.map(k=>{try{return k.read(this)}catch(w){return fa(this.state,w),fI}}),O=J2.create(this,this.state,[]),x=!1;O.flags|=h,r?r.flags|=h:r=O,this.updateState=2,O.empty||(this.updatePlugins(O),this.inputState.update(O),this.updateAttrs(),x=this.docView.update(O),x&&this.docViewUpdate());for(let k=0;k<f.length;k++)if(p[k]!=fI)try{let w=f[k];w.write&&w.write(p[k],this)}catch(w){fa(this.state,w)}if(x&&this.docView.updateSelection(!0),!O.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,l=-1;continue}else{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-l;if(w>1||w<-1){s=s+w,n.scrollTop=s/this.scaleY,l=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let c of this.state.facet(MT))c(r)}get themeClasses(){return jT+" "+(this.state.facet(IT)?xY:OY)+" "+this.state.facet(Pw)}updateAttrs(){let e=gI(this,KW,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet($c)?"true":"false",class:"cm-content",style:`${At.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),gI(this,pP,r);let n=this.observer.ignore(()=>{let s=ET(this.contentDOM,this.contentAttrs,r),a=ET(this.dom,this.editorAttrs,e);return s||a});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let s of n.effects)if(s.is(vt.announce)){r&&(this.announceDOM.textContent=""),r=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(M1);let e=this.state.facet(vt.cspNonce);sh.mount(this.root,this.styleModules.concat(Sve).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.plugin!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.plugin==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return l5(this,e,ZB(this,e,r,n))}moveByGroup(e,r){return l5(this,e,ZB(this,e,r,n=>Xwe(this,e.head,n)))}visualLineSide(e,r){let n=this.bidiSpans(e),s=this.textDirectionAt(e.from),a=n[r?n.length-1:0];return Ke.cursor(a.side(r,s)+e.from,a.forward(!r,s)?1:-1)}moveToLineBoundary(e,r,n=!0){return zwe(this,e,r,n)}moveVertically(e,r,n){return l5(this,e,Vwe(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),nY(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let s=this.state.doc.lineAt(e),a=this.bidiSpans(s),l=a[Xd.find(a,e-s.from,-1,r)];return Sx(n,l.dir==_n.LTR==r>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(YW)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Qve)return FW(e.length);let r=this.textDirectionAt(e.from),n;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==r&&(a.fresh||jW(a.isolates,n=XB(this,e))))return a.order;n||(n=XB(this,e));let s=Awe(e.text,r,n);return this.bidiCache.push(new t_(e.from,e.to,r,n,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||At.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{CW(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return _w.of(new pf(typeof e=="number"?Ke.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:r}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return _w.of(new pf(Ke.cursor(n.from),"start","start",n.top-e,r,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ni.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ni.define(()=>({}),{eventObservers:e})}static theme(e,r){let n=sh.newName(),s=[Pw.of(n),M1.of(FT(`.${n}`,e))];return r&&r.dark&&s.push(IT.of(!0)),s}static baseTheme(e){return Ch.lowest(M1.of(FT("."+jT,e,bY)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),s=n&&nn.get(n)||nn.get(e);return((r=s==null?void 0:s.rootView)===null||r===void 0?void 0:r.view)||null}}vt.styleModule=M1;vt.inputHandler=qW;vt.clipboardInputFilter=fP;vt.clipboardOutputFilter=gP;vt.scrollHandler=GW;vt.focusChangeEffect=WW;vt.perLineTextDirection=YW;vt.exceptionSink=UW;vt.updateListener=MT;vt.editable=$c;vt.mouseSelectionStyle=VW;vt.dragMovesSelection=XW;vt.clickAddsSelectionRange=zW;vt.decorations=RO;vt.outerDecorations=JW;vt.atomicRanges=Px;vt.bidiIsolatedRanges=eY;vt.scrollMargins=tY;vt.darkTheme=IT;vt.cspNonce=Pt.define({combine:t=>t.length?t[0]:""});vt.contentAttributes=pP;vt.editorAttributes=KW;vt.lineWrapping=vt.contentAttributes.of({class:"cm-lineWrapping"});vt.announce=ur.define();const Qve=4096,fI={};class t_{constructor(e,r,n,s,a,l){this.from=e,this.to=r,this.dir=n,this.isolates=s,this.fresh=a,this.order=l}static update(e,r){if(r.empty&&!e.some(a=>a.fresh))return e;let n=[],s=e.length?e[e.length-1].dir:_n.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let l=e[a];l.dir==s&&!r.touchesRange(l.from,l.to)&&n.push(new t_(r.mapPos(l.from,1),r.mapPos(l.to,-1),l.dir,l.isolates,!1,l.order))}return n}}function gI(t,e,r){for(let n=t.state.facet(e),s=n.length-1;s>=0;s--){let a=n[s],l=typeof a=="function"?a(t):a;l&&TT(l,r)}return r}const $ve=At.mac?"mac":At.windows?"win":At.linux?"linux":"key";function Mve(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let s,a,l,c;for(let h=0;h<r.length-1;++h){const f=r[h];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))l=!0;else if(/^mod$/i.test(f))e=="mac"?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(n="Alt-"+n),a&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function Dw(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Rve=Ch.default(vt.domEventHandlers({keydown(t,e){return yY(kY(e.state),t,e,"editor")}})),Dx=Pt.define({enables:Rve}),pI=new WeakMap;function kY(t){let e=t.facet(Dx),r=pI.get(e);return r||pI.set(e,r=Ive(e.reduce((n,s)=>n.concat(s),[]))),r}function Nve(t,e,r){return yY(kY(t.state),e,t,r)}let Bd=null;const Bve=4e3;function Ive(t,e=$ve){let r=Object.create(null),n=Object.create(null),s=(l,c)=>{let h=n[l];if(h==null)n[l]=c;else if(h!=c)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,c,h,f,p)=>{var O,x;let k=r[l]||(r[l]=Object.create(null)),w=c.split(/ (?!$)/).map(T=>Mve(T,e));for(let T=1;T<w.length;T++){let E=w.slice(0,T).join(" ");s(E,!0),k[E]||(k[E]={preventDefault:!0,stopPropagation:!1,run:[P=>{let Q=Bd={view:P,prefix:E,scope:l};return setTimeout(()=>{Bd==Q&&(Bd=null)},Bve),!0}]})}let _=w.join(" ");s(_,!1);let C=k[_]||(k[_]={preventDefault:!1,stopPropagation:!1,run:((x=(O=k._any)===null||O===void 0?void 0:O.run)===null||x===void 0?void 0:x.slice())||[]});h&&C.run.push(h),f&&(C.preventDefault=!0),p&&(C.stopPropagation=!0)};for(let l of t){let c=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let f of c){let p=r[f]||(r[f]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:O}=l;for(let x in p)p[x].run.push(k=>O(k,LT))}let h=l[e]||l.key;if(h)for(let f of c)a(f,h,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(f,"Shift-"+h,l.shift,l.preventDefault,l.stopPropagation)}return r}let LT=null;function yY(t,e,r,n){LT=e;let s=awe(e),a=ca(s,0),l=Dl(a)==s.length&&s!=" ",c="",h=!1,f=!1,p=!1;Bd&&Bd.view==r&&Bd.scope==n&&(c=Bd.prefix+" ",cY.indexOf(e.keyCode)<0&&(f=!0,Bd=null));let O=new Set,x=C=>{if(C){for(let T of C.run)if(!O.has(T)&&(O.add(T),T(r)))return C.stopPropagation&&(p=!0),!0;C.preventDefault&&(C.stopPropagation&&(p=!0),f=!0)}return!1},k=t[n],w,_;return k&&(x(k[c+Dw(s,e,!l)])?h=!0:l&&(e.altKey||e.metaKey||e.ctrlKey)&&!(At.windows&&e.ctrlKey&&e.altKey)&&!(At.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(w=ah[e.keyCode])&&w!=s?(x(k[c+Dw(w,e,!0)])||e.shiftKey&&(_=$O[e.keyCode])!=s&&_!=w&&x(k[c+Dw(_,e,!1)]))&&(h=!0):l&&e.shiftKey&&x(k[c+Dw(s,e,!0)])&&(h=!0),!h&&x(k._any)&&(h=!0)),f&&(h=!0),h&&p&&e.stopPropagation(),LT=null,h}class Qx{constructor(e,r,n,s,a){this.className=e,this.left=r,this.top=n,this.width=s,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let s=e.coordsAtPos(n.head,n.assoc||1);if(!s)return[];let a=wY(e);return[new Qx(r,s.left-a.left,s.top-a.top,null,s.bottom-s.top)]}else return jve(e,r,n)}}function wY(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==_n.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function mI(t,e,r,n){let s=t.coordsAtPos(e,r*2);if(!s)return n;let a=t.dom.getBoundingClientRect(),l=(s.top+s.bottom)/2,c=t.posAtCoords({x:a.left+1,y:l}),h=t.posAtCoords({x:a.right-1,y:l});return c==null||h==null?n:{from:Math.max(n.from,Math.min(c,h)),to:Math.min(n.to,Math.max(c,h))}}function jve(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),s=Math.min(r.to,t.viewport.to),a=t.textDirection==_n.LTR,l=t.contentDOM,c=l.getBoundingClientRect(),h=wY(t),f=l.querySelector(".cm-line"),p=f&&window.getComputedStyle(f),O=c.left+(p?parseInt(p.paddingLeft)+Math.min(0,parseInt(p.textIndent)):0),x=c.right-(p?parseInt(p.paddingRight):0),k=NT(t,n,1),w=NT(t,s,-1),_=k.type==Vs.Text?k:null,C=w.type==Vs.Text?w:null;if(_&&(t.lineWrapping||k.widgetLineBreaks)&&(_=mI(t,n,1,_)),C&&(t.lineWrapping||w.widgetLineBreaks)&&(C=mI(t,s,-1,C)),_&&C&&_.from==C.from&&_.to==C.to)return E(P(r.from,r.to,_));{let B=_?P(r.from,null,_):Q(k,!1),R=C?P(null,r.to,C):Q(w,!0),M=[];return(_||k).to<(C||w).from-(_&&C?1:0)||k.widgetLineBreaks>1&&B.bottom+t.defaultLineHeight/2<R.top?M.push(T(O,B.bottom,x,R.top)):B.bottom<R.top&&t.elementAtHeight((B.bottom+R.top)/2).type==Vs.Text&&(B.bottom=R.top=(B.bottom+R.top)/2),E(B).concat(M).concat(E(R))}function T(B,R,M,I){return new Qx(e,B-h.left,R-h.top,M-B,I-R)}function E({top:B,bottom:R,horizontal:M}){let I=[];for(let j=0;j<M.length;j+=2)I.push(T(M[j],B,M[j+1],R));return I}function P(B,R,M){let I=1e9,j=-1e9,z=[];function X(V,te,G,J,oe){let ie=t.coordsAtPos(V,V==M.to?-2:2),be=t.coordsAtPos(G,G==M.from?2:-2);!ie||!be||(I=Math.min(ie.top,be.top,I),j=Math.max(ie.bottom,be.bottom,j),oe==_n.LTR?z.push(a&&te?O:ie.left,a&&J?x:be.right):z.push(!a&&J?O:be.left,!a&&te?x:ie.right))}let W=B??M.from,F=R??M.to;for(let V of t.visibleRanges)if(V.to>W&&V.from<F)for(let te=Math.max(V.from,W),G=Math.min(V.to,F);;){let J=t.state.doc.lineAt(te);for(let oe of t.bidiSpans(J)){let ie=oe.from+J.from,be=oe.to+J.from;if(ie>=G)break;be>te&&X(Math.max(ie,te),B==null&&ie<=W,Math.min(be,G),R==null&&be>=F,oe.dir)}if(te=J.to+1,te>=G)break}return z.length==0&&X(W,B==null,F,R==null,t.textDirection),{top:I,bottom:j,horizontal:z}}function Q(B,R){let M=c.top+(R?B.top:B.bottom);return{top:M,bottom:M,horizontal:[]}}}function Fve(t,e){return t.constructor==e.constructor&&t.eq(e)}class Lve{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet($v)!=e.state.facet($v)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet($v);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:r}=this.view;(e!=this.scaleX||r!=this.scaleY)&&(this.scaleX=e,this.scaleY=r,this.dom.style.transform=`scale(${1/e}, ${1/r})`)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!Fve(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let s of e)s.update&&r&&s.constructor&&this.drawn[n].constructor&&s.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(s.draw(),r);for(;r;){let s=r.nextSibling;r.remove(),r=s}this.drawn=e,At.safari&&At.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const $v=Pt.define();function vY(t){return[ni.define(e=>new Lve(e,t)),$v.of(t)]}const NO=Pt.define({combine(t){return Wl(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function zve(t={}){return[NO.of(t),Xve,Vve,Uve,ZW.of(!0)]}function _Y(t){return t.startState.facet(NO)!=t.state.facet(NO)}const Xve=vY({above:!0,markers(t){let{state:e}=t,r=e.facet(NO),n=[];for(let s of e.selection.ranges){let a=s==e.selection.main;if(s.empty||r.drawRangeCursor){let l=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=s.empty?s:Ke.cursor(s.head,s.head>s.anchor?-1:1);for(let h of Qx.forRange(t,l,c))n.push(h)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=_Y(t);return r&&OI(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){OI(e.state,t)},class:"cm-cursorLayer"});function OI(t,e){e.style.animationDuration=t.facet(NO).cursorBlinkRate+"ms"}const Vve=vY({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Qx.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||_Y(t)},class:"cm-selectionLayer"}),Uve=Ch.highest(vt.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),CY=ur.define({map(t,e){return t==null?null:e.mapPos(t)}}),B1=ji.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(CY)?n.value:r,t)}}),qve=ni.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(B1);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(B1)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(B1),r=e!=null&&t.coordsAtPos(e);if(!r)return null;let n=t.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+t.scrollDOM.scrollLeft*t.scaleX,top:r.top-n.top+t.scrollDOM.scrollTop*t.scaleY,height:r.bottom-r.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:r}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/r+"px",this.cursor.style.height=t.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(B1)!=t&&this.view.dispatch({effects:CY.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Wve(){return[B1,qve]}function xI(t,e,r,n,s){e.lastIndex=0;for(let a=t.iterRange(r,n),l=r,c;!a.next().done;l+=a.value.length)if(!a.lineBreak)for(;c=e.exec(a.value);)s(l+c.index,c)}function Yve(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:s,to:a}of r)s=Math.max(t.state.doc.lineAt(s).from,s-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),n.length&&n[n.length-1].to>=s?n[n.length-1].to=a:n.push({from:s,to:a});return n}class Zve{constructor(e){const{regexp:r,decoration:n,decorate:s,boundary:a,maxLength:l=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,s)this.addMatch=(c,h,f,p)=>s(p,f,f+c[0].length,c,h);else if(typeof n=="function")this.addMatch=(c,h,f,p)=>{let O=n(c,h,f);O&&p(f,f+c[0].length,O)};else if(n)this.addMatch=(c,h,f,p)=>p(f,f+c[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=l}createDeco(e){let r=new Yc,n=r.add.bind(r);for(let{from:s,to:a}of Yve(e,this.maxLength))xI(e.state.doc,this.regexp,s,a,(l,c)=>this.addMatch(c,e,l,n));return r.finish()}updateDeco(e,r){let n=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((a,l,c,h)=>{h>=e.view.viewport.from&&c<=e.view.viewport.to&&(n=Math.min(c,n),s=Math.max(h,s))}),e.viewportMoved||s-n>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,r.map(e.changes),n,s):r}updateRange(e,r,n,s){for(let a of e.visibleRanges){let l=Math.max(a.from,n),c=Math.min(a.to,s);if(c>=l){let h=e.state.doc.lineAt(l),f=h.to<c?e.state.doc.lineAt(c):h,p=Math.max(a.from,h.from),O=Math.min(a.to,f.to);if(this.boundary){for(;l>h.from;l--)if(this.boundary.test(h.text[l-1-h.from])){p=l;break}for(;c<f.to;c++)if(this.boundary.test(f.text[c-f.from])){O=c;break}}let x=[],k,w=(_,C,T)=>x.push(T.range(_,C));if(h==f)for(this.regexp.lastIndex=p-h.from;(k=this.regexp.exec(h.text))&&k.index<O-h.from;)this.addMatch(k,e,k.index+h.from,w);else xI(e.state.doc,this.regexp,p,O,(_,C)=>this.addMatch(C,e,_,w));r=r.update({filterFrom:p,filterTo:O,filter:(_,C)=>_<p||C>O,add:x})}}return r}}const zT=/x/.unicode!=null?"gu":"g",Gve=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,zT),Hve={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let h5=null;function Kve(){var t;if(h5==null&&typeof document<"u"&&document.body){let e=document.body.style;h5=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return h5||!1}const Mv=Pt.define({combine(t){let e=Wl(t,{render:null,specialChars:Gve,addSpecialChars:null});return(e.replaceTabs=!Kve())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,zT)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,zT)),e}});function Jve(t={}){return[Mv.of(t),e2e()]}let bI=null;function e2e(){return bI||(bI=ni.fromClass(class{constructor(t){this.view=t,this.decorations=Wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Mv)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Zve({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:s}=r.state,a=ca(e[0],0);if(a==9){let l=s.lineAt(n),c=r.state.tabSize,h=gg(l.text,c,n-l.from);return Wt.replace({widget:new i2e((c-h%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Wt.replace({widget:new n2e(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Mv);t.startState.facet(Mv)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const t2e="";function r2e(t){return t>=32?t2e:t==10?"":String.fromCharCode(9216+t)}class n2e extends Yl{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=r2e(this.code),n=e.state.phrase("Control character")+" "+(Hve[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,n,r);if(s)return s;let a=document.createElement("span");return a.textContent=r,a.title=n,a.setAttribute("aria-label",n),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class i2e extends Yl{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function s2e(){return o2e}const a2e=Wt.line({class:"cm-activeLine"}),o2e=ni.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let s=t.lineBlockAt(n.head);s.from>e&&(r.push(a2e.range(s.from)),e=s.from)}return Wt.set(r)}},{decorations:t=>t.decorations});class l2e extends Yl{constructor(e){super(),this.content=e}toDOM(e){let r=document.createElement("span");return r.className="cm-placeholder",r.style.pointerEvents="none",r.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),r.setAttribute("aria-hidden","true"),r}coordsAt(e){let r=e.firstChild?Ff(e.firstChild):[];if(!r.length)return null;let n=window.getComputedStyle(e.parentNode),s=Sx(r[0],n.direction!="rtl"),a=parseInt(n.lineHeight);return s.bottom-s.top>a*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+a}:s}ignoreEvent(){return!1}}function c2e(t){let e=ni.fromClass(class{constructor(r){this.view=r,this.placeholder=t?Wt.set([Wt.widget({widget:new l2e(t),side:1}).range(0)]):Wt.none}get decorations(){return this.view.state.doc.length?Wt.none:this.placeholder}},{decorations:r=>r.decorations});return typeof t=="string"?[e,vt.contentAttributes.of({"aria-placeholder":t})]:e}const XT=2e3;function d2e(t,e,r){let n=Math.min(e.line,r.line),s=Math.max(e.line,r.line),a=[];if(e.off>XT||r.off>XT||e.col<0||r.col<0){let l=Math.min(e.off,r.off),c=Math.max(e.off,r.off);for(let h=n;h<=s;h++){let f=t.doc.line(h);f.length<=c&&a.push(Ke.range(f.from+l,f.to+c))}}else{let l=Math.min(e.col,r.col),c=Math.max(e.col,r.col);for(let h=n;h<=s;h++){let f=t.doc.line(h),p=kT(f.text,l,t.tabSize,!0);if(p<0)a.push(Ke.cursor(f.to));else{let O=kT(f.text,c,t.tabSize);a.push(Ke.range(f.from+p,f.from+O))}}}return a}function h2e(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function kI(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),s=r-n.from,a=s>XT?-1:s==n.length?h2e(t,e.clientX):gg(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:a,off:s}}function u2e(t,e){let r=kI(t,e),n=t.state.selection;return r?{update(s){if(s.docChanged){let a=s.changes.mapPos(s.startState.doc.line(r.line).from),l=s.state.doc.lineAt(a);r={line:l.number,col:r.col,off:Math.min(r.off,l.length)},n=n.map(s.changes)}},get(s,a,l){let c=kI(t,s);if(!c)return n;let h=d2e(t.state,r,c);return h.length?l?Ke.create(h.concat(n.ranges)):Ke.create(h):n}}:null}function f2e(t){let e=(r=>r.altKey&&r.button==0);return vt.mouseSelectionStyle.of((r,n)=>e(n)?u2e(r,n):null)}const g2e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},p2e={style:"cursor: crosshair"};function m2e(t={}){let[e,r]=g2e[t.key||"Alt"],n=ni.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventObservers:{keydown(s){this.set(s.keyCode==e||r(s))},keyup(s){(s.keyCode==e||!r(s))&&this.set(!1)},mousemove(s){this.set(r(s))}}});return[n,vt.contentAttributes.of(s=>{var a;return!((a=s.plugin(n))===null||a===void 0)&&a.isDown?p2e:null})]}const u1="-10000px";class AY{constructor(e,r,n,s){this.facet=r,this.createTooltipView=n,this.removeTooltipView=s,this.input=e.state.facet(r),this.tooltips=this.input.filter(l=>l);let a=null;this.tooltipViews=this.tooltips.map(l=>a=n(l,a))}update(e,r){var n;let s=e.state.facet(this.facet),a=s.filter(h=>h);if(s===this.input){for(let h of this.tooltipViews)h.update&&h.update(e);return!1}let l=[],c=r?[]:null;for(let h=0;h<a.length;h++){let f=a[h],p=-1;if(f){for(let O=0;O<this.tooltips.length;O++){let x=this.tooltips[O];x&&x.create==f.create&&(p=O)}if(p<0)l[h]=this.createTooltipView(f,h?l[h-1]:null),c&&(c[h]=!!f.above);else{let O=l[h]=this.tooltipViews[p];c&&(c[h]=r[p]),O.update&&O.update(e)}}}for(let h of this.tooltipViews)l.indexOf(h)<0&&(this.removeTooltipView(h),(n=h.destroy)===null||n===void 0||n.call(h));return r&&(c.forEach((h,f)=>r[f]=h),r.length=c.length),this.input=s,this.tooltips=a,this.tooltipViews=l,!0}}function O2e(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const u5=Pt.define({combine:t=>{var e,r,n;return{position:At.ios?"absolute":((e=t.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(s=>s.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(s=>s.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||O2e}}}),yI=new WeakMap,kP=ni.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(u5);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new AY(t,yP,(r,n)=>this.createTooltip(r,n),r=>{this.resizeObserver&&this.resizeObserver.unobserve(r.dom),r.dom.remove()}),this.above=this.manager.tooltips.map(r=>!!r.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(u5);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t,e){let r=t.create(this.view),n=e?e.dom:null;if(r.dom.classList.add("cm-tooltip"),t.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",r.dom.appendChild(s)}return r.dom.style.position=this.position,r.dom.style.top=u1,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var t,e,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.intersectionObserver)===null||r===void 0||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(At.gecko)r=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==u1&&a.style.left=="0px"){let l=a.getBoundingClientRect();r=Math.abs(l.top+1e4)>1||Math.abs(l.left)>1}}if(r||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),s=mP(this.view);return{visible:{left:n.left+s.left,top:n.top+s.top,right:n.right-s.right,bottom:n.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,l)=>{let c=this.manager.tooltipViews[l];return c.getCoords?c.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(u5).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{visible:r,space:n,scaleX:s,scaleY:a}=t,l=[];for(let c=0;c<this.manager.tooltips.length;c++){let h=this.manager.tooltips[c],f=this.manager.tooltipViews[c],{dom:p}=f,O=t.pos[c],x=t.size[c];if(!O||h.clip!==!1&&(O.bottom<=Math.max(r.top,n.top)||O.top>=Math.min(r.bottom,n.bottom)||O.right<Math.max(r.left,n.left)-.1||O.left>Math.min(r.right,n.right)+.1)){p.style.top=u1;continue}let k=h.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,w=k?7:0,_=x.right-x.left,C=(e=yI.get(f))!==null&&e!==void 0?e:x.bottom-x.top,T=f.offset||b2e,E=this.view.textDirection==_n.LTR,P=x.width>n.right-n.left?E?n.left:n.right-x.width:E?Math.max(n.left,Math.min(O.left-(k?14:0)+T.x,n.right-_)):Math.min(Math.max(n.left,O.left-_+(k?14:0)-T.x),n.right-_),Q=this.above[c];!h.strictSide&&(Q?O.top-C-w-T.y<n.top:O.bottom+C+w+T.y>n.bottom)&&Q==n.bottom-O.bottom>O.top-n.top&&(Q=this.above[c]=!Q);let B=(Q?O.top-n.top:n.bottom-O.bottom)-w;if(B<C&&f.resize!==!1){if(B<this.view.defaultLineHeight){p.style.top=u1;continue}yI.set(f,C),p.style.height=(C=B)/a+"px"}else p.style.height&&(p.style.height="");let R=Q?O.top-C-w-T.y:O.bottom+w+T.y,M=P+_;if(f.overlap!==!0)for(let I of l)I.left<M&&I.right>P&&I.top<R+C&&I.bottom>R&&(R=Q?I.top-C-2-w:I.bottom+w+2);if(this.position=="absolute"?(p.style.top=(R-t.parent.top)/a+"px",wI(p,(P-t.parent.left)/s)):(p.style.top=R/a+"px",wI(p,P/s)),k){let I=O.left+(E?T.x:-T.x)-(P+14-7);k.style.left=I/s+"px"}f.overlap!==!0&&l.push({left:P,top:R,right:M,bottom:R+C}),p.classList.toggle("cm-tooltip-above",Q),p.classList.toggle("cm-tooltip-below",!Q),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=u1}},{eventObservers:{scroll(){this.maybeMeasure()}}});function wI(t,e){let r=parseInt(t.style.left,10);(isNaN(r)||Math.abs(e-r)>1)&&(t.style.left=e+"px")}const x2e=vt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),b2e={x:0,y:0},yP=Pt.define({enables:[kP,x2e]}),r_=Pt.define({combine:t=>t.reduce((e,r)=>e.concat(r),[])});class MC{static create(e){return new MC(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new AY(e,r_,(r,n)=>this.createHostedView(r,n),r=>r.dom.remove())}createHostedView(e,r){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,r?r.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}passProp(e){let r;for(let n of this.manager.tooltipViews){let s=n[e];if(s!==void 0){if(r===void 0)r=s;else if(r!==s)return}}return r}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const k2e=yP.compute([r_],t=>{let e=t.facet(r_);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.map(r=>{var n;return(n=r.end)!==null&&n!==void 0?n:r.pos})),create:MC.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class y2e{constructor(e,r,n,s,a){this.view=e,this.source=r,this.field=n,this.setHover=s,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:r}=this,n=e.docView.nearest(r.target);if(!n)return;let s,a=1;if(n instanceof zd)s=n.posAtStart;else{if(s=e.posAtCoords(r),s==null)return;let c=e.coordsAtPos(s);if(!c||r.y<c.top||r.y>c.bottom||r.x<c.left-e.defaultCharacterWidth||r.x>c.right+e.defaultCharacterWidth)return;let h=e.bidiSpans(e.state.doc.lineAt(s)).find(p=>p.from<=s&&p.to>=s),f=h&&h.dir==_n.RTL?-1:1;a=r.x<c.left?-f:f}let l=this.source(e,s,a);if(l!=null&&l.then){let c=this.pending={pos:s};l.then(h=>{this.pending==c&&(this.pending=null,h&&!(Array.isArray(h)&&!h.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])}))},h=>fa(e.state,h,"hover tooltip"))}else l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])})}get tooltip(){let e=this.view.plugin(kP),r=e?e.manager.tooltips.findIndex(n=>n.create==MC.create):-1;return r>-1?e.manager.tooltipViews[r]:null}mousemove(e){var r,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s,tooltip:a}=this;if(s.length&&a&&!w2e(a.dom,e)||this.pending){let{pos:l}=s[0]||this.pending,c=(n=(r=s[0])===null||r===void 0?void 0:r.end)!==null&&n!==void 0?n:l;(l==c?this.view.posAtCoords(this.lastMove)!=l:!v2e(this.view,l,c,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:r}=this;if(r.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let r=n=>{e.removeEventListener("mouseleave",r),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",r)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qw=4;function w2e(t,e){let{left:r,right:n,top:s,bottom:a}=t.getBoundingClientRect(),l;if(l=t.querySelector(".cm-tooltip-arrow")){let c=l.getBoundingClientRect();s=Math.min(c.top,s),a=Math.max(c.bottom,a)}return e.clientX>=r-Qw&&e.clientX<=n+Qw&&e.clientY>=s-Qw&&e.clientY<=a+Qw}function v2e(t,e,r,n,s,a){let l=t.scrollDOM.getBoundingClientRect(),c=t.documentTop+t.documentPadding.top+t.contentHeight;if(l.left>n||l.right<n||l.top>s||Math.min(l.bottom,c)<s)return!1;let h=t.posAtCoords({x:n,y:s},!1);return h>=e&&h<=r}function _2e(t,e={}){let r=ur.define(),n=ji.define({create(){return[]},update(s,a){if(s.length&&(e.hideOnChange&&(a.docChanged||a.selection)?s=[]:e.hideOn&&(s=s.filter(l=>!e.hideOn(a,l))),a.docChanged)){let l=[];for(let c of s){let h=a.changes.mapPos(c.pos,-1,Ji.TrackDel);if(h!=null){let f=Object.assign(Object.create(null),c);f.pos=h,f.end!=null&&(f.end=a.changes.mapPos(f.end)),l.push(f)}}s=l}for(let l of a.effects)l.is(r)&&(s=l.value),l.is(C2e)&&(s=[]);return s},provide:s=>r_.from(s)});return{active:n,extension:[n,ni.define(s=>new y2e(s,t,n,r,e.hoverTime||300)),k2e]}}function SY(t,e){let r=t.plugin(kP);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const C2e=ur.define(),vI=Pt.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function BO(t,e){let r=t.plugin(TY),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const TY=ni.fromClass(class{constructor(t){this.input=t.state.facet(IO),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet(vI);this.top=new $w(t,!0,e.topContainer),this.bottom=new $w(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet(vI);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new $w(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new $w(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(IO);if(r!=this.input){let n=r.filter(h=>h),s=[],a=[],l=[],c=[];for(let h of n){let f=this.specs.indexOf(h),p;f<0?(p=h(t.view),c.push(p)):(p=this.panels[f],p.update&&p.update(t)),s.push(p),(p.top?a:l).push(p)}this.specs=n,this.panels=s,this.top.sync(a),this.bottom.sync(l);for(let h of c)h.dom.classList.add("cm-panel"),h.mount&&h.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>vt.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class $w{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=_I(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=_I(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function _I(t){let e=t.nextSibling;return t.remove(),e}const IO=Pt.define({enables:TY});class Gc extends Au{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Gc.prototype.elementClass="";Gc.prototype.toDOM=void 0;Gc.prototype.mapMode=Ji.TrackBefore;Gc.prototype.startSide=Gc.prototype.endSide=-1;Gc.prototype.point=!0;const Rv=Pt.define(),A2e=Pt.define(),S2e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Ir.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},oO=Pt.define();function T2e(t){return[EY(),oO.of({...S2e,...t})]}const CI=Pt.define({combine:t=>t.some(e=>e)});function EY(t){return[E2e]}const E2e=ni.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(oO).map(e=>new SI(t,e)),this.fixed=!t.state.facet(CI);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(CI)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let r=Ir.iter(this.view.state.facet(Rv),this.view.viewport.from),n=[],s=this.gutters.map(a=>new P2e(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(a.type)){let l=!0;for(let c of a.type)if(c.type==Vs.Text&&l){VT(r,n,c.from);for(let h of s)h.line(this.view,c,n);l=!1}else if(c.widget)for(let h of s)h.widget(this.view,c)}else if(a.type==Vs.Text){VT(r,n,a.from);for(let l of s)l.line(this.view,a,n)}else if(a.widget)for(let l of s)l.widget(this.view,a);for(let a of s)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(oO),r=t.state.facet(oO),n=t.docChanged||t.heightChanged||t.viewportChanged||!Ir.eq(t.startState.facet(Rv),t.state.facet(Rv),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let s of this.gutters)s.update(t)&&(n=!0);else{n=!0;let s=[];for(let a of r){let l=e.indexOf(a);l<0?s.push(new SI(this.view,a)):(this.gutters[l].update(t),s.push(this.gutters[l]))}for(let a of this.gutters)a.dom.remove(),s.indexOf(a)<0&&a.destroy();for(let a of s)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=s}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>vt.scrollMargins.of(e=>{let r=e.plugin(t);if(!r||r.gutters.length==0||!r.fixed)return null;let n=r.dom.offsetWidth*e.scaleX,s=r.domAfter?r.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==_n.LTR?{left:n,right:s}:{right:n,left:s}})});function AI(t){return Array.isArray(t)?t:[t]}function VT(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class P2e{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Ir.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:s}=this,a=(r.top-this.height)/e.scaleY,l=r.height/e.scaleY;if(this.i==s.elements.length){let c=new PY(e,l,a,n);s.elements.push(c),s.dom.appendChild(c.dom)}else s.elements[this.i].update(e,l,a,n);this.height=r.bottom,this.i++}line(e,r,n){let s=[];VT(this.cursor,s,r.from),n.length&&(s=s.concat(n));let a=this.gutter.config.lineMarker(e,r,s);a&&s.unshift(a);let l=this.gutter;s.length==0&&!l.config.renderEmptyElements||this.addElement(e,r,s)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r),s=n?[n]:null;for(let a of e.state.facet(A2e)){let l=a(e,r.widget,r);l&&(s||(s=[])).push(l)}s&&this.addElement(e,r,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class SI{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,s=>{let a=s.target,l;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let h=a.getBoundingClientRect();l=(h.top+h.bottom)/2}else l=s.clientY;let c=e.lineBlockAtHeight(l-e.documentTop);r.domEventHandlers[n](e,c,s)&&s.preventDefault()});this.markers=AI(r.markers(e)),r.initialSpacer&&(this.spacer=new PY(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=AI(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let n=e.view.viewport;return!Ir.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class PY{constructor(e,r,n,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,s)}update(e,r,n,s){this.height!=r&&(this.height=r,this.dom.style.height=r+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),D2e(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,r){let n="cm-gutterElement",s=this.dom.firstChild;for(let a=0,l=0;;){let c=l,h=a<r.length?r[a++]:null,f=!1;if(h){let p=h.elementClass;p&&(n+=" "+p);for(let O=l;O<this.markers.length;O++)if(this.markers[O].compare(h)){c=O,f=!0;break}}else c=this.markers.length;for(;l<c;){let p=this.markers[l++];if(p.toDOM){p.destroy(s);let O=s.nextSibling;s.remove(),s=O}}if(!h)break;h.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(h.toDOM(e),s)),f&&l++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function D2e(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const Q2e=Pt.define(),$2e=Pt.define(),ef=Pt.define({combine(t){return Wl(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let s in r){let a=n[s],l=r[s];n[s]=a?(c,h,f)=>a(c,h,f)||l(c,h,f):l}return n}})}});class f5 extends Gc{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function g5(t,e){return t.state.facet(ef).formatNumber(e,t.state)}const M2e=oO.compute([ef],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Q2e)},lineMarker(e,r,n){return n.some(s=>s.toDOM)?null:new f5(g5(e,e.state.doc.lineAt(r.from).number))},widgetMarker:(e,r,n)=>{for(let s of e.state.facet($2e)){let a=s(e,r,n);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(ef)!=e.state.facet(ef),initialSpacer(e){return new f5(g5(e,TI(e.state.doc.lines)))},updateSpacer(e,r){let n=g5(r.view,TI(r.view.state.doc.lines));return n==e.number?e:new f5(n)},domEventHandlers:t.facet(ef).domEventHandlers,side:"before"}));function R2e(t={}){return[ef.of(t),EY(),M2e]}function TI(t){let e=9;for(;e<t;)e=e*10+9;return e}const N2e=new class extends Gc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},B2e=Rv.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let s=t.doc.lineAt(n.head).from;s>r&&(r=s,e.push(N2e.range(s)))}return Ir.of(e)});function I2e(){return B2e}const DY=1024;let j2e=0;class ro{constructor(e,r){this.from=e,this.to=r}}class Cr{constructor(e={}){this.id=j2e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ws.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}Cr.closedBy=new Cr({deserialize:t=>t.split(" ")});Cr.openedBy=new Cr({deserialize:t=>t.split(" ")});Cr.group=new Cr({deserialize:t=>t.split(" ")});Cr.isolate=new Cr({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Cr.contextHash=new Cr({perNode:!0});Cr.lookAhead=new Cr({perNode:!0});Cr.mounted=new Cr({perNode:!0});class jO{constructor(e,r,n){this.tree=e,this.overlay=r,this.parser=n}static get(e){return e&&e.props&&e.props[Cr.mounted.id]}}const F2e=Object.create(null);class Ws{constructor(e,r,n,s=0){this.name=e,this.props=r,this.id=n,this.flags=s}static define(e){let r=e.props&&e.props.length?Object.create(null):F2e,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Ws(e.name||"",r,e.id,n);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(s)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(Cr.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let s of n.split(" "))r[s]=e[n];return n=>{for(let s=n.prop(Cr.group),a=-1;a<(s?s.length:0);a++){let l=r[a<0?n.name:s[a]];if(l)return l}}}}Ws.none=new Ws("",Object.create(null),0,8);class wP{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let s=null;for(let a of e){let l=a(n);if(l){s||(s=Object.assign({},n.props));let c=l[1],h=l[0];h.combine&&h.id in s&&(c=h.combine(s[h.id],c)),s[h.id]=c}}r.push(s?new Ws(n.name,s,n.id,n.flags):n)}return new wP(r)}}const Mw=new WeakMap,EI=new WeakMap;var ln;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(ln||(ln={}));class Bn{constructor(e,r,n,s,a){if(this.type=e,this.children=r,this.positions=n,this.length=s,this.props=null,a&&a.length){this.props=Object.create(null);for(let[l,c]of a)this.props[typeof l=="number"?l:l.id]=c}}toString(){let e=jO.get(this);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let s=n.toString();s&&(r&&(r+=","),r+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new n_(this.topNode,e)}cursorAt(e,r=0,n=0){let s=Mw.get(this)||this.topNode,a=new n_(s);return a.moveTo(e,r),Mw.set(this,a._tree),a}get topNode(){return new bs(this,0,0,null)}resolve(e,r=0){let n=FO(Mw.get(this)||this.topNode,e,r,!1);return Mw.set(this,n),n}resolveInner(e,r=0){let n=FO(EI.get(this)||this.topNode,e,r,!0);return EI.set(this,n),n}resolveStack(e,r=0){return X2e(this,e,r)}iterate(e){let{enter:r,leave:n,from:s=0,to:a=this.length}=e,l=e.mode||0,c=(l&ln.IncludeAnonymous)>0;for(let h=this.cursor(l|ln.IncludeAnonymous);;){let f=!1;if(h.from<=a&&h.to>=s&&(!c&&h.type.isAnonymous||r(h)!==!1)){if(h.firstChild())continue;f=!0}for(;f&&n&&(c||!h.type.isAnonymous)&&n(h),!h.nextSibling();){if(!h.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:CP(Ws.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,s)=>new Bn(this.type,r,n,s,this.propValues),e.makeTree||((r,n,s)=>new Bn(Ws.none,r,n,s)))}static build(e){return V2e(e)}}Bn.empty=new Bn(Ws.none,[],[],0);class vP{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new vP(this.buffer,this.index)}}class lh{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return Ws.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],s=this.set.types[r],a=s.name;if(/\W/.test(a)&&!s.isError&&(a=JSON.stringify(a)),e+=4,n==e)return a;let l=[];for(;e<n;)l.push(this.childString(e)),e=this.buffer[e+3];return a+"("+l.join(",")+")"}findChild(e,r,n,s,a){let{buffer:l}=this,c=-1;for(let h=e;h!=r&&!(QY(a,s,l[h+1],l[h+2])&&(c=h,n>0));h=l[h+3]);return c}slice(e,r,n){let s=this.buffer,a=new Uint16Array(r-e),l=0;for(let c=e,h=0;c<r;){a[h++]=s[c++],a[h++]=s[c++]-n;let f=a[h++]=s[c++]-n;a[h++]=s[c++]-e,l=Math.max(l,f)}return new lh(a,l,this.set)}}function QY(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function FO(t,e,r,n){for(var s;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let l=!n&&t instanceof bs&&t.index<0?null:t.parent;if(!l)return t;t=l}let a=n?0:ln.IgnoreOverlays;if(n)for(let l=t,c=l.parent;c;l=c,c=l.parent)l instanceof bs&&l.index<0&&((s=c.enter(e,r,a))===null||s===void 0?void 0:s.from)!=l.from&&(t=c);for(;;){let l=t.enter(e,r,a);if(!l)return t;t=l}}class $Y{cursor(e=0){return new n_(this,e)}getChild(e,r=null,n=null){let s=PI(this,e,r,n);return s.length?s[0]:null}getChildren(e,r=null,n=null){return PI(this,e,r,n)}resolve(e,r=0){return FO(this,e,r,!1)}resolveInner(e,r=0){return FO(this,e,r,!0)}matchContext(e){return UT(this.parent,e)}enterUnfinishedNodesBefore(e){let r=this.childBefore(e),n=this;for(;r;){let s=r.lastChild;if(!s||s.to!=r.to)break;s.type.isError&&s.from==s.to?(n=r,r=s.prevSibling):r=s}return n}get node(){return this}get next(){return this.parent}}class bs extends $Y{constructor(e,r,n,s){super(),this._tree=e,this.from=r,this.index=n,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,s,a=0){for(let l=this;;){for(let{children:c,positions:h}=l._tree,f=r>0?c.length:-1;e!=f;e+=r){let p=c[e],O=h[e]+l.from;if(QY(s,n,O,O+p.length)){if(p instanceof lh){if(a&ln.ExcludeBuffers)continue;let x=p.findChild(0,p.buffer.length,r,n-O,s);if(x>-1)return new Ml(new L2e(l,p,e,O),null,x)}else if(a&ln.IncludeAnonymous||!p.type.isAnonymous||_P(p)){let x;if(!(a&ln.IgnoreMounts)&&(x=jO.get(p))&&!x.overlay)return new bs(x.tree,O,e,l);let k=new bs(p,O,e,l);return a&ln.IncludeAnonymous||!k.type.isAnonymous?k:k.nextChild(r<0?p.children.length-1:0,r,n,s)}}}if(a&ln.IncludeAnonymous||!l.type.isAnonymous||(l.index>=0?e=l.index+r:e=r<0?-1:l._parent._tree.children.length,l=l._parent,!l))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let s;if(!(n&ln.IgnoreOverlays)&&(s=jO.get(this._tree))&&s.overlay){let a=e-this.from;for(let{from:l,to:c}of s.overlay)if((r>0?l<=a:l<a)&&(r<0?c>=a:c>a))return new bs(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function PI(t,e,r,n){let s=t.cursor(),a=[];if(!s.firstChild())return a;if(r!=null){for(let l=!1;!l;)if(l=s.type.is(r),!s.nextSibling())return a}for(;;){if(n!=null&&s.type.is(n))return a;if(s.type.is(e)&&a.push(s.node),!s.nextSibling())return n==null?a:[]}}function UT(t,e,r=e.length-1){for(let n=t;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class L2e{constructor(e,r,n,s){this.parent=e,this.buffer=r,this.index=n,this.start=s}}class Ml extends $Y{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){super(),this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.context.start,n);return a<0?null:new Ml(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&ln.ExcludeBuffers)return null;let{buffer:s}=this.context,a=s.findChild(this.index+4,s.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return a<0?null:new Ml(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Ml(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new Ml(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,s=this.index+4,a=n.buffer[this.index+3];if(a>s){let l=n.buffer[this.index+1];e.push(n.slice(s,a,l)),r.push(0)}return new Bn(this.type,e,r,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function MY(t){if(!t.length)return null;let e=0,r=t[0];for(let a=1;a<t.length;a++){let l=t[a];(l.from>r.from||l.to<r.to)&&(r=l,e=a)}let n=r instanceof bs&&r.index<0?null:r.parent,s=t.slice();return n?s[e]=n:s.splice(e,1),new z2e(s,r)}class z2e{constructor(e,r){this.heads=e,this.node=r}get next(){return MY(this.heads)}}function X2e(t,e,r){let n=t.resolveInner(e,r),s=null;for(let a=n instanceof bs?n:n.context.parent;a;a=a.parent)if(a.index<0){let l=a.parent;(s||(s=[n])).push(l.resolve(e,r)),a=l}else{let l=jO.get(a.tree);if(l&&l.overlay&&l.overlay[0].from<=e&&l.overlay[l.overlay.length-1].to>=e){let c=new bs(l.tree,l.overlay[0].from+a.from,-1,a);(s||(s=[n])).push(FO(c,e,r,!1))}}return s?MY(s):n}class n_{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof bs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:s}=this.buffer;return this.type=r||s.set.types[s.buffer[e]],this.from=n+s.buffer[e+1],this.to=n+s.buffer[e+2],!0}yield(e){return e?e instanceof bs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:s}=this.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],e,r-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&ln.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ln.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ln.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let s=n<0?0:this.stack[n]+4;if(this.index!=s)return this.yieldBuf(r.findChild(s,this.index,-1,0,4))}else{let s=r.buffer[this.index+3];if(s<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(s)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(s.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:n}=s)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let a=r+e,l=e<0?-1:n._tree.children.length;a!=l;a+=e){let c=n._tree.children[a];if(this.mode&ln.IncludeAnonymous||c instanceof lh||!c.type.isAnonymous||_P(c))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let s=this.index,a=this.stack.length;a>=0;){for(let l=e;l;l=l._parent)if(l.index==s){if(s==this.index)return l;r=l,n=a+1;break e}s=this.stack[--a]}for(let s=n;s<this.stack.length;s++)r=new Ml(this.buffer,r,this.stack[s]);return this.bufferNode=new Ml(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&r&&r(this),s=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,s=!0}}}matchContext(e){if(!this.buffer)return UT(this.node.parent,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let s=e.length-1,a=this.stack.length-1;s>=0;a--){if(a<0)return UT(this._tree,e,s);let l=n[r.buffer[this.stack[a]]];if(!l.isAnonymous){if(e[s]&&e[s]!=l.name)return!1;s--}}return!0}}function _P(t){return t.children.some(e=>e instanceof lh||!e.type.isAnonymous||_P(e))}function V2e(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:s=DY,reused:a=[],minRepeatType:l=n.types.length}=t,c=Array.isArray(r)?new vP(r,r.length):r,h=n.types,f=0,p=0;function O(B,R,M,I,j,z){let{id:X,start:W,end:F,size:V}=c,te=p,G=f;if(V<0)if(c.next(),V==-1){let he=a[X];M.push(he),I.push(W-B);return}else if(V==-3){f=X;return}else if(V==-4){p=X;return}else throw new RangeError(`Unrecognized record size: ${V}`);let J=h[X],oe,ie,be=W-B;if(F-W<=s&&(ie=C(c.pos-R,j))){let he=new Uint16Array(ie.size-ie.skip),re=c.pos-ie.size,ae=he.length;for(;c.pos>re;)ae=T(ie.start,he,ae);oe=new lh(he,F-ie.start,n),be=ie.start-B}else{let he=c.pos-V;c.next();let re=[],ae=[],K=X>=l?X:-1,ce=0,ye=F;for(;c.pos>he;)K>=0&&c.id==K&&c.size>=0?(c.end<=ye-s&&(w(re,ae,W,ce,c.end,ye,K,te,G),ce=re.length,ye=c.end),c.next()):z>2500?x(W,he,re,ae):O(W,he,re,ae,K,z+1);if(K>=0&&ce>0&&ce<re.length&&w(re,ae,W,ce,W,ye,K,te,G),re.reverse(),ae.reverse(),K>-1&&ce>0){let ke=k(J,G);oe=CP(J,re,ae,0,re.length,0,F-W,ke,ke)}else oe=_(J,re,ae,F-W,te-F,G)}M.push(oe),I.push(be)}function x(B,R,M,I){let j=[],z=0,X=-1;for(;c.pos>R;){let{id:W,start:F,end:V,size:te}=c;if(te>4)c.next();else{if(X>-1&&F<X)break;X<0&&(X=V-s),j.push(W,F,V),z++,c.next()}}if(z){let W=new Uint16Array(z*4),F=j[j.length-2];for(let V=j.length-3,te=0;V>=0;V-=3)W[te++]=j[V],W[te++]=j[V+1]-F,W[te++]=j[V+2]-F,W[te++]=te;M.push(new lh(W,j[2]-F,n)),I.push(F-B)}}function k(B,R){return(M,I,j)=>{let z=0,X=M.length-1,W,F;if(X>=0&&(W=M[X])instanceof Bn){if(!X&&W.type==B&&W.length==j)return W;(F=W.prop(Cr.lookAhead))&&(z=I[X]+W.length+F)}return _(B,M,I,j,z,R)}}function w(B,R,M,I,j,z,X,W,F){let V=[],te=[];for(;B.length>I;)V.push(B.pop()),te.push(R.pop()+M-j);B.push(_(n.types[X],V,te,z-j,W-z,F)),R.push(j-M)}function _(B,R,M,I,j,z,X){if(z){let W=[Cr.contextHash,z];X=X?[W].concat(X):[W]}if(j>25){let W=[Cr.lookAhead,j];X=X?[W].concat(X):[W]}return new Bn(B,R,M,I,X)}function C(B,R){let M=c.fork(),I=0,j=0,z=0,X=M.end-s,W={size:0,start:0,skip:0};e:for(let F=M.pos-B;M.pos>F;){let V=M.size;if(M.id==R&&V>=0){W.size=I,W.start=j,W.skip=z,z+=4,I+=4,M.next();continue}let te=M.pos-V;if(V<0||te<F||M.start<X)break;let G=M.id>=l?4:0,J=M.start;for(M.next();M.pos>te;){if(M.size<0)if(M.size==-3)G+=4;else break e;else M.id>=l&&(G+=4);M.next()}j=J,I+=V,z+=G}return(R<0||I==B)&&(W.size=I,W.start=j,W.skip=z),W.size>4?W:void 0}function T(B,R,M){let{id:I,start:j,end:z,size:X}=c;if(c.next(),X>=0&&I<l){let W=M;if(X>4){let F=c.pos-(X-4);for(;c.pos>F;)M=T(B,R,M)}R[--M]=W,R[--M]=z-B,R[--M]=j-B,R[--M]=I}else X==-3?f=I:X==-4&&(p=I);return M}let E=[],P=[];for(;c.pos>0;)O(t.start||0,t.bufferStart||0,E,P,-1,0);let Q=(e=t.length)!==null&&e!==void 0?e:E.length?P[0]+E[0].length:0;return new Bn(h[t.topID],E.reverse(),P.reverse(),Q)}const DI=new WeakMap;function Nv(t,e){if(!t.isAnonymous||e instanceof lh||e.type!=t)return 1;let r=DI.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Bn)){r=1;break}r+=Nv(t,n)}DI.set(e,r)}return r}function CP(t,e,r,n,s,a,l,c,h){let f=0;for(let w=n;w<s;w++)f+=Nv(t,e[w]);let p=Math.ceil(f*1.5/8),O=[],x=[];function k(w,_,C,T,E){for(let P=C;P<T;){let Q=P,B=_[P],R=Nv(t,w[P]);for(P++;P<T;P++){let M=Nv(t,w[P]);if(R+M>=p)break;R+=M}if(P==Q+1){if(R>p){let M=w[Q];k(M.children,M.positions,0,M.children.length,_[Q]+E);continue}O.push(w[Q])}else{let M=_[P-1]+w[P-1].length-B;O.push(CP(t,w,_,Q,P,B,M,null,h))}x.push(B+E-a)}}return k(e,r,n,s,0),(c||h)(O,x,l)}class AP{constructor(){this.map=new WeakMap}setBuffer(e,r,n){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(r,n)}getBuffer(e,r){let n=this.map.get(e);return n&&n.get(r)}set(e,r){e instanceof Ml?this.setBuffer(e.context.buffer,e.index,r):e instanceof bs&&this.map.set(e.tree,r)}get(e){return e instanceof Ml?this.getBuffer(e.context.buffer,e.index):e instanceof bs?this.map.get(e.tree):void 0}cursorSet(e,r){e.buffer?this.setBuffer(e.buffer.buffer,e.index,r):this.map.set(e.tree,r)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ic{constructor(e,r,n,s,a=!1,l=!1){this.from=e,this.to=r,this.tree=n,this.offset=s,this.open=(a?1:0)|(l?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let s=[new Ic(0,e.length,e,0,!1,n)];for(let a of r)a.to>e.length&&s.push(a);return s}static applyChanges(e,r,n=128){if(!r.length)return e;let s=[],a=1,l=e.length?e[0]:null;for(let c=0,h=0,f=0;;c++){let p=c<r.length?r[c]:null,O=p?p.fromA:1e9;if(O-h>=n)for(;l&&l.from<O;){let x=l;if(h>=x.from||O<=x.to||f){let k=Math.max(x.from,h)-f,w=Math.min(x.to,O)-f;x=k>=w?null:new Ic(k,w,x.tree,x.offset+f,c>0,!!p)}if(x&&s.push(x),l.to>O)break;l=a<e.length?e[a++]:null}if(!p)break;h=p.toA,f=p.toA-p.toB}return s}}let RY=class{startParse(e,r,n){return typeof e=="string"&&(e=new U2e(e)),n=n?n.length?n.map(s=>new ro(s.from,s.to)):[new ro(0,0)]:[new ro(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let s=this.startParse(e,r,n);for(;;){let a=s.advance();if(a)return a}}};class U2e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}function q2e(t){return(e,r,n,s)=>new Y2e(e,t,r,n,s)}class QI{constructor(e,r,n,s,a){this.parser=e,this.parse=r,this.overlay=n,this.target=s,this.from=a}}function $I(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class W2e{constructor(e,r,n,s,a,l,c){this.parser=e,this.predicate=r,this.mounts=n,this.index=s,this.start=a,this.target=l,this.prev=c,this.depth=0,this.ranges=[]}}const qT=new Cr({perNode:!0});class Y2e{constructor(e,r,n,s,a){this.nest=r,this.input=n,this.fragments=s,this.ranges=a,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let n=this.baseParse.advance();if(!n)return null;if(this.baseParse=null,this.baseTree=n,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let n=this.baseTree;return this.stoppedAt!=null&&(n=new Bn(n.type,n.children,n.positions,n.length,n.propValues.concat([[qT,this.stoppedAt]]))),n}let e=this.inner[this.innerDone],r=e.parse.advance();if(r){this.innerDone++;let n=Object.assign(Object.create(null),e.target.props);n[Cr.mounted.id]=new jO(r,e.overlay,e.parser),e.target.props=n}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].from<e&&(e=Math.min(e,this.inner[r].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let r=this.innerDone;r<this.inner.length;r++)this.inner[r].parse.stopAt(e)}startInner(){let e=new H2e(this.fragments),r=null,n=null,s=new n_(new bs(this.baseTree,this.ranges[0].from,0,null),ln.IncludeAnonymous|ln.IgnoreMounts);e:for(let a,l;;){let c=!0,h;if(this.stoppedAt!=null&&s.from>=this.stoppedAt)c=!1;else if(e.hasNode(s)){if(r){let f=r.mounts.find(p=>p.frag.from<=s.from&&p.frag.to>=s.to&&p.mount.overlay);if(f)for(let p of f.mount.overlay){let O=p.from+f.pos,x=p.to+f.pos;O>=s.from&&x<=s.to&&!r.ranges.some(k=>k.from<x&&k.to>O)&&r.ranges.push({from:O,to:x})}}c=!1}else if(n&&(l=Z2e(n.ranges,s.from,s.to)))c=l!=2;else if(!s.type.isAnonymous&&(a=this.nest(s,this.input))&&(s.from<s.to||!a.overlay)){s.tree||(G2e(s),r&&r.depth++,n&&n.depth++);let f=e.findMounts(s.from,a.parser);if(typeof a.overlay=="function")r=new W2e(a.parser,a.overlay,f,this.inner.length,s.from,s.tree,r);else{let p=NI(this.ranges,a.overlay||(s.from<s.to?[new ro(s.from,s.to)]:[]));p.length&&$I(p),(p.length||!a.overlay)&&this.inner.push(new QI(a.parser,p.length?a.parser.startParse(this.input,BI(f,p),p):a.parser.startParse(""),a.overlay?a.overlay.map(O=>new ro(O.from-s.from,O.to-s.from)):null,s.tree,p.length?p[0].from:s.from)),a.overlay?p.length&&(n={ranges:p,depth:0,prev:n}):c=!1}}else if(r&&(h=r.predicate(s))&&(h===!0&&(h=new ro(s.from,s.to)),h.from<h.to)){let f=r.ranges.length-1;f>=0&&r.ranges[f].to==h.from?r.ranges[f]={from:r.ranges[f].from,to:h.to}:r.ranges.push(h)}if(c&&s.firstChild())r&&r.depth++,n&&n.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(r&&!--r.depth){let f=NI(this.ranges,r.ranges);f.length&&($I(f),this.inner.splice(r.index,0,new QI(r.parser,r.parser.startParse(this.input,BI(r.mounts,f),f),r.ranges.map(p=>new ro(p.from-r.start,p.to-r.start)),r.target,f[0].from))),r=r.prev}n&&!--n.depth&&(n=n.prev)}}}}function Z2e(t,e,r){for(let n of t){if(n.from>=r)break;if(n.to>e)return n.from<=e&&n.to>=r?2:1}return 0}function MI(t,e,r,n,s,a){if(e<r){let l=t.buffer[e+1];n.push(t.slice(e,r,l)),s.push(l-a)}}function G2e(t){let{node:e}=t,r=[],n=e.context.buffer;do r.push(t.index),t.parent();while(!t.tree);let s=t.tree,a=s.children.indexOf(n),l=s.children[a],c=l.buffer,h=[a];function f(p,O,x,k,w,_){let C=r[_],T=[],E=[];MI(l,p,C,T,E,k);let P=c[C+1],Q=c[C+2];h.push(T.length);let B=_?f(C+4,c[C+3],l.set.types[c[C]],P,Q-P,_-1):e.toTree();return T.push(B),E.push(P-k),MI(l,c[C+3],O,T,E,k),new Bn(x,T,E,w)}s.children[a]=f(0,c.length,Ws.none,0,l.length,r.length-1);for(let p of h){let O=t.tree.children[p],x=t.tree.positions[p];t.yield(new bs(O,x+t.from,p,t._tree))}}class RI{constructor(e,r){this.offset=r,this.done=!1,this.cursor=e.cursor(ln.IncludeAnonymous|ln.IgnoreMounts)}moveTo(e){let{cursor:r}=this,n=e-this.offset;for(;!this.done&&r.from<n;)r.to>=e&&r.enter(n,1,ln.IgnoreOverlays|ln.ExcludeBuffers)||r.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let r=this.cursor.tree;;){if(r==e.tree)return!0;if(r.children.length&&r.positions[0]==0&&r.children[0]instanceof Bn)r=r.children[0];else break}return!1}}let H2e=class{constructor(e){var r;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let n=this.curFrag=e[0];this.curTo=(r=n.tree.prop(qT))!==null&&r!==void 0?r:n.to,this.inner=new RI(n.tree,-n.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let r=this.curFrag=this.fragments[this.fragI];this.curTo=(e=r.tree.prop(qT))!==null&&e!==void 0?e:r.to,this.inner=new RI(r.tree,-r.offset)}}findMounts(e,r){var n;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let a=this.inner.cursor.node;a;a=a.parent){let l=(n=a.tree)===null||n===void 0?void 0:n.prop(Cr.mounted);if(l&&l.parser==r)for(let c=this.fragI;c<this.fragments.length;c++){let h=this.fragments[c];if(h.from>=a.to)break;h.tree==this.curFrag.tree&&s.push({frag:h,pos:a.from-h.offset,mount:l})}}}return s}};function NI(t,e){let r=null,n=e;for(let s=1,a=0;s<t.length;s++){let l=t[s-1].to,c=t[s].from;for(;a<n.length;a++){let h=n[a];if(h.from>=c)break;h.to<=l||(r||(n=r=e.slice()),h.from<l?(r[a]=new ro(h.from,l),h.to>c&&r.splice(a+1,0,new ro(c,h.to))):h.to>c?r[a--]=new ro(c,h.to):r.splice(a--,1))}}return n}function K2e(t,e,r,n){let s=0,a=0,l=!1,c=!1,h=-1e9,f=[];for(;;){let p=s==t.length?1e9:l?t[s].to:t[s].from,O=a==e.length?1e9:c?e[a].to:e[a].from;if(l!=c){let x=Math.max(h,r),k=Math.min(p,O,n);x<k&&f.push(new ro(x,k))}if(h=Math.min(p,O),h==1e9)break;p==h&&(l?(l=!1,s++):l=!0),O==h&&(c?(c=!1,a++):c=!0)}return f}function BI(t,e){let r=[];for(let{pos:n,mount:s,frag:a}of t){let l=n+(s.overlay?s.overlay[0].from:0),c=l+s.tree.length,h=Math.max(a.from,l),f=Math.min(a.to,c);if(s.overlay){let p=s.overlay.map(x=>new ro(x.from+n,x.to+n)),O=K2e(e,p,h,f);for(let x=0,k=h;;x++){let w=x==O.length,_=w?f:O[x].from;if(_>k&&r.push(new Ic(k,_,s.tree,-l,a.from>=k||a.openStart,a.to<=_||a.openEnd)),w)break;k=O[x].to}}else r.push(new Ic(h,f,s.tree,-l,a.from>=l||a.openStart,a.to<=c||a.openEnd))}return r}let J2e=0,Ec=class WT{constructor(e,r,n,s){this.name=e,this.set=r,this.base=n,this.modified=s,this.id=J2e++}toString(){let{name:e}=this;for(let r of this.modified)r.name&&(e=`${r.name}(${e})`);return e}static define(e,r){let n=typeof e=="string"?e:"?";if(e instanceof WT&&(r=e),r!=null&&r.base)throw new Error("Can not derive from a modified tag");let s=new WT(n,[],null,[]);if(s.set.push(s),r)for(let a of r.set)s.set.push(a);return s}static defineModifier(e){let r=new i_(e);return n=>n.modified.indexOf(r)>-1?n:i_.get(n.base||n,n.modified.concat(r).sort((s,a)=>s.id-a.id))}},e_e=0;class i_{constructor(e){this.name=e,this.instances=[],this.id=e_e++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(c=>c.base==e&&t_e(r,c.modified));if(n)return n;let s=[],a=new Ec(e.name,s,e,r);for(let c of r)c.instances.push(a);let l=r_e(r);for(let c of e.set)if(!c.modified.length)for(let h of l)s.push(i_.get(c,h));return a}}function t_e(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function r_e(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,s=e.length;n<s;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function sd(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let s of r.split(" "))if(s){let a=[],l=2,c=s;for(let O=0;;){if(c=="..."&&O>0&&O+3==s.length){l=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!x)throw new RangeError("Invalid path: "+s);if(a.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),O+=x[0].length,O==s.length)break;let k=s[O++];if(O==s.length&&k=="!"){l=0;break}if(k!="/")throw new RangeError("Invalid path: "+s);c=s.slice(O)}let h=a.length-1,f=a[h];if(!f)throw new RangeError("Invalid path: "+s);let p=new LO(n,l,h>0?a.slice(0,h):null);e[f]=p.sort(e[f])}}return NY.add(e)}const NY=new Cr({combine(t,e){let r,n,s;for(;t||e;){if(!t||e&&t.depth>=e.depth?(s=e,e=e.next):(s=t,t=t.next),r&&r.mode==s.mode&&!s.context&&!r.context)continue;let a=new LO(s.tags,s.mode,s.context);r?r.next=a:n=a,r=a}return n}});class LO{constructor(e,r,n,s){this.tags=e,this.mode=r,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}LO.empty=new LO([],2,null);function BY(t,e){let r=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let l of a.tag)r[l.id]=a.class;let{scope:n,all:s=null}=e||{};return{style:a=>{let l=s;for(let c of a)for(let h of c.set){let f=r[h.id];if(f){l=l?l+" "+f:f;break}}return l},scope:n}}function n_e(t,e){let r=null;for(let n of t){let s=n.style(e);s&&(r=r?r+" "+s:s)}return r}function i_e(t,e,r,n=0,s=t.length){let a=new s_e(n,Array.isArray(e)?e:[e],r);a.highlightRange(t.cursor(),n,s,"",a.highlighters),a.flush(s)}class s_e{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,s,a){let{type:l,from:c,to:h}=e;if(c>=n||h<=r)return;l.isTop&&(a=this.highlighters.filter(k=>!k.scope||k.scope(l)));let f=s,p=a_e(e)||LO.empty,O=n_e(a,p.tags);if(O&&(f&&(f+=" "),f+=O,p.mode==1&&(s+=(s?" ":"")+O)),this.startSpan(Math.max(r,c),f),p.opaque)return;let x=e.tree&&e.tree.prop(Cr.mounted);if(x&&x.overlay){let k=e.node.enter(x.overlay[0].from+c,1),w=this.highlighters.filter(C=>!C.scope||C.scope(x.tree.type)),_=e.firstChild();for(let C=0,T=c;;C++){let E=C<x.overlay.length?x.overlay[C]:null,P=E?E.from+c:h,Q=Math.max(r,T),B=Math.min(n,P);if(Q<B&&_)for(;e.from<B&&(this.highlightRange(e,Q,B,s,a),this.startSpan(Math.min(B,e.to),f),!(e.to>=P||!e.nextSibling())););if(!E||P>n)break;T=E.to+c,T>r&&(this.highlightRange(k.cursor(),Math.max(r,E.from+c),Math.min(n,T),"",w),this.startSpan(Math.min(n,T),f))}_&&e.parent()}else if(e.firstChild()){x&&(s="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,s,a),this.startSpan(Math.min(n,e.to),f)}while(e.nextSibling());e.parent()}}}function a_e(t){let e=t.type.prop(NY);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const yt=Ec.define,Rw=yt(),$d=yt(),II=yt($d),jI=yt($d),Md=yt(),Nw=yt(Md),p5=yt(Md),Cl=yt(),Zh=yt(Cl),yl=yt(),wl=yt(),YT=yt(),f1=yt(YT),Bw=yt(),le={comment:Rw,lineComment:yt(Rw),blockComment:yt(Rw),docComment:yt(Rw),name:$d,variableName:yt($d),typeName:II,tagName:yt(II),propertyName:jI,attributeName:yt(jI),className:yt($d),labelName:yt($d),namespace:yt($d),macroName:yt($d),literal:Md,string:Nw,docString:yt(Nw),character:yt(Nw),attributeValue:yt(Nw),number:p5,integer:yt(p5),float:yt(p5),bool:yt(Md),regexp:yt(Md),escape:yt(Md),color:yt(Md),url:yt(Md),keyword:yl,self:yt(yl),null:yt(yl),atom:yt(yl),unit:yt(yl),modifier:yt(yl),operatorKeyword:yt(yl),controlKeyword:yt(yl),definitionKeyword:yt(yl),moduleKeyword:yt(yl),operator:wl,derefOperator:yt(wl),arithmeticOperator:yt(wl),logicOperator:yt(wl),bitwiseOperator:yt(wl),compareOperator:yt(wl),updateOperator:yt(wl),definitionOperator:yt(wl),typeOperator:yt(wl),controlOperator:yt(wl),punctuation:YT,separator:yt(YT),bracket:f1,angleBracket:yt(f1),squareBracket:yt(f1),paren:yt(f1),brace:yt(f1),content:Cl,heading:Zh,heading1:yt(Zh),heading2:yt(Zh),heading3:yt(Zh),heading4:yt(Zh),heading5:yt(Zh),heading6:yt(Zh),contentSeparator:yt(Cl),list:yt(Cl),quote:yt(Cl),emphasis:yt(Cl),strong:yt(Cl),link:yt(Cl),monospace:yt(Cl),strikethrough:yt(Cl),inserted:yt(),deleted:yt(),changed:yt(),invalid:yt(),meta:Bw,documentMeta:yt(Bw),annotation:yt(Bw),processingInstruction:yt(Bw),definition:Ec.defineModifier("definition"),constant:Ec.defineModifier("constant"),function:Ec.defineModifier("function"),standard:Ec.defineModifier("standard"),local:Ec.defineModifier("local"),special:Ec.defineModifier("special")};for(let t in le){let e=le[t];e instanceof Ec&&(e.name=t)}BY([{tag:le.link,class:"tok-link"},{tag:le.heading,class:"tok-heading"},{tag:le.emphasis,class:"tok-emphasis"},{tag:le.strong,class:"tok-strong"},{tag:le.keyword,class:"tok-keyword"},{tag:le.atom,class:"tok-atom"},{tag:le.bool,class:"tok-bool"},{tag:le.url,class:"tok-url"},{tag:le.labelName,class:"tok-labelName"},{tag:le.inserted,class:"tok-inserted"},{tag:le.deleted,class:"tok-deleted"},{tag:le.literal,class:"tok-literal"},{tag:le.string,class:"tok-string"},{tag:le.number,class:"tok-number"},{tag:[le.regexp,le.escape,le.special(le.string)],class:"tok-string2"},{tag:le.variableName,class:"tok-variableName"},{tag:le.local(le.variableName),class:"tok-variableName tok-local"},{tag:le.definition(le.variableName),class:"tok-variableName tok-definition"},{tag:le.special(le.variableName),class:"tok-variableName2"},{tag:le.definition(le.propertyName),class:"tok-propertyName tok-definition"},{tag:le.typeName,class:"tok-typeName"},{tag:le.namespace,class:"tok-namespace"},{tag:le.className,class:"tok-className"},{tag:le.macroName,class:"tok-macroName"},{tag:le.propertyName,class:"tok-propertyName"},{tag:le.operator,class:"tok-operator"},{tag:le.comment,class:"tok-comment"},{tag:le.meta,class:"tok-meta"},{tag:le.invalid,class:"tok-invalid"},{tag:le.punctuation,class:"tok-punctuation"}]);var m5;const tf=new Cr;function IY(t){return Pt.define({combine:t?e=>e.concat(t):void 0})}const SP=new Cr;class Wo{constructor(e,r,n=[],s=""){this.data=e,this.name=s,Dr.prototype.hasOwnProperty("tree")||Object.defineProperty(Dr.prototype,"tree",{get(){return In(this)}}),this.parser=r,this.extension=[ch.of(this),Dr.languageData.of((a,l,c)=>{let h=FI(a,l,c),f=h.type.prop(tf);if(!f)return[];let p=a.facet(f),O=h.type.prop(SP);if(O){let x=h.resolve(l-h.from,c);for(let k of O)if(k.test(x,a)){let w=a.facet(k.facet);return k.type=="replace"?w:w.concat(p)}}return p})].concat(n)}isActiveAt(e,r,n=-1){return FI(e,r,n).type.prop(tf)==this.data}findRegions(e){let r=e.facet(ch);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],s=(a,l)=>{if(a.prop(tf)==this.data){n.push({from:l,to:l+a.length});return}let c=a.prop(Cr.mounted);if(c){if(c.tree.prop(tf)==this.data){if(c.overlay)for(let h of c.overlay)n.push({from:h.from+l,to:h.to+l});else n.push({from:l,to:l+a.length});return}else if(c.overlay){let h=n.length;if(s(c.tree,c.overlay[0].from+l),n.length>h)return}}for(let h=0;h<a.children.length;h++){let f=a.children[h];f instanceof Bn&&s(f,a.positions[h]+l)}};return s(In(e),0),n}get allowsNesting(){return!0}}Wo.setState=ur.define();function FI(t,e,r){let n=t.facet(ch),s=In(t).topNode;if(!n||n.allowsNesting)for(let a=s;a;a=a.enter(e,r,ln.ExcludeBuffers))a.type.isTop&&(s=a);return s}class ol extends Wo{constructor(e,r,n){super(e,r,[],n),this.parser=r}static define(e){let r=IY(e.languageData);return new ol(r,e.parser.configure({props:[tf.add(n=>n.isTop?r:void 0)]}),e.name)}configure(e,r){return new ol(this.data,this.parser.configure(e),r||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function In(t){let e=t.field(Wo.state,!1);return e?e.tree:Bn.empty}class o_e{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let g1=null;class s_{constructor(e,r,n=[],s,a,l,c,h){this.parser=e,this.state=r,this.fragments=n,this.tree=s,this.treeLen=a,this.viewport=l,this.skipped=c,this.scheduleOn=h,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new s_(e,r,[],Bn.empty,0,n,[],null)}startParse(){return this.parser.startParse(new o_e(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Bn.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Ic.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(Ic.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=g1;g1=this;try{return e()}finally{g1=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=LI(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:s,treeLen:a,viewport:l,skipped:c}=this;if(this.takeTree(),!e.empty){let h=[];if(e.iterChangedRanges((f,p,O,x)=>h.push({fromA:f,toA:p,fromB:O,toB:x})),n=Ic.applyChanges(n,h),s=Bn.empty,a=0,l={from:e.mapPos(l.from,-1),to:e.mapPos(l.to,1)},this.skipped.length){c=[];for(let f of this.skipped){let p=e.mapPos(f.from,1),O=e.mapPos(f.to,-1);p<O&&c.push({from:p,to:O})}}}return new s_(this.parser,r,n,s,a,l,c,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:s,to:a}=this.skipped[n];s<e.to&&a>e.from&&(this.fragments=LI(this.fragments,s,a),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends RY{createParse(r,n,s){let a=s[0].from,l=s[s.length-1].to;return{parsedPos:a,advance(){let h=g1;if(h){for(let f of s)h.tempSkipped.push(f);e&&(h.scheduleOn=h.scheduleOn?Promise.all([h.scheduleOn,e]):e)}return this.parsedPos=l,new Bn(Ws.none,[],[],l-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return g1}}function LI(t,e,r){return Ic.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class Vf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new Vf(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=s_.create(e.facet(ch).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new Vf(n)}}Wo.state=ji.define({create:Vf.init,update(t,e){for(let r of e.effects)if(r.is(Wo.setState))return r.value;return e.startState.facet(ch)!=e.state.facet(ch)?Vf.init(e.state):t.apply(e)}});let jY=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(jY=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const O5=typeof navigator<"u"&&(!((m5=navigator.scheduling)===null||m5===void 0)&&m5.isInputPending)?()=>navigator.scheduling.isInputPending():null,l_e=ni.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(Wo.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(Wo.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=jY(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:s}}=this.view,a=n.field(Wo.state);if(a.tree==a.context.tree&&a.context.isDone(s+1e5))return;let l=Date.now()+Math.min(this.chunkBudget,100,e&&!O5?Math.max(25,e.timeRemaining()-5):1e9),c=a.context.treeLen<s&&n.doc.length>s+1e3,h=a.context.work(()=>O5&&O5()||Date.now()>l,s+(c?0:1e5));this.chunkBudget-=Date.now()-r,(h||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Wo.setState.of(new Vf(a.context))})),this.chunkBudget>0&&!(h&&!c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>fa(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ch=Pt.define({combine(t){return t.length?t[0]:null},enables:t=>[Wo.state,l_e,vt.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]});class Ah{constructor(e,r=[]){this.language=e,this.support=r,this.extension=[e,r]}}const c_e=Pt.define(),$x=Pt.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function a_(t){let e=t.facet($x);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function zO(t,e){let r="",n=t.tabSize,s=t.facet($x)[0];if(s=="	"){for(;e>=n;)r+="	",e-=n;s=" "}for(let a=0;a<e;a++)r+=s;return r}function TP(t,e){t instanceof Dr&&(t=new RC(t));for(let n of t.state.facet(c_e)){let s=n(t,e);if(s!==void 0)return s}let r=In(t.state);return r.length>=e?d_e(t,r,e):null}class RC{constructor(e,r={}){this.state=e,this.options=r,this.unit=a_(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:a}=this.options;return s!=null&&s>=n.from&&s<=n.to?a&&s==e?{text:"",from:e}:(r<0?s<e:s<=e)?{text:n.text.slice(s-n.from),from:s}:{text:n.text.slice(0,s-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:s}=this.lineAt(e,r);return n.slice(e-s,Math.min(n.length,e+100-s))}column(e,r=1){let{text:n,from:s}=this.lineAt(e,r),a=this.countColumn(n,e-s),l=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return l>-1&&(a+=l-this.countColumn(n,n.search(/\S|$/))),a}countColumn(e,r=e.length){return gg(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:s}=this.lineAt(e,r),a=this.options.overrideIndentation;if(a){let l=a(s);if(l>-1)return l}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ad=new Cr;function d_e(t,e,r){let n=e.resolveStack(r),s=e.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(s!=n.node){let a=[];for(let l=s;l&&!(l.from<n.node.from||l.to>n.node.to||l.from==n.node.from&&l.type==n.node.type);l=l.parent)a.push(l);for(let l=a.length-1;l>=0;l--)n={node:a[l],next:n}}return FY(n,t,r)}function FY(t,e,r){for(let n=t;n;n=n.next){let s=u_e(n.node);if(s)return s(EP.create(e,r,n))}return 0}function h_e(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function u_e(t){let e=t.type.prop(ad);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(Cr.closedBy))){let s=t.lastChild,a=s&&n.indexOf(s.name)>-1;return l=>LY(l,!0,1,void 0,a&&!h_e(l)?s.from:void 0)}return t.parent==null?f_e:null}function f_e(){return 0}class EP extends RC{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.context=n}get node(){return this.context.node}static create(e,r,n){return new EP(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(g_e(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){return FY(this.context.next,this.base,this.pos)}}function g_e(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function p_e(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let s=t.options.simulateBreak,a=t.state.doc.lineAt(r.from),l=s==null||s<=a.from?a.to:Math.min(a.to,s);for(let c=r.to;;){let h=e.childAfter(c);if(!h||h==n)return null;if(!h.type.isSkipped){if(h.from>=l)return null;let f=/^ */.exec(a.text.slice(r.to-a.from))[0].length;return{from:r.from,to:r.to+f}}c=h.to}}function Kd({closing:t,align:e=!0,units:r=1}){return n=>LY(n,e,r,t)}function LY(t,e,r,n,s){let a=t.textAfter,l=a.match(/^\s*/)[0].length,c=n&&a.slice(l,l+n.length)==n||s==t.pos+l,h=e?p_e(t):null;return h?c?t.column(h.from):t.column(h.to):t.baseIndent+(c?0:t.unit*r)}const PP=t=>t.baseIndent;function lo({except:t,units:e=1}={}){return r=>{let n=t&&t.test(r.textAfter);return r.baseIndent+(n?0:e*r.unit)}}const m_e=200;function O_e(){return Dr.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,s=r.lineAt(n);if(n>s.from+m_e)return t;let a=r.sliceString(s.from,n);if(!e.some(f=>f.test(a)))return t;let{state:l}=t,c=-1,h=[];for(let{head:f}of l.selection.ranges){let p=l.doc.lineAt(f);if(p.from==c)continue;c=p.from;let O=TP(l,p.from);if(O==null)continue;let x=/^\s*/.exec(p.text)[0],k=zO(l,O);x!=k&&h.push({from:p.from,to:p.from+x.length,insert:k})}return h.length?[t,{changes:h,sequential:!0}]:t})}const x_e=Pt.define(),od=new Cr;function Xu(t){let e=t.firstChild,r=t.lastChild;return e&&e.to<r.from?{from:e.to,to:r.type.isError?t.to:r.from}:null}function b_e(t,e,r){let n=In(t);if(n.length<r)return null;let s=n.resolveStack(r,1),a=null;for(let l=s;l;l=l.next){let c=l.node;if(c.to<=r||c.from>r)continue;if(a&&c.from<e)break;let h=c.type.prop(od);if(h&&(c.to<n.length-50||n.length==t.doc.length||!k_e(c))){let f=h(c,t);f&&f.from<=r&&f.from>=e&&f.to>r&&(a=f)}}return a}function k_e(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function o_(t,e,r){for(let n of t.facet(x_e)){let s=n(t,e,r);if(s)return s}return b_e(t,e,r)}function zY(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const NC=ur.define({map:zY}),Mx=ur.define({map:zY});function XY(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const Pu=ji.define({create(){return Wt.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((r,n)=>t=zI(t,r,n)),t=t.map(e.changes);for(let r of e.effects)if(r.is(NC)&&!y_e(t,r.value.from,r.value.to)){let{preparePlaceholder:n}=e.state.facet(qY),s=n?Wt.replace({widget:new T_e(n(e.state,r.value))}):XI;t=t.update({add:[s.range(r.value.from,r.value.to)]})}else r.is(Mx)&&(t=t.update({filter:(n,s)=>r.value.from!=n||r.value.to!=s,filterFrom:r.value.from,filterTo:r.value.to}));return e.selection&&(t=zI(t,e.selection.main.head)),t},provide:t=>vt.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,s)=>{r.push(n,s)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],s=t[r++];if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(XI.range(n,s))}return Wt.set(e,!0)}});function zI(t,e,r=e){let n=!1;return t.between(e,r,(s,a)=>{s<r&&a>e&&(n=!0)}),n?t.update({filterFrom:e,filterTo:r,filter:(s,a)=>s>=r||a<=e}):t}function l_(t,e,r){var n;let s=null;return(n=t.field(Pu,!1))===null||n===void 0||n.between(e,r,(a,l)=>{(!s||s.from>a)&&(s={from:a,to:l})}),s}function y_e(t,e,r){let n=!1;return t.between(e,e,(s,a)=>{s==e&&a==r&&(n=!0)}),n}function VY(t,e){return t.field(Pu,!1)?e:e.concat(ur.appendConfig.of(WY()))}const w_e=t=>{for(let e of XY(t)){let r=o_(t.state,e.from,e.to);if(r)return t.dispatch({effects:VY(t.state,[NC.of(r),UY(t,r)])}),!0}return!1},v_e=t=>{if(!t.state.field(Pu,!1))return!1;let e=[];for(let r of XY(t)){let n=l_(t.state,r.from,r.to);n&&e.push(Mx.of(n),UY(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function UY(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,s=t.state.doc.lineAt(e.to).number;return vt.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${s}.`)}const __e=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let s=t.lineBlockAt(n),a=o_(e,s.from,s.to);a&&r.push(NC.of(a)),n=(a?t.lineBlockAt(a.to):s).to+1}return r.length&&t.dispatch({effects:VY(t.state,r)}),!!r.length},C_e=t=>{let e=t.state.field(Pu,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,s)=>{r.push(Mx.of({from:n,to:s}))}),t.dispatch({effects:r}),!0},A_e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:w_e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:v_e},{key:"Ctrl-Alt-[",run:__e},{key:"Ctrl-Alt-]",run:C_e}],S_e={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},qY=Pt.define({combine(t){return Wl(t,S_e)}});function WY(t){return[Pu,D_e]}function YY(t,e){let{state:r}=t,n=r.facet(qY),s=l=>{let c=t.lineBlockAt(t.posAtDOM(l.target)),h=l_(t.state,c.from,c.to);h&&t.dispatch({effects:Mx.of(h)}),l.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,s,e);let a=document.createElement("span");return a.textContent=n.placeholderText,a.setAttribute("aria-label",r.phrase("folded code")),a.title=r.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=s,a}const XI=Wt.replace({widget:new class extends Yl{toDOM(t){return YY(t,null)}}});class T_e extends Yl{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return YY(e,this.value)}}const E_e={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class x5 extends Gc{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function P_e(t={}){let e={...E_e,...t},r=new x5(e,!0),n=new x5(e,!1),s=ni.fromClass(class{constructor(l){this.from=l.viewport.from,this.markers=this.buildMarkers(l)}update(l){(l.docChanged||l.viewportChanged||l.startState.facet(ch)!=l.state.facet(ch)||l.startState.field(Pu,!1)!=l.state.field(Pu,!1)||In(l.startState)!=In(l.state)||e.foldingChanged(l))&&(this.markers=this.buildMarkers(l.view))}buildMarkers(l){let c=new Yc;for(let h of l.viewportLineBlocks){let f=l_(l.state,h.from,h.to)?n:o_(l.state,h.from,h.to)?r:null;f&&c.add(h.from,h.from,f)}return c.finish()}}),{domEventHandlers:a}=e;return[s,T2e({class:"cm-foldGutter",markers(l){var c;return((c=l.plugin(s))===null||c===void 0?void 0:c.markers)||Ir.empty},initialSpacer(){return new x5(e,!1)},domEventHandlers:{...a,click:(l,c,h)=>{if(a.click&&a.click(l,c,h))return!0;let f=l_(l.state,c.from,c.to);if(f)return l.dispatch({effects:Mx.of(f)}),!0;let p=o_(l.state,c.from,c.to);return p?(l.dispatch({effects:NC.of(p)}),!0):!1}}}),WY()]}const D_e=vt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Rx{constructor(e,r){this.specs=e;let n;function s(c){let h=sh.newName();return(n||(n=Object.create(null)))["."+h]=c,h}const a=typeof r.all=="string"?r.all:r.all?s(r.all):void 0,l=r.scope;this.scope=l instanceof Wo?c=>c.prop(tf)==l.data:l?c=>c==l:void 0,this.style=BY(e.map(c=>({tag:c.tag,class:c.class||s(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=n?new sh(n):null,this.themeType=r.themeType}static define(e,r){return new Rx(e,r||{})}}const ZT=Pt.define(),ZY=Pt.define({combine(t){return t.length?[t[0]]:null}});function b5(t){let e=t.facet(ZT);return e.length?e:t.facet(ZY)}function GY(t,e){let r=[$_e],n;return t instanceof Rx&&(t.module&&r.push(vt.styleModule.of(t.module)),n=t.themeType),e!=null&&e.fallback?r.push(ZY.of(t)):n?r.push(ZT.computeN([vt.darkTheme],s=>s.facet(vt.darkTheme)==(n=="dark")?[t]:[])):r.push(ZT.of(t)),r}class Q_e{constructor(e){this.markCache=Object.create(null),this.tree=In(e.state),this.decorations=this.buildDeco(e,b5(e.state)),this.decoratedTo=e.viewport.to}update(e){let r=In(e.state),n=b5(e.state),s=n!=b5(e.startState),{viewport:a}=e.view,l=e.changes.mapPos(this.decoratedTo,1);r.length<a.to&&!s&&r.type==this.tree.type&&l>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=l):(r!=this.tree||e.viewportChanged||s)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=a.to)}buildDeco(e,r){if(!r||!this.tree.length)return Wt.none;let n=new Yc;for(let{from:s,to:a}of e.visibleRanges)i_e(this.tree,r,(l,c,h)=>{n.add(l,c,this.markCache[h]||(this.markCache[h]=Wt.mark({class:h})))},s,a);return n.finish()}}const $_e=Ch.high(ni.fromClass(Q_e,{decorations:t=>t.decorations})),M_e=Rx.define([{tag:le.meta,color:"#404740"},{tag:le.link,textDecoration:"underline"},{tag:le.heading,textDecoration:"underline",fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strong,fontWeight:"bold"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.keyword,color:"#708"},{tag:[le.atom,le.bool,le.url,le.contentSeparator,le.labelName],color:"#219"},{tag:[le.literal,le.inserted],color:"#164"},{tag:[le.string,le.deleted],color:"#a11"},{tag:[le.regexp,le.escape,le.special(le.string)],color:"#e40"},{tag:le.definition(le.variableName),color:"#00f"},{tag:le.local(le.variableName),color:"#30a"},{tag:[le.typeName,le.namespace],color:"#085"},{tag:le.className,color:"#167"},{tag:[le.special(le.variableName),le.macroName],color:"#256"},{tag:le.definition(le.propertyName),color:"#00c"},{tag:le.comment,color:"#940"},{tag:le.invalid,color:"#f00"}]),R_e=vt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),HY=1e4,KY="()[]{}",JY=Pt.define({combine(t){return Wl(t,{afterCursor:!0,brackets:KY,maxScanDistance:HY,renderMatch:I_e})}}),N_e=Wt.mark({class:"cm-matchingBracket"}),B_e=Wt.mark({class:"cm-nonmatchingBracket"});function I_e(t){let e=[],r=t.matched?N_e:B_e;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const j_e=ji.define({create(){return Wt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(JY);for(let s of e.state.selection.ranges){if(!s.empty)continue;let a=Rl(e.state,s.head,-1,n)||s.head>0&&Rl(e.state,s.head-1,1,n)||n.afterCursor&&(Rl(e.state,s.head,1,n)||s.head<e.state.doc.length&&Rl(e.state,s.head+1,-1,n));a&&(r=r.concat(n.renderMatch(a,e.state)))}return Wt.set(r,!0)},provide:t=>vt.decorations.from(t)}),F_e=[j_e,R_e];function L_e(t={}){return[JY.of(t),F_e]}const eZ=new Cr;function GT(t,e,r){let n=t.prop(e<0?Cr.openedBy:Cr.closedBy);if(n)return n;if(t.name.length==1){let s=r.indexOf(t.name);if(s>-1&&s%2==(e<0?1:0))return[r[s+e]]}return null}function HT(t){let e=t.type.prop(eZ);return e?e(t.node):t}function Rl(t,e,r,n={}){let s=n.maxScanDistance||HY,a=n.brackets||KY,l=In(t),c=l.resolveInner(e,r);for(let h=c;h;h=h.parent){let f=GT(h.type,r,a);if(f&&h.from<h.to){let p=HT(h);if(p&&(r>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return z_e(t,e,r,h,p,f,a)}}return X_e(t,e,r,l,c.type,s,a)}function z_e(t,e,r,n,s,a,l){let c=n.parent,h={from:s.from,to:s.to},f=0,p=c==null?void 0:c.cursor();if(p&&(r<0?p.childBefore(n.from):p.childAfter(n.to)))do if(r<0?p.to<=n.from:p.from>=n.to){if(f==0&&a.indexOf(p.type.name)>-1&&p.from<p.to){let O=HT(p);return{start:h,end:O?{from:O.from,to:O.to}:void 0,matched:!0}}else if(GT(p.type,r,l))f++;else if(GT(p.type,-r,l)){if(f==0){let O=HT(p);return{start:h,end:O&&O.from<O.to?{from:O.from,to:O.to}:void 0,matched:!1}}f--}}while(r<0?p.prevSibling():p.nextSibling());return{start:h,matched:!1}}function X_e(t,e,r,n,s,a,l){let c=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),h=l.indexOf(c);if(h<0||h%2==0!=r>0)return null;let f={from:r<0?e-1:e,to:r>0?e+1:e},p=t.doc.iterRange(e,r>0?t.doc.length:0),O=0;for(let x=0;!p.next().done&&x<=a;){let k=p.value;r<0&&(x+=k.length);let w=e+x*r;for(let _=r>0?0:k.length-1,C=r>0?k.length:-1;_!=C;_+=r){let T=l.indexOf(k[_]);if(!(T<0||n.resolveInner(w+_,1).type!=s))if(T%2==0==r>0)O++;else{if(O==1)return{start:f,end:{from:w+_,to:w+_+1},matched:T>>1==h>>1};O--}}r>0&&(x+=k.length)}return p.done?{start:f,matched:!1}:null}const V_e=Object.create(null),VI=[Ws.none],UI=[],qI=Object.create(null),U_e=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])U_e[t]=q_e(V_e,e);function k5(t,e){UI.indexOf(t)>-1||(UI.push(t),console.warn(e))}function q_e(t,e){let r=[];for(let c of e.split(" ")){let h=[];for(let f of c.split(".")){let p=t[f]||le[f];p?typeof p=="function"?h.length?h=h.map(p):k5(f,`Modifier ${f} used at start of tag`):h.length?k5(f,`Tag ${f} used as modifier`):h=Array.isArray(p)?p:[p]:k5(f,`Unknown highlighting tag ${f}`)}for(let f of h)r.push(f)}if(!r.length)return 0;let n=e.replace(/ /g,"_"),s=n+" "+r.map(c=>c.id),a=qI[s];if(a)return a.id;let l=qI[s]=Ws.define({id:VI.length,name:n,props:[sd({[n]:r})]});return VI.push(l),l.id}_n.RTL,_n.LTR;const W_e=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=QP(t.state,r.from);return n.line?Y_e(t):n.block?G_e(t):!1};function DP(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let s=t(e,r);return s?(n(r.update(s)),!0):!1}}const Y_e=DP(J_e,0),Z_e=DP(tZ,0),G_e=DP((t,e)=>tZ(t,e,K_e(e)),0);function QP(t,e){let r=t.languageDataAt("commentTokens",e,1);return r.length?r[0]:{}}const p1=50;function H_e(t,{open:e,close:r},n,s){let a=t.sliceDoc(n-p1,n),l=t.sliceDoc(s,s+p1),c=/\s*$/.exec(a)[0].length,h=/^\s*/.exec(l)[0].length,f=a.length-c;if(a.slice(f-e.length,f)==e&&l.slice(h,h+r.length)==r)return{open:{pos:n-c,margin:c&&1},close:{pos:s+h,margin:h&&1}};let p,O;s-n<=2*p1?p=O=t.sliceDoc(n,s):(p=t.sliceDoc(n,n+p1),O=t.sliceDoc(s-p1,s));let x=/^\s*/.exec(p)[0].length,k=/\s*$/.exec(O)[0].length,w=O.length-k-r.length;return p.slice(x,x+e.length)==e&&O.slice(w,w+r.length)==r?{open:{pos:n+x+e.length,margin:/\s/.test(p.charAt(x+e.length))?1:0},close:{pos:s-k-r.length,margin:/\s/.test(O.charAt(w-1))?1:0}}:null}function K_e(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),s=r.to<=n.to?n:t.doc.lineAt(r.to);s.from>n.from&&s.from==r.to&&(s=r.to==n.to+1?n:t.doc.lineAt(r.to-1));let a=e.length-1;a>=0&&e[a].to>n.from?e[a].to=s.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:s.to})}return e}function tZ(t,e,r=e.selection.ranges){let n=r.map(a=>QP(e,a.from).block);if(!n.every(a=>a))return null;let s=r.map((a,l)=>H_e(e,n[l],a.from,a.to));if(t!=2&&!s.every(a=>a))return{changes:e.changes(r.map((a,l)=>s[l]?[]:[{from:a.from,insert:n[l].open+" "},{from:a.to,insert:" "+n[l].close}]))};if(t!=1&&s.some(a=>a)){let a=[];for(let l=0,c;l<s.length;l++)if(c=s[l]){let h=n[l],{open:f,close:p}=c;a.push({from:f.pos-h.open.length,to:f.pos+f.margin},{from:p.pos-p.margin,to:p.pos+h.close.length})}return{changes:a}}return null}function J_e(t,e,r=e.selection.ranges){let n=[],s=-1;for(let{from:a,to:l}of r){let c=n.length,h=1e9,f=QP(e,a).line;if(f){for(let p=a;p<=l;){let O=e.doc.lineAt(p);if(O.from>s&&(a==l||l>O.from)){s=O.from;let x=/^\s*/.exec(O.text)[0].length,k=x==O.length,w=O.text.slice(x,x+f.length)==f?x:-1;x<O.text.length&&x<h&&(h=x),n.push({line:O,comment:w,token:f,indent:x,empty:k,single:!1})}p=O.to+1}if(h<1e9)for(let p=c;p<n.length;p++)n[p].indent<n[p].line.text.length&&(n[p].indent=h);n.length==c+1&&(n[c].single=!0)}}if(t!=2&&n.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:h,indent:f,empty:p,single:O}of n)(O||!p)&&a.push({from:c.from+f,insert:h+" "});let l=e.changes(a);return{changes:l,selection:e.selection.map(l,1)}}else if(t!=1&&n.some(a=>a.comment>=0)){let a=[];for(let{line:l,comment:c,token:h}of n)if(c>=0){let f=l.from+c,p=f+h.length;l.text[p-l.from]==" "&&p++,a.push({from:f,to:p})}return{changes:a}}return null}const KT=ql.define(),eCe=ql.define(),tCe=Pt.define(),rZ=Pt.define({combine(t){return Wl(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,s)=>e(n,s)||r(n,s)})}}),nZ=ji.define({create(){return Nl.empty},update(t,e){let r=e.state.facet(rZ),n=e.annotation(KT);if(n){let h=ga.fromTransaction(e,n.selection),f=n.side,p=f==0?t.undone:t.done;return h?p=c_(p,p.length,r.minDepth,h):p=aZ(p,e.startState.selection),new Nl(f==0?n.rest:p,f==0?p:n.rest)}let s=e.annotation(eCe);if((s=="full"||s=="before")&&(t=t.isolate()),e.annotation(fi.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=ga.fromTransaction(e),l=e.annotation(fi.time),c=e.annotation(fi.userEvent);return a?t=t.addChanges(a,l,c,r,e):e.selection&&(t=t.addSelection(e.startState.selection,l,c,r.newGroupDelay)),(s=="full"||s=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Nl(t.done.map(ga.fromJSON),t.undone.map(ga.fromJSON))}});function rCe(t={}){return[nZ,rZ.of(t),vt.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?iZ:e.inputType=="historyRedo"?JT:null;return n?(e.preventDefault(),n(r)):!1}})]}function BC(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let s=r.field(nZ,!1);if(!s)return!1;let a=s.pop(t,r,e);return a?(n(a),!0):!1}}const iZ=BC(0,!1),JT=BC(1,!1),nCe=BC(0,!0),iCe=BC(1,!0);class ga{constructor(e,r,n,s,a){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=s,this.selectionsAfter=a}setSelAfter(e){return new ga(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new ga(e.changes&&xi.fromJSON(e.changes),[],e.mapped&&jl.fromJSON(e.mapped),e.startSelection&&Ke.fromJSON(e.startSelection),e.selectionsAfter.map(Ke.fromJSON))}static fromTransaction(e,r){let n=no;for(let s of e.startState.facet(tCe)){let a=s(e);a.length&&(n=n.concat(a))}return!n.length&&e.changes.empty?null:new ga(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,no)}static selection(e){return new ga(void 0,no,void 0,void 0,e)}}function c_(t,e,r,n){let s=e+1>r+20?e-r-1:0,a=t.slice(s,e);return a.push(n),a}function sCe(t,e){let r=[],n=!1;return t.iterChangedRanges((s,a)=>r.push(s,a)),e.iterChangedRanges((s,a,l,c)=>{for(let h=0;h<r.length;){let f=r[h++],p=r[h++];c>=f&&l<=p&&(n=!0)}}),n}function aCe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function sZ(t,e){return t.length?e.length?t.concat(e):t:e}const no=[],oCe=200;function aZ(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-oCe));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),c_(t,t.length-1,1e9,r.setSelAfter(n)))}else return[ga.selection([e])]}function lCe(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function y5(t,e){if(!t.length)return t;let r=t.length,n=no;for(;r;){let s=cCe(t[r-1],e,n);if(s.changes&&!s.changes.empty||s.effects.length){let a=t.slice(0,r);return a[r-1]=s,a}else e=s.mapped,r--,n=s.selectionsAfter}return n.length?[ga.selection(n)]:no}function cCe(t,e,r){let n=sZ(t.selectionsAfter.length?t.selectionsAfter.map(c=>c.map(e)):no,r);if(!t.changes)return ga.selection(n);let s=t.changes.map(e),a=e.mapDesc(t.changes,!0),l=t.mapped?t.mapped.composeDesc(a):a;return new ga(s,ur.mapEffects(t.effects,e),l,t.startSelection.map(a),n)}const dCe=/^(input\.type|delete)($|\.)/;class Nl{constructor(e,r,n=0,s=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=s}isolate(){return this.prevTime?new Nl(this.done,this.undone):this}addChanges(e,r,n,s,a){let l=this.done,c=l[l.length-1];return c&&c.changes&&!c.changes.empty&&e.changes&&(!n||dCe.test(n))&&(!c.selectionsAfter.length&&r-this.prevTime<s.newGroupDelay&&s.joinToEvent(a,sCe(c.changes,e.changes))||n=="input.type.compose")?l=c_(l,l.length-1,s.minDepth,new ga(e.changes.compose(c.changes),sZ(ur.mapEffects(e.effects,c.changes),c.effects),c.mapped,c.startSelection,no)):l=c_(l,l.length,s.minDepth,e),new Nl(l,no,r,n)}addSelection(e,r,n,s){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:no;return a.length>0&&r-this.prevTime<s&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&aCe(a[a.length-1],e)?this:new Nl(aZ(this.done,e),this.undone,r,n)}addMapping(e){return new Nl(y5(this.done,e),y5(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let s=e==0?this.done:this.undone;if(s.length==0)return null;let a=s[s.length-1],l=a.selectionsAfter[0]||r.selection;if(n&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:KT.of({side:e,rest:lCe(s),selection:l}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=s.length==1?no:s.slice(0,s.length-1);return a.mapped&&(c=y5(c,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:KT.of({side:e,rest:c,selection:l}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Nl.empty=new Nl(no,no);const hCe=[{key:"Mod-z",run:iZ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:JT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:JT,preventDefault:!0},{key:"Mod-u",run:nCe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:iCe,preventDefault:!0}];function pg(t,e){return Ke.create(t.ranges.map(e),t.mainIndex)}function cl(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function dl({state:t,dispatch:e},r){let n=pg(t.selection,r);return n.eq(t.selection,!0)?!1:(e(cl(t,n)),!0)}function IC(t,e){return Ke.cursor(e?t.to:t.from)}function oZ(t,e){return dl(t,r=>r.empty?t.moveByChar(r,e):IC(r,e))}function As(t){return t.textDirectionAt(t.state.selection.main.head)==_n.LTR}const lZ=t=>oZ(t,!As(t)),cZ=t=>oZ(t,As(t));function dZ(t,e){return dl(t,r=>r.empty?t.moveByGroup(r,e):IC(r,e))}const uCe=t=>dZ(t,!As(t)),fCe=t=>dZ(t,As(t));function gCe(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function jC(t,e,r){let n=In(t).resolveInner(e.head),s=r?Cr.closedBy:Cr.openedBy;for(let h=e.head;;){let f=r?n.childAfter(h):n.childBefore(h);if(!f)break;gCe(t,f,s)?n=f:h=r?f.to:f.from}let a=n.type.prop(s),l,c;return a&&(l=r?Rl(t,n.from,1):Rl(t,n.to,-1))&&l.matched?c=r?l.end.to:l.end.from:c=r?n.to:n.from,Ke.cursor(c,r?-1:1)}const pCe=t=>dl(t,e=>jC(t.state,e,!As(t))),mCe=t=>dl(t,e=>jC(t.state,e,As(t)));function hZ(t,e){return dl(t,r=>{if(!r.empty)return IC(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const uZ=t=>hZ(t,!1),fZ=t=>hZ(t,!0);function gZ(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,s;if(e){for(let a of t.state.facet(vt.scrollMargins)){let l=a(t);l!=null&&l.top&&(r=Math.max(l==null?void 0:l.top,r)),l!=null&&l.bottom&&(n=Math.max(l==null?void 0:l.bottom,n))}s=t.scrollDOM.clientHeight-r-n}else s=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,s-5)}}function pZ(t,e){let r=gZ(t),{state:n}=t,s=pg(n.selection,l=>l.empty?t.moveVertically(l,e,r.height):IC(l,e));if(s.eq(n.selection))return!1;let a;if(r.selfScroll){let l=t.coordsAtPos(n.selection.main.head),c=t.scrollDOM.getBoundingClientRect(),h=c.top+r.marginTop,f=c.bottom-r.marginBottom;l&&l.top>h&&l.bottom<f&&(a=vt.scrollIntoView(s.main.head,{y:"start",yMargin:l.top-h}))}return t.dispatch(cl(n,s),{effects:a}),!0}const WI=t=>pZ(t,!1),eE=t=>pZ(t,!0);function Sh(t,e,r){let n=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,r);if(s.head==e.head&&s.head!=(r?n.to:n.from)&&(s=t.moveToLineBoundary(e,r,!1)),!r&&s.head==n.from&&n.length){let a=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;a&&e.head!=n.from+a&&(s=Ke.cursor(n.from+a))}return s}const OCe=t=>dl(t,e=>Sh(t,e,!0)),xCe=t=>dl(t,e=>Sh(t,e,!1)),bCe=t=>dl(t,e=>Sh(t,e,!As(t))),kCe=t=>dl(t,e=>Sh(t,e,As(t))),yCe=t=>dl(t,e=>Ke.cursor(t.lineBlockAt(e.head).from,1)),wCe=t=>dl(t,e=>Ke.cursor(t.lineBlockAt(e.head).to,-1));function vCe(t,e,r){let n=!1,s=pg(t.selection,a=>{let l=Rl(t,a.head,-1)||Rl(t,a.head,1)||a.head>0&&Rl(t,a.head-1,1)||a.head<t.doc.length&&Rl(t,a.head+1,-1);if(!l||!l.end)return a;n=!0;let c=l.start.from==a.head?l.end.to:l.end.from;return Ke.cursor(c)});return n?(e(cl(t,s)),!0):!1}const _Ce=({state:t,dispatch:e})=>vCe(t,e);function bo(t,e){let r=pg(t.state.selection,n=>{let s=e(n);return Ke.range(n.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(cl(t.state,r)),!0)}function mZ(t,e){return bo(t,r=>t.moveByChar(r,e))}const OZ=t=>mZ(t,!As(t)),xZ=t=>mZ(t,As(t));function bZ(t,e){return bo(t,r=>t.moveByGroup(r,e))}const CCe=t=>bZ(t,!As(t)),ACe=t=>bZ(t,As(t)),SCe=t=>bo(t,e=>jC(t.state,e,!As(t))),TCe=t=>bo(t,e=>jC(t.state,e,As(t)));function kZ(t,e){return bo(t,r=>t.moveVertically(r,e))}const yZ=t=>kZ(t,!1),wZ=t=>kZ(t,!0);function vZ(t,e){return bo(t,r=>t.moveVertically(r,e,gZ(t).height))}const YI=t=>vZ(t,!1),ZI=t=>vZ(t,!0),ECe=t=>bo(t,e=>Sh(t,e,!0)),PCe=t=>bo(t,e=>Sh(t,e,!1)),DCe=t=>bo(t,e=>Sh(t,e,!As(t))),QCe=t=>bo(t,e=>Sh(t,e,As(t))),$Ce=t=>bo(t,e=>Ke.cursor(t.lineBlockAt(e.head).from)),MCe=t=>bo(t,e=>Ke.cursor(t.lineBlockAt(e.head).to)),GI=({state:t,dispatch:e})=>(e(cl(t,{anchor:0})),!0),HI=({state:t,dispatch:e})=>(e(cl(t,{anchor:t.doc.length})),!0),KI=({state:t,dispatch:e})=>(e(cl(t,{anchor:t.selection.main.anchor,head:0})),!0),JI=({state:t,dispatch:e})=>(e(cl(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),RCe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),NCe=({state:t,dispatch:e})=>{let r=FC(t).map(({from:n,to:s})=>Ke.range(n,Math.min(s+1,t.doc.length)));return e(t.update({selection:Ke.create(r),userEvent:"select"})),!0},BCe=({state:t,dispatch:e})=>{let r=pg(t.selection,n=>{let s=In(t),a=s.resolveStack(n.from,1);if(n.empty){let l=s.resolveStack(n.from,-1);l.node.from>=a.node.from&&l.node.to<=a.node.to&&(a=l)}for(let l=a;l;l=l.next){let{node:c}=l;if((c.from<n.from&&c.to>=n.to||c.to>n.to&&c.from<=n.from)&&l.next)return Ke.range(c.to,c.from)}return n});return r.eq(t.selection)?!1:(e(cl(t,r)),!0)};function _Z(t,e){let{state:r}=t,n=r.selection,s=r.selection.ranges.slice();for(let a of r.selection.ranges){let l=r.doc.lineAt(a.head);if(e?l.to<t.state.doc.length:l.from>0)for(let c=a;;){let h=t.moveVertically(c,e);if(h.head<l.from||h.head>l.to){s.some(f=>f.head==h.head)||s.push(h);break}else{if(h.head==c.head)break;c=h}}}return s.length==n.ranges.length?!1:(t.dispatch(cl(r,Ke.create(s,s.length-1))),!0)}const ICe=t=>_Z(t,!1),jCe=t=>_Z(t,!0),FCe=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=Ke.create([r.main]):r.main.empty||(n=Ke.create([Ke.cursor(r.main.head)])),n?(e(cl(t,n)),!0):!1};function Nx(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,s=n.changeByRange(a=>{let{from:l,to:c}=a;if(l==c){let h=e(a);h<l?(r="delete.backward",h=Iw(t,h,!1)):h>l&&(r="delete.forward",h=Iw(t,h,!0)),l=Math.min(l,h),c=Math.max(c,h)}else l=Iw(t,l,!1),c=Iw(t,c,!0);return l==c?{range:a}:{changes:{from:l,to:c},range:Ke.cursor(l,l<a.head?-1:1)}});return s.changes.empty?!1:(t.dispatch(n.update(s,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?vt.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Iw(t,e,r){if(t instanceof vt)for(let n of t.state.facet(vt.atomicRanges).map(s=>s(t)))n.between(e,e,(s,a)=>{s<e&&a>e&&(e=r?a:s)});return e}const CZ=(t,e,r)=>Nx(t,n=>{let s=n.from,{state:a}=t,l=a.doc.lineAt(s),c,h;if(r&&!e&&s>l.from&&s<l.from+200&&!/[^ \t]/.test(c=l.text.slice(0,s-l.from))){if(c[c.length-1]=="	")return s-1;let f=gg(c,a.tabSize),p=f%a_(a)||a_(a);for(let O=0;O<p&&c[c.length-1-O]==" ";O++)s--;h=s}else h=ts(l.text,s-l.from,e,e)+l.from,h==s&&l.number!=(e?a.doc.lines:1)?h+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(l.text.slice(h-l.from,s-l.from))&&(h=ts(l.text,h-l.from,!1,!1)+l.from);return h}),tE=t=>CZ(t,!1,!0),AZ=t=>CZ(t,!0,!1),SZ=(t,e)=>Nx(t,r=>{let n=r.head,{state:s}=t,a=s.doc.lineAt(n),l=s.charCategorizer(n);for(let c=null;;){if(n==(e?a.to:a.from)){n==r.head&&a.number!=(e?s.doc.lines:1)&&(n+=e?1:-1);break}let h=ts(a.text,n-a.from,e)+a.from,f=a.text.slice(Math.min(n,h)-a.from,Math.max(n,h)-a.from),p=l(f);if(c!=null&&p!=c)break;(f!=" "||n!=r.head)&&(c=p),n=h}return n}),TZ=t=>SZ(t,!1),LCe=t=>SZ(t,!0),zCe=t=>Nx(t,e=>{let r=t.lineBlockAt(e.head).to;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),XCe=t=>Nx(t,e=>{let r=t.moveToLineBoundary(e,!1).head;return e.head>r?r:Math.max(0,e.head-1)}),VCe=t=>Nx(t,e=>{let r=t.moveToLineBoundary(e,!0).head;return e.head<r?r:Math.min(t.state.doc.length,e.head+1)}),UCe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Nr.of(["",""])},range:Ke.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},qCe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let s=n.from,a=t.doc.lineAt(s),l=s==a.from?s-1:ts(a.text,s-a.from,!1)+a.from,c=s==a.to?s+1:ts(a.text,s-a.from,!0)+a.from;return{changes:{from:l,to:c,insert:t.doc.slice(s,c).append(t.doc.slice(l,s))},range:Ke.cursor(c)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function FC(t){let e=[],r=-1;for(let n of t.selection.ranges){let s=t.doc.lineAt(n.from),a=t.doc.lineAt(n.to);if(!n.empty&&n.to==a.from&&(a=t.doc.lineAt(n.to-1)),r>=s.number){let l=e[e.length-1];l.to=a.to,l.ranges.push(n)}else e.push({from:s.from,to:a.to,ranges:[n]});r=a.number+1}return e}function EZ(t,e,r){if(t.readOnly)return!1;let n=[],s=[];for(let a of FC(t)){if(r?a.to==t.doc.length:a.from==0)continue;let l=t.doc.lineAt(r?a.to+1:a.from-1),c=l.length+1;if(r){n.push({from:a.to,to:l.to},{from:a.from,insert:l.text+t.lineBreak});for(let h of a.ranges)s.push(Ke.range(Math.min(t.doc.length,h.anchor+c),Math.min(t.doc.length,h.head+c)))}else{n.push({from:l.from,to:a.from},{from:a.to,insert:t.lineBreak+l.text});for(let h of a.ranges)s.push(Ke.range(h.anchor-c,h.head-c))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:Ke.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const WCe=({state:t,dispatch:e})=>EZ(t,e,!1),YCe=({state:t,dispatch:e})=>EZ(t,e,!0);function PZ(t,e,r){if(t.readOnly)return!1;let n=[];for(let s of FC(t))r?n.push({from:s.from,insert:t.doc.slice(s.from,s.to)+t.lineBreak}):n.push({from:s.to,insert:t.lineBreak+t.doc.slice(s.from,s.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const ZCe=({state:t,dispatch:e})=>PZ(t,e,!1),GCe=({state:t,dispatch:e})=>PZ(t,e,!0),HCe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(FC(e).map(({from:s,to:a})=>(s>0?s--:a<e.doc.length&&a++,{from:s,to:a}))),n=pg(e.selection,s=>{let a;if(t.lineWrapping){let l=t.lineBlockAt(s.head),c=t.coordsAtPos(s.head,s.assoc||1);c&&(a=l.bottom+t.documentTop-c.bottom+t.defaultLineHeight/2)}return t.moveVertically(s,!0,a)}).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function KCe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=In(t).resolveInner(e),n=r.childBefore(e),s=r.childAfter(e),a;return n&&s&&n.to<=e&&s.from>=e&&(a=n.type.prop(Cr.closedBy))&&a.indexOf(s.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(n.to,s.from))?{from:n.to,to:s.from}:null}const ej=DZ(!1),JCe=DZ(!0);function DZ(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(s=>{let{from:a,to:l}=s,c=e.doc.lineAt(a),h=!t&&a==l&&KCe(e,a);t&&(a=l=(l<=c.to?c:e.doc.lineAt(l)).to);let f=new RC(e,{simulateBreak:a,simulateDoubleBreak:!!h}),p=TP(f,a);for(p==null&&(p=gg(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));l<c.to&&/\s/.test(c.text[l-c.from]);)l++;h?{from:a,to:l}=h:a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let O=["",zO(e,p)];return h&&O.push(zO(e,f.lineIndent(c.from,-1))),{changes:{from:a,to:l,insert:Nr.of(O)},range:Ke.cursor(a+1+O[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function $P(t,e){let r=-1;return t.changeByRange(n=>{let s=[];for(let l=n.from;l<=n.to;){let c=t.doc.lineAt(l);c.number>r&&(n.empty||n.to>c.from)&&(e(c,s,n),r=c.number),l=c.to+1}let a=t.changes(s);return{changes:s,range:Ke.range(a.mapPos(n.anchor,1),a.mapPos(n.head,1))}})}const eAe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new RC(t,{overrideIndentation:a=>{let l=r[a];return l??-1}}),s=$P(t,(a,l,c)=>{let h=TP(n,a.from);if(h==null)return;/\S/.test(a.text)||(h=0);let f=/^\s*/.exec(a.text)[0],p=zO(t,h);(f!=p||c.from<a.from+f.length)&&(r[a.from]=h,l.push({from:a.from,to:a.from+f.length,insert:p}))});return s.changes.empty||e(t.update(s,{userEvent:"indent"})),!0},QZ=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($P(t,(r,n)=>{n.push({from:r.from,insert:t.facet($x)})}),{userEvent:"input.indent"})),!0),$Z=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update($P(t,(r,n)=>{let s=/^\s*/.exec(r.text)[0];if(!s)return;let a=gg(s,t.tabSize),l=0,c=zO(t,Math.max(0,a-a_(t)));for(;l<s.length&&l<c.length&&s.charCodeAt(l)==c.charCodeAt(l);)l++;n.push({from:r.from+l,to:r.from+s.length,insert:c.slice(l)})}),{userEvent:"delete.dedent"})),!0),tAe=t=>(t.setTabFocusMode(),!0),rAe=[{key:"Ctrl-b",run:lZ,shift:OZ,preventDefault:!0},{key:"Ctrl-f",run:cZ,shift:xZ},{key:"Ctrl-p",run:uZ,shift:yZ},{key:"Ctrl-n",run:fZ,shift:wZ},{key:"Ctrl-a",run:yCe,shift:$Ce},{key:"Ctrl-e",run:wCe,shift:MCe},{key:"Ctrl-d",run:AZ},{key:"Ctrl-h",run:tE},{key:"Ctrl-k",run:zCe},{key:"Ctrl-Alt-h",run:TZ},{key:"Ctrl-o",run:UCe},{key:"Ctrl-t",run:qCe},{key:"Ctrl-v",run:eE}],nAe=[{key:"ArrowLeft",run:lZ,shift:OZ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:uCe,shift:CCe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:bCe,shift:DCe,preventDefault:!0},{key:"ArrowRight",run:cZ,shift:xZ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:fCe,shift:ACe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:kCe,shift:QCe,preventDefault:!0},{key:"ArrowUp",run:uZ,shift:yZ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:GI,shift:KI},{mac:"Ctrl-ArrowUp",run:WI,shift:YI},{key:"ArrowDown",run:fZ,shift:wZ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:HI,shift:JI},{mac:"Ctrl-ArrowDown",run:eE,shift:ZI},{key:"PageUp",run:WI,shift:YI},{key:"PageDown",run:eE,shift:ZI},{key:"Home",run:xCe,shift:PCe,preventDefault:!0},{key:"Mod-Home",run:GI,shift:KI},{key:"End",run:OCe,shift:ECe,preventDefault:!0},{key:"Mod-End",run:HI,shift:JI},{key:"Enter",run:ej,shift:ej},{key:"Mod-a",run:RCe},{key:"Backspace",run:tE,shift:tE,preventDefault:!0},{key:"Delete",run:AZ,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:TZ,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:LCe,preventDefault:!0},{mac:"Mod-Backspace",run:XCe,preventDefault:!0},{mac:"Mod-Delete",run:VCe,preventDefault:!0}].concat(rAe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),iAe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:pCe,shift:SCe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:mCe,shift:TCe},{key:"Alt-ArrowUp",run:WCe},{key:"Shift-Alt-ArrowUp",run:ZCe},{key:"Alt-ArrowDown",run:YCe},{key:"Shift-Alt-ArrowDown",run:GCe},{key:"Mod-Alt-ArrowUp",run:ICe},{key:"Mod-Alt-ArrowDown",run:jCe},{key:"Escape",run:FCe},{key:"Mod-Enter",run:JCe},{key:"Alt-l",mac:"Ctrl-l",run:NCe},{key:"Mod-i",run:BCe,preventDefault:!0},{key:"Mod-[",run:$Z},{key:"Mod-]",run:QZ},{key:"Mod-Alt-\\",run:eAe},{key:"Shift-Mod-k",run:HCe},{key:"Shift-Mod-\\",run:_Ce},{key:"Mod-/",run:W_e},{key:"Alt-A",run:Z_e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:tAe}].concat(nAe),sAe={key:"Tab",run:QZ,shift:$Z},tj=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Uf{constructor(e,r,n=0,s=e.length,a,l){this.test=l,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,s),this.bufferStart=n,this.normalize=a?c=>a(tj(c)):tj,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ca(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=oP(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Dl(e);let s=this.normalize(r);if(s.length)for(let a=0,l=n;;a++){let c=s.charCodeAt(a),h=this.match(c,l,this.bufferPos+this.bufferStart);if(a==s.length-1){if(h)return this.value=h,this;break}l==n&&a<r.length&&r.charCodeAt(a)==c&&l++}}}match(e,r,n){let s=null;for(let a=0;a<this.matches.length;a+=2){let l=this.matches[a],c=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?s={from:this.matches[a+1],to:n}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?s={from:r,to:n}:this.matches.push(1,r)),s&&this.test&&!this.test(s.from,s.to,this.buffer,this.bufferStart)&&(s=null),s}}typeof Symbol<"u"&&(Uf.prototype[Symbol.iterator]=function(){return this});const MZ={from:-1,to:-1,match:/.*/.exec("")},MP="gm"+(/x/.unicode==null?"":"u");class RZ{constructor(e,r,n,s=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=MZ,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new NZ(e,r,n,s,a);this.re=new RegExp(r,MP+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.iter=e.iter();let l=e.lineAt(s);this.curLineStart=l.from,this.matchPos=d_(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,s=n+r[0].length;if(this.matchPos=d_(this.text,s+(n==s?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<s||n>this.value.to)&&(!this.test||this.test(n,s,r)))return this.value={from:n,to:s,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const w5=new WeakMap;class mf{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let s=w5.get(e);if(!s||s.from>=n||s.to<=r){let c=new mf(r,e.sliceString(r,n));return w5.set(e,c),c}if(s.from==r&&s.to==n)return s;let{text:a,from:l}=s;return l>r&&(a=e.sliceString(r,l)+a,l=r),s.to<n&&(a+=e.sliceString(s.to,n)),w5.set(e,new mf(l,a)),new mf(r,a.slice(r-l,n-l))}}class NZ{constructor(e,r,n,s,a){this.text=e,this.to=a,this.done=!1,this.value=MZ,this.matchPos=d_(e,s),this.re=new RegExp(r,MP+(n!=null&&n.ignoreCase?"i":"")),this.test=n==null?void 0:n.test,this.flat=mf.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,s=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,s,r)))return this.value={from:n,to:s,match:r},this.matchPos=d_(this.text,s+(n==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=mf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RZ.prototype[Symbol.iterator]=NZ.prototype[Symbol.iterator]=function(){return this});function aAe(t){try{return new RegExp(t,MP),!0}catch{return!1}}function d_(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function rE(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),r=an("input",{class:"cm-textfield",name:"line",value:e}),n=an("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),t.dispatch({effects:lO.of(!1)}),t.focus()):a.keyCode==13&&(a.preventDefault(),s())},onsubmit:a=>{a.preventDefault(),s()}},an("label",t.state.phrase("Go to line"),": ",r)," ",an("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),an("button",{name:"close",onclick:()=>{t.dispatch({effects:lO.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},[""]));function s(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(r.value);if(!a)return;let{state:l}=t,c=l.doc.lineAt(l.selection.main.head),[,h,f,p,O]=a,x=p?+p.slice(1):0,k=f?+f:c.number;if(f&&O){let C=k/100;h&&(C=C*(h=="-"?-1:1)+c.number/l.doc.lines),k=Math.round(l.doc.lines*C)}else f&&h&&(k=k*(h=="-"?-1:1)+c.number);let w=l.doc.line(Math.max(1,Math.min(l.doc.lines,k))),_=Ke.cursor(w.from+Math.max(0,Math.min(x,w.length)));t.dispatch({effects:[lO.of(!1),vt.scrollIntoView(_.from,{y:"center"})],selection:_}),t.focus()}return{dom:n}}const lO=ur.define(),rj=ji.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(lO)&&(t=r.value);return t},provide:t=>IO.from(t,e=>e?rE:null)}),oAe=t=>{let e=BO(t,rE);if(!e){let r=[lO.of(!0)];t.state.field(rj,!1)==null&&r.push(ur.appendConfig.of([rj,lAe])),t.dispatch({effects:r}),e=BO(t,rE)}return e&&e.dom.querySelector("input").select(),!0},lAe=vt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),cAe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},dAe=Pt.define({combine(t){return Wl(t,cAe,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function hAe(t){return[mAe,pAe]}const uAe=Wt.mark({class:"cm-selectionMatch"}),fAe=Wt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function nj(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=Dn.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=Dn.Word)}function gAe(t,e,r,n){return t(e.sliceDoc(r,r+1))==Dn.Word&&t(e.sliceDoc(n-1,n))==Dn.Word}const pAe=ni.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(dAe),{state:r}=t,n=r.selection;if(n.ranges.length>1)return Wt.none;let s=n.main,a,l=null;if(s.empty){if(!e.highlightWordAroundCursor)return Wt.none;let h=r.wordAt(s.head);if(!h)return Wt.none;l=r.charCategorizer(s.head),a=r.sliceDoc(h.from,h.to)}else{let h=s.to-s.from;if(h<e.minSelectionLength||h>200)return Wt.none;if(e.wholeWords){if(a=r.sliceDoc(s.from,s.to),l=r.charCategorizer(s.head),!(nj(l,r,s.from,s.to)&&gAe(l,r,s.from,s.to)))return Wt.none}else if(a=r.sliceDoc(s.from,s.to),!a)return Wt.none}let c=[];for(let h of t.visibleRanges){let f=new Uf(r.doc,a,h.from,h.to);for(;!f.next().done;){let{from:p,to:O}=f.value;if((!l||nj(l,r,p,O))&&(s.empty&&p<=s.from&&O>=s.to?c.push(fAe.range(p,O)):(p>=s.to||O<=s.from)&&c.push(uAe.range(p,O)),c.length>e.maxMatches))return Wt.none}}return Wt.set(c)}},{decorations:t=>t.decorations}),mAe=vt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),OAe=({state:t,dispatch:e})=>{let{selection:r}=t,n=Ke.create(r.ranges.map(s=>t.wordAt(s.head)||Ke.cursor(s.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function xAe(t,e){let{main:r,ranges:n}=t.selection,s=t.wordAt(r.head),a=s&&s.from==r.from&&s.to==r.to;for(let l=!1,c=new Uf(t.doc,e,n[n.length-1].to);;)if(c.next(),c.done){if(l)return null;c=new Uf(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),l=!0}else{if(l&&n.some(h=>h.from==c.value.from))continue;if(a){let h=t.wordAt(c.value.from);if(!h||h.from!=c.value.from||h.to!=c.value.to)continue}return c.value}}const bAe=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(a=>a.from===a.to))return OAe({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=n))return!1;let s=xAe(t,n);return s?(e(t.update({selection:t.selection.addRange(Ke.range(s.from,s.to),!1),effects:vt.scrollIntoView(s.to)})),!0):!1},mg=Pt.define({combine(t){return Wl(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new DAe(e),scrollToMatch:e=>vt.scrollIntoView(e)})}});class BZ{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||aAe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new vAe(this):new yAe(this)}getCursor(e,r=0,n){let s=e.doc?e:Dr.create({doc:e});return n==null&&(n=s.doc.length),this.regexp?q0(this,s,r,n):U0(this,s,r,n)}}class IZ{constructor(e){this.spec=e}}function U0(t,e,r,n){return new Uf(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:s=>s.toLowerCase(),t.wholeWord?kAe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function kAe(t,e){return(r,n,s,a)=>((a>r||a+s.length<n)&&(a=Math.max(0,r-2),s=t.sliceString(a,Math.min(t.length,n+2))),(e(h_(s,r-a))!=Dn.Word||e(u_(s,r-a))!=Dn.Word)&&(e(u_(s,n-a))!=Dn.Word||e(h_(s,n-a))!=Dn.Word))}class yAe extends IZ{constructor(e){super(e)}nextMatch(e,r,n){let s=U0(this.spec,e,n,e.doc.length).nextOverlapping();if(s.done){let a=Math.min(e.doc.length,r+this.spec.unquoted.length);s=U0(this.spec,e,0,a).nextOverlapping()}return s.done||s.value.from==r&&s.value.to==n?null:s.value}prevMatchInRange(e,r,n){for(let s=n;;){let a=Math.max(r,s-1e4-this.spec.unquoted.length),l=U0(this.spec,e,a,s),c=null;for(;!l.nextOverlapping().done;)c=l.value;if(c)return c;if(a==r)return null;s-=1e4}}prevMatch(e,r,n){let s=this.prevMatchInRange(e,0,r);return s||(s=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),s&&(s.from!=r||s.to!=n)?s:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=U0(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=r)return null;s.push(n.value)}return s}highlight(e,r,n,s){let a=U0(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}function q0(t,e,r,n){return new RZ(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?wAe(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function h_(t,e){return t.slice(ts(t,e,!1),e)}function u_(t,e){return t.slice(e,ts(t,e))}function wAe(t){return(e,r,n)=>!n[0].length||(t(h_(n.input,n.index))!=Dn.Word||t(u_(n.input,n.index))!=Dn.Word)&&(t(u_(n.input,n.index+n[0].length))!=Dn.Word||t(h_(n.input,n.index+n[0].length))!=Dn.Word)}class vAe extends IZ{nextMatch(e,r,n){let s=q0(this.spec,e,n,e.doc.length).next();return s.done&&(s=q0(this.spec,e,0,r).next()),s.done?null:s.value}prevMatchInRange(e,r,n){for(let s=1;;s++){let a=Math.max(r,n-s*1e4),l=q0(this.spec,e,a,n),c=null;for(;!l.next().done;)c=l.value;if(c&&(a==r||c.from>a+10))return c;if(a==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(r,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let s=n.length;s>0;s--){let a=+n.slice(0,s);if(a>0&&a<e.match.length)return e.match[a]+n.slice(s)}return r})}matchAll(e,r){let n=q0(this.spec,e,0,e.doc.length),s=[];for(;!n.next().done;){if(s.length>=r)return null;s.push(n.value)}return s}highlight(e,r,n,s){let a=q0(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!a.next().done;)s(a.value.from,a.value.to)}}const XO=ur.define(),RP=ur.define(),Jd=ji.define({create(t){return new v5(nE(t).create(),null)},update(t,e){for(let r of e.effects)r.is(XO)?t=new v5(r.value.create(),t.panel):r.is(RP)&&(t=new v5(t.query,r.value?NP:null));return t},provide:t=>IO.from(t,e=>e.panel)});class v5{constructor(e,r){this.query=e,this.panel=r}}const _Ae=Wt.mark({class:"cm-searchMatch"}),CAe=Wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),AAe=ni.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Jd))}update(t){let e=t.state.field(Jd);(e!=t.startState.field(Jd)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Wt.none;let{view:r}=this,n=new Yc;for(let s=0,a=r.visibleRanges,l=a.length;s<l;s++){let{from:c,to:h}=a[s];for(;s<l-1&&h>a[s+1].from-500;)h=a[++s].to;t.highlight(r.state,c,h,(f,p)=>{let O=r.state.selection.ranges.some(x=>x.from==f&&x.to==p);n.add(f,p,O?CAe:_Ae)})}return n.finish()}},{decorations:t=>t.decorations});function Bx(t){return e=>{let r=e.state.field(Jd,!1);return r&&r.query.spec.valid?t(e,r):LZ(e)}}const f_=Bx((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let s=Ke.single(n.from,n.to),a=t.state.facet(mg);return t.dispatch({selection:s,effects:[BP(t,n),a.scrollToMatch(s.main,t)],userEvent:"select.search"}),FZ(t),!0}),g_=Bx((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,s=e.prevMatch(r,n,n);if(!s)return!1;let a=Ke.single(s.from,s.to),l=t.state.facet(mg);return t.dispatch({selection:a,effects:[BP(t,s),l.scrollToMatch(a.main,t)],userEvent:"select.search"}),FZ(t),!0}),SAe=Bx((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:Ke.create(r.map(n=>Ke.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),TAe=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:s}=r.main,a=[],l=0;for(let c=new Uf(t.doc,t.sliceDoc(n,s));!c.next().done;){if(a.length>1e3)return!1;c.value.from==n&&(l=a.length),a.push(Ke.range(c.value.from,c.value.to))}return e(t.update({selection:Ke.create(a,l),userEvent:"select.search.matches"})),!0},ij=Bx((t,{query:e})=>{let{state:r}=t,{from:n,to:s}=r.selection.main;if(r.readOnly)return!1;let a=e.nextMatch(r,n,n);if(!a)return!1;let l=a,c=[],h,f,p=[];l.from==n&&l.to==s&&(f=r.toText(e.getReplacement(l)),c.push({from:l.from,to:l.to,insert:f}),l=e.nextMatch(r,l.from,l.to),p.push(vt.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+".")));let O=t.state.changes(c);return l&&(h=Ke.single(l.from,l.to).map(O),p.push(BP(t,l)),p.push(r.facet(mg).scrollToMatch(h.main,t))),t.dispatch({changes:O,selection:h,effects:p,userEvent:"input.replace"}),!0}),EAe=Bx((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(s=>{let{from:a,to:l}=s;return{from:a,to:l,insert:e.getReplacement(s)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:vt.announce.of(n),userEvent:"input.replace.all"}),!0});function NP(t){return t.state.facet(mg).createPanel(t)}function nE(t,e){var r,n,s,a,l;let c=t.selection.main,h=c.empty||c.to>c.from+100?"":t.sliceDoc(c.from,c.to);if(e&&!h)return e;let f=t.facet(mg);return new BZ({search:((r=e==null?void 0:e.literal)!==null&&r!==void 0?r:f.literal)?h:h.replace(/\n/g,"\\n"),caseSensitive:(n=e==null?void 0:e.caseSensitive)!==null&&n!==void 0?n:f.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:f.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:f.regexp,wholeWord:(l=e==null?void 0:e.wholeWord)!==null&&l!==void 0?l:f.wholeWord})}function jZ(t){let e=BO(t,NP);return e&&e.dom.querySelector("[main-field]")}function FZ(t){let e=jZ(t);e&&e==t.root.activeElement&&e.select()}const LZ=t=>{let e=t.state.field(Jd,!1);if(e&&e.panel){let r=jZ(t);if(r&&r!=t.root.activeElement){let n=nE(t.state,e.query.spec);n.valid&&t.dispatch({effects:XO.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[RP.of(!0),e?XO.of(nE(t.state,e.query.spec)):ur.appendConfig.of($Ae)]});return!0},zZ=t=>{let e=t.state.field(Jd,!1);if(!e||!e.panel)return!1;let r=BO(t,NP);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:RP.of(!1)}),!0},PAe=[{key:"Mod-f",run:LZ,scope:"editor search-panel"},{key:"F3",run:f_,shift:g_,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:f_,shift:g_,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:zZ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:TAe},{key:"Mod-Alt-g",run:oAe},{key:"Mod-d",run:bAe,preventDefault:!0}];class DAe{constructor(e){this.view=e;let r=this.query=e.state.field(Jd).query.spec;this.commit=this.commit.bind(this),this.searchField=an("input",{value:r.search,placeholder:wa(e,"Find"),"aria-label":wa(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=an("input",{value:r.replace,placeholder:wa(e,"Replace"),"aria-label":wa(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=an("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=an("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=an("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(s,a,l){return an("button",{class:"cm-button",name:s,onclick:a,type:"button"},l)}this.dom=an("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,n("next",()=>f_(e),[wa(e,"next")]),n("prev",()=>g_(e),[wa(e,"previous")]),n("select",()=>SAe(e),[wa(e,"all")]),an("label",null,[this.caseField,wa(e,"match case")]),an("label",null,[this.reField,wa(e,"regexp")]),an("label",null,[this.wordField,wa(e,"by word")]),...e.state.readOnly?[]:[an("br"),this.replaceField,n("replace",()=>ij(e),[wa(e,"replace")]),n("replaceAll",()=>EAe(e),[wa(e,"replace all")])],an("button",{name:"close",onclick:()=>zZ(e),"aria-label":wa(e,"close"),type:"button"},[""])])}commit(){let e=new BZ({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:XO.of(e)}))}keydown(e){Nve(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?g_:f_)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),ij(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(XO)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(mg).top}}function wa(t,e){return t.state.phrase(e)}const jw=30,Fw=/[\s\.,:;?!]/;function BP(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),s=t.state.doc.lineAt(r).to,a=Math.max(n.from,e-jw),l=Math.min(s,r+jw),c=t.state.sliceDoc(a,l);if(a!=n.from){for(let h=0;h<jw;h++)if(!Fw.test(c[h+1])&&Fw.test(c[h])){c=c.slice(h);break}}if(l!=s){for(let h=c.length-1;h>c.length-jw;h--)if(!Fw.test(c[h-1])&&Fw.test(c[h])){c=c.slice(0,h);break}}return vt.announce.of(`${t.state.phrase("current match")}. ${c} ${t.state.phrase("on line")} ${n.number}.`)}const QAe=vt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),$Ae=[Jd,Ch.low(AAe),QAe];class XZ{constructor(e,r,n,s){this.state=e,this.pos=r,this.explicit=n,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let r=In(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),s=r.text.slice(n-r.from,this.pos-r.from),a=s.search(UZ(e,!1));return a<0?null:{from:n+a,to:this.pos,text:s.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,r,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(r),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function sj(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function MAe(t){let e=Object.create(null),r=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let a=1;a<s.length;a++)r[s[a]]=!0}let n=sj(e)+sj(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function IP(t){let e=t.map(s=>typeof s=="string"?{label:s}:s),[r,n]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:MAe(e);return s=>{let a=s.matchBefore(n);return a||s.explicit?{from:a?a.from:s.pos,options:e,validFor:r}:null}}function VZ(t,e){return r=>{for(let n=In(r.state).resolveInner(r.pos,-1);n;n=n.parent){if(t.indexOf(n.name)>-1)return null;if(n.type.isTop)break}return e(r)}}class aj{constructor(e,r,n,s){this.completion=e,this.source=r,this.match=n,this.score=s}}function xu(t){return t.selection.main.from}function UZ(t,e){var r;let{source:n}=t,s=e&&n[0]!="^",a=n[n.length-1]!="$";return!s&&!a?t:new RegExp(`${s?"^":""}(?:${n})${a?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const jP=ql.define();function RAe(t,e,r,n){let{main:s}=t.selection,a=r-s.from,l=n-s.from;return{...t.changeByRange(c=>{if(c!=s&&r!=n&&t.sliceDoc(c.from+a,c.from+l)!=t.sliceDoc(r,n))return{range:c};let h=t.toText(e);return{changes:{from:c.from+a,to:n==s.from?c.to:c.from+l,insert:h},range:Ke.cursor(c.from+a+h.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const oj=new WeakMap;function NAe(t){if(!Array.isArray(t))return t;let e=oj.get(t);return e||oj.set(t,e=IP(t)),e}const p_=ur.define(),VO=ur.define();class BAe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let r=0;r<e.length;){let n=ca(e,r),s=Dl(n);this.chars.push(n);let a=e.slice(r,r+s),l=a.toUpperCase();this.folded.push(ca(l==a?a.toLowerCase():l,0)),r+=s}this.astral=e.length!=this.chars.length}ret(e,r){return this.score=e,this.matched=r,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:s,precise:a,byWord:l}=this;if(r.length==1){let E=ca(e,0),P=Dl(E),Q=P==e.length?0:-100;if(E!=r[0])if(E==n[0])Q+=-200;else return null;return this.ret(Q,[0,P])}let c=e.indexOf(this.pattern);if(c==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let h=r.length,f=0;if(c<0){for(let E=0,P=Math.min(e.length,200);E<P&&f<h;){let Q=ca(e,E);(Q==r[f]||Q==n[f])&&(s[f++]=E),E+=Dl(Q)}if(f<h)return null}let p=0,O=0,x=!1,k=0,w=-1,_=-1,C=/[a-z]/.test(e),T=!0;for(let E=0,P=Math.min(e.length,200),Q=0;E<P&&O<h;){let B=ca(e,E);c<0&&(p<h&&B==r[p]&&(a[p++]=E),k<h&&(B==r[k]||B==n[k]?(k==0&&(w=E),_=E+1,k++):k=0));let R,M=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(R=oP(B))!=R.toLowerCase()?1:R!=R.toUpperCase()?2:0;(!E||M==1&&C||Q==0&&M!=0)&&(r[O]==B||n[O]==B&&(x=!0)?l[O++]=E:l.length&&(T=!1)),Q=M,E+=Dl(B)}return O==h&&l[0]==0&&T?this.result(-100+(x?-200:0),l,e):k==h&&w==0?this.ret(-200-e.length+(_==e.length?0:-100),[0,_]):c>-1?this.ret(-700-e.length,[c,c+this.pattern.length]):k==h?this.ret(-900-e.length,[w,_]):O==h?this.result(-100+(x?-200:0)+-700+(T?0:-1100),l,e):r.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,r,n){let s=[],a=0;for(let l of r){let c=l+(this.astral?Dl(ca(n,l)):1);a&&s[a-1]==l?s[a-1]=c:(s[a++]=l,s[a++]=c)}return this.ret(e-n.length,s)}}class IAe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let r=e.slice(0,this.pattern.length),n=r==this.pattern?0:r.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,r.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const Ri=Pt.define({combine(t){return Wl(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:jAe,filterStrict:!1,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>lj(e(n),r(n)),optionClass:(e,r)=>n=>lj(e(n),r(n)),addToOptions:(e,r)=>e.concat(r),filterStrict:(e,r)=>e||r})}});function lj(t,e){return t?e?t+" "+e:t:e}function jAe(t,e,r,n,s,a){let l=t.textDirection==_n.RTL,c=l,h=!1,f="top",p,O,x=e.left-s.left,k=s.right-e.right,w=n.right-n.left,_=n.bottom-n.top;if(c&&x<Math.min(w,k)?c=!1:!c&&k<Math.min(w,x)&&(c=!0),w<=(c?x:k))p=Math.max(s.top,Math.min(r.top,s.bottom-_))-e.top,O=Math.min(400,c?x:k);else{h=!0,O=Math.min(400,(l?e.right:s.right-e.left)-30);let E=s.bottom-e.bottom;E>=_||E>e.top?p=r.bottom-e.top:(f="bottom",p=e.bottom-r.top)}let C=(e.bottom-e.top)/a.offsetHeight,T=(e.right-e.left)/a.offsetWidth;return{style:`${f}: ${p/C}px; max-width: ${O/T}px`,class:"cm-completionInfo-"+(h?l?"left-narrow":"right-narrow":c?"left":"right")}}function FAe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,s,a){let l=document.createElement("span");l.className="cm-completionLabel";let c=r.displayLabel||r.label,h=0;for(let f=0;f<a.length;){let p=a[f++],O=a[f++];p>h&&l.appendChild(document.createTextNode(c.slice(h,p)));let x=l.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(c.slice(p,O))),x.className="cm-completionMatchedText",h=O}return h<c.length&&l.appendChild(document.createTextNode(c.slice(h))),l},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function _5(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let s=Math.floor(e/r);return{from:s*r,to:(s+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class LAe{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:h=>this.placeInfo(h),key:this},this.space=null,this.currentClass="";let s=e.state.field(r),{options:a,selected:l}=s.open,c=e.state.facet(Ri);this.optionContent=FAe(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=_5(a.length,l,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",h=>{let{options:f}=e.state.field(r).open;for(let p=h.target,O;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(O=/-(\d+)$/.exec(p.id))&&+O[1]<f.length){this.applyCompletion(e,f[+O[1]]),h.preventDefault();return}}),this.dom.addEventListener("focusout",h=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Ri).closeOnBlur&&h.relatedTarget!=e.contentDOM&&e.dispatch({effects:VO.of(null)})}),this.showOptions(a,s.id)}mount(){this.updateSel()}showOptions(e,r){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,r,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var r;let n=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=s){let{options:a,selected:l,disabled:c}=n.open;(!s.open||s.open.options!=a)&&(this.range=_5(a.length,l,e.state.facet(Ri).maxRenderedOptions),this.showOptions(a,n.id)),this.updateSel(),c!=((r=s.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;(r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=_5(r.options.length,r.selected,this.view.state.facet(Ri).maxRenderedOptions),this.showOptions(r.options,e.id));let n=this.updateSelectedOption(r.selected);if(n){this.destroyInfo();let{completion:s}=r.options[r.selected],{info:a}=s;if(!a)return;let l=typeof a=="string"?document.createTextNode(a):a(s);if(!l)return;"then"in l?l.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c,s)}).catch(c=>fa(this.view.state,c,"completion info")):(this.addInfoPane(l,s),n.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:a}=e;n.appendChild(s),this.infoDestroy=a||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,s=this.range.from;n;n=n.nextSibling,s++)n.nodeName!="LI"||!n.id?s--:s==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby"));return r&&XAe(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),a=this.space;if(!a){let l=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:l.clientWidth,bottom:l.clientHeight}}return s.top>Math.min(a.bottom,r.bottom)-10||s.bottom<Math.max(a.top,r.top)+10?null:this.view.state.facet(Ri).positionInfo(this.view,r,s,n,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const s=document.createElement("ul");s.id=r,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",l=>{l.target==s&&l.preventDefault()});let a=null;for(let l=n.from;l<n.to;l++){let{completion:c,match:h}=e[l],{section:f}=c;if(f){let x=typeof f=="string"?f:f.name;if(x!=a&&(l>n.from||n.from==0))if(a=x,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let k=s.appendChild(document.createElement("completion-section"));k.textContent=x}}const p=s.appendChild(document.createElement("li"));p.id=r+"-"+l,p.setAttribute("role","option");let O=this.optionClass(c);O&&(p.className=O);for(let x of this.optionContent){let k=x(c,this.view.state,this.view,h);k&&p.appendChild(k)}}return n.from&&s.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function zAe(t,e){return r=>new LAe(r,t,e)}function XAe(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=r.height/t.offsetHeight;n.top<r.top?t.scrollTop-=(r.top-n.top)/s:n.bottom>r.bottom&&(t.scrollTop+=(n.bottom-r.bottom)/s)}function cj(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function VAe(t,e){let r=[],n=null,s=null,a=p=>{r.push(p);let{section:O}=p.completion;if(O){n||(n=[]);let x=typeof O=="string"?O:O.name;n.some(k=>k.name==x)||n.push(typeof O=="string"?{name:x}:O)}},l=e.facet(Ri);for(let p of t)if(p.hasResult()){let O=p.result.getMatch;if(p.result.filter===!1)for(let x of p.result.options)a(new aj(x,p.source,O?O(x):[],1e9-r.length));else{let x=e.sliceDoc(p.from,p.to),k,w=l.filterStrict?new IAe(x):new BAe(x);for(let _ of p.result.options)if(k=w.match(_.label)){let C=_.displayLabel?O?O(_,k.matched):[]:k.matched,T=k.score+(_.boost||0);if(a(new aj(_,p.source,C,T)),typeof _.section=="object"&&_.section.rank==="dynamic"){let{name:E}=_.section;s||(s=Object.create(null)),s[E]=Math.max(T,s[E]||-1e9)}}}}if(n){let p=Object.create(null),O=0,x=(k,w)=>(k.rank==="dynamic"&&w.rank==="dynamic"?s[w.name]-s[k.name]:0)||(typeof k.rank=="number"?k.rank:1e9)-(typeof w.rank=="number"?w.rank:1e9)||(k.name<w.name?-1:1);for(let k of n.sort(x))O-=1e5,p[k.name]=O;for(let k of r){let{section:w}=k.completion;w&&(k.score+=p[typeof w=="string"?w:w.name])}}let c=[],h=null,f=l.compareCompletions;for(let p of r.sort((O,x)=>x.score-O.score||f(O.completion,x.completion))){let O=p.completion;!h||h.label!=O.label||h.detail!=O.detail||h.type!=null&&O.type!=null&&h.type!=O.type||h.apply!=O.apply||h.boost!=O.boost?c.push(p):cj(p.completion)>cj(h)&&(c[c.length-1]=p),h=p.completion}return c}class rf{constructor(e,r,n,s,a,l){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=s,this.selected=a,this.disabled=l}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new rf(this.options,dj(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,s,a,l){if(s&&!l&&e.some(f=>f.isPending))return s.setDisabled();let c=VAe(e,r);if(!c.length)return s&&e.some(f=>f.isPending)?s.setDisabled():null;let h=r.facet(Ri).selectOnOpen?0:-1;if(s&&s.selected!=h&&s.selected!=-1){let f=s.options[s.selected].completion;for(let p=0;p<c.length;p++)if(c[p].completion==f){h=p;break}}return new rf(c,dj(n,h),{pos:e.reduce((f,p)=>p.hasResult()?Math.min(f,p.from):f,1e8),create:GAe,above:a.aboveCursor},s?s.timestamp:Date.now(),h,!1)}map(e){return new rf(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new rf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class m_{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new m_(YAe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(Ri),a=(n.override||r.languageDataAt("autocomplete",xu(r)).map(NAe)).map(h=>(this.active.find(p=>p.source==h)||new io(h,this.active.some(p=>p.state!=0)?1:0)).update(e,n));a.length==this.active.length&&a.every((h,f)=>h==this.active[f])&&(a=this.active);let l=this.open,c=e.effects.some(h=>h.is(FP));l&&e.docChanged&&(l=l.map(e.changes)),e.selection||a.some(h=>h.hasResult()&&e.changes.touchesRange(h.from,h.to))||!UAe(a,this.active)||c?l=rf.build(a,r,this.id,l,n,c):l&&l.disabled&&!a.some(h=>h.isPending)&&(l=null),!l&&a.every(h=>!h.isPending)&&a.some(h=>h.hasResult())&&(a=a.map(h=>h.hasResult()?new io(h.source,0):h));for(let h of e.effects)h.is(WZ)&&(l=l&&l.setSelected(h.value,this.id));return a==this.active&&l==this.open?this:new m_(a,this.id,l)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?qAe:WAe}}function UAe(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult();)r++;for(;n<e.length&&!e[n].hasResult();)n++;let s=r==t.length,a=n==e.length;if(s||a)return s==a;if(t[r++].result!=e[n++].result)return!1}}const qAe={"aria-autocomplete":"list"},WAe={};function dj(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const YAe=[];function qZ(t,e){if(t.isUserEvent("input.complete")){let n=t.annotation(jP);if(n&&e.activateOnCompletion(n))return 12}let r=t.isUserEvent("input.type");return r&&e.activateOnTyping?5:r?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class io{constructor(e,r,n=!1){this.source=e,this.state=r,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,r){let n=qZ(e,r),s=this;(n&8||n&16&&this.touches(e))&&(s=new io(s.source,0)),n&4&&s.state==0&&(s=new io(this.source,1)),s=s.updateFor(e,n);for(let a of e.effects)if(a.is(p_))s=new io(s.source,1,a.value);else if(a.is(VO))s=new io(s.source,0);else if(a.is(FP))for(let l of a.value)l.source==s.source&&(s=l);return s}updateFor(e,r){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(xu(e.state))}}class Of extends io{constructor(e,r,n,s,a,l){super(e,3,r),this.limit=n,this.result=s,this.from=a,this.to=l}hasResult(){return!0}updateFor(e,r){var n;if(!(r&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let a=e.changes.mapPos(this.from),l=e.changes.mapPos(this.to,1),c=xu(e.state);if(c>l||!s||r&2&&(xu(e.startState)==this.from||c<this.limit))return new io(this.source,r&4?1:0);let h=e.changes.mapPos(this.limit);return ZAe(s.validFor,e.state,a,l)?new Of(this.source,this.explicit,h,s,a,l):s.update&&(s=s.update(s,a,l,new XZ(e.state,c,!1)))?new Of(this.source,this.explicit,h,s,s.from,(n=s.to)!==null&&n!==void 0?n:xu(e.state)):new io(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Of(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new io(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function ZAe(t,e,r,n){if(!t)return!1;let s=e.sliceDoc(r,n);return typeof t=="function"?t(s,r,n,e):UZ(t,!0).test(s)}const FP=ur.define({map(t,e){return t.map(r=>r.map(e))}}),WZ=ur.define(),da=ji.define({create(){return m_.start()},update(t,e){return t.update(e)},provide:t=>[yP.from(t,e=>e.tooltip),vt.contentAttributes.from(t,e=>e.attrs)]});function LP(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(da).active.find(s=>s.source==e.source);return n instanceof Of?(typeof r=="string"?t.dispatch({...RAe(t.state,r,n.from,n.to),annotations:jP.of(e.completion)}):r(t,e.completion,n.from,n.to),!0):!1}const GAe=zAe(da,LP);function Lw(t,e="option"){return r=>{let n=r.state.field(da,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(Ri).interactionDelay)return!1;let s=1,a;e=="page"&&(a=SY(r,n.open.tooltip))&&(s=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:l}=n.open.options,c=n.open.selected>-1?n.open.selected+s*(t?1:-1):t?0:l-1;return c<0?c=e=="page"?0:l-1:c>=l&&(c=e=="page"?l-1:0),r.dispatch({effects:WZ.of(c)}),!0}}const HAe=t=>{let e=t.state.field(da,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ri).interactionDelay?!1:LP(t,e.open.options[e.open.selected])},C5=t=>t.state.field(da,!1)?(t.dispatch({effects:p_.of(!0)}),!0):!1,KAe=t=>{let e=t.state.field(da,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:VO.of(null)}),!0)};class JAe{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const eSe=50,tSe=1e3,rSe=ni.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(da).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(da),r=t.state.facet(Ri);if(!t.selectionSet&&!t.docChanged&&t.startState.field(da)==e)return;let n=t.transactions.some(a=>{let l=qZ(a,r);return l&8||(a.selection||a.docChanged)&&!(l&3)});for(let a=0;a<this.running.length;a++){let l=this.running[a];if(n||l.context.abortOnDocChange&&t.docChanged||l.updates.length+t.transactions.length>eSe&&Date.now()-l.time>tSe){for(let c of l.context.abortListeners)try{c()}catch(h){fa(this.view.state,h)}l.context.abortListeners=null,this.running.splice(a--,1)}else l.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(l=>l.is(p_)))&&(this.pendingStart=!0);let s=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(l=>l.active.source==a.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(da);for(let r of e.active)r.isPending&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ri).updateSyncTime))}startQuery(t){let{state:e}=this.view,r=xu(e),n=new XZ(e,r,t.explicit,this.view),s=new JAe(t,n);this.running.push(s),Promise.resolve(t.source(n)).then(a=>{s.context.aborted||(s.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:VO.of(null)}),fa(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ri).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(Ri),n=this.view.state.field(da);for(let s=0;s<this.running.length;s++){let a=this.running[s];if(a.done===void 0)continue;if(this.running.splice(s--,1),a.done){let c=xu(a.updates.length?a.updates[0].startState:this.view.state),h=Math.min(c,a.done.from+(a.active.explicit?0:1)),f=new Of(a.active.source,a.active.explicit,h,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:c);for(let p of a.updates)f=f.update(p,r);if(f.hasResult()){e.push(f);continue}}let l=n.active.find(c=>c.source==a.active.source);if(l&&l.isPending)if(a.done==null){let c=new io(a.active.source,0);for(let h of a.updates)c=c.update(h,r);c.isPending||e.push(c)}else this.startQuery(l)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:FP.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(da,!1);if(e&&e.tooltip&&this.view.state.facet(Ri).closeOnBlur){let r=e.open&&SY(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:VO.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:p_.of(!1)}),20),this.composing=0}}}),nSe=typeof navigator=="object"&&/Win/.test(navigator.platform),iSe=Ch.highest(vt.domEventHandlers({keydown(t,e){let r=e.state.field(da,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||t.key.length>1||t.ctrlKey&&!(nSe&&t.altKey)||t.metaKey)return!1;let n=r.open.options[r.open.selected],s=r.active.find(l=>l.source==n.source),a=n.completion.commitCharacters||s.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&LP(e,n),!1}})),YZ=vt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class sSe{constructor(e,r,n,s){this.field=e,this.line=r,this.from=n,this.to=s}}class zP{constructor(e,r,n){this.field=e,this.from=r,this.to=n}map(e){let r=e.mapPos(this.from,-1,Ji.TrackDel),n=e.mapPos(this.to,1,Ji.TrackDel);return r==null||n==null?null:new zP(this.field,r,n)}}class XP{constructor(e,r){this.lines=e,this.fieldPositions=r}instantiate(e,r){let n=[],s=[r],a=e.doc.lineAt(r),l=/^\s*/.exec(a.text)[0];for(let h of this.lines){if(n.length){let f=l,p=/^\t*/.exec(h)[0].length;for(let O=0;O<p;O++)f+=e.facet($x);s.push(r+f.length-p),h=f+h.slice(p)}n.push(h),r+=h.length+1}let c=this.fieldPositions.map(h=>new zP(h.field,s[h.line]+h.from,s[h.line]+h.to));return{text:n,ranges:c}}static parse(e){let r=[],n=[],s=[],a;for(let l of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(l);){let c=a[1]?+a[1]:null,h=a[2]||a[3]||"",f=-1,p=h.replace(/\\[{}]/g,O=>O[1]);for(let O=0;O<r.length;O++)(c!=null?r[O].seq==c:p&&r[O].name==p)&&(f=O);if(f<0){let O=0;for(;O<r.length&&(c==null||r[O].seq!=null&&r[O].seq<c);)O++;r.splice(O,0,{seq:c,name:p}),f=O;for(let x of s)x.field>=f&&x.field++}for(let O of s)if(O.line==n.length&&O.from>a.index){let x=a[2]?3+(a[1]||"").length:2;O.from-=x,O.to-=x}s.push(new sSe(f,n.length,a.index,a.index+p.length)),l=l.slice(0,a.index)+h+l.slice(a.index+a[0].length)}l=l.replace(/\\([{}])/g,(c,h,f)=>{for(let p of s)p.line==n.length&&p.from>f&&(p.from--,p.to--);return h}),n.push(l)}return new XP(n,s)}}let aSe=Wt.widget({widget:new class extends Yl{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),oSe=Wt.mark({class:"cm-snippetField"});class Og{constructor(e,r){this.ranges=e,this.active=r,this.deco=Wt.set(e.map(n=>(n.from==n.to?aSe:oSe).range(n.from,n.to)),!0)}map(e){let r=[];for(let n of this.ranges){let s=n.map(e);if(!s)return null;r.push(s)}return new Og(r,this.active)}selectionInsideField(e){return e.ranges.every(r=>this.ranges.some(n=>n.field==this.active&&n.from<=r.from&&n.to>=r.to))}}const Ix=ur.define({map(t,e){return t&&t.map(e)}}),lSe=ur.define(),UO=ji.define({create(){return null},update(t,e){for(let r of e.effects){if(r.is(Ix))return r.value;if(r.is(lSe)&&t)return new Og(t.ranges,r.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>vt.decorations.from(t,e=>e?e.deco:Wt.none)});function VP(t,e){return Ke.create(t.filter(r=>r.field==e).map(r=>Ke.range(r.from,r.to)))}function cSe(t){let e=XP.parse(t);return(r,n,s,a)=>{let{text:l,ranges:c}=e.instantiate(r.state,s),{main:h}=r.state.selection,f={changes:{from:s,to:a==h.from?h.to:a,insert:Nr.of(l)},scrollIntoView:!0,annotations:n?[jP.of(n),fi.userEvent.of("input.complete")]:void 0};if(c.length&&(f.selection=VP(c,0)),c.some(p=>p.field>0)){let p=new Og(c,0),O=f.effects=[Ix.of(p)];r.state.field(UO,!1)===void 0&&O.push(ur.appendConfig.of([UO,gSe,pSe,YZ]))}r.dispatch(r.state.update(f))}}function ZZ(t){return({state:e,dispatch:r})=>{let n=e.field(UO,!1);if(!n||t<0&&n.active==0)return!1;let s=n.active+t,a=t>0&&!n.ranges.some(l=>l.field==s+t);return r(e.update({selection:VP(n.ranges,s),effects:Ix.of(a?null:new Og(n.ranges,s)),scrollIntoView:!0})),!0}}const dSe=({state:t,dispatch:e})=>t.field(UO,!1)?(e(t.update({effects:Ix.of(null)})),!0):!1,hSe=ZZ(1),uSe=ZZ(-1),fSe=[{key:"Tab",run:hSe,shift:uSe},{key:"Escape",run:dSe}],hj=Pt.define({combine(t){return t.length?t[0]:fSe}}),gSe=Ch.highest(Dx.compute([hj],t=>t.facet(hj)));function Rn(t,e){return{...e,apply:cSe(t)}}const pSe=vt.domEventHandlers({mousedown(t,e){let r=e.state.field(UO,!1),n;if(!r||(n=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let s=r.ranges.find(a=>a.from<=n&&a.to>=n);return!s||s.field==r.active?!1:(e.dispatch({selection:VP(r.ranges,s.field),effects:Ix.of(r.ranges.some(a=>a.field>s.field)?new Og(r.ranges,s.field):null),scrollIntoView:!0}),!0)}}),qO={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},du=ur.define({map(t,e){let r=e.mapPos(t,-1,Ji.TrackAfter);return r??void 0}}),UP=new class extends Au{};UP.startSide=1;UP.endSide=-1;const GZ=ji.define({create(){return Ir.empty},update(t,e){if(t=t.map(e.changes),e.selection){let r=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:n=>n>=r.from&&n<=r.to})}for(let r of e.effects)r.is(du)&&(t=t.update({add:[UP.range(r.value,r.value+1)]}));return t}});function mSe(){return[xSe,GZ]}const A5="()[]{}<>";function HZ(t){for(let e=0;e<A5.length;e+=2)if(A5.charCodeAt(e)==t)return A5.charAt(e+1);return oP(t<128?t:t+1)}function KZ(t,e){return t.languageDataAt("closeBrackets",e)[0]||qO}const OSe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),xSe=vt.inputHandler.of((t,e,r,n)=>{if((OSe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let s=t.state.selection.main;if(n.length>2||n.length==2&&Dl(ca(n,0))==1||e!=s.from||r!=s.to)return!1;let a=ySe(t.state,n);return a?(t.dispatch(a),!0):!1}),bSe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=KZ(t,t.selection.main.head).brackets||qO.brackets,s=null,a=t.changeByRange(l=>{if(l.empty){let c=wSe(t.doc,l.head);for(let h of n)if(h==c&&LC(t.doc,l.head)==HZ(ca(h,0)))return{changes:{from:l.head-h.length,to:l.head+h.length},range:Ke.cursor(l.head-h.length)}}return{range:s=l}});return s||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},kSe=[{key:"Backspace",run:bSe}];function ySe(t,e){let r=KZ(t,t.selection.main.head),n=r.brackets||qO.brackets;for(let s of n){let a=HZ(ca(s,0));if(e==s)return a==s?CSe(t,s,n.indexOf(s+s+s)>-1,r):vSe(t,s,a,r.before||qO.before);if(e==a&&JZ(t,t.selection.main.from))return _Se(t,s,a)}return null}function JZ(t,e){let r=!1;return t.field(GZ).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function LC(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Dl(ca(r,0)))}function wSe(t,e){let r=t.sliceString(e-2,e);return Dl(ca(r,0))==r.length?r:r.slice(1)}function vSe(t,e,r,n){let s=null,a=t.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:r,from:l.to}],effects:du.of(l.to+e.length),range:Ke.range(l.anchor+e.length,l.head+e.length)};let c=LC(t.doc,l.head);return!c||/\s/.test(c)||n.indexOf(c)>-1?{changes:{insert:e+r,from:l.head},effects:du.of(l.head+e.length),range:Ke.cursor(l.head+e.length)}:{range:s=l}});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function _Se(t,e,r){let n=null,s=t.changeByRange(a=>a.empty&&LC(t.doc,a.head)==r?{changes:{from:a.head,to:a.head+r.length,insert:r},range:Ke.cursor(a.head+r.length)}:n={range:a});return n?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function CSe(t,e,r,n){let s=n.stringPrefixes||qO.stringPrefixes,a=null,l=t.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:e,from:c.to}],effects:du.of(c.to+e.length),range:Ke.range(c.anchor+e.length,c.head+e.length)};let h=c.head,f=LC(t.doc,h),p;if(f==e){if(uj(t,h))return{changes:{insert:e+e,from:h},effects:du.of(h+e.length),range:Ke.cursor(h+e.length)};if(JZ(t,h)){let x=r&&t.sliceDoc(h,h+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:h,to:h+x.length,insert:x},range:Ke.cursor(h+x.length)}}}else{if(r&&t.sliceDoc(h-2*e.length,h)==e+e&&(p=fj(t,h-2*e.length,s))>-1&&uj(t,p))return{changes:{insert:e+e+e+e,from:h},effects:du.of(h+e.length),range:Ke.cursor(h+e.length)};if(t.charCategorizer(h)(f)!=Dn.Word&&fj(t,h,s)>-1&&!ASe(t,h,e,s))return{changes:{insert:e+e,from:h},effects:du.of(h+e.length),range:Ke.cursor(h+e.length)}}return{range:a=c}});return a?null:t.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function uj(t,e){let r=In(t).resolveInner(e+1);return r.parent&&r.from==e}function ASe(t,e,r,n){let s=In(t).resolveInner(e,-1),a=n.reduce((l,c)=>Math.max(l,c.length),0);for(let l=0;l<5;l++){let c=t.sliceDoc(s.from,Math.min(s.to,s.from+r.length+a)),h=c.indexOf(r);if(!h||h>-1&&n.indexOf(c.slice(0,h))>-1){let p=s.firstChild;for(;p&&p.from==s.from&&p.to-p.from>r.length+h;){if(t.sliceDoc(p.to-r.length,p.to)==r)return!1;p=p.firstChild}return!0}let f=s.to==e&&s.parent;if(!f)break;s=f}return!1}function fj(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=Dn.Word)return e;for(let s of r){let a=e-s.length;if(t.sliceDoc(a,e)==s&&n(t.sliceDoc(a-1,a))!=Dn.Word)return a}return-1}function SSe(t={}){return[iSe,da,Ri.of(t),rSe,TSe,YZ]}const eG=[{key:"Ctrl-Space",run:C5},{mac:"Alt-`",run:C5},{mac:"Alt-i",run:C5},{key:"Escape",run:KAe},{key:"ArrowDown",run:Lw(!0)},{key:"ArrowUp",run:Lw(!1)},{key:"PageDown",run:Lw(!0,"page")},{key:"PageUp",run:Lw(!1,"page")},{key:"Enter",run:HAe}],TSe=Ch.highest(Dx.computeN([Ri],t=>t.facet(Ri).defaultKeymap?[eG]:[]));class gj{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class su{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let s=n.facet(WO).markerFilter;s&&(e=s(e,n));let a=e.slice().sort((k,w)=>k.from-w.from||k.to-w.to),l=new Yc,c=[],h=0,f=n.doc.iter(),p=0,O=n.doc.length;for(let k=0;;){let w=k==a.length?null:a[k];if(!w&&!c.length)break;let _,C;if(c.length)_=h,C=c.reduce((P,Q)=>Math.min(P,Q.to),w&&w.from>_?w.from:1e8);else{if(_=w.from,_>O)break;C=w.to,c.push(w),k++}for(;k<a.length;){let P=a[k];if(P.from==_&&(P.to>P.from||P.to==_))c.push(P),k++,C=Math.min(P.to,C);else{C=Math.min(P.from,C);break}}C=Math.min(C,O);let T=!1;if(c.some(P=>P.from==_&&(P.to==C||C==O))&&(T=_==C,!T&&C-_<10)){let P=_-(p+f.value.length);P>0&&(f.next(P),p=_);for(let Q=_;;){if(Q>=C){T=!0;break}if(!f.lineBreak&&p+f.value.length>Q)break;Q=p+f.value.length,p+=f.value.length,f.next()}}let E=LSe(c);if(T)l.add(_,_,Wt.widget({widget:new BSe(E),diagnostics:c.slice()}));else{let P=c.reduce((Q,B)=>B.markClass?Q+" "+B.markClass:Q,"");l.add(_,C,Wt.mark({class:"cm-lintRange cm-lintRange-"+E+P,diagnostics:c.slice(),inclusiveEnd:c.some(Q=>Q.to>C)}))}if(h=C,h==O)break;for(let P=0;P<c.length;P++)c[P].to<=h&&c.splice(P--,1)}let x=l.finish();return new su(x,r,qf(x))}}function qf(t,e=null,r=0){let n=null;return t.between(r,1e9,(s,a,{spec:l})=>{if(!(e&&l.diagnostics.indexOf(e)<0))if(!n)n=new gj(s,a,e||l.diagnostics[0]);else{if(l.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new gj(n.from,a,n.diagnostic)}}),n}function ESe(t,e){let r=e.pos,n=e.end||r,s=t.state.facet(WO).hideOn(t,r,n);if(s!=null)return s;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(l=>l.is(tG))||t.changes.touchesRange(a.from,Math.max(a.to,n)))}function PSe(t,e){return t.field($a,!1)?e:e.concat(ur.appendConfig.of(zSe))}const tG=ur.define(),qP=ur.define(),rG=ur.define(),$a=ji.define({create(){return new su(Wt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let r=t.diagnostics.map(e.changes),n=null,s=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);n=qf(r,t.selected.diagnostic,a)||qf(r,null,a)}!r.size&&s&&e.state.facet(WO).autoPanel&&(s=null),t=new su(r,s,n)}for(let r of e.effects)if(r.is(tG)){let n=e.state.facet(WO).autoPanel?r.value.length?YO.open:null:t.panel;t=su.init(r.value,n,e.state)}else r.is(qP)?t=new su(t.diagnostics,r.value?YO.open:null,t.selected):r.is(rG)&&(t=new su(t.diagnostics,t.panel,r.value));return t},provide:t=>[IO.from(t,e=>e.panel),vt.decorations.from(t,e=>e.diagnostics)]}),DSe=Wt.mark({class:"cm-lintRange cm-lintRange-active"});function QSe(t,e,r){let{diagnostics:n}=t.state.field($a),s,a=-1,l=-1;n.between(e-(r<0?1:0),e+(r>0?1:0),(h,f,{spec:p})=>{if(e>=h&&e<=f&&(h==f||(e>h||r>0)&&(e<f||r<0)))return s=p.diagnostics,a=h,l=f,!1});let c=t.state.facet(WO).tooltipFilter;return s&&c&&(s=c(s,t.state)),s?{pos:a,end:l,above:t.state.doc.lineAt(a).to<l,create(){return{dom:$Se(t,s)}}}:null}function $Se(t,e){return an("ul",{class:"cm-tooltip-lint"},e.map(r=>iG(t,r,!1)))}const MSe=t=>{let e=t.state.field($a,!1);(!e||!e.panel)&&t.dispatch({effects:PSe(t.state,[qP.of(!0)])});let r=BO(t,YO.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},pj=t=>{let e=t.state.field($a,!1);return!e||!e.panel?!1:(t.dispatch({effects:qP.of(!1)}),!0)},RSe=t=>{let e=t.state.field($a,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},NSe=[{key:"Mod-Shift-m",run:MSe,preventDefault:!0},{key:"F8",run:RSe}],WO=Pt.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Wl(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:mj,tooltipFilter:mj,needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r,hideOn:(e,r)=>e?r?(n,s,a)=>e(n,s,a)||r(n,s,a):e:r,autoPanel:(e,r)=>e||r})}}});function mj(t,e){return t?e?(r,n)=>e(t(r,n),n):t:e}function nG(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let s=r[n];if(/[a-zA-Z]/.test(s)&&!e.some(a=>a.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function iG(t,e,r){var n;let s=r?nG(e.actions):[];return an("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},an("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((a,l)=>{let c=!1,h=k=>{if(k.preventDefault(),c)return;c=!0;let w=qf(t.state.field($a).diagnostics,e);w&&a.apply(t,w.from,w.to)},{name:f}=a,p=s[l]?f.indexOf(s[l]):-1,O=p<0?f:[f.slice(0,p),an("u",f.slice(p,p+1)),f.slice(p+1)],x=a.markClass?" "+a.markClass:"";return an("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:h,onmousedown:h,"aria-label":` Action: ${f}${p<0?"":` (access key "${s[l]})"`}.`},O)}),e.source&&an("div",{class:"cm-diagnosticSource"},e.source))}class BSe extends Yl{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return an("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class Oj{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=iG(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class YO{constructor(e){this.view=e,this.items=[];let r=s=>{if(s.keyCode==27)pj(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],l=nG(a.actions);for(let c=0;c<l.length;c++)if(l[c].toUpperCase().charCodeAt(0)==s.keyCode){let h=qf(this.view.state.field($a).diagnostics,a);h&&a.actions[c].apply(e,h.from,h.to)}}else return;s.preventDefault()},n=s=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(s.target)&&this.moveSelection(a)};this.list=an("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=an("div",{class:"cm-panel-lint"},this.list,an("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>pj(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field($a).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field($a),n=0,s=!1,a=null,l=new Set;for(e.between(0,this.view.state.doc.length,(c,h,{spec:f})=>{for(let p of f.diagnostics){if(l.has(p))continue;l.add(p);let O=-1,x;for(let k=n;k<this.items.length;k++)if(this.items[k].diagnostic==p){O=k;break}O<0?(x=new Oj(this.view,p),this.items.splice(n,0,x),s=!0):(x=this.items[O],O>n&&(this.items.splice(n,O-n),s=!0)),r&&x.diagnostic==r.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),a=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new Oj(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:h})=>{let f=h.height/this.list.offsetHeight;c.top<h.top?this.list.scrollTop-=(h.top-c.top)/f:c.bottom>h.bottom&&(this.list.scrollTop+=(c.bottom-h.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field($a),n=qf(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:rG.of(n)})}static open(e){return new YO(e)}}function ISe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function zw(t){return ISe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const jSe=vt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:zw("#d11")},".cm-lintRange-warning":{backgroundImage:zw("orange")},".cm-lintRange-info":{backgroundImage:zw("#999")},".cm-lintRange-hint":{backgroundImage:zw("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function FSe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function LSe(t){let e="hint",r=1;for(let n of t){let s=FSe(n.severity);s>r&&(r=s,e=n.severity)}return e}const zSe=[$a,vt.decorations.compute([$a],t=>{let{selected:e,panel:r}=t.field($a);return!e||!r||e.from==e.to?Wt.none:Wt.set([DSe.range(e.from,e.to)])}),_2e(QSe,{hideOn:ESe}),jSe];var xj=function(e){e===void 0&&(e={});var{crosshairCursor:r=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(kSe)),e.defaultKeymap!==!1&&(n=n.concat(iAe)),e.searchKeymap!==!1&&(n=n.concat(PAe)),e.historyKeymap!==!1&&(n=n.concat(hCe)),e.foldKeymap!==!1&&(n=n.concat(A_e)),e.completionKeymap!==!1&&(n=n.concat(eG)),e.lintKeymap!==!1&&(n=n.concat(NSe));var s=[];return e.lineNumbers!==!1&&s.push(R2e()),e.highlightActiveLineGutter!==!1&&s.push(I2e()),e.highlightSpecialChars!==!1&&s.push(Jve()),e.history!==!1&&s.push(rCe()),e.foldGutter!==!1&&s.push(P_e()),e.drawSelection!==!1&&s.push(zve()),e.dropCursor!==!1&&s.push(Wve()),e.allowMultipleSelections!==!1&&s.push(Dr.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&s.push(O_e()),e.syntaxHighlighting!==!1&&s.push(GY(M_e,{fallback:!0})),e.bracketMatching!==!1&&s.push(L_e()),e.closeBrackets!==!1&&s.push(mSe()),e.autocompletion!==!1&&s.push(SSe()),e.rectangularSelection!==!1&&s.push(f2e()),r!==!1&&s.push(m2e()),e.highlightActiveLine!==!1&&s.push(s2e()),e.highlightSelectionMatches!==!1&&s.push(hAe()),e.tabSize&&typeof e.tabSize=="number"&&s.push($x.of(" ".repeat(e.tabSize))),s.concat([Dx.of(n.flat())]).filter(Boolean)};const XSe="#e5c07b",bj="#e06c75",VSe="#56b6c2",USe="#ffffff",Bv="#abb2bf",iE="#7d8799",qSe="#61afef",WSe="#98c379",kj="#d19a66",YSe="#c678dd",ZSe="#21252b",yj="#2c313a",wj="#282c34",S5="#353a42",GSe="#3E4451",vj="#528bff",HSe=vt.theme({"&":{color:Bv,backgroundColor:wj},".cm-content":{caretColor:vj},".cm-cursor, .cm-dropCursor":{borderLeftColor:vj},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:GSe},".cm-panels":{backgroundColor:ZSe,color:Bv},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:wj,color:iE,border:"none"},".cm-activeLineGutter":{backgroundColor:yj},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:S5},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:S5,borderBottomColor:S5},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:yj,color:Bv}}},{dark:!0}),KSe=Rx.define([{tag:le.keyword,color:YSe},{tag:[le.name,le.deleted,le.character,le.propertyName,le.macroName],color:bj},{tag:[le.function(le.variableName),le.labelName],color:qSe},{tag:[le.color,le.constant(le.name),le.standard(le.name)],color:kj},{tag:[le.definition(le.name),le.separator],color:Bv},{tag:[le.typeName,le.className,le.number,le.changed,le.annotation,le.modifier,le.self,le.namespace],color:XSe},{tag:[le.operator,le.operatorKeyword,le.url,le.escape,le.regexp,le.link,le.special(le.string)],color:VSe},{tag:[le.meta,le.comment],color:iE},{tag:le.strong,fontWeight:"bold"},{tag:le.emphasis,fontStyle:"italic"},{tag:le.strikethrough,textDecoration:"line-through"},{tag:le.link,color:iE,textDecoration:"underline"},{tag:le.heading,fontWeight:"bold",color:bj},{tag:[le.atom,le.bool,le.special(le.variableName)],color:kj},{tag:[le.processingInstruction,le.string,le.inserted],color:WSe},{tag:le.invalid,color:USe}]),sG=[HSe,GY(KSe)];var JSe=vt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),e4e=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:n=!0,readOnly:s=!1,theme:a="light",placeholder:l="",basicSetup:c=!0}=e,h=[];switch(r&&h.unshift(Dx.of([sAe])),c&&(typeof c=="boolean"?h.unshift(xj()):h.unshift(xj(c))),l&&h.unshift(c2e(l)),a){case"light":h.push(JSe);break;case"dark":h.push(sG);break;case"none":break;default:h.push(a);break}return n===!1&&h.push(vt.editable.of(!1)),s&&h.push(Dr.readOnly.of(!0)),[...h]},t4e=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class r4e{constructor(e,r){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=r,this.timeoutMS=r,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(r=>{try{r()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class _j{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var T5=null,n4e=()=>typeof window>"u"?new _j:(T5||(T5=new _j),T5),Cj=ql.define(),i4e=200,s4e=[];function a4e(t){var{value:e,selection:r,onChange:n,onStatistics:s,onCreateEditor:a,onUpdate:l,extensions:c=s4e,autoFocus:h,theme:f="light",height:p=null,minHeight:O=null,maxHeight:x=null,width:k=null,minWidth:w=null,maxWidth:_=null,placeholder:C="",editable:T=!0,readOnly:E=!1,indentWithTab:P=!0,basicSetup:Q=!0,root:B,initialState:R}=t,[M,I]=H.useState(),[j,z]=H.useState(),[X,W]=H.useState(),F=H.useState(()=>({current:null}))[0],V=H.useState(()=>({current:null}))[0],te=vt.theme({"&":{height:p,minHeight:O,maxHeight:x,width:k,minWidth:w,maxWidth:_},"& .cm-scroller":{height:"100% !important"}}),G=vt.updateListener.of(ie=>{if(ie.docChanged&&typeof n=="function"&&!ie.transactions.some(re=>re.annotation(Cj))){F.current?F.current.reset():(F.current=new r4e(()=>{if(V.current){var re=V.current;V.current=null,re()}F.current=null},i4e),n4e().add(F.current));var be=ie.state.doc,he=be.toString();n(he,ie)}s&&s(t4e(ie))}),J=e4e({theme:f,editable:T,readOnly:E,placeholder:C,indentWithTab:P,basicSetup:Q}),oe=[G,te,...J];return l&&typeof l=="function"&&oe.push(vt.updateListener.of(l)),oe=oe.concat(c),H.useLayoutEffect(()=>{if(M&&!X){var ie={doc:e,selection:r,extensions:oe},be=R?Dr.fromJSON(R.json,ie,R.fields):Dr.create(ie);if(W(be),!j){var he=new vt({state:be,parent:M,root:B});z(he),a&&a(he,be)}}return()=>{j&&(W(void 0),z(void 0))}},[M,X]),H.useEffect(()=>{t.container&&I(t.container)},[t.container]),H.useEffect(()=>()=>{j&&(j.destroy(),z(void 0)),F.current&&(F.current.cancel(),F.current=null)},[j]),H.useEffect(()=>{h&&j&&j.focus()},[h,j]),H.useEffect(()=>{j&&j.dispatch({effects:ur.reconfigure.of(oe)})},[f,c,p,O,x,k,w,_,C,T,E,P,Q,n,l]),H.useEffect(()=>{if(e!==void 0){var ie=j?j.state.doc.toString():"";if(j&&e!==ie){var be=F.current&&!F.current.isDone,he=()=>{j&&e!==j.state.doc.toString()&&j.dispatch({changes:{from:0,to:j.state.doc.toString().length,insert:e||""},annotations:[Cj.of(!0)]})};be?V.current=he:he()}}},[e,j]),{state:X,setState:W,view:j,setView:z,container:M,setContainer:I}}var o4e=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],aG=H.forwardRef((t,e)=>{var{className:r,value:n="",selection:s,extensions:a=[],onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:f,autoFocus:p,theme:O="light",height:x,minHeight:k,maxHeight:w,width:_,minWidth:C,maxWidth:T,basicSetup:E,placeholder:P,indentWithTab:Q,editable:B,readOnly:R,root:M,initialState:I}=t,j=hpe(t,o4e),z=H.useRef(null),{state:X,view:W,container:F,setContainer:V}=a4e({root:M,value:n,autoFocus:p,theme:O,height:x,minHeight:k,maxHeight:w,width:_,minWidth:C,maxWidth:T,basicSetup:E,placeholder:P,indentWithTab:Q,editable:B,readOnly:R,selection:s,onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:f,extensions:a,initialState:I});H.useImperativeHandle(e,()=>({editor:z.current,state:X,view:W}),[z,F,X,W]);var te=H.useCallback(J=>{z.current=J,V(J)},[V]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var G=typeof O=="string"?"cm-theme-"+O:"cm-theme";return b.jsx("div",upe({ref:te,className:""+G+(r?" "+r:"")},j))});aG.displayName="CodeMirror";var Aj={};let l4e=class sE{constructor(e,r,n,s,a,l,c,h,f,p=0,O){this.p=e,this.stack=r,this.state=n,this.reducePos=s,this.pos=a,this.score=l,this.buffer=c,this.bufferBase=h,this.curContext=f,this.lookAhead=p,this.parent=O}toString(){return`[${this.stack.filter((e,r)=>r%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,r,n=0){let s=e.parser.context;return new sE(e,[],r,n,n,0,[],0,s?new Sj(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,r){this.stack.push(this.state,r,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var r;let n=e>>19,s=e&65535,{parser:a}=this.p,l=this.reducePos<this.pos-25;l&&this.setLookAhead(this.pos);let c=a.dynamicPrecedence(s);if(c&&(this.score+=c),n==0){this.pushState(a.getGoto(this.state,s,!0),this.reducePos),s<a.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,l?8:4,!0),this.reduceContext(s,this.reducePos);return}let h=this.stack.length-(n-1)*3-(e&262144?6:0),f=h?this.stack[h-2]:this.p.ranges[0].from,p=this.reducePos-f;p>=2e3&&!(!((r=this.p.parser.nodeSet.types[s])===null||r===void 0)&&r.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=p));let O=h?this.stack[h-1]:0,x=this.bufferBase+this.buffer.length-O;if(s<a.minRepeatTerm||e&131072){let k=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,f,k,x+4,!0)}if(e&262144)this.state=this.stack[h];else{let k=this.stack[h-3];this.state=a.getGoto(k,s,!0)}for(;this.stack.length>h;)this.stack.pop();this.reduceContext(s,f)}storeNode(e,r,n,s=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let l=this,c=this.buffer.length;if(c==0&&l.parent&&(c=l.bufferBase-l.parent.bufferBase,l=l.parent),c>0&&l.buffer[c-4]==0&&l.buffer[c-1]>-1){if(r==n)return;if(l.buffer[c-2]>=r){l.buffer[c-2]=n;return}}}if(!a||this.pos==n)this.buffer.push(e,r,n,s);else{let l=this.buffer.length;if(l>0&&(this.buffer[l-4]!=0||this.buffer[l-1]<0)){let c=!1;for(let h=l;h>0&&this.buffer[h-2]>n;h-=4)if(this.buffer[h-1]>=0){c=!0;break}if(c)for(;l>0&&this.buffer[l-2]>n;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,s>4&&(s-=4)}this.buffer[l]=e,this.buffer[l+1]=r,this.buffer[l+2]=n,this.buffer[l+3]=s}}shift(e,r,n,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:l}=this.p;(s>this.pos||r<=l.maxNode)&&(this.pos=s,l.stateFlag(a,1)||(this.reducePos=s)),this.pushState(a,n),this.shiftContext(r,n),r<=l.maxNode&&this.buffer.push(r,n,s,4)}else this.pos=s,this.shiftContext(r,n),r<=this.p.parser.maxNode&&this.buffer.push(r,n,s,4)}apply(e,r,n,s){e&65536?this.reduce(e):this.shift(e,r,n,s)}useNode(e,r){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(r,s),this.buffer.push(n,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,r=e.buffer.length;for(;r>0&&e.buffer[r-2]>e.reducePos;)r-=4;let n=e.buffer.slice(r),s=e.bufferBase+r;for(;e&&s==e.bufferBase;)e=e.parent;return new sE(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,r){let n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,r,4),this.storeNode(0,this.pos,r,n?8:4),this.pos=this.reducePos=r,this.score-=190}canShift(e){for(let r=new c4e(this);;){let n=this.p.parser.stateSlot(r.state,4)||this.p.parser.hasAction(r.state,e);if(n==0)return!1;if((n&65536)==0)return!0;r.reduce(n)}}recoverByInsert(e){if(this.stack.length>=300)return[];let r=this.p.parser.nextStates(this.state);if(r.length>8||this.stack.length>=120){let s=[];for(let a=0,l;a<r.length;a+=2)(l=r[a+1])!=this.state&&this.p.parser.hasAction(l,e)&&s.push(r[a],l);if(this.stack.length<120)for(let a=0;s.length<8&&a<r.length;a+=2){let l=r[a+1];s.some((c,h)=>h&1&&c==l)||s.push(r[a],l)}r=s}let n=[];for(let s=0;s<r.length&&n.length<4;s+=2){let a=r[s+1];if(a==this.state)continue;let l=this.split();l.pushState(a,this.pos),l.storeNode(0,l.pos,l.pos,4,!0),l.shiftContext(r[s],this.pos),l.reducePos=this.pos,l.score-=200,n.push(l)}return n}forceReduce(){let{parser:e}=this.p,r=e.stateSlot(this.state,5);if((r&65536)==0)return!1;if(!e.validAction(this.state,r)){let n=r>>19,s=r&65535,a=this.stack.length-n*3;if(a<0||e.getGoto(this.stack[a],s,!1)<0){let l=this.findForcedReduction();if(l==null)return!1;r=l}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(r),!0}findForcedReduction(){let{parser:e}=this.p,r=[],n=(s,a)=>{if(!r.includes(s))return r.push(s),e.allActions(s,l=>{if(!(l&393216))if(l&65536){let c=(l>>19)-a;if(c>1){let h=l&65535,f=this.stack.length-c*3;if(f>=0&&e.getGoto(this.stack[f],h,!1)>=0)return c<<19|65536|h}}else{let c=n(l,a+1);if(c!=null)return c}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let r=0;r<this.stack.length;r+=3)if(this.stack[r]!=e.stack[r])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(r)))}reduceContext(e,r){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(r)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let r=new Sj(this.curContext.tracker,e);r.hash!=this.curContext.hash&&this.emitContext(),this.curContext=r}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class Sj{constructor(e,r){this.tracker=e,this.context=r,this.hash=e.strict?e.hash(r):0}}class c4e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let r=e&65535,n=e>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],r,!0);this.state=s}}class O_{constructor(e,r,n){this.stack=e,this.pos=r,this.index=n,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,r=e.bufferBase+e.buffer.length){return new O_(e,r,r-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new O_(this.stack,this.pos,this.index)}}function I1(t,e=Uint16Array){if(typeof t!="string")return t;let r=null;for(let n=0,s=0;n<t.length;){let a=0;for(;;){let l=t.charCodeAt(n++),c=!1;if(l==126){a=65535;break}l>=92&&l--,l>=34&&l--;let h=l-32;if(h>=46&&(h-=46,c=!0),a+=h,c)break;a*=46}r?r[s++]=a:r=new e(a)}return r}class Iv{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Tj=new Iv;class d4e{constructor(e,r){this.input=e,this.ranges=r,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Tj,this.rangeIndex=0,this.pos=this.chunkPos=r[0].from,this.range=r[0],this.end=r[r.length-1].to,this.readNext()}resolveOffset(e,r){let n=this.range,s=this.rangeIndex,a=this.pos+e;for(;a<n.from;){if(!s)return null;let l=this.ranges[--s];a-=n.from-l.to,n=l}for(;r<0?a>n.to:a>=n.to;){if(s==this.ranges.length-1)return null;let l=this.ranges[++s];a+=l.from-n.to,n=l}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let r of this.ranges)if(r.to>e)return Math.max(e,r.from);return this.end}peek(e){let r=this.chunkOff+e,n,s;if(r>=0&&r<this.chunk.length)n=this.pos+e,s=this.chunk.charCodeAt(r);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(n=a,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let l=this.rangeIndex,c=this.range;for(;c.to<=n;)c=this.ranges[++l];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>c.to&&(this.chunk2=this.chunk2.slice(0,c.to-n)),s=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),s}acceptToken(e,r=0){let n=r?this.resolveOffset(r,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}acceptTokenTo(e,r){this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:r}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=r,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),r=this.pos+e.length;this.chunk=r>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,r){if(r?(this.token=r,r.start=e,r.lookAhead=e+1,r.value=r.extended=-1):this.token=Tj,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,r){if(e>=this.chunkPos&&r<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,r-this.chunkPos);if(e>=this.chunk2Pos&&r<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,r-this.chunk2Pos);if(e>=this.range.from&&r<=this.range.to)return this.input.read(e,r);let n="";for(let s of this.ranges){if(s.from>=r)break;s.to>e&&(n+=this.input.read(Math.max(s.from,e),Math.min(s.to,r)))}return n}}class xf{constructor(e,r){this.data=e,this.id=r}token(e,r){let{parser:n}=r.p;oG(this.data,e,r,this.id,n.data,n.tokenPrecTable)}}xf.prototype.contextual=xf.prototype.fallback=xf.prototype.extend=!1;class x_{constructor(e,r,n){this.precTable=r,this.elseToken=n,this.data=typeof e=="string"?I1(e):e}token(e,r){let n=e.pos,s=0;for(;;){let a=e.next<0,l=e.resolveOffset(1,1);if(oG(this.data,e,r,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||s++,l==null)break;e.reset(l,e.token)}s&&(e.reset(n,e.token),e.acceptToken(this.elseToken,s))}}x_.prototype.contextual=xf.prototype.fallback=xf.prototype.extend=!1;class jn{constructor(e,r={}){this.token=e,this.contextual=!!r.contextual,this.fallback=!!r.fallback,this.extend=!!r.extend}}function oG(t,e,r,n,s,a){let l=0,c=1<<n,{dialect:h}=r.p.parser;e:for(;(c&t[l])!=0;){let f=t[l+1];for(let k=l+3;k<f;k+=2)if((t[k+1]&c)>0){let w=t[k];if(h.allows(w)&&(e.token.value==-1||e.token.value==w||h4e(w,e.token.value,s,a))){e.acceptToken(w);break}}let p=e.next,O=0,x=t[l+2];if(e.next<0&&x>O&&t[f+x*3-3]==65535){l=t[f+x*3-1];continue e}for(;O<x;){let k=O+x>>1,w=f+k+(k<<1),_=t[w],C=t[w+1]||65536;if(p<_)x=k;else if(p>=C)O=k+1;else{l=t[w+2],e.advance();continue e}}break}}function Ej(t,e,r){for(let n=e,s;(s=t[n])!=65535;n++)if(s==r)return n-e;return-1}function h4e(t,e,r,n){let s=Ej(r,n,e);return s<0||Ej(r,n,t)<s}const va=typeof process<"u"&&Aj&&/\bparse\b/.test(Aj.LOG);let E5=null;function Pj(t,e,r){let n=t.cursor(ln.IncludeAnonymous);for(n.moveTo(e);;)if(!(r<0?n.childBefore(e):n.childAfter(e)))for(;;){if((r<0?n.to<e:n.from>e)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,e-25)):Math.min(t.length,Math.max(n.from+1,e+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:t.length}}class u4e{constructor(e,r){this.fragments=e,this.nodeSet=r,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Pj(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Pj(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let r=this.trees.length-1;if(r<0)return this.nextFragment(),null;let n=this.trees[r],s=this.index[r];if(s==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=n.children[s],l=this.start[r]+n.positions[s];if(l>e)return this.nextStart=l,null;if(a instanceof Bn){if(l==e){if(l<this.safeFrom)return null;let c=l+a.length;if(c<=this.safeTo){let h=a.prop(Cr.lookAhead);if(!h||c+h<this.fragment.to)return a}}this.index[r]++,l+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(l),this.index.push(0))}else this.index[r]++,this.nextStart=l+a.length}}}class f4e{constructor(e,r){this.stream=r,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(n=>new Iv)}getActions(e){let r=0,n=null,{parser:s}=e.p,{tokenizers:a}=s,l=s.stateSlot(e.state,3),c=e.curContext?e.curContext.hash:0,h=0;for(let f=0;f<a.length;f++){if((1<<f&l)==0)continue;let p=a[f],O=this.tokens[f];if(!(n&&!p.fallback)&&((p.contextual||O.start!=e.pos||O.mask!=l||O.context!=c)&&(this.updateCachedToken(O,p,e),O.mask=l,O.context=c),O.lookAhead>O.end+25&&(h=Math.max(O.lookAhead,h)),O.value!=0)){let x=r;if(O.extended>-1&&(r=this.addActions(e,O.extended,O.end,r)),r=this.addActions(e,O.value,O.end,r),!p.extend&&(n=O,r>x))break}}for(;this.actions.length>r;)this.actions.pop();return h&&e.setLookAhead(h),!n&&e.pos==this.stream.end&&(n=new Iv,n.value=e.p.parser.eofTerm,n.start=n.end=e.pos,r=this.addActions(e,n.value,n.end,r)),this.mainToken=n,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let r=new Iv,{pos:n,p:s}=e;return r.start=n,r.end=Math.min(n+1,s.stream.end),r.value=n==s.stream.end?s.parser.eofTerm:0,r}updateCachedToken(e,r,n){let s=this.stream.clipPos(n.pos);if(r.token(this.stream.reset(s,e),n),e.value>-1){let{parser:a}=n.p;for(let l=0;l<a.specialized.length;l++)if(a.specialized[l]==e.value){let c=a.specializers[l](this.stream.read(e.start,e.end),n);if(c>=0&&n.p.parser.dialect.allows(c>>1)){(c&1)==0?e.value=c>>1:e.extended=c>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,r,n,s){for(let a=0;a<s;a+=3)if(this.actions[a]==e)return s;return this.actions[s++]=e,this.actions[s++]=r,this.actions[s++]=n,s}addActions(e,r,n,s){let{state:a}=e,{parser:l}=e.p,{data:c}=l;for(let h=0;h<2;h++)for(let f=l.stateSlot(a,h?2:1);;f+=3){if(c[f]==65535)if(c[f+1]==1)f=Pc(c,f+2);else{s==0&&c[f+1]==2&&(s=this.putAction(Pc(c,f+2),r,n,s));break}c[f]==r&&(s=this.putAction(Pc(c,f+1),r,n,s))}return s}}class g4e{constructor(e,r,n,s){this.parser=e,this.input=r,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new d4e(r,s),this.tokens=new f4e(e,this.stream),this.topTerm=e.top[1];let{from:a}=s[0];this.stacks=[l4e.start(this,e.top[0],a)],this.fragments=n.length&&this.stream.end-a>e.bufferLength*4?new u4e(n,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,r=this.minStackPos,n=this.stacks=[],s,a;if(this.bigReductionCount>300&&e.length==1){let[l]=e;for(;l.forceReduce()&&l.stack.length&&l.stack[l.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let l=0;l<e.length;l++){let c=e[l];for(;;){if(this.tokens.mainToken=null,c.pos>r)n.push(c);else{if(this.advanceStack(c,n,e))continue;{s||(s=[],a=[]),s.push(c);let h=this.tokens.getMainToken(c);a.push(h.value,h.end)}}break}}if(!n.length){let l=s&&m4e(s);if(l)return va&&console.log("Finish with "+this.stackID(l)),this.stackToTree(l);if(this.parser.strict)throw va&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&s){let l=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,a,n);if(l)return va&&console.log("Force-finish "+this.stackID(l)),this.stackToTree(l.forceAll())}if(this.recovering){let l=this.recovering==1?1:this.recovering*3;if(n.length>l)for(n.sort((c,h)=>h.score-c.score);n.length>l;)n.pop();n.some(c=>c.reducePos>r)&&this.recovering--}else if(n.length>1){e:for(let l=0;l<n.length-1;l++){let c=n[l];for(let h=l+1;h<n.length;h++){let f=n[h];if(c.sameState(f)||c.buffer.length>500&&f.buffer.length>500)if((c.score-f.score||c.buffer.length-f.buffer.length)>0)n.splice(h--,1);else{n.splice(l--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let l=1;l<n.length;l++)n[l].pos<this.minStackPos&&(this.minStackPos=n[l].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,r,n){let s=e.pos,{parser:a}=this,l=va?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,p=f?e.curContext.hash:0;for(let O=this.fragments.nodeAt(s);O;){let x=this.parser.nodeSet.types[O.type.id]==O.type?a.getGoto(e.state,O.type.id):-1;if(x>-1&&O.length&&(!f||(O.prop(Cr.contextHash)||0)==p))return e.useNode(O,x),va&&console.log(l+this.stackID(e)+` (via reuse of ${a.getName(O.type.id)})`),!0;if(!(O instanceof Bn)||O.children.length==0||O.positions[0]>0)break;let k=O.children[0];if(k instanceof Bn&&O.positions[0]==0)O=k;else break}}let c=a.stateSlot(e.state,4);if(c>0)return e.reduce(c),va&&console.log(l+this.stackID(e)+` (via always-reduce ${a.getName(c&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let h=this.tokens.getActions(e);for(let f=0;f<h.length;){let p=h[f++],O=h[f++],x=h[f++],k=f==h.length||!n,w=k?e:e.split(),_=this.tokens.mainToken;if(w.apply(p,O,_?_.start:w.pos,x),va&&console.log(l+this.stackID(w)+` (via ${(p&65536)==0?"shift":`reduce of ${a.getName(p&65535)}`} for ${a.getName(O)} @ ${s}${w==e?"":", split"})`),k)return!0;w.pos>s?r.push(w):n.push(w)}return!1}advanceFully(e,r){let n=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Dj(e,r),!0}}runRecovery(e,r,n){let s=null,a=!1;for(let l=0;l<e.length;l++){let c=e[l],h=r[l<<1],f=r[(l<<1)+1],p=va?this.stackID(c)+" -> ":"";if(c.deadEnd&&(a||(a=!0,c.restart(),va&&console.log(p+this.stackID(c)+" (restarted)"),this.advanceFully(c,n))))continue;let O=c.split(),x=p;for(let k=0;k<10&&O.forceReduce()&&(va&&console.log(x+this.stackID(O)+" (via force-reduce)"),!this.advanceFully(O,n));k++)va&&(x=this.stackID(O)+" -> ");for(let k of c.recoverByInsert(h))va&&console.log(p+this.stackID(k)+" (via recover-insert)"),this.advanceFully(k,n);this.stream.end>c.pos?(f==c.pos&&(f++,h=0),c.recoverByDelete(h,f),va&&console.log(p+this.stackID(c)+` (via recover-delete ${this.parser.getName(h)})`),Dj(c,n)):(!s||s.score<c.score)&&(s=c)}return s}stackToTree(e){return e.close(),Bn.build({buffer:O_.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let r=(E5||(E5=new WeakMap)).get(e);return r||E5.set(e,r=String.fromCodePoint(this.nextStackID++)),r+e}}function Dj(t,e){for(let r=0;r<e.length;r++){let n=e[r];if(n.pos==t.pos&&n.sameState(t)){e[r].score<t.score&&(e[r]=t);return}}e.push(t)}class p4e{constructor(e,r,n){this.source=e,this.flags=r,this.disabled=n}allows(e){return!this.disabled||this.disabled[e]==0}}const P5=t=>t;class zC{constructor(e){this.start=e.start,this.shift=e.shift||P5,this.reduce=e.reduce||P5,this.reuse=e.reuse||P5,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ll extends RY{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let r=e.nodeNames.split(" ");this.minRepeatTerm=r.length;for(let c=0;c<e.repeatNodeCount;c++)r.push("");let n=Object.keys(e.topRules).map(c=>e.topRules[c][1]),s=[];for(let c=0;c<r.length;c++)s.push([]);function a(c,h,f){s[c].push([h,h.deserialize(String(f))])}if(e.nodeProps)for(let c of e.nodeProps){let h=c[0];typeof h=="string"&&(h=Cr[h]);for(let f=1;f<c.length;){let p=c[f++];if(p>=0)a(p,h,c[f++]);else{let O=c[f+-p];for(let x=-p;x>0;x--)a(c[f++],h,O);f++}}}this.nodeSet=new wP(r.map((c,h)=>Ws.define({name:h>=this.minRepeatTerm?void 0:c,id:h,props:s[h],top:n.indexOf(h)>-1,error:h==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(h)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DY;let l=I1(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let c=0;c<this.specializerSpecs.length;c++)this.specialized[c]=this.specializerSpecs[c].term;this.specializers=this.specializerSpecs.map(Qj),this.states=I1(e.states,Uint32Array),this.data=I1(e.stateData),this.goto=I1(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(c=>typeof c=="number"?new xf(l,c):c),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,r,n){let s=new g4e(this,e,r,n);for(let a of this.wrappers)s=a(s,e,r,n);return s}getGoto(e,r,n=!1){let s=this.goto;if(r>=s[0])return-1;for(let a=s[r+1];;){let l=s[a++],c=l&1,h=s[a++];if(c&&n)return h;for(let f=a+(l>>1);a<f;a++)if(s[a]==e)return h;if(c)return-1}}hasAction(e,r){let n=this.data;for(let s=0;s<2;s++)for(let a=this.stateSlot(e,s?2:1),l;;a+=3){if((l=n[a])==65535)if(n[a+1]==1)l=n[a=Pc(n,a+2)];else{if(n[a+1]==2)return Pc(n,a+2);break}if(l==r||l==0)return Pc(n,a+1)}return 0}stateSlot(e,r){return this.states[e*6+r]}stateFlag(e,r){return(this.stateSlot(e,0)&r)>0}validAction(e,r){return!!this.allActions(e,n=>n==r?!0:null)}allActions(e,r){let n=this.stateSlot(e,4),s=n?r(n):void 0;for(let a=this.stateSlot(e,1);s==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=Pc(this.data,a+2);else break;s=r(Pc(this.data,a+1))}return s}nextStates(e){let r=[];for(let n=this.stateSlot(e,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Pc(this.data,n+2);else break;if((this.data[n+2]&1)==0){let s=this.data[n+1];r.some((a,l)=>l&1&&a==s)||r.push(this.data[n],s)}}return r}configure(e){let r=Object.assign(Object.create(ll.prototype),this);if(e.props&&(r.nodeSet=this.nodeSet.extend(...e.props)),e.top){let n=this.topRules[e.top];if(!n)throw new RangeError(`Invalid top rule name ${e.top}`);r.top=n}return e.tokenizers&&(r.tokenizers=this.tokenizers.map(n=>{let s=e.tokenizers.find(a=>a.from==n);return s?s.to:n})),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((n,s)=>{let a=e.specializers.find(c=>c.from==n.external);if(!a)return n;let l=Object.assign(Object.assign({},n),{external:a.to});return r.specializers[s]=Qj(l),l})),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),e.bufferLength!=null&&(r.bufferLength=e.bufferLength),r}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let r=this.dynamicPrecedences;return r==null?0:r[e]||0}parseDialect(e){let r=Object.keys(this.dialects),n=r.map(()=>!1);if(e)for(let a of e.split(" ")){let l=r.indexOf(a);l>=0&&(n[l]=!0)}let s=null;for(let a=0;a<r.length;a++)if(!n[a])for(let l=this.dialects[r[a]],c;(c=this.data[l++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[c]=1;return new p4e(e,n,s)}static deserialize(e){return new ll(e)}}function Pc(t,e){return t[e]|t[e+1]<<16}function m4e(t){let e=null;for(let r of t){let n=r.p.stoppedAt;(r.pos==r.p.stream.end||n!=null&&r.pos>n)&&r.p.parser.stateFlag(r.state,2)&&(!e||e.score<r.score)&&(e=r)}return e}function Qj(t){if(t.external){let e=t.extend?1:0;return(r,n)=>t.external(r,n)<<1|e}return t.get}const O4e=316,x4e=317,$j=1,b4e=2,k4e=3,y4e=4,w4e=318,v4e=320,_4e=321,C4e=5,A4e=6,S4e=0,aE=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],lG=125,T4e=59,oE=47,E4e=42,P4e=43,D4e=45,Q4e=60,$4e=44,M4e=63,R4e=46,N4e=91,B4e=new zC({start:!1,shift(t,e){return e==C4e||e==A4e||e==v4e?t:e==_4e},strict:!1}),I4e=new jn((t,e)=>{let{next:r}=t;(r==lG||r==-1||e.context)&&t.acceptToken(w4e)},{contextual:!0,fallback:!0}),j4e=new jn((t,e)=>{let{next:r}=t,n;aE.indexOf(r)>-1||r==oE&&((n=t.peek(1))==oE||n==E4e)||r!=lG&&r!=T4e&&r!=-1&&!e.context&&t.acceptToken(O4e)},{contextual:!0}),F4e=new jn((t,e)=>{t.next==N4e&&!e.context&&t.acceptToken(x4e)},{contextual:!0}),L4e=new jn((t,e)=>{let{next:r}=t;if(r==P4e||r==D4e){if(t.advance(),r==t.next){t.advance();let n=!e.context&&e.canShift($j);t.acceptToken(n?$j:b4e)}}else r==M4e&&t.peek(1)==R4e&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(k4e))},{contextual:!0});function D5(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const z4e=new jn((t,e)=>{if(t.next!=Q4e||!e.dialectEnabled(S4e)||(t.advance(),t.next==oE))return;let r=0;for(;aE.indexOf(t.next)>-1;)t.advance(),r++;if(D5(t.next,!0)){for(t.advance(),r++;D5(t.next,!1);)t.advance(),r++;for(;aE.indexOf(t.next)>-1;)t.advance(),r++;if(t.next==$4e)return;for(let n=0;;n++){if(n==7){if(!D5(t.next,!0))return;break}if(t.next!="extends".charCodeAt(n))break;t.advance(),r++}}t.acceptToken(y4e,-r)}),X4e=sd({"get set async static":le.modifier,"for while do if else switch try catch finally return throw break continue default case defer":le.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":le.operatorKeyword,"let var const using function class extends":le.definitionKeyword,"import export from":le.moduleKeyword,"with debugger new":le.keyword,TemplateString:le.special(le.string),super:le.atom,BooleanLiteral:le.bool,this:le.self,null:le.null,Star:le.modifier,VariableName:le.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":le.function(le.variableName),VariableDefinition:le.definition(le.variableName),Label:le.labelName,PropertyName:le.propertyName,PrivatePropertyName:le.special(le.propertyName),"CallExpression/MemberExpression/PropertyName":le.function(le.propertyName),"FunctionDeclaration/VariableDefinition":le.function(le.definition(le.variableName)),"ClassDeclaration/VariableDefinition":le.definition(le.className),"NewExpression/VariableName":le.className,PropertyDefinition:le.definition(le.propertyName),PrivatePropertyDefinition:le.definition(le.special(le.propertyName)),UpdateOp:le.updateOperator,"LineComment Hashbang":le.lineComment,BlockComment:le.blockComment,Number:le.number,String:le.string,Escape:le.escape,ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,RegExp:le.regexp,Equals:le.definitionOperator,Arrow:le.function(le.punctuation),": Spread":le.punctuation,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,"InterpolationStart InterpolationEnd":le.special(le.brace),".":le.derefOperator,", ;":le.separator,"@":le.meta,TypeName:le.typeName,TypeDefinition:le.definition(le.typeName),"type enum interface implements namespace module declare":le.definitionKeyword,"abstract global Privacy readonly override":le.modifier,"is keyof unique infer asserts":le.operatorKeyword,JSXAttributeValue:le.attributeValue,JSXText:le.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":le.angleBracket,"JSXIdentifier JSXNameSpacedName":le.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":le.attributeName,"JSXBuiltin/JSXIdentifier":le.standard(le.tagName)}),V4e={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},U4e={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},q4e={__proto__:null,"<":193},W4e=ll.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:B4e,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[X4e],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[j4e,F4e,L4e,z4e,2,3,4,5,6,7,8,9,10,11,12,13,14,I4e,new x_("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new x_("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>V4e[t]||-1},{term:343,get:t=>U4e[t]||-1},{term:95,get:t=>q4e[t]||-1}],tokenPrec:15201}),cG=[Rn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Rn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Rn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Rn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Rn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Rn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Rn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Rn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Rn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Rn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Rn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Y4e=cG.concat([Rn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Rn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Rn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Mj=new AP,dG=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function m1(t){return(e,r)=>{let n=e.node.getChild("VariableDefinition");return n&&r(n,t),!0}}const Z4e=["FunctionDeclaration"],G4e={FunctionDeclaration:m1("function"),ClassDeclaration:m1("class"),ClassExpression:()=>!0,EnumDeclaration:m1("constant"),TypeAliasDeclaration:m1("type"),NamespaceDeclaration:m1("namespace"),VariableDefinition(t,e){t.matchContext(Z4e)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function hG(t,e){let r=Mj.get(e);if(r)return r;let n=[],s=!0;function a(l,c){let h=t.sliceString(l.from,l.to);n.push({label:h,type:c})}return e.cursor(ln.IncludeAnonymous).iterate(l=>{if(s)s=!1;else if(l.name){let c=G4e[l.name];if(c&&c(l,a)||dG.has(l.name))return!1}else if(l.to-l.from>8192){for(let c of hG(t,l.node))n.push(c);return!1}}),Mj.set(e,n),n}const Rj=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,uG=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function H4e(t){let e=In(t.state).resolveInner(t.pos,-1);if(uG.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Rj.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let n=[];for(let s=e;s;s=s.parent)dG.has(s.name)&&(n=n.concat(hG(t.state.doc,s)));return{options:n,from:r?e.from:t.pos,validFor:Rj}}const Fl=ol.define({name:"javascript",parser:W4e.configure({props:[ad.add({IfStatement:lo({except:/^\s*({|else\b)/}),TryStatement:lo({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:PP,SwitchBody:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:n?1:2)*t.unit},Block:Kd({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":lo({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),od.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Xu,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),fG={test:t=>/^JSX/.test(t.name),facet:IY({commentTokens:{block:{open:"{/*",close:"*/}"}}})},gG=Fl.configure({dialect:"ts"},"typescript"),pG=Fl.configure({dialect:"jsx",props:[SP.add(t=>t.isTop?[fG]:void 0)]}),mG=Fl.configure({dialect:"jsx ts",props:[SP.add(t=>t.isTop?[fG]:void 0)]},"typescript");let OG=t=>({label:t,type:"keyword"});const xG="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(OG),K4e=xG.concat(["declare","implements","private","protected","public"].map(OG));function lE(t={}){let e=t.jsx?t.typescript?mG:pG:t.typescript?gG:Fl,r=t.typescript?Y4e.concat(K4e):cG.concat(xG);return new Ah(e,[Fl.data.of({autocomplete:VZ(uG,IP(r))}),Fl.data.of({autocomplete:H4e}),t.jsx?t5e:[]])}function J4e(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Nj(t,e,r=t.length){for(let n=e==null?void 0:e.firstChild;n;n=n.nextSibling)if(n.name=="JSXIdentifier"||n.name=="JSXBuiltin"||n.name=="JSXNamespacedName"||n.name=="JSXMemberExpression")return t.sliceString(n.from,Math.min(n.to,r));return""}const e5e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),t5e=vt.inputHandler.of((t,e,r,n,s)=>{if((e5e?t.composing:t.compositionStarted)||t.state.readOnly||e!=r||n!=">"&&n!="/"||!Fl.isActiveAt(t.state,e,-1))return!1;let a=s(),{state:l}=a,c=l.changeByRange(h=>{var f;let{head:p}=h,O=In(l).resolveInner(p-1,-1),x;if(O.name=="JSXStartTag"&&(O=O.parent),!(l.doc.sliceString(p-1,p)!=n||O.name=="JSXAttributeValue"&&O.to>p)){if(n==">"&&O.name=="JSXFragmentTag")return{range:h,changes:{from:p,insert:"</>"}};if(n=="/"&&O.name=="JSXStartCloseTag"){let k=O.parent,w=k.parent;if(w&&k.from==p-2&&((x=Nj(l.doc,w.firstChild,p))||((f=w.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let _=`${x}>`;return{range:Ke.cursor(p+_.length,-1),changes:{from:p,insert:_}}}}else if(n==">"){let k=J4e(O);if(k&&k.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(p,p+2))&&(x=Nj(l.doc,k,p)))return{range:h,changes:{from:p,insert:`</${x}>`}}}}return{range:h}});return c.changes.empty?!1:(t.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),r5e=1,bG=194,kG=195,n5e=196,Bj=197,i5e=198,s5e=199,a5e=200,o5e=2,yG=3,Ij=201,l5e=24,c5e=25,d5e=49,h5e=50,u5e=55,f5e=56,g5e=57,p5e=59,m5e=60,O5e=61,x5e=62,b5e=63,k5e=65,y5e=238,w5e=71,v5e=241,_5e=242,C5e=243,A5e=244,S5e=245,T5e=246,E5e=247,P5e=248,wG=72,D5e=249,Q5e=250,$5e=251,M5e=252,R5e=253,N5e=254,B5e=255,I5e=256,j5e=73,F5e=77,L5e=263,z5e=112,X5e=130,V5e=151,U5e=152,q5e=155,Du=10,ZO=13,WP=32,XC=9,YP=35,W5e=40,Y5e=46,cE=123,jj=125,vG=39,_G=34,Fj=92,Z5e=111,G5e=120,H5e=78,K5e=117,J5e=85,e3e=new Set([c5e,d5e,h5e,L5e,k5e,X5e,f5e,g5e,y5e,x5e,b5e,wG,j5e,F5e,m5e,O5e,V5e,U5e,q5e,z5e]);function Q5(t){return t==Du||t==ZO}function $5(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const t3e=new jn((t,e)=>{let r;if(t.next<0)t.acceptToken(s5e);else if(e.context.flags&jv)Q5(t.next)&&t.acceptToken(i5e,1);else if(((r=t.peek(-1))<0||Q5(r))&&e.canShift(Bj)){let n=0;for(;t.next==WP||t.next==XC;)t.advance(),n++;(t.next==Du||t.next==ZO||t.next==YP)&&t.acceptToken(Bj,-n)}else Q5(t.next)&&t.acceptToken(n5e,1)},{contextual:!0}),r3e=new jn((t,e)=>{let r=e.context;if(r.flags)return;let n=t.peek(-1);if(n==Du||n==ZO){let s=0,a=0;for(;;){if(t.next==WP)s++;else if(t.next==XC)s+=8-s%8;else break;t.advance(),a++}s!=r.indent&&t.next!=Du&&t.next!=ZO&&t.next!=YP&&(s<r.indent?t.acceptToken(kG,-a):t.acceptToken(bG))}}),jv=1,CG=2,kc=4,yc=8,wc=16,vc=32;function Fv(t,e,r){this.parent=t,this.indent=e,this.flags=r,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+r+(r<<6)}const n3e=new Fv(null,0,0);function i3e(t){let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r)==XC?8-e%8:1;return e}const Lj=new Map([[v5e,0],[_5e,kc],[C5e,yc],[A5e,yc|kc],[S5e,wc],[T5e,wc|kc],[E5e,wc|yc],[P5e,wc|yc|kc],[D5e,vc],[Q5e,vc|kc],[$5e,vc|yc],[M5e,vc|yc|kc],[R5e,vc|wc],[N5e,vc|wc|kc],[B5e,vc|wc|yc],[I5e,vc|wc|yc|kc]].map(([t,e])=>[t,e|CG])),s3e=new zC({start:n3e,reduce(t,e,r,n){return t.flags&jv&&e3e.has(e)||(e==w5e||e==wG)&&t.flags&CG?t.parent:t},shift(t,e,r,n){return e==bG?new Fv(t,i3e(n.read(n.pos,r.pos)),0):e==kG?t.parent:e==l5e||e==u5e||e==p5e||e==yG?new Fv(t,0,jv):Lj.has(e)?new Fv(t,0,Lj.get(e)|t.flags&jv):t},hash(t){return t.hash}}),a3e=new jn(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let r=t.peek(e);if(!(r==WP||r==XC)){r!=W5e&&r!=Y5e&&r!=Du&&r!=ZO&&r!=YP&&t.acceptToken(r5e);return}}}),o3e=new jn((t,e)=>{let{flags:r}=e.context,n=r&kc?_G:vG,s=(r&yc)>0,a=!(r&wc),l=(r&vc)>0,c=t.pos;for(;!(t.next<0);)if(l&&t.next==cE)if(t.peek(1)==cE)t.advance(2);else{if(t.pos==c){t.acceptToken(yG,1);return}break}else if(a&&t.next==Fj){if(t.pos==c){t.advance();let h=t.next;h>=0&&(t.advance(),l3e(t,h)),t.acceptToken(o5e);return}break}else if(t.next==Fj&&!a&&t.peek(1)>-1)t.advance(2);else if(t.next==n&&(!s||t.peek(1)==n&&t.peek(2)==n)){if(t.pos==c){t.acceptToken(Ij,s?3:1);return}break}else if(t.next==Du){if(s)t.advance();else if(t.pos==c){t.acceptToken(Ij);return}break}else t.advance();t.pos>c&&t.acceptToken(a5e)});function l3e(t,e){if(e==Z5e)for(let r=0;r<2&&t.next>=48&&t.next<=55;r++)t.advance();else if(e==G5e)for(let r=0;r<2&&$5(t.next);r++)t.advance();else if(e==K5e)for(let r=0;r<4&&$5(t.next);r++)t.advance();else if(e==J5e)for(let r=0;r<8&&$5(t.next);r++)t.advance();else if(e==H5e&&t.next==cE){for(t.advance();t.next>=0&&t.next!=jj&&t.next!=vG&&t.next!=_G&&t.next!=Du;)t.advance();t.next==jj&&t.advance()}}const c3e=sd({'async "*" "**" FormatConversion FormatSpec':le.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":le.controlKeyword,"in not and or is del":le.operatorKeyword,"from def class global nonlocal lambda":le.definitionKeyword,import:le.moduleKeyword,"with as print":le.keyword,Boolean:le.bool,None:le.null,VariableName:le.variableName,"CallExpression/VariableName":le.function(le.variableName),"FunctionDefinition/VariableName":le.function(le.definition(le.variableName)),"ClassDefinition/VariableName":le.definition(le.className),PropertyName:le.propertyName,"CallExpression/MemberExpression/PropertyName":le.function(le.propertyName),Comment:le.lineComment,Number:le.number,String:le.string,FormatString:le.special(le.string),Escape:le.escape,UpdateOp:le.updateOperator,"ArithOp!":le.arithmeticOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,AssignOp:le.definitionOperator,Ellipsis:le.punctuation,At:le.meta,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,".":le.derefOperator,", ;":le.separator}),d3e={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},h3e=ll.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:s3e,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[c3e],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[a3e,r3e,t3e,o3e,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>d3e[t]||-1}],tokenPrec:7668}),zj=new AP,AG=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Xw(t){return(e,r,n)=>{if(n)return!1;let s=e.node.getChild("VariableName");return s&&r(s,t),!0}}const u3e={FunctionDefinition:Xw("function"),ClassDefinition:Xw("class"),ForStatement(t,e,r){if(r){for(let n=t.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name=="in")break}},ImportStatement(t,e){var r,n;let{node:s}=t,a=((r=s.firstChild)===null||r===void 0?void 0:r.name)=="from";for(let l=s.getChild("import");l;l=l.nextSibling)l.name=="VariableName"&&((n=l.nextSibling)===null||n===void 0?void 0:n.name)!="as"&&e(l,a?"variable":"namespace")},AssignStatement(t,e){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name==":"||r.name=="AssignOp")break},ParamList(t,e){for(let r=null,n=t.node.firstChild;n;n=n.nextSibling)n.name=="VariableName"&&(!r||!/\*|AssignOp/.test(r.name))&&e(n,"variable"),r=n},CapturePattern:Xw("variable"),AsPattern:Xw("variable"),__proto__:null};function SG(t,e){let r=zj.get(e);if(r)return r;let n=[],s=!0;function a(l,c){let h=t.sliceString(l.from,l.to);n.push({label:h,type:c})}return e.cursor(ln.IncludeAnonymous).iterate(l=>{if(l.name){let c=u3e[l.name];if(c&&c(l,a,s)||!s&&AG.has(l.name))return!1;s=!1}else if(l.to-l.from>8192){for(let c of SG(t,l.node))n.push(c);return!1}}),zj.set(e,n),n}const Xj=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,TG=["String","FormatString","Comment","PropertyName"];function f3e(t){let e=In(t.state).resolveInner(t.pos,-1);if(TG.indexOf(e.name)>-1)return null;let r=e.name=="VariableName"||e.to-e.from<20&&Xj.test(t.state.sliceDoc(e.from,e.to));if(!r&&!t.explicit)return null;let n=[];for(let s=e;s;s=s.parent)AG.has(s.name)&&(n=n.concat(SG(t.state.doc,s)));return{options:n,from:r?e.from:t.pos,validFor:Xj}}const g3e=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),p3e=[Rn("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Rn("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Rn("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Rn("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Rn(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Rn("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Rn("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Rn("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Rn("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],m3e=VZ(TG,IP(g3e.concat(p3e)));function M5(t){let{node:e,pos:r}=t,n=t.lineIndent(r,-1),s=null;for(;;){let a=e.childBefore(r);if(a)if(a.name=="Comment")r=a.from;else if(a.name=="Body"||a.name=="MatchBody")t.baseIndentFor(a)+t.unit<=n&&(s=a),e=a;else if(a.name=="MatchClause")e=a;else if(a.type.is("Statement"))e=a;else break;else break}return s}function R5(t,e){let r=t.baseIndentFor(e),n=t.lineAt(t.pos,-1),s=n.from+n.text.length;return/^\s*($|#)/.test(n.text)&&t.node.to<s+100&&!/\S/.test(t.state.sliceDoc(s,t.node.to))&&t.lineIndent(t.pos,-1)<=r||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>r?null:r+t.unit}const N5=ol.define({name:"python",parser:h3e.configure({props:[ad.add({Body:t=>{var e;let r=/^\s*(#|$)/.test(t.textAfter)&&M5(t)||t.node;return(e=R5(t,r))!==null&&e!==void 0?e:t.continue()},MatchBody:t=>{var e;let r=M5(t);return(e=R5(t,r||t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except[ :]|finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),MatchStatement:t=>/^\s*case /.test(t.textAfter)?t.baseIndent+t.unit:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":Kd({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":Kd({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":Kd({closing:"]"}),MemberExpression:t=>t.baseIndent+t.unit,"String FormatString":()=>null,Script:t=>{var e;let r=M5(t);return(e=r&&R5(t,r))!==null&&e!==void 0?e:t.continue()}}),od.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Xu,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)}),"String FormatString":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function O3e(){return new Ah(N5,[N5.data.of({autocomplete:f3e}),N5.data.of({autocomplete:m3e})])}const x3e=sd({null:le.null,instanceof:le.operatorKeyword,this:le.self,"new super assert open to with void":le.keyword,"class interface extends implements enum var":le.definitionKeyword,"module package import":le.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":le.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":le.modifier,IntegerLiteral:le.integer,FloatingPointLiteral:le.float,"StringLiteral TextBlock":le.string,CharacterLiteral:le.character,LineComment:le.lineComment,BlockComment:le.blockComment,BooleanLiteral:le.bool,PrimitiveType:le.standard(le.typeName),TypeName:le.typeName,Identifier:le.variableName,"MethodName/Identifier":le.function(le.variableName),Definition:le.definition(le.variableName),ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,AssignOp:le.definitionOperator,UpdateOp:le.updateOperator,Asterisk:le.punctuation,Label:le.labelName,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,".":le.derefOperator,", ;":le.separator}),b3e={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},k3e=ll.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2i~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g%y&P&Xc&X~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:" LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[x3e],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#'f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5zvw7[wx8rxyAZyzAwz{Be{|CZ|}Dq}!OE_!O!PFx!P!Q! r!Q!R!,h!R![!0`![!]!>p!]!^!@Q!^!_!@n!_!`!BX!`!a!B{!a!b!Di!b!c!EX!c!}!LT!}#O!Mj#O#P%Q#P#Q!NW#Q#R!Nt#R#S4e#S#T%Q#T#o4e#o#p# h#p#q#!U#q#r##n#r#s#$[#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4eS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4lb&YS&PZOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o$g%Q$g;'S4e;'S;=`5t<%lO4e_5wP;=`<%l4eU6RX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU6uV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7cZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw8Uw!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU8]V#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8wZ&YSOY9jYZ%lZr9jrs:xsw9jwx%Qx#O9j#O#P<S#P;'S9j;'S;=`AT<%lO9jT9oX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:[x;'S%Q;'S;=`&s<%lO%QT:cVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:{XOY&ZYZ%lZr&Zrs&ysw&Zwx;hx;'S&Z;'S;=`'`<%lO&ZT;mVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<XZ&YSOY<zYZ%lZr<zrs=rsw<zwx9jx#O<z#O#P9j#P;'S<z;'S;=`?^<%lO<zT=PZ&YSOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT=uZOY>hYZ%lZr>hrs?dsw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hT>kZOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT?aP;=`<%l<zT?gZOY>hYZ%lZr>hrs@Ysw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hP@]VOY@YZw@Ywx@rx#O@Y#P;'S@Y;'S;=`@w<%lO@YP@wObPP@zP;=`<%l@YTAQP;=`<%l>hTAWP;=`<%l9j_AbVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBOVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBnX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVCbZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|DT|!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVD[V#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDxVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVEf[#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!ODT!O!_%Q!_!`6n!`!aF[!a;'S%Q;'S;=`&s<%lO%QVFcV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_GPZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGr!P!Q%Q!Q![IQ![;'S%Q;'S;=`&s<%lO%QVGwX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHd!P;'S%Q;'S;=`&s<%lO%QVHkV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIXc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#R%Q#R#SNz#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTJkV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTKV]&YSOY%QYZ%lZr%Qrs%qs{%Q{|LO|}%Q}!OLO!O!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLTX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLwc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![!f%Q!f!gJd!g!h%Q!h!iJd!i#R%Q#R#SNS#S#W%Q#W#XJd#X#Y%Q#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTNXZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![#R%Q#R#SNS#S;'S%Q;'S;=`&s<%lO%QT! PZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![#R%Q#R#SNz#S;'S%Q;'S;=`&s<%lO%Q_! y]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!r{!P%Q!P!Q!)e!Q!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%Q_!!wX&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!#iT&YSOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!#{TOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!$_VOz!#xz{!$[{!P!#x!P!Q!$t!Q;'S!#x;'S;=`!$y<%lO!#xZ!$yOQZZ!$|P;=`<%l!#x_!%SXOY!%oYZ!#dZr!%ors!'ysz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!%rXOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!&dZ&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!'^V&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'vP;=`<%l!!r_!'|XOY!%oYZ!#dZr!%ors!#xsz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!(lZOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!)bP;=`<%l!%o_!)lV&YSPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!*WVPZOY!*mYZ%lZr!*mrs!+_s;'S!*m;'S;=`!,b<%lO!*m_!*rVPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!+[P;=`<%l!)e_!+dVPZOY!*mYZ%lZr!*mrs!+ys;'S!*m;'S;=`!,b<%lO!*mZ!,OSPZOY!+yZ;'S!+y;'S;=`!,[<%lO!+yZ!,_P;=`<%l!+y_!,eP;=`<%l!*mT!,ou&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!d%Q!d!e!3j!e!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o!q%Q!q!r!5h!r!z%Q!z!{!7`!{#R%Q#R#S!2r#S#U%Q#U#V!3j#V#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a#c%Q#c#d!5h#d#l%Q#l#m!7`#m;'S%Q;'S;=`&s<%lO%QT!/Za&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QT!0gi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o#R%Q#R#S!2r#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!2]V&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2wZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0`![#R%Q#R#S!2r#S;'S%Q;'S;=`&s<%lO%QT!3oY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S;'S%Q;'S;=`&s<%lO%QT!4f`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S!n%Q!n!o!2U!o#R%Q#R#S!3j#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!5mX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y;'S%Q;'S;=`&s<%lO%QT!6a_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y!n%Q!n!o!2U!o#R%Q#R#S!5h#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!7e_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8d!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QT!8i]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i#T%Q#T#Z!9b#Z;'S%Q;'S;=`&s<%lO%QT!9gc&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#R%Q#R#S!8d#S#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!:yi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<h!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i!n%Q!n!o!2U!o!r%Q!r!sKQ!s#R%Q#R#S!=r#S#T%Q#T#Z!:r#Z#`%Q#`#a!2U#a#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!<ma&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!=w]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QV!>wX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?d!];'S%Q;'S;=`&s<%lO%QV!?kV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@XV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@uY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!Ae!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AlX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV!B`X!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!CSY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Cr!a;'S%Q;'S;=`&s<%lO%QU!CyY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`!a!Ae!a;'S%Q;'S;=`&s<%lO%Q_!DrV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!E`X%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!E{#^;'S%Q;'S;=`&s<%lO%QV!FQX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fm#c;'S%Q;'S;=`&s<%lO%QV!FrX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!G_#i;'S%Q;'S;=`&s<%lO%QV!GdX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!HP#Y;'S%Q;'S;=`&s<%lO%QV!HUX&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hq#g;'S%Q;'S;=`&s<%lO%QV!HvX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!Ic#Z;'S%Q;'S;=`&s<%lO%QV!IhX&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!JT#U;'S%Q;'S;=`&s<%lO%QV!JYX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Ju#W;'S%Q;'S;=`&s<%lO%QV!JzX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Kg#Y;'S%Q;'S;=`&s<%lO%QV!KnV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!L[b&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!LTu!Q%Q!Q![!LT![!c%Q!c!}!LT!}#R%Q#R#S!LT#S#T%Q#T#o!LT#o$g%Q$g;'S!LT;'S;=`!Md<%lO!LT_!MgP;=`<%l!LT_!MqVuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!N_VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!N{X#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV# oV}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#!_Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`#p%Q#p#q##Q#q;'S%Q;'S;=`&s<%lO%QU##XV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##uV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$cV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#%Ru&YS%yZ&PZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4e",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:t=>b3e[t]||-1}],tokenPrec:7144}),y3e=ol.define({name:"java",parser:k3e.configure({props:[ad.add({IfStatement:lo({except:/^\s*({|else\b)/}),TryStatement:lo({except:/^\s*({|catch|finally)\b/}),LabeledStatement:PP,SwitchBlock:t=>{let e=t.textAfter,r=/^\s*\}/.test(e),n=/^\s*(case|default)\b/.test(e);return t.baseIndent+(r?0:n?1:2)*t.unit},Block:Kd({closing:"}"}),BlockComment:()=>null,Statement:lo({except:/^{/})}),od.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":Xu,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});function w3e(){return new Ah(y3e)}const Vj=1,v3e=2,_3e=3,C3e=82,A3e=76,S3e=117,T3e=85,E3e=97,P3e=122,D3e=65,Q3e=90,$3e=95,dE=48,Uj=34,M3e=40,qj=41,R3e=32,Wj=62,N3e=new jn(t=>{if(t.next==A3e||t.next==T3e?t.advance():t.next==S3e&&(t.advance(),t.next==dE+8&&t.advance()),t.next!=C3e||(t.advance(),t.next!=Uj))return;t.advance();let e="";for(;t.next!=M3e;){if(t.next==R3e||t.next<=13||t.next==qj)return;e+=String.fromCharCode(t.next),t.advance()}for(t.advance();;){if(t.next<0)return t.acceptToken(Vj);if(t.next==qj){let r=!0;for(let n=0;r&&n<e.length;n++)t.peek(n+1)!=e.charCodeAt(n)&&(r=!1);if(r&&t.peek(e.length+1)==Uj)return t.acceptToken(Vj,2+e.length)}t.advance()}}),B3e=new jn(t=>{if(t.next==Wj)t.peek(1)==Wj&&t.acceptToken(v3e,1);else{let e=!1,r=0;for(;;r++){if(t.next>=D3e&&t.next<=Q3e)e=!0;else{if(t.next>=E3e&&t.next<=P3e)return;if(t.next!=$3e&&!(t.next>=dE&&t.next<=dE+9))break}t.advance()}e&&r>1&&t.acceptToken(_3e)}},{extend:!0}),I3e=sd({"typedef struct union enum class typename decltype auto template operator friend noexcept namespace using requires concept import export module __attribute__ __declspec __based":le.definitionKeyword,"extern MsCallModifier MsPointerModifier extern static register thread_local inline const volatile restrict _Atomic mutable constexpr constinit consteval virtual explicit VirtualSpecifier Access":le.modifier,"if else switch for while do case default return break continue goto throw try catch":le.controlKeyword,"co_return co_yield co_await":le.controlKeyword,"new sizeof delete static_assert":le.operatorKeyword,"NULL nullptr":le.null,this:le.self,"True False":le.bool,"TypeSize PrimitiveType":le.standard(le.typeName),TypeIdentifier:le.typeName,FieldIdentifier:le.propertyName,"CallExpression/FieldExpression/FieldIdentifier":le.function(le.propertyName),"ModuleName/Identifier":le.namespace,PartitionName:le.labelName,StatementIdentifier:le.labelName,"Identifier DestructorName":le.variableName,"CallExpression/Identifier":le.function(le.variableName),"CallExpression/ScopedIdentifier/Identifier":le.function(le.variableName),"FunctionDeclarator/Identifier FunctionDeclarator/DestructorName":le.function(le.definition(le.variableName)),NamespaceIdentifier:le.namespace,OperatorName:le.operator,ArithOp:le.arithmeticOperator,LogicOp:le.logicOperator,BitOp:le.bitwiseOperator,CompareOp:le.compareOperator,AssignOp:le.definitionOperator,UpdateOp:le.updateOperator,LineComment:le.lineComment,BlockComment:le.blockComment,Number:le.number,String:le.string,"RawString SystemLibString":le.special(le.string),CharLiteral:le.character,EscapeSequence:le.escape,"UserDefinedLiteral/Identifier":le.literal,PreProcArg:le.meta,"PreprocDirectiveName #include #ifdef #ifndef #if #define #else #endif #elif":le.processingInstruction,MacroName:le.special(le.name),"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace,"< >":le.angleBracket,". ->":le.derefOperator,", ;":le.separator}),j3e={__proto__:null,bool:36,char:36,int:36,float:36,double:36,void:36,size_t:36,ssize_t:36,intptr_t:36,uintptr_t:36,charptr_t:36,int8_t:36,int16_t:36,int32_t:36,int64_t:36,uint8_t:36,uint16_t:36,uint32_t:36,uint64_t:36,char8_t:36,char16_t:36,char32_t:36,char64_t:36,const:70,volatile:72,restrict:74,_Atomic:76,mutable:78,constexpr:80,constinit:82,consteval:84,struct:88,__declspec:92,final:148,override:148,public:152,private:152,protected:152,virtual:154,extern:160,static:162,register:164,inline:166,thread_local:168,__attribute__:172,__based:178,__restrict:180,__uptr:180,__sptr:180,_unaligned:180,__unaligned:180,noexcept:194,requires:198,TRUE:784,true:784,FALSE:786,false:786,typename:218,class:220,template:234,throw:248,__cdecl:256,__clrcall:256,__stdcall:256,__fastcall:256,__thiscall:256,__vectorcall:256,try:260,catch:264,export:282,import:286,case:296,default:298,if:308,else:314,switch:318,do:322,while:324,for:330,return:334,break:338,continue:342,goto:346,co_return:350,co_yield:354,using:362,typedef:366,namespace:380,new:398,delete:400,co_await:402,concept:406,enum:410,static_assert:414,friend:422,union:424,explicit:430,operator:444,module:456,signed:518,unsigned:518,long:518,short:518,decltype:528,auto:530,sizeof:566,NULL:572,nullptr:586,this:588},F3e={__proto__:null,"<":131},L3e={__proto__:null,">":135},z3e={__proto__:null,operator:388,new:576,delete:582},X3e=ll.deserialize({version:14,states:"$:|Q!QQVOOP'gOUOOO(XOWO'#CdO,RQUO'#CgO,]QUO'#FjO-sQbO'#CxO.UQUO'#CxO0TQUO'#KZO0[QUO'#CwO0gOpO'#DvO0oQ!dO'#D]OOQR'#JO'#JOO5XQVO'#GUO5fQUO'#JVOOQQ'#JV'#JVO8zQUO'#KmO<eQUO'#KmO>{QVO'#E^O?]QUO'#E^OOQQ'#Ed'#EdOOQQ'#Ee'#EeO?bQVO'#EfO@XQVO'#EiOBUQUO'#FPOBvQUO'#FhOOQR'#Fj'#FjOB{QUO'#FjOOQR'#LQ'#LQOOQR'#LP'#LPOETQVO'#KQOFxQUO'#LVOGVQUO'#KqOGkQUO'#LVOH]QUO'#LXOOQR'#HU'#HUOOQR'#HV'#HVOOQR'#HW'#HWOOQR'#K|'#K|OOQR'#J_'#J_Q!QQVOOOHkQVO'#FOOIWQUO'#EhOI_QUOOOKZQVO'#HgOKkQUO'#HgONVQUO'#KqONaQUO'#KqOOQQ'#Kq'#KqO!!_QUO'#KqOOQQ'#Jq'#JqO!!lQUO'#HxOOQQ'#KZ'#KZO!&^QUO'#KZO!&zQUO'#KQO!(zQVO'#I]O!(zQVO'#I`OCQQUO'#KQOOQQ'#Ip'#IpOOQQ'#KQ'#KQO!,}QUO'#KZOOQR'#KY'#KYO!-UQUO'#DZO!/mQUO'#KnOOQQ'#Kn'#KnO!/tQUO'#KnO!/{QUO'#ETO!0QQUO'#EWO!0VQUO'#FRO8zQUO'#FPO!QQVO'#F^O!0[Q#vO'#F`O!0gQUO'#FkO!0oQUO'#FpO!0tQVO'#FrO!0oQUO'#FuO!3sQUO'#FvO!3xQVO'#FxO!4SQUO'#FzO!4XQUO'#F|O!4^QUO'#GOO!4cQVO'#GQO!(zQVO'#GSO!4jQUO'#GpO!4xQUO'#GYO!(zQVO'#FeO!6VQUO'#FeO!6[QVO'#G`O!6cQUO'#GaO!6nQUO'#GnO!6sQUO'#GrO!6xQUO'#GzO!7jQ&lO'#HiO!:mQUO'#GuO!:}QUO'#HXO!;YQUO'#HZO!;bQUO'#DXO!;bQUO'#HuO!;bQUO'#HvO!;yQUO'#HwO!<[QUO'#H|O!=PQUO'#H}O!>uQVO'#IbO!(zQVO'#IdO!?PQUO'#IgO!?WQVO'#IjP!@}{,UO'#CbP!6n{,UO'#CbP!AY{7[O'#CbP!6n{,UO'#CbP!A_{,UO'#CbP!AjOSO'#IzPOOO)CEn)CEnOOOO'#I|'#I|O!AtOWO,59OOOQR,59O,59OO!(zQVO,59VOOQQ,59X,59XO!(zQVO,5;ROOQR,5<U,5<UO!BPQUO,59ZO!(zQVO,5>qOOQR'#IX'#IXOOQR'#IY'#IYOOQR'#IZ'#IZOOQR'#I['#I[O!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!(zQVO,5>rO!DOQVO,5>zOOQQ,5?W,5?WO!EqQVO'#CjO!IjQUO'#CzOOQQ,59d,59dOOQQ,59c,59cOOQQ,5<},5<}O!IwQ&lO,5=mO!?PQUO,5?RO!LkQVO,5?UO!LrQbO,59dO!L}QVO'#FYOOQQ,5?P,5?PO!M_QVO,59WO!MfO`O,5:bO!MkQbO'#D^O!M|QbO'#K_O!N[QbO,59wO!NdQbO'#CxO!NuQUO'#CxO!NzQUO'#KZO# UQUO'#CwOOQR-E<|-E<|O# aQUO,5AoO# hQVO'#EfO@XQVO'#EiOBUQUO,5;kOOQR,5<p,5<pO#$aQUO'#KQO#$hQUO'#KQO!(zQVO'#IUO8zQUO,5;kO#${Q&lO'#HiO#(SQUO'#CtO#*wQbO'#CxO#*|QUO'#CwO#.jQUO'#KZOOQQ-E=T-E=TO#0}QUO,5AXO#1XQUO'#KZO#1cQUO,5AXOOQR,5Ao,5AoOOQQ,5>l,5>lO#3gQUO'#CgO#4]QUO,5>pO#6OQUO'#IeOOQR'#I}'#I}O#6WQUO,5:xO#6tQUO,5:xO#7eQUO,5:xO#8YQUO'#CuO!0QQUO'#CmOOQQ'#JW'#JWO#6tQUO,5:xO#8bQUO,5;QO!4xQUO'#DOO#9kQUO,5;QO#9pQUO,5>QO#:|QUO'#DOO#;dQUO,5>{O#;iQUO'#KwO#<rQUO,5;TO#<zQVO,5;TO#=UQUO,5;TOOQQ,5;T,5;TO#>}QUO'#L[O#?UQUO,5>UO#?ZQbO'#CxO#?fQUO'#GcO#?kQUO'#E^O#@[QUO,5;kO#@sQUO'#K}O#@{QUO,5;rOKkQUO'#HfOBUQUO'#HgO#AQQUO'#KqO!6nQUO'#HjO#AxQUO'#CuO!0tQVO,5<SOOQQ'#Cg'#CgOOQR'#Jh'#JhO#A}QVO,5=`OOQQ,5?Z,5?ZO#DWQbO'#CxO#DcQUO'#GcOOQQ'#Ji'#JiOOQQ-E=g-E=gOGVQUO,5AqOGkQUO,5AqO#DhQUO,5AsO#DsQUO'#G|OOQR,5Aq,5AqO#DhQUO,5AqO#EOQUO'#HOO#EWQUO,5AsOOQR,5As,5AsOOQR,5At,5AtO#EfQVO,5AtOOQR-E=]-E=]O#G`QVO,5;jOOQR,5;j,5;jO#IaQUO'#EjO#JfQUO'#EwO#K]QVO'#ExO#MoQUO'#EvO#MwQUO'#EyO#NvQUO'#EzOOQQ'#Kz'#KzO$ mQUO,5;SO$!sQUO'#EvOOQQ,5;S,5;SO$#pQUO,5;SO$%cQUO,5:yO$'|QVO,5>PO$(WQUO'#E[O$(eQUO,5>ROOQQ,5>S,5>SO$,RQVO'#C|OOQQ-E=o-E=oOOQQ,5>d,5>dOOQQ,59a,59aO$,]QUO,5>wO$.]QUO,5>zO!6nQUO,59uO$.pQUO,5;qO$.}QUO,5<{O!0QQUO,5:oOOQQ,5:r,5:rO$/YQUO,5;mO$/_QUO'#KmOBUQUO,5;kOOQR,5;x,5;xO$0OQUO'#FbO$0^QUO'#FbO$0cQUO,5;zO$3|QVO'#FmO!0tQVO,5<VO!0oQUO,5<VO!0VQUO,5<[O$4TQVO'#GUO$7PQUO,5<^O!0tQVO,5<aO$:gQVO,5<bO$:tQUO,5<dOOQR,5<d,5<dO$;}QUO,5<dOOQR,5<f,5<fOOQR,5<h,5<hOOQQ'#Fi'#FiO$<SQUO,5<jO$<XQUO,5<lOOQR,5<l,5<lO$=_QUO,5<nO$>eQUO,5<rO$>pQUO,5=[O$>uQUO,5=[O!4xQUO,5<tO$>}QUO,5<tO$?cQUO,5<PO$@iQVO,5<PO$BzQUO,5<zOOQR,5<z,5<zOOQR,5<{,5<{O$>uQUO,5<{O$DQQUO,5<{O$D]QUO,5=YO!(zQVO,5=^O!(zQVO,5=fO#NeQUO,5=mOOQQ,5>T,5>TO$FbQUO,5>TO$FlQUO,5>TO$FqQUO,5>TO$FvQUO,5>TO!6nQUO,5>TO$HtQUO'#KZO$H{QUO,5=oO$IWQUO,5=aOKkQUO,5=oO$JQQUO,5=sOOQR,5=s,5=sO$JYQUO,5=sO$LeQVO'#H[OOQQ,5=u,5=uO!;]QUO,5=uO%#`QUO'#KjO%#gQUO'#K[O%#{QUO'#KjO%$VQUO'#DyO%$hQUO'#D|O%'eQUO'#K[OOQQ'#K['#K[O%)WQUO'#K[O%#gQUO'#K[O%)]QUO'#K[OOQQ,59s,59sOOQQ,5>a,5>aOOQQ,5>b,5>bO%)eQUO'#HzO%)mQUO,5>cOOQQ,5>c,5>cO%-XQUO,5>cO%-dQUO,5>hO%1OQVO,5>iO%1VQUO,5>|O# hQVO'#EfO%4]QUO,5>|OOQQ,5>|,5>|O%4|QUO,5?OO%7QQUO,5?RO!<[QUO,5?RO%8|QUO,5?UO%<iQVO,5?UP!A_{,UO,58|P%<p{,UO,58|P%=O{7[O,58|P%=U{,UO,58|PO{O'#Ju'#JuP%=Z{,UO'#LcPOOO'#Lc'#LcP%=a{,UO'#LcPOOO,58|,58|POOO,5?f,5?fP%=fOSO,5?fOOOO-E<z-E<zOOQR1G.j1G.jO%=mQUO1G.qO%>sQUO1G0mOOQQ1G0m1G0mO%@PQUO'#CpO%B`QbO'#CxO%BkQUO'#CsO%BpQUO'#CsO%BuQUO1G.uO#AxQUO'#CrOOQQ1G.u1G.uO%DxQUO1G4]O%FOQUO1G4^O%GqQUO1G4^O%IdQUO1G4^O%KVQUO1G4^O%LxQUO1G4^O%NkQUO1G4^O&!^QUO1G4^O&$PQUO1G4^O&%rQUO1G4^O&'eQUO1G4^O&)WQUO1G4^O&*yQUO'#KPO&,SQUO'#KPO&,[QUO,59UOOQQ,5=P,5=PO&.dQUO,5=PO&.nQUO,5=PO&.sQUO,5=PO&.xQUO,5=PO!6nQUO,5=PO#NeQUO1G3XO&/SQUO1G4mO!<[QUO1G4mO&1OQUO1G4pO&2qQVO1G4pOOQQ1G/O1G/OOOQQ1G.}1G.}OOQQ1G2i1G2iO!IwQ&lO1G3XO&2xQUO'#LOO@XQVO'#EiO&4RQUO'#F]OOQQ'#Ja'#JaO&4WQUO'#FZO&4cQUO'#LOO&4kQUO,5;tO&4pQUO1G.rOOQQ1G.r1G.rOOQR1G/|1G/|O&6cQ!dO'#JPO&6hQbO,59xO&8yQ!eO'#D`O&9QQ!dO'#JRO&9VQbO,5@yO&9VQbO,5@yOOQR1G/c1G/cO&9bQbO1G/cO&9gQ&lO'#GeO&:eQbO,59dOOQR1G7Z1G7ZO#@[QUO1G1VO&:pQUO1G1^OBUQUO1G1VO&=RQUO'#CzO#*wQbO,59dO&@tQUO1G6sOOQR-E<{-E<{O&BWQUO1G0dO#6WQUO1G0dOOQQ-E=U-E=UO#6tQUO1G0dOOQQ1G0l1G0lO&B{QUO,59jOOQQ1G3l1G3lO&CcQUO,59jO&CyQUO,59jO!M_QVO1G4gO!(zQVO'#JYO&DeQUO,5AcOOQQ1G0o1G0oO!(zQVO1G0oO!6nQUO'#JnO&DmQUO,5AvOOQQ1G3p1G3pOOQR1G1V1G1VO&HjQVO'#FOO!M_QVO,5;sOOQQ,5;s,5;sOBUQUO'#JcO&JfQUO,5AiO&JnQVO'#E[OOQR1G1^1G1^O&M]QUO'#L[OOQR1G1n1G1nOOQR-E=f-E=fOOQR1G7]1G7]O#DhQUO1G7]OGVQUO1G7]O#DhQUO1G7_OOQR1G7_1G7_O&MeQUO'#G}O&MmQUO'#LWOOQQ,5=h,5=hO&M{QUO,5=jO&NQQUO,5=kOOQR1G7`1G7`O#EfQVO1G7`O&NVQUO1G7`O' ]QVO,5=kOOQR1G1U1G1UO$.vQUO'#E]O'!RQUO'#E]OOQQ'#Ky'#KyO'!lQUO'#KxO'!wQUO,5;UO'#PQUO'#ElO'#dQUO'#ElO'#wQUO'#EtOOQQ'#J['#J[O'#|QUO,5;cO'$sQUO,5;cO'%nQUO,5;dO'&tQVO,5;dOOQQ,5;d,5;dO''OQVO,5;dO'&tQVO,5;dO''VQUO,5;bO'(SQUO,5;eO'(_QUO'#KpO'(gQUO,5:vO'(lQUO,5;fOOQQ1G0n1G0nOOQQ'#J]'#J]O''VQUO,5;bO!4xQUO'#E}OOQQ,5;b,5;bO')gQUO'#E`O'+aQUO'#E{OHrQUO1G0nO'+fQUO'#EbOOQQ'#JX'#JXO'-OQUO'#KrOOQQ'#Kr'#KrO'-xQUO1G0eO'.pQUO1G3kO'/vQVO1G3kOOQQ1G3k1G3kO'0QQVO1G3kO'0XQUO'#L_O'1eQUO'#KXO'1sQUO'#KWO'2OQUO,59hO'2WQUO1G/aO'2]QUO'#FPOOQR1G1]1G1]OOQR1G2g1G2gO$>uQUO1G2gO'2gQUO1G2gO'2rQUO1G0ZOOQR'#J`'#J`O'2wQVO1G1XO'8pQUO'#FTO'8uQUO1G1VO!6nQUO'#JdO'9TQUO,5;|O$0^QUO,5;|OOQQ'#Fc'#FcOOQQ,5;|,5;|O'9cQUO1G1fOOQR1G1f1G1fO'9kQUO,5<XO$.vQUO'#FWOBUQUO'#FWO'9rQUO,5<XO!(zQVO,5<XO'9zQUO,5<XO':PQVO1G1qO!0tQVO1G1qOOQR1G1v1G1vO'?oQUO1G1xOOQR1G1{1G1{O'?tQUO1G1|OBUQUO1G2]O'@}QVO1G1|O'CcQUO1G1|O'ChQUO'#GWO8zQUO1G2]OOQR1G2O1G2OOOQR1G2U1G2UOOQR1G2W1G2WOOQR1G2Y1G2YO'CmQUO1G2^O!4xQUO1G2^OOQR1G2v1G2vO'CuQUO1G2vO$>}QUO1G2`OOQQ'#Cv'#CvO'CzQUO'#G[O'DuQUO'#G[O'DzQUO'#LRO'EYQUO'#G_OOQQ'#LS'#LSO'EhQUO1G2`O'EmQVO1G1kO'HOQVO'#GUOBUQUO'#FWOOQR'#Je'#JeO'EmQVO1G1kO'HYQUO'#FvOOQR1G2f1G2fO'H_QUO1G2gO'HdQUO'#JgO'2gQUO1G2gO!(zQVO1G2tO'HlQUO1G2xO'IuQUO1G3QO'J{QUO1G3XOOQQ1G3o1G3oO'KaQUO1G3oOOQR1G3Z1G3ZO'KfQUO'#KZO'2]QUO'#LTOGkQUO'#LVOOQR'#Gy'#GyO#DhQUO'#LXOOQR'#HQ'#HQO'KpQUO'#GvO'#wQUO'#GuOOQR1G2{1G2{O'LmQUO1G2{O'MdQUO1G3ZO'MoQUO1G3_O'MtQUO1G3_OOQR1G3_1G3_O'M|QUO'#H]OOQR'#H]'#H]O( VQUO'#H]O!(zQVO'#H`O!(zQVO'#H_OOQR'#LZ'#LZO( [QUO'#LZOOQR'#Jk'#JkO( aQVO,5=vOOQQ,5=v,5=vO( hQUO'#H^O( pQUO'#HZOOQQ1G3a1G3aO( zQUO,5@vOOQQ,5@v,5@vO%)WQUO,5@vO%)]QUO,5@vO%$VQUO,5:eO(%iQUO'#KkO(%wQUO'#KkOOQQ,5:e,5:eOOQQ'#JS'#JSO(&SQUO'#D}O(&^QUO'#KqOGkQUO'#LVO('YQUO'#D}OOQQ'#Hp'#HpOOQQ'#Hr'#HrOOQQ'#Hs'#HsOOQQ'#Kl'#KlOOQQ'#JU'#JUO('dQUO,5:hOOQQ,5:h,5:hO((aQUO'#LVO((nQUO'#HtO()UQUO,5@vO()]QUO'#H{O()hQUO'#L^O()pQUO,5>fO()uQUO'#L]OOQQ1G3}1G3}O(-lQUO1G3}O(-sQUO1G3}O(-zQUO1G4TO(/QQUO1G4TO(/VQUO,5A|O!6nQUO1G4hO!(zQVO'#IiOOQQ1G4m1G4mO(/[QUO1G4mO(1_QVO1G4pPOOO1G.h1G.hP!A_{,UO1G.hP(3_QUO'#LeP(3j{,UO1G.hP(3o{7[O1G.hPO{O-E=s-E=sPOOO,5A},5A}P(3w{,UO,5A}POOO1G5Q1G5QO!(zQVO7+$]O(3|QUO'#CzOOQQ,59_,59_O(4XQbO,59dO(4dQbO,59_OOQQ,59^,59^OOQQ7+)w7+)wO!M_QVO'#JtO(4oQUO,5@kOOQQ1G.p1G.pOOQQ1G2k1G2kO(4wQUO1G2kO(4|QUO7+(sOOQQ7+*X7+*XO(7bQUO7+*XO(7iQUO7+*XO(1_QVO7+*[O#NeQUO7+(sO(7vQVO'#JbO(8ZQUO,5AjO(8cQUO,5;vOOQQ'#Cp'#CpOOQQ,5;w,5;wO!(zQVO'#F[OOQQ-E=_-E=_O!M_QVO,5;uOOQQ1G1`1G1`OOQQ,5?k,5?kOOQQ-E<}-E<}OOQR'#Dg'#DgOOQR'#Di'#DiOOQR'#Dl'#DlO(9lQ!eO'#K`O(9sQMkO'#K`O(9zQ!eO'#K`OOQR'#K`'#K`OOQR'#JQ'#JQO(:RQ!eO,59zOOQQ,59z,59zO(:YQbO,5?mOOQQ-E=P-E=PO(:hQbO1G6eOOQR7+$}7+$}OOQR7+&q7+&qOOQR7+&x7+&xO'8uQUO7+&qO(:sQUO7+&OO#6WQUO7+&OO(;hQUO1G/UO(<OQUO1G/UO(<jQUO7+*ROOQQ7+*V7+*VO(>]QUO,5?tOOQQ-E=W-E=WO(?fQUO7+&ZOOQQ,5@Y,5@YOOQQ-E=l-E=lO(?kQUO'#LOO@XQVO'#EiO(@wQUO1G1_OOQQ1G1_1G1_O(BQQUO,5?}OOQQ,5?},5?}OOQQ-E=a-E=aO(BfQUO'#KpOOQR7+,w7+,wO#DhQUO7+,wOOQR7+,y7+,yO(BsQUO,5=iO#DsQUO'#JjO(CUQUO,5ArOOQR1G3U1G3UOOQR1G3V1G3VO(CdQUO7+,zOOQR7+,z7+,zO(E[QUO,5:wO(FyQUO'#EwO!(zQVO,5;VO(GlQUO,5:wO(GvQUO'#EpO(HXQUO'#EzOOQQ,5;Z,5;ZO#K]QVO'#ExO(HoQUO,5:wO(HvQUO'#EyO#GgQUO'#JZO(J`QUO,5AdOOQQ1G0p1G0pO(JkQUO,5;WO!<[QUO,5;^O(KUQUO,5;_O(KdQUO,5;WO(MvQUO,5;`OOQQ-E=Y-E=YO(NOQUO1G0}OOQQ1G1O1G1OO(NyQUO1G1OO)!PQVO1G1OO)!WQVO1G1OO)!bQUO1G0|OOQQ1G0|1G0|OOQQ1G1P1G1PO)#_QUO'#JoO)#iQUO,5A[OOQQ1G0b1G0bOOQQ-E=Z-E=ZO)#qQUO,5;iO!<[QUO,5;iO)$nQVO,5:zO)$uQUO,5;gO$ mQUO7+&YOOQQ7+&Y7+&YO!(zQVO'#EfO)$|QUO,5:|OOQQ'#Ks'#KsOOQQ-E=V-E=VOOQQ,5A^,5A^OOQQ'#Jl'#JlO)(qQUO7+&PPOQQ7+&P7+&POOQQ7+)V7+)VO))iQUO7+)VO)*oQVO7+)VOOQQ,5>m,5>mO$)YQVO'#JsO)*vQUO,5@rOOQQ1G/S1G/SOOQQ7+${7+${O)+RQUO7+(RO)+WQUO7+(ROOQR7+(R7+(RO$>uQUO7+(ROOQQ7+%u7+%uOOQR-E=^-E=^O!0VQUO,5;oOOQQ,5@O,5@OOOQQ-E=b-E=bO$0^QUO1G1hOOQQ1G1h1G1hOOQR7+'Q7+'QOOQR1G1s1G1sOBUQUO,5;rO)+tQUO,5<YO)+{QUO1G1sO)-UQUO1G1sO!0tQVO7+']O)-ZQVO7+']O)2yQUO7+'dO)3OQVO7+'hO)5dQUO7+'wO)5nQUO7+'hO)6tQVO7+'hOKkQUO7+'wO$>hQUO,5<rO!4xQUO7+'xO)6{QUO7+'xOOQR7+(b7+(bO)7QQUO7+'zO)7VQUO,5<vO'CzQUO,5<vO)7}QUO,5<vO'CzQUO,5<vOOQQ,5<w,5<wO)8`QVO,5<xO'EYQUO'#JfO)8jQUO,5AmO)8rQUO,5<yOOQR7+'z7+'zO)8}QVO7+'VO)5gQUO'#K}OOQR-E=c-E=cO);`QVO,5<bOOQQ,5@R,5@RO!6nQUO,5@ROOQQ-E=e-E=eO)=wQUO7+(`O)>}QUO7+(dO)?SQVO7+(dOOQQ7+(l7+(lOOQQ7+)Z7+)ZO)?[QUO'#KjO)?fQUO'#KjOOQR,5=b,5=bO)?sQUO,5=bO!;bQUO,5=bO!;bQUO,5=bO!;bQUO,5=bOOQR7+(g7+(gOOQR7+(u7+(uOOQR7+(y7+(yOOQR,5=w,5=wO)?xQUO,5=zO)AOQUO,5=yOOQR,5Au,5AuOOQR-E=i-E=iOOQQ1G3b1G3bO)BUQUO,5=xO)BZQVO'#EfOOQQ1G6b1G6bO%)WQUO1G6bO%)]QUO1G6bOOQQ1G0P1G0POOQQ-E=Q-E=QO)DrQUO,5AVO(%iQUO'#JTO)D}QUO,5AVO)D}QUO,5AVO)EVQUO,5:iO8zQUO,5:iOOQQ,5>],5>]O)EaQUO,5AqO)EhQUO'#EVO)FrQUO'#EVO)G]QUO,5:iO)GgQUO'#HlO)GgQUO'#HmOOQQ'#Ko'#KoO)HUQUO'#KoO!(zQVO'#HnOOQQ,5:i,5:iO)HvQUO,5:iO!M_QVO,5:iOOQQ-E=S-E=SOOQQ1G0S1G0SOOQQ,5>`,5>`O)H{QUO1G6bO!(zQVO,5>gO)LjQUO'#JrO)LuQUO,5AxOOQQ1G4Q1G4QO)L}QUO,5AwOOQQ,5Aw,5AwOOQQ7+)i7+)iO*!lQUO7+)iOOQQ7+)o7+)oO*'kQVO1G7hO*)mQUO7+*SO*)rQUO,5?TO**xQUO7+*[POOO7+$S7+$SP*,kQUO'#LfP*,sQUO,5BPP*,x{,UO7+$SPOOO1G7i1G7iO*,}QUO<<GwOOQQ1G.y1G.yOOQQ'#IT'#ITO*.pQUO,5@`OOQQ,5@`,5@`OOQQ-E=r-E=rOOQQ7+(V7+(VOOQQ<<Ms<<MsO*/yQUO<<MsO*1|QUO<<MvO*3oQUO<<L_O*4TQUO,5?|OOQQ,5?|,5?|OOQQ-E=`-E=`OOQQ1G1b1G1bO*5^QUO,5;vO*6dQUO1G1aOOQQ1G1a1G1aOOQR,5@z,5@zO*7mQ!eO,5@zO*7tQMkO,5@zO*7{Q!eO,5@zOOQR-E=O-E=OOOQQ1G/f1G/fO*8SQ!eO'#DwOOQQ1G5X1G5XOOQR<<J]<<J]O*8ZQUO<<IjO*9OQUO7+$pOOQQ<<Iu<<IuO(7vQVO,5;ROOQR<=!c<=!cOOQQ1G3T1G3TOOQQ,5@U,5@UOOQQ-E=h-E=hOOQR<=!f<=!fO*9{QUO1G0cO*:SQUO'#EzO*:dQUO1G0cO*:kQUO'#I}O*<RQUO1G0qO!(zQVO1G0qOOQQ,5;[,5;[OOQQ,5;],5;]OOQQ,5?u,5?uOOQQ-E=X-E=XO!<[QUO1G0xO*=bQUO1G0xOOQQ1G0y1G0yO*=sQUO'#ElOOQQ1G0z1G0zOOQQ7+&j7+&jO*>XQUO7+&jO*?_QVO7+&jOOQQ7+&h7+&hOOQQ,5@Z,5@ZOOQQ-E=m-E=mO*@ZQUO1G1TO*@eQUO1G1TO*AOQUO1G0fOOQQ1G0f1G0fO*BUQUO'#K{O*B^QUO1G1ROOQQ<<It<<ItOOQQ'#Hb'#HbO'+fQUO,5={OOQQ'#Hd'#HdO'+fQUO,5=}OOQQ-E=j-E=jPOQQ<<Ik<<IkPOQQ-E=k-E=kOOQQ<<Lq<<LqO*BcQUO'#LaO*CoQUO'#L`OOQQ,5@_,5@_OOQQ-E=q-E=qOOQR<<Km<<KmO$>uQUO<<KmO*C}QUO<<KmOOQR1G1Z1G1ZOOQQ7+'S7+'SO!M_QVO1G1tO*DSQUO1G1tOOQR7+'_7+'_OOQR<<Jw<<JwO!0tQVO<<JwOOQR<<KO<<KOO*D_QUO<<KSO*EeQVO<<KSOKkQUO<<KcO!M_QVO<<KcO*ElQUO<<KSO!0tQVO<<KSO*FuQUO<<KSO*FzQUO<<KcO*GVQUO<<KdOOQR<<Kd<<KdOOQR<<Kf<<KfO*G[QUO1G2bO)7VQUO1G2bO'CzQUO1G2bO*GmQUO1G2dO*HsQVO1G2dOOQQ1G2d1G2dO*H}QVO1G2dO*IUQUO,5@QOOQQ-E=d-E=dOOQQ1G2e1G2eO*IdQUO1G1|O*JmQVO1G1|O*JtQUO1G1|OOQQ1G5m1G5mOOQR<<Kz<<KzOOQR<<LO<<LOO*JyQVO<<LOO*KUQUO<<LOOOQR1G2|1G2|O*KZQUO1G2|O*KbQUO1G3eOOQR1G3d1G3dOOQQ7++|7++|O%)WQUO7++|O*KmQUO1G6qO*KmQUO1G6qO(%iQUO,5?oO*KuQUO,5?oOOQQ-E=R-E=RO*LQQUO1G0TOOQQ1G0T1G0TO*L[QUO1G0TO!M_QVO1G0TO*LaQUO1G0TOOQQ1G3w1G3wO*LkQUO,5:qO)EhQUO,5:qO*MXQUO,5:qO)EhQUO,5:qO$#uQUO,5:uO*MvQVO,5>VO)GgQUO'#JpO*NQQUO1G0TO*NcQVO1G0TOOQQ1G3u1G3uO*NjQUO,5>WO*NuQUO,5>XO+ dQUO,5>YO+!jQUO1G0TO%)]QUO7++|O+#pQUO1G4ROOQQ,5@^,5@^OOQQ-E=p-E=pOOQQ<<MT<<MTOOQQ<<Mn<<MnO+$yQUO1G4oP+&|QUO'#JvP+'UQUO,5BQPO{O1G7k1G7kPOOO<<Gn<<GnOOQQANC_ANC_OOQR1G6f1G6fO+'^Q!eO,5:cOOQQ,5:c,5:cO+'eQUO1G0mO+(qQUO7+&]O+*QQUO7+&dO+*cQUO,5;WOOQQ<<JU<<JUO+*qQUO7+&oOOQQ7+&Q7+&QO!4xQUO'#J^O++lQUO,5AgOOQQ7+&m7+&mOOQQ1G3g1G3gO++tQUO1G3iOOQQ,5>n,5>nO+/iQUOANAXOOQRANAXANAXO+/nQUO7+'`OOQRAN@cAN@cO+0zQVOAN@nO+1RQUOAN@nO!0tQVOAN@nO+2[QUOAN@nO+2aQUOAN@}O+2lQUOAN@}O+3rQUOAN@}OOQRAN@nAN@nO!M_QVOAN@}OOQRANAOANAOO+3wQUO7+'|O)7VQUO7+'|OOQQ7+(O7+(OO+4YQUO7+(OO+5`QVO7+(OO+5gQVO7+'hO+5nQUOANAjOOQR7+(h7+(hOOQR7+)P7+)PO+5sQUO7+)PO+5xQUO7+)POOQQ<= h<= hO+6QQUO7+,]O+6YQUO1G5ZOOQQ1G5Z1G5ZO+6eQUO7+%oOOQQ7+%o7+%oO+6vQUO7+%oO*NcQVO7+%oOOQQ7+)a7+)aO+6{QUO7+%oO+8RQUO7+%oO!M_QVO7+%oO+8]QUO1G0]O*LkQUO1G0]O)EhQUO1G0]OOQQ1G0a1G0aO+8zQUO1G3qO+:QQVO1G3qOOQQ1G3q1G3qO+:[QVO1G3qO+:cQUO,5@[OOQQ-E=n-E=nOOQQ1G3r1G3rO%)WQUO<= hOOQQ7+*Z7+*ZPOQQ,5@b,5@bPOQQ-E=t-E=tOOQQ1G/}1G/}OOQQ,5?x,5?xOOQQ-E=[-E=[OOQRG26sG26sO+:zQUOG26YO!0tQVOG26YO+<TQUOG26YOOQRG26YG26YO!M_QVOG26iO!0tQVOG26iO+<YQUOG26iO+=`QUOG26iO+=eQUO<<KhOOQQ<<Kj<<KjOOQRG27UG27UOOQR<<Lk<<LkO+=vQUO<<LkOOQQ7+*u7+*uOOQQ<<IZ<<IZO+={QUO<<IZO!M_QVO<<IZO+>QQUO<<IZO+?WQUO<<IZO*NcQVO<<IZOOQQ<<L{<<L{O+?iQUO7+%wO*LkQUO7+%wOOQQ7+)]7+)]O+@WQUO7+)]O+A^QVO7+)]OOQQANESANESO!0tQVOLD+tOOQRLD+tLD+tO+AeQUOLD,TO+BkQUOLD,TOOQRLD,TLD,TO!0tQVOLD,TOOQRANBVANBVOOQQAN>uAN>uO+BpQUOAN>uO+CvQUOAN>uO!M_QVOAN>uO+C{QUO<<IcOOQQ<<Lw<<LwOOQR!$( `!$( `O!0tQVO!$( oOOQR!$( o!$( oOOQQG24aG24aO+DjQUOG24aO+EpQUOG24aOOQR!)9EZ!)9EZOOQQLD){LD){O+EuQUO'#CgO(dQUO'#CgO+IrQUO'#CzO+LcQUO'#CzO!E{QUO'#CzO+M[QUO'#CzO+MoQUO'#CzO,#bQUO'#CzO,#rQUO'#CzO,$PQUO'#CzO,$[QbO,59dO,$gQbO,59dO,$rQbO,59dO,$}QbO'#CxO,%`QbO'#CxO,%qQbO'#CxO,&SQUO'#CgO,(gQUO'#CgO,(tQUO'#CgO,+iQUO'#CgO,.lQUO'#CgO,.|QUO'#CgO,2uQUO'#CgO,2|QUO'#CgO,3|QUO'#CgO,6VQUO,5:xO#?kQUO,5:xO#?kQUO,5:xO#=ZQUO'#L[O,6sQbO'#CxO,7OQbO'#CxO,7ZQbO'#CxO,7fQbO'#CxO#6tQUO'#E^O,7qQUO'#E^O,9OQUO'#HgO,9pQbO'#CxO,9{QbO'#CxO,:WQUO'#CwO,:]QUO'#CwO,:bQUO'#CpO,:pQbO,59dO,:{QbO,59dO,;WQbO,59dO,;cQbO,59dO,;nQbO,59dO,;yQbO,59dO,<UQbO,59dO,6VQUO1G0dO,<aQUO1G0dO#?kQUO1G0dO,7qQUO1G0dO,>nQUO'#KZO,?OQUO'#CzO,?^QbO,59dO,6VQUO7+&OO,<aQUO7+&OO,?iQUO'#EwO,@[QUO'#EzO,@{QUO'#E^O,AQQUO'#GcO,AVQUO'#CwO,A[QUO'#CxO,AaQUO'#CxO,AfQUO'#CwO,AkQUO'#GcO,ApQUO'#KZO,B^QUO'#KZO,BhQUO'#CwO,BsQUO'#CwO,COQUO'#CwO,<aQUO,5:xO,7qQUO,5:xO,7qQUO,5:xO,CZQUO'#KZO,CnQbO'#CxO,CyQUO'#CsO,DOQUO'#E^",stateData:",Dt~O(nOSSOSTOSRPQVPQ'ePQ'gPQ'hPQ'iPQ'jPQ'kPQ'lPQ'mPQ~O*ZOS~OPmO]eOb!]Oe!POmTOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!VfO!X!XO!Y!WO!i!YO!opO!r!`O!s!aO!t!aO!u!bO!v!aO!x!cO!{!dO#V#QO#a#VO#b#TO#i#OO#p!xO#t!fO#v!eO$R!gO$T!hO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO${!tO$}!uO%U!yO%_#ZO%`#[O%a#YO%c!zO%e#UO%g!{O%l#SO%o!|O%v!}O%|#PO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(rRO)QYO)TaO)V|O)W{O)XiO)Y!ZO)[XO)hcO)idO~OR#bOV#]O'e#^O'g#_O'h#`O'i#`O'j#aO'k#aO'l#_O'm#_O~OX#dO(o#fO(q#dO~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX(uZX(v$]X(wZX(xZX)TZX)TjX)UZX)VZX)VjX)WZX)WjX)XZX)YZX)jZX~O)XjX!UZX~P(dO]#}O!V#lO!X#{O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO(w#kO(x#kO)T#mO)U#oO)V#nO)W#pO)X#jO)Y#|O~Oe$RO%Y$SO'[$TO'_$UO(y$OO~Om$VO~O!T$WO](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X~Om$VO~P.ZOm$VO!g$YO)j$YO~OX$ZO)]$ZO~O!R$[O)P)RP)Y)RP~OPmO]$eOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!TxO!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~Om$_O#t$lO(rRO~P0zO](]Xb'yXe(]Xm'yXm(]Xs'yXs(]Xt'yXt(]Xu'yXu(]Xv'yXv(]Xw'yXw(]Xx'yXx(]Xy'yXy(]Xz'yXz(]X|'yX!O'yX!V(]X!o(]X!r'yX!r(]X!s'yX!s(]X!t'yX!t(]X!u'yX!u(]X!v'yX!v(]X!x'yX!x(]X!{(]X#a'yX#b'yX%e'yX%l'yX%o(]X%v(]X&m'yX&r'yX&s'yX(r'yX(r(]X)T(]X)V(]X)W(]X~Ob!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO&r#WO&s$wO])aXe)aXm)aX!V)aX!{)aX%v)aX(r)aX)T)aX)V)aX)W)aX~O)X$vO~P:nOPmO]eOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)TaO)V|O)W{O)Y!ZO)[XO)hcO)idO~Ob%QOm:zO!|%RO(r$xO~P<lO)T%SO~Ob!]Om$_O|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r:}O~P<lOPmO]$eOb%QOm:zO!V$fO!W%_O!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W%]O)Y!ZO)[XO)hcO)idO)j%[O~O]%hOe!POm%bO!V%kO!{!dO%v$mO(r;OO)T%dO)V%iO)W%iO~O(v%mO~O)X#jO~O(r%nO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX!g(tX)j(tX[(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OP%oO(pQO~PCQO]%hOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO%o!|O%v!}O)T;`O)V|O)W|O~Om%rO!o%wO(r$xO~PE_O!TxO#v!eO(v%yO)j%|O])eX!V)eX~O]%hOe!POm%rO!V%kO!{!dO%v!}O(r$xO)T;`O)V|O)W|O~O!TxO#v!eO)X&PO)j&QO~O!U&TO~P!QO]&YO!TxO!V&WO)T&VO)V&ZO)W&ZO~Oq&UO~PHrO]&cO!V&bO~OPmO]eOe!PO!VfO!X!XO!Y!WO!i!YO!{!dO#V#QO%_#ZO%`#[O%a#YO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)TaO)V|O)W{O)Y!ZO)[XO)hcO)idO~Ob%QOm:zO%v$mO(r$xO~PIgO]%hOe!POm;[O!V%kO!{!dO%v$mO(r$xO)T;`O)V|O)W|O~Oq&fO](tX])eX!V(tX!V)eX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX[(tX[)eX!U(tX~O!g$YO)j$YO~PL]O!g(tX)j(tX~PL]O](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX!g(tX)j(tX[(tX!U(tX~O])eX!V)eX[)eX~PNkOb&hO&m!RO]&lXe&lXm&lXs&lXt&lXu&lXv&lXw&lXx&lXy&lXz&lX!O&lX!V&lX!r&lX!s&lX!t&lX!u&lX!v&lX!x&lX!{&lX%v&lX&r&lX&s&lX(r&lX)T&lX)V&lX)W&lX)X&lX[&lX!T&lX!X&lX!Y&lX![&lX!^&lX!_&lX!a&lX!b&lX!c&lX!e&lX!f&lX!h&lX(u&lX(w&lX(x&lX)U&lX)Y&lX!g&lX)j&lX!W&lXQ&lX!d&lX(v&lX!U&lX#v&lX~Oq&fOm(}X[(}XQ(}X!d(}X!h(}X)Y(}X)j(}X~P.ZO!g$YO)j$YO](tX!V(tX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX!h(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)X(tX)Y(tX[(tX!W(tX(v(tX!U(tXQ(tX!d(tX~OPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O](}Xe(}Xm(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X[(}XQ(}X!d(}X!h(}X)Y(}X)j(}X~O]#}O~P!*qO]&lO~O])bXb)bXe)bXm)bXs)bXt)bXu)bXv)bXw)bXx)bXy)bXz)bX|)bX!O)bX!V)bX!o)bX!r)bX!s)bX!t)bX!u)bX!v)bX!x)bX!{)bX#a)bX#b)bX%e)bX%l)bX%o)bX%v)bX&m)bX&r)bX&s)bX(r)bX)T)bX)V)bX)W)bX~O(pQO~P!-ZO%U&nO~P!-ZO]&oO~O]#}O~O!TxO~O$W&wO(r%nO(v&vO~O]&xOx&zO~O]&xO~OPmO]$eOb%QOm:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#p!xO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:mO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O]'PO~O!T$WO)X'RO~P!(zO)X'TO~O)X'UO~O(r'VO~O)X'YO~P!(zOm;^O%U'^O%e'^O(r;PO~Ob!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O(v'bO~O)X'dO~P!(zO!TxO(r%nO)j'fO~O(r%nO~O]'iO~O]'jOe%nXm%nX!V%nX!{%nX%v%nX(r%nX)T%nX)V%nX)W%nX~O]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~P8zO]%hOb!TOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V%kO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO!{!dO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO)T;`O)V|O)W|O~Om;_Oq&UO%v$mO(r;QO~P!8jO(r%nO(v'vO)X'wO~O]&cO!T'yO~Om$oO!O!_O!T(QO!l(VO(r$nO(v(PO)QYO~Om$oO|(^O!T(ZO#b(^O(r$nO~Ob!TOm$oO|#RO#a#VO#b#TO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO~O](`O~OPmOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)[XO)hcO)idO~O](bO)Y(cO~P!=UO]#}O~P!<[OPmO]$eOb%QOm:zO!V(iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~OY(jO(pQO(r%nO~O'f(mO~OS(qOT(nO*W(pO~O]#}O(n(tO~Q'nXX#dO(o(vO(q#dO~Oe)QOm({O&r#WO(r(zO~O!Y'Sa!['Sa!^'Sa!_'Sa!a'Sa!b'Sa!c'Sa!e'Sa!f'Sa!h'Sa(u'Sa)T'Sa)U'Sa)V'Sa)W'Sa)X'Sa)Y'Sa!g'Sa)j'Sa['Sa!W'Sa(v'Sa!U'SaQ'Sa!d'Sa~OPmOb%QOm:zO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)[XO)hcO)idO]'Sa!V'Sa!X'Sa(w'Sa(x'Sa~P!B_O!T$WO[(sP~P!(zO]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!ToX!VoX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gnX!h%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX(u%WX(w%WX(x%WX)ToX)T%WX)U%WX)VoX)V%WX)WoX)W%WX)X%WX)Y%WX)jnX[%WX~O)XoX[oX!U%WX~P!E{O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~P8zOPmO]$eOb%QOm:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O!V)lO~P!JwOe)oO%Y)pO(y$OO~O!T$WO!V)rO(w)sO!U)rP~P!JwO!T$WO~P!(zO)Z)zO~Om){O]!QX!h!QX)P!QX)Y!QX~O])}O!h*OO)P)RX)Y)RX~O)P*RO)Y*SO~Oe$RO%Y*TO'[$TO'_$UO(y$OO~Om*UO~Om*UO[(}X~P.ZOm*UO!g$YO)j$YO~O)X*VO~P:nOPmO]$eOb!]Om$_Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)Y!ZO)[XO)hcO)idO~Oq&fO~P!&zOq&fO!W(tX(v(tXQ(tX!d(tX~PNkO]'nO!V'oO!X'lO!g'lO%Z'lO%['lO%]'lO%^'lO%_'pO%`'pO%a'lO(x'mO)j'lO)x'qO~O]jXejXmhXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX!TjX!hjX)YjX)jjX[jX~O!ljX(vjX)XjX!XjX!YjX![jX!^jX!_jX!ajX!bjX!cjX!ejX!fjX(ujX(wjX(xjX)UjX!gjX!WjXQjX!djX!UjX#vjX#TjX#VjX#pjXbjX|jX!ojX#ajX#bjX#ijX#tjX${jX%cjX%ejX%kjX%ljX%ojX&mjX)QjX~P#%yO(y*ZO~Om*[O~O](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)X(}X!T(}X!X(}X!Y(}X![(}X!^(}X!_(}X!a(}X!b(}X!c(}X!e(}X!f(}X!h(}X(u(}X(w(}X(x(}X)U(}X)Y(}X!g(}X)j(}X[(}X!W(}XQ(}X!d(}X(v(}X!U(}X#v(}X~Om*[O~P#+ROs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO])aae)aam)aa!V)aa!{)aa%v)aa(r)aa)T)aa)V)aa)W)aaQ)aa!d)aa!h)aa)Y)aa)j)aa[)aa!T)aa(v)aa)X)aa~O&r#WO&s$wO~P#.qOq&fOm(}X~P#+RO&r)aa~P#.qO]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(wZX(xZX)TZX)UZX)VZX)WZX)XZX)YZX)jZX[ZX~O!WZX(vZX!UZXQZX!dZX~P#1jO]#}O!V#lO!X#{O(w#kO(x#kO~O!Y&xa![&xa!^&xa!_&xa!a&xa!b&xa!c&xa!e&xa!f&xa!g&xa!h&xa(u&xa)T&xa)U&xa)V&xa)W&xa)X&xa)Y&xa)j&xa[&xa!W&xa(v&xa!U&xaQ&xa!d&xa~P#3zOm;hO!T$WO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PKkOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%RO~PKkO]&cO!V&bO[#Qa!T#Qa!h#Qa#v#Qa)X#Qa)j#QaQ#Qa!d#Qa(v#Qa~Oq&fO!T$WO~O[*cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[*cO~O[*eO]&cO!V&bO~O]&YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&WO&r#WO&s$wO)T&VO)V&ZO)W&ZO~O[rXQrX!drX!hrX)YrX)XrX~P#9{O[*hO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!W)kX~P#3zO!W*kO!h*lO~O!W*kO!h*lO~P!(zO!W*kO~Oq&fO!g$YO!h*mO)j$YO](tX!V(tX!W(tX!W*OX!X(tX!Y(tX![(tX!^(tX!_(tX!a(tX!b(tX!c(tX!e(tX!f(tX(u(tX(w(tX(x(tX)T(tX)U(tX)V(tX)W(tX)Y(tX~O!h(tX~P#=ZO!W*oO~Oe$RO%Y*TO(y:rO~Om;kO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!|%RO~PBUO]*vO!T*qO!V&bO!h*tO#v!eO)j*rO)X)qX~O!h*tO)X)qX~O)X*wO~Oq&fO])eX!T)eX!V)eX!h)eX#v)eX)X)eX)j)eX[)eXQ)eX!d)eX(v)eX~Oq&fO~OP%oO(pQO]%ha!V%ha!X%ha!Y%ha![%ha!^%ha!_%ha!a%ha!b%ha!c%ha!e%ha!f%ha!h%ha(r%ha(u%ha(w%ha(x%ha)T%ha)U%ha)V%ha)W%ha)X%ha)Y%ha!g%ha)j%ha[%ha!W%ha(v%ha!U%haQ%ha!d%ha~Oe$RO%Y$SO(y:oO~Om:wO~O!TxO#v!eO)j%|O~Om<[O&r#WO(r;gO~O$Z+TO%`+UO~O!TxO#v!eO)X+VO)j+WO~OPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO$Z+TO%_#ZO%`+YO%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O!U+ZO~P!QOb!TOm$oOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#a+aO#b+bO#i+cO%e#UO%l#SO&m!RO&r#WO&s!TO(r$nO)QYO~OQ)lP!d)lP~P#GgO]&YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V&WO)T&VO)V&ZO)W&ZO~O[#kX!T#kX#v#kX)X#kX)j#kXQ#kX!d#kX!h#kX)Y#kX!x#kX(v#kX~P#IkOPmO]$eOb%QOm:zOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$fO!W+iO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T+jO)W$kO)Y!ZO)[XO)hcO)idO~O]&cO!V+kO~O]&YO!V&WO)QYO)T&VO)V&ZO)W&ZO)Y+nO[)dP~P8zO]&YO!V&WO)T&VO)V&ZO)W&ZO~O[#nX!T#nX#v#nX)X#nX)j#nXQ#nX!d#nX!h#nX)Y#nX!x#nX(v#nX~P#NeO!TxO])nX!V)nX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O#T+vO#p+wO(x+tO)V+rO)W+rO~O]#jX!T#jX!V#jX[#jX#v#jX)X#jX)j#jXQ#jX!d#jX!h#jX)Y#jX!x#jX(v#jX~P$ xO#V+yO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l+zO#T+vO#V+yO#p+wO(x+tO)V+zO)W+zO])fP!T)fP!V)fP#v)fP(v)fP)j)fP[)fP!h)fP)X)fP~O!x)fPQ)fP!d)fP~P$#uOPmO]$eOb%QOm:zOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)W$kO)Y!ZO)[XO)hcO)idO~O!W,QO)T,RO~P$%pO)QYO)Y+nO[)dP~P8zO]&cO!V&bO[&Za!T&Za!h&Za#v&Za)X&Za)j&ZaQ&Za!d&Za(v&Za~OPmO]$eOb!]Om:|Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;RO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~OQ(zP!d(zP~P$)YO]#}O!V#lO(w#kO(x#kO!X'Pa!Y'Pa!['Pa!^'Pa!_'Pa!a'Pa!b'Pa!c'Pa!e'Pa!f'Pa!h'Pa(u'Pa)T'Pa)U'Pa)V'Pa)W'Pa)X'Pa)Y'Pa!g'Pa)j'Pa['Pa!W'Pa(v'Pa!U'PaQ'Pa!d'Pa~O]#}O!V#lO!X#{O(w#kO(x#kO~P!B_O!TxO#t!fO)QYO~P8zO!TxO(r%nO)j,[O~O#x,aO~OQ)aX!d)aX!h)aX)Y)aX)j)aX[)aX!T)aX(v)aX)X)aX~P:nO(v,eO(w,cO)Q$UX)X$UX~O(r,fO~O)QYO)X,iO~OPmO]$eOb!]Om:{Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O(r;SO~P$0kOPmO]$eOb%QOm:zO!TxO!V$fO!X!XO!Y!WO!i!YO#V#QO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:mO)QYO)T$kO)W$kO)XiO)Y!ZO)[XO)hcO)idO~O$h,sO~OPmO]$eOb!]Om:{Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!V$fO!X!XO!Y!WO!i!YO!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO#V#QO#a#VO#b#TO$}!uO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)T$kO)W$kO)Y!ZO)[XO)hcO)idO~O${,yO(r:}O)X,wO~P$7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X,{O)Y#|O~P#3zO)X,{O~O)X,|O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X,}O)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X-OO)Y#|O~P#3zOq&fO)QYO)j-QO~O)X-RO~Om;^O(r;PO~O]-YO!{!dO&r#WO&s$wO(r-UO)T-VO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v-]O)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xa!o$Xa!{$Xa#i$Xa#p$Xa#t$Xa#v$Xa$R$Xa$T$Xa$Y$Xa$Z$Xa${$Xa%U$Xa%c$Xa%g$Xa%o$Xa%|$Xa(k$Xa)V$Xa!U$Xa$c$Xa~P$0kO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X-cO)Y#|O~P#3zOm-eO!TxO)j,[O~O)j-gO~O]&]a!X&]a!Y&]a![&]a!^&]a!_&]a!a&]a!b&]a!c&]a!e&]a!f&]a!h&]a(u&]a(w&]a(x&]a)U&]a)V&]a)W&]a)X&]a)Y&]a!g&]a)j&]a[&]a!W&]a!T&]a#v&]a(v&]a!U&]aQ&]a!d&]a~O)T-kO!V&]a~P$DbO[-kO~O!W-kO~O!V-lO)T&]a~P$DbO](}Xe(}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!V(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X~Om;mO~P$GQO]&cO!V&bO)X-mO~Om;cO!o-pO#V+yO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)QYO~P!8jO!n-yO(r,fO~O)QYO)X-{O~OPmO]$eOb%QOm:zO!T.QO!V$fO!X!XO!Y!WO!i!YO#V.XO#a.WO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO(x.PO)T$kO)W$kO)X-}O)Y!ZO)[XO)hcO)idO~O!U.VO~P$JbO])^Xe)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^Xz)^X!O)^X!T)^X!V)^X!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)T)^X)V)^X)W)^X)X)^X[)^X!h)^X)Y)^X!X)^X!Y)^X![)^X!^)^X!_)^X!a)^X!b)^X!c)^X!e)^X!f)^X(u)^X(w)^X(x)^X)U)^X!g)^X)j)^X!W)^XQ)^X!d)^X#T)^X#V)^X#p)^X#v)^Xb)^X|)^X!o)^X#a)^X#b)^X#i)^X#t)^X${)^X%c)^X%e)^X%k)^X%l)^X%o)^X&m)^X)Q)^X!U)^X~Om*[O~P$LlOm$oO!T(QO!l.^O(r$nO(v(PO)QYO~Oq&fOm)^X~P$LlOm$oO!n.cO!o.cO(r$nO)QYO~Om;dO!U.nO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)QYO~P!8jO!T(QO!l.^O(v(PO])OXe)OXm)OXs)OXt)OXu)OXv)OXw)OXx)OXy)OXz)OX!O)OX!V)OX!r)OX!s)OX!t)OX!u)OX!v)OX!x)OX!{)OX%v)OX&r)OX&s)OX(r)OX)T)OX)V)OX)W)OX~O)X)OX[)OX!X)OX!Y)OX![)OX!^)OX!_)OX!a)OX!b)OX!c)OX!e)OX!f)OX!h)OX(u)OX(w)OX(x)OX)U)OX)Y)OX!g)OX)j)OX!W)OXQ)OX!d)OX!U)OX#v)OX~P%%eO!T(QO~O!T(QO(v(PO~O(r%nO!U*QP~O!T(ZO(v.uO]&kae&kam&kas&kat&kau&kav&kaw&kax&kay&kaz&ka!O&ka!V&ka!r&ka!s&ka!t&ka!u&ka!v&ka!x&ka!{&ka%v&ka&r&ka&s&ka(r&ka)T&ka)V&ka)W&ka)X&ka[&ka!X&ka!Y&ka![&ka!^&ka!_&ka!a&ka!b&ka!c&ka!e&ka!f&ka!h&ka(u&ka(w&ka(x&ka)U&ka)Y&ka!g&ka)j&ka!W&kaQ&ka!d&ka!U&ka#v&ka~Om$oO!T(ZO(r$nO~O&r#WO&s$wO]&pae&pam&pas&pat&pau&pav&paw&pax&pay&paz&pa!O&pa!V&pa!r&pa!s&pa!t&pa!u&pa!v&pa!x&pa!{&pa%v&pa(r&pa)T&pa)V&pa)W&pa)X&pa[&pa!T&pa!X&pa!Y&pa![&pa!^&pa!_&pa!a&pa!b&pa!c&pa!e&pa!f&pa!h&pa(u&pa(w&pa(x&pa)U&pa)Y&pa!g&pa)j&pa!W&paQ&pa!d&pa(v&pa!U&pa#v&pa~O&s.zO~P!(zO!Y#qO![#rO!f#zO)T#mO!^'Ua!_'Ua!a'Ua!b'Ua!c'Ua!e'Ua!h'Ua(u'Ua)U'Ua)V'Ua)W'Ua)X'Ua)Y'Ua!g'Ua)j'Ua['Ua!W'Ua(v'Ua!U'UaQ'Ua!d'Ua~P#3zO!V'dX!X'dX!Y'dX!['dX!^'dX!_'dX!a'dX!b'dX!c'dX!e'dX!f'dX!h'dX(u'dX(w'dX(x'dX)T'dX)U'dX)V'dX)W'dX)Y'dX['dX~O].|O)X'dX!g'dX)j'dX!W'dX(v'dX!U'dXQ'dX!d'dX~P%2xO!Y#qO![#rO!f#zO)T#mO!^'Wa!_'Wa!a'Wa!b'Wa!c'Wa!e'Wa!h'Wa(u'Wa)U'Wa)V'Wa)W'Wa)X'Wa)Y'Wa!g'Wa)j'Wa['Wa!W'Wa(v'Wa!U'WaQ'Wa!d'Wa~P#3zO]#}O!T$WO!V.}O&r#WO&s$wO~O!X'Za!Y'Za!['Za!^'Za!_'Za!a'Za!b'Za!c'Za!e'Za!f'Za!h'Za(u'Za(w'Za(x'Za)T'Za)U'Za)V'Za)W'Za)X'Za)Y'Za!g'Za)j'Za['Za!W'Za(v'Za!U'ZaQ'Za!d'Za~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^a)X'^a!g'^a)j'^a['^a!W'^a(v'^a!U'^aQ'^a!d'^a~P#3zOPmO]$eOb%QOm:zO!V$fO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)T$kO)W%]O)Y!ZO)[XO)hcO)idO)j%[O~O!W/QO~P%:oOS(qOT(nO]#}O*W(pO~O]/TO'f/UO*W/RO~OS/YOT(nO*W/XO~O]#}O~Q'na!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO(v/[O)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X#Zi[#Zi~P#3zO]dXmhXqdXqjX!VdX!XdX!YdX![dX!^dX!_dX!adX!bdX!cdX!edX!fdX!gdX!hdX(udX(wdX(xdX)TdX)UdX)VdX)WdX)XdX)YdX)jdX[dX!WdX(vdX!TdX#vdX!UdXQdX!ddX~Oe/^O%Y*TO(y/]O~Om/_O~Om/`O~Oq&fO]ci!Vci!Xci!Yci![ci!^ci!_ci!aci!bci!cci!eci!fci!gci!hci(uci(wci(xci)Tci)Uci)Vci)Wci)Xci)Yci)jci[ci!Wci(vci!UciQci!dci~O!W/bO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO![#rO)T#mO!Y&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y&zi![&zi!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)T&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)V#nO)W#pO!h&zi(u&zi)U&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!^&zi!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)W#pO!^&zi!_&zi!h&zi(u&zi)U&zi)V&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO!^&zi!_&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!b#yO!c#yO!e#yO!f#zO)T#mO!^&zi!_&zi!a&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!f#zO)T#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO)T#mO!^&zi!_&zi!a&zi!b&zi!c&zi!e&zi!f&zi!h&zi(u&zi)U&zi)V&zi)W&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)U#oO)V#nO)W#pO!h&zi(u&zi)X&zi)Y&zi!g&zi)j&zi[&zi!W&zi(v&zi!U&ziQ&zi!d&zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/cO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[(sX~P#3zO!h/cO[(sX~O[/eO~O]%Xaq%Xa!X%Xa!Y%Xa![%Xa!^%Xa!_%Xa!a%Xa!b%Xa!c%Xa!e%Xa!f%Xa!h%Xa(u%Xa(w%Xa(x%Xa)U%Xa)V%Xa)W%Xa)X%Xa)Y%Xa!g%Xa)j%Xa[%Xa!W%Xa!T%Xa#v%Xa(v%Xa!U%XaQ%Xa!d%Xa~O)T/fO!V%Xa~P&,aO[/fO~O!W/fO~O!V/gO)T%Xa~P&,aO!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi)Y'Zi!g'Zi)j'Zi['Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~P%6oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^i)X'^i!g'^i)j'^i['^i!W'^i(v'^i!U'^iQ'^i!d'^i~P#3zO!W/lO~P%:oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h/nO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U)rX~P#3zO(r/qO~O!V/sO(w)sO)j/uO~O!h/nO!U)rX~O!U/vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO)T#mO)U#oO)V#nO)W#pO)Y#|O!h`i(u`i)X`i!g`i)j`i[`i!W`i(v`i!U`iQ`i!d`i~P#3zO!R/wO~Om){O]!Qa!h!Qa)P!Qa)Y!Qa~OP0PO]0OOm0PO!R0PO!T/|O!V/}O!X0PO!Y0PO![0PO!^0PO!_0PO!a0PO!b0PO!c0PO!e0PO!f0PO!g0PO!h0PO!i0PO(pQO(v0PO(w0PO(x0PO)T/yO)U/zO)V/zO)W/{O)X0PO)Y0PO)[XO~O[0SO~P&6yO!R$[O~O!h*OO)P)Ra)Y)Ra~O)P0WO~O])dO!V)eO!X)bO!g)bO%Z)bO%[)bO%])bO%^)bO%_)fO%`)fO%a)bO(x)cO)j)bO)x)gO~Oe)oO%Y*TO(y$OO~O)X0YO~O]oXeoXmnXqoXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX!ToX!hoX)YoX[oXQoX!doX~O!loX(voX)XoX!XoX!YoX![oX!^oX!_oX!aoX!boX!coX!eoX!foX(uoX(woX(xoX)UoX!goX)joX!WoX!UoX#voX#ToX#VoX#poXboX|oX!ooX#aoX#boX#ioX#toX${oX%coX%eoX%koX%loX%ooX&moX)QoX~P&:uOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!O!_O!r!aO!s!aO!t!aO!u!aO!v!aO!x!cO~O])aie)aim)ai!V)ai!{)ai%v)ai(r)ai)T)ai)V)ai)W)aiQ)ai!d)ai!h)ai)Y)ai)j)ai[)ai!T)ai&r)ai(v)ai)X)ai~P&?sO]&cO!V&bO[#Qi!T#Qi!h#Qi#v#Qi)X#Qi)j#QiQ#Qi!d#Qi(v#Qi~O[raQra!dra!hra)Yra)Xra~P#9{O[raQra!dra!hra)Yra)Xra~P#IkO]&cO!V+kO[raQra!dra!hra)Yra)Xra~O!h*iO!W)ka~O!h*mO!W*Oa~OPmOb!]Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O|#RO!O!_O!X!XO!Y!WO!i!YO!s!aO!t!aO!v!aO!x!cO#V#QO#a#VO#b#TO#v!eO$Y!vO$Z!wO$`!iO$e!jO$g!kO$h!lO$k!mO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO%_#ZO%`#[O%a#YO%e#UO%l#SO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO)QYO)XiO)Y!ZO)[XO)hcO)idO~O]eOe!POmTO!T*qO!U&TO!V0hO!opO!r!`O!u!bO!{!dO#i#OO#p!xO#t!fO$R!gO$T!hO${!tO$}!uO%U!yO%c!zO%g!{O%o!|O%v!}O%|#PO(rRO(w)sO)TaO)V|O)W{O~P&DuO!h*tO)X)qa~OPmO]$eOb!]Om:|O|#RO!T$WO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;UO)QYO)T$kO)W$kO)Y0nO)[XO)hcO)idO[(sP[)dP~P&?sO!h*mO!W*OX~O]#}O!T$WO~O!h0sO!T)zX#v)zX)j)zX~O)X0uO~O)X0vO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X0xO)Y#|O~P#3zO)X0vO~P!?WO]1SOe!POm%bO!V1QO!{!dO%v$mO(r$xO)T0zO)Y0}O~O)V1OO)W1OO)j0{OQ#PX!d#PX!h#PX[#PX~P' dO!h1TOQ)lX!d)lX~OQ1VO!d1VO~O)Y1YO)j1XOQ#`X!d#`X!h#`X~P!<[O)Y1YO)j1XOQ#`X!d#`X!h#`X~P!;bOq&UO~O[#ka!T#ka#v#ka)X#ka)j#kaQ#ka!d#ka!h#ka)Y#ka!x#ka(v#ka~P#IkO]&cO!V+kO[#ka!T#ka#v#ka)X#ka)j#kaQ#ka!d#ka!h#ka)Y#ka!x#ka(v#ka~O!W1_O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W1_O)T1aO~P$%pO!W1_O~P!(zO]#ja!T#ja!V#ja[#ja#v#ja)X#ja)j#jaQ#ja!d#ja!h#ja)Y#ja!x#ja(v#ja~P$ xO[1eO]&cO!V+kO~O!h1fO[)dX~O[1hO~O]&cO!V+kO[#na!T#na#v#na)X#na)j#naQ#na!d#na!h#na)Y#na!x#na(v#na~O]1lOs#SXt#SXu#SXv#SXw#SXx#SXy#SXz#SX!T#SX!V#SX#T#SX#p#SX(x#SX)V#SX)W#SX!l#SX!x#SX#V#SX#v#SX(v#SX)j#SX[#SX!h#SX)X#SXQ#SX!d#SX)Y#SX~O]1mO~O]1pOm$oO!V$fO#V#QO(r$nO)hcO)idO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!l+zO#T+vO#V+yO#p+wO(x+tO)V+zO)W+zO~O])fX!T)fX!V)fX!x)fX#v)fX(v)fX)j)fX[)fX!h)fX)X)fXQ)fX!d)fX~P'+}O!x!cO]#Ri!T#Ri!V#Ri#v#Ri(v#Ri)j#Ri[#Ri!h#Ri)X#RiQ#Ri!d#Ri~O!W1xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W1xO)T1zO~P$%pO!W1xO~P!(zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ*RX!d*RX!h*RX~P#3zO)Y1{OQ({X!d({X!h({X~O!h1|OQ(zX!d(zX~OQ2OO!d2OO~O[2PO~O#t$lO)QYO~P8zOm-eO!TxO)j2TO~O[2UO~O#x,aOP#ui]#uib#uie#uim#uis#uit#uiu#uiv#uiw#uix#uiy#uiz#ui|#ui!O#ui!T#ui!V#ui!X#ui!Y#ui!i#ui!o#ui!r#ui!s#ui!t#ui!u#ui!v#ui!x#ui!{#ui#V#ui#a#ui#b#ui#i#ui#p#ui#t#ui#v#ui$R#ui$T#ui$Y#ui$Z#ui$`#ui$e#ui$g#ui$h#ui$k#ui$m#ui$o#ui$q#ui$s#ui$u#ui$w#ui${#ui$}#ui%U#ui%_#ui%`#ui%a#ui%c#ui%e#ui%g#ui%l#ui%o#ui%v#ui%|#ui&m#ui&r#ui&s#ui'Q#ui'R#ui'V#ui'Y#ui'a#ui'b#ui(k#ui(p#ui(r#ui)Q#ui)T#ui)V#ui)W#ui)X#ui)Y#ui)[#ui)h#ui)i#ui!U#ui$c#ui!n#ui%k#ui~O]&cO~O]&cO!TxO!V&bO#v!eO~O(v2ZO(w,cO)Q$Ua)X$Ua~O)QYO)X2]O~O[2^O~P,]O[2^O)X#jO~O[2^O~O$c2cOP$_i]$_ib$_ie$_im$_is$_it$_iu$_iv$_iw$_ix$_iy$_iz$_i|$_i!O$_i!T$_i!V$_i!X$_i!Y$_i!i$_i!o$_i!r$_i!s$_i!t$_i!u$_i!v$_i!x$_i!{$_i#V$_i#a$_i#b$_i#i$_i#p$_i#t$_i#v$_i$R$_i$T$_i$Y$_i$Z$_i$`$_i$e$_i$g$_i$h$_i$k$_i$m$_i$o$_i$q$_i$s$_i$u$_i$w$_i${$_i$}$_i%U$_i%_$_i%`$_i%a$_i%c$_i%e$_i%g$_i%l$_i%o$_i%v$_i%|$_i&m$_i&r$_i&s$_i'Q$_i'R$_i'V$_i'Y$_i'a$_i'b$_i(k$_i(p$_i(r$_i)Q$_i)T$_i)V$_i)W$_i)X$_i)Y$_i)[$_i)h$_i)i$_i!U$_i~O]1pO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X2fO)Y#|O~P#3zOPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)X2iO)Y!ZO)[XO)hcO)idO~P&?sO)X2fO~O(r-UO~O)QYO)j2lO~O)X2nO~O]-YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%RO(r-UO)T-VO~O)T2sO~O]&cO!V2uO!h2vO)X)uX~O]-YO!{!dO(r-UO)T-VO~O)X2yO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xi!o$Xi!{$Xi#i$Xi#p$Xi#t$Xi#v$Xi$R$Xi$T$Xi$Y$Xi$Z$Xi${$Xi%U$Xi%c$Xi%g$Xi%o$Xi%|$Xi(k$Xi)V$Xi!U$Xi$c$Xi~P$0kOm:{O(r:nO~P0zO]2}O~O)X2SO~O!u3PO(r%nO~O[3SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h3TO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[3UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO]&cO!V+kO!T%ui#v%ui)X%ui)j%ui~O!W3VO~Om:yO)X(}X~P$GQOb!TOm$oO|3]O#a#VO#b3[O#t!fO%e#UO%l3^O&m!RO&r#WO&s!TO(r$nO)QYO~P&?sOm;cO!o-pO#i-uO#t!fO${,yO%c!zO%k-tO%o!|O%v!}O(r;TO)QYO~P!8jO]&cO!V&bO)X3`O~O)X3aO~O)QYO)X3aO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X3bO)Y#|O~P#3zO)X3bO~O)X3eO~O!U3gO~P$JbOm$oO(r$nO~O]3iO!T'yO~P'+iO!T(QO!l3lO(v(PO])Oae)Oam)Oas)Oat)Oau)Oav)Oaw)Oax)Oay)Oaz)Oa!O)Oa!V)Oa!r)Oa!s)Oa!t)Oa!u)Oa!v)Oa!x)Oa!{)Oa%v)Oa&r)Oa&s)Oa(r)Oa)T)Oa)V)Oa)W)Oa)X)Oa[)Oa!X)Oa!Y)Oa![)Oa!^)Oa!_)Oa!a)Oa!b)Oa!c)Oa!e)Oa!f)Oa!h)Oa(u)Oa(w)Oa(x)Oa)U)Oa)Y)Oa!g)Oa)j)Oa!W)OaQ)Oa!d)Oa!U)Oa#v)Oa~Om$oO!n.cO!o.cO(r$nO~O!h3pO)Y3rO!T)_X~O!o3tO)QYO~P8zO)X3uO~PGVO]3zOm({O!T$WO!{!dO%v$mO&r#WO(r(zO(v4OO)T3wO)V3{O)W3{O~O)X4PO)j4RO~P(&eOm;dO!U4TO!n.pO!o.oO#i-uO${!tO$}!uO%g!{O%k-tO%o!|O%v!}O(r;VO)QYO~P!8jOm;dO%v!}O(r;VO~P!8jO(v4UO~Om$oO!T(QO(r$nO(v(PO)QYO~O!l3lO~P((sO)j4WO!U&oX!h&oX~O!h4XO!U*QX~O!U4ZO~Ob4]Om$oO&m!RO(r$nO~O!T(ZO]&kie&kim&kis&kit&kiu&kiv&kiw&kix&kiy&kiz&ki!O&ki!V&ki!r&ki!s&ki!t&ki!u&ki!v&ki!x&ki!{&ki%v&ki&r&ki&s&ki(r&ki)T&ki)V&ki)W&ki)X&ki[&ki!X&ki!Y&ki![&ki!^&ki!_&ki!a&ki!b&ki!c&ki!e&ki!f&ki!h&ki(u&ki(w&ki(x&ki)U&ki)Y&ki!g&ki)j&ki!W&kiQ&ki!d&ki!U&ki#v&ki~O(v&ki~P(*TO(v.uO~P(*TO[4`O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[4`O~O[4aO~O]#}O!T$WO!V'Zi!X'Zi!Y'Zi!['Zi!^'Zi!_'Zi!a'Zi!b'Zi!c'Zi!e'Zi!f'Zi!h'Zi(u'Zi(w'Zi(x'Zi)T'Zi)U'Zi)V'Zi)W'Zi)X'Zi)Y'Zi!g'Zi)j'Zi['Zi!W'Zi(v'Zi!U'ZiQ'Zi!d'Zi~OPmOb%QOm:zO!X!XO!Y!WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)Y!ZO)[XO)hcO)idO]#]aq#]a!T#]a!V#]a)T#]a)V#]a)W#]a~O(r%nO)Y4fO[*YP~O*W4eO~O'f4hO*W4eO~O*W4iO~OmnXqoXq&wX~Oe4kO%Y*TO(y/]O~Oe4kO%Y*TO(y4lO~O!h/cO[(sa~O!W4pO~O]&cO!V+kO!T%uq#v%uq)X%uq)j%uq~O]#}O!T$WO!X'Zq!Y'Zq!['Zq!^'Zq!_'Zq!a'Zq!b'Zq!c'Zq!e'Zq!f'Zq!h'Zq(u'Zq(w'Zq(x'Zq)T'Zq)U'Zq)V'Zq)W'Zq)X'Zq)Y'Zq!g'Zq)j'Zq['Zq!W'Zq(v'Zq!U'ZqQ'Zq!d'Zq~O!V'Zq~P(5bO!V.}O&r#WO&s$wO~P(5bO!T$WO!V)rO(w)sO!U(UX!h(UX~P!JwO!h/nO!U)ra~O!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h*iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!U4|O~P&6yO!W4|O~P&6yO[4|O~P&6yO[5RO~P&6yO]5SO!h'ua)P'ua)Y'ua~O!h*OO)P)Ri)Y)Ri~O]&cO!V&bO[#Qq!T#Qq!h#Qq#v#Qq)X#Qq)j#QqQ#Qq!d#Qq(v#Qq~O[riQri!dri!hri)Yri)Xri~P#IkO]&cO!V+kO[riQri!dri!hri)Yri)Xri~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'Tq)X'Tq!g'Tq)j'Tq['Tq!W'Tq(v'Tq!U'TqQ'Tq!d'Tq~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!W'|a!h'|a~P#3zO!W5XO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h5YO(u#gO)T#mO)U#oO)V#nO)W#pO)X#jO)Y#|O!U)rX~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h#{i)X#{i~P#3zO]*vO!T$WO!V&bO)j*rO!h(Va)X(Va~O!h1fO[)dX]'dX~P%2xO)Y5[O!T%qa!h%qa#v%qa)j%qa~O!h0sO!T)za#v)za)j)za~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X5_O)Y#|O~P#3zO]1SOe!POm;[O!V1QO!{!dO%v$mO(r$xO)T;xO)V5aO)W5aO~OQ#Pa!d#Pa!h#Pa[#Pa~P(DjO]1SOe!POs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V1QO!{!dO!|%RO%v$mO(r$xOQ#kX!d#kX!h#kX[#kX~Om%bO)T0zO)V;yO)W;yO~P(ElO]&cOQ#Pa!d#Pa!h#Pa[#Pa~O!V&bO)j5eO~P(GZO(r%nOQ#dX!d#dX!h#dX[#dX~O)V;yO)W;yOQ#nX!d#nX!h#nX[#nX~P' dO!V+kO~P(GZO]1SOb!TOe!POm;]O|#RO!V1QO!{!dO#a#VO#b#TO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO(r;QO)QYO)T;xO)V5aO)W5aO)Y+nO[)dP~P&?sO!h1TOQ)la!d)la~Oq&fO)j5jOQ#`am(}X!d#`a!h#`a)Y(}X~P$GQO(r-UOQ#ga!d#ga!h#ga~Oq&fO)j5jOQ#`a])^Xe)^Xm)^Xs)^Xt)^Xu)^Xv)^Xw)^Xx)^Xy)^Xz)^X!O)^X!T)^X!V)^X!d#`a!h#`a!l)^X!r)^X!s)^X!t)^X!u)^X!v)^X!x)^X!{)^X%v)^X&r)^X&s)^X(r)^X(v)^X)T)^X)V)^X)W)^X)Y)^X~O#a5mO#b5mO~O]&cO!V+kO[#ki!T#ki#v#ki)X#ki)j#kiQ#ki!d#ki!h#ki)Y#ki!x#ki(v#ki~O!W5oO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W5oO~P!(zO!W5oO)T5qO~P$%pO]#ji!T#ji!V#ji[#ji#v#ji)X#ji)j#jiQ#ji!d#ji!h#ji)Y#ji!x#ji(v#ji~P$ xO)QYO)Y5sO~P8zO!h1fO[)da~O&r#WO&s$wO!T#qa!x#qa#v#qa(v#qa)j#qa[#qa!h#qa)X#qaQ#qa!d#qa)Y#qa~P#NeO[5xO~P!(zO[)oP~P!4xO)U6OO)V5|O]#Ua!T#Ua!V#Ua)T#Ua)W#Uas#Uat#Uau#Uav#Uaw#Uax#Uay#Uaz#Ua!l#Ua!x#Ua#T#Ua#V#Ua#p#Ua#v#Ua(v#Ua(x#Ua)j#Uab#Uae#Uam#Ua|#Ua!O#Ua!o#Ua!r#Ua!s#Ua!t#Ua!u#Ua!v#Ua!{#Ua#a#Ua#b#Ua#i#Ua#t#Ua${#Ua%c#Ua%e#Ua%k#Ua%l#Ua%o#Ua%v#Ua&m#Ua&r#Ua&s#Ua(r#Ua)Q#Ua)X#Ua[#Ua!h#UaQ#Ua!d#Ua~O!x!cO]#Rq!T#Rq!V#Rq#v#Rq(v#Rq)j#Rq[#Rq!h#Rq)X#RqQ#Rq!d#Rq~O!W6TO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W6TO~P!(zO!h1|OQ(za!d(za~O)X6YO~Om-eO!TxO)j6ZO~O]*vO!T$WO!V&bO!h*tO)X)qX~O)j6_O~P)+cO[6aO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[6aO~O$c6cOP$_q]$_qb$_qe$_qm$_qs$_qt$_qu$_qv$_qw$_qx$_qy$_qz$_q|$_q!O$_q!T$_q!V$_q!X$_q!Y$_q!i$_q!o$_q!r$_q!s$_q!t$_q!u$_q!v$_q!x$_q!{$_q#V$_q#a$_q#b$_q#i$_q#p$_q#t$_q#v$_q$R$_q$T$_q$Y$_q$Z$_q$`$_q$e$_q$g$_q$h$_q$k$_q$m$_q$o$_q$q$_q$s$_q$u$_q$w$_q${$_q$}$_q%U$_q%_$_q%`$_q%a$_q%c$_q%e$_q%g$_q%l$_q%o$_q%v$_q%|$_q&m$_q&r$_q&s$_q'Q$_q'R$_q'V$_q'Y$_q'a$_q'b$_q(k$_q(p$_q(r$_q)Q$_q)T$_q)V$_q)W$_q)X$_q)Y$_q)[$_q)h$_q)i$_q!U$_q~O)X6dO~OPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)T$kO)W$kO)X6fO)Y!ZO)[XO)hcO)idO~P&?sO(v6hO)j*rO~P)+cO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X6fO)Y#|O~P#3zO[6jO~P!(zO)X6nO~O)X6oO~O]-YOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO(r-UO)T-VO~O]&cO!V2uO!h%Oa)X%Oa[%Oa~O!W6uO)T6vO~P$%pO!h2vO)X)ua~O[6yO]&cO!V2uO~O!TxO$`!iO$e!jO$g!kO$h!lO$k-bO$m!nO$o!oO$q!pO$s!qO$u!rO$w!sO$}!uO(r:nOe$Xq!o$Xq!{$Xq#i$Xq#p$Xq#t$Xq#v$Xq$R$Xq$T$Xq$Y$Xq$Z$Xq${$Xq%U$Xq%c$Xq%g$Xq%o$Xq%|$Xq(k$Xq)V$Xq!U$Xq$c$Xq~P$0kOPmO]$eOb!]Om:{O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r:}O)QYO)T$kO)W$kO)X6{O)Y!ZO)[XO)hcO)idO~P&?sO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X7OO)Y#|O~P#3zO)X7PO~OP7QO(pQO~Om*[O)X)^X~P$GQOq&fOm(}X)X)^X~P$GQO)X7SO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X&Sa~P#3zO!U7UO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO)X7VO~OPmO]$eOb!]Om:|O|#RO!V$fO!X!XO!Y!WO!i!YO#V#QO#a#VO#b#TO%_#ZO%`#[O%a#YO%e#UO%l#SO%v$mO&m!RO&r#WO&s!TO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r;UO)QYO)T$kO)W$kO)Y0nO)[XO)hcO)idO[)dP~P&?sO!h3pO)Y7ZO!T)_a~O!h3pO!T)_a~O)X7`O)j7bO~P(&eO)X7dO~PGVO]3zOm({Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!{!dO!|%RO%v$mO&r#WO(r(zO)T3wO)V3{O)W3{O~O)T7hO~O]&cO!T*qO!V7jO!h7kO#v!eO(v4OO~O)X7`O)j7mO~P)FwO]3zOm({O!{!dO%v$mO&r#WO(r(zO)T3wO)V3{O)W3{O~Oq&fO])cX!T)cX!V)cX!h)cX#v)cX(v)cX)X)cX)j)cX[)cX~O)X7`O~O!T(QO!l7sO(v(PO])Oie)Oim)Ois)Oit)Oiu)Oiv)Oiw)Oix)Oiy)Oiz)Oi!O)Oi!V)Oi!r)Oi!s)Oi!t)Oi!u)Oi!v)Oi!x)Oi!{)Oi%v)Oi&r)Oi&s)Oi(r)Oi)T)Oi)V)Oi)W)Oi)X)Oi[)Oi!X)Oi!Y)Oi![)Oi!^)Oi!_)Oi!a)Oi!b)Oi!c)Oi!e)Oi!f)Oi!h)Oi(u)Oi(w)Oi(x)Oi)U)Oi)Y)Oi!g)Oi)j)Oi!W)OiQ)Oi!d)Oi!U)Oi#v)Oi~O(r%nO!U(fX!h(fX~O!h4XO!U*Qa~Oq&fO]*Pae*Pam*Pas*Pat*Pau*Pav*Paw*Pax*Pay*Paz*Pa!O*Pa!T*Pa!V*Pa!r*Pa!s*Pa!t*Pa!u*Pa!v*Pa!x*Pa!{*Pa%v*Pa&r*Pa&s*Pa(r*Pa)T*Pa)V*Pa)W*Pa)X*Pa[*Pa!X*Pa!Y*Pa![*Pa!^*Pa!_*Pa!a*Pa!b*Pa!c*Pa!e*Pa!f*Pa!h*Pa(u*Pa(w*Pa(x*Pa)U*Pa)Y*Pa!g*Pa)j*Pa!W*PaQ*Pa!d*Pa(v*Pa!U*Pa#v*Pa~O!T(ZO]&kqe&kqm&kqs&kqt&kqu&kqv&kqw&kqx&kqy&kqz&kq!O&kq!V&kq!r&kq!s&kq!t&kq!u&kq!v&kq!x&kq!{&kq%v&kq&r&kq&s&kq(r&kq)T&kq)V&kq)W&kq)X&kq[&kq!X&kq!Y&kq![&kq!^&kq!_&kq!a&kq!b&kq!c&kq!e&kq!f&kq!h&kq(u&kq(w&kq(x&kq)U&kq)Y&kq!g&kq)j&kq!W&kqQ&kq!d&kq(v&kq!U&kq#v&kq~OPmOb%QOm:zO!T$WO!i!YO#V#QO%_#ZO%`#[O%a#YO%v$mO'Q!WO'R!WO'V#XO'Y![O'a![O'b![O(pQO(r$xO)[XO)hcO)idO~O]*Ui!V*Ui!X*Ui!Y*Ui![*Ui!^*Ui!_*Ui!a*Ui!b*Ui!c*Ui!e*Ui!f*Ui!h*Ui(u*Ui(w*Ui(x*Ui)T*Ui)U*Ui)V*Ui)W*Ui)X*Ui)Y*Ui!g*Ui)j*Ui[*Ui!W*Ui(v*Ui!U*UiQ*Ui!d*Ui~P*&WO[7xO~O!W7yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^q)X'^q!g'^q)j'^q['^q!W'^q(v'^q!U'^qQ'^q!d'^q~P#3zO!h7zO[*YX~O[7|O~O*W7}O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h_y)X_y!g_y)j_y[_y!W_y(v_y!U_yQ_y!d_y~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[(ha!h(ha~P#3zO]#}O!T$WO!V'Zy!X'Zy!Y'Zy!['Zy!^'Zy!_'Zy!a'Zy!b'Zy!c'Zy!e'Zy!f'Zy!h'Zy(u'Zy(w'Zy(x'Zy)T'Zy)U'Zy)V'Zy)W'Zy)X'Zy)Y'Zy!g'Zy)j'Zy['Zy!W'Zy(v'Zy!U'ZyQ'Zy!d'Zy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!h'^y)X'^y!g'^y)j'^y['^y!W'^y(v'^y!U'^yQ'^y!d'^y~P#3zO]&cO!V+kO!T%uy#v%uy)X%uy)j%uy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U(Ua!h(Ua~P#3zO!W4xO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U#}i!h#}i~P#3zO!U8PO~P&6yO!W8PO~P&6yO[8PO~P&6yO[8RO~P&6yO]&cO!V&bO[#Qy!T#Qy!h#Qy#v#Qy)X#Qy)j#QyQ#Qy!d#Qy(v#Qy~O]&cO!V+kO[rqQrq!drq!hrq)Yrq)Xrq~O]&cOQ#Pi!d#Pi!h#Pi[#Pi~O!V+kO~P*9jOQ#nX!d#nX!h#nX[#nX~P(DjO!V&bO~P*9jOQ(OX](OXe'qXm'qXs(OXt(OXu(OXv(OXw(OXx(OXy(OXz(OX!V(OX!d(OX!h(OX!{'qX%v'qX(r'qX)T(OX)V(OX)W(OX[(OX~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ#_i!d#_i!h#_i[#_i~P#3zO&r#WO&s$wOQ#fi!d#fi!h#fi~O(r-UO)Y1YO)j1XOQ#`X!d#`X!h#`X~O!W8WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W8WO~P!(zO!T#qi!x#qi#v#qi(v#qi)j#qi[#qi!h#qi)X#qiQ#qi!d#qi)Y#qi~O]&cO!V+kO~P*?fO]&YO!V&WO&r#WO&s$wO)T&VO)V&ZO)W&ZO~P*?fO[8YO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!h8ZO[)oX~O[8]O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ*TX!d*TX!h*TX~P#3zO)Y8`OQ*SX!d*SX!h*SX~O)X8bO~O[$bi!h#{a)X#{a~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X8eO)Y#|O~P#3zO[8gO~P!(zO[8gO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[8gO~O]&cO!V&bO(v8mO~O)X8nO~O]&cO!V2uO!h%Oi)X%Oi[%Oi~O!W8qO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W8qO)T8sO~P$%pO!W8qO~P!(zO]&cO!V2uO!h(Ya)X(Ya~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)X8tO)Y#|O~P#3zO)X2iO~P!(zO)X8tO~OP%oO[8uO(pQO~O[8uO~O)X8vO~P%%eO#T8yO(x.PO)X8wO~O!h3pO!T)_i~O)Y8}O!T'wa!h'wa~O)X9PO)j9RO~P)FwO)X9PO~O)X9PO)j9VO~P(&eOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P)GgO]&cO!V7jO!T!ya!h!ya#v!ya(v!ya)X!ya)j!ya[!ya~O!W9^O)T9_O~P$%pO!T$WO!h7kO(v4OO)X9PO)j9VO~O!T$WO~P#EfO[9bO]&cO!V7jO~O]&cO!V7jO!T&aa!h&aa#v&aa(v&aa)X&aa)j&aa[&aa~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O)X&ba~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X9PO)Y#|O~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U&oi!h&oi~P#3zO!V.}O]']i!T']i!X']i!Y']i![']i!^']i!_']i!a']i!b']i!c']i!e']i!f']i!h']i(u']i(w']i(x']i)T']i)U']i)V']i)W']i)X']i)Y']i!g']i)j']i[']i!W']i(v']i!U']iQ']i!d']i~O(r%nO)Y9eO~O!h7zO[*Ya~O[9gO~P&6yO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O!U(Ua)X#Zi~P#3zO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|OQ#_q!d#_q!h#_q[#_q~P#3zO&r#WO&s$wOQ#fq!d#fq!h#fq~O)j5jOQ#`a!d#`a!h#`a~O]&cO!V+kO!T#qq!x#qq#v#qq(v#qq)j#qq[#qq!h#qq)X#qqQ#qq!d#qq)Y#qq~O!h8ZO[)oa~O)V5|O]&Vi!T&Vi!V&Vi)T&Vi)U&Vi)W&Vis&Vit&Viu&Viv&Viw&Vix&Viy&Viz&Vi!l&Vi!x&Vi#T&Vi#V&Vi#p&Vi#v&Vi(v&Vi(x&Vi)j&Vib&Vie&Vim&Vi|&Vi!O&Vi!o&Vi!r&Vi!s&Vi!t&Vi!u&Vi!v&Vi!{&Vi#a&Vi#b&Vi#i&Vi#t&Vi${&Vi%c&Vi%e&Vi%k&Vi%l&Vi%o&Vi%v&Vi&m&Vi&r&Vi&s&Vi(r&Vi)Q&Vi)X&Vi[&Vi!h&ViQ&Vi!d&Vi~O)X9jO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O[$bq!h#{i)X#{i~P#3zO[9lO~P!(zO[9lO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[9lO~O]&cO!V&bO(v9oO~O[9pO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[9pO~O]&cO!V2uO!h%Oq)X%Oq[%Oq~O!W9tO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W9tO~P!(zO)X6fO~P!(zO)X9uO~O)X9vO~O(x.PO)X9vO~O!h3pO!T)_q~O)Y9xO!T'wi!h'wi~O!T$WO!h7kO(v4OO)X9yO)j9{O~O)X9yO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X9yO)Y#|O~P#3zO)X9yO)j:OO~P)FwO]&cO!V7jO!T!yi!h!yi#v!yi(v!yi)X!yi)j!yi[!yi~O!W:SO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W:SO)T:UO~P$%pO!W:SO~P!(zO]&cO!V7jO!T(da!h(da(v(da)X(da)j(da~O[:WO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO!h#iO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:WO~O[:]O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:]O~O]&cO!V2uO!h%Oy)X%Oy[%Oy~O)X:^O~O)X:_O~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:_O)Y#|O~P#3zO!T$WO!h7kO(v4OO)X:_O)j:bO~O]&cO!V7jO!T!yq!h!yq#v!yq(v!yq)X!yq)j!yq[!yq~O!W:dO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO!W:dO~P!(zO[:fO!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)Y#|O~P#3zO[:fO~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:hO)Y#|O~P#3zO)X:hO~O]&cO!V7jO!T!yy!h!yy#v!yy(v!yy)X!yy)j!yy[!yy~O!Y#qO![#rO!^#uO!_#vO!a#xO!b#yO!c#yO!e#yO!f#zO(u#gO)T#mO)U#oO)V#nO)W#pO)X:lO)Y#|O~P#3zO)X:lO~O]ZXmhXqZXqjX!TjX!VZX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX(uZX(v$]X(wZX(xZX)TZX)UZX)VZX)WZX)XZX)YZX)jZX~O]%WXmnXqoXq%WX!ToX!V%WX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!e%WX!f%WX!gnX!h%WX(u%WX(w%WX(x%WX)T%WX)U%WX)V%WX)W%WX)Y%WX)jnX[%WXQ%WX!d%WX~O)X%WX!W%WX(v%WX!U%WX~P+GrO]oX]%WXeoXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!VoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX[oX[%WX!hoX)YoX~O)XoX)joX~P+JSO]%WXmnXqoXq%WX!V%WX!h%WXQ%WX!d%WX[%WX~O!T%WX#v%WX)X%WX)j%WX(v%WX~P+LmOQoXQ%WX!ToX!X%WX!Y%WX![%WX!^%WX!_%WX!a%WX!b%WX!c%WX!doX!d%WX!e%WX!f%WX!gnX!h%WX(u%WX(w%WX(x%WX)T%WX)U%WX)V%WX)W%WX)Y%WX)jnX~P+JSO]oX]%WXmnXqoXq%WXsoXtoXuoXvoXwoXxoXyoXzoX!OoX!V%WX!roX!soX!toX!uoX!voX!xoX!{oX%voX&roX&soX(roX)ToX)VoX)WoX~O!ToX(voX)XoX)joX~P, eOeoX!VoX)X%WX~P, eOmnXqoX)X%WX~Oe)oO%Y)pO(y:oO~Oe)oO%Y)pO(y:tO~Oe)oO%Y)pO(y:pO~Oe$RO%Y*TO'[$TO'_$UO(y:oO~Oe$RO%Y*TO'[$TO'_$UO(y:qO~Oe$RO%Y*TO'[$TO'_$UO(y:sO~O[jX]jXsjXtjXujXvjXwjXxjXyjXzjX!VjX&rjX&sjX)TjX)VjX)WjXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(rjX~P#1jO]ZXmhXqZXqjX!VZX!hZX)XZX)jZX~O!TZX#vZX(vZX~P,'{OmhXqjX)QjX)XZX)jjX~O]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX[ZX[jX!hjX)YjX)jjX~O)XZX~P,)VO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!TjX!VZX!VjX!XZX!YZX![ZX!^ZX!_ZX!aZX!bZX!cZX!eZX!fZX!gZX!hZX!hjX&rjX&sjX(uZX(wZX(xZX)TZX)TjX)UZX)VZX)VjX)WZX)WjX)YZX)YjX)jZX~OQZXQjX!dZX!djX~P,+pO]jXejXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX~P#1jO]ZX]jXejXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!VZX!VjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX)TjX)VjX)WjX~O)XjX~P,0rO[ZX[jXejX!OjX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX(rjX)jjX~P,+pO]ZX]jXmhXqZXqjXsjXtjXujXvjXwjXxjXyjXzjX!OjX!TjX!VZX!rjX!sjX!tjX!ujX!vjX!xjX!{jX%vjX&rjX&sjX(rjX(vjX)TjX)VjX)WjX)XjX)jjX~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~PBUOe$RO%Y*TO(y:oO~Oe$RO%Y*TO(y:pO~Oe$RO%Y*TO(y:vO~Oe$RO%Y*TO(y:uO~O]%hOe!POm%bOs!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O!V%kO!{!dO!|%RO%v$mO(r$xO)T;aO)V;bO)W;bO~O]%hOe!POm%bO!V%kO!{!dO%v$mO(r$xO)T;aO)V;bO)W;bO~Oe$RO%Y$SO(y:pO~Oe$RO%Y$SO(y:tO~Om:yO~Om:xO~O]dXmhXqjX!TdX~Oe)oO%Y*TO(y:oO~Oe)oO%Y*TO(y:pO~Oe)oO%Y*TO(y:qO~Oe)oO%Y*TO(y:rO~Oe)oO%Y*TO(y:sO~Oe)oO%Y*TO(y:uO~Oe)oO%Y*TO(y:vO~Os!^Ot!^Ou!^Ov!^Ow!^Ox!^Oy!^Oz!^O~P,9OO](}Xs(}Xt(}Xu(}Xv(}Xw(}Xx(}Xy(}Xz(}X!O(}X!r(}X!s(}X!t(}X!u(}X!v(}X!x(}X!{(}X%v(}X&r(}X&s(}X(r(}X)T(}X)V(}X)W(}X)j(}X~Om:xO!T(}X(v(}X)X(}X~P,<}O]&wXmnXqoX!T&wX~Oe4kO%Y*TO(y;tO~Om;[O)T;xO)V5aO)W5aO~P(ElOe!POm%bO!{!dO%v$mO(r$xO~O]1SO!V1QO)T0zO)V;yO)W;yOQ#nX!d#nX!h#nX[#nX~P,?yO)T;YO~Om;hO~Om;iO~Om;jO~Om;lO~Om;mO~Om;nO~Om;lO!T$WOQ(}X!d(}X!h(}X)Y(}X[(}X)j(}X~P$GQOm;jO!T$WO~P$GQOm;hO!g$YO)j$YO~Om;jO!g$YO)j$YO~Om;lO!g$YO)j$YO~Om;iO[(}X!h(}X)Y(}X)j(}X~P$GQOe/^O%Y*TO(y;tO~Om;uO~O)T<YO~OV'e'h'i'g(p)[!R(rST%Z!Y!['je%[!i'R!f]'f*Z'k(w!^!_'l'm'l~",goto:"%5]*ZPPPPPP*[P*_PP.TPP4i7j7j:tP:t>OP>i>{?aFXMX!&]!,sP!3m!4b!5VP!5qPPPPPPPP!6[P!7tP!9V!:oP!:uPPPPPP!:xP!:xPP!:xPPPPPPPPP!;U!>lP!>oPP!?]!@QPPPPP!@UP>l!AgPP>l!Cn!Eo!E}!Gd!ITP!I`P!Io!Io!MP#!`##v#'S#*^!Eo#*hPP!Eo#*o#*u#*h#*h#*xP#*|#+k#+k#+k#+k!ITP#,U#,g#.|P#/bP#0}P#1R#1Z#2O#2Z#4i#4q#4q#1RP#1RP#4x#5OP#5YPP#5u#6d#7U#5uP#7v#8SP#5uP#5uPP#5u#5uP#5uP#5uP#5uP#5uP#5uP#5uP#8V#5Y#8sP#9YP#9o#9o#9o#9o#9|#1RP#:d#?`#?}PPPPPPPP#@uP#ATP#ATP#Aa#Dn#9OPP#@}#EQP#Ee#Ep#Ev#Ev#@}#FlP#1R#1R#1R#1R#1RP!Io#GW#G_#G_#G_#Gc!Ly#Gm!Ly#Gq!E}!E}!E}#Gt#L^!E}>l>l>l$#V!@Q!@Q!@Q!@Q!@Q!@Q!6[!6[!6[$#jP$%V$%e!6[$%kPP!6[$'y$'|#@l$(P:t7j$+V$-Q$.q$0a7jPP7j$2T7jP7j7jP7jP$5Z7jP7jPP7j$5gPPPPPPPPP*[P$8o$8u$;^$=d$=j$>Q$>[$>g$>v$>|$@[$AZ$Ab$Ai$Ao$Aw$BR$BX$Bd$Bj$Bs$B{$CW$C^$Ch$Cn$Cx$DP$D`$Df$DlP$Dr$Dz$ER$Ea$F}$GT$GZ$Gb$GkPPPPPPPP$Gq$GuPPPPP$Nw$'y$Nz%$S%&[PP%&i%&lPPPPPPPPP%&x%'{%(R%(V%)|%+Z%+|%,T%.d%.jPPP%.t%/P%/S%/Y%0a%0d%0n%0x%0|%2Q%2s%2y#@uP%3d%3t%3w%4X%4e%4i%4o%4u$'y$'|$'|%4x%4{P%5V%5YR#cP'`mO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fU%om%p7QQ&m!`Q(j#]d0P)}/|/}0O0R4}5O5P5S8QR7Q3Tb}Oaewx{!g&S*q&v$i[!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0{1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fS%`f0h#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YS%qm!YS&u!h#PQ']!tQ'g!yQ'h!zQ(j#`Q(k#]Q(l#^Q*x%kQ,W&lQ,]&nQ-S'^Q-d'fQ-k'qS.r(Z4XQ/f)gQ0e*mQ2Q,[Q2X,cQ3O-eQ4b.|Q4f/TQ5f0}Q6[2TQ6}3PQ8a6ZQ9e7zR;Z1Q$|#hS!]$y%Q%T%Z&j&k'Q'X'Z'a'c(a(e(h(w(x)R)S)T)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:iQ&p!dQ(g#ZQ(s#bQ)j$T[*s%e*W0k2`2g2{Q,^&oQ/O(fQ/S(kQ/Z(tS/i)i/PQ0r+QS4q/j/kR8O4r'a![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f'a!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ)O#kS+Q%y0sQ/r)sk3}.g3s3w3z3{7c7e7f7h7k9X9Y:RQ)Q#kk3|.g3s3w3z3{7c7e7f7h7k9X9Y:Rl)P#k.g3s3w3z3{7c7e7f7h7k9X9Y:RT+Q%y0s[UOwx!g&S*qW$`[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.o&|;{af{|!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k$|$}%S%]%h%m&Q&W&b&y&|'O'i'j'u'y(`(i)l)r*`*b*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0]0h0y0{1Q1a1b1l1p1z2c2i2j2u4O4R4W4a5Y5a5e5q6_6c6f6g6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f;`;xQ;|1Sd;}&x'P'b,w-]-^-a2f2z2}W<O&f*v1|3iQ<P#O[<Q!t'^'f,[2T6ZT<]%y0s[VOwx!g&S*qW$a[e$e(bQ$p.u!j$q_!f!u!}#V#Z$S$T$l%U&U&Y&c&m'_(g)j)p+[+a+t,X,k,z-Q-o.d1T1X1f1k1m2l3t5j8Z&^$zaf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fQ'r#O|'|#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[l(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS-n't-wQ3W-tU;s(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;x[<Q!t'^'f,[2T6ZW<R&f*v1|3id<S&x'P'b,w-]-^-a2f2z2}Q<Z1ST<]%y0s!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!v$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$Q%lgnp|#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ'[!tz(O#R#S#T#U'}(P(U(^+y.W.X._.`.q3[3]3^3p5}6P7[f-Z'`-T-V-Y2p2q2s2v6q6r8pQ1W+aQ1Z+bQ2k,yQ3X-tQ4[.uQ5l1YR8V5m!Q!UO[ewx!g$e&S&f&x'P'b(b*q*v,w-]-^-a1|2f2z2}3i!x$t_!f!u!}#O#V#Z$S$T$l%U&U&Y&c&m'_'t(Q(g)j)p+[+a+t,X,k,z-Q-o-w.d.m.o1S1T1X1f1k1m2l3t5j8Z&^%Paf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$S%lgnp|!t#k$g$|$}%S%d%h%i%w%y&s'^'f'u*Y*`*b*t+],[,l,v-_-p.f.g0]0s0y0z1O2T2_2j3s3w3z3{5a6Z6g7c7e7f7h7k9X9Y:R;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y|(O#R#S#T#U'}(P(U(^+b+y.W.X._.`.q3[3]3^3p5}6P7[Q3X-tR4[.u[WOwx!g&S*qW$b[e$e(b#l$p_!f!u!}#R#S#T#U#V#Z$S$T$l%U&U&Y&c&m'_'}(P(U(^(g)j)p+[+a+b+t+y,X,k,z-Q-o-t.W.X._.`.d.q.u1T1X1f1k1m2l3[3]3^3p3t5j5}6P7[8Z![%cg$g%d%i&s*Y*t+],l,v-_0z1O2_;W;X;Y;a;b;o;p;q;r;v;w;y<W<X<YY%snp%w-p.fl(|#k.g3s3w3z3{7c7e7f7h7k9X9Y:RS;e't-wU;f(Q.m.on;{|$|$}%S%h'u*`*b0]0y2j5a6g;`;xQ;|1SQ<P#O[<Q!t'^'f,[2T6Z&^<Taf{!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$f$k%]%m&Q&W&b&y&|'O'i'j'y(`(i)l)r*h*i*l*r+W+Y+h+j+k,P,R,n,q-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z2c2i2u4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fd<U&x'P'b,w-]-^-a2f2z2}W<V&f*v1|3iT<]%y0sp$PT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)m$V*U*[/_:w:x:y;h;i;j;k;l;m;n;up$QT$_$o%b%r({:z:{:|;[;];^;_;c;d<[o)n$V*U*[/_:w:x:y;h;i;j;k;l;m;n;u^&e}!O$i$j%`%j;Zd&i!U$t%P%l'[(O1W1Z3X4[V/a)O)P3}S%Ye$eQ,T&fQ.{(bQ2m-QQ5y1mQ6V1|Q6m2lR9h8Z#}!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Z#[^O[_`wx!f!g!}#O$S$d$l$s$u&S&U&Y&c&m&r&x'P'b't(Q)p*]*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3t_(U#R#S#T+b3[3]3^#}ZO[wx!g!k#R#S#T%m&S&U&Y&c&m&w&x&y&|'O'P'['b't'x'}(P(Q(U*q*v+[+b,X,h,k,q-P-]-^-a-o-t-w-z._.d.m.q1S1T1f2c2k2z2}3[3]3^3i6c6j8g9l9p:W:]:fQ$]YR0T*OR*Q$]e0P)}/|/}0O0R4}5O5P5S8Q'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fe0P)}/|/}0O0R4}5O5P5S8QR5T0T^(T#R#S#T+b3[3]3^Y.]'}(R(U(V7TU3k.Z.^.qS7X3l4VR9c7s^(S#R#S#T+b3[3]3^[.['}(R(T(U(V7TW3j.Z.].^.qU7W3k3l4VS8z7X7sR:V9cT.k(Q.md]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tQ%tnT1u+}1v!jbOaenpwx{|!g#O$|$}%S%h%w&S't'u(Q*`*b*q-p-w.f.m.o0]0y1S2j5a6g;`;xf-W'`-T-V-Y2p2q2s2v6q6r8pj3x.g3s3w3z3{7c7e7f7h7k9X9Y:Rr;zg$g%d%i&s*Y*t,l,v-_2_;W;X;Y;o;q;vi<^+]0z1O;a;b;p;r;w;y<W<X<Y!O&^y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yz&az%O%W%e&d's*W*_,b-x0Z0[0k0|2`2g2{5V5b6l8iS'{#Q.Xn+l&X*g+f+m+p-j/h0_1R1^4t5W5`5u8XQ2W,a^2t-X2r2x6p6w8o9se7i3y7_7g7o7p9U9W9`:Q:cS+^&U1TY+n&Y&c*v1S3iR5s1f#w!POaegnpwx{|!g#O$g$|$}%S%d%h%i%w&S&s't'u(Q*Y*`*b*q*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Y`oOwx!g&S't*q-w#U!Paeg{|#O$g$|$}%S%d%h%i&s'u*Y*`*b*t+],l,v-_0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YU%vnp-pQ*}%wS.e(Q.mT3v.f.oW+r&^+l+s1cV+z&a+{7iQ+x&`U+z&a+{7iQ-w'tT.S'y.U'`![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'W!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fW1r+y.X5}6PR2e,s!WjO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fY%Ve$e(b1p3iQ'S!nS(y#i5YQ,m&xQ,x'PS.O'y.UQ2b,nQ6k2iQ6|2}Q8h6fR9m8e'W![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fX1r+y.X5}6P'ayO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k+y,P,R,n,q,w-]-^-a-g.P.Q.U.X.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q5}6P6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ&`yS't#O-uR1[+cS+^&U1TR5n1[Q1P+]R5g1OR1P+]T+^&U1Tz&[%X&V&Y&Z'k)h*d*f+]+e/m0^0y0z1O1S1j5a5v;x;yQ&]yR1n+x!P&[y%X&V&Y&Z'k)h*d*f+]+e+x/m0^0y0z1O1S1j5a5v;x;yQ+u&^S+|&a7iS1d+l+sQ1t+{R5r1c!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fS%zo.eS&Oq-rQ&_yQ&q!eQ'e!yQ*p%eU*{%v%{3vS+P%x%}Q+q&]Q,Y&mS,Z&n'gQ,r&{S0X*W,bS0o*|*}Q0q+OQ1o+xS2S,]-fQ5U0ZQ5Z0pQ5{1nQ6Y2RQ6]2WQ7n3yQ9S7_R:P9U[uOwx!g&S*qQ,Y&mQ-v'tQ3Y-tR3_-wxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^S%zo.eS&Oq-rQ*p%eU*{%v%{3vS+P%x%}S0X*W,bS0o*|*}Q0q+OQ5U0ZQ5Z0pQ7n3yQ9S7_R:P9UT,_&q,`]uOwx!g&S*q[uOwx!g&S*qQ,Y&mQ,n&xQ,w'PW-`'b-]-a2zQ-v'tQ3Y-tQ3_-wR6{2}[%fg$g,l,v-_2_R0l*t^$XV!U$a$z%P<R<SQ'S!nS)`#}*vS)v$W*qQ)y$YY*s%e*W0k2g2{Q/O(fS/i)i/PS0a*h4aS0j*r6_Q0r+QQ4Q.gQ4n/cS4q/j/kS4v/n5YQ4{/uQ6`2`U7a3s3y4RQ8O4rQ8k6hY9Q7_7b7c7l7mQ9r8mW9z9O9R9U9VQ:Z9oU:a9{9}:OR:j:bS)v$W*qT4v/n5YZ)t$W)u*q/n5YQ&w!hR'x#PS,g&v'vQ2[,eR6^2ZxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fV$h[&|-^!XkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:f!WhO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR'W!q!WkO[wx!g!k%m&S&y&|'O'b*q,q-]-^-a2c2z6c6j8g9l9p:W:]:fR,n&xQ&y!iQ&{!jQ'O!lR,q&zR,o&xxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fX-`'b-]-a2z[uOwx!g&S*qQ,z'PQ-v'tS.k(Q.mR3_-w[uOwx!g&S*qQ,z'PW-`'b-]-a2zT.k(Q.mg-Z'`-T-V-Y2p2q2s2v6q6r8pylOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fb!OOaewx{!g&S*q&|$j[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d%jgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<YQ']!tQ-S'^Q-d'fQ2Q,[Q6[2TR8a6Zj$RT$_%b%r:z:{:|;[;];^;_;c;di)o$V*U:w:x:y;h;i;j;k;l;m;nj$RT$_%b%r:z:{:|;[;];^;_;c;dh)o$V*U:w:x:y;h;i;j;k;l;m;nS/^({<[V4k/_/`;u[uOwx!g&S*qQ-v'tR3_-w[uOwx!g&S*qT.k(Q.m'`!YO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fR7R3T[uOwx!g&S*qQ-v'tS.k(Q.mR3_-w[pOwx!g&S*qQ%wnS-p't-wT.f(Q.mS%{o.eS*|%v3vR0p*}Q+R%yR5]0sS%zo.eS&Oq-rU*{%v%{3vS+P%x%}S0o*|*}Q0q+OQ5Z0pQ7n3yQ9S7_R:P9U`qOwx!g&S(Q*q.mS%xn-pU%}p.f.oQ+O%wT-r't-wS'z#Q.XR.Y'{T.R'y.US.S'y.UQ8x7UR9w8yT5}1q8_R6P1q#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&}![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f#d!Pgnp|#O$g$|$}%S%d%h%i%w&s't'u(Q*Y*`*b*t+],l,v-_-p-w.f.m.o0]0y0z1O1S2_2j5a6g;W;X;Y;`;a;b;o;p;q;r;v;w;x;y<W<X<Yb!QOaewx{!g&S*q&|![[f!W!X!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#{#}$U$W$Y$e$f$k%]%m&Q&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W4a5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fk3|.g3s3w3z3{7c7e7f7h7k9X9Y:RQ4Q.gS7a3s3yU9Q7_7c7lS9z9O9UR:a9}#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR4].uQ(]#US.v([(^S4^.w.xR7w4_Q.s(ZR7u4X#|!TO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o1S1T1X1f1k1m1|2f2l2z2}3i3t5j8Zp$w`$d$s%X&r'`(_(f)i*d-T/k1j5k5v8Uq(}#k%y.g0s3s3w3z3{7c7e7f7h7k9X9Y:RR,U&fR6W1|'X!VO[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:f$q#rS%T%Z'Q'X'Z'a'c(a(e(h(w(x)R)S)U)V)W)X)Y)Z)[)])^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$]#sS%T%Z'Q'X'Z'a'c(h(w(x)R)V)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$Z#tS%T%Z'Q'X'Z'a'c(h(w(x)R)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i$c#wS%T%Z'Q'X'Z'a'c(h(w(x)R)U)V)W)X)^)_)k)q)x+X+g,O,S,j,u-h-i-|.y/p0`0b0g0i0w1`1y2a2h3R3c3d4c4d4j4m4s4u4y4z5d5p5w6U6e6i6s6z7q7r7t8S8T8c8f8j8r9T9[9k9q9|:T:Y:`:i'X![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/[/c/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ/P(fQ/j)iQ4r/kR9d7y']![O[aefwx{!W!X!g!k!n!r!s!v!x#X#Y#[#g#i#l#q#r#s#t#u#v#w#x#y#z#}$U$W$Y$e$f$k%]%m&Q&S&W&b&f&x&y&|'O'P'b'i'j'y(`(b(i)l)r*h*i*l*q*r*v+W+Y+h+j+k,P,R,n,q,w-]-^-a-g.P.Q.U.}/Q/[/c/l/n/s/u0h0{1Q1a1b1l1p1z1|2c2f2i2u2z2}3i4O4R4W5Y5e5q6_6c6f6h6j6t6v6{7b7j7m8e8g8m8s8t9R9V9]9_9l9o9p9{:O:U:W:]:b:fQ#eQR(u#eU$|a;`;xb%Ue$e&f(b-Q1m1|2l8ZQ'_!u!Q*^$|%U'_*`*f+h,P0]0^1b2p6q6t7e8p9X9]:R;W;o;p;v;w<WS*`$}%SQ*f%XS+h&W1QQ,P&bQ0]*bQ0^*dQ1b+kQ2p-VS6q2q2sQ6t2uQ7e3wQ8p6rS9X7f7hQ9]7jQ:R9YQ;W%dS;o;X;YS;p<X<YQ;v;qQ;w;rT<W0z;a[[Owx!g&S*ql$c[&|'}+[,X,h,k-P-^-o-z._.d.ql&|!k%m&y'O,q2c6c6j8g9l9p:W:]:f^'}#R#S#T+b3[3]3^`+[&U&Y&c*v1S1T1f3iS,X&m-tQ,h&wU,k&x'P2}S-P'[2kW-^'b-]-a2zS-o't-wQ-z'xQ._(PS.d(Q.mR.q(UQ)|$[R/x)|Q0R)}Q4}/|Q5O/}Q5P0OY5Q0R4}5O5P8QR8Q5SQ*P$]S0U*P0VR0V*QS.`(P._S3n.`7[R7[3pQ3q.aS7Y3o3rU7^3q7Y8{R8{7ZQ.m(QR4S.m!|_O[wx!f!g!}#O$S$l&S&U&Y&c&m&x'P'b't(Q)p*q*v+[,X,k,w,z-]-^-a-o-t-w.d.m.o1S1T1f2f2z2}3i3tU$r_$u*]U$u`$d&rR*]$sU$}a;`;xd*a$}*b2q6r7f9Y;X;q;r<XQ*b%SQ2q-VQ6r2sQ7f3wQ9Y7hQ;X%dQ;q;YQ;r<YT<X0z;aS+{&a7iR1s+{S*j%Z/pR0c*jQ1U+_R5i1UU+e&V0z;xR1]+eQ+s&^Q1c+lT1i+s1cQ8[5yR9i8[QwOS&Rw&ST&Sx*qQ,`&qR2V,`W)u$W*q/n5YR/t)uU/o)q)v0gR4w/o[*u%e%f*W2`2g2{R0m*uQ,d&uR2Y,dQ-a'bQ2z-]T2|-a2zQ2w-XR6x2wQ-f'gQ2R,]T3Q-f2RS%pm7QR*z%pdnOwx!g&S't(Q*q-w.mR%unQ0t+RR5^0tQ.U'yR3f.UQ1v+}R6Q1vU*n%`*x;ZR0f*nS1g+n0nR5t1gQ7l3yQ9O7_U9a7l9O9}R9}9U$O!SO[_ewx!f!g!u!}#O#V#Z$S$T$e$l%U&S&U&Y&c&f&m&x'P'_'b't(Q(b(g)j)p*q*v+[+a+t,X,k,w,z-Q-]-^-a-o-t-w.d.m.o.u1S1T1X1f1k1m1|2f2l2z2}3i3t5j8ZR&g!SQ4Y.sR7v4YQ1},UR6X1}S/d)_)`R4o/dW(o#a(j(k/SR/W(oQ7{4fR9f7{T)a#}*v!USO[wx!g!k%m&S&y&|'O'b,q-]-^-a2c2z6c6j8g9l9p:W:]:fj$ya{$k%]+j,R1a1z5q6v8s9_:UY%Te$e(b1p3iY%Zf$f(i)l*lQ&j!WQ&k!XQ'Q!nQ'X!rQ'Z!sQ'a!vQ'c!xQ(a#XQ(e#YS(h#[+YQ(w#gQ(x#iQ)R#lQ)S#qQ)T#rQ)U#sQ)V#tQ)W#uQ)X#vQ)Y#wQ)Z#xQ)[#yQ)]#zQ)^#{S)_#}*vQ)k$UQ)q$WQ)x$YQ+X&QS+g&W1QQ,O&bQ,S&fQ,j&xQ,u'PQ-h'iQ-i'jS-|'y.UQ.y(`S/p)r0hS0`*h4aQ0b*iQ0g*qQ0i*rQ0w+WS1`+h+kQ1y,PQ2a,nS2h,w6{Q3R-gQ3c.PQ3d.QQ4c.}Q4d/QQ4j/[Q4m/cQ4s/lQ4u/nQ4y/sQ4z/uQ5d0{Q5p1bQ5w1lQ6U1|S6e2f8tQ6i2iQ6s2uQ6z2}Q7q4OQ7r4RQ7t4WQ8S5YQ8T5eQ8c6_Q8f6fQ8j6hQ8r6tS9T7b7mQ9[7jQ9k8eQ9q8mS9|9R9VQ:T9]Q:Y9oS:`9{:OR:i:bR,V&fd]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3t#r${ae!u$e$|$}%S%U%X%d&W&b&f'_(b*`*b*d*f+h+k,P-Q-V0]0^1Q1b1m1|2l2p2q2s2u3w6q6r6t7e7f7h7j8Z8p9X9Y9]:R;W;X;Y;`;a;o;p;q;r;v;w<W<X<YQ%tnS+d&V+eW+r&^+l+s1cU+z&a+{7iQ1k+tT5c0z;x``Owx!g&S't*q-wS$d[-oQ$s_b%Xe$e&f(b-Q1m1|2l8Z!h&r!f!}#O$S$l&U&Y&c&m&x'P'b(Q)p*v+[,X,k,w,z-]-^-a-t.d.m.o1S1T1f2f2z2}3i3tQ'`!uS(_#V+aQ(f#ZS)i$T(gQ*d%UQ-T'_Q/k)jQ1j+tQ5k1XQ5v1kR8U5jS(W#R3]S(X#S3^V(Y#T+b3[R$^Ye0Q)}/|/}0O0R4}5O5P5S8QW(R#R#S#T+bQ([#US.Z'}(US.a(P._Q.x(^W1r+y.X5}6PQ3Z-tQ3h.WQ3o.`Q4V.qU7T3[3]3^Q7]3pR8|7[Q.b(PR3m._T.l(Q.mdgOwx!g&S&m't*q-t-wU$g[,X-oQ&s!fQ'k!}Q'u#OQ)h$SQ*Y$l`+]&U&Y&c*v1S1T1f3iQ,l&xQ,v'PY-_'b-]-a2z2}S.g(Q.mQ/m)pQ0y+[S2_,k-^S2j,w,zS3s.d.oQ6g2fR7c3td]Owx!g&S't(Q*q-w.m!v^[_`!f!}#O$S$d$l$s$u&U&Y&c&m&r&x'P'b)p*]*v+[,X,k,w,z-]-^-a-o-t.d.o1S1T1f2f2z2}3i3tR%tnQ3y.gQ7_3sQ7g3wQ7o3zQ7p3{Q9U7cU9W7e7f7hQ9`7kS:Q9X9YR:c:RZ+o&Y&c*v1S3ipzOnpwx!g%w&S't(Q*q-p-w.f.m.o[%Oa%d0z;`;a;xU%We%h1SQ%eg^&d{|%i1O5a;b;yQ's#OQ*W$gb*_$|$}%S;W;X;Y<W<X<YQ,b&sQ-x'uQ0Z*Y[0[*`*b;o;p;q;rQ0k*tQ0|+]Q2`,lQ2g,vS2{-_2_U5V0];v;wQ5b0yQ6l2jR8i6gQ+}&aR9Z7iS1q+y.XQ8^5}R8_6P[%^f$f(i)l)r0hR0d*lR+`&UQ+_&UR5h1TS&Xy+xQ*g%XU+f&V0z;xS+m&Y1SW+p&Z1O5a;yQ-j'kQ/h)hS0_*d*fQ1R+]Q1^+eQ4t/mQ5W0^Q5`0yQ5u1jR8X5vR5z1mYvOwx&S*qR&t!gW%gg,l,v-_T*X$g2_T)w$W*q[uOwx!g&S*qQ&}!kQ*y%mQ,p&yQ,t'OQ2d,qQ6b2cQ8d6cQ8l6jQ9n8gQ:X9lQ:[9pQ:e:WQ:g:]R:k:fxlOwx!g!k%m&S&y'O*q,q2c6c6j8g9l9p:W:]:fU$h[&|-^X-`'b-]-a2zQ-['`R2o-TS-X'`-TQ2r-VQ2x-YU6p2p2q2sQ6w2vS8o6q6rR9s8p[rOwx!g&S*qS-q't-wT.h(Q.mR+S%y[sOwx!g&S*qS-s't-wT.i(Q.m[tOwx!g&S*qT.j(Q.mT.T'y.UX%af%k0h1QQ.w([R4_.xR.t(ZR(d#XQ(r#aS/R(j(kR4e/SR/V(lR4g/T",nodeNames:" RawString > MacroName LineComment BlockComment PreprocDirective #include String EscapeSequence SystemLibString Identifier ) ( ArgumentList ConditionalExpression AssignmentExpression CallExpression PrimitiveType FieldExpression FieldIdentifier DestructorName TemplateMethod ScopedFieldIdentifier NamespaceIdentifier TemplateType TypeIdentifier ScopedTypeIdentifier ScopedNamespaceIdentifier :: NamespaceIdentifier TypeIdentifier TemplateArgumentList < TypeDescriptor const volatile restrict _Atomic mutable constexpr constinit consteval StructSpecifier struct MsDeclspecModifier __declspec Attribute AttributeName Identifier AttributeArgs { } [ ] UpdateOp ArithOp ArithOp ArithOp LogicOp BitOp BitOp BitOp CompareOp CompareOp CompareOp > CompareOp BitOp UpdateOp , Number CharLiteral AttributeArgs VirtualSpecifier BaseClassClause Access virtual FieldDeclarationList FieldDeclaration extern static register inline thread_local AttributeSpecifier __attribute__ PointerDeclarator MsBasedModifier __based MsPointerModifier FunctionDeclarator ParameterList ParameterDeclaration PointerDeclarator FunctionDeclarator Noexcept noexcept RequiresClause requires True False ParenthesizedExpression CommaExpression LambdaExpression LambdaCaptureSpecifier TemplateParameterList OptionalParameterDeclaration TypeParameterDeclaration typename class VariadicParameterDeclaration VariadicDeclarator ReferenceDeclarator OptionalTypeParameterDeclaration VariadicTypeParameterDeclaration TemplateTemplateParameterDeclaration template AbstractFunctionDeclarator AbstractPointerDeclarator AbstractArrayDeclarator AbstractParenthesizedDeclarator AbstractReferenceDeclarator ThrowSpecifier throw TrailingReturnType CompoundStatement FunctionDefinition MsCallModifier TryStatement try CatchClause catch LinkageSpecification Declaration InitDeclarator InitializerList InitializerPair SubscriptDesignator FieldDesignator ExportDeclaration export ImportDeclaration import ModuleName PartitionName HeaderName CaseStatement case default LabeledStatement StatementIdentifier ExpressionStatement IfStatement if ConditionClause Declaration else SwitchStatement switch DoStatement do while WhileStatement ForStatement for ReturnStatement return BreakStatement break ContinueStatement continue GotoStatement goto CoReturnStatement co_return CoYieldStatement co_yield AttributeStatement ForRangeLoop AliasDeclaration using TypeDefinition typedef PointerDeclarator FunctionDeclarator ArrayDeclarator ParenthesizedDeclarator ThrowStatement NamespaceDefinition namespace ScopedIdentifier Identifier OperatorName operator ArithOp BitOp CompareOp LogicOp new delete co_await ConceptDefinition concept UsingDeclaration enum StaticAssertDeclaration static_assert ConcatenatedString TemplateDeclaration FriendDeclaration friend union FunctionDefinition ExplicitFunctionSpecifier explicit FieldInitializerList FieldInitializer DefaultMethodClause DeleteMethodClause FunctionDefinition OperatorCast operator TemplateInstantiation FunctionDefinition FunctionDefinition Declaration ModuleDeclaration module RequiresExpression RequirementList SimpleRequirement TypeRequirement CompoundRequirement ReturnTypeRequirement ConstraintConjuction LogicOp ConstraintDisjunction LogicOp ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator TemplateFunction OperatorName StructuredBindingDeclarator ArrayDeclarator ParenthesizedDeclarator ReferenceDeclarator BitfieldClause FunctionDefinition FunctionDefinition Declaration FunctionDefinition Declaration AccessSpecifier UnionSpecifier ClassSpecifier EnumSpecifier SizedTypeSpecifier TypeSize EnumeratorList Enumerator DependentType Decltype decltype auto PlaceholderTypeSpecifier ParameterPackExpansion ParameterPackExpansion FieldIdentifier PointerExpression SubscriptExpression BinaryExpression ArithOp LogicOp LogicOp BitOp UnaryExpression LogicOp BitOp UpdateExpression CastExpression SizeofExpression sizeof CoAwaitExpression CompoundLiteralExpression NULL NewExpression new NewDeclarator DeleteExpression delete ParameterPackExpansion nullptr this UserDefinedLiteral ParamPack #define PreprocArg #if #ifdef #ifndef #else #endif #elif PreprocDirectiveName Macro Program",maxTerm:425,nodeProps:[["group",-35,1,8,11,15,16,17,19,71,72,100,101,102,104,191,208,229,242,243,270,271,272,277,280,281,282,284,285,286,287,290,292,293,294,295,296,"Expression",-13,18,25,26,27,43,255,256,257,258,262,263,265,266,"Type",-19,126,129,147,150,152,153,158,160,163,164,166,168,170,172,174,176,178,179,188,"Statement"],["isolate",-4,4,5,8,10,""],["openedBy",12,"(",52,"{",54,"["],["closedBy",13,")",51,"}",53,"]"]],propSources:[I3e],skippedNodes:[0,3,4,5,6,7,10,297,298,299,300,301,302,303,304,305,306,347,348],repeatNodeCount:41,tokenData:"&*r7ZR!UOX$eXY({YZ.gZ]$e]^+P^p$epq({qr.}rs0}st2ktu$euv!7dvw!9bwx!;exy!<Yyz!=Tz{!>O{|!?R|}!AV}!O!BQ!O!P!DX!P!Q#+y!Q!R#Az!R![$(x![!]$Ag!]!^$Cc!^!_$D^!_!`%1W!`!a%2X!a!b%5_!b!c$e!c!n%6Y!n!o%7q!o!w%6Y!w!x%7q!x!}%6Y!}#O%:n#O#P%<g#P#Q%Kz#Q#R%Ms#R#S%6Y#S#T$e#T#i%6Y#i#j%Nv#j#o%6Y#o#p&!e#p#q&#`#q#r&%f#r#s&&a#s;'S$e;'S;=`(u<%lO$e&t$nY)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&r%eW)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^&j&SU'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j&kX'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j']V'f&jOY%}YZ%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&j'uP;=`<%l%}&r'{P;=`<%l%^&l(VW(qQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O&l(rP;=`<%l(O&t(xP;=`<%l$e7Z)Y`)]W(qQ(n.o'f&j*Z)`OX$eXY({YZ*[Z]$e]^+P^p$epq({qr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e.o*aT(n.oXY*[YZ*[]^*[pq*[#O#P*p.o*sQYZ*[]^*y.o*|PYZ*[4e+[`)]W(qQ(n.o'f&jOX$eXY+PYZ*[Z]$e]^+P^p$epq+Pqr$ers%^sw$ewx(Ox#O$e#O#P,^#P;'S$e;'S;=`(u<%lO$e4Z,cX'f&jOY%}YZ-OZ]%}]^-{^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4Z-V[(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4Z.QV'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P.nT*W)`(n.oXY*[YZ*[]^*[pq*[#O#P*p3o/[[%^!b'QP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o0_Y%]!b!a,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e6e1YY)]W(oQ(p/]'f&jOY%^Zr%^rs1xsw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^(U2RW)x!b)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^4e2tf)]W(qQ'f&jOX$eXY2kZp$epq2kqr$ers%^sw$ewx(Ox!c$e!c!}4Y!}#O$e#O#P&f#P#T$e#T#W4Y#W#X5m#X#Y>u#Y#]4Y#]#^NZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e4eb)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e5xd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y7W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e7cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z8q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e8|d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^:[#^#o4Y#o;'S$e;'S;=`(u<%lO$e4e:gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#b4Y#b#c;u#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e<Qd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y=`#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e=mb)]W(qQ'e.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e?Qf)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a@f#a#b4Y#b#cHV#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e@qf)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^BV#^#g4Y#g#hEV#h#o4Y#o;'S$e;'S;=`(u<%lO$e4eBbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZCp#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eC}b)]W(qQ'f&j'l.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eEbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#YFp#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4eF}b)]W(qQ'j.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eHbd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#XIp#X#o4Y#o;'S$e;'S;=`(u<%lO$e4eI{d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#]4Y#]#^KZ#^#o4Y#o;'S$e;'S;=`(u<%lO$e4eKfd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#ZLt#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4eMRb)]W(qQ'f&j'k.o'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4eNff)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z! z#Z#b4Y#b#c!.[#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!!Xf)]W(qQ'g.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!#m#X#b4Y#b#c!(W#c#o4Y#o;'S$e;'S;=`(u<%lO$e4e!#xd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!%W#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!%cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!&q#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!'Ob)]W(qQ'h.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!(cd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!)q#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!)|d)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!+[#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!+gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#Y4Y#Y#Z!,u#Z#o4Y#o;'S$e;'S;=`(u<%lO$e4e!-Sb)]W(qQ'i.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e4e!.gd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#V4Y#V#W!/u#W#o4Y#o;'S$e;'S;=`(u<%lO$e4e!0Qd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#`4Y#`#a!1`#a#o4Y#o;'S$e;'S;=`(u<%lO$e4e!1kd)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#i4Y#i#j!2y#j#o4Y#o;'S$e;'S;=`(u<%lO$e4e!3Ud)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#W4Y#W#X!4d#X#o4Y#o;'S$e;'S;=`(u<%lO$e4e!4od)]W(qQ'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#X4Y#X#Y!5}#Y#o4Y#o;'S$e;'S;=`(u<%lO$e4e!6[b)]W(qQV.o'f&j'm.oOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![4Y![!c$e!c!}4Y!}#O$e#O#P&f#P#R$e#R#S4Y#S#T$e#T#o4Y#o;'S$e;'S;=`(u<%lO$e3o!7q[)]W(qQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!8rY!g-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!9o])W,g)]W(qQ%[!b'f&jOY$eZr$ers%^sv$evw!:hwx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!:uY)V,g%^!b)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2X!;pW)ZS(qQ)[,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O6i!<eY)]W(qQ]6_'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V!=`Y[a)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!>][)T,g)]W(qQ%Z!b'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!?`^)]W(qQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|!@[|!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!@gY)]W!X-y(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!AbY!h,k)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!B__)]W(qQ%Z!b!Y,g'f&jOY$eZr$ers%^sw$ewx(Ox}$e}!O!@[!O!_$e!_!`!8g!`!a!C^!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o!CiY(x-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Dd^)]W(qQ'f&j(w,gOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!E`!P!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!Ei[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P!F_!P#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2a!FjY)Y,k)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]!Gen)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx!Icx!Q$e!Q![!GY![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T!IjY(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![!JY![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T!Jcn(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Icx!Q(O!Q![!JY![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ljl(qQ!i,g'f&jOY(OZr(Ors%}s{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T!Ni^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![# e![!c(O!c!i# e!i#O(O#O#P&f#P#T(O#T#Z# e#Z;'S(O;'S;=`(o<%lO(O2T# nj(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx!Nbx!Q(O!Q![# e![!c(O!c!h# e!h!i# e!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#Y# e#Y#Z# e#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T##id(qQ!i,g'f&jOY(OZr(Ors%}s!h(O!h!i##`!i!n(O!n!o##`!o!w(O!w!x##`!x#O(O#O#P&f#P#Y(O#Y#Z##`#Z#`(O#`#a##`#a#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]#%Sn)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#'Z`)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![#(]![!c$e!c!i#(]!i#O$e#O#P&f#P#T$e#T#Z#(]#Z;'S$e;'S;=`(u<%lO$e2]#(hj)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx!Nbx!Q$e!Q![#(]![!c$e!c!h#(]!h!i#(]!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#Y#(]#Y#Z#(]#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]#*ef)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!h$e!h!i#*Y!i!n$e!n!o#*Y!o!w$e!w!x#*Y!x#O$e#O#P&f#P#Y$e#Y#Z#*Y#Z#`$e#`#a#*Y#a#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e7Z#,W`)]W(qQ%Z!b![,g'f&jOY$eZr$ers%^sw$ewx(Oxz$ez{#-Y{!P$e!P!Q#:s!Q!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#-c])]W(qQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y1e#._TOz#.[z{#.n{;'S#.[;'S;=`#/]<%lO#.[1e#.qVOz#.[z{#.n{!P#.[!P!Q#/W!Q;'S#.[;'S;=`#/]<%lO#.[1e#/]OT1e1e#/`P;=`<%l#.[7X#/jZ)]W'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7P#0bX'f&jOY#0]YZ#.[Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1SZ'f&jOY#0]YZ#.[Zz#0]z{#0}{!P#0]!P!Q#1u!Q#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#1|UT1e'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}7P#2eZ'f&jOY#0]YZ#0]Z]#0]]^#3W^z#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3]X'f&jOY#0]YZ#0]Zz#0]z{#0}{#O#0]#O#P#2`#P;'S#0];'S;=`#3x<%lO#0]7P#3{P;=`<%l#0]7X#4V])]W'f&jOY#/cYZ#.[Zw#/cwx#0]xz#/cz{#4O{!P#/c!P!Q#5O!Q#O#/c#O#P#2`#P;'S#/c;'S;=`#5q<%lO#/c7X#5XW)]WT1e'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^7X#5tP;=`<%l#/c7R#6OZ(qQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#6x](qQ'f&jOY#5wYZ#.[Zr#5wrs#0]sz#5wz{#6q{!P#5w!P!Q#7q!Q#O#5w#O#P#2`#P;'S#5w;'S;=`#8d<%lO#5w7R#7zW(qQT1e'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O7R#8gP;=`<%l#5w7Z#8s_)]W(qQ'f&jOY#-YYZ#.[Zr#-Yrs#/csw#-Ywx#5wxz#-Yz{#8j{!P#-Y!P!Q#9r!Q#O#-Y#O#P#2`#P;'S#-Y;'S;=`#:m<%lO#-Y7Z#9}Y)]W(qQT1e'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z#:pP;=`<%l#-Y7Z#;OY)]W(qQS1e'f&jOY#:sZr#:srs#;nsw#:swx#@{x#O#:s#O#P#<z#P;'S#:s;'S;=`#At<%lO#:s7X#;wW)]WS1e'f&jOY#;nZw#;nwx#<ax#O#;n#O#P#<z#P;'S#;n;'S;=`#@u<%lO#;n7P#<hUS1e'f&jOY#<aZ#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#=RXS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P;'S#<a;'S;=`#>[<%lO#<a7P#=uVS1e'f&jOY#<aYZ%}Z#O#<a#O#P#<z#P;'S#<a;'S;=`#>[<%lO#<a7P#>_P;=`<%l#<a7P#>i]S1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c#f#<a#f#g#?b#g;'S#<a;'S;=`#>[<%lO#<a7P#?iUS1e'f&jOY#<aZ#O#<a#O#P#?{#P;'S#<a;'S;=`#>[<%lO#<a7P#@SZS1e'f&jOY#<aYZ%}Z]#<a]^#=n^#O#<a#O#P#>b#P#b#<a#b#c#<a#c;'S#<a;'S;=`#>[<%lO#<a7X#@xP;=`<%l#;n7R#AUW(qQS1e'f&jOY#@{Zr#@{rs#<as#O#@{#O#P#<z#P;'S#@{;'S;=`#An<%lO#@{7R#AqP;=`<%l#@{7Z#AwP;=`<%l#:s2]#BVt)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$+X#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$=`#m;'S$e;'S;=`(u<%lO$e2T#DnY(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![#E^![#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O2T#Egp(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#Dgx!O(O!O!P#Gk!P!Q(O!Q![#E^![!g(O!g!h!La!h!i##`!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#X(O#X#Y!La#Y#Z##`#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#Gtn(qQ!i,g'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#I{p(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T#LW^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![#Ir![!c(O!c!i#Ir!i#O(O#O#P&f#P#T(O#T#Z#Ir#Z;'S(O;'S;=`(o<%lO(O2T#M]t(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx#LPx{(O{|!Nb|}(O}!O!Nb!O!Q(O!Q![#Ir![!c(O!c!g#Ir!g!h#MS!h!i#Ir!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X#Ir#X#Y#MS#Y#Z#Ir#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$ xp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$$Xp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$&ht)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#LPx{$e{|#'Q|}$e}!O#'Q!O!Q$e!Q![$#|![!c$e!c!g$#|!g!h$&]!h!i$#|!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$#|#X#Y$&]#Y#Z$#|#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$)Tp)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$+b_)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$-`!R![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$,j[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![!GY![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$-kt)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx#Dgx!O$e!O!P$ m!P!Q$e!Q![$(x![!g$e!g!h#$w!h!i#*Y!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#U$e#U#V$/{#V#X$e#X#Y#$w#Y#Z#*Y#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e2]$0U[)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$(x![#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$1T`)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$2br)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2T$4s^(qQ'f&jOY(OZr(Ors%}s!Q(O!Q![$5o![!c(O!c!i$5o!i#O(O#O#P&f#P#T(O#T#Z$5o#Z;'S(O;'S;=`(o<%lO(O2T$5xr(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx!O(O!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2T$8]u(qQ!i,g'f&jOY(OZr(Ors%}sw(Owx$4lx{(O{|!Nb|}(O}!O!Nb!O!P#Gk!P!Q(O!Q![$5o![!c(O!c!g$5o!g!h$8S!h!i$5o!i!n(O!n!o##`!o!r(O!r!s!La!s!w(O!w!x##`!x#O(O#O#P&f#P#T(O#T#X$5o#X#Y$8S#Y#Z$5o#Z#`(O#`#a##`#a#d(O#d#e!La#e#i(O#i#j##`#j;'S(O;'S;=`(o<%lO(O2]$:{u)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx{$e{|#'Q|}$e}!O#'Q!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j;'S$e;'S;=`(u<%lO$e2]$=ic)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!O$e!O!P$,a!P!Q$e!Q!R$>t!R![$2V![!c$e!c!i$2V!i#O$e#O#P&f#P#T$e#T#Z$2V#Z;'S$e;'S;=`(u<%lO$e2]$?Pv)]W(qQ!i,g'f&jOY$eZr$ers%^sw$ewx$4lx!O$e!O!P$ m!P!Q$e!Q![$2V![!c$e!c!g$2V!g!h$:p!h!i$2V!i!n$e!n!o#*Y!o!r$e!r!s#$w!s!w$e!w!x#*Y!x#O$e#O#P&f#P#T$e#T#U$2V#U#V$2V#V#X$2V#X#Y$:p#Y#Z$2V#Z#`$e#`#a#*Y#a#d$e#d#e#$w#e#i$e#i#j#*Y#j#l$e#l#m$0z#m;'S$e;'S;=`(u<%lO$e4e$Ar[(v-X)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox![$e![!]$Bh!]#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3s$BsYm-})]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e2]$CnY)X,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7V$Dk_q,g%]!b)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!^$Ej!^!_%+w!_!`%.U!`!a%0]!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej*[$Es])]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ejp$FoTO!`$Fl!`!a$GO!a;'S$Fl;'S;=`$GT<%lO$Flp$GTO$Wpp$GWP;=`<%l$Fl*Y$GbZ)]W'f&jOY$GZYZ$FlZw$GZwx$HTx!`$GZ!`!a%(U!a#O$GZ#O#P$Ib#P;'S$GZ;'S;=`%(y<%lO$GZ*Q$HYX'f&jOY$HTYZ$FlZ!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q$IOU$WpY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}*Q$Ig['f&jOY$HTYZ$HTZ]$HT]^$J]^!`$HT!`!a$NO!a#O$HT#O#P%&n#P;'S$HT;'S;=`%'f;=`<%l%$z<%lO$HT*Q$JbX'f&jOY$HTYZ$J}Z!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT'[$KSX'f&jOY$J}YZ$FlZ!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$KvU$Wp'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}'[$L_Z'f&jOY$J}YZ$J}Z]$J}]^$MQ^!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MVX'f&jOY$J}YZ$J}Z!`$J}!`!a$Ko!a#O$J}#O#P$LY#P;'S$J};'S;=`$Mr<%lO$J}'[$MuP;=`<%l$J}*Q$M{P;=`<%l$HT*Q$NVW$Wp'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`$NtW'f&jOY$NoZ!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`% eUY#t'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%})`% |Y'f&jOY$NoYZ$NoZ]$No]^%!l^#O$No#O#P%#d#P;'S$No;'S;=`%$[;=`<%l%$z<%lO$No)`%!qX'f&jOY$NoYZ%}Z!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%#aP;=`<%l$No)`%#iZ'f&jOY$NoYZ%}Z]$No]^%!l^!`$No!`!a% ^!a#O$No#O#P% w#P;'S$No;'S;=`%#^<%lO$No)`%$_XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$No<%lO%$z#t%$}WOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h<%lO%$z#t%%lOY#t#t%%oRO;'S%$z;'S;=`%%x;=`O%$z#t%%{XOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l%$z<%lO%$z#t%&kP;=`<%l%$z*Q%&sZ'f&jOY$HTYZ$J}Z]$HT]^$J]^!`$HT!`!a$Hu!a#O$HT#O#P$Ib#P;'S$HT;'S;=`$Mx<%lO$HT*Q%'iXOY%$zZ!`%$z!`!a%%g!a#O%$z#O#P%%l#P;'S%$z;'S;=`%&h;=`<%l$HT<%lO%$z*Y%(aW$WpY#t)]W'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^*Y%(|P;=`<%l$GZ*S%)WZ(qQ'f&jOY%)PYZ$FlZr%)Prs$HTs!`%)P!`!a%)y!a#O%)P#O#P$Ib#P;'S%)P;'S;=`%*n<%lO%)P*S%*UW$WpY#t(qQ'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O*S%*qP;=`<%l%)P*[%+RY$WpY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e*[%+tP;=`<%l$Ej7V%,U^)]W(qQ%[!b!f,g'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!_$Ej!_!`%-Q!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%-]]!g-y)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%*t!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%.c]%]!b!b,g)]W(qQ'f&jOY$EjYZ$FlZr$Ejrs$GZsw$Ejwx%)Px!`$Ej!`!a%/[!a#O$Ej#O#P$Ib#P;'S$Ej;'S;=`%+q<%lO$Ej7V%/mY%]!b!b,g$WpY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e)j%0hYY#t)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%1c[)j!c)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`0Q!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%2f]%]!b)]W(qQ!d,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`%3_!`!a%4[!a#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%3lY%]!b!b,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%4i[)]W(qQ%[!b!f,g'f&jOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%5jY(uP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z%6ib)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e7Z%8Qb)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e5P%9cW)]W(p/]'f&jOY%^Zw%^wx%}x#O%^#O#P&f#P;'S%^;'S;=`'x<%lO%^2T%:UW(qQ)[,g'f&jOY(OZr(Ors%}s#O(O#O#P&f#P;'S(O;'S;=`(o<%lO(O3o%:yZ!V-y)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox!}$e!}#O%;l#O#P&f#P;'S$e;'S;=`(u<%lO$e&u%;wY)QP)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e4e%<la'f&jOY%=qYZ%>[Z]%=q]^%?Z^!Q%=q!Q![%?w![!w%=q!w!x%AX!x#O%=q#O#P%H_#P#i%=q#i#j%Ds#j#l%=q#l#m%IR#m;'S%=q;'S;=`%Kt<%lO%=q&t%=xUXY'f&jOY%}Z#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}4e%>e[XY(n.o'f&jOX%}XY-OYZ*[Z]%}]^-O^p%}pq-Oq#O%}#O#P,^#P;'S%};'S;=`'r<%lO%}4e%?bVXY'f&jOY%}YZ-OZ#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@OWXY'f&jOY%}Z!Q%}!Q![%@h![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%@oWXY'f&jOY%}Z!Q%}!Q![%=q![#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%A^['f&jOY%}Z!Q%}!Q![%BS![!c%}!c!i%BS!i#O%}#O#P&f#P#T%}#T#Z%BS#Z;'S%};'S;=`'r<%lO%}&t%BX['f&jOY%}Z!Q%}!Q![%B}![!c%}!c!i%B}!i#O%}#O#P&f#P#T%}#T#Z%B}#Z;'S%};'S;=`'r<%lO%}&t%CS['f&jOY%}Z!Q%}!Q![%Cx![!c%}!c!i%Cx!i#O%}#O#P&f#P#T%}#T#Z%Cx#Z;'S%};'S;=`'r<%lO%}&t%C}['f&jOY%}Z!Q%}!Q![%Ds![!c%}!c!i%Ds!i#O%}#O#P&f#P#T%}#T#Z%Ds#Z;'S%};'S;=`'r<%lO%}&t%Dx['f&jOY%}Z!Q%}!Q![%En![!c%}!c!i%En!i#O%}#O#P&f#P#T%}#T#Z%En#Z;'S%};'S;=`'r<%lO%}&t%Es['f&jOY%}Z!Q%}!Q![%Fi![!c%}!c!i%Fi!i#O%}#O#P&f#P#T%}#T#Z%Fi#Z;'S%};'S;=`'r<%lO%}&t%Fn['f&jOY%}Z!Q%}!Q![%Gd![!c%}!c!i%Gd!i#O%}#O#P&f#P#T%}#T#Z%Gd#Z;'S%};'S;=`'r<%lO%}&t%Gi['f&jOY%}Z!Q%}!Q![%=q![!c%}!c!i%=q!i#O%}#O#P&f#P#T%}#T#Z%=q#Z;'S%};'S;=`'r<%lO%}&t%HfXXY'f&jOY%}YZ%}Z]%}]^'W^#O%}#O#P&f#P;'S%};'S;=`'r<%lO%}&t%IW['f&jOY%}Z!Q%}!Q![%I|![!c%}!c!i%I|!i#O%}#O#P&f#P#T%}#T#Z%I|#Z;'S%};'S;=`'r<%lO%}&t%JR['f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KO[XY'f&jOY%}Z!Q%}!Q![%Jw![!c%}!c!i%Jw!i#O%}#O#P&f#P#T%}#T#Z%Jw#Z;'S%};'S;=`'r<%lO%}&t%KwP;=`<%l%=q2a%LVZ!W,V)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P#Q%Lx#Q;'S$e;'S;=`(u<%lO$e'Y%MTY)Pd)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o%NQ[)]W(qQ%[!b'f&j!_,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e7Z& Vd)]W(yS(qQ!R,f(r%y'f&jOY$eZr$ers%9Ysw$ewx%9{x!Q$e!Q!Y%6Y!Y!Z%7q!Z![%6Y![!c$e!c!}%6Y!}#O$e#O#P&f#P#R$e#R#S%6Y#S#T$e#T#o%6Y#o;'S$e;'S;=`(u<%lO$e2]&!pY!T,g)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e3o&#m^)]W(qQ%[!b'f&j!^,gOY$eZr$ers%^sw$ewx(Ox!_$e!_!`!8g!`#O$e#O#P&f#P#p$e#p#q&$i#q;'S$e;'S;=`(u<%lO$e3o&$vY)U,g%^!b)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e'V&%qY!Ua)]W(qQ'f&jOY$eZr$ers%^sw$ewx(Ox#O$e#O#P&f#P;'S$e;'S;=`(u<%lO$e(]&&nc)]W(qQ%[!b'RP'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&(Sc)]W(qQ'f&jOX$eXY&'yZp$epq&'yqr$ers%^sw$ewx(Ox!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e&y&)jb)]W(qQeT'f&jOY$eZr$ers%^sw$ewx(Ox!Q$e!Q![&)_![!c$e!c!}&)_!}#O$e#O#P&f#P#R$e#R#S&)_#S#T$e#T#o&)_#o;'S$e;'S;=`(u<%lO$e",tokenizers:[N3e,B3e,0,1,2,3,4,5,6,7,8,9],topRules:{Program:[0,307]},dynamicPrecedences:{87:1,94:1,119:1,184:1,187:-10,240:-10,241:1,244:-1,246:-10,247:1,262:-1,267:2,268:2,306:-10,365:3,417:1,418:3,419:1,420:1},specialized:[{term:356,get:t=>j3e[t]||-1},{term:33,get:t=>F3e[t]||-1},{term:66,get:t=>L3e[t]||-1},{term:363,get:t=>z3e[t]||-1}],tokenPrec:24891}),V3e=ol.define({name:"cpp",parser:X3e.configure({props:[ad.add({IfStatement:lo({except:/^\s*({|else\b)/}),TryStatement:lo({except:/^\s*({|catch)\b/}),LabeledStatement:PP,CaseStatement:t=>t.baseIndent+t.unit,BlockComment:()=>null,CompoundStatement:Kd({closing:"}"}),Statement:lo({except:/^{/})}),od.add({"DeclarationList CompoundStatement EnumeratorList FieldDeclarationList InitializerList":Xu,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/,closeBrackets:{stringPrefixes:["L","u","U","u8","LR","UR","uR","u8R","R"]}}});function U3e(){return new Ah(V3e)}const q3e=55,W3e=1,Y3e=56,Z3e=2,G3e=57,H3e=3,Yj=4,K3e=5,ZP=6,EG=7,PG=8,DG=9,QG=10,J3e=11,eTe=12,tTe=13,B5=58,rTe=14,nTe=15,Zj=59,$G=21,iTe=23,MG=24,sTe=25,hE=27,RG=28,aTe=29,oTe=32,lTe=35,cTe=37,dTe=38,hTe=0,uTe=1,fTe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},gTe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Gj={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function pTe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let Hj=null,Kj=null,Jj=0;function uE(t,e){let r=t.pos+e;if(Jj==r&&Kj==t)return Hj;let n=t.peek(e),s="";for(;pTe(n);)s+=String.fromCharCode(n),n=t.peek(++e);return Kj=t,Jj=r,Hj=s?s.toLowerCase():n==mTe||n==OTe?void 0:null}const NG=60,b_=62,GP=47,mTe=63,OTe=33,xTe=45;function eF(t,e){this.name=t,this.parent=e}const bTe=[ZP,QG,EG,PG,DG],kTe=new zC({start:null,shift(t,e,r,n){return bTe.indexOf(e)>-1?new eF(uE(n,1)||"",t):t},reduce(t,e){return e==$G&&t?t.parent:t},reuse(t,e,r,n){let s=e.type.id;return s==ZP||s==cTe?new eF(uE(n,1)||"",t):t},strict:!1}),yTe=new jn((t,e)=>{if(t.next!=NG){t.next<0&&e.context&&t.acceptToken(B5);return}t.advance();let r=t.next==GP;r&&t.advance();let n=uE(t,0);if(n===void 0)return;if(!n)return t.acceptToken(r?nTe:rTe);let s=e.context?e.context.name:null;if(r){if(n==s)return t.acceptToken(J3e);if(s&&gTe[s])return t.acceptToken(B5,-2);if(e.dialectEnabled(hTe))return t.acceptToken(eTe);for(let a=e.context;a;a=a.parent)if(a.name==n)return;t.acceptToken(tTe)}else{if(n=="script")return t.acceptToken(EG);if(n=="style")return t.acceptToken(PG);if(n=="textarea")return t.acceptToken(DG);if(fTe.hasOwnProperty(n))return t.acceptToken(QG);s&&Gj[s]&&Gj[s][n]?t.acceptToken(B5,-1):t.acceptToken(ZP)}},{contextual:!0}),wTe=new jn(t=>{for(let e=0,r=0;;r++){if(t.next<0){r&&t.acceptToken(Zj);break}if(t.next==xTe)e++;else if(t.next==b_&&e>=2){r>=3&&t.acceptToken(Zj,-2);break}else e=0;t.advance()}});function vTe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const _Te=new jn((t,e)=>{if(t.next==GP&&t.peek(1)==b_){let r=e.dialectEnabled(uTe)||vTe(e.context);t.acceptToken(r?K3e:Yj,2)}else t.next==b_&&t.acceptToken(Yj,1)});function HP(t,e,r){let n=2+t.length;return new jn(s=>{for(let a=0,l=0,c=0;;c++){if(s.next<0){c&&s.acceptToken(e);break}if(a==0&&s.next==NG||a==1&&s.next==GP||a>=2&&a<n&&s.next==t.charCodeAt(a-2))a++,l++;else if(a==n&&s.next==b_){c>l?s.acceptToken(e,-l):s.acceptToken(r,-(l-2));break}else if((s.next==10||s.next==13)&&c){s.acceptToken(e,1);break}else a=l=0;s.advance()}})}const CTe=HP("script",q3e,W3e),ATe=HP("style",Y3e,Z3e),STe=HP("textarea",G3e,H3e),TTe=sd({"Text RawText IncompleteTag IncompleteCloseTag":le.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":le.angleBracket,TagName:le.tagName,"MismatchedCloseTag/TagName":[le.tagName,le.invalid],AttributeName:le.attributeName,"AttributeValue UnquotedAttributeValue":le.attributeValue,Is:le.definitionOperator,"EntityReference CharacterReference":le.character,Comment:le.blockComment,ProcessingInst:le.processingInstruction,DoctypeDecl:le.documentMeta}),ETe=ll.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:kTe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[TTe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[CTe,ATe,STe,_Te,yTe,wTe,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function BG(t,e){let r=Object.create(null);for(let n of t.getChildren(MG)){let s=n.getChild(sTe),a=n.getChild(hE)||n.getChild(RG);s&&(r[e.read(s.from,s.to)]=a?a.type.id==hE?e.read(a.from+1,a.to-1):e.read(a.from,a.to):"")}return r}function tF(t,e){let r=t.getChild(iTe);return r?e.read(r.from,r.to):" "}function I5(t,e,r){let n;for(let s of r)if(!s.attrs||s.attrs(n||(n=BG(t.node.parent.firstChild,e))))return{parser:s.parser};return null}function IG(t=[],e=[]){let r=[],n=[],s=[],a=[];for(let c of t)(c.tag=="script"?r:c.tag=="style"?n:c.tag=="textarea"?s:a).push(c);let l=e.length?Object.create(null):null;for(let c of e)(l[c.name]||(l[c.name]=[])).push(c);return q2e((c,h)=>{let f=c.type.id;if(f==aTe)return I5(c,h,r);if(f==oTe)return I5(c,h,n);if(f==lTe)return I5(c,h,s);if(f==$G&&a.length){let p=c.node,O=p.firstChild,x=O&&tF(O,h),k;if(x){for(let w of a)if(w.tag==x&&(!w.attrs||w.attrs(k||(k=BG(O,h))))){let _=p.lastChild,C=_.type.id==dTe?_.from:p.to;if(C>O.to)return{parser:w.parser,overlay:[{from:O.to,to:C}]}}}}if(l&&f==MG){let p=c.node,O;if(O=p.firstChild){let x=l[h.read(O.from,O.to)];if(x)for(let k of x){if(k.tagName&&k.tagName!=tF(p.parent,h))continue;let w=p.lastChild;if(w.type.id==hE){let _=w.from+1,C=w.lastChild,T=w.to-(C&&C.isError?0:1);if(T>_)return{parser:k.parser,overlay:[{from:_,to:T}]}}else if(w.type.id==RG)return{parser:k.parser,overlay:[{from:w.from,to:w.to}]}}}}return null})}const PTe=122,rF=1,DTe=123,QTe=124,jG=2,$Te=125,MTe=3,RTe=4,FG=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],NTe=58,BTe=40,LG=95,ITe=91,Lv=45,jTe=46,FTe=35,LTe=37,zTe=38,XTe=92,VTe=10,UTe=42;function GO(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function KP(t){return t>=48&&t<=57}function nF(t){return KP(t)||t>=97&&t<=102||t>=65&&t<=70}const zG=(t,e,r)=>(n,s)=>{for(let a=!1,l=0,c=0;;c++){let{next:h}=n;if(GO(h)||h==Lv||h==LG||a&&KP(h))!a&&(h!=Lv||c>0)&&(a=!0),l===c&&h==Lv&&l++,n.advance();else if(h==XTe&&n.peek(1)!=VTe){if(n.advance(),nF(n.next)){do n.advance();while(nF(n.next));n.next==32&&n.advance()}else n.next>-1&&n.advance();a=!0}else{a&&n.acceptToken(l==2&&s.canShift(jG)?e:h==BTe?r:t);break}}},qTe=new jn(zG(DTe,jG,QTe)),WTe=new jn(zG($Te,MTe,RTe)),YTe=new jn(t=>{if(FG.includes(t.peek(-1))){let{next:e}=t;(GO(e)||e==LG||e==FTe||e==jTe||e==UTe||e==ITe||e==NTe&&GO(t.peek(1))||e==Lv||e==zTe)&&t.acceptToken(PTe)}}),ZTe=new jn(t=>{if(!FG.includes(t.peek(-1))){let{next:e}=t;if(e==LTe&&(t.advance(),t.acceptToken(rF)),GO(e)){do t.advance();while(GO(t.next)||KP(t.next));t.acceptToken(rF)}}}),GTe=sd({"AtKeyword import charset namespace keyframes media supports":le.definitionKeyword,"from to selector":le.keyword,NamespaceName:le.namespace,KeyframeName:le.labelName,KeyframeRangeName:le.operatorKeyword,TagName:le.tagName,ClassName:le.className,PseudoClassName:le.constant(le.className),IdName:le.labelName,"FeatureName PropertyName":le.propertyName,AttributeName:le.attributeName,NumberLiteral:le.number,KeywordQuery:le.keyword,UnaryQueryOp:le.operatorKeyword,"CallTag ValueName":le.atom,VariableName:le.variableName,Callee:le.operatorKeyword,Unit:le.unit,"UniversalSelector NestingSelector":le.definitionOperator,"MatchOp CompareOp":le.compareOperator,"ChildOp SiblingOp, LogicOp":le.logicOperator,BinOp:le.arithmeticOperator,Important:le.modifier,Comment:le.blockComment,ColorLiteral:le.color,"ParenthesizedContent StringLiteral":le.string,":":le.punctuation,"PseudoOp #":le.derefOperator,"; ,":le.separator,"( )":le.paren,"[ ]":le.squareBracket,"{ }":le.brace}),HTe={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},KTe={__proto__:null,or:98,and:98,not:106,only:106,layer:170},JTe={__proto__:null,selector:112,layer:166},eEe={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},tEe={__proto__:null,to:207},rEe=ll.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[GTe],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[YTe,ZTe,qTe,WTe,1,2,3,4,new x_("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>HTe[t]||-1},{term:125,get:t=>KTe[t]||-1},{term:4,get:t=>JTe[t]||-1},{term:25,get:t=>eEe[t]||-1},{term:123,get:t=>tEe[t]||-1}],tokenPrec:1963});let j5=null;function F5(){if(!j5&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],r=new Set;for(let n in t)n!="cssText"&&n!="cssFloat"&&typeof t[n]=="string"&&(/[A-Z]/.test(n)&&(n=n.replace(/[A-Z]/g,s=>"-"+s.toLowerCase())),r.has(n)||(e.push(n),r.add(n)));j5=e.sort().map(n=>({type:"property",label:n,apply:n+": "}))}return j5||[]}const iF=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),sF=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),nEe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),iEe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),pc=/^(\w[\w-]*|-\w[\w-]*|)$/,sEe=/^-(-[\w-]*)?$/;function aEe(t,e){var r;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let n=(r=t.parent)===null||r===void 0?void 0:r.firstChild;return(n==null?void 0:n.name)!="Callee"?!1:e.sliceString(n.from,n.to)=="var"}const aF=new AP,oEe=["Declaration"];function lEe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function XG(t,e,r){if(e.to-e.from>4096){let n=aF.get(e);if(n)return n;let s=[],a=new Set,l=e.cursor(ln.IncludeAnonymous);if(l.firstChild())do for(let c of XG(t,l.node,r))a.has(c.label)||(a.add(c.label),s.push(c));while(l.nextSibling());return aF.set(e,s),s}else{let n=[],s=new Set;return e.cursor().iterate(a=>{var l;if(r(a)&&a.matchContext(oEe)&&((l=a.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let c=t.sliceString(a.from,a.to);s.has(c)||(s.add(c),n.push({label:c,type:"variable"}))}}),n}}const cEe=t=>e=>{let{state:r,pos:n}=e,s=In(r).resolveInner(n,-1),a=s.type.isError&&s.from==s.to-1&&r.doc.sliceString(s.from,s.to)=="-";if(s.name=="PropertyName"||(a||s.name=="TagName")&&/^(Block|Styles)$/.test(s.resolve(s.to).name))return{from:s.from,options:F5(),validFor:pc};if(s.name=="ValueName")return{from:s.from,options:sF,validFor:pc};if(s.name=="PseudoClassName")return{from:s.from,options:iF,validFor:pc};if(t(s)||(e.explicit||a)&&aEe(s,r.doc))return{from:t(s)||a?s.from:n,options:XG(r.doc,lEe(s),t),validFor:sEe};if(s.name=="TagName"){for(let{parent:h}=s;h;h=h.parent)if(h.name=="Block")return{from:s.from,options:F5(),validFor:pc};return{from:s.from,options:nEe,validFor:pc}}if(s.name=="AtKeyword")return{from:s.from,options:iEe,validFor:pc};if(!e.explicit)return null;let l=s.resolve(n),c=l.childBefore(n);return c&&c.name==":"&&l.name=="PseudoClassSelector"?{from:n,options:iF,validFor:pc}:c&&c.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:n,options:sF,validFor:pc}:l.name=="Block"||l.name=="Styles"?{from:n,options:F5(),validFor:pc}:null},dEe=cEe(t=>t.name=="VariableName"),k_=ol.define({name:"css",parser:rEe.configure({props:[ad.add({Declaration:lo()}),od.add({"Block KeyframeList":Xu})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function VG(){return new Ah(k_,k_.data.of({autocomplete:dEe}))}const O1=["_blank","_self","_top","_parent"],L5=["ascii","utf-8","utf-16","latin1","latin1"],z5=["get","post","put","delete"],X5=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],_a=["true","false"],Xt={},hEe={a:{attrs:{href:null,ping:null,type:null,media:null,target:O1,hreflang:null}},abbr:Xt,address:Xt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Xt,aside:Xt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Xt,base:{attrs:{href:null,target:O1}},bdi:Xt,bdo:Xt,blockquote:{attrs:{cite:null}},body:Xt,br:Xt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:X5,formmethod:z5,formnovalidate:["novalidate"],formtarget:O1,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Xt,center:Xt,cite:Xt,code:Xt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Xt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Xt,div:Xt,dl:Xt,dt:Xt,em:Xt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Xt,figure:Xt,footer:Xt,form:{attrs:{action:null,name:null,"accept-charset":L5,autocomplete:["on","off"],enctype:X5,method:z5,novalidate:["novalidate"],target:O1}},h1:Xt,h2:Xt,h3:Xt,h4:Xt,h5:Xt,h6:Xt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Xt,hgroup:Xt,hr:Xt,html:{attrs:{manifest:null}},i:Xt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:X5,formmethod:z5,formnovalidate:["novalidate"],formtarget:O1,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Xt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Xt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Xt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:L5,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Xt,noscript:Xt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Xt,param:{attrs:{name:null,value:null}},pre:Xt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Xt,rt:Xt,ruby:Xt,samp:Xt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:L5}},section:Xt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Xt,source:{attrs:{src:null,type:null,media:null}},span:Xt,strong:Xt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Xt,summary:Xt,sup:Xt,table:Xt,tbody:Xt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Xt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Xt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Xt,time:{attrs:{datetime:null}},title:Xt,tr:Xt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Xt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Xt},UG={accesskey:null,class:null,contenteditable:_a,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:_a,autocorrect:_a,autocapitalize:_a,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":_a,"aria-autocomplete":["inline","list","both","none"],"aria-busy":_a,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":_a,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":_a,"aria-hidden":_a,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":_a,"aria-multiselectable":_a,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":_a,"aria-relevant":null,"aria-required":_a,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},qG="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of qG)UG[t]=null;class y_{constructor(e,r){this.tags={...hEe,...e},this.globalAttrs={...UG,...r},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}y_.default=new y_;function Wf(t,e,r=t.length){if(!e)return"";let n=e.firstChild,s=n&&n.getChild("TagName");return s?t.sliceString(s.from,Math.min(s.to,r)):""}function Yf(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function WG(t,e,r){let n=r.tags[Wf(t,Yf(e))];return(n==null?void 0:n.children)||r.allTags}function JP(t,e){let r=[];for(let n=Yf(e);n&&!n.type.isTop;n=Yf(n.parent)){let s=Wf(t,n);if(s&&n.lastChild.name=="CloseTag")break;s&&r.indexOf(s)<0&&(e.name=="EndTag"||e.from>=n.firstChild.to)&&r.push(s)}return r}const YG=/^[:\-\.\w\u00b7-\uffff]*$/;function oF(t,e,r,n,s){let a=/\s*>/.test(t.sliceDoc(s,s+5))?"":">",l=Yf(r,r.name=="StartTag"||r.name=="TagName");return{from:n,to:s,options:WG(t.doc,l,e).map(c=>({label:c,type:"type"})).concat(JP(t.doc,r).map((c,h)=>({label:"/"+c,apply:"/"+c+a,type:"type",boost:99-h}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function lF(t,e,r,n){let s=/\s*>/.test(t.sliceDoc(n,n+5))?"":">";return{from:r,to:n,options:JP(t.doc,e).map((a,l)=>({label:a,apply:a+s,type:"type",boost:99-l})),validFor:YG}}function uEe(t,e,r,n){let s=[],a=0;for(let l of WG(t.doc,r,e))s.push({label:"<"+l,type:"type"});for(let l of JP(t.doc,r))s.push({label:"</"+l+">",type:"type",boost:99-a++});return{from:n,to:n,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function fEe(t,e,r,n,s){let a=Yf(r),l=a?e.tags[Wf(t.doc,a)]:null,c=l&&l.attrs?Object.keys(l.attrs):[],h=l&&l.globalAttrs===!1?c:c.length?c.concat(e.globalAttrNames):e.globalAttrNames;return{from:n,to:s,options:h.map(f=>({label:f,type:"property"})),validFor:YG}}function gEe(t,e,r,n,s){var a;let l=(a=r.parent)===null||a===void 0?void 0:a.getChild("AttributeName"),c=[],h;if(l){let f=t.sliceDoc(l.from,l.to),p=e.globalAttrs[f];if(!p){let O=Yf(r),x=O?e.tags[Wf(t.doc,O)]:null;p=(x==null?void 0:x.attrs)&&x.attrs[f]}if(p){let O=t.sliceDoc(n,s).toLowerCase(),x='"',k='"';/^['"]/.test(O)?(h=O[0]=='"'?/^[^"]*$/:/^[^']*$/,x="",k=t.sliceDoc(s,s+1)==O[0]?"":O[0],O=O.slice(1),n++):h=/^[^\s<>='"]*$/;for(let w of p)c.push({label:w,apply:x+w+k,type:"constant"})}}return{from:n,to:s,options:c,validFor:h}}function pEe(t,e){let{state:r,pos:n}=e,s=In(r).resolveInner(n,-1),a=s.resolve(n);for(let l=n,c;a==s&&(c=s.childBefore(l));){let h=c.lastChild;if(!h||!h.type.isError||h.from<h.to)break;a=s=c,l=h.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?lF(r,s,s.from,n):oF(r,t,s,s.from,n):s.name=="StartTag"||s.name=="IncompleteTag"?oF(r,t,s,n,n):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?lF(r,s,n,n):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?fEe(r,t,s,s.name=="AttributeName"?s.from:n,n):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?gEe(r,t,s,s.name=="Is"?n:s.from,n):e.explicit&&(a.name=="Element"||a.name=="Text"||a.name=="Document")?uEe(r,t,s,n):null}function mEe(t){let{extraTags:e,extraGlobalAttributes:r}=t,n=r||e?new y_(e,r):y_.default;return s=>pEe(n,s)}const OEe=Fl.parser.configure({top:"SingleExpression"}),ZG=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:gG.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:pG.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:mG.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:OEe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Fl.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:k_.parser}],GG=[{name:"style",parser:k_.parser.configure({top:"Styles"})}].concat(qG.map(t=>({name:t,parser:Fl.parser}))),HG=ol.define({name:"html",parser:ETe.configure({props:[ad.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,r;for(let n=t.node;;){let s=n.lastChild;if(!s||s.name!="Element"||s.to!=n.to)break;e=n=s}return e&&!((r=e.lastChild)&&(r.name=="CloseTag"||r.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),od.add({Element(t){let e=t.firstChild,r=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:r.name=="CloseTag"?r.from:t.to}}}),eZ.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),zv=HG.configure({wrap:IG(ZG,GG)});function xEe(t={}){let e="",r;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(r=IG((t.nestedLanguages||[]).concat(ZG),(t.nestedAttributes||[]).concat(GG)));let n=r?HG.configure({wrap:r,dialect:e}):e?zv.configure({dialect:e}):zv;return new Ah(n,[zv.data.of({autocomplete:mEe(t)}),t.autoCloseTags!==!1?bEe:[],lE().support,VG().support])}const cF=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),bEe=vt.inputHandler.of((t,e,r,n,s)=>{if(t.composing||t.state.readOnly||e!=r||n!=">"&&n!="/"||!zv.isActiveAt(t.state,e,-1))return!1;let a=s(),{state:l}=a,c=l.changeByRange(h=>{var f,p,O;let x=l.doc.sliceString(h.from-1,h.to)==n,{head:k}=h,w=In(l).resolveInner(k,-1),_;if(x&&n==">"&&w.name=="EndTag"){let C=w.parent;if(((p=(f=C.parent)===null||f===void 0?void 0:f.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(_=Wf(l.doc,C.parent,k))&&!cF.has(_)){let T=k+(l.doc.sliceString(k,k+1)===">"?1:0),E=`</${_}>`;return{range:h,changes:{from:k,to:T,insert:E}}}}else if(x&&n=="/"&&w.name=="IncompleteCloseTag"){let C=w.parent;if(w.from==k-2&&((O=C.lastChild)===null||O===void 0?void 0:O.name)!="CloseTag"&&(_=Wf(l.doc,C,k))&&!cF.has(_)){let T=k+(l.doc.sliceString(k,k+1)===">"?1:0),E=`${_}>`;return{range:Ke.cursor(k+E.length,-1),changes:{from:k,to:T,insert:E}}}}return{range:h}});return c.changes.empty?!1:(t.dispatch([a,l.update(c,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),kEe=sd({String:le.string,Number:le.number,"True False":le.bool,PropertyName:le.propertyName,Null:le.null,", :":le.separator,"[ ]":le.squareBracket,"{ }":le.brace}),yEe=ll.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[kEe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),wEe=ol.define({name:"json",parser:yEe.configure({props:[ad.add({Object:lo({except:/^\s*\}/}),Array:lo({except:/^\s*\]/})}),od.add({"Object Array":Xu})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function vEe(){return new Ah(wEe)}const W0=63,dF=64,_Ee=1,CEe=2,KG=3,AEe=4,JG=5,SEe=6,TEe=7,eH=65,EEe=66,PEe=8,DEe=9,QEe=10,$Ee=11,MEe=12,tH=13,REe=19,NEe=20,BEe=29,IEe=33,jEe=34,FEe=47,LEe=0,e7=1,fE=2,HO=3,gE=4;class au{constructor(e,r,n){this.parent=e,this.depth=r,this.type=n,this.hash=(e?e.hash+e.hash<<8:0)+r+(r<<4)+n}}au.top=new au(null,-1,LEe);function cO(t,e){for(let r=0,n=e-t.pos-1;;n--,r++){let s=t.peek(n);if(Hc(s)||s==-1)return r}}function pE(t){return t==32||t==9}function Hc(t){return t==10||t==13}function rH(t){return pE(t)||Hc(t)}function hu(t){return t<0||rH(t)}const zEe=new zC({start:au.top,reduce(t,e){return t.type==HO&&(e==NEe||e==jEe)?t.parent:t},shift(t,e,r,n){if(e==KG)return new au(t,cO(n,n.pos),e7);if(e==eH||e==JG)return new au(t,cO(n,n.pos),fE);if(e==W0)return t.parent;if(e==REe||e==IEe)return new au(t,0,HO);if(e==tH&&t.type==gE)return t.parent;if(e==FEe){let s=/[1-9]/.exec(n.read(n.pos,r.pos));if(s)return new au(t,t.depth+ +s[0],gE)}return t},hash(t){return t.hash}});function Zf(t,e,r=0){return t.peek(r)==e&&t.peek(r+1)==e&&t.peek(r+2)==e&&hu(t.peek(r+3))}const XEe=new jn((t,e)=>{if(t.next==-1&&e.canShift(dF))return t.acceptToken(dF);let r=t.peek(-1);if((Hc(r)||r<0)&&e.context.type!=HO){if(Zf(t,45))if(e.canShift(W0))t.acceptToken(W0);else return t.acceptToken(_Ee,3);if(Zf(t,46))if(e.canShift(W0))t.acceptToken(W0);else return t.acceptToken(CEe,3);let n=0;for(;t.next==32;)n++,t.advance();(n<e.context.depth||n==e.context.depth&&e.context.type==e7&&(t.next!=45||!hu(t.peek(1))))&&t.next!=-1&&!Hc(t.next)&&t.next!=35&&t.acceptToken(W0,-n)}},{contextual:!0}),VEe=new jn((t,e)=>{if(e.context.type==HO){t.next==63&&(t.advance(),hu(t.next)&&t.acceptToken(TEe));return}if(t.next==45)t.advance(),hu(t.next)&&t.acceptToken(e.context.type==e7&&e.context.depth==cO(t,t.pos-1)?AEe:KG);else if(t.next==63)t.advance(),hu(t.next)&&t.acceptToken(e.context.type==fE&&e.context.depth==cO(t,t.pos-1)?SEe:JG);else{let r=t.pos;for(;;)if(pE(t.next)){if(t.pos==r)return;t.advance()}else if(t.next==33)nH(t);else if(t.next==38)mE(t);else if(t.next==42){mE(t);break}else if(t.next==39||t.next==34){if(t7(t,!0))break;return}else if(t.next==91||t.next==123){if(!qEe(t))return;break}else{iH(t,!0,!1,0);break}for(;pE(t.next);)t.advance();if(t.next==58){if(t.pos==r&&e.canShift(BEe))return;let n=t.peek(1);hu(n)&&t.acceptTokenTo(e.context.type==fE&&e.context.depth==cO(t,r)?EEe:eH,r)}}},{contextual:!0});function UEe(t){return t>32&&t<127&&t!=34&&t!=37&&t!=44&&t!=60&&t!=62&&t!=92&&t!=94&&t!=96&&t!=123&&t!=124&&t!=125}function hF(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function uF(t,e){return t.next==37?(t.advance(),hF(t.next)&&t.advance(),hF(t.next)&&t.advance(),!0):UEe(t.next)||e&&t.next==44?(t.advance(),!0):!1}function nH(t){if(t.advance(),t.next==60){for(t.advance();;)if(!uF(t,!0)){t.next==62&&t.advance();break}}else for(;uF(t,!1););}function mE(t){for(t.advance();!hu(t.next)&&w_(t.tag)!="f";)t.advance()}function t7(t,e){let r=t.next,n=!1,s=t.pos;for(t.advance();;){let a=t.next;if(a<0)break;if(t.advance(),a==r)if(a==39)if(t.next==39)t.advance();else break;else break;else if(a==92&&r==34)t.next>=0&&t.advance();else if(Hc(a)){if(e)return!1;n=!0}else if(e&&t.pos>=s+1024)return!1}return!n}function qEe(t){for(let e=[],r=t.pos+1024;;)if(t.next==91||t.next==123)e.push(t.next),t.advance();else if(t.next==39||t.next==34){if(!t7(t,!0))return!1}else if(t.next==93||t.next==125){if(e[e.length-1]!=t.next-2)return!1;if(e.pop(),t.advance(),!e.length)return!0}else{if(t.next<0||t.pos>r||Hc(t.next))return!1;t.advance()}}const WEe="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function w_(t){return t<33?"u":t>125?"s":WEe[t-33]}function V5(t,e){let r=w_(t);return r!="u"&&!(e&&r=="f")}function iH(t,e,r,n){if(w_(t.next)=="s"||(t.next==63||t.next==58||t.next==45)&&V5(t.peek(1),r))t.advance();else return!1;let s=t.pos;for(;;){let a=t.next,l=0,c=n+1;for(;rH(a);){if(Hc(a)){if(e)return!1;c=0}else c++;a=t.peek(++l)}if(!(a>=0&&(a==58?V5(t.peek(l+1),r):a==35?t.peek(l-1)!=32:V5(a,r)))||!r&&c<=n||c==0&&!r&&(Zf(t,45,l)||Zf(t,46,l)))break;if(e&&w_(a)=="f")return!1;for(let f=l;f>=0;f--)t.advance();if(e&&t.pos>s+1024)return!1}return!0}const YEe=new jn((t,e)=>{if(t.next==33)nH(t),t.acceptToken(MEe);else if(t.next==38||t.next==42){let r=t.next==38?QEe:$Ee;mE(t),t.acceptToken(r)}else t.next==39||t.next==34?(t7(t,!1),t.acceptToken(DEe)):iH(t,!1,e.context.type==HO,e.context.depth)&&t.acceptToken(PEe)}),ZEe=new jn((t,e)=>{let r=e.context.type==gE?e.context.depth:-1,n=t.pos;e:for(;;){let s=0,a=t.next;for(;a==32;)a=t.peek(++s);if(!s&&(Zf(t,45,s)||Zf(t,46,s))||!Hc(a)&&(r<0&&(r=Math.max(e.context.depth+1,s)),s<r))break;for(;;){if(t.next<0)break e;let l=Hc(t.next);if(t.advance(),l)continue e;n=t.pos}}t.acceptTokenTo(tH,n)}),GEe=sd({DirectiveName:le.keyword,DirectiveContent:le.attributeValue,"DirectiveEnd DocEnd":le.meta,QuotedLiteral:le.string,BlockLiteralHeader:le.special(le.string),BlockLiteralContent:le.content,Literal:le.content,"Key/Literal Key/QuotedLiteral":le.definition(le.propertyName),"Anchor Alias":le.labelName,Tag:le.typeName,Comment:le.lineComment,": , -":le.separator,"?":le.punctuation,"[ ]":le.squareBracket,"{ }":le.brace}),HEe=ll.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:zEe,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[GEe],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[XEe,VEe,YEe,ZEe,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),KEe=ol.define({name:"yaml",parser:HEe.configure({props:[ad.add({Stream:t=>{for(let e=t.node.resolve(t.pos,-1);e&&e.to>=t.pos;e=e.parent){if(e.name=="BlockLiteralContent"&&e.from<e.to)return t.baseIndentFor(e);if(e.name=="BlockLiteral")return t.baseIndentFor(e)+t.unit;if(e.name=="BlockSequence"||e.name=="BlockMapping")return t.column(e.from,1);if(e.name=="QuotedLiteral")return null;if(e.name=="Literal"){let r=t.column(e.from,1);if(r==t.lineIndent(e.from,1))return r;if(e.to>t.pos)return null}}return null},FlowMapping:Kd({closing:"}"}),FlowSequence:Kd({closing:"]"})}),od.add({"FlowMapping FlowSequence":Xu,"Item Pair BlockLiteral":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function JEe(){return new Ah(KEe)}var fF={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Xv={exports:{}},e6e=Xv.exports,gF;function t6e(){return gF||(gF=1,(function(t,e){(function(r,n){t.exports=n()})(e6e,(function(){var r=1e3,n=6e4,s=36e5,a="millisecond",l="second",c="minute",h="hour",f="day",p="week",O="month",x="quarter",k="year",w="date",_="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(V){var te=["th","st","nd","rd"],G=V%100;return"["+V+(te[(G-20)%10]||te[G]||te[0])+"]"}},P=function(V,te,G){var J=String(V);return!J||J.length>=te?V:""+Array(te+1-J.length).join(G)+V},Q={s:P,z:function(V){var te=-V.utcOffset(),G=Math.abs(te),J=Math.floor(G/60),oe=G%60;return(te<=0?"+":"-")+P(J,2,"0")+":"+P(oe,2,"0")},m:function V(te,G){if(te.date()<G.date())return-V(G,te);var J=12*(G.year()-te.year())+(G.month()-te.month()),oe=te.clone().add(J,O),ie=G-oe<0,be=te.clone().add(J+(ie?-1:1),O);return+(-(J+(G-oe)/(ie?oe-be:be-oe))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:O,y:k,w:p,d:f,D:w,h,m:c,s:l,ms:a,Q:x}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},B="en",R={};R[B]=E;var M="$isDayjsObject",I=function(V){return V instanceof W||!(!V||!V[M])},j=function V(te,G,J){var oe;if(!te)return B;if(typeof te=="string"){var ie=te.toLowerCase();R[ie]&&(oe=ie),G&&(R[ie]=G,oe=ie);var be=te.split("-");if(!oe&&be.length>1)return V(be[0])}else{var he=te.name;R[he]=te,oe=he}return!J&&oe&&(B=oe),oe||!J&&B},z=function(V,te){if(I(V))return V.clone();var G=typeof te=="object"?te:{};return G.date=V,G.args=arguments,new W(G)},X=Q;X.l=j,X.i=I,X.w=function(V,te){return z(V,{locale:te.$L,utc:te.$u,x:te.$x,$offset:te.$offset})};var W=(function(){function V(G){this.$L=j(G.locale,null,!0),this.parse(G),this.$x=this.$x||G.x||{},this[M]=!0}var te=V.prototype;return te.parse=function(G){this.$d=(function(J){var oe=J.date,ie=J.utc;if(oe===null)return new Date(NaN);if(X.u(oe))return new Date;if(oe instanceof Date)return new Date(oe);if(typeof oe=="string"&&!/Z$/i.test(oe)){var be=oe.match(C);if(be){var he=be[2]-1||0,re=(be[7]||"0").substring(0,3);return ie?new Date(Date.UTC(be[1],he,be[3]||1,be[4]||0,be[5]||0,be[6]||0,re)):new Date(be[1],he,be[3]||1,be[4]||0,be[5]||0,be[6]||0,re)}}return new Date(oe)})(G),this.init()},te.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},te.$utils=function(){return X},te.isValid=function(){return this.$d.toString()!==_},te.isSame=function(G,J){var oe=z(G);return this.startOf(J)<=oe&&oe<=this.endOf(J)},te.isAfter=function(G,J){return z(G)<this.startOf(J)},te.isBefore=function(G,J){return this.endOf(J)<z(G)},te.$g=function(G,J,oe){return X.u(G)?this[J]:this.set(oe,G)},te.unix=function(){return Math.floor(this.valueOf()/1e3)},te.valueOf=function(){return this.$d.getTime()},te.startOf=function(G,J){var oe=this,ie=!!X.u(J)||J,be=X.p(G),he=function(De,Pe){var Ee=X.w(oe.$u?Date.UTC(oe.$y,Pe,De):new Date(oe.$y,Pe,De),oe);return ie?Ee:Ee.endOf(f)},re=function(De,Pe){return X.w(oe.toDate()[De].apply(oe.toDate("s"),(ie?[0,0,0,0]:[23,59,59,999]).slice(Pe)),oe)},ae=this.$W,K=this.$M,ce=this.$D,ye="set"+(this.$u?"UTC":"");switch(be){case k:return ie?he(1,0):he(31,11);case O:return ie?he(1,K):he(0,K+1);case p:var ke=this.$locale().weekStart||0,Ce=(ae<ke?ae+7:ae)-ke;return he(ie?ce-Ce:ce+(6-Ce),K);case f:case w:return re(ye+"Hours",0);case h:return re(ye+"Minutes",1);case c:return re(ye+"Seconds",2);case l:return re(ye+"Milliseconds",3);default:return this.clone()}},te.endOf=function(G){return this.startOf(G,!1)},te.$set=function(G,J){var oe,ie=X.p(G),be="set"+(this.$u?"UTC":""),he=(oe={},oe[f]=be+"Date",oe[w]=be+"Date",oe[O]=be+"Month",oe[k]=be+"FullYear",oe[h]=be+"Hours",oe[c]=be+"Minutes",oe[l]=be+"Seconds",oe[a]=be+"Milliseconds",oe)[ie],re=ie===f?this.$D+(J-this.$W):J;if(ie===O||ie===k){var ae=this.clone().set(w,1);ae.$d[he](re),ae.init(),this.$d=ae.set(w,Math.min(this.$D,ae.daysInMonth())).$d}else he&&this.$d[he](re);return this.init(),this},te.set=function(G,J){return this.clone().$set(G,J)},te.get=function(G){return this[X.p(G)]()},te.add=function(G,J){var oe,ie=this;G=Number(G);var be=X.p(J),he=function(K){var ce=z(ie);return X.w(ce.date(ce.date()+Math.round(K*G)),ie)};if(be===O)return this.set(O,this.$M+G);if(be===k)return this.set(k,this.$y+G);if(be===f)return he(1);if(be===p)return he(7);var re=(oe={},oe[c]=n,oe[h]=s,oe[l]=r,oe)[be]||1,ae=this.$d.getTime()+G*re;return X.w(ae,this)},te.subtract=function(G,J){return this.add(-1*G,J)},te.format=function(G){var J=this,oe=this.$locale();if(!this.isValid())return oe.invalidDate||_;var ie=G||"YYYY-MM-DDTHH:mm:ssZ",be=X.z(this),he=this.$H,re=this.$m,ae=this.$M,K=oe.weekdays,ce=oe.months,ye=oe.meridiem,ke=function(Pe,Ee,de,Re){return Pe&&(Pe[Ee]||Pe(J,ie))||de[Ee].slice(0,Re)},Ce=function(Pe){return X.s(he%12||12,Pe,"0")},De=ye||function(Pe,Ee,de){var Re=Pe<12?"AM":"PM";return de?Re.toLowerCase():Re};return ie.replace(T,(function(Pe,Ee){return Ee||(function(de){switch(de){case"YY":return String(J.$y).slice(-2);case"YYYY":return X.s(J.$y,4,"0");case"M":return ae+1;case"MM":return X.s(ae+1,2,"0");case"MMM":return ke(oe.monthsShort,ae,ce,3);case"MMMM":return ke(ce,ae);case"D":return J.$D;case"DD":return X.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return ke(oe.weekdaysMin,J.$W,K,2);case"ddd":return ke(oe.weekdaysShort,J.$W,K,3);case"dddd":return K[J.$W];case"H":return String(he);case"HH":return X.s(he,2,"0");case"h":return Ce(1);case"hh":return Ce(2);case"a":return De(he,re,!0);case"A":return De(he,re,!1);case"m":return String(re);case"mm":return X.s(re,2,"0");case"s":return String(J.$s);case"ss":return X.s(J.$s,2,"0");case"SSS":return X.s(J.$ms,3,"0");case"Z":return be}return null})(Pe)||be.replace(":","")}))},te.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},te.diff=function(G,J,oe){var ie,be=this,he=X.p(J),re=z(G),ae=(re.utcOffset()-this.utcOffset())*n,K=this-re,ce=function(){return X.m(be,re)};switch(he){case k:ie=ce()/12;break;case O:ie=ce();break;case x:ie=ce()/3;break;case p:ie=(K-ae)/6048e5;break;case f:ie=(K-ae)/864e5;break;case h:ie=K/s;break;case c:ie=K/n;break;case l:ie=K/r;break;default:ie=K}return oe?ie:X.a(ie)},te.daysInMonth=function(){return this.endOf(O).$D},te.$locale=function(){return R[this.$L]},te.locale=function(G,J){if(!G)return this.$L;var oe=this.clone(),ie=j(G,J,!0);return ie&&(oe.$L=ie),oe},te.clone=function(){return X.w(this.$d,this)},te.toDate=function(){return new Date(this.valueOf())},te.toJSON=function(){return this.isValid()?this.toISOString():null},te.toISOString=function(){return this.$d.toISOString()},te.toString=function(){return this.$d.toUTCString()},V})(),F=W.prototype;return z.prototype=F,[["$ms",a],["$s",l],["$m",c],["$H",h],["$W",f],["$M",O],["$y",k],["$D",w]].forEach((function(V){F[V[1]]=function(te){return this.$g(te,V[0],V[1])}})),z.extend=function(V,te){return V.$i||(V(te,W,z),V.$i=!0),z},z.locale=j,z.isDayjs=I,z.unix=function(V){return z(1e3*V)},z.en=R[B],z.Ls=R,z.p={},z}))})(Xv)),Xv.exports}var r6e=t6e();const n6e=OC(r6e);var sH=Object.defineProperty,Z=(t,e)=>sH(t,"name",{value:e,configurable:!0}),i6e=(t,e)=>{for(var r in e)sH(t,r,{get:e[r],enumerable:!0})},mc={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},rt={trace:Z((...t)=>{},"trace"),debug:Z((...t)=>{},"debug"),info:Z((...t)=>{},"info"),warn:Z((...t)=>{},"warn"),error:Z((...t)=>{},"error"),fatal:Z((...t)=>{},"fatal")},r7=Z(function(t="fatal"){let e=mc.fatal;typeof t=="string"?t.toLowerCase()in mc&&(e=mc[t]):typeof t=="number"&&(e=t),rt.trace=()=>{},rt.debug=()=>{},rt.info=()=>{},rt.warn=()=>{},rt.error=()=>{},rt.fatal=()=>{},e<=mc.fatal&&(rt.fatal=console.error?console.error.bind(console,Za("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Za("FATAL"))),e<=mc.error&&(rt.error=console.error?console.error.bind(console,Za("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Za("ERROR"))),e<=mc.warn&&(rt.warn=console.warn?console.warn.bind(console,Za("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Za("WARN"))),e<=mc.info&&(rt.info=console.info?console.info.bind(console,Za("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Za("INFO"))),e<=mc.debug&&(rt.debug=console.debug?console.debug.bind(console,Za("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Za("DEBUG"))),e<=mc.trace&&(rt.trace=console.debug?console.debug.bind(console,Za("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Za("TRACE")))},"setLogLevel"),Za=Z(t=>`%c${n6e().format("ss.SSS")} : ${t} : `,"format");const Vv={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t),hsl2rgb:({h:t,s:e,l:r},n)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;const s=r<.5?r*(1+e):r+e-r*e,a=2*r-s;switch(n){case"r":return Vv.hue2rgb(a,s,t+1/3)*255;case"g":return Vv.hue2rgb(a,s,t)*255;case"b":return Vv.hue2rgb(a,s,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:r},n)=>{t/=255,e/=255,r/=255;const s=Math.max(t,e,r),a=Math.min(t,e,r),l=(s+a)/2;if(n==="l")return l*100;if(s===a)return 0;const c=s-a,h=l>.5?c/(2-s-a):c/(s+a);if(n==="s")return h*100;switch(s){case t:return((e-r)/c+(e<r?6:0))*60;case e:return((r-t)/c+2)*60;case r:return((t-e)/c+4)*60;default:return-1}}},s6e={clamp:(t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},a6e={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},lr={channel:Vv,lang:s6e,unit:a6e},Qd={};for(let t=0;t<=255;t++)Qd[t]=lr.unit.dec2hex(t);const ds={ALL:0,RGB:1,HSL:2};class o6e{constructor(){this.type=ds.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ds.ALL}is(e){return this.type===e}}class l6e{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new o6e}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=ds.ALL,this}_ensureHSL(){const e=this.data,{h:r,s:n,l:s}=e;r===void 0&&(e.h=lr.channel.rgb2hsl(e,"h")),n===void 0&&(e.s=lr.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=lr.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r,g:n,b:s}=e;r===void 0&&(e.r=lr.channel.hsl2rgb(e,"r")),n===void 0&&(e.g=lr.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=lr.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,r=e.r;return!this.type.is(ds.HSL)&&r!==void 0?r:(this._ensureHSL(),lr.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,r=e.g;return!this.type.is(ds.HSL)&&r!==void 0?r:(this._ensureHSL(),lr.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,r=e.b;return!this.type.is(ds.HSL)&&r!==void 0?r:(this._ensureHSL(),lr.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,r=e.h;return!this.type.is(ds.RGB)&&r!==void 0?r:(this._ensureRGB(),lr.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,r=e.s;return!this.type.is(ds.RGB)&&r!==void 0?r:(this._ensureRGB(),lr.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,r=e.l;return!this.type.is(ds.RGB)&&r!==void 0?r:(this._ensureRGB(),lr.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ds.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ds.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ds.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ds.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ds.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ds.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const VC=new l6e({r:0,g:0,b:0,a:0},"transparent"),bf={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(bf.re);if(!e)return;const r=e[1],n=parseInt(r,16),s=r.length,a=s%4===0,l=s>4,c=l?1:17,h=l?8:4,f=a?0:-1,p=l?255:15;return VC.set({r:(n>>h*(f+3)&p)*c,g:(n>>h*(f+2)&p)*c,b:(n>>h*(f+1)&p)*c,a:a?(n&p)*c/255:1},t)},stringify:t=>{const{r:e,g:r,b:n,a:s}=t;return s<1?`#${Qd[Math.round(e)]}${Qd[Math.round(r)]}${Qd[Math.round(n)]}${Qd[Math.round(s*255)]}`:`#${Qd[Math.round(e)]}${Qd[Math.round(r)]}${Qd[Math.round(n)]}`}},uu={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(uu.hueRe);if(e){const[,r,n]=e;switch(n){case"grad":return lr.channel.clamp.h(parseFloat(r)*.9);case"rad":return lr.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return lr.channel.clamp.h(parseFloat(r)*360)}}return lr.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const r=t.match(uu.re);if(!r)return;const[,n,s,a,l,c]=r;return VC.set({h:uu._hue2deg(n),s:lr.channel.clamp.s(parseFloat(s)),l:lr.channel.clamp.l(parseFloat(a)),a:l?lr.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},t)},stringify:t=>{const{h:e,s:r,l:n,a:s}=t;return s<1?`hsla(${lr.lang.round(e)}, ${lr.lang.round(r)}%, ${lr.lang.round(n)}%, ${s})`:`hsl(${lr.lang.round(e)}, ${lr.lang.round(r)}%, ${lr.lang.round(n)}%)`}},dO={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=dO.colors[t];if(e)return bf.parse(e)},stringify:t=>{const e=bf.stringify(t);for(const r in dO.colors)if(dO.colors[r]===e)return r}},j1={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const r=t.match(j1.re);if(!r)return;const[,n,s,a,l,c,h,f,p]=r;return VC.set({r:lr.channel.clamp.r(s?parseFloat(n)*2.55:parseFloat(n)),g:lr.channel.clamp.g(l?parseFloat(a)*2.55:parseFloat(a)),b:lr.channel.clamp.b(h?parseFloat(c)*2.55:parseFloat(c)),a:f?lr.channel.clamp.a(p?parseFloat(f)/100:parseFloat(f)):1},t)},stringify:t=>{const{r:e,g:r,b:n,a:s}=t;return s<1?`rgba(${lr.lang.round(e)}, ${lr.lang.round(r)}, ${lr.lang.round(n)}, ${lr.lang.round(s)})`:`rgb(${lr.lang.round(e)}, ${lr.lang.round(r)}, ${lr.lang.round(n)})`}},zl={format:{keyword:dO,hex:bf,rgb:j1,rgba:j1,hsl:uu,hsla:uu},parse:t=>{if(typeof t!="string")return t;const e=bf.parse(t)||j1.parse(t)||uu.parse(t)||dO.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ds.HSL)||t.data.r===void 0?uu.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?j1.stringify(t):bf.stringify(t)},aH=(t,e)=>{const r=zl.parse(t);for(const n in e)r[n]=lr.channel.clamp[n](e[n]);return zl.stringify(r)},hO=(t,e,r=0,n=1)=>{if(typeof t!="number")return aH(t,{a:e});const s=VC.set({r:lr.channel.clamp.r(t),g:lr.channel.clamp.g(e),b:lr.channel.clamp.b(r),a:lr.channel.clamp.a(n)});return zl.stringify(s)},c6e=t=>{const{r:e,g:r,b:n}=zl.parse(t),s=.2126*lr.channel.toLinear(e)+.7152*lr.channel.toLinear(r)+.0722*lr.channel.toLinear(n);return lr.lang.round(s)},d6e=t=>c6e(t)>=.5,jx=t=>!d6e(t),oH=(t,e,r)=>{const n=zl.parse(t),s=n[e],a=lr.channel.clamp[e](s+r);return s!==a&&(n[e]=a),zl.stringify(n)},Mt=(t,e)=>oH(t,"l",e),Yt=(t,e)=>oH(t,"l",-e),Ie=(t,e)=>{const r=zl.parse(t),n={};for(const s in e)e[s]&&(n[s]=r[s]+e[s]);return aH(t,n)},h6e=(t,e,r=50)=>{const{r:n,g:s,b:a,a:l}=zl.parse(t),{r:c,g:h,b:f,a:p}=zl.parse(e),O=r/100,x=O*2-1,k=l-p,_=((x*k===-1?x:(x+k)/(1+x*k))+1)/2,C=1-_,T=n*_+c*C,E=s*_+h*C,P=a*_+f*C,Q=l*O+p*(1-O);return hO(T,E,P,Q)},wt=(t,e=100)=>{const r=zl.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,h6e(r,t,e)};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:lH,setPrototypeOf:pF,isFrozen:u6e,getPrototypeOf:f6e,getOwnPropertyDescriptor:g6e}=Object;let{freeze:Ys,seal:uo,create:OE}=Object,{apply:xE,construct:bE}=typeof Reflect<"u"&&Reflect;Ys||(Ys=function(e){return e});uo||(uo=function(e){return e});xE||(xE=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return e.apply(r,s)});bE||(bE=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const Vw=Zs(Array.prototype.forEach),p6e=Zs(Array.prototype.lastIndexOf),mF=Zs(Array.prototype.pop),x1=Zs(Array.prototype.push),m6e=Zs(Array.prototype.splice),Uv=Zs(String.prototype.toLowerCase),U5=Zs(String.prototype.toString),q5=Zs(String.prototype.match),b1=Zs(String.prototype.replace),O6e=Zs(String.prototype.indexOf),x6e=Zs(String.prototype.trim),jo=Zs(Object.prototype.hasOwnProperty),Ds=Zs(RegExp.prototype.test),k1=b6e(TypeError);function Zs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return xE(t,e,n)}}function b6e(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return bE(t,r)}}function Ar(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uv;pF&&pF(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const a=r(s);a!==s&&(u6e(e)||(e[n]=a),s=a)}t[s]=!0}return t}function k6e(t){for(let e=0;e<t.length;e++)jo(t,e)||(t[e]=null);return t}function _c(t){const e=OE(null);for(const[r,n]of lH(t))jo(t,r)&&(Array.isArray(n)?e[r]=k6e(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=_c(n):e[r]=n);return e}function y1(t,e){for(;t!==null;){const n=g6e(t,e);if(n){if(n.get)return Zs(n.get);if(typeof n.value=="function")return Zs(n.value)}t=f6e(t)}function r(){return null}return r}const OF=Ys(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W5=Ys(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y5=Ys(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),y6e=Ys(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Z5=Ys(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),w6e=Ys(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xF=Ys(["#text"]),bF=Ys(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),G5=Ys(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kF=Ys(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Uw=Ys(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),v6e=uo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_6e=uo(/<%[\w\W]*|[\w\W]*%>/gm),C6e=uo(/\$\{[\w\W]*/gm),A6e=uo(/^data-[\-\w.\u00B7-\uFFFF]+$/),S6e=uo(/^aria-[\-\w]+$/),cH=uo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T6e=uo(/^(?:\w+script|data):/i),E6e=uo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dH=uo(/^html$/i),P6e=uo(/^[a-z][.\w]*(-[.\w]+)+$/i);var yF=Object.freeze({__proto__:null,ARIA_ATTR:S6e,ATTR_WHITESPACE:E6e,CUSTOM_ELEMENT:P6e,DATA_ATTR:A6e,DOCTYPE_NAME:dH,ERB_EXPR:_6e,IS_ALLOWED_URI:cH,IS_SCRIPT_OR_DATA:T6e,MUSTACHE_EXPR:v6e,TMPLIT_EXPR:C6e});const w1={element:1,text:3,progressingInstruction:7,comment:8,document:9},D6e=function(){return typeof window>"u"?null:window},Q6e=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},wF=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hH(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D6e();const e=Qe=>hH(Qe);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==w1.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:h,NodeFilter:f,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:O,DOMParser:x,trustedTypes:k}=t,w=h.prototype,_=y1(w,"cloneNode"),C=y1(w,"remove"),T=y1(w,"nextSibling"),E=y1(w,"childNodes"),P=y1(w,"parentNode");if(typeof l=="function"){const Qe=r.createElement("template");Qe.content&&Qe.content.ownerDocument&&(r=Qe.content.ownerDocument)}let Q,B="";const{implementation:R,createNodeIterator:M,createDocumentFragment:I,getElementsByTagName:j}=r,{importNode:z}=n;let X=wF();e.isSupported=typeof lH=="function"&&typeof P=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:W,ERB_EXPR:F,TMPLIT_EXPR:V,DATA_ATTR:te,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:J,ATTR_WHITESPACE:oe,CUSTOM_ELEMENT:ie}=yF;let{IS_ALLOWED_URI:be}=yF,he=null;const re=Ar({},[...OF,...W5,...Y5,...Z5,...xF]);let ae=null;const K=Ar({},[...bF,...G5,...kF,...Uw]);let ce=Object.seal(OE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,ke=null;const Ce=Object.seal(OE(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let De=!0,Pe=!0,Ee=!1,de=!0,Re=!1,Be=!0,He=!1,Ye=!1,Ze=!1,Ge=!1,Qt=!1,gr=!1,Or=!0,kr=!1;const lt="user-content-";let st=!0,xt=!1,tt={},Ct=null;const Gt=Ar({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let cr=null;const kt=Ar({},["audio","video","img","source","image","track"]);let Nt=null;const dr=Ar({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pr="http://www.w3.org/1998/Math/MathML",Lr="http://www.w3.org/2000/svg",Kr="http://www.w3.org/1999/xhtml";let Li=Kr,zi=!1,Ai=null;const yo=Ar({},[pr,Lr,Kr],U5);let Wn=Ar({},["mi","mo","mn","ms","mtext"]),Cn=Ar({},["annotation-xml"]);const Fn=Ar({},["title","style","font","a","script"]);let Je=null;const _t=["application/xhtml+xml","text/html"],zt="text/html";let tr=null,dn=null;const Js=r.createElement("form"),Si=function(Oe){return Oe instanceof RegExp||Oe instanceof Function},wo=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(dn&&dn===Oe)){if((!Oe||typeof Oe!="object")&&(Oe={}),Oe=_c(Oe),Je=_t.indexOf(Oe.PARSER_MEDIA_TYPE)===-1?zt:Oe.PARSER_MEDIA_TYPE,tr=Je==="application/xhtml+xml"?U5:Uv,he=jo(Oe,"ALLOWED_TAGS")?Ar({},Oe.ALLOWED_TAGS,tr):re,ae=jo(Oe,"ALLOWED_ATTR")?Ar({},Oe.ALLOWED_ATTR,tr):K,Ai=jo(Oe,"ALLOWED_NAMESPACES")?Ar({},Oe.ALLOWED_NAMESPACES,U5):yo,Nt=jo(Oe,"ADD_URI_SAFE_ATTR")?Ar(_c(dr),Oe.ADD_URI_SAFE_ATTR,tr):dr,cr=jo(Oe,"ADD_DATA_URI_TAGS")?Ar(_c(kt),Oe.ADD_DATA_URI_TAGS,tr):kt,Ct=jo(Oe,"FORBID_CONTENTS")?Ar({},Oe.FORBID_CONTENTS,tr):Gt,ye=jo(Oe,"FORBID_TAGS")?Ar({},Oe.FORBID_TAGS,tr):_c({}),ke=jo(Oe,"FORBID_ATTR")?Ar({},Oe.FORBID_ATTR,tr):_c({}),tt=jo(Oe,"USE_PROFILES")?Oe.USE_PROFILES:!1,De=Oe.ALLOW_ARIA_ATTR!==!1,Pe=Oe.ALLOW_DATA_ATTR!==!1,Ee=Oe.ALLOW_UNKNOWN_PROTOCOLS||!1,de=Oe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=Oe.SAFE_FOR_TEMPLATES||!1,Be=Oe.SAFE_FOR_XML!==!1,He=Oe.WHOLE_DOCUMENT||!1,Ge=Oe.RETURN_DOM||!1,Qt=Oe.RETURN_DOM_FRAGMENT||!1,gr=Oe.RETURN_TRUSTED_TYPE||!1,Ze=Oe.FORCE_BODY||!1,Or=Oe.SANITIZE_DOM!==!1,kr=Oe.SANITIZE_NAMED_PROPS||!1,st=Oe.KEEP_CONTENT!==!1,xt=Oe.IN_PLACE||!1,be=Oe.ALLOWED_URI_REGEXP||cH,Li=Oe.NAMESPACE||Kr,Wn=Oe.MATHML_TEXT_INTEGRATION_POINTS||Wn,Cn=Oe.HTML_INTEGRATION_POINTS||Cn,ce=Oe.CUSTOM_ELEMENT_HANDLING||{},Oe.CUSTOM_ELEMENT_HANDLING&&Si(Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&Si(Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=Oe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Oe.CUSTOM_ELEMENT_HANDLING&&typeof Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=Oe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(Pe=!1),Qt&&(Ge=!0),tt&&(he=Ar({},xF),ae=[],tt.html===!0&&(Ar(he,OF),Ar(ae,bF)),tt.svg===!0&&(Ar(he,W5),Ar(ae,G5),Ar(ae,Uw)),tt.svgFilters===!0&&(Ar(he,Y5),Ar(ae,G5),Ar(ae,Uw)),tt.mathMl===!0&&(Ar(he,Z5),Ar(ae,kF),Ar(ae,Uw))),Oe.ADD_TAGS&&(typeof Oe.ADD_TAGS=="function"?Ce.tagCheck=Oe.ADD_TAGS:(he===re&&(he=_c(he)),Ar(he,Oe.ADD_TAGS,tr))),Oe.ADD_ATTR&&(typeof Oe.ADD_ATTR=="function"?Ce.attributeCheck=Oe.ADD_ATTR:(ae===K&&(ae=_c(ae)),Ar(ae,Oe.ADD_ATTR,tr))),Oe.ADD_URI_SAFE_ATTR&&Ar(Nt,Oe.ADD_URI_SAFE_ATTR,tr),Oe.FORBID_CONTENTS&&(Ct===Gt&&(Ct=_c(Ct)),Ar(Ct,Oe.FORBID_CONTENTS,tr)),st&&(he["#text"]=!0),He&&Ar(he,["html","head","body"]),he.table&&(Ar(he,["tbody"]),delete ye.tbody),Oe.TRUSTED_TYPES_POLICY){if(typeof Oe.TRUSTED_TYPES_POLICY.createHTML!="function")throw k1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Oe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw k1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=Oe.TRUSTED_TYPES_POLICY,B=Q.createHTML("")}else Q===void 0&&(Q=Q6e(k,s)),Q!==null&&typeof B=="string"&&(B=Q.createHTML(""));Ys&&Ys(Oe),dn=Oe}},rc=Ar({},[...W5,...Y5,...y6e]),qr=Ar({},[...Z5,...w6e]),ea=function(Oe){let Ne=P(Oe);(!Ne||!Ne.tagName)&&(Ne={namespaceURI:Li,tagName:"template"});const Ve=Uv(Oe.tagName),et=Uv(Ne.tagName);return Ai[Oe.namespaceURI]?Oe.namespaceURI===Lr?Ne.namespaceURI===Kr?Ve==="svg":Ne.namespaceURI===pr?Ve==="svg"&&(et==="annotation-xml"||Wn[et]):!!rc[Ve]:Oe.namespaceURI===pr?Ne.namespaceURI===Kr?Ve==="math":Ne.namespaceURI===Lr?Ve==="math"&&Cn[et]:!!qr[Ve]:Oe.namespaceURI===Kr?Ne.namespaceURI===Lr&&!Cn[et]||Ne.namespaceURI===pr&&!Wn[et]?!1:!qr[Ve]&&(Fn[Ve]||!rc[Ve]):!!(Je==="application/xhtml+xml"&&Ai[Oe.namespaceURI]):!1},Yn=function(Oe){x1(e.removed,{element:Oe});try{P(Oe).removeChild(Oe)}catch{C(Oe)}},ss=function(Oe,Ne){try{x1(e.removed,{attribute:Ne.getAttributeNode(Oe),from:Ne})}catch{x1(e.removed,{attribute:null,from:Ne})}if(Ne.removeAttribute(Oe),Oe==="is")if(Ge||Qt)try{Yn(Ne)}catch{}else try{Ne.setAttribute(Oe,"")}catch{}},fe=function(Oe){let Ne=null,Ve=null;if(Ze)Oe="<remove></remove>"+Oe;else{const Tt=q5(Oe,/^[\r\n\t ]+/);Ve=Tt&&Tt[0]}Je==="application/xhtml+xml"&&Li===Kr&&(Oe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Oe+"</body></html>");const et=Q?Q.createHTML(Oe):Oe;if(Li===Kr)try{Ne=new x().parseFromString(et,Je)}catch{}if(!Ne||!Ne.documentElement){Ne=R.createDocument(Li,"template",null);try{Ne.documentElement.innerHTML=zi?B:et}catch{}}const Ot=Ne.body||Ne.documentElement;return Oe&&Ve&&Ot.insertBefore(r.createTextNode(Ve),Ot.childNodes[0]||null),Li===Kr?j.call(Ne,He?"html":"body")[0]:He?Ne.documentElement:Ot},ve=function(Oe){return M.call(Oe.ownerDocument||Oe,Oe,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},pe=function(Oe){return Oe instanceof O&&(typeof Oe.nodeName!="string"||typeof Oe.textContent!="string"||typeof Oe.removeChild!="function"||!(Oe.attributes instanceof p)||typeof Oe.removeAttribute!="function"||typeof Oe.setAttribute!="function"||typeof Oe.namespaceURI!="string"||typeof Oe.insertBefore!="function"||typeof Oe.hasChildNodes!="function")},xe=function(Oe){return typeof c=="function"&&Oe instanceof c};function we(Qe,Oe,Ne){Vw(Qe,Ve=>{Ve.call(e,Oe,Ne,dn)})}const _e=function(Oe){let Ne=null;if(we(X.beforeSanitizeElements,Oe,null),pe(Oe))return Yn(Oe),!0;const Ve=tr(Oe.nodeName);if(we(X.uponSanitizeElement,Oe,{tagName:Ve,allowedTags:he}),Be&&Oe.hasChildNodes()&&!xe(Oe.firstElementChild)&&Ds(/<[/\w!]/g,Oe.innerHTML)&&Ds(/<[/\w!]/g,Oe.textContent)||Oe.nodeType===w1.progressingInstruction||Be&&Oe.nodeType===w1.comment&&Ds(/<[/\w]/g,Oe.data))return Yn(Oe),!0;if(!(Ce.tagCheck instanceof Function&&Ce.tagCheck(Ve))&&(!he[Ve]||ye[Ve])){if(!ye[Ve]&&We(Ve)&&(ce.tagNameCheck instanceof RegExp&&Ds(ce.tagNameCheck,Ve)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Ve)))return!1;if(st&&!Ct[Ve]){const et=P(Oe)||Oe.parentNode,Ot=E(Oe)||Oe.childNodes;if(Ot&&et){const Tt=Ot.length;for(let yr=Tt-1;yr>=0;--yr){const Pr=_(Ot[yr],!0);Pr.__removalCount=(Oe.__removalCount||0)+1,et.insertBefore(Pr,T(Oe))}}}return Yn(Oe),!0}return Oe instanceof h&&!ea(Oe)||(Ve==="noscript"||Ve==="noembed"||Ve==="noframes")&&Ds(/<\/no(script|embed|frames)/i,Oe.innerHTML)?(Yn(Oe),!0):(Re&&Oe.nodeType===w1.text&&(Ne=Oe.textContent,Vw([W,F,V],et=>{Ne=b1(Ne,et," ")}),Oe.textContent!==Ne&&(x1(e.removed,{element:Oe.cloneNode()}),Oe.textContent=Ne)),we(X.afterSanitizeElements,Oe,null),!1)},je=function(Oe,Ne,Ve){if(Or&&(Ne==="id"||Ne==="name")&&(Ve in r||Ve in Js))return!1;if(!(Pe&&!ke[Ne]&&Ds(te,Ne))){if(!(De&&Ds(G,Ne))){if(!(Ce.attributeCheck instanceof Function&&Ce.attributeCheck(Ne,Oe))){if(!ae[Ne]||ke[Ne]){if(!(We(Oe)&&(ce.tagNameCheck instanceof RegExp&&Ds(ce.tagNameCheck,Oe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Oe))&&(ce.attributeNameCheck instanceof RegExp&&Ds(ce.attributeNameCheck,Ne)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(Ne,Oe))||Ne==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&Ds(ce.tagNameCheck,Ve)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(Ve))))return!1}else if(!Nt[Ne]){if(!Ds(be,b1(Ve,oe,""))){if(!((Ne==="src"||Ne==="xlink:href"||Ne==="href")&&Oe!=="script"&&O6e(Ve,"data:")===0&&cr[Oe])){if(!(Ee&&!Ds(J,b1(Ve,oe,"")))){if(Ve)return!1}}}}}}}return!0},We=function(Oe){return Oe!=="annotation-xml"&&q5(Oe,ie)},Le=function(Oe){we(X.beforeSanitizeAttributes,Oe,null);const{attributes:Ne}=Oe;if(!Ne||pe(Oe))return;const Ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let et=Ne.length;for(;et--;){const Ot=Ne[et],{name:Tt,namespaceURI:yr,value:Pr}=Ot,pn=tr(Tt),vo=Pr;let mn=Tt==="value"?vo:x6e(vo);if(Ve.attrName=pn,Ve.attrValue=mn,Ve.keepAttr=!0,Ve.forceKeepAttr=void 0,we(X.uponSanitizeAttribute,Oe,Ve),mn=Ve.attrValue,kr&&(pn==="id"||pn==="name")&&(ss(Tt,Oe),mn=lt+mn),Be&&Ds(/((--!?|])>)|<\/(style|title|textarea)/i,mn)){ss(Tt,Oe);continue}if(pn==="attributename"&&q5(mn,"href")){ss(Tt,Oe);continue}if(Ve.forceKeepAttr)continue;if(!Ve.keepAttr){ss(Tt,Oe);continue}if(!de&&Ds(/\/>/i,mn)){ss(Tt,Oe);continue}Re&&Vw([W,F,V],La=>{mn=b1(mn,La," ")});const ul=tr(Oe.nodeName);if(!je(ul,pn,mn)){ss(Tt,Oe);continue}if(Q&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!yr)switch(k.getAttributeType(ul,pn)){case"TrustedHTML":{mn=Q.createHTML(mn);break}case"TrustedScriptURL":{mn=Q.createScriptURL(mn);break}}if(mn!==vo)try{yr?Oe.setAttributeNS(yr,Tt,mn):Oe.setAttribute(Tt,mn),pe(Oe)?Yn(Oe):mF(e.removed)}catch{ss(Tt,Oe)}}we(X.afterSanitizeAttributes,Oe,null)},ze=function Qe(Oe){let Ne=null;const Ve=ve(Oe);for(we(X.beforeSanitizeShadowDOM,Oe,null);Ne=Ve.nextNode();)we(X.uponSanitizeShadowNode,Ne,null),_e(Ne),Le(Ne),Ne.content instanceof a&&Qe(Ne.content);we(X.afterSanitizeShadowDOM,Oe,null)};return e.sanitize=function(Qe){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=null,Ve=null,et=null,Ot=null;if(zi=!Qe,zi&&(Qe="<!-->"),typeof Qe!="string"&&!xe(Qe))if(typeof Qe.toString=="function"){if(Qe=Qe.toString(),typeof Qe!="string")throw k1("dirty is not a string, aborting")}else throw k1("toString is not a function");if(!e.isSupported)return Qe;if(Ye||wo(Oe),e.removed=[],typeof Qe=="string"&&(xt=!1),xt){if(Qe.nodeName){const Pr=tr(Qe.nodeName);if(!he[Pr]||ye[Pr])throw k1("root node is forbidden and cannot be sanitized in-place")}}else if(Qe instanceof c)Ne=fe("<!---->"),Ve=Ne.ownerDocument.importNode(Qe,!0),Ve.nodeType===w1.element&&Ve.nodeName==="BODY"||Ve.nodeName==="HTML"?Ne=Ve:Ne.appendChild(Ve);else{if(!Ge&&!Re&&!He&&Qe.indexOf("<")===-1)return Q&&gr?Q.createHTML(Qe):Qe;if(Ne=fe(Qe),!Ne)return Ge?null:gr?B:""}Ne&&Ze&&Yn(Ne.firstChild);const Tt=ve(xt?Qe:Ne);for(;et=Tt.nextNode();)_e(et),Le(et),et.content instanceof a&&ze(et.content);if(xt)return Qe;if(Ge){if(Qt)for(Ot=I.call(Ne.ownerDocument);Ne.firstChild;)Ot.appendChild(Ne.firstChild);else Ot=Ne;return(ae.shadowroot||ae.shadowrootmode)&&(Ot=z.call(n,Ot,!0)),Ot}let yr=He?Ne.outerHTML:Ne.innerHTML;return He&&he["!doctype"]&&Ne.ownerDocument&&Ne.ownerDocument.doctype&&Ne.ownerDocument.doctype.name&&Ds(dH,Ne.ownerDocument.doctype.name)&&(yr="<!DOCTYPE "+Ne.ownerDocument.doctype.name+`>
`+yr),Re&&Vw([W,F,V],Pr=>{yr=b1(yr,Pr," ")}),Q&&gr?Q.createHTML(yr):yr},e.setConfig=function(){let Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wo(Qe),Ye=!0},e.clearConfig=function(){dn=null,Ye=!1},e.isValidAttribute=function(Qe,Oe,Ne){dn||wo({});const Ve=tr(Qe),et=tr(Oe);return je(Ve,et,Ne)},e.addHook=function(Qe,Oe){typeof Oe=="function"&&x1(X[Qe],Oe)},e.removeHook=function(Qe,Oe){if(Oe!==void 0){const Ne=p6e(X[Qe],Oe);return Ne===-1?void 0:m6e(X[Qe],Ne,1)[0]}return mF(X[Qe])},e.removeHooks=function(Qe){X[Qe]=[]},e.removeAllHooks=function(){X=wF()},e}var Gf=hH(),uH=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,uO=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$6e=/\s*%%.*\n/gm,Af,fH=(Af=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},Z(Af,"UnknownDiagramError"),Af),Qu={},n7=Z(function(t,e){t=t.replace(uH,"").replace(uO,"").replace($6e,`
`);for(const[r,{detector:n}]of Object.entries(Qu))if(n(t,e))return r;throw new fH(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),kE=Z((...t)=>{for(const{id:e,detector:r,loader:n}of t)gH(e,r,n)},"registerLazyLoadedDiagrams"),gH=Z((t,e,r)=>{Qu[t]&&rt.warn(`Detector with key ${t} already exists. Overwriting.`),Qu[t]={detector:e,loader:r},rt.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),M6e=Z(t=>Qu[t].loader,"getDiagramLoader"),yE=Z((t,e,{depth:r=2,clobber:n=!1}={})=>{const s={depth:r,clobber:n};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>yE(t,a,s)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=yE(t[a],e[a],{depth:r-1,clobber:n})):(n||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),ki=yE,UC="#ffffff",qC="#f2f2f2",js=Z((t,e)=>e?Ie(t,{s:-40,l:10}):Ie(t,{s:-40,l:-10}),"mkBorder"),Sf,R6e=(Sf=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,n,s,a,l,c,h,f,p,O,x,k,w,_,C,T,E,P,Q,B,R;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ie(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ie(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||js(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||js(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||js(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||js(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Yt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Mt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Yt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Yt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Mt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Mt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ie(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ie(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ie(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ie(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ie(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ie(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ie(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ie(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ie(this.primaryColor,{h:330}),this.darkMode)for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=Yt(this["cScale"+M],75);else for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=Yt(this["cScale"+M],25);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleInv"+M]=this["cScaleInv"+M]||wt(this["cScale"+M]);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this.darkMode?this["cScalePeer"+M]=this["cScalePeer"+M]||Mt(this["cScale"+M],10):this["cScalePeer"+M]=this["cScalePeer"+M]||Yt(this["cScale"+M],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleLabel"+M]=this["cScaleLabel"+M]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let M=0;M<5;M++)this["surface"+M]=this["surface"+M]||Ie(this.mainBkg,{h:180,s:-15,l:e*(5+M*3)}),this["surfacePeer"+M]=this["surfacePeer"+M]||Ie(this.mainBkg,{h:180,s:-15,l:e*(8+M*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ie(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ie(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ie(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ie(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ie(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ie(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ie(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ie(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ie(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ie(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ie(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ie(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ie(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ie(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ie(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((c=this.radar)==null?void 0:c.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((p=this.radar)==null?void 0:p.legendBoxSize)||12,legendFontSize:((O=this.radar)==null?void 0:O.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ie(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ie(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ie(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ie(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ie(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ie(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||jx(this.quadrant1Fill)?Mt(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((x=this.xyChart)==null?void 0:x.backgroundColor)||this.background,titleColor:((k=this.xyChart)==null?void 0:k.titleColor)||this.primaryTextColor,xAxisTitleColor:((w=this.xyChart)==null?void 0:w.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((_=this.xyChart)==null?void 0:_.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((C=this.xyChart)==null?void 0:C.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((T=this.xyChart)==null?void 0:T.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((E=this.xyChart)==null?void 0:E.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((P=this.xyChart)==null?void 0:P.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((Q=this.xyChart)==null?void 0:Q.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((B=this.xyChart)==null?void 0:B.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((R=this.xyChart)==null?void 0:R.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ie(this.primaryColor,{h:-30}),this.git4=this.git4||Ie(this.primaryColor,{h:-60}),this.git5=this.git5||Ie(this.primaryColor,{h:-90}),this.git6=this.git6||Ie(this.primaryColor,{h:60}),this.git7=this.git7||Ie(this.primaryColor,{h:120}),this.darkMode?(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||UC,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qC}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},Z(Sf,"Theme"),Sf),N6e=Z(t=>{const e=new R6e;return e.calculate(t),e},"getThemeVariables"),Tf,B6e=(Tf=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Mt(this.primaryColor,16),this.tertiaryColor=Ie(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=js(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=js(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Mt(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=hO(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Yt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Yt(this.sectionBkgColor,10),this.taskBorderColor=hO(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=hO(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Mt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Yt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,n,s,a,l,c,h,f,p,O,x,k,w,_,C,T,E,P,Q,B;this.secondBkg=Mt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Mt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Mt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ie(this.primaryColor,{h:64}),this.fillType3=Ie(this.secondaryColor,{h:64}),this.fillType4=Ie(this.primaryColor,{h:-64}),this.fillType5=Ie(this.secondaryColor,{h:-64}),this.fillType6=Ie(this.primaryColor,{h:128}),this.fillType7=Ie(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ie(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ie(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ie(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ie(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ie(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ie(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ie(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ie(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ie(this.primaryColor,{h:330});for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||wt(this["cScale"+R]);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScalePeer"+R]=this["cScalePeer"+R]||Mt(this["cScale"+R],10);for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ie(this.mainBkg,{h:30,s:-30,l:-(-10+R*4)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ie(this.mainBkg,{h:30,s:-30,l:-(-7+R*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["pie"+R]=this["cScale"+R];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ie(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ie(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ie(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ie(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ie(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ie(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||jx(this.quadrant1Fill)?Mt(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((s=this.xyChart)==null?void 0:s.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((O=this.xyChart)==null?void 0:O.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((x=this.radar)==null?void 0:x.axisColor)||this.lineColor,axisStrokeWidth:((k=this.radar)==null?void 0:k.axisStrokeWidth)||2,axisLabelFontSize:((w=this.radar)==null?void 0:w.axisLabelFontSize)||12,curveOpacity:((_=this.radar)==null?void 0:_.curveOpacity)||.5,curveStrokeWidth:((C=this.radar)==null?void 0:C.curveStrokeWidth)||2,graticuleColor:((T=this.radar)==null?void 0:T.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((E=this.radar)==null?void 0:E.graticuleStrokeWidth)||1,graticuleOpacity:((P=this.radar)==null?void 0:P.graticuleOpacity)||.3,legendBoxSize:((Q=this.radar)==null?void 0:Q.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Yt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Mt(this.secondaryColor,20),this.git1=Mt(this.pie2||this.secondaryColor,20),this.git2=Mt(this.pie3||this.tertiaryColor,20),this.git3=Mt(this.pie4||Ie(this.primaryColor,{h:-30}),20),this.git4=Mt(this.pie5||Ie(this.primaryColor,{h:-60}),20),this.git5=Mt(this.pie6||Ie(this.primaryColor,{h:-90}),10),this.git6=Mt(this.pie7||Ie(this.primaryColor,{h:60}),10),this.git7=Mt(this.pie8||Ie(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Mt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Mt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},Z(Tf,"Theme"),Tf),I6e=Z(t=>{const e=new B6e;return e.calculate(t),e},"getThemeVariables"),Ef,j6e=(Ef=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ie(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ie(this.primaryColor,{h:-160}),this.primaryBorderColor=js(this.primaryColor,this.darkMode),this.secondaryBorderColor=js(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=js(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=hO(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,n,s,a,l,c,h,f,p,O,x,k,w,_,C,T,E,P,Q,B;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ie(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ie(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ie(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ie(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ie(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ie(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ie(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ie(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ie(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Yt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Yt(this.tertiaryColor,40);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Yt(this["cScale"+R],10),this["cScalePeer"+R]=this["cScalePeer"+R]||Yt(this["cScale"+R],25);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Ie(this["cScale"+R],{h:180});for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ie(this.mainBkg,{h:30,l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ie(this.mainBkg,{h:30,l:-(7+R*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Mt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Mt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Mt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ie(this.primaryColor,{h:64}),this.fillType3=Ie(this.secondaryColor,{h:64}),this.fillType4=Ie(this.primaryColor,{h:-64}),this.fillType5=Ie(this.secondaryColor,{h:-64}),this.fillType6=Ie(this.primaryColor,{h:128}),this.fillType7=Ie(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ie(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ie(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ie(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ie(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ie(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ie(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ie(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ie(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ie(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ie(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ie(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ie(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ie(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ie(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ie(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ie(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||jx(this.quadrant1Fill)?Mt(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((O=this.xyChart)==null?void 0:O.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((k=this.xyChart)==null?void 0:k.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((w=this.xyChart)==null?void 0:w.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)==null?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((C=this.xyChart)==null?void 0:C.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((T=this.xyChart)==null?void 0:T.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((E=this.xyChart)==null?void 0:E.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((P=this.xyChart)==null?void 0:P.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((Q=this.xyChart)==null?void 0:Q.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ie(this.primaryColor,{h:-30}),this.git4=this.git4||Ie(this.primaryColor,{h:-60}),this.git5=this.git5||Ie(this.primaryColor,{h:-90}),this.git6=this.git6||Ie(this.primaryColor,{h:60}),this.git7=this.git7||Ie(this.primaryColor,{h:120}),this.darkMode?(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||Yt(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||UC,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qC}calculate(e){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},Z(Ef,"Theme"),Ef),F6e=Z(t=>{const e=new j6e;return e.calculate(t),e},"getThemeVariables"),Pf,L6e=(Pf=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Mt("#cde498",10),this.primaryBorderColor=js(this.primaryColor,this.darkMode),this.secondaryBorderColor=js(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=js(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,s,a,l,c,h,f,p,O,x,k,w,_,C,T,E,P,Q,B;this.actorBorder=Yt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ie(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ie(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ie(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ie(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ie(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ie(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ie(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ie(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ie(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Yt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Yt(this.tertiaryColor,40);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScale"+R]=Yt(this["cScale"+R],10),this["cScalePeer"+R]=this["cScalePeer"+R]||Yt(this["cScale"+R],25);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||Ie(this["cScale"+R],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ie(this.mainBkg,{h:30,s:-30,l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ie(this.mainBkg,{h:30,s:-30,l:-(8+R*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Mt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Mt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ie(this.primaryColor,{h:64}),this.fillType3=Ie(this.secondaryColor,{h:64}),this.fillType4=Ie(this.primaryColor,{h:-64}),this.fillType5=Ie(this.secondaryColor,{h:-64}),this.fillType6=Ie(this.primaryColor,{h:128}),this.fillType7=Ie(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ie(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ie(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ie(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ie(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ie(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ie(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ie(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ie(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ie(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ie(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ie(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ie(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ie(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ie(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ie(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||jx(this.quadrant1Fill)?Mt(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((O=this.xyChart)==null?void 0:O.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((k=this.xyChart)==null?void 0:k.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((w=this.xyChart)==null?void 0:w.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((_=this.xyChart)==null?void 0:_.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((C=this.xyChart)==null?void 0:C.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((T=this.xyChart)==null?void 0:T.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((E=this.xyChart)==null?void 0:E.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((P=this.xyChart)==null?void 0:P.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((Q=this.xyChart)==null?void 0:Q.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ie(this.primaryColor,{h:-30}),this.git4=this.git4||Ie(this.primaryColor,{h:-60}),this.git5=this.git5||Ie(this.primaryColor,{h:-90}),this.git6=this.git6||Ie(this.primaryColor,{h:60}),this.git7=this.git7||Ie(this.primaryColor,{h:120}),this.darkMode?(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)):(this.git0=Yt(this.git0,25),this.git1=Yt(this.git1,25),this.git2=Yt(this.git2,25),this.git3=Yt(this.git3,25),this.git4=Yt(this.git4,25),this.git5=Yt(this.git5,25),this.git6=Yt(this.git6,25),this.git7=Yt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||UC,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qC}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},Z(Pf,"Theme"),Pf),z6e=Z(t=>{const e=new L6e;return e.calculate(t),e},"getThemeVariables"),Df,X6e=(Df=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Mt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ie(this.primaryColor,{h:-160}),this.primaryBorderColor=js(this.primaryColor,this.darkMode),this.secondaryBorderColor=js(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=js(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Mt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,n,s,a,l,c,h,f,p,O,x,k,w,_,C,T,E,P,Q,B;this.secondBkg=Mt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Mt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleInv"+R]=this["cScaleInv"+R]||wt(this["cScale"+R]);for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this.darkMode?this["cScalePeer"+R]=this["cScalePeer"+R]||Mt(this["cScale"+R],10):this["cScalePeer"+R]=this["cScalePeer"+R]||Yt(this["cScale"+R],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["cScaleLabel"+R]=this["cScaleLabel"+R]||this.scaleLabelColor;for(let R=0;R<5;R++)this["surface"+R]=this["surface"+R]||Ie(this.mainBkg,{l:-(5+R*5)}),this["surfacePeer"+R]=this["surfacePeer"+R]||Ie(this.mainBkg,{l:-(8+R*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Mt(this.contrast,30),this.sectionBkgColor2=Mt(this.contrast,30),this.taskBorderColor=Yt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Mt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Yt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ie(this.primaryColor,{h:64}),this.fillType3=Ie(this.secondaryColor,{h:64}),this.fillType4=Ie(this.primaryColor,{h:-64}),this.fillType5=Ie(this.secondaryColor,{h:-64}),this.fillType6=Ie(this.primaryColor,{h:128}),this.fillType7=Ie(this.secondaryColor,{h:128});for(let R=0;R<this.THEME_COLOR_LIMIT;R++)this["pie"+R]=this["cScale"+R];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ie(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ie(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ie(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ie(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ie(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ie(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||jx(this.quadrant1Fill)?Mt(this.quadrant1Fill):Yt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((s=this.xyChart)==null?void 0:s.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((O=this.xyChart)==null?void 0:O.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((x=this.radar)==null?void 0:x.axisColor)||this.lineColor,axisStrokeWidth:((k=this.radar)==null?void 0:k.axisStrokeWidth)||2,axisLabelFontSize:((w=this.radar)==null?void 0:w.axisLabelFontSize)||12,curveOpacity:((_=this.radar)==null?void 0:_.curveOpacity)||.5,curveStrokeWidth:((C=this.radar)==null?void 0:C.curveStrokeWidth)||2,graticuleColor:((T=this.radar)==null?void 0:T.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((E=this.radar)==null?void 0:E.graticuleStrokeWidth)||1,graticuleOpacity:((P=this.radar)==null?void 0:P.graticuleOpacity)||.3,legendBoxSize:((Q=this.radar)==null?void 0:Q.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Yt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ie(this.primaryColor,{h:-30}),this.git4=this.pie5||Ie(this.primaryColor,{h:-60}),this.git5=this.pie6||Ie(this.primaryColor,{h:-90}),this.git6=this.pie7||Ie(this.primaryColor,{h:60}),this.git7=this.pie8||Ie(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||UC,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||qC}calculate(e){if(typeof e!="object"){this.updateColors();return}const r=Object.keys(e);r.forEach(n=>{this[n]=e[n]}),this.updateColors(),r.forEach(n=>{this[n]=e[n]})}},Z(Df,"Theme"),Df),V6e=Z(t=>{const e=new X6e;return e.calculate(t),e},"getThemeVariables"),jc={base:{getThemeVariables:N6e},dark:{getThemeVariables:I6e},default:{getThemeVariables:F6e},forest:{getThemeVariables:z6e},neutral:{getThemeVariables:V6e}},vl={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},pH={...vl,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:jc.default.getThemeVariables(),sequence:{...vl.sequence,messageFont:Z(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:Z(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:Z(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...vl.gantt,tickInterval:void 0,useWidth:void 0},c4:{...vl.c4,useWidth:void 0,personFont:Z(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...vl.flowchart,inheritDir:!1},external_personFont:Z(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:Z(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:Z(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:Z(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:Z(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:Z(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:Z(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:Z(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:Z(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:Z(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:Z(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:Z(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:Z(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:Z(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:Z(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:Z(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:Z(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:Z(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:Z(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:Z(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:Z(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...vl.pie,useWidth:984},xyChart:{...vl.xyChart,useWidth:void 0},requirement:{...vl.requirement,useWidth:void 0},packet:{...vl.packet},radar:{...vl.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},mH=Z((t,e="")=>Object.keys(t).reduce((r,n)=>Array.isArray(t[n])?r:typeof t[n]=="object"&&t[n]!==null?[...r,e+n,...mH(t[n],"")]:[...r,e+n],[]),"keyify"),U6e=new Set(mH(pH,"")),OH=pH,v_=Z(t=>{if(rt.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>v_(e));return}for(const e of Object.keys(t)){if(rt.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!U6e.has(e)||t[e]==null){rt.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){rt.debug("sanitizing object",e),v_(t[e]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)e.includes(n)&&(rt.debug("sanitizing css option",e),t[e]=q6e(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}rt.debug("After sanitization",t)}},"sanitizeDirective"),q6e=Z(t=>{let e=0,r=0;for(const n of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?e++:n==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Hf=Object.freeze(OH),ha=ki({},Hf),__,$u=[],fO=ki({},Hf),WC=Z((t,e)=>{let r=ki({},t),n={};for(const s of e)kH(s),n=ki(n,s);if(r=ki(r,n),n.theme&&n.theme in jc){const s=ki({},__),a=ki(s.themeVariables||{},n.themeVariables);r.theme&&r.theme in jc&&(r.themeVariables=jc[r.theme].getThemeVariables(a))}return fO=r,yH(fO),fO},"updateCurrentConfig"),W6e=Z(t=>(ha=ki({},Hf),ha=ki(ha,t),t.theme&&jc[t.theme]&&(ha.themeVariables=jc[t.theme].getThemeVariables(t.themeVariables)),WC(ha,$u),ha),"setSiteConfig"),Y6e=Z(t=>{__=ki({},t)},"saveConfigFromInitialize"),Z6e=Z(t=>(ha=ki(ha,t),WC(ha,$u),ha),"updateSiteConfig"),xH=Z(()=>ki({},ha),"getSiteConfig"),bH=Z(t=>(yH(t),ki(fO,t),ks()),"setConfig"),ks=Z(()=>ki({},fO),"getConfig"),kH=Z(t=>{t&&(["secure",...ha.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(rt.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&kH(t[e])}))},"sanitize"),G6e=Z(t=>{var e;v_(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),$u.push(t),WC(ha,$u)},"addDirective"),C_=Z((t=ha)=>{$u=[],WC(t,$u)},"reset"),H6e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},vF={},K6e=Z(t=>{vF[t]||(rt.warn(H6e[t]),vF[t]=!0)},"issueWarning"),yH=Z(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&K6e("LAZY_LOAD_DEPRECATED")},"checkConfig"),yet=Z(()=>{let t={};__&&(t=ki(t,__));for(const e of $u)t=ki(t,e);return t},"getUserDefinedConfig"),Fx=/<br\s*\/?>/gi,J6e=Z(t=>t?_H(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),ePe=(()=>{let t=!1;return()=>{t||(wH(),t=!0)}})();function wH(){const t="data-temp-href-target";Gf.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Gf.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}Z(wH,"setupDompurifyHooks");var vH=Z(t=>(ePe(),Gf.sanitize(t)),"removeScript"),_F=Z((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=vH(t):n!=="loose"&&(t=_H(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=iPe(t))}return t},"sanitizeMore"),fo=Z((t,e)=>t&&(e.dompurifyConfig?t=Gf.sanitize(_F(t,e),e.dompurifyConfig).toString():t=Gf.sanitize(_F(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),tPe=Z((t,e)=>typeof t=="string"?fo(t,e):t.flat().map(r=>fo(r,e)),"sanitizeTextOrArray"),rPe=Z(t=>Fx.test(t),"hasBreaks"),nPe=Z(t=>t.split(Fx),"splitBreaks"),iPe=Z(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),_H=Z(t=>t.replace(Fx,"#br#"),"breakToPlaceholder"),sPe=Z(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),_i=Z(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),aPe=Z(function(...t){const e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),oPe=Z(function(...t){const e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),CF=Z(function(t){const e=t.split(/(,)/),r=[];for(let n=0;n<e.length;n++){let s=e[n];if(s===","&&n>0&&n+1<e.length){const a=e[n-1],l=e[n+1];lPe(a,l)&&(s=a+","+l,n++,r.pop())}r.push(cPe(s))}return r.join("")},"parseGenericTypes"),wE=Z((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),lPe=Z((t,e)=>{const r=wE(t,"~"),n=wE(e,"~");return r===1&&n===1},"shouldCombineSets"),cPe=Z(t=>{const e=wE(t,"~");let r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);const n=[...t];let s=n.indexOf("~"),a=n.lastIndexOf("~");for(;s!==-1&&a!==-1&&s!==a;)n[s]="<",n[a]=">",s=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),AF=Z(()=>window.MathMLElement!==void 0,"isMathMLSupported"),vE=/\$\$(.*)\$\$/g,Kf=Z(t=>{var e;return(((e=t.match(vE))==null?void 0:e.length)??0)>0},"hasKatex"),wet=Z(async(t,e)=>{const r=document.createElement("div");r.innerHTML=await i7(t,e),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n==null||n.insertAdjacentElement("beforeend",r);const s={width:r.clientWidth,height:r.clientHeight};return r.remove(),s},"calculateMathMLDimensions"),dPe=Z(async(t,e)=>{if(!Kf(t))return t;if(!(AF()||e.legacyMathML||e.forceLegacyMathML))return t.replace(vE,"MathML is unsupported in this environment.");{const{default:r}=await Hr(async()=>{const{default:s}=await Promise.resolve().then(()=>Wze);return{default:s}},void 0),n=e.forceLegacyMathML||!AF()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Fx).map(s=>Kf(s)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${s}</div>`:`<div>${s}</div>`).join("").replace(vE,(s,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),i7=Z(async(t,e)=>fo(await dPe(t,e),e),"renderKatexSanitized"),xg={getRows:J6e,sanitizeText:fo,sanitizeTextOrArray:tPe,hasBreaks:rPe,splitBreaks:nPe,lineBreakRegex:Fx,removeScript:vH,getUrl:sPe,evaluate:_i,getMax:aPe,getMin:oPe},hPe=Z(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),uPe=Z(function(t,e,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${e}px;`)):(n.set("height",t),n.set("width",e)),n},"calculateSvgSizeAttrs"),CH=Z(function(t,e,r,n){const s=uPe(e,r,n);hPe(t,s)},"configureSvgSize"),fPe=Z(function(t,e,r,n){const s=e.node().getBBox(),a=s.width,l=s.height;rt.info(`SVG bounds: ${a}x${l}`,s);let c=0,h=0;rt.info(`Graph bounds: ${c}x${h}`,t),c=a+r*2,h=l+r*2,rt.info(`Calculated bounds: ${c}x${h}`),CH(e,h,c,n);const f=`${s.x-r} ${s.y-r} ${s.width+2*r} ${s.height+2*r}`;e.attr("viewBox",f)},"setupGraphViewbox"),qv={},gPe=Z((t,e,r)=>{let n="";return t in qv&&qv[t]?n=qv[t](r):rt.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${e}
`},"getStyles"),pPe=Z((t,e)=>{e!==void 0&&(qv[t]=e)},"addStylesForDiagram"),mPe=gPe,AH={};i6e(AH,{clear:()=>OPe,getAccDescription:()=>yPe,getAccTitle:()=>bPe,getDiagramTitle:()=>vPe,setAccDescription:()=>kPe,setAccTitle:()=>xPe,setDiagramTitle:()=>wPe});var s7="",a7="",o7="",l7=Z(t=>fo(t,ks()),"sanitizeText"),OPe=Z(()=>{s7="",o7="",a7=""},"clear"),xPe=Z(t=>{s7=l7(t).replace(/^\s+/g,"")},"setAccTitle"),bPe=Z(()=>s7,"getAccTitle"),kPe=Z(t=>{o7=l7(t).replace(/\n\s+/g,`
`)},"setAccDescription"),yPe=Z(()=>o7,"getAccDescription"),wPe=Z(t=>{a7=l7(t)},"setDiagramTitle"),vPe=Z(()=>a7,"getDiagramTitle"),SF=rt,_Pe=r7,Zr=ks,vet=bH,_et=Hf,c7=Z(t=>fo(t,Zr()),"sanitizeText"),CPe=fPe,APe=Z(()=>AH,"getCommonDb"),A_={},S_=Z((t,e,r)=>{var n;A_[t]&&SF.warn(`Diagram with id ${t} already registered. Overwriting.`),A_[t]=e,r&&gH(t,r),pPe(t,e.styles),(n=e.injectUtils)==null||n.call(e,SF,_Pe,Zr,c7,CPe,APe(),()=>{})},"registerDiagram"),_E=Z(t=>{if(t in A_)return A_[t];throw new SPe(t)},"getDiagram"),Qf,SPe=(Qf=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},Z(Qf,"DiagramNotFoundError"),Qf),TPe={value:()=>{}};function Lx(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Wv(r)}function Wv(t){this._=t}function EPe(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Wv.prototype=Lx.prototype={constructor:Wv,on:function(t,e){var r=this._,n=EPe(t+"",r),s,a=-1,l=n.length;if(arguments.length<2){for(;++a<l;)if((s=(t=n[a]).type)&&(s=PPe(r[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<l;)if(s=(t=n[a]).type)r[s]=TF(r[s],t.name,e);else if(e==null)for(s in r)r[s]=TF(r[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Wv(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,a;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],n=0,s=a.length;n<s;++n)a[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],s=0,a=n.length;s<a;++s)n[s].value.apply(e,r)}};function PPe(t,e){for(var r=0,n=t.length,s;r<n;++r)if((s=t[r]).name===e)return s.value}function TF(t,e,r){for(var n=0,s=t.length;n<s;++n)if(t[n].name===e){t[n]=TPe,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var CE="http://www.w3.org/1999/xhtml";const EF={svg:"http://www.w3.org/2000/svg",xhtml:CE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function YC(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),EF.hasOwnProperty(e)?{space:EF[e],local:t}:t}function DPe(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===CE&&e.documentElement.namespaceURI===CE?e.createElement(t):e.createElementNS(r,t)}}function QPe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function SH(t){var e=YC(t);return(e.local?QPe:DPe)(e)}function $Pe(){}function d7(t){return t==null?$Pe:function(){return this.querySelector(t)}}function MPe(t){typeof t!="function"&&(t=d7(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var a=e[s],l=a.length,c=n[s]=new Array(l),h,f,p=0;p<l;++p)(h=a[p])&&(f=t.call(h,h.__data__,p,a))&&("__data__"in h&&(f.__data__=h.__data__),c[p]=f);return new Ia(n,this._parents)}function RPe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function NPe(){return[]}function TH(t){return t==null?NPe:function(){return this.querySelectorAll(t)}}function BPe(t){return function(){return RPe(t.apply(this,arguments))}}function IPe(t){typeof t=="function"?t=BPe(t):t=TH(t);for(var e=this._groups,r=e.length,n=[],s=[],a=0;a<r;++a)for(var l=e[a],c=l.length,h,f=0;f<c;++f)(h=l[f])&&(n.push(t.call(h,h.__data__,f,l)),s.push(h));return new Ia(n,s)}function EH(t){return function(){return this.matches(t)}}function PH(t){return function(e){return e.matches(t)}}var jPe=Array.prototype.find;function FPe(t){return function(){return jPe.call(this.children,t)}}function LPe(){return this.firstElementChild}function zPe(t){return this.select(t==null?LPe:FPe(typeof t=="function"?t:PH(t)))}var XPe=Array.prototype.filter;function VPe(){return Array.from(this.children)}function UPe(t){return function(){return XPe.call(this.children,t)}}function qPe(t){return this.selectAll(t==null?VPe:UPe(typeof t=="function"?t:PH(t)))}function WPe(t){typeof t!="function"&&(t=EH(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var a=e[s],l=a.length,c=n[s]=[],h,f=0;f<l;++f)(h=a[f])&&t.call(h,h.__data__,f,a)&&c.push(h);return new Ia(n,this._parents)}function DH(t){return new Array(t.length)}function YPe(){return new Ia(this._enter||this._groups.map(DH),this._parents)}function T_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}T_.prototype={constructor:T_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ZPe(t){return function(){return t}}function GPe(t,e,r,n,s,a){for(var l=0,c,h=e.length,f=a.length;l<f;++l)(c=e[l])?(c.__data__=a[l],n[l]=c):r[l]=new T_(t,a[l]);for(;l<h;++l)(c=e[l])&&(s[l]=c)}function HPe(t,e,r,n,s,a,l){var c,h,f=new Map,p=e.length,O=a.length,x=new Array(p),k;for(c=0;c<p;++c)(h=e[c])&&(x[c]=k=l.call(h,h.__data__,c,e)+"",f.has(k)?s[c]=h:f.set(k,h));for(c=0;c<O;++c)k=l.call(t,a[c],c,a)+"",(h=f.get(k))?(n[c]=h,h.__data__=a[c],f.delete(k)):r[c]=new T_(t,a[c]);for(c=0;c<p;++c)(h=e[c])&&f.get(x[c])===h&&(s[c]=h)}function KPe(t){return t.__data__}function JPe(t,e){if(!arguments.length)return Array.from(this,KPe);var r=e?HPe:GPe,n=this._parents,s=this._groups;typeof t!="function"&&(t=ZPe(t));for(var a=s.length,l=new Array(a),c=new Array(a),h=new Array(a),f=0;f<a;++f){var p=n[f],O=s[f],x=O.length,k=e7e(t.call(p,p&&p.__data__,f,n)),w=k.length,_=c[f]=new Array(w),C=l[f]=new Array(w),T=h[f]=new Array(x);r(p,O,_,C,T,k,e);for(var E=0,P=0,Q,B;E<w;++E)if(Q=_[E]){for(E>=P&&(P=E+1);!(B=C[P])&&++P<w;);Q._next=B||null}}return l=new Ia(l,n),l._enter=c,l._exit=h,l}function e7e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function t7e(){return new Ia(this._exit||this._groups.map(DH),this._parents)}function r7e(t,e,r){var n=this.enter(),s=this,a=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?a.remove():r(a),n&&s?n.merge(s).order():s}function n7e(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,s=r.length,a=n.length,l=Math.min(s,a),c=new Array(s),h=0;h<l;++h)for(var f=r[h],p=n[h],O=f.length,x=c[h]=new Array(O),k,w=0;w<O;++w)(k=f[w]||p[w])&&(x[w]=k);for(;h<s;++h)c[h]=r[h];return new Ia(c,this._parents)}function i7e(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],s=n.length-1,a=n[s],l;--s>=0;)(l=n[s])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function s7e(t){t||(t=a7e);function e(O,x){return O&&x?t(O.__data__,x.__data__):!O-!x}for(var r=this._groups,n=r.length,s=new Array(n),a=0;a<n;++a){for(var l=r[a],c=l.length,h=s[a]=new Array(c),f,p=0;p<c;++p)(f=l[p])&&(h[p]=f);h.sort(e)}return new Ia(s,this._parents).order()}function a7e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o7e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function l7e(){return Array.from(this)}function c7e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],s=0,a=n.length;s<a;++s){var l=n[s];if(l)return l}return null}function d7e(){let t=0;for(const e of this)++t;return t}function h7e(){return!this.node()}function u7e(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],a=0,l=s.length,c;a<l;++a)(c=s[a])&&t.call(c,c.__data__,a,s);return this}function f7e(t){return function(){this.removeAttribute(t)}}function g7e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p7e(t,e){return function(){this.setAttribute(t,e)}}function m7e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function O7e(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function x7e(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function b7e(t,e){var r=YC(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?g7e:f7e:typeof e=="function"?r.local?x7e:O7e:r.local?m7e:p7e)(r,e))}function QH(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function k7e(t){return function(){this.style.removeProperty(t)}}function y7e(t,e,r){return function(){this.style.setProperty(t,e,r)}}function w7e(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function v7e(t,e,r){return arguments.length>1?this.each((e==null?k7e:typeof e=="function"?w7e:y7e)(t,e,r??"")):Jf(this.node(),t)}function Jf(t,e){return t.style.getPropertyValue(e)||QH(t).getComputedStyle(t,null).getPropertyValue(e)}function _7e(t){return function(){delete this[t]}}function C7e(t,e){return function(){this[t]=e}}function A7e(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function S7e(t,e){return arguments.length>1?this.each((e==null?_7e:typeof e=="function"?A7e:C7e)(t,e)):this.node()[t]}function $H(t){return t.trim().split(/^|\s+/)}function h7(t){return t.classList||new MH(t)}function MH(t){this._node=t,this._names=$H(t.getAttribute("class")||"")}MH.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function RH(t,e){for(var r=h7(t),n=-1,s=e.length;++n<s;)r.add(e[n])}function NH(t,e){for(var r=h7(t),n=-1,s=e.length;++n<s;)r.remove(e[n])}function T7e(t){return function(){RH(this,t)}}function E7e(t){return function(){NH(this,t)}}function P7e(t,e){return function(){(e.apply(this,arguments)?RH:NH)(this,t)}}function D7e(t,e){var r=$H(t+"");if(arguments.length<2){for(var n=h7(this.node()),s=-1,a=r.length;++s<a;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?P7e:e?T7e:E7e)(r,e))}function Q7e(){this.textContent=""}function $7e(t){return function(){this.textContent=t}}function M7e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function R7e(t){return arguments.length?this.each(t==null?Q7e:(typeof t=="function"?M7e:$7e)(t)):this.node().textContent}function N7e(){this.innerHTML=""}function B7e(t){return function(){this.innerHTML=t}}function I7e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function j7e(t){return arguments.length?this.each(t==null?N7e:(typeof t=="function"?I7e:B7e)(t)):this.node().innerHTML}function F7e(){this.nextSibling&&this.parentNode.appendChild(this)}function L7e(){return this.each(F7e)}function z7e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function X7e(){return this.each(z7e)}function V7e(t){var e=typeof t=="function"?t:SH(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function U7e(){return null}function q7e(t,e){var r=typeof t=="function"?t:SH(t),n=e==null?U7e:typeof e=="function"?e:d7(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function W7e(){var t=this.parentNode;t&&t.removeChild(this)}function Y7e(){return this.each(W7e)}function Z7e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function G7e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function H7e(t){return this.select(t?G7e:Z7e)}function K7e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function J7e(t){return function(e){t.call(this,e,this.__data__)}}function e8e(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function t8e(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,s=e.length,a;r<s;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++n]=a;++n?e.length=n:delete this.__on}}}function r8e(t,e,r){return function(){var n=this.__on,s,a=J7e(e);if(n){for(var l=0,c=n.length;l<c;++l)if((s=n[l]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=r),s.value=e;return}}this.addEventListener(t.type,a,r),s={type:t.type,name:t.name,value:e,listener:a,options:r},n?n.push(s):this.__on=[s]}}function n8e(t,e,r){var n=e8e(t+""),s,a=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,f=c.length,p;h<f;++h)for(s=0,p=c[h];s<a;++s)if((l=n[s]).type===p.type&&l.name===p.name)return p.value}return}for(c=e?r8e:t8e,s=0;s<a;++s)this.each(c(n[s],e,r));return this}function BH(t,e,r){var n=QH(t),s=n.CustomEvent;typeof s=="function"?s=new s(e,r):(s=n.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function i8e(t,e){return function(){return BH(this,t,e)}}function s8e(t,e){return function(){return BH(this,t,e.apply(this,arguments))}}function a8e(t,e){return this.each((typeof e=="function"?s8e:i8e)(t,e))}function*o8e(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],s=0,a=n.length,l;s<a;++s)(l=n[s])&&(yield l)}var IH=[null];function Ia(t,e){this._groups=t,this._parents=e}function zx(){return new Ia([[document.documentElement]],IH)}function l8e(){return this}Ia.prototype=zx.prototype={constructor:Ia,select:MPe,selectAll:IPe,selectChild:zPe,selectChildren:qPe,filter:WPe,data:JPe,enter:YPe,exit:t7e,join:r7e,merge:n7e,selection:l8e,order:i7e,sort:s7e,call:o7e,nodes:l7e,node:c7e,size:d7e,empty:h7e,each:u7e,attr:b7e,style:v7e,property:S7e,classed:D7e,text:R7e,html:j7e,raise:L7e,lower:X7e,append:V7e,insert:q7e,remove:Y7e,clone:H7e,datum:K7e,on:n8e,dispatch:a8e,[Symbol.iterator]:o8e};function hr(t){return typeof t=="string"?new Ia([[document.querySelector(t)]],[document.documentElement]):new Ia([[t]],IH)}function c8e(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Tc(t,e){if(t=c8e(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const d8e={passive:!1},KO={capture:!0,passive:!1};function H5(t){t.stopImmediatePropagation()}function kf(t){t.preventDefault(),t.stopImmediatePropagation()}function jH(t){var e=t.document.documentElement,r=hr(t).on("dragstart.drag",kf,KO);"onselectstart"in e?r.on("selectstart.drag",kf,KO):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function FH(t,e){var r=t.document.documentElement,n=hr(t).on("dragstart.drag",null);e&&(n.on("click.drag",kf,KO),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const qw=t=>()=>t;function AE(t,{sourceEvent:e,subject:r,target:n,identifier:s,active:a,x:l,y:c,dx:h,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}AE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function h8e(t){return!t.ctrlKey&&!t.button}function u8e(){return this.parentNode}function f8e(t,e){return e??{x:t.x,y:t.y}}function g8e(){return navigator.maxTouchPoints||"ontouchstart"in this}function p8e(){var t=h8e,e=u8e,r=f8e,n=g8e,s={},a=Lx("start","drag","end"),l=0,c,h,f,p,O=0;function x(Q){Q.on("mousedown.drag",k).filter(n).on("touchstart.drag",C).on("touchmove.drag",T,d8e).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(Q,B){if(!(p||!t.call(this,Q,B))){var R=P(this,e.call(this,Q,B),Q,B,"mouse");R&&(hr(Q.view).on("mousemove.drag",w,KO).on("mouseup.drag",_,KO),jH(Q.view),H5(Q),f=!1,c=Q.clientX,h=Q.clientY,R("start",Q))}}function w(Q){if(kf(Q),!f){var B=Q.clientX-c,R=Q.clientY-h;f=B*B+R*R>O}s.mouse("drag",Q)}function _(Q){hr(Q.view).on("mousemove.drag mouseup.drag",null),FH(Q.view,f),kf(Q),s.mouse("end",Q)}function C(Q,B){if(t.call(this,Q,B)){var R=Q.changedTouches,M=e.call(this,Q,B),I=R.length,j,z;for(j=0;j<I;++j)(z=P(this,M,Q,B,R[j].identifier,R[j]))&&(H5(Q),z("start",Q,R[j]))}}function T(Q){var B=Q.changedTouches,R=B.length,M,I;for(M=0;M<R;++M)(I=s[B[M].identifier])&&(kf(Q),I("drag",Q,B[M]))}function E(Q){var B=Q.changedTouches,R=B.length,M,I;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<R;++M)(I=s[B[M].identifier])&&(H5(Q),I("end",Q,B[M]))}function P(Q,B,R,M,I,j){var z=a.copy(),X=Tc(j||R,B),W,F,V;if((V=r.call(Q,new AE("beforestart",{sourceEvent:R,target:x,identifier:I,active:l,x:X[0],y:X[1],dx:0,dy:0,dispatch:z}),M))!=null)return W=V.x-X[0]||0,F=V.y-X[1]||0,function te(G,J,oe){var ie=X,be;switch(G){case"start":s[I]=te,be=l++;break;case"end":delete s[I],--l;case"drag":X=Tc(oe||J,B),be=l;break}z.call(G,Q,new AE(G,{sourceEvent:J,subject:V,target:x,identifier:I,active:be,x:X[0]+W,y:X[1]+F,dx:X[0]-ie[0],dy:X[1]-ie[1],dispatch:z}),M)}}return x.filter=function(Q){return arguments.length?(t=typeof Q=="function"?Q:qw(!!Q),x):t},x.container=function(Q){return arguments.length?(e=typeof Q=="function"?Q:qw(Q),x):e},x.subject=function(Q){return arguments.length?(r=typeof Q=="function"?Q:qw(Q),x):r},x.touchable=function(Q){return arguments.length?(n=typeof Q=="function"?Q:qw(!!Q),x):n},x.on=function(){var Q=a.on.apply(a,arguments);return Q===a?x:Q},x.clickDistance=function(Q){return arguments.length?(O=(Q=+Q)*Q,x):Math.sqrt(O)},x}var eg=0,F1=0,v1=0,LH=1e3,E_,L1,P_=0,Mu=0,ZC=0,JO=typeof performance=="object"&&performance.now?performance:Date,zH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function u7(){return Mu||(zH(m8e),Mu=JO.now()+ZC)}function m8e(){Mu=0}function D_(){this._call=this._time=this._next=null}D_.prototype=f7.prototype={constructor:D_,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?u7():+r)+(e==null?0:+e),!this._next&&L1!==this&&(L1?L1._next=this:E_=this,L1=this),this._call=t,this._time=r,SE()},stop:function(){this._call&&(this._call=null,this._time=1/0,SE())}};function f7(t,e,r){var n=new D_;return n.restart(t,e,r),n}function O8e(){u7(),++eg;for(var t=E_,e;t;)(e=Mu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--eg}function PF(){Mu=(P_=JO.now())+ZC,eg=F1=0;try{O8e()}finally{eg=0,b8e(),Mu=0}}function x8e(){var t=JO.now(),e=t-P_;e>LH&&(ZC-=e,P_=t)}function b8e(){for(var t,e=E_,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:E_=r);L1=t,SE(n)}function SE(t){if(!eg){F1&&(F1=clearTimeout(F1));var e=t-Mu;e>24?(t<1/0&&(F1=setTimeout(PF,t-JO.now()-ZC)),v1&&(v1=clearInterval(v1))):(v1||(P_=JO.now(),v1=setInterval(x8e,LH)),eg=1,zH(PF))}}function DF(t,e,r){var n=new D_;return e=e==null?0:+e,n.restart(s=>{n.stop(),t(s+e)},e,r),n}var k8e=Lx("start","end","cancel","interrupt"),y8e=[],XH=0,QF=1,TE=2,Yv=3,$F=4,EE=5,Zv=6;function GC(t,e,r,n,s,a){var l=t.__transition;if(!l)t.__transition={};else if(r in l)return;w8e(t,r,{name:e,index:n,group:s,on:k8e,tween:y8e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:XH})}function g7(t,e){var r=hl(t,e);if(r.state>XH)throw new Error("too late; already scheduled");return r}function Zl(t,e){var r=hl(t,e);if(r.state>Yv)throw new Error("too late; already running");return r}function hl(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function w8e(t,e,r){var n=t.__transition,s;n[e]=r,r.timer=f7(a,0,r.time);function a(f){r.state=QF,r.timer.restart(l,r.delay,r.time),r.delay<=f&&l(f-r.delay)}function l(f){var p,O,x,k;if(r.state!==QF)return h();for(p in n)if(k=n[p],k.name===r.name){if(k.state===Yv)return DF(l);k.state===$F?(k.state=Zv,k.timer.stop(),k.on.call("interrupt",t,t.__data__,k.index,k.group),delete n[p]):+p<e&&(k.state=Zv,k.timer.stop(),k.on.call("cancel",t,t.__data__,k.index,k.group),delete n[p])}if(DF(function(){r.state===Yv&&(r.state=$F,r.timer.restart(c,r.delay,r.time),c(f))}),r.state=TE,r.on.call("start",t,t.__data__,r.index,r.group),r.state===TE){for(r.state=Yv,s=new Array(x=r.tween.length),p=0,O=-1;p<x;++p)(k=r.tween[p].value.call(t,t.__data__,r.index,r.group))&&(s[++O]=k);s.length=O+1}}function c(f){for(var p=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(h),r.state=EE,1),O=-1,x=s.length;++O<x;)s[O].call(t,p);r.state===EE&&(r.on.call("end",t,t.__data__,r.index,r.group),h())}function h(){r.state=Zv,r.timer.stop(),delete n[e];for(var f in n)return;delete t.__transition}}function Gv(t,e){var r=t.__transition,n,s,a=!0,l;if(r){e=e==null?null:e+"";for(l in r){if((n=r[l]).name!==e){a=!1;continue}s=n.state>TE&&n.state<EE,n.state=Zv,n.timer.stop(),n.on.call(s?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[l]}a&&delete t.__transition}}function v8e(t){return this.each(function(){Gv(this,t)})}function _8e(t,e){var r,n;return function(){var s=Zl(this,t),a=s.tween;if(a!==r){n=r=a;for(var l=0,c=n.length;l<c;++l)if(n[l].name===e){n=n.slice(),n.splice(l,1);break}}s.tween=n}}function C8e(t,e,r){var n,s;if(typeof r!="function")throw new Error;return function(){var a=Zl(this,t),l=a.tween;if(l!==n){s=(n=l).slice();for(var c={name:e,value:r},h=0,f=s.length;h<f;++h)if(s[h].name===e){s[h]=c;break}h===f&&s.push(c)}a.tween=s}}function A8e(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=hl(this.node(),r).tween,s=0,a=n.length,l;s<a;++s)if((l=n[s]).name===t)return l.value;return null}return this.each((e==null?_8e:C8e)(r,t,e))}function p7(t,e,r){var n=t._id;return t.each(function(){var s=Zl(this,n);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return hl(s,n).value[e]}}function VH(t,e){var r;return(typeof e=="number"?fpe:e instanceof UN?VN:(r=UN(e))?(e=r,VN):gpe)(t,e)}function S8e(t){return function(){this.removeAttribute(t)}}function T8e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E8e(t,e,r){var n,s=r+"",a;return function(){var l=this.getAttribute(t);return l===s?null:l===n?a:a=e(n=l,r)}}function P8e(t,e,r){var n,s=r+"",a;return function(){var l=this.getAttributeNS(t.space,t.local);return l===s?null:l===n?a:a=e(n=l,r)}}function D8e(t,e,r){var n,s,a;return function(){var l,c=r(this),h;return c==null?void this.removeAttribute(t):(l=this.getAttribute(t),h=c+"",l===h?null:l===n&&h===s?a:(s=h,a=e(n=l,c)))}}function Q8e(t,e,r){var n,s,a;return function(){var l,c=r(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local),h=c+"",l===h?null:l===n&&h===s?a:(s=h,a=e(n=l,c)))}}function $8e(t,e){var r=YC(t),n=r==="transform"?ppe:VH;return this.attrTween(t,typeof e=="function"?(r.local?Q8e:D8e)(r,n,p7(this,"attr."+t,e)):e==null?(r.local?T8e:S8e)(r):(r.local?P8e:E8e)(r,n,e))}function M8e(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function R8e(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function N8e(t,e){var r,n;function s(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&R8e(t,a)),r}return s._value=e,s}function B8e(t,e){var r,n;function s(){var a=e.apply(this,arguments);return a!==n&&(r=(n=a)&&M8e(t,a)),r}return s._value=e,s}function I8e(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=YC(t);return this.tween(r,(n.local?N8e:B8e)(n,e))}function j8e(t,e){return function(){g7(this,t).delay=+e.apply(this,arguments)}}function F8e(t,e){return e=+e,function(){g7(this,t).delay=e}}function L8e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?j8e:F8e)(e,t)):hl(this.node(),e).delay}function z8e(t,e){return function(){Zl(this,t).duration=+e.apply(this,arguments)}}function X8e(t,e){return e=+e,function(){Zl(this,t).duration=e}}function V8e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?z8e:X8e)(e,t)):hl(this.node(),e).duration}function U8e(t,e){if(typeof e!="function")throw new Error;return function(){Zl(this,t).ease=e}}function q8e(t){var e=this._id;return arguments.length?this.each(U8e(e,t)):hl(this.node(),e).ease}function W8e(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Zl(this,t).ease=r}}function Y8e(t){if(typeof t!="function")throw new Error;return this.each(W8e(this._id,t))}function Z8e(t){typeof t!="function"&&(t=EH(t));for(var e=this._groups,r=e.length,n=new Array(r),s=0;s<r;++s)for(var a=e[s],l=a.length,c=n[s]=[],h,f=0;f<l;++f)(h=a[f])&&t.call(h,h.__data__,f,a)&&c.push(h);return new Kc(n,this._parents,this._name,this._id)}function G8e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,s=r.length,a=Math.min(n,s),l=new Array(n),c=0;c<a;++c)for(var h=e[c],f=r[c],p=h.length,O=l[c]=new Array(p),x,k=0;k<p;++k)(x=h[k]||f[k])&&(O[k]=x);for(;c<n;++c)l[c]=e[c];return new Kc(l,this._parents,this._name,this._id)}function H8e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function K8e(t,e,r){var n,s,a=H8e(e)?g7:Zl;return function(){var l=a(this,t),c=l.on;c!==n&&(s=(n=c).copy()).on(e,r),l.on=s}}function J8e(t,e){var r=this._id;return arguments.length<2?hl(this.node(),r).on.on(t):this.each(K8e(r,t,e))}function eDe(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function tDe(){return this.on("end.remove",eDe(this._id))}function rDe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=d7(t));for(var n=this._groups,s=n.length,a=new Array(s),l=0;l<s;++l)for(var c=n[l],h=c.length,f=a[l]=new Array(h),p,O,x=0;x<h;++x)(p=c[x])&&(O=t.call(p,p.__data__,x,c))&&("__data__"in p&&(O.__data__=p.__data__),f[x]=O,GC(f[x],e,r,x,f,hl(p,r)));return new Kc(a,this._parents,e,r)}function nDe(t){var e=this._name,r=this._id;typeof t!="function"&&(t=TH(t));for(var n=this._groups,s=n.length,a=[],l=[],c=0;c<s;++c)for(var h=n[c],f=h.length,p,O=0;O<f;++O)if(p=h[O]){for(var x=t.call(p,p.__data__,O,h),k,w=hl(p,r),_=0,C=x.length;_<C;++_)(k=x[_])&&GC(k,e,r,_,x,w);a.push(x),l.push(p)}return new Kc(a,l,e,r)}var iDe=zx.prototype.constructor;function sDe(){return new iDe(this._groups,this._parents)}function aDe(t,e){var r,n,s;return function(){var a=Jf(this,t),l=(this.style.removeProperty(t),Jf(this,t));return a===l?null:a===r&&l===n?s:s=e(r=a,n=l)}}function UH(t){return function(){this.style.removeProperty(t)}}function oDe(t,e,r){var n,s=r+"",a;return function(){var l=Jf(this,t);return l===s?null:l===n?a:a=e(n=l,r)}}function lDe(t,e,r){var n,s,a;return function(){var l=Jf(this,t),c=r(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),Jf(this,t))),l===h?null:l===n&&h===s?a:(s=h,a=e(n=l,c))}}function cDe(t,e){var r,n,s,a="style."+e,l="end."+a,c;return function(){var h=Zl(this,t),f=h.on,p=h.value[a]==null?c||(c=UH(e)):void 0;(f!==r||s!==p)&&(n=(r=f).copy()).on(l,s=p),h.on=n}}function dDe(t,e,r){var n=(t+="")=="transform"?mpe:VH;return e==null?this.styleTween(t,aDe(t,n)).on("end.style."+t,UH(t)):typeof e=="function"?this.styleTween(t,lDe(t,n,p7(this,"style."+t,e))).each(cDe(this._id,t)):this.styleTween(t,oDe(t,n,e),r).on("end.style."+t,null)}function hDe(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function uDe(t,e,r){var n,s;function a(){var l=e.apply(this,arguments);return l!==s&&(n=(s=l)&&hDe(t,l,r)),n}return a._value=e,a}function fDe(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,uDe(t,e,r??""))}function gDe(t){return function(){this.textContent=t}}function pDe(t){return function(){var e=t(this);this.textContent=e??""}}function mDe(t){return this.tween("text",typeof t=="function"?pDe(p7(this,"text",t)):gDe(t==null?"":t+""))}function ODe(t){return function(e){this.textContent=t.call(this,e)}}function xDe(t){var e,r;function n(){var s=t.apply(this,arguments);return s!==r&&(e=(r=s)&&ODe(s)),e}return n._value=t,n}function bDe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,xDe(t))}function kDe(){for(var t=this._name,e=this._id,r=qH(),n=this._groups,s=n.length,a=0;a<s;++a)for(var l=n[a],c=l.length,h,f=0;f<c;++f)if(h=l[f]){var p=hl(h,e);GC(h,t,r,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Kc(n,this._parents,t,r)}function yDe(){var t,e,r=this,n=r._id,s=r.size();return new Promise(function(a,l){var c={value:l},h={value:function(){--s===0&&a()}};r.each(function(){var f=Zl(this,n),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),f.on=e}),s===0&&a()})}var wDe=0;function Kc(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function qH(){return++wDe}var Oc=zx.prototype;Kc.prototype={constructor:Kc,select:rDe,selectAll:nDe,selectChild:Oc.selectChild,selectChildren:Oc.selectChildren,filter:Z8e,merge:G8e,selection:sDe,transition:kDe,call:Oc.call,nodes:Oc.nodes,node:Oc.node,size:Oc.size,empty:Oc.empty,each:Oc.each,on:J8e,attr:$8e,attrTween:I8e,style:dDe,styleTween:fDe,text:mDe,textTween:bDe,remove:tDe,tween:A8e,delay:L8e,duration:V8e,ease:q8e,easeVarying:Y8e,end:yDe,[Symbol.iterator]:Oc[Symbol.iterator]};function vDe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _De={time:null,delay:0,duration:250,ease:vDe};function CDe(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function ADe(t){var e,r;t instanceof Kc?(e=t._id,t=t._name):(e=qH(),(r=_De).time=u7(),t=t==null?null:t+"");for(var n=this._groups,s=n.length,a=0;a<s;++a)for(var l=n[a],c=l.length,h,f=0;f<c;++f)(h=l[f])&&GC(h,t,e,f,l,r||CDe(h,e));return new Kc(n,this._parents,t,e)}zx.prototype.interrupt=v8e;zx.prototype.transition=ADe;function MF(t,e){var r,n=1;t==null&&(t=0),e==null&&(e=0);function s(){var a,l=r.length,c,h=0,f=0;for(a=0;a<l;++a)c=r[a],h+=c.x,f+=c.y;for(h=(h/l-t)*n,f=(f/l-e)*n,a=0;a<l;++a)c=r[a],c.x-=h,c.y-=f}return s.initialize=function(a){r=a},s.x=function(a){return arguments.length?(t=+a,s):t},s.y=function(a){return arguments.length?(e=+a,s):e},s.strength=function(a){return arguments.length?(n=+a,s):n},s}function SDe(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return WH(this.cover(e,r),e,r,t)}function WH(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var s,a=t._root,l={data:n},c=t._x0,h=t._y0,f=t._x1,p=t._y1,O,x,k,w,_,C,T,E;if(!a)return t._root=l,t;for(;a.length;)if((_=e>=(O=(c+f)/2))?c=O:f=O,(C=r>=(x=(h+p)/2))?h=x:p=x,s=a,!(a=a[T=C<<1|_]))return s[T]=l,t;if(k=+t._x.call(null,a.data),w=+t._y.call(null,a.data),e===k&&r===w)return l.next=a,s?s[T]=l:t._root=l,t;do s=s?s[T]=new Array(4):t._root=new Array(4),(_=e>=(O=(c+f)/2))?c=O:f=O,(C=r>=(x=(h+p)/2))?h=x:p=x;while((T=C<<1|_)===(E=(w>=x)<<1|k>=O));return s[E]=a,s[T]=l,t}function TDe(t){var e,r,n=t.length,s,a,l=new Array(n),c=new Array(n),h=1/0,f=1/0,p=-1/0,O=-1/0;for(r=0;r<n;++r)isNaN(s=+this._x.call(null,e=t[r]))||isNaN(a=+this._y.call(null,e))||(l[r]=s,c[r]=a,s<h&&(h=s),s>p&&(p=s),a<f&&(f=a),a>O&&(O=a));if(h>p||f>O)return this;for(this.cover(h,f).cover(p,O),r=0;r<n;++r)WH(this,l[r],c[r],t[r]);return this}function EDe(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,s=this._x1,a=this._y1;if(isNaN(r))s=(r=Math.floor(t))+1,a=(n=Math.floor(e))+1;else{for(var l=s-r||1,c=this._root,h,f;r>t||t>=s||n>e||e>=a;)switch(f=(e<n)<<1|t<r,h=new Array(4),h[f]=c,c=h,l*=2,f){case 0:s=r+l,a=n+l;break;case 1:r=s-l,a=n+l;break;case 2:s=r+l,n=a-l;break;case 3:r=s-l,n=a-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=n,this._x1=s,this._y1=a,this}function PDe(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function DDe(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Is(t,e,r,n,s){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=s}function QDe(t,e,r){var n,s=this._x0,a=this._y0,l,c,h,f,p=this._x1,O=this._y1,x=[],k=this._root,w,_;for(k&&x.push(new Is(k,s,a,p,O)),r==null?r=1/0:(s=t-r,a=e-r,p=t+r,O=e+r,r*=r);w=x.pop();)if(!(!(k=w.node)||(l=w.x0)>p||(c=w.y0)>O||(h=w.x1)<s||(f=w.y1)<a))if(k.length){var C=(l+h)/2,T=(c+f)/2;x.push(new Is(k[3],C,T,h,f),new Is(k[2],l,T,C,f),new Is(k[1],C,c,h,T),new Is(k[0],l,c,C,T)),(_=(e>=T)<<1|t>=C)&&(w=x[x.length-1],x[x.length-1]=x[x.length-1-_],x[x.length-1-_]=w)}else{var E=t-+this._x.call(null,k.data),P=e-+this._y.call(null,k.data),Q=E*E+P*P;if(Q<r){var B=Math.sqrt(r=Q);s=t-B,a=e-B,p=t+B,O=e+B,n=k.data}}return n}function $De(t){if(isNaN(p=+this._x.call(null,t))||isNaN(O=+this._y.call(null,t)))return this;var e,r=this._root,n,s,a,l=this._x0,c=this._y0,h=this._x1,f=this._y1,p,O,x,k,w,_,C,T;if(!r)return this;if(r.length)for(;;){if((w=p>=(x=(l+h)/2))?l=x:h=x,(_=O>=(k=(c+f)/2))?c=k:f=k,e=r,!(r=r[C=_<<1|w]))return this;if(!r.length)break;(e[C+1&3]||e[C+2&3]||e[C+3&3])&&(n=e,T=C)}for(;r.data!==t;)if(s=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,s?(a?s.next=a:delete s.next,this):e?(a?e[C]=a:delete e[C],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(n?n[T]=r:this._root=r),this):(this._root=a,this)}function MDe(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function RDe(){return this._root}function NDe(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function BDe(t){var e=[],r,n=this._root,s,a,l,c,h;for(n&&e.push(new Is(n,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(n=r.node,a=r.x0,l=r.y0,c=r.x1,h=r.y1)&&n.length){var f=(a+c)/2,p=(l+h)/2;(s=n[3])&&e.push(new Is(s,f,p,c,h)),(s=n[2])&&e.push(new Is(s,a,p,f,h)),(s=n[1])&&e.push(new Is(s,f,l,c,p)),(s=n[0])&&e.push(new Is(s,a,l,f,p))}return this}function IDe(t){var e=[],r=[],n;for(this._root&&e.push(new Is(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var s=n.node;if(s.length){var a,l=n.x0,c=n.y0,h=n.x1,f=n.y1,p=(l+h)/2,O=(c+f)/2;(a=s[0])&&e.push(new Is(a,l,c,p,O)),(a=s[1])&&e.push(new Is(a,p,c,h,O)),(a=s[2])&&e.push(new Is(a,l,O,p,f)),(a=s[3])&&e.push(new Is(a,p,O,h,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this}function jDe(t){return t[0]}function FDe(t){return arguments.length?(this._x=t,this):this._x}function LDe(t){return t[1]}function zDe(t){return arguments.length?(this._y=t,this):this._y}function m7(t,e,r){var n=new O7(e??jDe,r??LDe,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function O7(t,e,r,n,s,a){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=s,this._y1=a,this._root=void 0}function RF(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var Hs=m7.prototype=O7.prototype;Hs.copy=function(){var t=new O7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,n;if(!e)return t;if(!e.length)return t._root=RF(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(n=e.source[s])&&(n.length?r.push({source:n,target:e.target[s]=new Array(4)}):e.target[s]=RF(n));return t};Hs.add=SDe;Hs.addAll=TDe;Hs.cover=EDe;Hs.data=PDe;Hs.extent=DDe;Hs.find=QDe;Hs.remove=$De;Hs.removeAll=MDe;Hs.root=RDe;Hs.size=NDe;Hs.visit=BDe;Hs.visitAfter=IDe;Hs.x=FDe;Hs.y=zDe;function bu(t){return function(){return t}}function Vd(t){return(t()-.5)*1e-6}function XDe(t){return t.x+t.vx}function VDe(t){return t.y+t.vy}function UDe(t){var e,r,n,s=1,a=1;typeof t!="function"&&(t=bu(t==null?1:+t));function l(){for(var f,p=e.length,O,x,k,w,_,C,T=0;T<a;++T)for(O=m7(e,XDe,VDe).visitAfter(c),f=0;f<p;++f)x=e[f],_=r[x.index],C=_*_,k=x.x+x.vx,w=x.y+x.vy,O.visit(E);function E(P,Q,B,R,M){var I=P.data,j=P.r,z=_+j;if(I){if(I.index>x.index){var X=k-I.x-I.vx,W=w-I.y-I.vy,F=X*X+W*W;F<z*z&&(X===0&&(X=Vd(n),F+=X*X),W===0&&(W=Vd(n),F+=W*W),F=(z-(F=Math.sqrt(F)))/F*s,x.vx+=(X*=F)*(z=(j*=j)/(C+j)),x.vy+=(W*=F)*z,I.vx-=X*(z=1-z),I.vy-=W*z)}return}return Q>k+z||R<k-z||B>w+z||M<w-z}}function c(f){if(f.data)return f.r=r[f.data.index];for(var p=f.r=0;p<4;++p)f[p]&&f[p].r>f.r&&(f.r=f[p].r)}function h(){if(e){var f,p=e.length,O;for(r=new Array(p),f=0;f<p;++f)O=e[f],r[O.index]=+t(O,f,e)}}return l.initialize=function(f,p){e=f,n=p,h()},l.iterations=function(f){return arguments.length?(a=+f,l):a},l.strength=function(f){return arguments.length?(s=+f,l):s},l.radius=function(f){return arguments.length?(t=typeof f=="function"?f:bu(+f),h(),l):t},l}function qDe(t){return t.index}function NF(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function WDe(t){var e=qDe,r=O,n,s=bu(30),a,l,c,h,f,p=1;t==null&&(t=[]);function O(C){return 1/Math.min(c[C.source.index],c[C.target.index])}function x(C){for(var T=0,E=t.length;T<p;++T)for(var P=0,Q,B,R,M,I,j,z;P<E;++P)Q=t[P],B=Q.source,R=Q.target,M=R.x+R.vx-B.x-B.vx||Vd(f),I=R.y+R.vy-B.y-B.vy||Vd(f),j=Math.sqrt(M*M+I*I),j=(j-a[P])/j*C*n[P],M*=j,I*=j,R.vx-=M*(z=h[P]),R.vy-=I*z,B.vx+=M*(z=1-z),B.vy+=I*z}function k(){if(l){var C,T=l.length,E=t.length,P=new Map(l.map((B,R)=>[e(B,R,l),B])),Q;for(C=0,c=new Array(T);C<E;++C)Q=t[C],Q.index=C,typeof Q.source!="object"&&(Q.source=NF(P,Q.source)),typeof Q.target!="object"&&(Q.target=NF(P,Q.target)),c[Q.source.index]=(c[Q.source.index]||0)+1,c[Q.target.index]=(c[Q.target.index]||0)+1;for(C=0,h=new Array(E);C<E;++C)Q=t[C],h[C]=c[Q.source.index]/(c[Q.source.index]+c[Q.target.index]);n=new Array(E),w(),a=new Array(E),_()}}function w(){if(l)for(var C=0,T=t.length;C<T;++C)n[C]=+r(t[C],C,t)}function _(){if(l)for(var C=0,T=t.length;C<T;++C)a[C]=+s(t[C],C,t)}return x.initialize=function(C,T){l=C,f=T,k()},x.links=function(C){return arguments.length?(t=C,k(),x):t},x.id=function(C){return arguments.length?(e=C,x):e},x.iterations=function(C){return arguments.length?(p=+C,x):p},x.strength=function(C){return arguments.length?(r=typeof C=="function"?C:bu(+C),w(),x):r},x.distance=function(C){return arguments.length?(s=typeof C=="function"?C:bu(+C),_(),x):s},x}const YDe=1664525,ZDe=1013904223,BF=4294967296;function GDe(){let t=1;return()=>(t=(YDe*t+ZDe)%BF)/BF}function HDe(t){return t.x}function KDe(t){return t.y}var JDe=10,eQe=Math.PI*(3-Math.sqrt(5));function tQe(t){var e,r=1,n=.001,s=1-Math.pow(n,1/300),a=0,l=.6,c=new Map,h=f7(O),f=Lx("tick","end"),p=GDe();t==null&&(t=[]);function O(){x(),f.call("tick",e),r<n&&(h.stop(),f.call("end",e))}function x(_){var C,T=t.length,E;_===void 0&&(_=1);for(var P=0;P<_;++P)for(r+=(a-r)*s,c.forEach(function(Q){Q(r)}),C=0;C<T;++C)E=t[C],E.fx==null?E.x+=E.vx*=l:(E.x=E.fx,E.vx=0),E.fy==null?E.y+=E.vy*=l:(E.y=E.fy,E.vy=0);return e}function k(){for(var _=0,C=t.length,T;_<C;++_){if(T=t[_],T.index=_,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var E=JDe*Math.sqrt(.5+_),P=_*eQe;T.x=E*Math.cos(P),T.y=E*Math.sin(P)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function w(_){return _.initialize&&_.initialize(t,p),_}return k(),e={tick:x,restart:function(){return h.restart(O),e},stop:function(){return h.stop(),e},nodes:function(_){return arguments.length?(t=_,k(),c.forEach(w),e):t},alpha:function(_){return arguments.length?(r=+_,e):r},alphaMin:function(_){return arguments.length?(n=+_,e):n},alphaDecay:function(_){return arguments.length?(s=+_,e):+s},alphaTarget:function(_){return arguments.length?(a=+_,e):a},velocityDecay:function(_){return arguments.length?(l=1-_,e):1-l},randomSource:function(_){return arguments.length?(p=_,c.forEach(w),e):p},force:function(_,C){return arguments.length>1?(C==null?c.delete(_):c.set(_,w(C)),e):c.get(_)},find:function(_,C,T){var E=0,P=t.length,Q,B,R,M,I;for(T==null?T=1/0:T*=T,E=0;E<P;++E)M=t[E],Q=_-M.x,B=C-M.y,R=Q*Q+B*B,R<T&&(I=M,T=R);return I},on:function(_,C){return arguments.length>1?(f.on(_,C),e):f.on(_)}}}function rQe(){var t,e,r,n,s=bu(-30),a,l=1,c=1/0,h=.81;function f(k){var w,_=t.length,C=m7(t,HDe,KDe).visitAfter(O);for(n=k,w=0;w<_;++w)e=t[w],C.visit(x)}function p(){if(t){var k,w=t.length,_;for(a=new Array(w),k=0;k<w;++k)_=t[k],a[_.index]=+s(_,k,t)}}function O(k){var w=0,_,C,T=0,E,P,Q;if(k.length){for(E=P=Q=0;Q<4;++Q)(_=k[Q])&&(C=Math.abs(_.value))&&(w+=_.value,T+=C,E+=C*_.x,P+=C*_.y);k.x=E/T,k.y=P/T}else{_=k,_.x=_.data.x,_.y=_.data.y;do w+=a[_.data.index];while(_=_.next)}k.value=w}function x(k,w,_,C){if(!k.value)return!0;var T=k.x-e.x,E=k.y-e.y,P=C-w,Q=T*T+E*E;if(P*P/h<Q)return Q<c&&(T===0&&(T=Vd(r),Q+=T*T),E===0&&(E=Vd(r),Q+=E*E),Q<l&&(Q=Math.sqrt(l*Q)),e.vx+=T*k.value*n/Q,e.vy+=E*k.value*n/Q),!0;if(k.length||Q>=c)return;(k.data!==e||k.next)&&(T===0&&(T=Vd(r),Q+=T*T),E===0&&(E=Vd(r),Q+=E*E),Q<l&&(Q=Math.sqrt(l*Q)));do k.data!==e&&(P=a[k.data.index]*n/Q,e.vx+=T*P,e.vy+=E*P);while(k=k.next)}return f.initialize=function(k,w){t=k,r=w,p()},f.strength=function(k){return arguments.length?(s=typeof k=="function"?k:bu(+k),p(),f):s},f.distanceMin=function(k){return arguments.length?(l=k*k,f):Math.sqrt(l)},f.distanceMax=function(k){return arguments.length?(c=k*k,f):Math.sqrt(c)},f.theta=function(k){return arguments.length?(h=k*k,f):Math.sqrt(h)},f}function x7(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const IF=x7("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nQe=x7("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),iQe=t=>Ope(t[t.length-1]);var YH=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(x7);iQe(YH);const Ww=t=>()=>t;function sQe(t,{sourceEvent:e,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function Rc(t,e,r){this.k=t,this.x=e,this.y=r}Rc.prototype={constructor:Rc,scale:function(t){return t===1?this:new Rc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Rc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Q_=new Rc(1,0,0);Rc.prototype;function K5(t){t.stopImmediatePropagation()}function _1(t){t.preventDefault(),t.stopImmediatePropagation()}function aQe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function oQe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jF(){return this.__zoom||Q_}function lQe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function cQe(){return navigator.maxTouchPoints||"ontouchstart"in this}function dQe(t,e,r){var n=t.invertX(e[0][0])-r[0][0],s=t.invertX(e[1][0])-r[1][0],a=t.invertY(e[0][1])-r[0][1],l=t.invertY(e[1][1])-r[1][1];return t.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function J5(){var t=aQe,e=oQe,r=dQe,n=lQe,s=cQe,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=xpe,f=Lx("start","zoom","end"),p,O,x,k=500,w=150,_=0,C=10;function T(V){V.property("__zoom",jF).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",z).filter(s).on("touchstart.zoom",X).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(V,te,G,J){var oe=V.selection?V.selection():V;oe.property("__zoom",jF),V!==oe?B(V,te,G,J):oe.interrupt().each(function(){R(this,arguments).event(J).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},T.scaleBy=function(V,te,G,J){T.scaleTo(V,function(){var oe=this.__zoom.k,ie=typeof te=="function"?te.apply(this,arguments):te;return oe*ie},G,J)},T.scaleTo=function(V,te,G,J){T.transform(V,function(){var oe=e.apply(this,arguments),ie=this.__zoom,be=G==null?Q(oe):typeof G=="function"?G.apply(this,arguments):G,he=ie.invert(be),re=typeof te=="function"?te.apply(this,arguments):te;return r(P(E(ie,re),be,he),oe,l)},G,J)},T.translateBy=function(V,te,G,J){T.transform(V,function(){return r(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof G=="function"?G.apply(this,arguments):G),e.apply(this,arguments),l)},null,J)},T.translateTo=function(V,te,G,J,oe){T.transform(V,function(){var ie=e.apply(this,arguments),be=this.__zoom,he=J==null?Q(ie):typeof J=="function"?J.apply(this,arguments):J;return r(Q_.translate(he[0],he[1]).scale(be.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof G=="function"?-G.apply(this,arguments):-G),ie,l)},J,oe)};function E(V,te){return te=Math.max(a[0],Math.min(a[1],te)),te===V.k?V:new Rc(te,V.x,V.y)}function P(V,te,G){var J=te[0]-G[0]*V.k,oe=te[1]-G[1]*V.k;return J===V.x&&oe===V.y?V:new Rc(V.k,J,oe)}function Q(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function B(V,te,G,J){V.on("start.zoom",function(){R(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(J).end()}).tween("zoom",function(){var oe=this,ie=arguments,be=R(oe,ie).event(J),he=e.apply(oe,ie),re=G==null?Q(he):typeof G=="function"?G.apply(oe,ie):G,ae=Math.max(he[1][0]-he[0][0],he[1][1]-he[0][1]),K=oe.__zoom,ce=typeof te=="function"?te.apply(oe,ie):te,ye=h(K.invert(re).concat(ae/K.k),ce.invert(re).concat(ae/ce.k));return function(ke){if(ke===1)ke=ce;else{var Ce=ye(ke),De=ae/Ce[2];ke=new Rc(De,re[0]-Ce[0]*De,re[1]-Ce[1]*De)}be.zoom(null,ke)}})}function R(V,te,G){return!G&&V.__zooming||new M(V,te)}function M(V,te){this.that=V,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,te),this.taps=0}M.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,te){return this.mouse&&V!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var te=hr(this.that).datum();f.call(V,this.that,new sQe(V,{sourceEvent:this.sourceEvent,target:T,transform:this.that.__zoom,dispatch:f}),te)}};function I(V,...te){if(!t.apply(this,arguments))return;var G=R(this,te).event(V),J=this.__zoom,oe=Math.max(a[0],Math.min(a[1],J.k*Math.pow(2,n.apply(this,arguments)))),ie=Tc(V);if(G.wheel)(G.mouse[0][0]!==ie[0]||G.mouse[0][1]!==ie[1])&&(G.mouse[1]=J.invert(G.mouse[0]=ie)),clearTimeout(G.wheel);else{if(J.k===oe)return;G.mouse=[ie,J.invert(ie)],Gv(this),G.start()}_1(V),G.wheel=setTimeout(be,w),G.zoom("mouse",r(P(E(J,oe),G.mouse[0],G.mouse[1]),G.extent,l));function be(){G.wheel=null,G.end()}}function j(V,...te){if(x||!t.apply(this,arguments))return;var G=V.currentTarget,J=R(this,te,!0).event(V),oe=hr(V.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",ae,!0),ie=Tc(V,G),be=V.clientX,he=V.clientY;jH(V.view),K5(V),J.mouse=[ie,this.__zoom.invert(ie)],Gv(this),J.start();function re(K){if(_1(K),!J.moved){var ce=K.clientX-be,ye=K.clientY-he;J.moved=ce*ce+ye*ye>_}J.event(K).zoom("mouse",r(P(J.that.__zoom,J.mouse[0]=Tc(K,G),J.mouse[1]),J.extent,l))}function ae(K){oe.on("mousemove.zoom mouseup.zoom",null),FH(K.view,J.moved),_1(K),J.event(K).end()}}function z(V,...te){if(t.apply(this,arguments)){var G=this.__zoom,J=Tc(V.changedTouches?V.changedTouches[0]:V,this),oe=G.invert(J),ie=G.k*(V.shiftKey?.5:2),be=r(P(E(G,ie),J,oe),e.apply(this,te),l);_1(V),c>0?hr(this).transition().duration(c).call(B,be,J,V):hr(this).call(T.transform,be,J,V)}}function X(V,...te){if(t.apply(this,arguments)){var G=V.touches,J=G.length,oe=R(this,te,V.changedTouches.length===J).event(V),ie,be,he,re;for(K5(V),be=0;be<J;++be)he=G[be],re=Tc(he,this),re=[re,this.__zoom.invert(re),he.identifier],oe.touch0?!oe.touch1&&oe.touch0[2]!==re[2]&&(oe.touch1=re,oe.taps=0):(oe.touch0=re,ie=!0,oe.taps=1+!!p);p&&(p=clearTimeout(p)),ie&&(oe.taps<2&&(O=re[0],p=setTimeout(function(){p=null},k)),Gv(this),oe.start())}}function W(V,...te){if(this.__zooming){var G=R(this,te).event(V),J=V.changedTouches,oe=J.length,ie,be,he,re;for(_1(V),ie=0;ie<oe;++ie)be=J[ie],he=Tc(be,this),G.touch0&&G.touch0[2]===be.identifier?G.touch0[0]=he:G.touch1&&G.touch1[2]===be.identifier&&(G.touch1[0]=he);if(be=G.that.__zoom,G.touch1){var ae=G.touch0[0],K=G.touch0[1],ce=G.touch1[0],ye=G.touch1[1],ke=(ke=ce[0]-ae[0])*ke+(ke=ce[1]-ae[1])*ke,Ce=(Ce=ye[0]-K[0])*Ce+(Ce=ye[1]-K[1])*Ce;be=E(be,Math.sqrt(ke/Ce)),he=[(ae[0]+ce[0])/2,(ae[1]+ce[1])/2],re=[(K[0]+ye[0])/2,(K[1]+ye[1])/2]}else if(G.touch0)he=G.touch0[0],re=G.touch0[1];else return;G.zoom("touch",r(P(be,he,re),G.extent,l))}}function F(V,...te){if(this.__zooming){var G=R(this,te).event(V),J=V.changedTouches,oe=J.length,ie,be;for(K5(V),x&&clearTimeout(x),x=setTimeout(function(){x=null},k),ie=0;ie<oe;++ie)be=J[ie],G.touch0&&G.touch0[2]===be.identifier?delete G.touch0:G.touch1&&G.touch1[2]===be.identifier&&delete G.touch1;if(G.touch1&&!G.touch0&&(G.touch0=G.touch1,delete G.touch1),G.touch0)G.touch0[1]=this.__zoom.invert(G.touch0[0]);else if(G.end(),G.taps===2&&(be=Tc(be,this),Math.hypot(O[0]-be[0],O[1]-be[1])<C)){var he=hr(this).on("dblclick.zoom");he&&he.apply(this,arguments)}}}return T.wheelDelta=function(V){return arguments.length?(n=typeof V=="function"?V:Ww(+V),T):n},T.filter=function(V){return arguments.length?(t=typeof V=="function"?V:Ww(!!V),T):t},T.touchable=function(V){return arguments.length?(s=typeof V=="function"?V:Ww(!!V),T):s},T.extent=function(V){return arguments.length?(e=typeof V=="function"?V:Ww([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),T):e},T.scaleExtent=function(V){return arguments.length?(a[0]=+V[0],a[1]=+V[1],T):[a[0],a[1]]},T.translateExtent=function(V){return arguments.length?(l[0][0]=+V[0][0],l[1][0]=+V[1][0],l[0][1]=+V[0][1],l[1][1]=+V[1][1],T):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},T.constrain=function(V){return arguments.length?(r=V,T):r},T.duration=function(V){return arguments.length?(c=+V,T):c},T.interpolate=function(V){return arguments.length?(h=V,T):h},T.on=function(){var V=f.on.apply(f,arguments);return V===f?T:V},T.clickDistance=function(V){return arguments.length?(_=(V=+V)*V,T):Math.sqrt(_)},T.tapDistance=function(V){return arguments.length?(C=+V,T):C},T}var hQe=Z(t=>{var s;const{securityLevel:e}=Zr();let r=hr("body");if(e==="sandbox"){const l=((s=hr(`#i${t}`).node())==null?void 0:s.contentDocument)??document;r=hr(l.body)}return r.select(`#${t}`)},"selectSvgElement");function b7(t){return typeof t>"u"||t===null}Z(b7,"isNothing");function ZH(t){return typeof t=="object"&&t!==null}Z(ZH,"isObject");function GH(t){return Array.isArray(t)?t:b7(t)?[]:[t]}Z(GH,"toArray");function HH(t,e){var r,n,s,a;if(e)for(a=Object.keys(e),r=0,n=a.length;r<n;r+=1)s=a[r],t[s]=e[s];return t}Z(HH,"extend");function KH(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}Z(KH,"repeat");function JH(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}Z(JH,"isNegativeZero");var uQe=b7,fQe=ZH,gQe=GH,pQe=KH,mQe=JH,OQe=HH,yi={isNothing:uQe,isObject:fQe,toArray:gQe,repeat:pQe,isNegativeZero:mQe,extend:OQe};function k7(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}Z(k7,"formatError");function tg(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=k7(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Z(tg,"YAMLException$1");tg.prototype=Object.create(Error.prototype);tg.prototype.constructor=tg;tg.prototype.toString=Z(function(e){return this.name+": "+k7(this,e)},"toString");var ua=tg;function Hv(t,e,r,n,s){var a="",l="",c=Math.floor(s/2)-1;return n-e>c&&(a=" ... ",e=n-c+a.length),r-n>c&&(l=" ...",r=n+c-l.length),{str:a+t.slice(e,r).replace(/\t/g,"")+l,pos:n-e+a.length}}Z(Hv,"getLine");function Kv(t,e){return yi.repeat(" ",e-t.length)+t}Z(Kv,"padStart");function eK(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],s=[],a,l=-1;a=r.exec(t.buffer);)s.push(a.index),n.push(a.index+a[0].length),t.position<=a.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var c="",h,f,p=Math.min(t.line+e.linesAfter,s.length).toString().length,O=e.maxLength-(e.indent+p+3);for(h=1;h<=e.linesBefore&&!(l-h<0);h++)f=Hv(t.buffer,n[l-h],s[l-h],t.position-(n[l]-n[l-h]),O),c=yi.repeat(" ",e.indent)+Kv((t.line-h+1).toString(),p)+" | "+f.str+`
`+c;for(f=Hv(t.buffer,n[l],s[l],t.position,O),c+=yi.repeat(" ",e.indent)+Kv((t.line+1).toString(),p)+" | "+f.str+`
`,c+=yi.repeat("-",e.indent+p+3+f.pos)+`^
`,h=1;h<=e.linesAfter&&!(l+h>=s.length);h++)f=Hv(t.buffer,n[l+h],s[l+h],t.position-(n[l]-n[l+h]),O),c+=yi.repeat(" ",e.indent)+Kv((t.line+h+1).toString(),p)+" | "+f.str+`
`;return c.replace(/\n$/,"")}Z(eK,"makeSnippet");var xQe=eK,bQe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],kQe=["scalar","sequence","mapping"];function tK(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}Z(tK,"compileStyleAliases");function rK(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(bQe.indexOf(r)===-1)throw new ua('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=tK(e.styleAliases||null),kQe.indexOf(this.kind)===-1)throw new ua('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}Z(rK,"Type$1");var ys=rK;function PE(t,e){var r=[];return t[e].forEach(function(n){var s=r.length;r.forEach(function(a,l){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(s=l)}),r[s]=n}),r}Z(PE,"compileList");function nK(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(s){s.multi?(t.multi[s.kind].push(s),t.multi.fallback.push(s)):t[s.kind][s.tag]=t.fallback[s.tag]=s}for(Z(n,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}Z(nK,"compileMap");function $_(t){return this.extend(t)}Z($_,"Schema$1");$_.prototype.extend=Z(function(e){var r=[],n=[];if(e instanceof ys)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new ua("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(a){if(!(a instanceof ys))throw new ua("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new ua("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new ua("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(a){if(!(a instanceof ys))throw new ua("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create($_.prototype);return s.implicit=(this.implicit||[]).concat(r),s.explicit=(this.explicit||[]).concat(n),s.compiledImplicit=PE(s,"implicit"),s.compiledExplicit=PE(s,"explicit"),s.compiledTypeMap=nK(s.compiledImplicit,s.compiledExplicit),s},"extend");var yQe=$_,wQe=new ys("tag:yaml.org,2002:str",{kind:"scalar",construct:Z(function(t){return t!==null?t:""},"construct")}),vQe=new ys("tag:yaml.org,2002:seq",{kind:"sequence",construct:Z(function(t){return t!==null?t:[]},"construct")}),_Qe=new ys("tag:yaml.org,2002:map",{kind:"mapping",construct:Z(function(t){return t!==null?t:{}},"construct")}),CQe=new yQe({explicit:[wQe,vQe,_Qe]});function iK(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}Z(iK,"resolveYamlNull");function sK(){return null}Z(sK,"constructYamlNull");function aK(t){return t===null}Z(aK,"isNull");var AQe=new ys("tag:yaml.org,2002:null",{kind:"scalar",resolve:iK,construct:sK,predicate:aK,represent:{canonical:Z(function(){return"~"},"canonical"),lowercase:Z(function(){return"null"},"lowercase"),uppercase:Z(function(){return"NULL"},"uppercase"),camelcase:Z(function(){return"Null"},"camelcase"),empty:Z(function(){return""},"empty")},defaultStyle:"lowercase"});function oK(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}Z(oK,"resolveYamlBoolean");function lK(t){return t==="true"||t==="True"||t==="TRUE"}Z(lK,"constructYamlBoolean");function cK(t){return Object.prototype.toString.call(t)==="[object Boolean]"}Z(cK,"isBoolean");var SQe=new ys("tag:yaml.org,2002:bool",{kind:"scalar",resolve:oK,construct:lK,predicate:cK,represent:{lowercase:Z(function(t){return t?"true":"false"},"lowercase"),uppercase:Z(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:Z(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function dK(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}Z(dK,"isHexCode");function hK(t){return 48<=t&&t<=55}Z(hK,"isOctCode");function uK(t){return 48<=t&&t<=57}Z(uK,"isDecCode");function fK(t){if(t===null)return!1;var e=t.length,r=0,n=!1,s;if(!e)return!1;if(s=t[r],(s==="-"||s==="+")&&(s=t[++r]),s==="0"){if(r+1===e)return!0;if(s=t[++r],s==="b"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(s!=="0"&&s!=="1")return!1;n=!0}return n&&s!=="_"}if(s==="x"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(!dK(t.charCodeAt(r)))return!1;n=!0}return n&&s!=="_"}if(s==="o"){for(r++;r<e;r++)if(s=t[r],s!=="_"){if(!hK(t.charCodeAt(r)))return!1;n=!0}return n&&s!=="_"}}if(s==="_")return!1;for(;r<e;r++)if(s=t[r],s!=="_"){if(!uK(t.charCodeAt(r)))return!1;n=!0}return!(!n||s==="_")}Z(fK,"resolveYamlInteger");function gK(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}Z(gK,"constructYamlInteger");function pK(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!yi.isNegativeZero(t)}Z(pK,"isInteger");var TQe=new ys("tag:yaml.org,2002:int",{kind:"scalar",resolve:fK,construct:gK,predicate:pK,represent:{binary:Z(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:Z(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:Z(function(t){return t.toString(10)},"decimal"),hexadecimal:Z(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),EQe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function mK(t){return!(t===null||!EQe.test(t)||t[t.length-1]==="_")}Z(mK,"resolveYamlFloat");function OK(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}Z(OK,"constructYamlFloat");var PQe=/^[-+]?[0-9]+e/;function xK(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yi.isNegativeZero(t))return"-0.0";return r=t.toString(10),PQe.test(r)?r.replace("e",".e"):r}Z(xK,"representYamlFloat");function bK(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||yi.isNegativeZero(t))}Z(bK,"isFloat");var DQe=new ys("tag:yaml.org,2002:float",{kind:"scalar",resolve:mK,construct:OK,predicate:bK,represent:xK,defaultStyle:"lowercase"}),kK=CQe.extend({implicit:[AQe,SQe,TQe,DQe]}),QQe=kK,yK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),wK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function vK(t){return t===null?!1:yK.exec(t)!==null||wK.exec(t)!==null}Z(vK,"resolveYamlTimestamp");function _K(t){var e,r,n,s,a,l,c,h=0,f=null,p,O,x;if(e=yK.exec(t),e===null&&(e=wK.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(r,n,s));if(a=+e[4],l=+e[5],c=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(p=+e[10],O=+(e[11]||0),f=(p*60+O)*6e4,e[9]==="-"&&(f=-f)),x=new Date(Date.UTC(r,n,s,a,l,c,h)),f&&x.setTime(x.getTime()-f),x}Z(_K,"constructYamlTimestamp");function CK(t){return t.toISOString()}Z(CK,"representYamlTimestamp");var $Qe=new ys("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vK,construct:_K,instanceOf:Date,represent:CK});function AK(t){return t==="<<"||t===null}Z(AK,"resolveYamlMerge");var MQe=new ys("tag:yaml.org,2002:merge",{kind:"scalar",resolve:AK}),y7=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function SK(t){if(t===null)return!1;var e,r,n=0,s=t.length,a=y7;for(r=0;r<s;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}Z(SK,"resolveYamlBinary");function TK(t){var e,r,n=t.replace(/[\r\n=]/g,""),s=n.length,a=y7,l=0,c=[];for(e=0;e<s;e++)e%4===0&&e&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|a.indexOf(n.charAt(e));return r=s%4*6,r===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):r===18?(c.push(l>>10&255),c.push(l>>2&255)):r===12&&c.push(l>>4&255),new Uint8Array(c)}Z(TK,"constructYamlBinary");function EK(t){var e="",r=0,n,s,a=t.length,l=y7;for(n=0;n<a;n++)n%3===0&&n&&(e+=l[r>>18&63],e+=l[r>>12&63],e+=l[r>>6&63],e+=l[r&63]),r=(r<<8)+t[n];return s=a%3,s===0?(e+=l[r>>18&63],e+=l[r>>12&63],e+=l[r>>6&63],e+=l[r&63]):s===2?(e+=l[r>>10&63],e+=l[r>>4&63],e+=l[r<<2&63],e+=l[64]):s===1&&(e+=l[r>>2&63],e+=l[r<<4&63],e+=l[64],e+=l[64]),e}Z(EK,"representYamlBinary");function PK(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}Z(PK,"isBinary");var RQe=new ys("tag:yaml.org,2002:binary",{kind:"scalar",resolve:SK,construct:TK,predicate:PK,represent:EK}),NQe=Object.prototype.hasOwnProperty,BQe=Object.prototype.toString;function DK(t){if(t===null)return!0;var e=[],r,n,s,a,l,c=t;for(r=0,n=c.length;r<n;r+=1){if(s=c[r],l=!1,BQe.call(s)!=="[object Object]")return!1;for(a in s)if(NQe.call(s,a))if(!l)l=!0;else return!1;if(!l)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}Z(DK,"resolveYamlOmap");function QK(t){return t!==null?t:[]}Z(QK,"constructYamlOmap");var IQe=new ys("tag:yaml.org,2002:omap",{kind:"sequence",resolve:DK,construct:QK}),jQe=Object.prototype.toString;function $K(t){if(t===null)return!0;var e,r,n,s,a,l=t;for(a=new Array(l.length),e=0,r=l.length;e<r;e+=1){if(n=l[e],jQe.call(n)!=="[object Object]"||(s=Object.keys(n),s.length!==1))return!1;a[e]=[s[0],n[s[0]]]}return!0}Z($K,"resolveYamlPairs");function MK(t){if(t===null)return[];var e,r,n,s,a,l=t;for(a=new Array(l.length),e=0,r=l.length;e<r;e+=1)n=l[e],s=Object.keys(n),a[e]=[s[0],n[s[0]]];return a}Z(MK,"constructYamlPairs");var FQe=new ys("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$K,construct:MK}),LQe=Object.prototype.hasOwnProperty;function RK(t){if(t===null)return!0;var e,r=t;for(e in r)if(LQe.call(r,e)&&r[e]!==null)return!1;return!0}Z(RK,"resolveYamlSet");function NK(t){return t!==null?t:{}}Z(NK,"constructYamlSet");var zQe=new ys("tag:yaml.org,2002:set",{kind:"mapping",resolve:RK,construct:NK}),BK=QQe.extend({implicit:[$Qe,MQe],explicit:[RQe,IQe,FQe,zQe]}),dh=Object.prototype.hasOwnProperty,M_=1,IK=2,jK=3,R_=4,e3=1,XQe=2,FF=3,VQe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,UQe=/[\x85\u2028\u2029]/,qQe=/[,\[\]\{\}]/,FK=/^(?:!|!!|![a-z\-]+!)$/i,LK=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function DE(t){return Object.prototype.toString.call(t)}Z(DE,"_class");function el(t){return t===10||t===13}Z(el,"is_EOL");function eh(t){return t===9||t===32}Z(eh,"is_WHITE_SPACE");function Fs(t){return t===9||t===32||t===10||t===13}Z(Fs,"is_WS_OR_EOL");function fu(t){return t===44||t===91||t===93||t===123||t===125}Z(fu,"is_FLOW_INDICATOR");function zK(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}Z(zK,"fromHexCode");function XK(t){return t===120?2:t===117?4:t===85?8:0}Z(XK,"escapedHexLen");function VK(t){return 48<=t&&t<=57?t-48:-1}Z(VK,"fromDecimalCode");function QE(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}Z(QE,"simpleEscapeSequence");function UK(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}Z(UK,"charFromCodepoint");var qK=new Array(256),WK=new Array(256);for(Gh=0;Gh<256;Gh++)qK[Gh]=QE(Gh)?1:0,WK[Gh]=QE(Gh);var Gh;function YK(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||BK,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}Z(YK,"State$1");function w7(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=xQe(r),new ua(e,r)}Z(w7,"generateError");function qt(t,e){throw w7(t,e)}Z(qt,"throwError");function ex(t,e){t.onWarning&&t.onWarning.call(null,w7(t,e))}Z(ex,"throwWarning");var LF={YAML:Z(function(e,r,n){var s,a,l;e.version!==null&&qt(e,"duplication of %YAML directive"),n.length!==1&&qt(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),s===null&&qt(e,"ill-formed argument of the YAML directive"),a=parseInt(s[1],10),l=parseInt(s[2],10),a!==1&&qt(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=l<2,l!==1&&l!==2&&ex(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:Z(function(e,r,n){var s,a;n.length!==2&&qt(e,"TAG directive accepts exactly two arguments"),s=n[0],a=n[1],FK.test(s)||qt(e,"ill-formed tag handle (first argument) of the TAG directive"),dh.call(e.tagMap,s)&&qt(e,'there is a previously declared suffix for "'+s+'" tag handle'),LK.test(a)||qt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{qt(e,"tag prefix is malformed: "+a)}e.tagMap[s]=a},"handleTagDirective")};function Fc(t,e,r,n){var s,a,l,c;if(e<r){if(c=t.input.slice(e,r),n)for(s=0,a=c.length;s<a;s+=1)l=c.charCodeAt(s),l===9||32<=l&&l<=1114111||qt(t,"expected valid JSON character");else VQe.test(c)&&qt(t,"the stream contains non-printable characters");t.result+=c}}Z(Fc,"captureSegment");function $E(t,e,r,n){var s,a,l,c;for(yi.isObject(r)||qt(t,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(r),l=0,c=s.length;l<c;l+=1)a=s[l],dh.call(e,a)||(e[a]=r[a],n[a]=!0)}Z($E,"mergeMappings");function gu(t,e,r,n,s,a,l,c,h){var f,p;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),f=0,p=s.length;f<p;f+=1)Array.isArray(s[f])&&qt(t,"nested arrays are not supported inside keys"),typeof s=="object"&&DE(s[f])==="[object Object]"&&(s[f]="[object Object]");if(typeof s=="object"&&DE(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(f=0,p=a.length;f<p;f+=1)$E(t,e,a[f],r);else $E(t,e,a,r);else!t.json&&!dh.call(r,s)&&dh.call(e,s)&&(t.line=l||t.line,t.lineStart=c||t.lineStart,t.position=h||t.position,qt(t,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[s]=a,delete r[s];return e}Z(gu,"storeMappingPair");function HC(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):qt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}Z(HC,"readLineBreak");function ei(t,e,r){for(var n=0,s=t.input.charCodeAt(t.position);s!==0;){for(;eh(s);)s===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),s=t.input.charCodeAt(++t.position);if(e&&s===35)do s=t.input.charCodeAt(++t.position);while(s!==10&&s!==13&&s!==0);if(el(s))for(HC(t),s=t.input.charCodeAt(t.position),n++,t.lineIndent=0;s===32;)t.lineIndent++,s=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&ex(t,"deficient indentation"),n}Z(ei,"skipSeparationSpace");function Xx(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||Fs(r)))}Z(Xx,"testDocumentSeparator");function KC(t,e){e===1?t.result+=" ":e>1&&(t.result+=yi.repeat(`
`,e-1))}Z(KC,"writeFoldedLines");function ZK(t,e,r){var n,s,a,l,c,h,f,p,O=t.kind,x=t.result,k;if(k=t.input.charCodeAt(t.position),Fs(k)||fu(k)||k===35||k===38||k===42||k===33||k===124||k===62||k===39||k===34||k===37||k===64||k===96||(k===63||k===45)&&(s=t.input.charCodeAt(t.position+1),Fs(s)||r&&fu(s)))return!1;for(t.kind="scalar",t.result="",a=l=t.position,c=!1;k!==0;){if(k===58){if(s=t.input.charCodeAt(t.position+1),Fs(s)||r&&fu(s))break}else if(k===35){if(n=t.input.charCodeAt(t.position-1),Fs(n))break}else{if(t.position===t.lineStart&&Xx(t)||r&&fu(k))break;if(el(k))if(h=t.line,f=t.lineStart,p=t.lineIndent,ei(t,!1,-1),t.lineIndent>=e){c=!0,k=t.input.charCodeAt(t.position);continue}else{t.position=l,t.line=h,t.lineStart=f,t.lineIndent=p;break}}c&&(Fc(t,a,l,!1),KC(t,t.line-h),a=l=t.position,c=!1),eh(k)||(l=t.position+1),k=t.input.charCodeAt(++t.position)}return Fc(t,a,l,!1),t.result?!0:(t.kind=O,t.result=x,!1)}Z(ZK,"readPlainScalar");function GK(t,e){var r,n,s;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=s=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Fc(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,s=t.position;else return!0;else el(r)?(Fc(t,n,s,!0),KC(t,ei(t,!1,e)),n=s=t.position):t.position===t.lineStart&&Xx(t)?qt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,s=t.position);qt(t,"unexpected end of the stream within a single quoted scalar")}Z(GK,"readSingleQuotedScalar");function HK(t,e){var r,n,s,a,l,c;if(c=t.input.charCodeAt(t.position),c!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(c=t.input.charCodeAt(t.position))!==0;){if(c===34)return Fc(t,r,t.position,!0),t.position++,!0;if(c===92){if(Fc(t,r,t.position,!0),c=t.input.charCodeAt(++t.position),el(c))ei(t,!1,e);else if(c<256&&qK[c])t.result+=WK[c],t.position++;else if((l=XK(c))>0){for(s=l,a=0;s>0;s--)c=t.input.charCodeAt(++t.position),(l=zK(c))>=0?a=(a<<4)+l:qt(t,"expected hexadecimal character");t.result+=UK(a),t.position++}else qt(t,"unknown escape sequence");r=n=t.position}else el(c)?(Fc(t,r,n,!0),KC(t,ei(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Xx(t)?qt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}qt(t,"unexpected end of the stream within a double quoted scalar")}Z(HK,"readDoubleQuotedScalar");function KK(t,e){var r=!0,n,s,a,l=t.tag,c,h=t.anchor,f,p,O,x,k,w=Object.create(null),_,C,T,E;if(E=t.input.charCodeAt(t.position),E===91)p=93,k=!1,c=[];else if(E===123)p=125,k=!0,c={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=c),E=t.input.charCodeAt(++t.position);E!==0;){if(ei(t,!0,e),E=t.input.charCodeAt(t.position),E===p)return t.position++,t.tag=l,t.anchor=h,t.kind=k?"mapping":"sequence",t.result=c,!0;r?E===44&&qt(t,"expected the node content, but found ','"):qt(t,"missed comma between flow collection entries"),C=_=T=null,O=x=!1,E===63&&(f=t.input.charCodeAt(t.position+1),Fs(f)&&(O=x=!0,t.position++,ei(t,!0,e))),n=t.line,s=t.lineStart,a=t.position,Ru(t,e,M_,!1,!0),C=t.tag,_=t.result,ei(t,!0,e),E=t.input.charCodeAt(t.position),(x||t.line===n)&&E===58&&(O=!0,E=t.input.charCodeAt(++t.position),ei(t,!0,e),Ru(t,e,M_,!1,!0),T=t.result),k?gu(t,c,w,C,_,T,n,s,a):O?c.push(gu(t,null,w,C,_,T,n,s,a)):c.push(_),ei(t,!0,e),E=t.input.charCodeAt(t.position),E===44?(r=!0,E=t.input.charCodeAt(++t.position)):r=!1}qt(t,"unexpected end of the stream within a flow collection")}Z(KK,"readFlowCollection");function JK(t,e){var r,n,s=e3,a=!1,l=!1,c=e,h=0,f=!1,p,O;if(O=t.input.charCodeAt(t.position),O===124)n=!1;else if(O===62)n=!0;else return!1;for(t.kind="scalar",t.result="";O!==0;)if(O=t.input.charCodeAt(++t.position),O===43||O===45)e3===s?s=O===43?FF:XQe:qt(t,"repeat of a chomping mode identifier");else if((p=VK(O))>=0)p===0?qt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?qt(t,"repeat of an indentation width identifier"):(c=e+p-1,l=!0);else break;if(eh(O)){do O=t.input.charCodeAt(++t.position);while(eh(O));if(O===35)do O=t.input.charCodeAt(++t.position);while(!el(O)&&O!==0)}for(;O!==0;){for(HC(t),t.lineIndent=0,O=t.input.charCodeAt(t.position);(!l||t.lineIndent<c)&&O===32;)t.lineIndent++,O=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>c&&(c=t.lineIndent),el(O)){h++;continue}if(t.lineIndent<c){s===FF?t.result+=yi.repeat(`
`,a?1+h:h):s===e3&&a&&(t.result+=`
`);break}for(n?eh(O)?(f=!0,t.result+=yi.repeat(`
`,a?1+h:h)):f?(f=!1,t.result+=yi.repeat(`
`,h+1)):h===0?a&&(t.result+=" "):t.result+=yi.repeat(`
`,h):t.result+=yi.repeat(`
`,a?1+h:h),a=!0,l=!0,h=0,r=t.position;!el(O)&&O!==0;)O=t.input.charCodeAt(++t.position);Fc(t,r,t.position,!1)}return!0}Z(JK,"readBlockScalar");function ME(t,e){var r,n=t.tag,s=t.anchor,a=[],l,c=!1,h;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),h=t.input.charCodeAt(t.position);h!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qt(t,"tab characters must not be used in indentation")),!(h!==45||(l=t.input.charCodeAt(t.position+1),!Fs(l))));){if(c=!0,t.position++,ei(t,!0,-1)&&t.lineIndent<=e){a.push(null),h=t.input.charCodeAt(t.position);continue}if(r=t.line,Ru(t,e,jK,!1,!0),a.push(t.result),ei(t,!0,-1),h=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&h!==0)qt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return c?(t.tag=n,t.anchor=s,t.kind="sequence",t.result=a,!0):!1}Z(ME,"readBlockSequence");function eJ(t,e,r){var n,s,a,l,c,h,f=t.tag,p=t.anchor,O={},x=Object.create(null),k=null,w=null,_=null,C=!1,T=!1,E;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=O),E=t.input.charCodeAt(t.position);E!==0;){if(!C&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qt(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),a=t.line,(E===63||E===58)&&Fs(n))E===63?(C&&(gu(t,O,x,k,w,null,l,c,h),k=w=_=null),T=!0,C=!0,s=!0):C?(C=!1,s=!0):qt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,E=n;else{if(l=t.line,c=t.lineStart,h=t.position,!Ru(t,r,IK,!1,!0))break;if(t.line===a){for(E=t.input.charCodeAt(t.position);eh(E);)E=t.input.charCodeAt(++t.position);if(E===58)E=t.input.charCodeAt(++t.position),Fs(E)||qt(t,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(gu(t,O,x,k,w,null,l,c,h),k=w=_=null),T=!0,C=!1,s=!1,k=t.tag,w=t.result;else if(T)qt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=f,t.anchor=p,!0}else if(T)qt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=f,t.anchor=p,!0}if((t.line===a||t.lineIndent>e)&&(C&&(l=t.line,c=t.lineStart,h=t.position),Ru(t,e,R_,!0,s)&&(C?w=t.result:_=t.result),C||(gu(t,O,x,k,w,_,l,c,h),k=w=_=null),ei(t,!0,-1),E=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&E!==0)qt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return C&&gu(t,O,x,k,w,null,l,c,h),T&&(t.tag=f,t.anchor=p,t.kind="mapping",t.result=O),T}Z(eJ,"readBlockMapping");function tJ(t){var e,r=!1,n=!1,s,a,l;if(l=t.input.charCodeAt(t.position),l!==33)return!1;if(t.tag!==null&&qt(t,"duplication of a tag property"),l=t.input.charCodeAt(++t.position),l===60?(r=!0,l=t.input.charCodeAt(++t.position)):l===33?(n=!0,s="!!",l=t.input.charCodeAt(++t.position)):s="!",e=t.position,r){do l=t.input.charCodeAt(++t.position);while(l!==0&&l!==62);t.position<t.length?(a=t.input.slice(e,t.position),l=t.input.charCodeAt(++t.position)):qt(t,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!Fs(l);)l===33&&(n?qt(t,"tag suffix cannot contain exclamation marks"):(s=t.input.slice(e-1,t.position+1),FK.test(s)||qt(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),l=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),qQe.test(a)&&qt(t,"tag suffix cannot contain flow indicator characters")}a&&!LK.test(a)&&qt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{qt(t,"tag name is malformed: "+a)}return r?t.tag=a:dh.call(t.tagMap,s)?t.tag=t.tagMap[s]+a:s==="!"?t.tag="!"+a:s==="!!"?t.tag="tag:yaml.org,2002:"+a:qt(t,'undeclared tag handle "'+s+'"'),!0}Z(tJ,"readTagProperty");function rJ(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&qt(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Fs(r)&&!fu(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&qt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}Z(rJ,"readAnchorProperty");function nJ(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Fs(n)&&!fu(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&qt(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),dh.call(t.anchorMap,r)||qt(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],ei(t,!0,-1),!0}Z(nJ,"readAlias");function Ru(t,e,r,n,s){var a,l,c,h=1,f=!1,p=!1,O,x,k,w,_,C;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=l=c=R_===r||jK===r,n&&ei(t,!0,-1)&&(f=!0,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)),h===1)for(;tJ(t)||rJ(t);)ei(t,!0,-1)?(f=!0,c=a,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)):c=!1;if(c&&(c=f||s),(h===1||R_===r)&&(M_===r||IK===r?_=e:_=e+1,C=t.position-t.lineStart,h===1?c&&(ME(t,C)||eJ(t,C,_))||KK(t,_)?p=!0:(l&&JK(t,_)||GK(t,_)||HK(t,_)?p=!0:nJ(t)?(p=!0,(t.tag!==null||t.anchor!==null)&&qt(t,"alias node should not have any properties")):ZK(t,_,M_===r)&&(p=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):h===0&&(p=c&&ME(t,C))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&qt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),O=0,x=t.implicitTypes.length;O<x;O+=1)if(w=t.implicitTypes[O],w.resolve(t.result)){t.result=w.construct(t.result),t.tag=w.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(dh.call(t.typeMap[t.kind||"fallback"],t.tag))w=t.typeMap[t.kind||"fallback"][t.tag];else for(w=null,k=t.typeMap.multi[t.kind||"fallback"],O=0,x=k.length;O<x;O+=1)if(t.tag.slice(0,k[O].tag.length)===k[O].tag){w=k[O];break}w||qt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&w.kind!==t.kind&&qt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+w.kind+'", not "'+t.kind+'"'),w.resolve(t.result,t.tag)?(t.result=w.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):qt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||p}Z(Ru,"composeNode");function iJ(t){var e=t.position,r,n,s,a=!1,l;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(l=t.input.charCodeAt(t.position))!==0&&(ei(t,!0,-1),l=t.input.charCodeAt(t.position),!(t.lineIndent>0||l!==37));){for(a=!0,l=t.input.charCodeAt(++t.position),r=t.position;l!==0&&!Fs(l);)l=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),s=[],n.length<1&&qt(t,"directive name must not be less than one character in length");l!==0;){for(;eh(l);)l=t.input.charCodeAt(++t.position);if(l===35){do l=t.input.charCodeAt(++t.position);while(l!==0&&!el(l));break}if(el(l))break;for(r=t.position;l!==0&&!Fs(l);)l=t.input.charCodeAt(++t.position);s.push(t.input.slice(r,t.position))}l!==0&&HC(t),dh.call(LF,n)?LF[n](t,n,s):ex(t,'unknown document directive "'+n+'"')}if(ei(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ei(t,!0,-1)):a&&qt(t,"directives end mark is expected"),Ru(t,t.lineIndent-1,R_,!1,!0),ei(t,!0,-1),t.checkLineBreaks&&UQe.test(t.input.slice(e,t.position))&&ex(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Xx(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ei(t,!0,-1));return}if(t.position<t.length-1)qt(t,"end of the stream or a document separator is expected");else return}Z(iJ,"readDocument");function v7(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new YK(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,qt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)iJ(r);return r.documents}Z(v7,"loadDocuments");function WQe(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=v7(t,r);if(typeof e!="function")return n;for(var s=0,a=n.length;s<a;s+=1)e(n[s])}Z(WQe,"loadAll$1");function sJ(t,e){var r=v7(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new ua("expected a single document in the stream, but found more")}}Z(sJ,"load$1");var YQe=sJ,ZQe={load:YQe},aJ=Object.prototype.toString,oJ=Object.prototype.hasOwnProperty,_7=65279,GQe=9,tx=10,HQe=13,KQe=32,JQe=33,e$e=34,RE=35,t$e=37,r$e=38,n$e=39,i$e=42,lJ=44,s$e=45,N_=58,a$e=61,o$e=62,l$e=63,c$e=64,cJ=91,dJ=93,d$e=96,hJ=123,h$e=124,uJ=125,Ss={};Ss[0]="\\0";Ss[7]="\\a";Ss[8]="\\b";Ss[9]="\\t";Ss[10]="\\n";Ss[11]="\\v";Ss[12]="\\f";Ss[13]="\\r";Ss[27]="\\e";Ss[34]='\\"';Ss[92]="\\\\";Ss[133]="\\N";Ss[160]="\\_";Ss[8232]="\\L";Ss[8233]="\\P";var u$e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],f$e=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fJ(t,e){var r,n,s,a,l,c,h;if(e===null)return{};for(r={},n=Object.keys(e),s=0,a=n.length;s<a;s+=1)l=n[s],c=String(e[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),h=t.compiledTypeMap.fallback[l],h&&oJ.call(h.styleAliases,c)&&(c=h.styleAliases[c]),r[l]=c;return r}Z(fJ,"compileStyleMap");function gJ(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new ua("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+yi.repeat("0",n-e.length)+e}Z(gJ,"encodeHex");var g$e=1,rx=2;function pJ(t){this.schema=t.schema||BK,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=yi.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=fJ(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?rx:g$e,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}Z(pJ,"State");function NE(t,e){for(var r=yi.repeat(" ",e),n=0,s=-1,a="",l,c=t.length;n<c;)s=t.indexOf(`
`,n),s===-1?(l=t.slice(n),n=c):(l=t.slice(n,s+1),n=s+1),l.length&&l!==`
`&&(a+=r),a+=l;return a}Z(NE,"indentString");function B_(t,e){return`
`+yi.repeat(" ",t.indent*e)}Z(B_,"generateNextLine");function mJ(t,e){var r,n,s;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(s=t.implicitTypes[r],s.resolve(e))return!0;return!1}Z(mJ,"testImplicitResolving");function nx(t){return t===KQe||t===GQe}Z(nx,"isWhitespace");function rg(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==_7||65536<=t&&t<=1114111}Z(rg,"isPrintable");function BE(t){return rg(t)&&t!==_7&&t!==HQe&&t!==tx}Z(BE,"isNsCharOrWhitespace");function IE(t,e,r){var n=BE(t),s=n&&!nx(t);return(r?n:n&&t!==lJ&&t!==cJ&&t!==dJ&&t!==hJ&&t!==uJ)&&t!==RE&&!(e===N_&&!s)||BE(e)&&!nx(e)&&t===RE||e===N_&&s}Z(IE,"isPlainSafe");function OJ(t){return rg(t)&&t!==_7&&!nx(t)&&t!==s$e&&t!==l$e&&t!==N_&&t!==lJ&&t!==cJ&&t!==dJ&&t!==hJ&&t!==uJ&&t!==RE&&t!==r$e&&t!==i$e&&t!==JQe&&t!==h$e&&t!==a$e&&t!==o$e&&t!==n$e&&t!==e$e&&t!==t$e&&t!==c$e&&t!==d$e}Z(OJ,"isPlainSafeFirst");function xJ(t){return!nx(t)&&t!==N_}Z(xJ,"isPlainSafeLast");function nf(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}Z(nf,"codePointAt");function C7(t){var e=/^\n* /;return e.test(t)}Z(C7,"needIndentIndicator");var bJ=1,jE=2,kJ=3,yJ=4,Y0=5;function wJ(t,e,r,n,s,a,l,c){var h,f=0,p=null,O=!1,x=!1,k=n!==-1,w=-1,_=OJ(nf(t,0))&&xJ(nf(t,t.length-1));if(e||l)for(h=0;h<t.length;f>=65536?h+=2:h++){if(f=nf(t,h),!rg(f))return Y0;_=_&&IE(f,p,c),p=f}else{for(h=0;h<t.length;f>=65536?h+=2:h++){if(f=nf(t,h),f===tx)O=!0,k&&(x=x||h-w-1>n&&t[w+1]!==" ",w=h);else if(!rg(f))return Y0;_=_&&IE(f,p,c),p=f}x=x||k&&h-w-1>n&&t[w+1]!==" "}return!O&&!x?_&&!l&&!s(t)?bJ:a===rx?Y0:jE:r>9&&C7(t)?Y0:l?a===rx?Y0:jE:x?yJ:kJ}Z(wJ,"chooseScalarStyle");function vJ(t,e,r,n,s){t.dump=(function(){if(e.length===0)return t.quotingType===rx?'""':"''";if(!t.noCompatMode&&(u$e.indexOf(e)!==-1||f$e.test(e)))return t.quotingType===rx?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),l=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),c=n||t.flowLevel>-1&&r>=t.flowLevel;function h(f){return mJ(t,f)}switch(Z(h,"testAmbiguity"),wJ(e,c,t.indent,l,h,t.quotingType,t.forceQuotes&&!n,s)){case bJ:return e;case jE:return"'"+e.replace(/'/g,"''")+"'";case kJ:return"|"+FE(e,t.indent)+LE(NE(e,a));case yJ:return">"+FE(e,t.indent)+LE(NE(_J(e,l),a));case Y0:return'"'+CJ(e)+'"';default:throw new ua("impossible error: invalid scalar style")}})()}Z(vJ,"writeScalar");function FE(t,e){var r=C7(t)?String(e):"",n=t[t.length-1]===`
`,s=n&&(t[t.length-2]===`
`||t===`
`),a=s?"+":n?"":"-";return r+a+`
`}Z(FE,"blockHeader");function LE(t){return t[t.length-1]===`
`?t.slice(0,-1):t}Z(LE,"dropEndingNewline");function _J(t,e){for(var r=/(\n+)([^\n]*)/g,n=(function(){var f=t.indexOf(`
`);return f=f!==-1?f:t.length,r.lastIndex=f,zE(t.slice(0,f),e)})(),s=t[0]===`
`||t[0]===" ",a,l;l=r.exec(t);){var c=l[1],h=l[2];a=h[0]===" ",n+=c+(!s&&!a&&h!==""?`
`:"")+zE(h,e),s=a}return n}Z(_J,"foldString");function zE(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,s=0,a,l=0,c=0,h="";n=r.exec(t);)c=n.index,c-s>e&&(a=l>s?l:c,h+=`
`+t.slice(s,a),s=a+1),l=c;return h+=`
`,t.length-s>e&&l>s?h+=t.slice(s,l)+`
`+t.slice(l+1):h+=t.slice(s),h.slice(1)}Z(zE,"foldLine");function CJ(t){for(var e="",r=0,n,s=0;s<t.length;r>=65536?s+=2:s++)r=nf(t,s),n=Ss[r],!n&&rg(r)?(e+=t[s],r>=65536&&(e+=t[s+1])):e+=n||gJ(r);return e}Z(CJ,"escapeString");function AJ(t,e,r){var n="",s=t.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],t.replacer&&(c=t.replacer.call(r,String(a),c)),(Xl(t,e,c,!1,!1)||typeof c>"u"&&Xl(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=s,t.dump="["+n+"]"}Z(AJ,"writeFlowSequence");function XE(t,e,r,n){var s="",a=t.tag,l,c,h;for(l=0,c=r.length;l<c;l+=1)h=r[l],t.replacer&&(h=t.replacer.call(r,String(l),h)),(Xl(t,e+1,h,!0,!0,!1,!0)||typeof h>"u"&&Xl(t,e+1,null,!0,!0,!1,!0))&&((!n||s!=="")&&(s+=B_(t,e)),t.dump&&tx===t.dump.charCodeAt(0)?s+="-":s+="- ",s+=t.dump);t.tag=a,t.dump=s||"[]"}Z(XE,"writeBlockSequence");function SJ(t,e,r){var n="",s=t.tag,a=Object.keys(r),l,c,h,f,p;for(l=0,c=a.length;l<c;l+=1)p="",n!==""&&(p+=", "),t.condenseFlow&&(p+='"'),h=a[l],f=r[h],t.replacer&&(f=t.replacer.call(r,h,f)),Xl(t,e,h,!1,!1)&&(t.dump.length>1024&&(p+="? "),p+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Xl(t,e,f,!1,!1)&&(p+=t.dump,n+=p));t.tag=s,t.dump="{"+n+"}"}Z(SJ,"writeFlowMapping");function TJ(t,e,r,n){var s="",a=t.tag,l=Object.keys(r),c,h,f,p,O,x;if(t.sortKeys===!0)l.sort();else if(typeof t.sortKeys=="function")l.sort(t.sortKeys);else if(t.sortKeys)throw new ua("sortKeys must be a boolean or a function");for(c=0,h=l.length;c<h;c+=1)x="",(!n||s!=="")&&(x+=B_(t,e)),f=l[c],p=r[f],t.replacer&&(p=t.replacer.call(r,f,p)),Xl(t,e+1,f,!0,!0,!0)&&(O=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,O&&(t.dump&&tx===t.dump.charCodeAt(0)?x+="?":x+="? "),x+=t.dump,O&&(x+=B_(t,e)),Xl(t,e+1,p,!0,O)&&(t.dump&&tx===t.dump.charCodeAt(0)?x+=":":x+=": ",x+=t.dump,s+=x));t.tag=a,t.dump=s||"{}"}Z(TJ,"writeBlockMapping");function VE(t,e,r){var n,s,a,l,c,h;for(s=r?t.explicitTypes:t.implicitTypes,a=0,l=s.length;a<l;a+=1)if(c=s[a],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof e=="object"&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(r?c.multi&&c.representName?t.tag=c.representName(e):t.tag=c.tag:t.tag="?",c.represent){if(h=t.styleMap[c.tag]||c.defaultStyle,aJ.call(c.represent)==="[object Function]")n=c.represent(e,h);else if(oJ.call(c.represent,h))n=c.represent[h](e,h);else throw new ua("!<"+c.tag+'> tag resolver accepts not "'+h+'" style');t.dump=n}return!0}return!1}Z(VE,"detectType");function Xl(t,e,r,n,s,a,l){t.tag=null,t.dump=r,VE(t,r,!1)||VE(t,r,!0);var c=aJ.call(t.dump),h=n,f;n&&(n=t.flowLevel<0||t.flowLevel>e);var p=c==="[object Object]"||c==="[object Array]",O,x;if(p&&(O=t.duplicates.indexOf(r),x=O!==-1),(t.tag!==null&&t.tag!=="?"||x||t.indent!==2&&e>0)&&(s=!1),x&&t.usedDuplicates[O])t.dump="*ref_"+O;else{if(p&&x&&!t.usedDuplicates[O]&&(t.usedDuplicates[O]=!0),c==="[object Object]")n&&Object.keys(t.dump).length!==0?(TJ(t,e,t.dump,s),x&&(t.dump="&ref_"+O+t.dump)):(SJ(t,e,t.dump),x&&(t.dump="&ref_"+O+" "+t.dump));else if(c==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!l&&e>0?XE(t,e-1,t.dump,s):XE(t,e,t.dump,s),x&&(t.dump="&ref_"+O+t.dump)):(AJ(t,e,t.dump),x&&(t.dump="&ref_"+O+" "+t.dump));else if(c==="[object String]")t.tag!=="?"&&vJ(t,t.dump,e,a,h);else{if(c==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ua("unacceptable kind of an object to dump "+c)}t.tag!==null&&t.tag!=="?"&&(f=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",t.dump=f+" "+t.dump)}return!0}Z(Xl,"writeNode");function EJ(t,e){var r=[],n=[],s,a;for(I_(t,r,n),s=0,a=n.length;s<a;s+=1)e.duplicates.push(r[n[s]]);e.usedDuplicates=new Array(a)}Z(EJ,"getDuplicateReferences");function I_(t,e,r){var n,s,a;if(t!==null&&typeof t=="object")if(s=e.indexOf(t),s!==-1)r.indexOf(s)===-1&&r.push(s);else if(e.push(t),Array.isArray(t))for(s=0,a=t.length;s<a;s+=1)I_(t[s],e,r);else for(n=Object.keys(t),s=0,a=n.length;s<a;s+=1)I_(t[n[s]],e,r)}Z(I_,"inspectNode");function p$e(t,e){e=e||{};var r=new pJ(e);r.noRefs||EJ(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Xl(r,0,n,!0,!0)?r.dump+`
`:""}Z(p$e,"dump$1");function m$e(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}Z(m$e,"renamed");var O$e=kK,x$e=ZQe.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var hs={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},zF={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function z1(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Tn(t),e=Tn(e);const[r,n]=[t.x,t.y],[s,a]=[e.x,e.y],l=s-r,c=a-n;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}Z(z1,"calculateDeltaAndAngle");var Tn=Z(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),b$e=Z(t=>({x:Z(function(e,r,n){let s=0;const a=Tn(n[0]).x<Tn(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(hs,t.arrowTypeStart)){const{angle:k,deltaX:w}=z1(n[0],n[1]);s=hs[t.arrowTypeStart]*Math.cos(k)*(w>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(hs,t.arrowTypeEnd)){const{angle:k,deltaX:w}=z1(n[n.length-1],n[n.length-2]);s=hs[t.arrowTypeEnd]*Math.cos(k)*(w>=0?1:-1)}const l=Math.abs(Tn(e).x-Tn(n[n.length-1]).x),c=Math.abs(Tn(e).y-Tn(n[n.length-1]).y),h=Math.abs(Tn(e).x-Tn(n[0]).x),f=Math.abs(Tn(e).y-Tn(n[0]).y),p=hs[t.arrowTypeStart],O=hs[t.arrowTypeEnd],x=1;if(l<O&&l>0&&c<O){let k=O+x-l;k*=a==="right"?-1:1,s-=k}if(h<p&&h>0&&f<p){let k=p+x-h;k*=a==="right"?-1:1,s+=k}return Tn(e).x+s},"x"),y:Z(function(e,r,n){let s=0;const a=Tn(n[0]).y<Tn(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(hs,t.arrowTypeStart)){const{angle:k,deltaY:w}=z1(n[0],n[1]);s=hs[t.arrowTypeStart]*Math.abs(Math.sin(k))*(w>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(hs,t.arrowTypeEnd)){const{angle:k,deltaY:w}=z1(n[n.length-1],n[n.length-2]);s=hs[t.arrowTypeEnd]*Math.abs(Math.sin(k))*(w>=0?1:-1)}const l=Math.abs(Tn(e).y-Tn(n[n.length-1]).y),c=Math.abs(Tn(e).x-Tn(n[n.length-1]).x),h=Math.abs(Tn(e).y-Tn(n[0]).y),f=Math.abs(Tn(e).x-Tn(n[0]).x),p=hs[t.arrowTypeStart],O=hs[t.arrowTypeEnd],x=1;if(l<O&&l>0&&c<O){let k=O+x-l;k*=a==="up"?-1:1,s-=k}if(h<p&&h>0&&f<p){let k=p+x-h;k*=a==="up"?-1:1,s+=k}return Tn(e).y+s},"y")}),"getLineFunctionsWithOffset"),A7=Z(({flowchart:t})=>{var s,a;const e=((s=t==null?void 0:t.subGraphTitleMargin)==null?void 0:s.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,n=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins"),k$e=Z(t=>{const{handDrawnSeed:e}=Zr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),bg=Z(t=>{const e=y$e([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),y$e=Z(t=>{const e=new Map;return t.forEach(r=>{const[n,s]=r.split(":");e.set(n.trim(),s==null?void 0:s.trim())}),e},"styles2Map"),PJ=Z(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),jt=Z(t=>{const{stylesArray:e}=bg(t),r=[],n=[],s=[],a=[];return e.forEach(l=>{const c=l[0];PJ(c)?r.push(l.join(":")+" !important"):(n.push(l.join(":")+" !important"),c.includes("stroke")&&s.push(l.join(":")+" !important"),c==="fill"&&a.push(l.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:e,borderStyles:s,backgroundStyles:a}},"styles2String"),It=Z((t,e)=>{var h;const{themeVariables:r,handDrawnSeed:n}=Zr(),{nodeBorder:s,mainBkg:a}=r,{stylesMap:l}=bg(t);return Object.assign({roughness:.7,fill:l.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||s,seed:n,strokeWidth:((h=l.get("stroke-width"))==null?void 0:h.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:w$e(l.get("stroke-dasharray"))},e)},"userNodeOverrides"),w$e=Z(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const s=isNaN(e[0])?0:e[0];return[s,s]}const r=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1];return[r,n]},"getStrokeDashArray"),C1={},mi={},XF;function v$e(){return XF||(XF=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.BLANK_URL=mi.relativeFirstCharacters=mi.whitespaceEscapeCharsRegex=mi.urlSchemeRegex=mi.ctrlCharactersRegex=mi.htmlCtrlEntityRegex=mi.htmlEntitiesRegex=mi.invalidProtocolRegex=void 0,mi.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,mi.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,mi.htmlCtrlEntityRegex=/&(newline|tab);/gi,mi.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,mi.urlSchemeRegex=/^.+(:|&colon;)/gim,mi.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,mi.relativeFirstCharacters=[".","/"],mi.BLANK_URL="about:blank"),mi}var VF;function _$e(){if(VF)return C1;VF=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.sanitizeUrl=void 0;var t=v$e();function e(l){return t.relativeFirstCharacters.indexOf(l[0])>-1}function r(l){var c=l.replace(t.ctrlCharactersRegex,"");return c.replace(t.htmlEntitiesRegex,function(h,f){return String.fromCharCode(f)})}function n(l){return URL.canParse(l)}function s(l){try{return decodeURIComponent(l)}catch{return l}}function a(l){if(!l)return t.BLANK_URL;var c,h=s(l.trim());do h=r(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=s(h),c=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(c&&c.length>0);var f=h;if(!f)return t.BLANK_URL;if(e(f))return f;var p=f.trimStart(),O=p.match(t.urlSchemeRegex);if(!O)return f;var x=O[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(x))return t.BLANK_URL;var k=p.replace(/\\/g,"/");if(x==="mailto:"||x.includes("://"))return k;if(x==="http:"||x==="https:"){if(!n(k))return t.BLANK_URL;var w=new URL(k);return w.protocol=w.protocol.toLowerCase(),w.hostname=w.hostname.toLowerCase(),w.toString()}return k}return C1.sanitizeUrl=a,C1}var C$e=_$e(),DJ=typeof global=="object"&&global&&global.Object===Object&&global,A$e=typeof self=="object"&&self&&self.Object===Object&&self,Gl=DJ||A$e||Function("return this")(),j_=Gl.Symbol,QJ=Object.prototype,S$e=QJ.hasOwnProperty,T$e=QJ.toString,A1=j_?j_.toStringTag:void 0;function E$e(t){var e=S$e.call(t,A1),r=t[A1];try{t[A1]=void 0;var n=!0}catch{}var s=T$e.call(t);return n&&(e?t[A1]=r:delete t[A1]),s}var P$e=Object.prototype,D$e=P$e.toString;function Q$e(t){return D$e.call(t)}var $$e="[object Null]",M$e="[object Undefined]",UF=j_?j_.toStringTag:void 0;function kg(t){return t==null?t===void 0?M$e:$$e:UF&&UF in Object(t)?E$e(t):Q$e(t)}function Vu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var R$e="[object AsyncFunction]",N$e="[object Function]",B$e="[object GeneratorFunction]",I$e="[object Proxy]";function S7(t){if(!Vu(t))return!1;var e=kg(t);return e==N$e||e==B$e||e==R$e||e==I$e}var t3=Gl["__core-js_shared__"],qF=(function(){var t=/[^.]+$/.exec(t3&&t3.keys&&t3.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function j$e(t){return!!qF&&qF in t}var F$e=Function.prototype,L$e=F$e.toString;function Uu(t){if(t!=null){try{return L$e.call(t)}catch{}try{return t+""}catch{}}return""}var z$e=/[\\^$.*+?()[\]{}|]/g,X$e=/^\[object .+?Constructor\]$/,V$e=Function.prototype,U$e=Object.prototype,q$e=V$e.toString,W$e=U$e.hasOwnProperty,Y$e=RegExp("^"+q$e.call(W$e).replace(z$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z$e(t){if(!Vu(t)||j$e(t))return!1;var e=S7(t)?Y$e:X$e;return e.test(Uu(t))}function G$e(t,e){return t==null?void 0:t[e]}function qu(t,e){var r=G$e(t,e);return Z$e(r)?r:void 0}var ix=qu(Object,"create");function H$e(){this.__data__=ix?ix(null):{},this.size=0}function K$e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var J$e="__lodash_hash_undefined__",eMe=Object.prototype,tMe=eMe.hasOwnProperty;function rMe(t){var e=this.__data__;if(ix){var r=e[t];return r===J$e?void 0:r}return tMe.call(e,t)?e[t]:void 0}var nMe=Object.prototype,iMe=nMe.hasOwnProperty;function sMe(t){var e=this.__data__;return ix?e[t]!==void 0:iMe.call(e,t)}var aMe="__lodash_hash_undefined__";function oMe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ix&&e===void 0?aMe:e,this}function Nu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nu.prototype.clear=H$e;Nu.prototype.delete=K$e;Nu.prototype.get=rMe;Nu.prototype.has=sMe;Nu.prototype.set=oMe;function lMe(){this.__data__=[],this.size=0}function JC(t,e){return t===e||t!==t&&e!==e}function eA(t,e){for(var r=t.length;r--;)if(JC(t[r][0],e))return r;return-1}var cMe=Array.prototype,dMe=cMe.splice;function hMe(t){var e=this.__data__,r=eA(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():dMe.call(e,r,1),--this.size,!0}function uMe(t){var e=this.__data__,r=eA(e,t);return r<0?void 0:e[r][1]}function fMe(t){return eA(this.__data__,t)>-1}function gMe(t,e){var r=this.__data__,n=eA(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function ld(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ld.prototype.clear=lMe;ld.prototype.delete=hMe;ld.prototype.get=uMe;ld.prototype.has=fMe;ld.prototype.set=gMe;var sx=qu(Gl,"Map");function pMe(){this.size=0,this.__data__={hash:new Nu,map:new(sx||ld),string:new Nu}}function mMe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tA(t,e){var r=t.__data__;return mMe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function OMe(t){var e=tA(this,t).delete(t);return this.size-=e?1:0,e}function xMe(t){return tA(this,t).get(t)}function bMe(t){return tA(this,t).has(t)}function kMe(t,e){var r=tA(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Th(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Th.prototype.clear=pMe;Th.prototype.delete=OMe;Th.prototype.get=xMe;Th.prototype.has=bMe;Th.prototype.set=kMe;var yMe="Expected a function";function Vx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(yMe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var l=t.apply(this,n);return r.cache=a.set(s,l)||a,l};return r.cache=new(Vx.Cache||Th),r}Vx.Cache=Th;function wMe(){this.__data__=new ld,this.size=0}function vMe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function _Me(t){return this.__data__.get(t)}function CMe(t){return this.__data__.has(t)}var AMe=200;function SMe(t,e){var r=this.__data__;if(r instanceof ld){var n=r.__data__;if(!sx||n.length<AMe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Th(n)}return r.set(t,e),this.size=r.size,this}function yg(t){var e=this.__data__=new ld(t);this.size=e.size}yg.prototype.clear=wMe;yg.prototype.delete=vMe;yg.prototype.get=_Me;yg.prototype.has=CMe;yg.prototype.set=SMe;var F_=(function(){try{var t=qu(Object,"defineProperty");return t({},"",{}),t}catch{}})();function T7(t,e,r){e=="__proto__"&&F_?F_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function UE(t,e,r){(r!==void 0&&!JC(t[e],r)||r===void 0&&!(e in t))&&T7(t,e,r)}function TMe(t){return function(e,r,n){for(var s=-1,a=Object(e),l=n(e),c=l.length;c--;){var h=l[++s];if(r(a[h],h,a)===!1)break}return e}}var EMe=TMe(),$J=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WF=$J&&typeof module=="object"&&module&&!module.nodeType&&module,PMe=WF&&WF.exports===$J,YF=PMe?Gl.Buffer:void 0,ZF=YF?YF.allocUnsafe:void 0;function DMe(t,e){if(e)return t.slice();var r=t.length,n=ZF?ZF(r):new t.constructor(r);return t.copy(n),n}var GF=Gl.Uint8Array;function QMe(t){var e=new t.constructor(t.byteLength);return new GF(e).set(new GF(t)),e}function $Me(t,e){var r=e?QMe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function MMe(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var HF=Object.create,RMe=(function(){function t(){}return function(e){if(!Vu(e))return{};if(HF)return HF(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})();function MJ(t,e){return function(r){return t(e(r))}}var RJ=MJ(Object.getPrototypeOf,Object),NMe=Object.prototype;function rA(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||NMe;return t===r}function BMe(t){return typeof t.constructor=="function"&&!rA(t)?RMe(RJ(t)):{}}function Ux(t){return t!=null&&typeof t=="object"}var IMe="[object Arguments]";function KF(t){return Ux(t)&&kg(t)==IMe}var NJ=Object.prototype,jMe=NJ.hasOwnProperty,FMe=NJ.propertyIsEnumerable,L_=KF((function(){return arguments})())?KF:function(t){return Ux(t)&&jMe.call(t,"callee")&&!FMe.call(t,"callee")},z_=Array.isArray,LMe=9007199254740991;function BJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=LMe}function nA(t){return t!=null&&BJ(t.length)&&!S7(t)}function zMe(t){return Ux(t)&&nA(t)}function XMe(){return!1}var IJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,JF=IJ&&typeof module=="object"&&module&&!module.nodeType&&module,VMe=JF&&JF.exports===IJ,eL=VMe?Gl.Buffer:void 0,UMe=eL?eL.isBuffer:void 0,E7=UMe||XMe,qMe="[object Object]",WMe=Function.prototype,YMe=Object.prototype,jJ=WMe.toString,ZMe=YMe.hasOwnProperty,GMe=jJ.call(Object);function HMe(t){if(!Ux(t)||kg(t)!=qMe)return!1;var e=RJ(t);if(e===null)return!0;var r=ZMe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jJ.call(r)==GMe}var KMe="[object Arguments]",JMe="[object Array]",e9e="[object Boolean]",t9e="[object Date]",r9e="[object Error]",n9e="[object Function]",i9e="[object Map]",s9e="[object Number]",a9e="[object Object]",o9e="[object RegExp]",l9e="[object Set]",c9e="[object String]",d9e="[object WeakMap]",h9e="[object ArrayBuffer]",u9e="[object DataView]",f9e="[object Float32Array]",g9e="[object Float64Array]",p9e="[object Int8Array]",m9e="[object Int16Array]",O9e="[object Int32Array]",x9e="[object Uint8Array]",b9e="[object Uint8ClampedArray]",k9e="[object Uint16Array]",y9e="[object Uint32Array]",yn={};yn[f9e]=yn[g9e]=yn[p9e]=yn[m9e]=yn[O9e]=yn[x9e]=yn[b9e]=yn[k9e]=yn[y9e]=!0;yn[KMe]=yn[JMe]=yn[h9e]=yn[e9e]=yn[u9e]=yn[t9e]=yn[r9e]=yn[n9e]=yn[i9e]=yn[s9e]=yn[a9e]=yn[o9e]=yn[l9e]=yn[c9e]=yn[d9e]=!1;function w9e(t){return Ux(t)&&BJ(t.length)&&!!yn[kg(t)]}function v9e(t){return function(e){return t(e)}}var FJ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gO=FJ&&typeof module=="object"&&module&&!module.nodeType&&module,_9e=gO&&gO.exports===FJ,r3=_9e&&DJ.process,tL=(function(){try{var t=gO&&gO.require&&gO.require("util").types;return t||r3&&r3.binding&&r3.binding("util")}catch{}})(),rL=tL&&tL.isTypedArray,P7=rL?v9e(rL):w9e;function qE(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var C9e=Object.prototype,A9e=C9e.hasOwnProperty;function S9e(t,e,r){var n=t[e];(!(A9e.call(t,e)&&JC(n,r))||r===void 0&&!(e in t))&&T7(t,e,r)}function T9e(t,e,r,n){var s=!r;r||(r={});for(var a=-1,l=e.length;++a<l;){var c=e[a],h=void 0;h===void 0&&(h=t[c]),s?T7(r,c,h):S9e(r,c,h)}return r}function E9e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var P9e=9007199254740991,D9e=/^(?:0|[1-9]\d*)$/;function LJ(t,e){var r=typeof t;return e=e??P9e,!!e&&(r=="number"||r!="symbol"&&D9e.test(t))&&t>-1&&t%1==0&&t<e}var Q9e=Object.prototype,$9e=Q9e.hasOwnProperty;function M9e(t,e){var r=z_(t),n=!r&&L_(t),s=!r&&!n&&E7(t),a=!r&&!n&&!s&&P7(t),l=r||n||s||a,c=l?E9e(t.length,String):[],h=c.length;for(var f in t)(e||$9e.call(t,f))&&!(l&&(f=="length"||s&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||LJ(f,h)))&&c.push(f);return c}function R9e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var N9e=Object.prototype,B9e=N9e.hasOwnProperty;function I9e(t){if(!Vu(t))return R9e(t);var e=rA(t),r=[];for(var n in t)n=="constructor"&&(e||!B9e.call(t,n))||r.push(n);return r}function zJ(t){return nA(t)?M9e(t,!0):I9e(t)}function j9e(t){return T9e(t,zJ(t))}function F9e(t,e,r,n,s,a,l){var c=qE(t,r),h=qE(e,r),f=l.get(h);if(f){UE(t,r,f);return}var p=a?a(c,h,r+"",t,e,l):void 0,O=p===void 0;if(O){var x=z_(h),k=!x&&E7(h),w=!x&&!k&&P7(h);p=h,x||k||w?z_(c)?p=c:zMe(c)?p=MMe(c):k?(O=!1,p=DMe(h,!0)):w?(O=!1,p=$Me(h,!0)):p=[]:HMe(h)||L_(h)?(p=c,L_(c)?p=j9e(c):(!Vu(c)||S7(c))&&(p=BMe(h))):O=!1}O&&(l.set(h,p),s(p,h,n,a,l),l.delete(h)),UE(t,r,p)}function XJ(t,e,r,n,s){t!==e&&EMe(e,function(a,l){if(s||(s=new yg),Vu(a))F9e(t,e,l,r,XJ,n,s);else{var c=n?n(qE(t,l),a,l+"",t,e,s):void 0;c===void 0&&(c=a),UE(t,l,c)}},zJ)}function VJ(t){return t}function L9e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var nL=Math.max;function z9e(t,e,r){return e=nL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,a=nL(n.length-e,0),l=Array(a);++s<a;)l[s]=n[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=n[s];return c[e]=r(l),L9e(t,this,c)}}function X9e(t){return function(){return t}}var V9e=F_?function(t,e){return F_(t,"toString",{configurable:!0,enumerable:!1,value:X9e(e),writable:!0})}:VJ,U9e=800,q9e=16,W9e=Date.now;function Y9e(t){var e=0,r=0;return function(){var n=W9e(),s=q9e-(n-r);if(r=n,s>0){if(++e>=U9e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Z9e=Y9e(V9e);function G9e(t,e){return Z9e(z9e(t,e,VJ),t+"")}function H9e(t,e,r){if(!Vu(r))return!1;var n=typeof e;return(n=="number"?nA(r)&&LJ(e,r.length):n=="string"&&e in r)?JC(r[e],t):!1}function K9e(t){return G9e(function(e,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,l=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,l&&H9e(r[0],r[1],l)&&(a=s<3?void 0:a,s=1),e=Object(e);++n<s;){var c=r[n];c&&t(e,c,n,a)}return e})}var J9e=K9e(function(t,e,r){XJ(t,e,r)}),eRe="",tRe={curveBasis:vv,curveBasisClosed:Ape,curveBasisOpen:Cpe,curveBumpX:QV,curveBumpY:DV,curveBundle:_pe,curveCardinalClosed:vpe,curveCardinalOpen:wpe,curveCardinal:PV,curveCatmullRomClosed:ype,curveCatmullRomOpen:kpe,curveCatmullRom:EV,curveLinear:F3,curveLinearClosed:bpe,curveMonotoneX:TV,curveMonotoneY:SV,curveNatural:AV,curveStep:CV,curveStepAfter:_V,curveStepBefore:vV},rRe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nRe=Z(function(t,e){const r=UJ(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const l=r.map(c=>c.args);v_(l),n=ki(n,[...l])}else n=r.args;if(!n)return;let s=n7(t,e);const a="config";return n[a]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),n[s]=n[a],delete n[a]),n},"detectInit"),UJ=Z(function(t,e=null){var r,n;try{const s=new RegExp(`[%]{2}(?![{]${rRe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(s,"").replace(/'/gm,'"'),rt.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a;const l=[];for(;(a=uO.exec(t))!==null;)if(a.index===uO.lastIndex&&uO.lastIndex++,a&&!e||e&&((r=a[1])!=null&&r.match(e))||e&&((n=a[2])!=null&&n.match(e))){const c=a[1]?a[1]:a[2],h=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;l.push({type:c,args:h})}return l.length===0?{type:t,args:null}:l.length===1?l[0]:l}catch(s){return rt.error(`ERROR: ${s.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),iRe=Z(function(t){return t.replace(uO,"")},"removeDirectives"),sRe=Z(function(t,e){for(const[r,n]of e.entries())if(n.match(t))return r;return-1},"isSubstringInArray");function D7(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return tRe[r]??e}Z(D7,"interpolateToCurve");function qJ(t,e){const r=t.trim();if(r)return e.securityLevel!=="loose"?C$e.sanitizeUrl(r):r}Z(qJ,"formatUrl");var aRe=Z((t,...e)=>{const r=t.split("."),n=r.length-1,s=r[n];let a=window;for(let l=0;l<n;l++)if(a=a[r[l]],!a){rt.error(`Function name: ${t} not found in window`);return}a[s](...e)},"runFunc");function Q7(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}Z(Q7,"distance");function WJ(t){let e,r=0;t.forEach(s=>{r+=Q7(s,e),e=s});const n=r/2;return $7(t,n)}Z(WJ,"traverseEdge");function YJ(t){return t.length===1?t[0]:WJ(t)}Z(YJ,"calcLabelPosition");var iL=Z((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),$7=Z((t,e)=>{let r,n=e;for(const s of t){if(r){const a=Q7(s,r);if(a===0)return r;if(a<n)n-=a;else{const l=n/a;if(l<=0)return r;if(l>=1)return{x:s.x,y:s.y};if(l>0&&l<1)return{x:iL((1-l)*r.x+l*s.x,5),y:iL((1-l)*r.y+l*s.y,5)}}}r=s}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),oRe=Z((t,e,r)=>{rt.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const s=$7(e,25),a=t?10:5,l=Math.atan2(e[0].y-s.y,e[0].x-s.x),c={x:0,y:0};return c.x=Math.sin(l)*a+(e[0].x+s.x)/2,c.y=-Math.cos(l)*a+(e[0].y+s.y)/2,c},"calcCardinalityPosition");function ZJ(t,e,r){const n=structuredClone(r);rt.info("our points",n),e!=="start_left"&&e!=="start_right"&&n.reverse();const s=25+t,a=$7(n,s),l=10+t*.5,c=Math.atan2(n[0].y-a.y,n[0].x-a.x),h={x:0,y:0};return e==="start_left"?(h.x=Math.sin(c+Math.PI)*l+(n[0].x+a.x)/2,h.y=-Math.cos(c+Math.PI)*l+(n[0].y+a.y)/2):e==="end_right"?(h.x=Math.sin(c-Math.PI)*l+(n[0].x+a.x)/2-5,h.y=-Math.cos(c-Math.PI)*l+(n[0].y+a.y)/2-5):e==="end_left"?(h.x=Math.sin(c)*l+(n[0].x+a.x)/2-5,h.y=-Math.cos(c)*l+(n[0].y+a.y)/2-5):(h.x=Math.sin(c)*l+(n[0].x+a.x)/2,h.y=-Math.cos(c)*l+(n[0].y+a.y)/2),h}Z(ZJ,"calcTerminalLabelPosition");function GJ(t){let e="",r="";for(const n of t)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":e=e+n+";");return{style:e,labelStyle:r}}Z(GJ,"getStylesFromArray");var sL=0,lRe=Z(()=>(sL++,"id-"+Math.random().toString(36).substr(2,12)+"-"+sL),"generateId");function HJ(t){let e="";const r="0123456789abcdef",n=r.length;for(let s=0;s<t;s++)e+=r.charAt(Math.floor(Math.random()*n));return e}Z(HJ,"makeRandomHex");var cRe=Z(t=>HJ(t.length),"random"),dRe=Z(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),hRe=Z(function(t,e){const r=e.text.replace(xg.lineBreakRegex," "),[,n]=iA(e.fontSize),s=t.append("text");s.attr("x",e.x),s.attr("y",e.y),s.style("text-anchor",e.anchor),s.style("font-family",e.fontFamily),s.style("font-size",n),s.style("font-weight",e.fontWeight),s.attr("fill",e.fill),e.class!==void 0&&s.attr("class",e.class);const a=s.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),s},"drawSimpleText"),uRe=Vx((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),xg.lineBreakRegex.test(t)))return t;const n=t.split(" ").filter(Boolean),s=[];let a="";return n.forEach((l,c)=>{const h=Jc(`${l} `,r),f=Jc(a,r);if(h>e){const{hyphenatedStrings:x,remainingWord:k}=fRe(l,e,"-",r);s.push(a,...x),a=k}else f+h>=e?(s.push(a),a=l):a=[a,l].filter(Boolean).join(" ");c+1===n.length&&s.push(a)}),s.filter(l=>l!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),fRe=Vx((t,e,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const s=[...t],a=[];let l="";return s.forEach((c,h)=>{const f=`${l}${c}`;if(Jc(f,n)>=e){const O=h+1,x=s.length===O,k=`${f}${r}`;a.push(x?f:k),l=""}else l=f}),{hyphenatedStrings:a,remainingWord:l}},(t,e,r="-",n)=>`${t}${e}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`);function KJ(t,e){return M7(t,e).height}Z(KJ,"calculateTextHeight");function Jc(t,e){return M7(t,e).width}Z(Jc,"calculateTextWidth");var M7=Vx((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:s=400}=e;if(!t)return{width:0,height:0};const[,a]=iA(r),l=["sans-serif",n],c=t.split(xg.lineBreakRegex),h=[],f=hr("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const p=f.append("svg");for(const x of l){let k=0;const w={width:0,height:0,lineHeight:0};for(const _ of c){const C=dRe();C.text=_||eRe;const T=hRe(p,C).style("font-size",a).style("font-weight",s).style("font-family",x),E=(T._groups||T)[0][0].getBBox();if(E.width===0&&E.height===0)throw new Error("svg element not in render tree");w.width=Math.round(Math.max(w.width,E.width)),k=Math.round(E.height),w.height+=k,w.lineHeight=Math.round(Math.max(w.lineHeight,k))}h.push(w)}p.remove();const O=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[O]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),$f,gRe=($f=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},Z($f,"InitIDGenerator"),$f),Yw,pRe=Z(function(t){return Yw=Yw||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Yw.innerHTML=t,unescape(Yw.textContent)},"entityDecode");function R7(t){return"str"in t}Z(R7,"isDetailedError");var mRe=Z((t,e,r,n)=>{var a;if(!n)return;const s=(a=t.node())==null?void 0:a.getBBox();s&&t.append("text").text(n).attr("text-anchor","middle").attr("x",s.x+s.width/2).attr("y",-r).attr("class",e)},"insertTitle"),iA=Z(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function N7(t,e){return J9e({},t,e)}Z(N7,"cleanAndMerge");var Uo={assignWithDepth:ki,wrapLabel:uRe,calculateTextHeight:KJ,calculateTextWidth:Jc,calculateTextDimensions:M7,cleanAndMerge:N7,detectInit:nRe,detectDirective:UJ,isSubstringInArray:sRe,interpolateToCurve:D7,calcLabelPosition:YJ,calcCardinalityPosition:oRe,calcTerminalLabelPosition:ZJ,formatUrl:qJ,getStylesFromArray:GJ,generateId:lRe,random:cRe,runFunc:aRe,entityDecode:pRe,insertTitle:mRe,isLabelCoordinateInPath:JJ,parseFontSize:iA,InitIDGenerator:gRe},ORe=Z(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){const n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?""+n+"":""+n+""}),e},"encodeEntities"),Wu=Z(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),Cet=Z((t,e,{counter:r=0,prefix:n,suffix:s},a)=>a||`${n?`${n}_`:""}${t}_${e}_${r}${s?`_${s}`:""}`,"getEdgeId");function ws(t){return t??null}Z(ws,"handleUndefinedAttr");function JJ(t,e){const r=Math.round(t.x),n=Math.round(t.y),s=e.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return s.includes(r.toString())||s.includes(n.toString())}Z(JJ,"isLabelCoordinateInPath");const xRe=Object.freeze({left:0,top:0,width:16,height:16}),X_=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),eee=Object.freeze({...xRe,...X_}),bRe=Object.freeze({...eee,body:"",hidden:!1}),kRe=Object.freeze({width:null,height:null}),yRe=Object.freeze({...kRe,...X_}),wRe=(t,e,r,n="")=>{const s=t.split(":");if(t.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const c=s.pop(),h=s.pop(),f={provider:s.length>0?s[0]:n,prefix:h,name:c};return n3(f)?f:null}const a=s[0],l=a.split("-");if(l.length>1){const c={provider:n,prefix:l.shift(),name:l.join("-")};return n3(c)?c:null}if(r&&n===""){const c={provider:n,prefix:"",name:a};return n3(c,r)?c:null}return null},n3=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function vRe(t,e){const r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);const n=((t.rotate||0)+(e.rotate||0))%4;return n&&(r.rotate=n),r}function aL(t,e){const r=vRe(t,e);for(const n in bRe)n in X_?n in t&&!(n in r)&&(r[n]=X_[n]):n in e?r[n]=e[n]:n in t&&(r[n]=t[n]);return r}function _Re(t,e){const r=t.icons,n=t.aliases||Object.create(null),s=Object.create(null);function a(l){if(r[l])return s[l]=[];if(!(l in s)){s[l]=null;const c=n[l]&&n[l].parent,h=c&&a(c);h&&(s[l]=[c].concat(h))}return s[l]}return(e||Object.keys(r).concat(Object.keys(n))).forEach(a),s}function oL(t,e,r){const n=t.icons,s=t.aliases||Object.create(null);let a={};function l(c){a=aL(n[c]||s[c],a)}return l(e),r.forEach(l),aL(t,a)}function CRe(t,e){if(t.icons[e])return oL(t,e,[]);const r=_Re(t,[e])[e];return r?oL(t,e,r):null}const ARe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,SRe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function lL(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;const n=t.split(ARe);if(n===null||!n.length)return t;const s=[];let a=n.shift(),l=SRe.test(a);for(;;){if(l){const c=parseFloat(a);isNaN(c)?s.push(a):s.push(Math.ceil(c*e*r)/r)}else s.push(a);if(a=n.shift(),a===void 0)return s.join("");l=!l}}function TRe(t,e="defs"){let r="";const n=t.indexOf("<"+e);for(;n>=0;){const s=t.indexOf(">",n),a=t.indexOf("</"+e);if(s===-1||a===-1)break;const l=t.indexOf(">",a);if(l===-1)break;r+=t.slice(s+1,a).trim(),t=t.slice(0,n).trim()+t.slice(l+1)}return{defs:r,content:t}}function ERe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function PRe(t,e,r){const n=TRe(t);return ERe(n.defs,e+n.content+r)}const DRe=t=>t==="unset"||t==="undefined"||t==="none";function QRe(t,e){const r={...eee,...t},n={...yRe,...e},s={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach(_=>{const C=[],T=_.hFlip,E=_.vFlip;let P=_.rotate;T?E?P+=2:(C.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),C.push("scale(-1 1)"),s.top=s.left=0):E&&(C.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),C.push("scale(1 -1)"),s.top=s.left=0);let Q;switch(P<0&&(P-=Math.floor(P/4)*4),P=P%4,P){case 1:Q=s.height/2+s.top,C.unshift("rotate(90 "+Q.toString()+" "+Q.toString()+")");break;case 2:C.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:Q=s.width/2+s.left,C.unshift("rotate(-90 "+Q.toString()+" "+Q.toString()+")");break}P%2===1&&(s.left!==s.top&&(Q=s.left,s.left=s.top,s.top=Q),s.width!==s.height&&(Q=s.width,s.width=s.height,s.height=Q)),C.length&&(a=PRe(a,'<g transform="'+C.join(" ")+'">',"</g>"))});const l=n.width,c=n.height,h=s.width,f=s.height;let p,O;l===null?(O=c===null?"1em":c==="auto"?f:c,p=lL(O,h/f)):(p=l==="auto"?h:l,O=c===null?lL(p,f/h):c==="auto"?f:c);const x={},k=(_,C)=>{DRe(C)||(x[_]=C.toString())};k("width",p),k("height",O);const w=[s.left,s.top,h,f];return x.viewBox=w.join(" "),{attributes:x,viewBox:w,body:a}}const $Re=/\sid="(\S+)"/g,MRe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let RRe=0;function NRe(t,e=MRe){const r=[];let n;for(;n=$Re.exec(t);)r.push(n[1]);if(!r.length)return t;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{const l=typeof e=="function"?e(a):e+(RRe++).toString(),c=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+l+s+"$3")}),t=t.replace(new RegExp(s,"g"),""),t}function BRe(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)r+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function B7(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yu=B7();function tee(t){Yu=t}var pO={exec:()=>null};function Ur(t,e=""){let r=typeof t=="string"?t:t.source,n={replace:(s,a)=>{let l=typeof a=="string"?a:a.source;return l=l.replace(Ls.caret,"$1"),r=r.replace(s,l),n},getRegex:()=>new RegExp(r,e)};return n}var Ls={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},IRe=/^(?:[ \t]*(?:\n|$))+/,jRe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,FRe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qx=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,LRe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,I7=/(?:[*+-]|\d{1,9}[.)])/,ree=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,nee=Ur(ree).replace(/bull/g,I7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),zRe=Ur(ree).replace(/bull/g,I7).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j7=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,XRe=/^[^\n]+/,F7=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,VRe=Ur(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F7).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),URe=Ur(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,I7).getRegex(),sA="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",L7=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,qRe=Ur("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",L7).replace("tag",sA).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),iee=Ur(j7).replace("hr",qx).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sA).getRegex(),WRe=Ur(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",iee).getRegex(),z7={blockquote:WRe,code:jRe,def:VRe,fences:FRe,heading:LRe,hr:qx,html:qRe,lheading:nee,list:URe,newline:IRe,paragraph:iee,table:pO,text:XRe},cL=Ur("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qx).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sA).getRegex(),YRe={...z7,lheading:zRe,table:cL,paragraph:Ur(j7).replace("hr",qx).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",cL).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sA).getRegex()},ZRe={...z7,html:Ur(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",L7).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pO,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ur(j7).replace("hr",qx).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nee).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},GRe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,HRe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,see=/^( {2,}|\\)\n(?!\s*$)/,KRe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,aA=/[\p{P}\p{S}]/u,X7=/[\s\p{P}\p{S}]/u,aee=/[^\s\p{P}\p{S}]/u,JRe=Ur(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,X7).getRegex(),oee=/(?!~)[\p{P}\p{S}]/u,eNe=/(?!~)[\s\p{P}\p{S}]/u,tNe=/(?:[^\s\p{P}\p{S}]|~)/u,rNe=Ur(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),lee=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,nNe=Ur(lee,"u").replace(/punct/g,aA).getRegex(),iNe=Ur(lee,"u").replace(/punct/g,oee).getRegex(),cee="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",sNe=Ur(cee,"gu").replace(/notPunctSpace/g,aee).replace(/punctSpace/g,X7).replace(/punct/g,aA).getRegex(),aNe=Ur(cee,"gu").replace(/notPunctSpace/g,tNe).replace(/punctSpace/g,eNe).replace(/punct/g,oee).getRegex(),oNe=Ur("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,aee).replace(/punctSpace/g,X7).replace(/punct/g,aA).getRegex(),lNe=Ur(/\\(punct)/,"gu").replace(/punct/g,aA).getRegex(),cNe=Ur(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dNe=Ur(L7).replace("(?:-->|$)","-->").getRegex(),hNe=Ur("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dNe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),V_=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,uNe=Ur(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",V_).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),dee=Ur(/^!?\[(label)\]\[(ref)\]/).replace("label",V_).replace("ref",F7).getRegex(),hee=Ur(/^!?\[(ref)\](?:\[\])?/).replace("ref",F7).getRegex(),fNe=Ur("reflink|nolink(?!\\()","g").replace("reflink",dee).replace("nolink",hee).getRegex(),dL=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,V7={_backpedal:pO,anyPunctuation:lNe,autolink:cNe,blockSkip:rNe,br:see,code:HRe,del:pO,emStrongLDelim:nNe,emStrongRDelimAst:sNe,emStrongRDelimUnd:oNe,escape:GRe,link:uNe,nolink:hee,punctuation:JRe,reflink:dee,reflinkSearch:fNe,tag:hNe,text:KRe,url:pO},gNe={...V7,link:Ur(/^!?\[(label)\]\((.*?)\)/).replace("label",V_).getRegex(),reflink:Ur(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",V_).getRegex()},WE={...V7,emStrongRDelimAst:aNe,emStrongLDelim:iNe,url:Ur(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",dL).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Ur(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",dL).getRegex()},pNe={...WE,br:Ur(see).replace("{2,}","*").getRegex(),text:Ur(WE.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zw={normal:z7,gfm:YRe,pedantic:ZRe},S1={normal:V7,gfm:WE,breaks:pNe,pedantic:gNe},mNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hL=t=>mNe[t];function Al(t,e){if(e){if(Ls.escapeTest.test(t))return t.replace(Ls.escapeReplace,hL)}else if(Ls.escapeTestNoEncode.test(t))return t.replace(Ls.escapeReplaceNoEncode,hL);return t}function uL(t){try{t=encodeURI(t).replace(Ls.percentDecode,"%")}catch{return null}return t}function fL(t,e){var a;let r=t.replace(Ls.findPipe,(l,c,h)=>{let f=!1,p=c;for(;--p>=0&&h[p]==="\\";)f=!f;return f?"|":" |"}),n=r.split(Ls.splitPipe),s=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(Ls.slashPipe,"|");return n}function T1(t,e,r){let n=t.length;if(n===0)return"";let s=0;for(;s<n&&t.charAt(n-s-1)===e;)s++;return t.slice(0,n-s)}function ONe(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function gL(t,e,r,n,s){let a=e.href,l=e.title||null,c=t[1].replace(s.other.outputLinkReplace,"$1");n.state.inLink=!0;let h={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:l,text:c,tokens:n.inlineTokens(c)};return n.state.inLink=!1,h}function xNe(t,e,r){let n=t.match(r.other.indentCodeCompensation);if(n===null)return e;let s=n[1];return e.split(`
`).map(a=>{let l=a.match(r.other.beginningSpace);if(l===null)return a;let[c]=l;return c.length>=s.length?a.slice(s.length):a}).join(`
`)}var U_=class{constructor(e){Wr(this,"options");Wr(this,"rules");Wr(this,"lexer");this.options=e||Yu}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let n=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:T1(n,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let n=r[0],s=xNe(n,r[3]||"",this.rules);return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:s}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(this.rules.other.endingHash.test(n)){let s=T1(n,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(n=s.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:T1(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let n=T1(r[0],`
`).split(`
`),s="",a="",l=[];for(;n.length>0;){let c=!1,h=[],f;for(f=0;f<n.length;f++)if(this.rules.other.blockquoteStart.test(n[f]))h.push(n[f]),c=!0;else if(!c)h.push(n[f]);else break;n=n.slice(f);let p=h.join(`
`),O=p.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${p}`:p,a=a?`${a}
${O}`:O;let x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(O,l,!0),this.lexer.state.top=x,n.length===0)break;let k=l.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){let w=k,_=w.raw+`
`+n.join(`
`),C=this.blockquote(_);l[l.length-1]=C,s=s.substring(0,s.length-w.raw.length)+C.raw,a=a.substring(0,a.length-w.text.length)+C.text;break}else if((k==null?void 0:k.type)==="list"){let w=k,_=w.raw+`
`+n.join(`
`),C=this.list(_);l[l.length-1]=C,s=s.substring(0,s.length-k.raw.length)+C.raw,a=a.substring(0,a.length-w.raw.length)+C.raw,n=_.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:l,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim(),s=n.length>1,a={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");let l=this.rules.other.listItemRegex(n),c=!1;for(;e;){let f=!1,p="",O="";if(!(r=l.exec(e))||this.rules.block.hr.test(e))break;p=r[0],e=e.substring(p.length);let x=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),k=e.split(`
`,1)[0],w=!x.trim(),_=0;if(this.options.pedantic?(_=2,O=x.trimStart()):w?_=r[1].length+1:(_=r[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,O=x.slice(_),_+=r[1].length),w&&this.rules.other.blankLine.test(k)&&(p+=k+`
`,e=e.substring(k.length+1),f=!0),!f){let E=this.rules.other.nextBulletRegex(_),P=this.rules.other.hrRegex(_),Q=this.rules.other.fencesBeginRegex(_),B=this.rules.other.headingBeginRegex(_),R=this.rules.other.htmlBeginRegex(_);for(;e;){let M=e.split(`
`,1)[0],I;if(k=M,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),I=k):I=k.replace(this.rules.other.tabCharGlobal,"    "),Q.test(k)||B.test(k)||R.test(k)||E.test(k)||P.test(k))break;if(I.search(this.rules.other.nonSpaceChar)>=_||!k.trim())O+=`
`+I.slice(_);else{if(w||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Q.test(x)||B.test(x)||P.test(x))break;O+=`
`+k}!w&&!k.trim()&&(w=!0),p+=M+`
`,e=e.substring(M.length+1),x=I.slice(_)}}a.loose||(c?a.loose=!0:this.rules.other.doubleBlankLine.test(p)&&(c=!0));let C=null,T;this.options.gfm&&(C=this.rules.other.listIsTask.exec(O),C&&(T=C[0]!=="[ ] ",O=O.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:p,task:!!C,checked:T,loose:!1,text:O,tokens:[]}),a.raw+=p}let h=a.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let f=0;f<a.items.length;f++)if(this.lexer.state.top=!1,a.items[f].tokens=this.lexer.blockTokens(a.items[f].text,[]),!a.loose){let p=a.items[f].tokens.filter(x=>x.type==="space"),O=p.length>0&&p.some(x=>this.rules.other.anyLine.test(x.raw));a.loose=O}if(a.loose)for(let f=0;f<a.items.length;f++)a.items[f].loose=!0;return a}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let n=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:s,title:a}}}table(e){var c;let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let n=fL(r[1]),s=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(c=r[3])!=null&&c.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===s.length){for(let h of s)this.rules.other.tableAlignRight.test(h)?l.align.push("right"):this.rules.other.tableAlignCenter.test(h)?l.align.push("center"):this.rules.other.tableAlignLeft.test(h)?l.align.push("left"):l.align.push(null);for(let h=0;h<n.length;h++)l.header.push({text:n[h],tokens:this.lexer.inline(n[h]),header:!0,align:l.align[h]});for(let h of a)l.rows.push(fL(h,l.header.length).map((f,p)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:l.align[p]})));return l}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let n=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let l=T1(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=ONe(r[2],"()");if(l===-2)return;if(l>-1){let c=(r[0].indexOf("!")===0?5:4)+r[1].length+l;r[2]=r[2].substring(0,l),r[0]=r[0].substring(0,c).trim(),r[3]=""}}let s=r[2],a="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(s);l&&(s=l[1],a=l[3])}else a=r[3]?r[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?s=s.slice(1):s=s.slice(1,-1)),gL(r,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let s=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=r[s.toLowerCase()];if(!a){let l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return gL(n,a,n[0],this.lexer,this.rules)}}emStrong(e,r,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!(!s||s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(s[1]||s[2])||!n||this.rules.inline.punctuation.exec(n))){let a=[...s[0]].length-1,l,c,h=a,f=0,p=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,r=r.slice(-1*e.length+a);(s=p.exec(r))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(c=[...l].length,s[3]||s[4]){h+=c;continue}else if((s[5]||s[6])&&a%3&&!((a+c)%3)){f+=c;continue}if(h-=c,h>0)continue;c=Math.min(c,c+h+f);let O=[...s[0]][0].length,x=e.slice(0,a+s.index+O+c);if(Math.min(a,c)%2){let w=x.slice(1,-1);return{type:"em",raw:x,text:w,tokens:this.lexer.inlineTokens(w)}}let k=x.slice(2,-2);return{type:"strong",raw:x,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(this.rules.other.newLineCharGlobal," "),s=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return s&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:r[0],text:n}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let n,s;return r[2]==="@"?(n=r[1],s="mailto:"+n):(n=r[1],s=n),{type:"link",raw:r[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let s,a;if(r[2]==="@")s=r[0],a="mailto:"+s;else{let l;do l=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(l!==r[0]);s=r[0],r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let n=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:n}}}},Lo=class YE{constructor(e){Wr(this,"tokens");Wr(this,"options");Wr(this,"state");Wr(this,"tokenizer");Wr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yu,this.options.tokenizer=this.options.tokenizer||new U_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:Ls,block:Zw.normal,inline:S1.normal};this.options.pedantic?(r.block=Zw.pedantic,r.inline=S1.pedantic):this.options.gfm&&(r.block=Zw.gfm,this.options.breaks?r.inline=S1.breaks:r.inline=S1.gfm),this.tokenizer.rules=r}static get rules(){return{block:Zw,inline:S1}}static lex(e,r){return new YE(r).lex(e)}static lexInline(e,r){return new YE(r).inlineTokens(e)}lex(e){e=e.replace(Ls.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var s,a,l;for(this.options.pedantic&&(e=e.replace(Ls.tabCharGlobal,"    ").replace(Ls.spaceLine,""));e;){let c;if((a=(s=this.options.extensions)==null?void 0:s.block)!=null&&a.some(f=>(c=f.call({lexer:this},e,r))?(e=e.substring(c.raw.length),r.push(c),!0):!1))continue;if(c=this.tokenizer.space(e)){e=e.substring(c.raw.length);let f=r.at(-1);c.raw.length===1&&f!==void 0?f.raw+=`
`:r.push(c);continue}if(c=this.tokenizer.code(e)){e=e.substring(c.raw.length);let f=r.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+c.raw,f.text+=`
`+c.text,this.inlineQueue.at(-1).src=f.text):r.push(c);continue}if(c=this.tokenizer.fences(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.heading(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.hr(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.blockquote(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.list(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.html(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.def(e)){e=e.substring(c.raw.length);let f=r.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+c.raw,f.text+=`
`+c.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title},r.push(c));continue}if(c=this.tokenizer.table(e)){e=e.substring(c.raw.length),r.push(c);continue}if(c=this.tokenizer.lheading(e)){e=e.substring(c.raw.length),r.push(c);continue}let h=e;if((l=this.options.extensions)!=null&&l.startBlock){let f=1/0,p=e.slice(1),O;this.options.extensions.startBlock.forEach(x=>{O=x.call({lexer:this},p),typeof O=="number"&&O>=0&&(f=Math.min(f,O))}),f<1/0&&f>=0&&(h=e.substring(0,f+1))}if(this.state.top&&(c=this.tokenizer.paragraph(h))){let f=r.at(-1);n&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):r.push(c),n=h.length!==e.length,e=e.substring(c.raw.length);continue}if(c=this.tokenizer.text(e)){e=e.substring(c.raw.length);let f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+c.raw,f.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):r.push(c);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var c,h,f,p,O;let n=e,s=null;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)x.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((h=(c=this.options.hooks)==null?void 0:c.emStrongMask)==null?void 0:h.call({lexer:this},n))??n;let a=!1,l="";for(;e;){a||(l=""),a=!1;let x;if((p=(f=this.options.extensions)==null?void 0:f.inline)!=null&&p.some(w=>(x=w.call({lexer:this},e,r))?(e=e.substring(x.raw.length),r.push(x),!0):!1))continue;if(x=this.tokenizer.escape(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.tag(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.link(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(x.raw.length);let w=r.at(-1);x.type==="text"&&(w==null?void 0:w.type)==="text"?(w.raw+=x.raw,w.text+=x.text):r.push(x);continue}if(x=this.tokenizer.emStrong(e,n,l)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.codespan(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.br(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.del(e)){e=e.substring(x.raw.length),r.push(x);continue}if(x=this.tokenizer.autolink(e)){e=e.substring(x.raw.length),r.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(e))){e=e.substring(x.raw.length),r.push(x);continue}let k=e;if((O=this.options.extensions)!=null&&O.startInline){let w=1/0,_=e.slice(1),C;this.options.extensions.startInline.forEach(T=>{C=T.call({lexer:this},_),typeof C=="number"&&C>=0&&(w=Math.min(w,C))}),w<1/0&&w>=0&&(k=e.substring(0,w+1))}if(x=this.tokenizer.inlineText(k)){e=e.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(l=x.raw.slice(-1)),a=!0;let w=r.at(-1);(w==null?void 0:w.type)==="text"?(w.raw+=x.raw,w.text+=x.text):r.push(x);continue}if(e){let w="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(w);break}else throw new Error(w)}}return r}},q_=class{constructor(e){Wr(this,"options");Wr(this,"parser");this.options=e||Yu}space(e){return""}code({text:e,lang:r,escaped:n}){var l;let s=(l=(r||"").match(Ls.notSpaceStart))==null?void 0:l[0],a=e.replace(Ls.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Al(s)+'">'+(n?a:Al(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Al(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,n=e.start,s="";for(let c=0;c<e.items.length;c++){let h=e.items[c];s+=this.listitem(h)}let a=r?"ol":"ul",l=r&&n!==1?' start="'+n+'"':"";return"<"+a+l+`>
`+s+"</"+a+`>
`}listitem(e){var n;let r="";if(e.task){let s=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=s+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=s+" "+Al(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):r+=s+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",n="";for(let a=0;a<e.header.length;a++)n+=this.tablecell(e.header[a]);r+=this.tablerow({text:n});let s="";for(let a=0;a<e.rows.length;a++){let l=e.rows[a];n="";for(let c=0;c<l.length;c++)n+=this.tablecell(l[c]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+r+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Al(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:n}){let s=this.parser.parseInline(n),a=uL(e);if(a===null)return s;e=a;let l='<a href="'+e+'"';return r&&(l+=' title="'+Al(r)+'"'),l+=">"+s+"</a>",l}image({href:e,title:r,text:n,tokens:s}){s&&(n=this.parser.parseInline(s,this.parser.textRenderer));let a=uL(e);if(a===null)return Al(n);e=a;let l=`<img src="${e}" alt="${n}"`;return r&&(l+=` title="${Al(r)}"`),l+=">",l}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Al(e.text)}},U7=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},zo=class ZE{constructor(e){Wr(this,"options");Wr(this,"renderer");Wr(this,"textRenderer");this.options=e||Yu,this.options.renderer=this.options.renderer||new q_,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new U7}static parse(e,r){return new ZE(r).parse(e)}static parseInline(e,r){return new ZE(r).parseInline(e)}parse(e,r=!0){var s,a;let n="";for(let l=0;l<e.length;l++){let c=e[l];if((a=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&a[c.type]){let f=c,p=this.options.extensions.renderers[f.type].call({parser:this},f);if(p!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(f.type)){n+=p||"";continue}}let h=c;switch(h.type){case"space":{n+=this.renderer.space(h);continue}case"hr":{n+=this.renderer.hr(h);continue}case"heading":{n+=this.renderer.heading(h);continue}case"code":{n+=this.renderer.code(h);continue}case"table":{n+=this.renderer.table(h);continue}case"blockquote":{n+=this.renderer.blockquote(h);continue}case"list":{n+=this.renderer.list(h);continue}case"html":{n+=this.renderer.html(h);continue}case"def":{n+=this.renderer.def(h);continue}case"paragraph":{n+=this.renderer.paragraph(h);continue}case"text":{let f=h,p=this.renderer.text(f);for(;l+1<e.length&&e[l+1].type==="text";)f=e[++l],p+=`
`+this.renderer.text(f);r?n+=this.renderer.paragraph({type:"paragraph",raw:p,text:p,tokens:[{type:"text",raw:p,text:p,escaped:!0}]}):n+=p;continue}default:{let f='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return n}parseInline(e,r=this.renderer){var s,a;let n="";for(let l=0;l<e.length;l++){let c=e[l];if((a=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&a[c.type]){let f=this.options.extensions.renderers[c.type].call({parser:this},c);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){n+=f||"";continue}}let h=c;switch(h.type){case"escape":{n+=r.text(h);break}case"html":{n+=r.html(h);break}case"link":{n+=r.link(h);break}case"image":{n+=r.image(h);break}case"strong":{n+=r.strong(h);break}case"em":{n+=r.em(h);break}case"codespan":{n+=r.codespan(h);break}case"br":{n+=r.br(h);break}case"del":{n+=r.del(h);break}case"text":{n+=r.text(h);break}default:{let f='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return n}},wv,X1=(wv=class{constructor(e){Wr(this,"options");Wr(this,"block");this.options=e||Yu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Lo.lex:Lo.lexInline}provideParser(){return this.block?zo.parse:zo.parseInline}},Wr(wv,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Wr(wv,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),wv),bNe=class{constructor(...e){Wr(this,"defaults",B7());Wr(this,"options",this.setOptions);Wr(this,"parse",this.parseMarkdown(!0));Wr(this,"parseInline",this.parseMarkdown(!1));Wr(this,"Parser",zo);Wr(this,"Renderer",q_);Wr(this,"TextRenderer",U7);Wr(this,"Lexer",Lo);Wr(this,"Tokenizer",U_);Wr(this,"Hooks",X1);this.use(...e)}walkTokens(e,r){var s,a;let n=[];for(let l of e)switch(n=n.concat(r.call(this,l)),l.type){case"table":{let c=l;for(let h of c.header)n=n.concat(this.walkTokens(h.tokens,r));for(let h of c.rows)for(let f of h)n=n.concat(this.walkTokens(f.tokens,r));break}case"list":{let c=l;n=n.concat(this.walkTokens(c.items,r));break}default:{let c=l;(a=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&a[c.type]?this.defaults.extensions.childTokens[c.type].forEach(h=>{let f=c[h].flat(1/0);n=n.concat(this.walkTokens(f,r))}):c.tokens&&(n=n.concat(this.walkTokens(c.tokens,r)))}}return n}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let l=r.renderers[a.name];l?r.renderers[a.name]=function(...c){let h=a.renderer.apply(this,c);return h===!1&&(h=l.apply(this,c)),h}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=r[a.level];l?l.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),s.extensions=r),n.renderer){let a=this.defaults.renderer||new q_(this.defaults);for(let l in n.renderer){if(!(l in a))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let c=l,h=n.renderer[c],f=a[c];a[c]=(...p)=>{let O=h.apply(a,p);return O===!1&&(O=f.apply(a,p)),O||""}}s.renderer=a}if(n.tokenizer){let a=this.defaults.tokenizer||new U_(this.defaults);for(let l in n.tokenizer){if(!(l in a))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let c=l,h=n.tokenizer[c],f=a[c];a[c]=(...p)=>{let O=h.apply(a,p);return O===!1&&(O=f.apply(a,p)),O}}s.tokenizer=a}if(n.hooks){let a=this.defaults.hooks||new X1;for(let l in n.hooks){if(!(l in a))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let c=l,h=n.hooks[c],f=a[c];X1.passThroughHooks.has(l)?a[c]=p=>{if(this.defaults.async&&X1.passThroughHooksRespectAsync.has(l))return(async()=>{let x=await h.call(a,p);return f.call(a,x)})();let O=h.call(a,p);return f.call(a,O)}:a[c]=(...p)=>{if(this.defaults.async)return(async()=>{let x=await h.apply(a,p);return x===!1&&(x=await f.apply(a,p)),x})();let O=h.apply(a,p);return O===!1&&(O=f.apply(a,p)),O}}s.hooks=a}if(n.walkTokens){let a=this.defaults.walkTokens,l=n.walkTokens;s.walkTokens=function(c){let h=[];return h.push(l.call(this,c)),a&&(h=h.concat(a.call(this,c))),h}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Lo.lex(e,r??this.defaults)}parser(e,r){return zo.parse(e,r??this.defaults)}parseMarkdown(e){return(r,n)=>{let s={...n},a={...this.defaults,...s},l=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&s.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=e),a.async)return(async()=>{let c=a.hooks?await a.hooks.preprocess(r):r,h=await(a.hooks?await a.hooks.provideLexer():e?Lo.lex:Lo.lexInline)(c,a),f=a.hooks?await a.hooks.processAllTokens(h):h;a.walkTokens&&await Promise.all(this.walkTokens(f,a.walkTokens));let p=await(a.hooks?await a.hooks.provideParser():e?zo.parse:zo.parseInline)(f,a);return a.hooks?await a.hooks.postprocess(p):p})().catch(l);try{a.hooks&&(r=a.hooks.preprocess(r));let c=(a.hooks?a.hooks.provideLexer():e?Lo.lex:Lo.lexInline)(r,a);a.hooks&&(c=a.hooks.processAllTokens(c)),a.walkTokens&&this.walkTokens(c,a.walkTokens);let h=(a.hooks?a.hooks.provideParser():e?zo.parse:zo.parseInline)(c,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(c){return l(c)}}}onError(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let s="<p>An error occurred:</p><pre>"+Al(n.message+"",!0)+"</pre>";return r?Promise.resolve(s):s}if(r)return Promise.reject(n);throw n}}},Bu=new bNe;function Gr(t,e){return Bu.parse(t,e)}Gr.options=Gr.setOptions=function(t){return Bu.setOptions(t),Gr.defaults=Bu.defaults,tee(Gr.defaults),Gr};Gr.getDefaults=B7;Gr.defaults=Yu;Gr.use=function(...t){return Bu.use(...t),Gr.defaults=Bu.defaults,tee(Gr.defaults),Gr};Gr.walkTokens=function(t,e){return Bu.walkTokens(t,e)};Gr.parseInline=Bu.parseInline;Gr.Parser=zo;Gr.parser=zo.parse;Gr.Renderer=q_;Gr.TextRenderer=U7;Gr.Lexer=Lo;Gr.lexer=Lo.lex;Gr.Tokenizer=U_;Gr.Hooks=X1;Gr.parse=Gr;Gr.options;Gr.setOptions;Gr.use;Gr.walkTokens;Gr.parseInline;zo.parse;Lo.lex;function uee(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.from(typeof t=="string"?[t]:t);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var s=n.reduce(function(c,h){var f=h.match(/\n([\t ]+|(?!\s).)/g);return f?c.concat(f.map(function(p){var O,x;return(x=(O=p.match(/[\t ]/g))===null||O===void 0?void 0:O.length)!==null&&x!==void 0?x:0})):c},[]);if(s.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,s)+"}","g");n=n.map(function(c){return c.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var l=n[0];return e.forEach(function(c,h){var f=l.match(/(?:^|\n)( *)$/),p=f?f[1]:"",O=c;typeof c=="string"&&c.includes(`
`)&&(O=String(c).split(`
`).map(function(x,k){return k===0?x:""+p+x}).join(`
`)),l+=O+n[h+1]}),l}var kNe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},GE=new Map,fee=new Map,yNe=Z(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(rt.debug("Registering icon pack:",e.name),"loader"in e)fee.set(e.name,e.loader);else if("icons"in e)GE.set(e.name,e.icons);else throw rt.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),gee=Z(async(t,e)=>{const r=wRe(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);const n=r.prefix||e;if(!n)throw new Error(`Icon name must contain a prefix: ${t}`);let s=GE.get(n);if(!s){const l=fee.get(n);if(!l)throw new Error(`Icon set not found: ${r.prefix}`);try{s={...await l(),prefix:n},GE.set(n,s)}catch(c){throw rt.error(c),new Error(`Failed to load icon set: ${r.prefix}`)}}const a=CRe(s,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),wNe=Z(async t=>{try{return await gee(t),!0}catch{return!1}},"isIconAvailable"),Wx=Z(async(t,e,r)=>{let n;try{n=await gee(t,e==null?void 0:e.fallbackPrefix)}catch(l){rt.error(l),n=kNe}const s=QRe(n,e),a=BRe(NRe(s.body),{...s.attributes,...r});return fo(a,ks())},"getIconSVG");function pee(t,{markdownAutoWrap:e}){const n=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),s=uee(n);return e===!1?s.replace(/ /g,"&nbsp;"):s}Z(pee,"preprocessMarkdown");function mee(t,e={}){const r=pee(t,e),n=Gr.lexer(r),s=[[]];let a=0;function l(c,h="normal"){c.type==="text"?c.text.split(`
`).forEach((p,O)=>{O!==0&&(a++,s.push([])),p.split(" ").forEach(x=>{x=x.replace(/&#39;/g,"'"),x&&s[a].push({content:x,type:h})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(f=>{l(f,c.type)}):c.type==="html"&&s[a].push({content:c.text,type:"normal"})}return Z(l,"processNode"),n.forEach(c=>{var h;c.type==="paragraph"?(h=c.tokens)==null||h.forEach(f=>{l(f)}):c.type==="html"?s[a].push({content:c.text,type:"normal"}):s[a].push({content:c.raw,type:"normal"})}),s}Z(mee,"markdownToLines");function Oee(t,{markdownAutoWrap:e}={}){const r=Gr.lexer(t);function n(s){var a,l,c;return s.type==="text"?e===!1?s.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):s.text.replace(/\n */g,"<br/>"):s.type==="strong"?`<strong>${(a=s.tokens)==null?void 0:a.map(n).join("")}</strong>`:s.type==="em"?`<em>${(l=s.tokens)==null?void 0:l.map(n).join("")}</em>`:s.type==="paragraph"?`<p>${(c=s.tokens)==null?void 0:c.map(n).join("")}</p>`:s.type==="space"?"":s.type==="html"?`${s.text}`:s.type==="escape"?s.text:(rt.warn(`Unsupported markdown: ${s.type}`),s.raw)}return Z(n,"output"),r.map(n).join("")}Z(Oee,"markdownToHTML");function xee(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}Z(xee,"splitTextToChars");function bee(t,e){const r=xee(e.content);return q7(t,[],r,e.type)}Z(bee,"splitWordToFitWidth");function q7(t,e,r,n){if(r.length===0)return[{content:e.join(""),type:n},{content:"",type:n}];const[s,...a]=r,l=[...e,s];return t([{content:l.join(""),type:n}])?q7(t,l,a,n):(e.length===0&&s&&(e.push(s),r.shift()),[{content:e.join(""),type:n},{content:r.join(""),type:n}])}Z(q7,"splitWordToFitWidthRecursion");function kee(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return W_(t,e)}Z(kee,"splitLineToFitWidth");function W_(t,e,r=[],n=[]){if(t.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let s="";t[0].content===" "&&(s=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},l=[...n];if(s!==""&&l.push({content:s,type:"normal"}),l.push(a),e(l))return W_(t,e,r,l);if(n.length>0)r.push(n),t.unshift(a);else if(a.content){const[c,h]=bee(e,a);r.push([c]),h.content&&t.unshift(h)}return W_(t,e,r)}Z(W_,"splitLineToFitWidthRecursion");function HE(t,e){e&&t.attr("style",e)}Z(HE,"applyStyle");async function yee(t,e,r,n,s=!1,a=ks()){const l=t.append("foreignObject");l.attr("width",`${10*r}px`),l.attr("height",`${10*r}px`);const c=l.append("xhtml:div"),h=Kf(e.label)?await i7(e.label.replace(xg.lineBreakRegex,`
`),a):fo(e.label,a),f=e.isNode?"nodeLabel":"edgeLabel",p=c.append("span");p.html(h),HE(p,e.labelStyle),p.attr("class",`${f} ${n}`),HE(c,e.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",r+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),s&&c.attr("class","labelBkg");let O=c.node().getBoundingClientRect();return O.width===r&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",r+"px"),O=c.node().getBoundingClientRect()),l.node()}Z(yee,"addHtmlSpan");function oA(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}Z(oA,"createTspan");function wee(t,e,r){const n=t.append("text"),s=oA(n,1,e);lA(s,r);const a=s.node().getComputedTextLength();return n.remove(),a}Z(wee,"computeWidthOfText");function vNe(t,e,r){var l;const n=t.append("text"),s=oA(n,1,e);lA(s,[{content:r,type:"normal"}]);const a=(l=s.node())==null?void 0:l.getBoundingClientRect();return a&&n.remove(),a}Z(vNe,"computeDimensionOfText");function vee(t,e,r,n=!1){const a=e.append("g"),l=a.insert("rect").attr("class","background").attr("style","stroke: none"),c=a.append("text").attr("y","-10.1");let h=0;for(const f of r){const p=Z(x=>wee(a,1.1,x)<=t,"checkWidth"),O=p(f)?[f]:kee(f,p);for(const x of O){const k=oA(c,h,1.1);lA(k,x),h++}}if(n){const f=c.node().getBBox(),p=2;return l.attr("x",f.x-p).attr("y",f.y-p).attr("width",f.width+2*p).attr("height",f.height+2*p),a.node()}else return c.node()}Z(vee,"createFormattedText");function lA(t,e){t.text(""),e.forEach((r,n)=>{const s=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?s.text(r.content):s.text(" "+r.content)})}Z(lA,"updateTextContentAndStyles");async function _ee(t,e={}){const r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(s,a,l)=>(r.push((async()=>{const c=`${a}:${l}`;return await wNe(c)?await Wx(c,void 0,{class:"label-icon"}):`<i class='${fo(s,e).replace(":"," ")}'></i>`})()),s));const n=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>n.shift()??"")}Z(_ee,"replaceIconSubstring");var Eh=Z(async(t,e="",{style:r="",isTitle:n=!1,classes:s="",useHtmlLabels:a=!0,isNode:l=!0,width:c=200,addSvgBackground:h=!1}={},f)=>{if(rt.debug("XYZ createText",e,r,n,s,a,l,"addSvgBackground: ",h),a){const p=Oee(e,f),O=await _ee(Wu(p),f),x=e.replace(/\\\\/g,"\\"),k={isNode:l,label:Kf(e)?x:O,labelStyle:r.replace("fill:","color:")};return await yee(t,k,c,s,h,f)}else{const p=e.replace(/<br\s*\/?>/g,"<br/>"),O=mee(p.replace("<br>","<br/>"),f),x=vee(c,t,O,e?h:!1);if(l){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const k=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");hr(x).attr("style",k)}else{const k=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");hr(x).select("rect").attr("style",k.replace(/background:/g,"fill:"));const w=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");hr(x).select("text").attr("style",w)}return x}},"createText");function i3(t,e,r){if(t&&t.length){const[n,s]=e,a=Math.PI/180*r,l=Math.cos(a),c=Math.sin(a);for(const h of t){const[f,p]=h;h[0]=(f-n)*l-(p-s)*c+n,h[1]=(f-n)*c+(p-s)*l+s}}}function _Ne(t,e){return t[0]===e[0]&&t[1]===e[1]}function CNe(t,e,r,n=1){const s=r,a=Math.max(e,.1),l=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,c=[0,0];if(s)for(const f of l)i3(f,c,s);const h=(function(f,p,O){const x=[];for(const E of f){const P=[...E];_Ne(P[0],P[P.length-1])||P.push([P[0][0],P[0][1]]),P.length>2&&x.push(P)}const k=[];p=Math.max(p,.1);const w=[];for(const E of x)for(let P=0;P<E.length-1;P++){const Q=E[P],B=E[P+1];if(Q[1]!==B[1]){const R=Math.min(Q[1],B[1]);w.push({ymin:R,ymax:Math.max(Q[1],B[1]),x:R===Q[1]?Q[0]:B[0],islope:(B[0]-Q[0])/(B[1]-Q[1])})}}if(w.sort(((E,P)=>E.ymin<P.ymin?-1:E.ymin>P.ymin?1:E.x<P.x?-1:E.x>P.x?1:E.ymax===P.ymax?0:(E.ymax-P.ymax)/Math.abs(E.ymax-P.ymax))),!w.length)return k;let _=[],C=w[0].ymin,T=0;for(;_.length||w.length;){if(w.length){let E=-1;for(let P=0;P<w.length&&!(w[P].ymin>C);P++)E=P;w.splice(0,E+1).forEach((P=>{_.push({s:C,edge:P})}))}if(_=_.filter((E=>!(E.edge.ymax<=C))),_.sort(((E,P)=>E.edge.x===P.edge.x?0:(E.edge.x-P.edge.x)/Math.abs(E.edge.x-P.edge.x))),(O!==1||T%p==0)&&_.length>1)for(let E=0;E<_.length;E+=2){const P=E+1;if(P>=_.length)break;const Q=_[E].edge,B=_[P].edge;k.push([[Math.round(Q.x),C],[Math.round(B.x),C]])}C+=O,_.forEach((E=>{E.edge.x=E.edge.x+O*E.edge.islope})),T++}return k})(l,a,n);if(s){for(const f of l)i3(f,c,-s);(function(f,p,O){const x=[];f.forEach((k=>x.push(...k))),i3(x,p,O)})(h,c,-s)}return h}function Yx(t,e){var r;const n=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.round(Math.max(s,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=s),CNe(t,s,n,a||1)}class W7{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){const n=Yx(e,r);return{type:"fillSketch",ops:this.renderLines(n,r)}}renderLines(e,r){const n=[];for(const s of e)n.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],r));return n}}function cA(t){const e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}class ANe extends W7{fillPolygons(e,r){let n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);const s=Yx(e,Object.assign({},r,{hachureGap:n})),a=Math.PI/180*r.hachureAngle,l=[],c=.5*n*Math.cos(a),h=.5*n*Math.sin(a);for(const[f,p]of s)cA([f,p])&&l.push([[f[0]-c,f[1]+h],[...p]],[[f[0]+c,f[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(l,r)}}}class SNe extends W7{fillPolygons(e,r){const n=this._fillPolygons(e,r),s=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,s);return n.ops=n.ops.concat(a.ops),n}}let TNe=class{constructor(e){this.helper=e}fillPolygons(e,r){const n=Yx(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(n,r)}dotsOnLines(e,r){const n=[];let s=r.hachureGap;s<0&&(s=4*r.strokeWidth),s=Math.max(s,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const l=s/4;for(const c of e){const h=cA(c),f=h/s,p=Math.ceil(f)-1,O=h-p*s,x=(c[0][0]+c[1][0])/2-s/4,k=Math.min(c[0][1],c[1][1]);for(let w=0;w<p;w++){const _=k+O+w*s,C=x-l+2*Math.random()*l,T=_-l+2*Math.random()*l,E=this.helper.ellipse(C,T,a,a,r);n.push(...E.ops)}}return{type:"fillSketch",ops:n}}};class ENe{constructor(e){this.helper=e}fillPolygons(e,r){const n=Yx(e,r);return{type:"fillSketch",ops:this.dashedLine(n,r)}}dashedLine(e,r){const n=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,s=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach((l=>{const c=cA(l),h=Math.floor(c/(n+s)),f=(c+s-h*(n+s))/2;let p=l[0],O=l[1];p[0]>O[0]&&(p=l[1],O=l[0]);const x=Math.atan((O[1]-p[1])/(O[0]-p[0]));for(let k=0;k<h;k++){const w=k*(n+s),_=w+n,C=[p[0]+w*Math.cos(x)+f*Math.cos(x),p[1]+w*Math.sin(x)+f*Math.sin(x)],T=[p[0]+_*Math.cos(x)+f*Math.cos(x),p[1]+_*Math.sin(x)+f*Math.sin(x)];a.push(...this.helper.doubleLineOps(C[0],C[1],T[0],T[1],r))}})),a}}class PNe{constructor(e){this.helper=e}fillPolygons(e,r){const n=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,s=r.zigzagOffset<0?n:r.zigzagOffset,a=Yx(e,r=Object.assign({},r,{hachureGap:n+s}));return{type:"fillSketch",ops:this.zigzagLines(a,s,r)}}zigzagLines(e,r,n){const s=[];return e.forEach((a=>{const l=cA(a),c=Math.round(l/(2*r));let h=a[0],f=a[1];h[0]>f[0]&&(h=a[1],f=a[0]);const p=Math.atan((f[1]-h[1])/(f[0]-h[0]));for(let O=0;O<c;O++){const x=2*O*r,k=2*(O+1)*r,w=Math.sqrt(2*Math.pow(r,2)),_=[h[0]+x*Math.cos(p),h[1]+x*Math.sin(p)],C=[h[0]+k*Math.cos(p),h[1]+k*Math.sin(p)],T=[_[0]+w*Math.cos(p+Math.PI/4),_[1]+w*Math.sin(p+Math.PI/4)];s.push(...this.helper.doubleLineOps(_[0],_[1],T[0],T[1],n),...this.helper.doubleLineOps(T[0],T[1],C[0],C[1],n))}})),s}}const na={};class DNe{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const QNe=0,s3=1,pL=2,Gw={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function a3(t,e){return t.type===e}function Y7(t){const e=[],r=(function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:QNe,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:s3,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:pL,text:""},c})(t);let n="BOD",s=0,a=r[s];for(;!a3(a,pL);){let l=0;const c=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return Y7("M0,0"+t);s++,l=Gw[a.text],n=a.text}else a3(a,s3)?l=Gw[n]:(s++,l=Gw[a.text],n=a.text);if(!(s+l<r.length))throw new Error("Path data ended short");for(let h=s;h<s+l;h++){const f=r[h];if(!a3(f,s3))throw new Error("Param not a number: "+n+","+f.text);c[c.length]=+f.text}if(typeof Gw[n]!="number")throw new Error("Bad segment: "+n);{const h={key:n,data:c};e.push(h),s+=l,a=r[s],n==="M"&&(n="L"),n==="m"&&(n="l")}}return e}function Cee(t){let e=0,r=0,n=0,s=0;const a=[];for(const{key:l,data:c}of t)switch(l){case"M":a.push({key:"M",data:[...c]}),[e,r]=c,[n,s]=c;break;case"m":e+=c[0],r+=c[1],a.push({key:"M",data:[e,r]}),n=e,s=r;break;case"L":a.push({key:"L",data:[...c]}),[e,r]=c;break;case"l":e+=c[0],r+=c[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...c]}),e=c[4],r=c[5];break;case"c":{const h=c.map(((f,p)=>p%2?f+r:f+e));a.push({key:"C",data:h}),e=h[4],r=h[5];break}case"Q":a.push({key:"Q",data:[...c]}),e=c[2],r=c[3];break;case"q":{const h=c.map(((f,p)=>p%2?f+r:f+e));a.push({key:"Q",data:h}),e=h[2],r=h[3];break}case"A":a.push({key:"A",data:[...c]}),e=c[5],r=c[6];break;case"a":e+=c[5],r+=c[6],a.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],e,r]});break;case"H":a.push({key:"H",data:[...c]}),e=c[0];break;case"h":e+=c[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...c]}),r=c[0];break;case"v":r+=c[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...c]}),e=c[2],r=c[3];break;case"s":{const h=c.map(((f,p)=>p%2?f+r:f+e));a.push({key:"S",data:h}),e=h[2],r=h[3];break}case"T":a.push({key:"T",data:[...c]}),e=c[0],r=c[1];break;case"t":e+=c[0],r+=c[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,r=s}return a}function Aee(t){const e=[];let r="",n=0,s=0,a=0,l=0,c=0,h=0;for(const{key:f,data:p}of t){switch(f){case"M":e.push({key:"M",data:[...p]}),[n,s]=p,[a,l]=p;break;case"C":e.push({key:"C",data:[...p]}),n=p[4],s=p[5],c=p[2],h=p[3];break;case"L":e.push({key:"L",data:[...p]}),[n,s]=p;break;case"H":n=p[0],e.push({key:"L",data:[n,s]});break;case"V":s=p[0],e.push({key:"L",data:[n,s]});break;case"S":{let O=0,x=0;r==="C"||r==="S"?(O=n+(n-c),x=s+(s-h)):(O=n,x=s),e.push({key:"C",data:[O,x,...p]}),c=p[0],h=p[1],n=p[2],s=p[3];break}case"T":{const[O,x]=p;let k=0,w=0;r==="Q"||r==="T"?(k=n+(n-c),w=s+(s-h)):(k=n,w=s);const _=n+2*(k-n)/3,C=s+2*(w-s)/3,T=O+2*(k-O)/3,E=x+2*(w-x)/3;e.push({key:"C",data:[_,C,T,E,O,x]}),c=k,h=w,n=O,s=x;break}case"Q":{const[O,x,k,w]=p,_=n+2*(O-n)/3,C=s+2*(x-s)/3,T=k+2*(O-k)/3,E=w+2*(x-w)/3;e.push({key:"C",data:[_,C,T,E,k,w]}),c=O,h=x,n=k,s=w;break}case"A":{const O=Math.abs(p[0]),x=Math.abs(p[1]),k=p[2],w=p[3],_=p[4],C=p[5],T=p[6];O===0||x===0?(e.push({key:"C",data:[n,s,C,T,C,T]}),n=C,s=T):(n!==C||s!==T)&&(See(n,s,C,T,O,x,k,w,_).forEach((function(E){e.push({key:"C",data:E})})),n=C,s=T);break}case"Z":e.push({key:"Z",data:[]}),n=a,s=l}r=f}return e}function E1(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function See(t,e,r,n,s,a,l,c,h,f){const p=(O=l,Math.PI*O/180);var O;let x=[],k=0,w=0,_=0,C=0;if(f)[k,w,_,C]=f;else{[t,e]=E1(t,e,-p),[r,n]=E1(r,n,-p);const F=(t-r)/2,V=(e-n)/2;let te=F*F/(s*s)+V*V/(a*a);te>1&&(te=Math.sqrt(te),s*=te,a*=te);const G=s*s,J=a*a,oe=G*J-G*V*V-J*F*F,ie=G*V*V+J*F*F,be=(c===h?-1:1)*Math.sqrt(Math.abs(oe/ie));_=be*s*V/a+(t+r)/2,C=be*-a*F/s+(e+n)/2,k=Math.asin(parseFloat(((e-C)/a).toFixed(9))),w=Math.asin(parseFloat(((n-C)/a).toFixed(9))),t<_&&(k=Math.PI-k),r<_&&(w=Math.PI-w),k<0&&(k=2*Math.PI+k),w<0&&(w=2*Math.PI+w),h&&k>w&&(k-=2*Math.PI),!h&&w>k&&(w-=2*Math.PI)}let T=w-k;if(Math.abs(T)>120*Math.PI/180){const F=w,V=r,te=n;w=h&&w>k?k+120*Math.PI/180*1:k+120*Math.PI/180*-1,x=See(r=_+s*Math.cos(w),n=C+a*Math.sin(w),V,te,s,a,l,0,h,[w,F,_,C])}T=w-k;const E=Math.cos(k),P=Math.sin(k),Q=Math.cos(w),B=Math.sin(w),R=Math.tan(T/4),M=4/3*s*R,I=4/3*a*R,j=[t,e],z=[t+M*P,e-I*E],X=[r+M*B,n-I*Q],W=[r,n];if(z[0]=2*j[0]-z[0],z[1]=2*j[1]-z[1],f)return[z,X,W].concat(x);{x=[z,X,W].concat(x);const F=[];for(let V=0;V<x.length;V+=3){const te=E1(x[V][0],x[V][1],p),G=E1(x[V+1][0],x[V+1][1],p),J=E1(x[V+2][0],x[V+2][1],p);F.push([te[0],te[1],G[0],G[1],J[0],J[1]])}return F}}const $Ne={randOffset:function(t,e){return sr(t,e)},randOffsetWithRange:function(t,e,r){return Y_(t,e,r)},ellipse:function(t,e,r,n,s){const a=Eee(r,n,s);return KE(t,e,s,a).opset},doubleLineOps:function(t,e,r,n,s){return hh(t,e,r,n,s,!0)}};function Tee(t,e,r,n,s){return{type:"path",ops:hh(t,e,r,n,s)}}function Jv(t,e,r){const n=(t||[]).length;if(n>2){const s=[];for(let a=0;a<n-1;a++)s.push(...hh(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&s.push(...hh(t[n-1][0],t[n-1][1],t[0][0],t[0][1],r)),{type:"path",ops:s}}return n===2?Tee(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function MNe(t,e,r,n,s){return(function(a,l){return Jv(a,!0,l)})([[t,e],[t+r,e],[t+r,e+n],[t,e+n]],s)}function mL(t,e){if(t.length){const r=typeof t[0][0]=="number"?[t]:t,n=Hw(r[0],1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:Hw(r[0],1.5*(1+.22*e.roughness),bL(e));for(let a=1;a<r.length;a++){const l=r[a];if(l.length){const c=Hw(l,1*(1+.2*e.roughness),e),h=e.disableMultiStroke?[]:Hw(l,1.5*(1+.22*e.roughness),bL(e));for(const f of c)f.op!=="move"&&n.push(f);for(const f of h)f.op!=="move"&&s.push(f)}}return{type:"path",ops:n.concat(s)}}return{type:"path",ops:[]}}function Eee(t,e,r){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),s=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/s;let l=Math.abs(t/2),c=Math.abs(e/2);const h=1-r.curveFitting;return l+=sr(l*h,r),c+=sr(c*h,r),{increment:a,rx:l,ry:c}}function KE(t,e,r,n){const[s,a]=kL(n.increment,t,e,n.rx,n.ry,1,n.increment*Y_(.1,Y_(.4,1,r),r),r);let l=Z_(s,null,r);if(!r.disableMultiStroke&&r.roughness!==0){const[c]=kL(n.increment,t,e,n.rx,n.ry,1.5,0,r),h=Z_(c,null,r);l=l.concat(h)}return{estimatedPoints:a,opset:{type:"path",ops:l}}}function OL(t,e,r,n,s,a,l,c,h){const f=t,p=e;let O=Math.abs(r/2),x=Math.abs(n/2);O+=sr(.01*O,h),x+=sr(.01*x,h);let k=s,w=a;for(;k<0;)k+=2*Math.PI,w+=2*Math.PI;w-k>2*Math.PI&&(k=0,w=2*Math.PI);const _=2*Math.PI/h.curveStepCount,C=Math.min(_/2,(w-k)/2),T=yL(C,f,p,O,x,k,w,1,h);if(!h.disableMultiStroke){const E=yL(C,f,p,O,x,k,w,1.5,h);T.push(...E)}return l&&(c?T.push(...hh(f,p,f+O*Math.cos(k),p+x*Math.sin(k),h),...hh(f,p,f+O*Math.cos(w),p+x*Math.sin(w),h)):T.push({op:"lineTo",data:[f,p]},{op:"lineTo",data:[f+O*Math.cos(k),p+x*Math.sin(k)]})),{type:"path",ops:T}}function xL(t,e){const r=Aee(Cee(Y7(t))),n=[];let s=[0,0],a=[0,0];for(const{key:l,data:c}of r)switch(l){case"M":a=[c[0],c[1]],s=[c[0],c[1]];break;case"L":n.push(...hh(a[0],a[1],c[0],c[1],e)),a=[c[0],c[1]];break;case"C":{const[h,f,p,O,x,k]=c;n.push(...RNe(h,f,p,O,x,k,a,e)),a=[x,k];break}case"Z":n.push(...hh(a[0],a[1],s[0],s[1],e)),a=[s[0],s[1]]}return{type:"path",ops:n}}function o3(t,e){const r=[];for(const n of t)if(n.length){const s=e.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+sr(s,e),n[0][1]+sr(s,e)]});for(let l=1;l<a;l++)r.push({op:"lineTo",data:[n[l][0]+sr(s,e),n[l][1]+sr(s,e)]})}}return{type:"fillPath",ops:r}}function L0(t,e){return(function(r,n){let s=r.fillStyle||"hachure";if(!na[s])switch(s){case"zigzag":na[s]||(na[s]=new ANe(n));break;case"cross-hatch":na[s]||(na[s]=new SNe(n));break;case"dots":na[s]||(na[s]=new TNe(n));break;case"dashed":na[s]||(na[s]=new ENe(n));break;case"zigzag-line":na[s]||(na[s]=new PNe(n));break;default:s="hachure",na[s]||(na[s]=new W7(n))}return na[s]})(e,$Ne).fillPolygons(t,e)}function bL(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function Pee(t){return t.randomizer||(t.randomizer=new DNe(t.seed||0)),t.randomizer.next()}function Y_(t,e,r,n=1){return r.roughness*n*(Pee(r)*(e-t)+t)}function sr(t,e,r=1){return Y_(-t,t,e,r)}function hh(t,e,r,n,s,a=!1){const l=a?s.disableMultiStrokeFill:s.disableMultiStroke,c=JE(t,e,r,n,s,!0,!1);if(l)return c;const h=JE(t,e,r,n,s,!0,!0);return c.concat(h)}function JE(t,e,r,n,s,a,l){const c=Math.pow(t-r,2)+Math.pow(e-n,2),h=Math.sqrt(c);let f=1;f=h<200?1:h>500?.4:-.0016668*h+1.233334;let p=s.maxRandomnessOffset||0;p*p*100>c&&(p=h/10);const O=p/2,x=.2+.2*Pee(s);let k=s.bowing*s.maxRandomnessOffset*(n-e)/200,w=s.bowing*s.maxRandomnessOffset*(t-r)/200;k=sr(k,s,f),w=sr(w,s,f);const _=[],C=()=>sr(O,s,f),T=()=>sr(p,s,f),E=s.preserveVertices;return l?_.push({op:"move",data:[t+(E?0:C()),e+(E?0:C())]}):_.push({op:"move",data:[t+(E?0:sr(p,s,f)),e+(E?0:sr(p,s,f))]}),l?_.push({op:"bcurveTo",data:[k+t+(r-t)*x+C(),w+e+(n-e)*x+C(),k+t+2*(r-t)*x+C(),w+e+2*(n-e)*x+C(),r+(E?0:C()),n+(E?0:C())]}):_.push({op:"bcurveTo",data:[k+t+(r-t)*x+T(),w+e+(n-e)*x+T(),k+t+2*(r-t)*x+T(),w+e+2*(n-e)*x+T(),r+(E?0:T()),n+(E?0:T())]}),_}function Hw(t,e,r){if(!t.length)return[];const n=[];n.push([t[0][0]+sr(e,r),t[0][1]+sr(e,r)]),n.push([t[0][0]+sr(e,r),t[0][1]+sr(e,r)]);for(let s=1;s<t.length;s++)n.push([t[s][0]+sr(e,r),t[s][1]+sr(e,r)]),s===t.length-1&&n.push([t[s][0]+sr(e,r),t[s][1]+sr(e,r)]);return Z_(n,null,r)}function Z_(t,e,r){const n=t.length,s=[];if(n>3){const a=[],l=1-r.curveTightness;s.push({op:"move",data:[t[1][0],t[1][1]]});for(let c=1;c+2<n;c++){const h=t[c];a[0]=[h[0],h[1]],a[1]=[h[0]+(l*t[c+1][0]-l*t[c-1][0])/6,h[1]+(l*t[c+1][1]-l*t[c-1][1])/6],a[2]=[t[c+1][0]+(l*t[c][0]-l*t[c+2][0])/6,t[c+1][1]+(l*t[c][1]-l*t[c+2][1])/6],a[3]=[t[c+1][0],t[c+1][1]],s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else n===3?(s.push({op:"move",data:[t[1][0],t[1][1]]}),s.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):n===2&&s.push(...JE(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return s}function kL(t,e,r,n,s,a,l,c){const h=[],f=[];if(c.roughness===0){t/=4,f.push([e+n*Math.cos(-t),r+s*Math.sin(-t)]);for(let p=0;p<=2*Math.PI;p+=t){const O=[e+n*Math.cos(p),r+s*Math.sin(p)];h.push(O),f.push(O)}f.push([e+n*Math.cos(0),r+s*Math.sin(0)]),f.push([e+n*Math.cos(t),r+s*Math.sin(t)])}else{const p=sr(.5,c)-Math.PI/2;f.push([sr(a,c)+e+.9*n*Math.cos(p-t),sr(a,c)+r+.9*s*Math.sin(p-t)]);const O=2*Math.PI+p-.01;for(let x=p;x<O;x+=t){const k=[sr(a,c)+e+n*Math.cos(x),sr(a,c)+r+s*Math.sin(x)];h.push(k),f.push(k)}f.push([sr(a,c)+e+n*Math.cos(p+2*Math.PI+.5*l),sr(a,c)+r+s*Math.sin(p+2*Math.PI+.5*l)]),f.push([sr(a,c)+e+.98*n*Math.cos(p+l),sr(a,c)+r+.98*s*Math.sin(p+l)]),f.push([sr(a,c)+e+.9*n*Math.cos(p+.5*l),sr(a,c)+r+.9*s*Math.sin(p+.5*l)])}return[f,h]}function yL(t,e,r,n,s,a,l,c,h){const f=a+sr(.1,h),p=[];p.push([sr(c,h)+e+.9*n*Math.cos(f-t),sr(c,h)+r+.9*s*Math.sin(f-t)]);for(let O=f;O<=l;O+=t)p.push([sr(c,h)+e+n*Math.cos(O),sr(c,h)+r+s*Math.sin(O)]);return p.push([e+n*Math.cos(l),r+s*Math.sin(l)]),p.push([e+n*Math.cos(l),r+s*Math.sin(l)]),Z_(p,null,h)}function RNe(t,e,r,n,s,a,l,c){const h=[],f=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let p=[0,0];const O=c.disableMultiStroke?1:2,x=c.preserveVertices;for(let k=0;k<O;k++)k===0?h.push({op:"move",data:[l[0],l[1]]}):h.push({op:"move",data:[l[0]+(x?0:sr(f[0],c)),l[1]+(x?0:sr(f[0],c))]}),p=x?[s,a]:[s+sr(f[k],c),a+sr(f[k],c)],h.push({op:"bcurveTo",data:[t+sr(f[k],c),e+sr(f[k],c),r+sr(f[k],c),n+sr(f[k],c),p[0],p[1]]});return h}function P1(t){return[...t]}function wL(t,e=0){const r=t.length;if(r<3)throw new Error("A curve must have at least three points.");const n=[];if(r===3)n.push(P1(t[0]),P1(t[1]),P1(t[2]),P1(t[2]));else{const s=[];s.push(t[0],t[0]);for(let c=1;c<t.length;c++)s.push(t[c]),c===t.length-1&&s.push(t[c]);const a=[],l=1-e;n.push(P1(s[0]));for(let c=1;c+2<s.length;c++){const h=s[c];a[0]=[h[0],h[1]],a[1]=[h[0]+(l*s[c+1][0]-l*s[c-1][0])/6,h[1]+(l*s[c+1][1]-l*s[c-1][1])/6],a[2]=[s[c+1][0]+(l*s[c][0]-l*s[c+2][0])/6,s[c+1][1]+(l*s[c][1]-l*s[c+2][1])/6],a[3]=[s[c+1][0],s[c+1][1]],n.push(a[1],a[2],a[3])}}return n}function e2(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function NNe(t,e,r){const n=e2(e,r);if(n===0)return e2(t,e);let s=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/n;return s=Math.max(0,Math.min(1,s)),e2(t,tu(e,r,s))}function tu(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function e6(t,e,r,n){const s=n||[];if((function(c,h){const f=c[h+0],p=c[h+1],O=c[h+2],x=c[h+3];let k=3*p[0]-2*f[0]-x[0];k*=k;let w=3*p[1]-2*f[1]-x[1];w*=w;let _=3*O[0]-2*x[0]-f[0];_*=_;let C=3*O[1]-2*x[1]-f[1];return C*=C,k<_&&(k=_),w<C&&(w=C),k+w})(t,e)<r){const c=t[e+0];s.length?(a=s[s.length-1],l=c,Math.sqrt(e2(a,l))>1&&s.push(c)):s.push(c),s.push(t[e+3])}else{const h=t[e+0],f=t[e+1],p=t[e+2],O=t[e+3],x=tu(h,f,.5),k=tu(f,p,.5),w=tu(p,O,.5),_=tu(x,k,.5),C=tu(k,w,.5),T=tu(_,C,.5);e6([h,x,_,T],0,r,s),e6([T,C,w,O],0,r,s)}var a,l;return s}function BNe(t,e){return G_(t,0,t.length,e)}function G_(t,e,r,n,s){const a=s||[],l=t[e],c=t[r-1];let h=0,f=1;for(let p=e+1;p<r-1;++p){const O=NNe(t[p],l,c);O>h&&(h=O,f=p)}return Math.sqrt(h)>n?(G_(t,e,f+1,n,a),G_(t,f,r,n,a)):(a.length||a.push(l),a.push(c)),a}function l3(t,e=.15,r){const n=[],s=(t.length-1)/3;for(let a=0;a<s;a++)e6(t,3*a,e,n);return r&&r>0?G_(n,0,n.length,r):n}const Ca="none";class H_{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,n){return{shape:e,sets:r||[],options:n||this.defaultOptions}}line(e,r,n,s,a){const l=this._o(a);return this._d("line",[Tee(e,r,n,s,l)],l)}rectangle(e,r,n,s,a){const l=this._o(a),c=[],h=MNe(e,r,n,s,l);if(l.fill){const f=[[e,r],[e+n,r],[e+n,r+s],[e,r+s]];l.fillStyle==="solid"?c.push(o3([f],l)):c.push(L0([f],l))}return l.stroke!==Ca&&c.push(h),this._d("rectangle",c,l)}ellipse(e,r,n,s,a){const l=this._o(a),c=[],h=Eee(n,s,l),f=KE(e,r,l,h);if(l.fill)if(l.fillStyle==="solid"){const p=KE(e,r,l,h).opset;p.type="fillPath",c.push(p)}else c.push(L0([f.estimatedPoints],l));return l.stroke!==Ca&&c.push(f.opset),this._d("ellipse",c,l)}circle(e,r,n,s){const a=this.ellipse(e,r,n,n,s);return a.shape="circle",a}linearPath(e,r){const n=this._o(r);return this._d("linearPath",[Jv(e,!1,n)],n)}arc(e,r,n,s,a,l,c=!1,h){const f=this._o(h),p=[],O=OL(e,r,n,s,a,l,c,!0,f);if(c&&f.fill)if(f.fillStyle==="solid"){const x=Object.assign({},f);x.disableMultiStroke=!0;const k=OL(e,r,n,s,a,l,!0,!1,x);k.type="fillPath",p.push(k)}else p.push((function(x,k,w,_,C,T,E){const P=x,Q=k;let B=Math.abs(w/2),R=Math.abs(_/2);B+=sr(.01*B,E),R+=sr(.01*R,E);let M=C,I=T;for(;M<0;)M+=2*Math.PI,I+=2*Math.PI;I-M>2*Math.PI&&(M=0,I=2*Math.PI);const j=(I-M)/E.curveStepCount,z=[];for(let X=M;X<=I;X+=j)z.push([P+B*Math.cos(X),Q+R*Math.sin(X)]);return z.push([P+B*Math.cos(I),Q+R*Math.sin(I)]),z.push([P,Q]),L0([z],E)})(e,r,n,s,a,l,f));return f.stroke!==Ca&&p.push(O),this._d("arc",p,f)}curve(e,r){const n=this._o(r),s=[],a=mL(e,n);if(n.fill&&n.fill!==Ca)if(n.fillStyle==="solid"){const l=mL(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=e;if(c.length){const h=typeof c[0][0]=="number"?[c]:c;for(const f of h)f.length<3?l.push(...f):f.length===3?l.push(...l3(wL([f[0],f[0],f[1],f[2]]),10,(1+n.roughness)/2)):l.push(...l3(wL(f),10,(1+n.roughness)/2))}l.length&&s.push(L0([l],n))}return n.stroke!==Ca&&s.push(a),this._d("curve",s,n)}polygon(e,r){const n=this._o(r),s=[],a=Jv(e,!0,n);return n.fill&&(n.fillStyle==="solid"?s.push(o3([e],n)):s.push(L0([e],n))),n.stroke!==Ca&&s.push(a),this._d("polygon",s,n)}path(e,r){const n=this._o(r),s=[];if(!e)return this._d("path",s,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=n.fill&&n.fill!=="transparent"&&n.fill!==Ca,l=n.stroke!==Ca,c=!!(n.simplification&&n.simplification<1),h=(function(p,O,x){const k=Aee(Cee(Y7(p))),w=[];let _=[],C=[0,0],T=[];const E=()=>{T.length>=4&&_.push(...l3(T,O)),T=[]},P=()=>{E(),_.length&&(w.push(_),_=[])};for(const{key:B,data:R}of k)switch(B){case"M":P(),C=[R[0],R[1]],_.push(C);break;case"L":E(),_.push([R[0],R[1]]);break;case"C":if(!T.length){const M=_.length?_[_.length-1]:C;T.push([M[0],M[1]])}T.push([R[0],R[1]]),T.push([R[2],R[3]]),T.push([R[4],R[5]]);break;case"Z":E(),_.push([C[0],C[1]])}if(P(),!x)return w;const Q=[];for(const B of w){const R=BNe(B,x);R.length&&Q.push(R)}return Q})(e,1,c?4-4*(n.simplification||1):(1+n.roughness)/2),f=xL(e,n);if(a)if(n.fillStyle==="solid")if(h.length===1){const p=xL(e,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else s.push(o3(h,n));else s.push(L0(h,n));return l&&(c?h.forEach((p=>{s.push(Jv(p,!1,n))})):s.push(f)),this._d("path",s,n)}opsToPath(e,r){let n="";for(const s of e.ops){const a=typeof r=="number"&&r>=0?s.data.map((l=>+l.toFixed(r))):s.data;switch(s.op){case"move":n+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":n+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":n+=`L${a[0]} ${a[1]} `}}return n.trim()}toPaths(e){const r=e.sets||[],n=e.options||this.defaultOptions,s=[];for(const a of r){let l=null;switch(a.type){case"path":l={d:this.opsToPath(a),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Ca};break;case"fillPath":l={d:this.opsToPath(a),stroke:Ca,strokeWidth:0,fill:n.fill||Ca};break;case"fillSketch":l=this.fillSketch(a,n)}l&&s.push(l)}return s}fillSketch(e,r){let n=r.fillWeight;return n<0&&(n=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||Ca,strokeWidth:n,fill:Ca}}_mergedShape(e){return e.filter(((r,n)=>n===0||r.op!=="move"))}}class INe{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new H_(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),s=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const l of r)switch(l.type){case"path":s.save(),s.strokeStyle=n.stroke==="none"?"transparent":n.stroke,s.lineWidth=n.strokeWidth,n.strokeLineDash&&s.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(s.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(s,l,a),s.restore();break;case"fillPath":{s.save(),s.fillStyle=n.fill||"";const c=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(s,l,a,c),s.restore();break}case"fillSketch":this.fillSketch(s,l,n)}}fillSketch(e,r,n){let s=n.fillWeight;s<0&&(s=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=s,this._drawToContext(e,r,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,n,s="nonzero"){e.beginPath();for(const a of r.ops){const l=typeof n=="number"&&n>=0?a.data.map((c=>+c.toFixed(n))):a.data;switch(a.op){case"move":e.moveTo(l[0],l[1]);break;case"bcurveTo":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":e.lineTo(l[0],l[1])}}r.type==="fillPath"?e.fill(s):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,n,s,a){const l=this.gen.line(e,r,n,s,a);return this.draw(l),l}rectangle(e,r,n,s,a){const l=this.gen.rectangle(e,r,n,s,a);return this.draw(l),l}ellipse(e,r,n,s,a){const l=this.gen.ellipse(e,r,n,s,a);return this.draw(l),l}circle(e,r,n,s){const a=this.gen.circle(e,r,n,s);return this.draw(a),a}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n),n}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n),n}arc(e,r,n,s,a,l,c=!1,h){const f=this.gen.arc(e,r,n,s,a,l,c,h);return this.draw(f),f}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n),n}path(e,r){const n=this.gen.path(e,r);return this.draw(n),n}}const Kw="http://www.w3.org/2000/svg";class jNe{constructor(e,r){this.svg=e,this.gen=new H_(r)}draw(e){const r=e.sets||[],n=e.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,a=s.createElementNS(Kw,"g"),l=e.options.fixedDecimalPlaceDigits;for(const c of r){let h=null;switch(c.type){case"path":h=s.createElementNS(Kw,"path"),h.setAttribute("d",this.opsToPath(c,l)),h.setAttribute("stroke",n.stroke),h.setAttribute("stroke-width",n.strokeWidth+""),h.setAttribute("fill","none"),n.strokeLineDash&&h.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":h=s.createElementNS(Kw,"path"),h.setAttribute("d",this.opsToPath(c,l)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",n.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(s,c,n)}h&&a.appendChild(h)}return a}fillSketch(e,r,n){let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=e.createElementNS(Kw,"path");return a.setAttribute("d",this.opsToPath(r,n.fixedDecimalPlaceDigits)),a.setAttribute("stroke",n.fill||""),a.setAttribute("stroke-width",s+""),a.setAttribute("fill","none"),n.fillLineDash&&a.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,n,s,a){const l=this.gen.line(e,r,n,s,a);return this.draw(l)}rectangle(e,r,n,s,a){const l=this.gen.rectangle(e,r,n,s,a);return this.draw(l)}ellipse(e,r,n,s,a){const l=this.gen.ellipse(e,r,n,s,a);return this.draw(l)}circle(e,r,n,s){const a=this.gen.circle(e,r,n,s);return this.draw(a)}linearPath(e,r){const n=this.gen.linearPath(e,r);return this.draw(n)}polygon(e,r){const n=this.gen.polygon(e,r);return this.draw(n)}arc(e,r,n,s,a,l,c=!1,h){const f=this.gen.arc(e,r,n,s,a,l,c,h);return this.draw(f)}curve(e,r){const n=this.gen.curve(e,r);return this.draw(n)}path(e,r){const n=this.gen.path(e,r);return this.draw(n)}}var Rt={canvas:(t,e)=>new INe(t,e),svg:(t,e)=>new jNe(t,e),generator:t=>new H_(t),newSeed:()=>H_.newSeed()},er=Z(async(t,e,r)=>{var O,x;let n;const s=e.useHtmlLabels||_i((O=Zr())==null?void 0:O.htmlLabels);r?n=r:n="node default";const a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),l=a.insert("g").attr("class","label").attr("style",ws(e.labelStyle));let c;e.label===void 0?c="":c=typeof e.label=="string"?e.label:e.label[0];const h=await Eh(l,fo(Wu(c),Zr()),{useHtmlLabels:s,width:e.width||((x=Zr().flowchart)==null?void 0:x.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let f=h.getBBox();const p=((e==null?void 0:e.padding)??0)/2;if(s){const k=h.children[0],w=hr(h),_=k.getElementsByTagName("img");if(_){const C=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([..._].map(T=>new Promise(E=>{function P(){if(T.style.display="flex",T.style.flexDirection="column",C){const Q=Zr().fontSize?Zr().fontSize:window.getComputedStyle(document.body).fontSize,B=5,[R=OH.fontSize]=iA(Q),M=R*B+"px";T.style.minWidth=M,T.style.maxWidth=M}else T.style.width="100%";E(T)}Z(P,"setupImage"),setTimeout(()=>{T.complete&&P()}),T.addEventListener("error",P),T.addEventListener("load",P)})))}f=k.getBoundingClientRect(),w.attr("width",f.width),w.attr("height",f.height)}return s?l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):l.attr("transform","translate(0, "+-f.height/2+")"),e.centerLabel&&l.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:a,bbox:f,halfPadding:p,label:l}},"labelHelper"),c3=Z(async(t,e,r)=>{var h,f,p,O,x,k;const n=r.useHtmlLabels||_i((f=(h=Zr())==null?void 0:h.flowchart)==null?void 0:f.htmlLabels),s=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Eh(s,fo(Wu(e),Zr()),{useHtmlLabels:n,width:r.width||((O=(p=Zr())==null?void 0:p.flowchart)==null?void 0:O.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let l=a.getBBox();const c=r.padding/2;if(_i((k=(x=Zr())==null?void 0:x.flowchart)==null?void 0:k.htmlLabels)){const w=a.children[0],_=hr(a);l=w.getBoundingClientRect(),_.attr("width",l.width),_.attr("height",l.height)}return n?s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):s.attr("transform","translate(0, "+-l.height/2+")"),r.centerLabel&&s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:t,bbox:l,halfPadding:c,label:s}},"insertLabel"),Lt=Z((t,e)=>{const r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),Ht=Z((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Sr(t){const e=t.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}Z(Sr,"createPathFromPoints");function uh(t,e,r,n,s,a){const l=[],h=r-t,f=n-e,p=h/a,O=2*Math.PI/p,x=e+f/2;for(let k=0;k<=50;k++){const w=k/50,_=t+w*h,C=x+s*Math.sin(O*(_-t));l.push({x:_,y:C})}return l}Z(uh,"generateFullSineWavePoints");function ax(t,e,r,n,s,a){const l=[],c=s*Math.PI/180,p=(a*Math.PI/180-c)/(n-1);for(let O=0;O<n;O++){const x=c+O*p,k=t+r*Math.cos(x),w=e+r*Math.sin(x);l.push({x:-k,y:-w})}return l}Z(ax,"generateCirclePoints");var FNe=Z((t,e)=>{var r=t.x,n=t.y,s=e.x-r,a=e.y-n,l=t.width/2,c=t.height/2,h,f;return Math.abs(a)*l>Math.abs(s)*c?(a<0&&(c=-c),h=a===0?0:c*s/a,f=c):(s<0&&(l=-l),h=l,f=s===0?0:l*a/s),{x:r+h,y:n+f}},"intersectRect"),wg=FNe;function Dee(t,e){e&&t.attr("style",e)}Z(Dee,"applyStyle");async function Qee(t){const e=hr(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),n=Zr();let s=t.label;t.label&&Kf(t.label)&&(s=await i7(t.label.replace(xg.lineBreakRegex,`
`),n));const l='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+s+"</span>";return r.html(fo(l,n)),Dee(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}Z(Qee,"addHtmlLabel");var LNe=Z(async(t,e,r,n)=>{let s=t||"";if(typeof s=="object"&&(s=s[0]),_i(Zr().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),rt.info("vertexText"+s);const a={isNode:n,label:Wu(s).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await Qee(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let l=[];typeof s=="string"?l=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?l=s:l=[];for(const c of l){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=c.trim(),a.appendChild(h)}return a}},"createLabel"),pu=LNe,Ph=Z((t,e,r,n,s)=>["M",t+s,e,"H",t+r-s,"A",s,s,0,0,1,t+r,e+s,"V",e+n-s,"A",s,s,0,0,1,t+r-s,e+n,"H",t+s,"A",s,s,0,0,1,t,e+n-s,"V",e+s,"A",s,s,0,0,1,t+s,e,"Z"].join(" "),"createRoundedRectPathD"),$ee=Z(async(t,e)=>{rt.info("Creating subgraph rect for ",e.id,e);const r=Zr(),{themeVariables:n,handDrawnSeed:s}=r,{clusterBkg:a,clusterBorder:l}=n,{labelStyles:c,nodeStyles:h,borderStyles:f,backgroundStyles:p}=jt(e),O=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=_i(r.flowchart.htmlLabels),k=O.insert("g").attr("class","cluster-label "),w=await Eh(k,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0});let _=w.getBBox();if(_i(r.flowchart.htmlLabels)){const M=w.children[0],I=hr(w);_=M.getBoundingClientRect(),I.attr("width",_.width),I.attr("height",_.height)}const C=e.width<=_.width+e.padding?_.width+e.padding:e.width;e.width<=_.width+e.padding?e.diff=(C-e.width)/2-e.padding:e.diff=-e.padding;const T=e.height,E=e.x-C/2,P=e.y-T/2;rt.trace("Data ",e,JSON.stringify(e));let Q;if(e.look==="handDrawn"){const M=Rt.svg(O),I=It(e,{roughness:.7,fill:a,stroke:l,fillWeight:3,seed:s}),j=M.path(Ph(E,P,C,T,0),I);Q=O.insert(()=>(rt.debug("Rough node insert CXC",j),j),":first-child"),Q.select("path:nth-child(2)").attr("style",f.join(";")),Q.select("path").attr("style",p.join(";").replace("fill","stroke"))}else Q=O.insert("rect",":first-child"),Q.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",E).attr("y",P).attr("width",C).attr("height",T);const{subGraphTitleTopMargin:B}=A7(r);if(k.attr("transform",`translate(${e.x-_.width/2}, ${e.y-e.height/2+B})`),c){const M=k.select("span");M&&M.attr("style",c)}const R=Q.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=_.height-e.padding/2,e.intersect=function(M){return wg(e,M)},{cluster:O,labelBBox:_}},"rect"),zNe=Z((t,e)=>{const r=t.insert("g").attr("class","note-cluster").attr("id",e.id),n=r.insert("rect",":first-child"),s=0*e.padding,a=s/2;n.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+s).attr("height",e.height+s).attr("fill","none");const l=n.node().getBBox();return e.width=l.width,e.height=l.height,e.intersect=function(c){return wg(e,c)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),XNe=Z(async(t,e)=>{const r=Zr(),{themeVariables:n,handDrawnSeed:s}=r,{altBackground:a,compositeBackground:l,compositeTitleBackground:c,nodeBorder:h}=n,f=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),p=f.insert("g",":first-child"),O=f.insert("g").attr("class","cluster-label");let x=f.append("rect");const k=O.node().appendChild(await pu(e.label,e.labelStyle,void 0,!0));let w=k.getBBox();if(_i(r.flowchart.htmlLabels)){const j=k.children[0],z=hr(k);w=j.getBoundingClientRect(),z.attr("width",w.width),z.attr("height",w.height)}const _=0*e.padding,C=_/2,T=(e.width<=w.width+e.padding?w.width+e.padding:e.width)+_;e.width<=w.width+e.padding?e.diff=(T-e.width)/2-e.padding:e.diff=-e.padding;const E=e.height+_,P=e.height+_-w.height-6,Q=e.x-T/2,B=e.y-E/2;e.width=T;const R=e.y-e.height/2-C+w.height+2;let M;if(e.look==="handDrawn"){const j=e.cssClasses.includes("statediagram-cluster-alt"),z=Rt.svg(f),X=e.rx||e.ry?z.path(Ph(Q,B,T,E,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:h,seed:s}):z.rectangle(Q,B,T,E,{seed:s});M=f.insert(()=>X,":first-child");const W=z.rectangle(Q,R,T,P,{fill:j?a:l,fillStyle:j?"hachure":"solid",stroke:h,seed:s});M=f.insert(()=>X,":first-child"),x=f.insert(()=>W)}else M=p.insert("rect",":first-child"),M.attr("class","outer").attr("x",Q).attr("y",B).attr("width",T).attr("height",E).attr("data-look",e.look),x.attr("class","inner").attr("x",Q).attr("y",R).attr("width",T).attr("height",P);O.attr("transform",`translate(${e.x-w.width/2}, ${B+1-(_i(r.flowchart.htmlLabels)?0:3)})`);const I=M.node().getBBox();return e.height=I.height,e.offsetX=0,e.offsetY=w.height-e.padding/2,e.labelBBox=w,e.intersect=function(j){return wg(e,j)},{cluster:f,labelBBox:w}},"roundedWithTitle"),VNe=Z(async(t,e)=>{rt.info("Creating subgraph rect for ",e.id,e);const r=Zr(),{themeVariables:n,handDrawnSeed:s}=r,{clusterBkg:a,clusterBorder:l}=n,{labelStyles:c,nodeStyles:h,borderStyles:f,backgroundStyles:p}=jt(e),O=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=_i(r.flowchart.htmlLabels),k=O.insert("g").attr("class","cluster-label "),w=await Eh(k,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0,width:e.width});let _=w.getBBox();if(_i(r.flowchart.htmlLabels)){const M=w.children[0],I=hr(w);_=M.getBoundingClientRect(),I.attr("width",_.width),I.attr("height",_.height)}const C=e.width<=_.width+e.padding?_.width+e.padding:e.width;e.width<=_.width+e.padding?e.diff=(C-e.width)/2-e.padding:e.diff=-e.padding;const T=e.height,E=e.x-C/2,P=e.y-T/2;rt.trace("Data ",e,JSON.stringify(e));let Q;if(e.look==="handDrawn"){const M=Rt.svg(O),I=It(e,{roughness:.7,fill:a,stroke:l,fillWeight:4,seed:s}),j=M.path(Ph(E,P,C,T,e.rx),I);Q=O.insert(()=>(rt.debug("Rough node insert CXC",j),j),":first-child"),Q.select("path:nth-child(2)").attr("style",f.join(";")),Q.select("path").attr("style",p.join(";").replace("fill","stroke"))}else Q=O.insert("rect",":first-child"),Q.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",E).attr("y",P).attr("width",C).attr("height",T);const{subGraphTitleTopMargin:B}=A7(r);if(k.attr("transform",`translate(${e.x-_.width/2}, ${e.y-e.height/2+B})`),c){const M=k.select("span");M&&M.attr("style",c)}const R=Q.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=_.height-e.padding/2,e.intersect=function(M){return wg(e,M)},{cluster:O,labelBBox:_}},"kanbanSection"),UNe=Z((t,e)=>{const r=Zr(),{themeVariables:n,handDrawnSeed:s}=r,{nodeBorder:a}=n,l=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),c=l.insert("g",":first-child"),h=0*e.padding,f=e.width+h;e.diff=-e.padding;const p=e.height+h,O=e.x-f/2,x=e.y-p/2;e.width=f;let k;if(e.look==="handDrawn"){const C=Rt.svg(l).rectangle(O,x,f,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:s});k=l.insert(()=>C,":first-child")}else k=c.insert("rect",":first-child"),k.attr("class","divider").attr("x",O).attr("y",x).attr("width",f).attr("height",p).attr("data-look",e.look);const w=k.node().getBBox();return e.height=w.height,e.offsetX=0,e.offsetY=0,e.intersect=function(_){return wg(e,_)},{cluster:l,labelBBox:{}}},"divider"),qNe=$ee,WNe={rect:$ee,squareRect:qNe,roundedWithTitle:XNe,noteGroup:zNe,divider:UNe,kanbanSection:VNe},Mee=new Map,YNe=Z(async(t,e)=>{const r=e.shape||"rect",n=await WNe[r](t,e);return Mee.set(e.id,n),n},"insertCluster"),$et=Z(()=>{Mee=new Map},"clear");function Ree(t,e){return t.intersect(e)}Z(Ree,"intersectNode");var ZNe=Ree;function Nee(t,e,r,n){var s=t.x,a=t.y,l=s-n.x,c=a-n.y,h=Math.sqrt(e*e*c*c+r*r*l*l),f=Math.abs(e*r*l/h);n.x<s&&(f=-f);var p=Math.abs(e*r*c/h);return n.y<a&&(p=-p),{x:s+f,y:a+p}}Z(Nee,"intersectEllipse");var Bee=Nee;function Iee(t,e,r){return Bee(t,e,e,r)}Z(Iee,"intersectCircle");var GNe=Iee;function jee(t,e,r,n){{const s=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,c=s*r.x+a*r.y+l,h=s*n.x+a*n.y+l,f=1e-6;if(c!==0&&h!==0&&t6(c,h))return;const p=n.y-r.y,O=r.x-n.x,x=n.x*r.y-r.x*n.y,k=p*t.x+O*t.y+x,w=p*e.x+O*e.y+x;if(Math.abs(k)<f&&Math.abs(w)<f&&t6(k,w))return;const _=s*O-p*a;if(_===0)return;const C=Math.abs(_/2);let T=a*x-O*l;const E=T<0?(T-C)/_:(T+C)/_;T=p*l-s*x;const P=T<0?(T-C)/_:(T+C)/_;return{x:E,y:P}}}Z(jee,"intersectLine");function t6(t,e){return t*e>0}Z(t6,"sameSign");var HNe=jee;function Fee(t,e,r){let n=t.x,s=t.y,a=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(p){l=Math.min(l,p.x),c=Math.min(c,p.y)}):(l=Math.min(l,e.x),c=Math.min(c,e.y));let h=n-t.width/2-l,f=s-t.height/2-c;for(let p=0;p<e.length;p++){let O=e[p],x=e[p<e.length-1?p+1:0],k=HNe(t,r,{x:h+O.x,y:f+O.y},{x:h+x.x,y:f+x.y});k&&a.push(k)}return a.length?(a.length>1&&a.sort(function(p,O){let x=p.x-r.x,k=p.y-r.y,w=Math.sqrt(x*x+k*k),_=O.x-r.x,C=O.y-r.y,T=Math.sqrt(_*_+C*C);return w<T?-1:w===T?0:1}),a[0]):t}Z(Fee,"intersectPolygon");var KNe=Fee,Et={node:ZNe,circle:GNe,ellipse:Bee,polygon:KNe,rect:wg};function Lee(t,e){const{labelStyles:r}=jt(e);e.labelStyle=r;const n=Ht(e);let s=n;n||(s="anchor");const a=t.insert("g").attr("class",s).attr("id",e.domId||e.id),l=1,{cssStyles:c}=e,h=Rt.svg(a),f=It(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(f.roughness=0);const p=h.circle(0,0,l*2,f),O=a.insert(()=>p,":first-child");return O.attr("class","anchor").attr("style",ws(c)),Lt(e,O),e.intersect=function(x){return rt.info("Circle intersect",e,l,x),Et.circle(e,l,x)},a}Z(Lee,"anchor");function r6(t,e,r,n,s,a,l){const h=(t+r)/2,f=(e+n)/2,p=Math.atan2(n-e,r-t),O=(r-t)/2,x=(n-e)/2,k=O/s,w=x/a,_=Math.sqrt(k**2+w**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const C=Math.sqrt(1-_**2),T=h+C*a*Math.sin(p)*(l?-1:1),E=f-C*s*Math.cos(p)*(l?-1:1),P=Math.atan2((e-E)/a,(t-T)/s);let B=Math.atan2((n-E)/a,(r-T)/s)-P;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const R=[];for(let M=0;M<20;M++){const I=M/19,j=P+I*B,z=T+s*Math.cos(j),X=E+a*Math.sin(j);R.push({x:z,y:X})}return R}Z(r6,"generateArcPoints");async function zee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.width+e.padding+20,c=a.height+e.padding,h=c/2,f=h/(2.5+c/50),{cssStyles:p}=e,O=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...r6(-l/2,-c/2,-l/2,c/2,f,h,!1),{x:l/2,y:c/2},...r6(l/2,c/2,l/2,-c/2,f,h,!0)],x=Rt.svg(s),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=Sr(O),_=x.path(w,k),C=s.insert(()=>_,":first-child");return C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(${f/2}, 0)`),Lt(e,C),e.intersect=function(T){return Et.polygon(e,O,T)},s}Z(zee,"bowTieRect");function Dh(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}Z(Dh,"insertPolygonShape");async function Xee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.height+e.padding,c=12,h=a.width+e.padding+c,f=0,p=h,O=-l,x=0,k=[{x:f+c,y:O},{x:p,y:O},{x:p,y:x},{x:f,y:x},{x:f,y:O+c},{x:f+c,y:O}];let w;const{cssStyles:_}=e;if(e.look==="handDrawn"){const C=Rt.svg(s),T=It(e,{}),E=Sr(k),P=C.path(E,T);w=s.insert(()=>P,":first-child").attr("transform",`translate(${-h/2}, ${l/2})`),_&&w.attr("style",_)}else w=Dh(s,h,l,k);return n&&w.attr("style",n),Lt(e,w),e.intersect=function(C){return Et.polygon(e,k,C)},s}Z(Xee,"card");function Vee(t,e){const{nodeStyles:r}=jt(e);e.label="";const n=t.insert("g").attr("class",Ht(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,a=Math.max(28,e.width??0),l=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],c=Rt.svg(n),h=It(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=Sr(l),p=c.path(f,h),O=n.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(x){return Et.polygon(e,l,x)},n}Z(Vee,"choice");async function Z7(t,e,r){const{labelStyles:n,nodeStyles:s}=jt(e);e.labelStyle=n;const{shapeSvg:a,bbox:l,halfPadding:c}=await er(t,e,Ht(e)),h=(r==null?void 0:r.padding)??c,f=l.width/2+h;let p;const{cssStyles:O}=e;if(e.look==="handDrawn"){const x=Rt.svg(a),k=It(e,{}),w=x.circle(0,0,f*2,k);p=a.insert(()=>w,":first-child"),p.attr("class","basic label-container").attr("style",ws(O))}else p=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",f).attr("cx",0).attr("cy",0);return Lt(e,p),e.calcIntersect=function(x,k){const w=x.width/2;return Et.circle(x,w,k)},e.intersect=function(x){return rt.info("Circle intersect",e,f,x),Et.circle(e,f,x)},a}Z(Z7,"circle");function Uee(t){const e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=t*2,s={x:n/2*e,y:n/2*r},a={x:-(n/2)*e,y:n/2*r},l={x:-(n/2)*e,y:-(n/2)*r},c={x:n/2*e,y:-(n/2)*r};return`M ${a.x},${a.y} L ${c.x},${c.y}
                   M ${s.x},${s.y} L ${l.x},${l.y}`}Z(Uee,"createLine");function qee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r,e.label="";const s=t.insert("g").attr("class",Ht(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:l}=e,c=Rt.svg(s),h=It(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const f=c.circle(0,0,a*2,h),p=Uee(a),O=c.path(p,h),x=s.insert(()=>f,":first-child");return x.insert(()=>O),l&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",l),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),Lt(e,x),e.intersect=function(k){return rt.info("crossedCircle intersect",e,{radius:a,point:k}),Et.circle(e,a,k)},s}Z(qee,"crossedCircle");function Cc(t,e,r,n=100,s=0,a=180){const l=[],c=s*Math.PI/180,p=(a*Math.PI/180-c)/(n-1);for(let O=0;O<n;O++){const x=c+O*p,k=t+r*Math.cos(x),w=e+r*Math.sin(x);l.push({x:-k,y:-w})}return l}Z(Cc,"generateCirclePoints");async function Wee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=a.width+(e.padding??0),h=a.height+(e.padding??0),f=Math.max(5,h*.1),{cssStyles:p}=e,O=[...Cc(c/2,-h/2,f,30,-90,0),{x:-c/2-f,y:f},...Cc(c/2+f*2,-f,f,20,-180,-270),...Cc(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:-h/2},...Cc(c/2,h/2,f,20,0,90)],x=[{x:c/2,y:-h/2-f},{x:-c/2,y:-h/2-f},...Cc(c/2,-h/2,f,20,-90,0),{x:-c/2-f,y:-f},...Cc(c/2+c*.1,-f,f,20,-180,-270),...Cc(c/2+c*.1,f,f,20,-90,-180),{x:-c/2-f,y:h/2},...Cc(c/2,h/2,f,20,0,90),{x:-c/2,y:h/2+f},{x:c/2,y:h/2+f}],k=Rt.svg(s),w=It(e,{fill:"none"});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const C=Sr(O).replace("Z",""),T=k.path(C,w),E=Sr(x),P=k.path(E,{...w}),Q=s.insert("g",":first-child");return Q.insert(()=>P,":first-child").attr("stroke-opacity",0),Q.insert(()=>T,":first-child"),Q.attr("class","text"),p&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",n),Q.attr("transform",`translate(${f}, 0)`),l.attr("transform",`translate(${-c/2+f-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Lt(e,Q),e.intersect=function(B){return Et.polygon(e,x,B)},s}Z(Wee,"curlyBraceLeft");function Ac(t,e,r,n=100,s=0,a=180){const l=[],c=s*Math.PI/180,p=(a*Math.PI/180-c)/(n-1);for(let O=0;O<n;O++){const x=c+O*p,k=t+r*Math.cos(x),w=e+r*Math.sin(x);l.push({x:k,y:w})}return l}Z(Ac,"generateCirclePoints");async function Yee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=a.width+(e.padding??0),h=a.height+(e.padding??0),f=Math.max(5,h*.1),{cssStyles:p}=e,O=[...Ac(c/2,-h/2,f,20,-90,0),{x:c/2+f,y:-f},...Ac(c/2+f*2,-f,f,20,-180,-270),...Ac(c/2+f*2,f,f,20,-90,-180),{x:c/2+f,y:h/2},...Ac(c/2,h/2,f,20,0,90)],x=[{x:-c/2,y:-h/2-f},{x:c/2,y:-h/2-f},...Ac(c/2,-h/2,f,20,-90,0),{x:c/2+f,y:-f},...Ac(c/2+f*2,-f,f,20,-180,-270),...Ac(c/2+f*2,f,f,20,-90,-180),{x:c/2+f,y:h/2},...Ac(c/2,h/2,f,20,0,90),{x:c/2,y:h/2+f},{x:-c/2,y:h/2+f}],k=Rt.svg(s),w=It(e,{fill:"none"});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const C=Sr(O).replace("Z",""),T=k.path(C,w),E=Sr(x),P=k.path(E,{...w}),Q=s.insert("g",":first-child");return Q.insert(()=>P,":first-child").attr("stroke-opacity",0),Q.insert(()=>T,":first-child"),Q.attr("class","text"),p&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",n),Q.attr("transform",`translate(${-f}, 0)`),l.attr("transform",`translate(${-c/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Lt(e,Q),e.intersect=function(B){return Et.polygon(e,x,B)},s}Z(Yee,"curlyBraceRight");function Wi(t,e,r,n=100,s=0,a=180){const l=[],c=s*Math.PI/180,p=(a*Math.PI/180-c)/(n-1);for(let O=0;O<n;O++){const x=c+O*p,k=t+r*Math.cos(x),w=e+r*Math.sin(x);l.push({x:-k,y:-w})}return l}Z(Wi,"generateCirclePoints");async function Zee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=a.width+(e.padding??0),h=a.height+(e.padding??0),f=Math.max(5,h*.1),{cssStyles:p}=e,O=[...Wi(c/2,-h/2,f,30,-90,0),{x:-c/2-f,y:f},...Wi(c/2+f*2,-f,f,20,-180,-270),...Wi(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:-h/2},...Wi(c/2,h/2,f,20,0,90)],x=[...Wi(-c/2+f+f/2,-h/2,f,20,-90,-180),{x:c/2-f/2,y:f},...Wi(-c/2-f/2,-f,f,20,0,90),...Wi(-c/2-f/2,f,f,20,-90,0),{x:c/2-f/2,y:-f},...Wi(-c/2+f+f/2,h/2,f,30,-180,-270)],k=[{x:c/2,y:-h/2-f},{x:-c/2,y:-h/2-f},...Wi(c/2,-h/2,f,20,-90,0),{x:-c/2-f,y:-f},...Wi(c/2+f*2,-f,f,20,-180,-270),...Wi(c/2+f*2,f,f,20,-90,-180),{x:-c/2-f,y:h/2},...Wi(c/2,h/2,f,20,0,90),{x:-c/2,y:h/2+f},{x:c/2-f-f/2,y:h/2+f},...Wi(-c/2+f+f/2,-h/2,f,20,-90,-180),{x:c/2-f/2,y:f},...Wi(-c/2-f/2,-f,f,20,0,90),...Wi(-c/2-f/2,f,f,20,-90,0),{x:c/2-f/2,y:-f},...Wi(-c/2+f+f/2,h/2,f,30,-180,-270)],w=Rt.svg(s),_=It(e,{fill:"none"});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const T=Sr(O).replace("Z",""),E=w.path(T,_),Q=Sr(x).replace("Z",""),B=w.path(Q,_),R=Sr(k),M=w.path(R,{..._}),I=s.insert("g",":first-child");return I.insert(()=>M,":first-child").attr("stroke-opacity",0),I.insert(()=>E,":first-child"),I.insert(()=>B,":first-child"),I.attr("class","text"),p&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",p),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(${f-f/4}, 0)`),l.attr("transform",`translate(${-c/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Lt(e,I),e.intersect=function(j){return Et.polygon(e,k,j)},s}Z(Zee,"curlyBraces");async function Gee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=80,c=20,h=Math.max(l,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),f=Math.max(c,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),p=f/2,{cssStyles:O}=e,x=Rt.svg(s),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=h,_=f,C=w-p,T=_/4,E=[{x:C,y:0},{x:T,y:0},{x:0,y:_/2},{x:T,y:_},{x:C,y:_},...ax(-C,-_/2,p,50,270,90)],P=Sr(E),Q=x.path(P,k),B=s.insert(()=>Q,":first-child");return B.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&B.selectChildren("path").attr("style",O),n&&e.look!=="handDrawn"&&B.selectChildren("path").attr("style",n),B.attr("transform",`translate(${-h/2}, ${-f/2})`),Lt(e,B),e.intersect=function(R){return Et.polygon(e,E,R)},s}Z(Gee,"curvedTrapezoid");var JNe=Z((t,e,r,n,s,a)=>[`M${t},${e+a}`,`a${s},${a} 0,0,0 ${r},0`,`a${s},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${s},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),eBe=Z((t,e,r,n,s,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${s},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${s},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),tBe=Z((t,e,r,n,s,a)=>[`M${t-r/2},${-n/2}`,`a${s},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function Hee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+e.padding,e.width??0),h=c/2,f=h/(2.5+c/50),p=Math.max(a.height+f+e.padding,e.height??0);let O;const{cssStyles:x}=e;if(e.look==="handDrawn"){const k=Rt.svg(s),w=eBe(0,0,c,p,h,f),_=tBe(0,f,c,p,h,f),C=k.path(w,It(e,{})),T=k.path(_,It(e,{fill:"none"}));O=s.insert(()=>T,":first-child"),O=s.insert(()=>C,":first-child"),O.attr("class","basic label-container"),x&&O.attr("style",x)}else{const k=JNe(0,0,c,p,h,f);O=s.insert("path",":first-child").attr("d",k).attr("class","basic label-container").attr("style",ws(x)).attr("style",n)}return O.attr("label-offset-y",f),O.attr("transform",`translate(${-c/2}, ${-(p/2+f)})`),Lt(e,O),l.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(k){const w=Et.rect(e,k),_=w.x-(e.x??0);if(h!=0&&(Math.abs(_)<(e.width??0)/2||Math.abs(_)==(e.width??0)/2&&Math.abs(w.y-(e.y??0))>(e.height??0)/2-f)){let C=f*f*(1-_*_/(h*h));C>0&&(C=Math.sqrt(C)),C=f-C,k.y-(e.y??0)>0&&(C=-C),w.y+=C}return w},s}Z(Hee,"cylinder");async function Kee(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=a.width+e.padding,h=a.height+e.padding,f=h*.2,p=-c/2,O=-h/2-f/2,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=[{x:p,y:O+f},{x:-p,y:O+f},{x:-p,y:-O},{x:p,y:-O},{x:p,y:O},{x:-p,y:O},{x:-p,y:O+f}],C=k.polygon(_.map(E=>[E.x,E.y]),w),T=s.insert(()=>C,":first-child");return T.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),l.attr("transform",`translate(${p+(e.padding??0)/2-(a.x-(a.left??0))}, ${O+f+(e.padding??0)/2-(a.y-(a.top??0))})`),Lt(e,T),e.intersect=function(E){return Et.rect(e,E)},s}Z(Kee,"dividedRectangle");async function Jee(t,e){var x,k;const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,halfPadding:l}=await er(t,e,Ht(e)),h=a.width/2+l+5,f=a.width/2+l;let p;const{cssStyles:O}=e;if(e.look==="handDrawn"){const w=Rt.svg(s),_=It(e,{roughness:.2,strokeWidth:2.5}),C=It(e,{roughness:.2,strokeWidth:1.5}),T=w.circle(0,0,h*2,_),E=w.circle(0,0,f*2,C);p=s.insert("g",":first-child"),p.attr("class",ws(e.cssClasses)).attr("style",ws(O)),(x=p.node())==null||x.appendChild(T),(k=p.node())==null||k.appendChild(E)}else{p=s.insert("g",":first-child");const w=p.insert("circle",":first-child"),_=p.insert("circle");p.attr("class","basic label-container").attr("style",n),w.attr("class","outer-circle").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0),_.attr("class","inner-circle").attr("style",n).attr("r",f).attr("cx",0).attr("cy",0)}return Lt(e,p),e.intersect=function(w){return rt.info("DoubleCircle intersect",e,h,w),Et.circle(e,h,w)},s}Z(Jee,"doublecircle");function ete(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:s}=jt(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",Ht(e)).attr("id",e.domId??e.id),l=7,{cssStyles:c}=e,h=Rt.svg(a),{nodeBorder:f}=r,p=It(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(p.roughness=0);const O=h.circle(0,0,l*2,p),x=a.insert(()=>O,":first-child");return x.selectAll("path").attr("style",`fill: ${f} !important;`),c&&c.length>0&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",c),s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),Lt(e,x),e.intersect=function(k){return rt.info("filledCircle intersect",e,{radius:l,point:k}),Et.circle(e,l,k)},a}Z(ete,"filledCircle");async function tte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=a.width+(e.padding??0),h=c+a.height,f=c+a.height,p=[{x:0,y:-h},{x:f,y:-h},{x:f/2,y:0}],{cssStyles:O}=e,x=Rt.svg(s),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=Sr(p),_=x.path(w,k),C=s.insert(()=>_,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return O&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",O),n&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",n),e.width=c,e.height=h,Lt(e,C),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-h/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(T){return rt.info("Triangle intersect",e,p,T),Et.polygon(e,p,T)},s}Z(tte,"flippedTriangle");function rte(t,e,{dir:r,config:{state:n,themeVariables:s}}){const{nodeStyles:a}=jt(e);e.label="";const l=t.insert("g").attr("class",Ht(e)).attr("id",e.domId??e.id),{cssStyles:c}=e;let h=Math.max(70,(e==null?void 0:e.width)??0),f=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(h=Math.max(10,(e==null?void 0:e.width)??0),f=Math.max(70,(e==null?void 0:e.height)??0));const p=-1*h/2,O=-1*f/2,x=Rt.svg(l),k=It(e,{stroke:s.lineColor,fill:s.lineColor});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=x.rectangle(p,O,h,f,k),_=l.insert(()=>w,":first-child");c&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",c),a&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",a),Lt(e,_);const C=(n==null?void 0:n.padding)??0;return e.width&&e.height&&(e.width+=C/2||0,e.height+=C/2||0),e.intersect=function(T){return Et.rect(e,T)},l}Z(rte,"forkJoin");async function nte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const s=80,a=50,{shapeSvg:l,bbox:c}=await er(t,e,Ht(e)),h=Math.max(s,c.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(a,c.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),p=f/2,{cssStyles:O}=e,x=Rt.svg(l),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=[{x:-h/2,y:-f/2},{x:h/2-p,y:-f/2},...ax(-h/2+p,0,p,50,90,270),{x:h/2-p,y:f/2},{x:-h/2,y:f/2}],_=Sr(w),C=x.path(_,k),T=l.insert(()=>C,":first-child");return T.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",O),n&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),Lt(e,T),e.intersect=function(E){return rt.info("Pill intersect",e,{radius:p,point:E}),Et.polygon(e,w,E)},l}Z(nte,"halfRoundedRectangle");async function ite(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.height+(e.padding??0),c=a.width+(e.padding??0)*2.5,{cssStyles:h}=e,f=Rt.svg(s),p=It(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let O=c/2;const x=O/6;O=O+x;const k=l/2,w=k/2,_=O-w,C=[{x:-_,y:-k},{x:0,y:-k},{x:_,y:-k},{x:O,y:0},{x:_,y:k},{x:0,y:k},{x:-_,y:k},{x:-O,y:0}],T=Sr(C),E=f.path(T,p),P=s.insert(()=>E,":first-child");return P.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",h),n&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",n),e.width=c,e.height=l,Lt(e,P),e.intersect=function(Q){return Et.polygon(e,C,Q)},s}Z(ite,"hexagon");async function ste(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.label="",e.labelStyle=r;const{shapeSvg:s}=await er(t,e,Ht(e)),a=Math.max(30,(e==null?void 0:e.width)??0),l=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:c}=e,h=Rt.svg(s),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=[{x:0,y:0},{x:a,y:0},{x:0,y:l},{x:a,y:l}],O=Sr(p),x=h.path(O,f),k=s.insert(()=>x,":first-child");return k.attr("class","basic label-container"),c&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",c),n&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",n),k.attr("transform",`translate(${-a/2}, ${-l/2})`),Lt(e,k),e.intersect=function(w){return rt.info("Pill intersect",e,{points:p}),Et.polygon(e,p,w)},s}Z(ste,"hourglass");async function ate(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=jt(e);e.labelStyle=s;const a=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(a,l),h=n==null?void 0:n.wrappingWidth;e.width=Math.max(c,h??0);const{shapeSvg:f,bbox:p,label:O}=await er(t,e,"icon-shape default"),x=e.pos==="t",k=c,w=c,{nodeBorder:_}=r,{stylesMap:C}=bg(e),T=-w/2,E=-k/2,P=e.label?8:0,Q=Rt.svg(f),B=It(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const R=Q.rectangle(T,E,w,k,B),M=Math.max(w,p.width),I=k+p.height+P,j=Q.rectangle(-M/2,-I/2,M,I,{...B,fill:"transparent",stroke:"none"}),z=f.insert(()=>R,":first-child"),X=f.insert(()=>j);if(e.icon){const W=f.append("g");W.html(`<g>${await Wx(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const F=W.node().getBBox(),V=F.width,te=F.height,G=F.x,J=F.y;W.attr("transform",`translate(${-V/2-G},${x?p.height/2+P/2-te/2-J:-p.height/2-P/2-te/2-J})`),W.attr("style",`color: ${C.get("stroke")??_};`)}return O.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${x?-I/2:I/2-p.height})`),z.attr("transform",`translate(0,${x?p.height/2+P/2:-p.height/2-P/2})`),Lt(e,X),e.intersect=function(W){if(rt.info("iconSquare intersect",e,W),!e.label)return Et.rect(e,W);const F=e.x??0,V=e.y??0,te=e.height??0;let G=[];return x?G=[{x:F-p.width/2,y:V-te/2},{x:F+p.width/2,y:V-te/2},{x:F+p.width/2,y:V-te/2+p.height+P},{x:F+w/2,y:V-te/2+p.height+P},{x:F+w/2,y:V+te/2},{x:F-w/2,y:V+te/2},{x:F-w/2,y:V-te/2+p.height+P},{x:F-p.width/2,y:V-te/2+p.height+P}]:G=[{x:F-w/2,y:V-te/2},{x:F+w/2,y:V-te/2},{x:F+w/2,y:V-te/2+k},{x:F+p.width/2,y:V-te/2+k},{x:F+p.width/2/2,y:V+te/2},{x:F-p.width/2,y:V+te/2},{x:F-p.width/2,y:V-te/2+k},{x:F-w/2,y:V-te/2+k}],Et.polygon(e,G,W)},f}Z(ate,"icon");async function ote(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=jt(e);e.labelStyle=s;const a=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(a,l),h=n==null?void 0:n.wrappingWidth;e.width=Math.max(c,h??0);const{shapeSvg:f,bbox:p,label:O}=await er(t,e,"icon-shape default"),x=20,k=e.label?8:0,w=e.pos==="t",{nodeBorder:_,mainBkg:C}=r,{stylesMap:T}=bg(e),E=Rt.svg(f),P=It(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const Q=T.get("fill");P.stroke=Q??C;const B=f.append("g");e.icon&&B.html(`<g>${await Wx(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const R=B.node().getBBox(),M=R.width,I=R.height,j=R.x,z=R.y,X=Math.max(M,I)*Math.SQRT2+x*2,W=E.circle(0,0,X,P),F=Math.max(X,p.width),V=X+p.height+k,te=E.rectangle(-F/2,-V/2,F,V,{...P,fill:"transparent",stroke:"none"}),G=f.insert(()=>W,":first-child"),J=f.insert(()=>te);return B.attr("transform",`translate(${-M/2-j},${w?p.height/2+k/2-I/2-z:-p.height/2-k/2-I/2-z})`),B.attr("style",`color: ${T.get("stroke")??_};`),O.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${w?-V/2:V/2-p.height})`),G.attr("transform",`translate(0,${w?p.height/2+k/2:-p.height/2-k/2})`),Lt(e,J),e.intersect=function(oe){return rt.info("iconSquare intersect",e,oe),Et.rect(e,oe)},f}Z(ote,"iconCircle");async function lte(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=jt(e);e.labelStyle=s;const a=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(a,l),h=n==null?void 0:n.wrappingWidth;e.width=Math.max(c,h??0);const{shapeSvg:f,bbox:p,halfPadding:O,label:x}=await er(t,e,"icon-shape default"),k=e.pos==="t",w=c+O*2,_=c+O*2,{nodeBorder:C,mainBkg:T}=r,{stylesMap:E}=bg(e),P=-_/2,Q=-w/2,B=e.label?8:0,R=Rt.svg(f),M=It(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const I=E.get("fill");M.stroke=I??T;const j=R.path(Ph(P,Q,_,w,5),M),z=Math.max(_,p.width),X=w+p.height+B,W=R.rectangle(-z/2,-X/2,z,X,{...M,fill:"transparent",stroke:"none"}),F=f.insert(()=>j,":first-child").attr("class","icon-shape2"),V=f.insert(()=>W);if(e.icon){const te=f.append("g");te.html(`<g>${await Wx(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const G=te.node().getBBox(),J=G.width,oe=G.height,ie=G.x,be=G.y;te.attr("transform",`translate(${-J/2-ie},${k?p.height/2+B/2-oe/2-be:-p.height/2-B/2-oe/2-be})`),te.attr("style",`color: ${E.get("stroke")??C};`)}return x.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${k?-X/2:X/2-p.height})`),F.attr("transform",`translate(0,${k?p.height/2+B/2:-p.height/2-B/2})`),Lt(e,V),e.intersect=function(te){if(rt.info("iconSquare intersect",e,te),!e.label)return Et.rect(e,te);const G=e.x??0,J=e.y??0,oe=e.height??0;let ie=[];return k?ie=[{x:G-p.width/2,y:J-oe/2},{x:G+p.width/2,y:J-oe/2},{x:G+p.width/2,y:J-oe/2+p.height+B},{x:G+_/2,y:J-oe/2+p.height+B},{x:G+_/2,y:J+oe/2},{x:G-_/2,y:J+oe/2},{x:G-_/2,y:J-oe/2+p.height+B},{x:G-p.width/2,y:J-oe/2+p.height+B}]:ie=[{x:G-_/2,y:J-oe/2},{x:G+_/2,y:J-oe/2},{x:G+_/2,y:J-oe/2+w},{x:G+p.width/2,y:J-oe/2+w},{x:G+p.width/2/2,y:J+oe/2},{x:G-p.width/2,y:J+oe/2},{x:G-p.width/2,y:J-oe/2+w},{x:G-_/2,y:J-oe/2+w}],Et.polygon(e,ie,te)},f}Z(lte,"iconRounded");async function cte(t,e,{config:{themeVariables:r,flowchart:n}}){const{labelStyles:s}=jt(e);e.labelStyle=s;const a=e.assetHeight??48,l=e.assetWidth??48,c=Math.max(a,l),h=n==null?void 0:n.wrappingWidth;e.width=Math.max(c,h??0);const{shapeSvg:f,bbox:p,halfPadding:O,label:x}=await er(t,e,"icon-shape default"),k=e.pos==="t",w=c+O*2,_=c+O*2,{nodeBorder:C,mainBkg:T}=r,{stylesMap:E}=bg(e),P=-_/2,Q=-w/2,B=e.label?8:0,R=Rt.svg(f),M=It(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const I=E.get("fill");M.stroke=I??T;const j=R.path(Ph(P,Q,_,w,.1),M),z=Math.max(_,p.width),X=w+p.height+B,W=R.rectangle(-z/2,-X/2,z,X,{...M,fill:"transparent",stroke:"none"}),F=f.insert(()=>j,":first-child"),V=f.insert(()=>W);if(e.icon){const te=f.append("g");te.html(`<g>${await Wx(e.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const G=te.node().getBBox(),J=G.width,oe=G.height,ie=G.x,be=G.y;te.attr("transform",`translate(${-J/2-ie},${k?p.height/2+B/2-oe/2-be:-p.height/2-B/2-oe/2-be})`),te.attr("style",`color: ${E.get("stroke")??C};`)}return x.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${k?-X/2:X/2-p.height})`),F.attr("transform",`translate(0,${k?p.height/2+B/2:-p.height/2-B/2})`),Lt(e,V),e.intersect=function(te){if(rt.info("iconSquare intersect",e,te),!e.label)return Et.rect(e,te);const G=e.x??0,J=e.y??0,oe=e.height??0;let ie=[];return k?ie=[{x:G-p.width/2,y:J-oe/2},{x:G+p.width/2,y:J-oe/2},{x:G+p.width/2,y:J-oe/2+p.height+B},{x:G+_/2,y:J-oe/2+p.height+B},{x:G+_/2,y:J+oe/2},{x:G-_/2,y:J+oe/2},{x:G-_/2,y:J-oe/2+p.height+B},{x:G-p.width/2,y:J-oe/2+p.height+B}]:ie=[{x:G-_/2,y:J-oe/2},{x:G+_/2,y:J-oe/2},{x:G+_/2,y:J-oe/2+w},{x:G+p.width/2,y:J-oe/2+w},{x:G+p.width/2/2,y:J+oe/2},{x:G-p.width/2,y:J+oe/2},{x:G-p.width/2,y:J-oe/2+w},{x:G-_/2,y:J-oe/2+w}],Et.polygon(e,ie,te)},f}Z(cte,"iconSquare");async function dte(t,e,{config:{flowchart:r}}){const n=new Image;n.src=(e==null?void 0:e.img)??"",await n.decode();const s=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));e.imageAspectRatio=s/a;const{labelStyles:l}=jt(e);e.labelStyle=l;const c=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;const h=Math.max(e.label?c??0:0,(e==null?void 0:e.assetWidth)??s),f=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:h,p=e.constraint==="on"?f/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(f,c??0);const{shapeSvg:O,bbox:x,label:k}=await er(t,e,"image-shape default"),w=e.pos==="t",_=-f/2,C=-p/2,T=e.label?8:0,E=Rt.svg(O),P=It(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const Q=E.rectangle(_,C,f,p,P),B=Math.max(f,x.width),R=p+x.height+T,M=E.rectangle(-B/2,-R/2,B,R,{...P,fill:"none",stroke:"none"}),I=O.insert(()=>Q,":first-child"),j=O.insert(()=>M);if(e.img){const z=O.append("image");z.attr("href",e.img),z.attr("width",f),z.attr("height",p),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-f/2},${w?R/2-p:-R/2})`)}return k.attr("transform",`translate(${-x.width/2-(x.x-(x.left??0))},${w?-p/2-x.height/2-T/2:p/2-x.height/2+T/2})`),I.attr("transform",`translate(0,${w?x.height/2+T/2:-x.height/2-T/2})`),Lt(e,j),e.intersect=function(z){if(rt.info("iconSquare intersect",e,z),!e.label)return Et.rect(e,z);const X=e.x??0,W=e.y??0,F=e.height??0;let V=[];return w?V=[{x:X-x.width/2,y:W-F/2},{x:X+x.width/2,y:W-F/2},{x:X+x.width/2,y:W-F/2+x.height+T},{x:X+f/2,y:W-F/2+x.height+T},{x:X+f/2,y:W+F/2},{x:X-f/2,y:W+F/2},{x:X-f/2,y:W-F/2+x.height+T},{x:X-x.width/2,y:W-F/2+x.height+T}]:V=[{x:X-f/2,y:W-F/2},{x:X+f/2,y:W-F/2},{x:X+f/2,y:W-F/2+p},{x:X+x.width/2,y:W-F/2+p},{x:X+x.width/2/2,y:W+F/2},{x:X-x.width/2,y:W+F/2},{x:X-x.width/2,y:W-F/2+p},{x:X-f/2,y:W-F/2+p}],Et.polygon(e,V,z)},O}Z(dte,"imageSquare");async function hte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const O=Rt.svg(s),x=It(e,{}),k=Sr(h),w=O.path(k,x);f=s.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=Dh(s,l,c,h);return n&&f.attr("style",n),e.width=l,e.height=c,Lt(e,f),e.intersect=function(O){return Et.polygon(e,h,O)},s}Z(hte,"inv_trapezoid");async function dA(t,e,r){const{labelStyles:n,nodeStyles:s}=jt(e);e.labelStyle=n;const{shapeSvg:a,bbox:l}=await er(t,e,Ht(e)),c=Math.max(l.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),h=Math.max(l.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),f=-c/2,p=-h/2;let O,{rx:x,ry:k}=e;const{cssStyles:w}=e;if(r!=null&&r.rx&&r.ry&&(x=r.rx,k=r.ry),e.look==="handDrawn"){const _=Rt.svg(a),C=It(e,{}),T=x||k?_.path(Ph(f,p,c,h,x||0),C):_.rectangle(f,p,c,h,C);O=a.insert(()=>T,":first-child"),O.attr("class","basic label-container").attr("style",ws(w))}else O=a.insert("rect",":first-child"),O.attr("class","basic label-container").attr("style",s).attr("rx",ws(x)).attr("ry",ws(k)).attr("x",f).attr("y",p).attr("width",c).attr("height",h);return Lt(e,O),e.calcIntersect=function(_,C){return Et.rect(_,C)},e.intersect=function(_){return Et.rect(e,_)},a}Z(dA,"drawRect");async function ute(t,e){const{shapeSvg:r,bbox:n,label:s}=await er(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),s.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),Lt(e,a),e.intersect=function(h){return Et.rect(e,h)},r}Z(ute,"labelRect");async function fte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),h=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const O=Rt.svg(s),x=It(e,{}),k=Sr(h),w=O.path(k,x);f=s.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=Dh(s,l,c,h);return n&&f.attr("style",n),e.width=l,e.height=c,Lt(e,f),e.intersect=function(O){return Et.polygon(e,h,O)},s}Z(fte,"lean_left");async function gte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),h=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const O=Rt.svg(s),x=It(e,{}),k=Sr(h),w=O.path(k,x);f=s.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=Dh(s,l,c,h);return n&&f.attr("style",n),e.width=l,e.height=c,Lt(e,f),e.intersect=function(O){return Et.polygon(e,h,O)},s}Z(gte,"lean_right");function pte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",Ht(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,l=Math.max(35,(e==null?void 0:e.width)??0),c=Math.max(35,(e==null?void 0:e.height)??0),h=7,f=[{x:l,y:0},{x:0,y:c+h/2},{x:l-2*h,y:c+h/2},{x:0,y:2*c},{x:l,y:c-h/2},{x:2*h,y:c-h/2}],p=Rt.svg(s),O=It(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const x=Sr(f),k=p.path(x,O),w=s.insert(()=>k,":first-child");return a&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(-${l/2},${-c})`),Lt(e,w),e.intersect=function(_){return rt.info("lightningBolt intersect",e,_),Et.polygon(e,f,_)},s}Z(pte,"lightningBolt");var rBe=Z((t,e,r,n,s,a,l)=>[`M${t},${e+a}`,`a${s},${a} 0,0,0 ${r},0`,`a${s},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${s},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+l}`,`a${s},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),nBe=Z((t,e,r,n,s,a,l)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${s},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${s},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${t},${e+a+l}`,`a${s},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),iBe=Z((t,e,r,n,s,a)=>[`M${t-r/2},${-n/2}`,`a${s},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");async function mte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0),e.width??0),h=c/2,f=h/(2.5+c/50),p=Math.max(a.height+f+(e.padding??0),e.height??0),O=p*.1;let x;const{cssStyles:k}=e;if(e.look==="handDrawn"){const w=Rt.svg(s),_=nBe(0,0,c,p,h,f,O),C=iBe(0,f,c,p,h,f),T=It(e,{}),E=w.path(_,T),P=w.path(C,T);s.insert(()=>P,":first-child").attr("class","line"),x=s.insert(()=>E,":first-child"),x.attr("class","basic label-container"),k&&x.attr("style",k)}else{const w=rBe(0,0,c,p,h,f,O);x=s.insert("path",":first-child").attr("d",w).attr("class","basic label-container").attr("style",ws(k)).attr("style",n)}return x.attr("label-offset-y",f),x.attr("transform",`translate(${-c/2}, ${-(p/2+f)})`),Lt(e,x),l.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+f-(a.y-(a.top??0))})`),e.intersect=function(w){const _=Et.rect(e,w),C=_.x-(e.x??0);if(h!=0&&(Math.abs(C)<(e.width??0)/2||Math.abs(C)==(e.width??0)/2&&Math.abs(_.y-(e.y??0))>(e.height??0)/2-f)){let T=f*f*(1-C*C/(h*h));T>0&&(T=Math.sqrt(T)),T=f-T,w.y-(e.y??0)>0&&(T=-T),_.y+=T}return _},s}Z(mte,"linedCylinder");async function Ote(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=h/4,p=h+f,{cssStyles:O}=e,x=Rt.svg(s),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=[{x:-c/2-c/2*.1,y:-p/2},{x:-c/2-c/2*.1,y:p/2},...uh(-c/2-c/2*.1,p/2,c/2+c/2*.1,p/2,f,.8),{x:c/2+c/2*.1,y:-p/2},{x:-c/2-c/2*.1,y:-p/2},{x:-c/2,y:-p/2},{x:-c/2,y:p/2*1.1},{x:-c/2,y:-p/2}],_=x.polygon(w.map(T=>[T.x,T.y]),k),C=s.insert(()=>_,":first-child");return C.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",O),n&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)+c/2*.1/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)-f/2-(a.y-(a.top??0))})`),Lt(e,C),e.intersect=function(T){return Et.polygon(e,w,T)},s}Z(Ote,"linedWaveEdgedRect");async function xte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=5,p=-c/2,O=-h/2,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{}),_=[{x:p-f,y:O+f},{x:p-f,y:O+h+f},{x:p+c-f,y:O+h+f},{x:p+c-f,y:O+h},{x:p+c,y:O+h},{x:p+c,y:O+h-f},{x:p+c+f,y:O+h-f},{x:p+c+f,y:O-f},{x:p+f,y:O-f},{x:p+f,y:O},{x:p,y:O},{x:p,y:O+f}],C=[{x:p,y:O+f},{x:p+c-f,y:O+f},{x:p+c-f,y:O+h},{x:p+c,y:O+h},{x:p+c,y:O},{x:p,y:O}];e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=Sr(_),E=k.path(T,w),P=Sr(C),Q=k.path(P,{...w,fill:"none"}),B=s.insert(()=>Q,":first-child");return B.insert(()=>E,":first-child"),B.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)+f-(a.y-(a.top??0))})`),Lt(e,B),e.intersect=function(R){return Et.polygon(e,_,R)},s}Z(xte,"multiRect");async function bte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=h/4,p=h+f,O=-c/2,x=-p/2,k=5,{cssStyles:w}=e,_=uh(O-k,x+p+k,O+c-k,x+p+k,f,.8),C=_==null?void 0:_[_.length-1],T=[{x:O-k,y:x+k},{x:O-k,y:x+p+k},..._,{x:O+c-k,y:C.y-k},{x:O+c,y:C.y-k},{x:O+c,y:C.y-2*k},{x:O+c+k,y:C.y-2*k},{x:O+c+k,y:x-k},{x:O+k,y:x-k},{x:O+k,y:x},{x:O,y:x},{x:O,y:x+k}],E=[{x:O,y:x+k},{x:O+c-k,y:x+k},{x:O+c-k,y:C.y-k},{x:O+c,y:C.y-k},{x:O+c,y:x},{x:O,y:x}],P=Rt.svg(s),Q=It(e,{});e.look!=="handDrawn"&&(Q.roughness=0,Q.fillStyle="solid");const B=Sr(T),R=P.path(B,Q),M=Sr(E),I=P.path(M,Q),j=s.insert(()=>R,":first-child");return j.insert(()=>I),j.attr("class","basic label-container"),w&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",w),n&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",n),j.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-(a.width/2)-k-(a.x-(a.left??0))}, ${-(a.height/2)+k-f/2-(a.y-(a.top??0))})`),Lt(e,j),e.intersect=function(z){return Et.polygon(e,T,z)},s}Z(bte,"multiWaveEdgedRectangle");async function kte(t,e,{config:{themeVariables:r}}){var E;const{labelStyles:n,nodeStyles:s}=jt(e);e.labelStyle=n,e.useHtmlLabels||((E=ks().flowchart)==null?void 0:E.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:l,bbox:c,label:h}=await er(t,e,Ht(e)),f=Math.max(c.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),p=Math.max(c.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),O=-f/2,x=-p/2,{cssStyles:k}=e,w=Rt.svg(l),_=It(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const C=w.rectangle(O,x,f,p,_),T=l.insert(()=>C,":first-child");return T.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",s),h.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Lt(e,T),e.intersect=function(P){return Et.rect(e,P)},l}Z(kte,"note");var sBe=Z((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function yte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.width+e.padding,c=a.height+e.padding,h=l+c,f=.5,p=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let O;const{cssStyles:x}=e;if(e.look==="handDrawn"){const k=Rt.svg(s),w=It(e,{}),_=sBe(0,0,h),C=k.path(_,w);O=s.insert(()=>C,":first-child").attr("transform",`translate(${-h/2+f}, ${h/2})`),x&&O.attr("style",x)}else O=Dh(s,h,h,p),O.attr("transform",`translate(${-h/2+f}, ${h/2})`);return n&&O.attr("style",n),Lt(e,O),e.calcIntersect=function(k,w){const _=k.width,C=[{x:_/2,y:0},{x:_,y:-_/2},{x:_/2,y:-_},{x:0,y:-_/2}],T=Et.polygon(k,C,w);return{x:T.x-.5,y:T.y-.5}},e.intersect=function(k){return this.calcIntersect(e,k)},s}Z(yte,"question");async function wte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),f=-c/2,p=-h/2,O=p/2,x=[{x:f+O,y:p},{x:f,y:0},{x:f+O,y:-p},{x:-f,y:-p},{x:-f,y:p}],{cssStyles:k}=e,w=Rt.svg(s),_=It(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const C=Sr(x),T=w.path(C,_),E=s.insert(()=>T,":first-child");return E.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",k),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${-O/2},0)`),l.attr("transform",`translate(${-O/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Lt(e,E),e.intersect=function(P){return Et.polygon(e,x,P)},s}Z(wte,"rect_left_inv_arrow");async function vte(t,e){var I,j;const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;let s;e.cssClasses?s="node "+e.cssClasses:s="node default";const a=t.insert("g").attr("class",s).attr("id",e.domId||e.id),l=a.insert("g"),c=a.insert("g").attr("class","label").attr("style",n),h=e.description,f=e.label,p=c.node().appendChild(await pu(f,e.labelStyle,!0,!0));let O={width:0,height:0};if(_i((j=(I=Zr())==null?void 0:I.flowchart)==null?void 0:j.htmlLabels)){const z=p.children[0],X=hr(p);O=z.getBoundingClientRect(),X.attr("width",O.width),X.attr("height",O.height)}rt.info("Text 2",h);const x=h||[],k=p.getBBox(),w=c.node().appendChild(await pu(x.join?x.join("<br/>"):x,e.labelStyle,!0,!0)),_=w.children[0],C=hr(w);O=_.getBoundingClientRect(),C.attr("width",O.width),C.attr("height",O.height);const T=(e.padding||0)/2;hr(w).attr("transform","translate( "+(O.width>k.width?0:(k.width-O.width)/2)+", "+(k.height+T+5)+")"),hr(p).attr("transform","translate( "+(O.width<k.width?0:-(k.width-O.width)/2)+", 0)"),O=c.node().getBBox(),c.attr("transform","translate("+-O.width/2+", "+(-O.height/2-T+3)+")");const E=O.width+(e.padding||0),P=O.height+(e.padding||0),Q=-O.width/2-T,B=-O.height/2-T;let R,M;if(e.look==="handDrawn"){const z=Rt.svg(a),X=It(e,{}),W=z.path(Ph(Q,B,E,P,e.rx||0),X),F=z.line(-O.width/2-T,-O.height/2-T+k.height+T,O.width/2+T,-O.height/2-T+k.height+T,X);M=a.insert(()=>(rt.debug("Rough node insert CXC",W),F),":first-child"),R=a.insert(()=>(rt.debug("Rough node insert CXC",W),W),":first-child")}else R=l.insert("rect",":first-child"),M=l.insert("line"),R.attr("class","outer title-state").attr("style",n).attr("x",-O.width/2-T).attr("y",-O.height/2-T).attr("width",O.width+(e.padding||0)).attr("height",O.height+(e.padding||0)),M.attr("class","divider").attr("x1",-O.width/2-T).attr("x2",O.width/2+T).attr("y1",-O.height/2-T+k.height+T).attr("y2",-O.height/2-T+k.height+T);return Lt(e,R),e.intersect=function(z){return Et.rect(e,z)},a}Z(vte,"rectWithTitle");function V1(t,e,r,n,s,a,l){const h=(t+r)/2,f=(e+n)/2,p=Math.atan2(n-e,r-t),O=(r-t)/2,x=(n-e)/2,k=O/s,w=x/a,_=Math.sqrt(k**2+w**2);if(_>1)throw new Error("The given radii are too small to create an arc between the points.");const C=Math.sqrt(1-_**2),T=h+C*a*Math.sin(p)*(l?-1:1),E=f-C*s*Math.cos(p)*(l?-1:1),P=Math.atan2((e-E)/a,(t-T)/s);let B=Math.atan2((n-E)/a,(r-T)/s)-P;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const R=[];for(let M=0;M<20;M++){const I=M/19,j=P+I*B,z=T+s*Math.cos(j),X=E+a*Math.sin(j);R.push({x:z,y:X})}return R}Z(V1,"generateArcPoints");async function _te(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=(e==null?void 0:e.padding)??0,c=(e==null?void 0:e.padding)??0,h=(e!=null&&e.width?e==null?void 0:e.width:a.width)+l*2,f=(e!=null&&e.height?e==null?void 0:e.height:a.height)+c*2,p=e.radius||5,O=e.taper||5,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{});e.stroke&&(w.stroke=e.stroke),e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=[{x:-h/2+O,y:-f/2},{x:h/2-O,y:-f/2},...V1(h/2-O,-f/2,h/2,-f/2+O,p,p,!0),{x:h/2,y:-f/2+O},{x:h/2,y:f/2-O},...V1(h/2,f/2-O,h/2-O,f/2,p,p,!0),{x:h/2-O,y:f/2},{x:-h/2+O,y:f/2},...V1(-h/2+O,f/2,-h/2,f/2-O,p,p,!0),{x:-h/2,y:f/2-O},{x:-h/2,y:-f/2+O},...V1(-h/2,-f/2+O,-h/2+O,-f/2,p,p,!0)],C=Sr(_),T=k.path(C,w),E=s.insert(()=>T,":first-child");return E.attr("class","basic label-container outer-path"),x&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",x),n&&e.look!=="handDrawn"&&E.selectChildren("path").attr("style",n),Lt(e,E),e.intersect=function(P){return Et.polygon(e,_,P)},s}Z(_te,"roundedRect");async function Cte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=(e==null?void 0:e.padding)??0,h=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),p=-a.width/2-c,O=-a.height/2-c,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=[{x:p,y:O},{x:p+h+8,y:O},{x:p+h+8,y:O+f},{x:p-8,y:O+f},{x:p-8,y:O},{x:p,y:O},{x:p,y:O+f}],C=k.polygon(_.map(E=>[E.x,E.y]),w),T=s.insert(()=>C,":first-child");return T.attr("class","basic label-container").attr("style",ws(x)),n&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),x&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",n),l.attr("transform",`translate(${-h/2+4+(e.padding??0)-(a.x-(a.left??0))},${-f/2+(e.padding??0)-(a.y-(a.top??0))})`),Lt(e,T),e.intersect=function(E){return Et.rect(e,E)},s}Z(Cte,"shadedProcess");async function Ate(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=-c/2,p=-h/2,{cssStyles:O}=e,x=Rt.svg(s),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=[{x:f,y:p},{x:f,y:p+h},{x:f+c,y:p+h},{x:f+c,y:p-h/2}],_=Sr(w),C=x.path(_,k),T=s.insert(()=>C,":first-child");return T.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",O),n&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),T.attr("transform",`translate(0, ${h/4})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(a.x-(a.left??0))}, ${-h/4+(e.padding??0)-(a.y-(a.top??0))})`),Lt(e,T),e.intersect=function(E){return Et.polygon(e,w,E)},s}Z(Ate,"slopedRect");async function Ste(t,e){const r={rx:0,ry:0,labelPaddingX:e.labelPaddingX??((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return dA(t,e,r)}Z(Ste,"squareRect");async function Tte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.height+e.padding,c=a.width+l/4+e.padding,h=l/2,{cssStyles:f}=e,p=Rt.svg(s),O=It(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const x=[{x:-c/2+h,y:-l/2},{x:c/2-h,y:-l/2},...ax(-c/2+h,0,h,50,90,270),{x:c/2-h,y:l/2},...ax(c/2-h,0,h,50,270,450)],k=Sr(x),w=p.path(k,O),_=s.insert(()=>w,":first-child");return _.attr("class","basic label-container outer-path"),f&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",f),n&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",n),Lt(e,_),e.intersect=function(C){return Et.polygon(e,x,C)},s}Z(Tte,"stadium");async function Ete(t,e){return dA(t,e,{rx:5,ry:5})}Z(Ete,"state");function Pte(t,e,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:s}=jt(e);e.labelStyle=n;const{cssStyles:a}=e,{lineColor:l,stateBorder:c,nodeBorder:h}=r,f=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),p=Rt.svg(f),O=It(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const x=p.circle(0,0,14,{...O,stroke:l,strokeWidth:2}),k=c??h,w=p.circle(0,0,5,{...O,fill:k,stroke:k,strokeWidth:2,fillStyle:"solid"}),_=f.insert(()=>x,":first-child");return _.insert(()=>w),a&&_.selectAll("path").attr("style",a),s&&_.selectAll("path").attr("style",s),Lt(e,_),e.intersect=function(C){return Et.circle(e,7,C)},f}Z(Pte,"stateEnd");function Dte(t,e,{config:{themeVariables:r}}){const{lineColor:n}=r,s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const c=Rt.svg(s).circle(0,0,14,k$e(n));a=s.insert(()=>c),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=s.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Lt(e,a),e.intersect=function(l){return Et.circle(e,7,l)},s}Z(Dte,"stateStart");async function Qte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=((e==null?void 0:e.padding)||0)/2,c=a.width+e.padding,h=a.height+e.padding,f=-a.width/2-l,p=-a.height/2-l,O=[{x:0,y:0},{x:c,y:0},{x:c,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(e.look==="handDrawn"){const x=Rt.svg(s),k=It(e,{}),w=x.rectangle(f-8,p,c+16,h,k),_=x.line(f,p,f,p+h,k),C=x.line(f+c,p,f+c,p+h,k);s.insert(()=>_,":first-child"),s.insert(()=>C,":first-child");const T=s.insert(()=>w,":first-child"),{cssStyles:E}=e;T.attr("class","basic label-container").attr("style",ws(E)),Lt(e,T)}else{const x=Dh(s,c,h,O);n&&x.attr("style",n),Lt(e,x)}return e.intersect=function(x){return Et.polygon(e,O,x)},s}Z(Qte,"subroutine");async function $te(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-l/2,f=-c/2,p=.2*c,O=.2*c,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{}),_=[{x:h-p/2,y:f},{x:h+l+p/2,y:f},{x:h+l+p/2,y:f+c},{x:h-p/2,y:f+c}],C=[{x:h+l-p/2,y:f+c},{x:h+l+p/2,y:f+c},{x:h+l+p/2,y:f+c-O}];e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=Sr(_),E=k.path(T,w),P=Sr(C),Q=k.path(P,{...w,fillStyle:"solid"}),B=s.insert(()=>Q,":first-child");return B.insert(()=>E,":first-child"),B.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",n),Lt(e,B),e.intersect=function(R){return Et.polygon(e,_,R)},s}Z($te,"taggedRect");async function Mte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=h/4,p=.2*c,O=.2*h,x=h+f,{cssStyles:k}=e,w=Rt.svg(s),_=It(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const C=[{x:-c/2-c/2*.1,y:x/2},...uh(-c/2-c/2*.1,x/2,c/2+c/2*.1,x/2,f,.8),{x:c/2+c/2*.1,y:-x/2},{x:-c/2-c/2*.1,y:-x/2}],T=-c/2+c/2*.1,E=-x/2-O*.4,P=[{x:T+c-p,y:(E+h)*1.4},{x:T+c,y:E+h-O},{x:T+c,y:(E+h)*.9},...uh(T+c,(E+h)*1.3,T+c-p,(E+h)*1.5,-h*.03,.5)],Q=Sr(C),B=w.path(Q,_),R=Sr(P),M=w.path(R,{..._,fillStyle:"solid"}),I=s.insert(()=>M,":first-child");return I.insert(()=>B,":first-child"),I.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",k),n&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",n),I.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-f/2-(a.y-(a.top??0))})`),Lt(e,I),e.intersect=function(j){return Et.polygon(e,C,j)},s}Z(Mte,"taggedWaveEdgedRectangle");async function Rte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),c=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),h=-l/2,f=-c/2,p=s.insert("rect",":first-child");return p.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",h).attr("y",f).attr("width",l).attr("height",c),Lt(e,p),e.intersect=function(O){return Et.rect(e,O)},s}Z(Rte,"text");var aBe=Z((t,e,r,n,s,a)=>`M${t},${e}
    a${s},${a} 0,0,1 0,${-n}
    l${r},0
    a${s},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${s},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),oBe=Z((t,e,r,n,s,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${s},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${s},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),lBe=Z((t,e,r,n,s,a)=>[`M${t+r/2},${-n/2}`,`a${s},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD");async function Nte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l,halfPadding:c}=await er(t,e,Ht(e)),h=e.look==="neo"?c*2:c,f=a.height+h,p=f/2,O=p/(2.5+f/50),x=a.width+O+h,{cssStyles:k}=e;let w;if(e.look==="handDrawn"){const _=Rt.svg(s),C=oBe(0,0,x,f,O,p),T=lBe(0,0,x,f,O,p),E=_.path(C,It(e,{})),P=_.path(T,It(e,{fill:"none"}));w=s.insert(()=>P,":first-child"),w=s.insert(()=>E,":first-child"),w.attr("class","basic label-container"),k&&w.attr("style",k)}else{const _=aBe(0,0,x,f,O,p);w=s.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",ws(k)).attr("style",n),w.attr("class","basic label-container"),k&&w.selectAll("path").attr("style",k),n&&w.selectAll("path").attr("style",n)}return w.attr("label-offset-x",O),w.attr("transform",`translate(${-x/2}, ${f/2} )`),l.attr("transform",`translate(${-(a.width/2)-O-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Lt(e,w),e.intersect=function(_){const C=Et.rect(e,_),T=C.y-(e.y??0);if(p!=0&&(Math.abs(T)<(e.height??0)/2||Math.abs(T)==(e.height??0)/2&&Math.abs(C.x-(e.x??0))>(e.width??0)/2-O)){let E=O*O*(1-T*T/(p*p));E!=0&&(E=Math.sqrt(Math.abs(E))),E=O-E,_.x-(e.x??0)>0&&(E=-E),C.x+=E}return C},s}Z(Nte,"tiltedCylinder");async function Bte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=a.width+e.padding,c=a.height+e.padding,h=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const O=Rt.svg(s),x=It(e,{}),k=Sr(h),w=O.path(k,x);f=s.insert(()=>w,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),p&&f.attr("style",p)}else f=Dh(s,l,c,h);return n&&f.attr("style",n),e.width=l,e.height=c,Lt(e,f),e.intersect=function(O){return Et.polygon(e,h,O)},s}Z(Bte,"trapezoid");async function Ite(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=60,c=20,h=Math.max(l,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(c,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:p}=e,O=Rt.svg(s),x=It(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const k=[{x:-h/2*.8,y:-f/2},{x:h/2*.8,y:-f/2},{x:h/2,y:-f/2*.6},{x:h/2,y:f/2},{x:-h/2,y:f/2},{x:-h/2,y:-f/2*.6}],w=Sr(k),_=O.path(w,x),C=s.insert(()=>_,":first-child");return C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",p),n&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",n),Lt(e,C),e.intersect=function(T){return Et.polygon(e,k,T)},s}Z(Ite,"trapezoidalPentagon");async function jte(t,e){var E;const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=_i((E=Zr().flowchart)==null?void 0:E.htmlLabels),h=a.width+(e.padding??0),f=h+a.height,p=h+a.height,O=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-f}],{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=Sr(O),C=k.path(_,w),T=s.insert(()=>C,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return x&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",x),n&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",n),e.width=h,e.height=f,Lt(e,T),l.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${f/2-(a.height+(e.padding??0)/(c?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(P){return rt.info("Triangle intersect",e,O,P),Et.polygon(e,O,P)},s}Z(jte,"triangle");async function Fte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=h/8,p=h+f,{cssStyles:O}=e,k=70-c,w=k>0?k/2:0,_=Rt.svg(s),C=It(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const T=[{x:-c/2-w,y:p/2},...uh(-c/2-w,p/2,c/2+w,p/2,f,.8),{x:c/2+w,y:-p/2},{x:-c/2-w,y:-p/2}],E=Sr(T),P=_.path(E,C),Q=s.insert(()=>P,":first-child");return Q.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",O),n&&e.look!=="handDrawn"&&Q.selectAll("path").attr("style",n),Q.attr("transform",`translate(0,${-f/2})`),l.attr("transform",`translate(${-c/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-f-(a.y-(a.top??0))})`),Lt(e,Q),e.intersect=function(B){return Et.polygon(e,T,B)},s}Z(Fte,"waveEdgedRectangle");async function Lte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a}=await er(t,e,Ht(e)),l=100,c=50,h=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),p=h/f;let O=h,x=f;O>x*p?x=O/p:O=x*p,O=Math.max(O,l),x=Math.max(x,c);const k=Math.min(x*.2,x/4),w=x+k*2,{cssStyles:_}=e,C=Rt.svg(s),T=It(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const E=[{x:-O/2,y:w/2},...uh(-O/2,w/2,O/2,w/2,k,1),{x:O/2,y:-w/2},...uh(O/2,-w/2,-O/2,-w/2,k,-1)],P=Sr(E),Q=C.path(P,T),B=s.insert(()=>Q,":first-child");return B.attr("class","basic label-container"),_&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",_),n&&e.look!=="handDrawn"&&B.selectAll("path").attr("style",n),Lt(e,B),e.intersect=function(R){return Et.polygon(e,E,R)},s}Z(Lte,"waveRectangle");async function zte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,label:l}=await er(t,e,Ht(e)),c=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=5,p=-c/2,O=-h/2,{cssStyles:x}=e,k=Rt.svg(s),w=It(e,{}),_=[{x:p-f,y:O-f},{x:p-f,y:O+h},{x:p+c,y:O+h},{x:p+c,y:O-f}],C=`M${p-f},${O-f} L${p+c},${O-f} L${p+c},${O+h} L${p-f},${O+h} L${p-f},${O-f}
                M${p-f},${O} L${p+c},${O}
                M${p},${O-f} L${p},${O+h}`;e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const T=k.path(C,w),E=s.insert(()=>T,":first-child");return E.attr("transform",`translate(${f/2}, ${f/2})`),E.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",n),l.attr("transform",`translate(${-(a.width/2)+f/2-(a.x-(a.left??0))}, ${-(a.height/2)+f/2-(a.y-(a.top??0))})`),Lt(e,E),e.intersect=function(P){return Et.polygon(e,_,P)},s}Z(zte,"windowPane");async function G7(t,e){var re,ae,K,ce;const r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){const{themeVariables:ye}=ks(),{background:ke}=ye,Ce={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${ke}`]};await G7(t,Ce)}const n=ks();e.useHtmlLabels=n.htmlLabels;let s=((re=n.er)==null?void 0:re.diagramPadding)??10,a=((ae=n.er)==null?void 0:ae.entityPadding)??6;const{cssStyles:l}=e,{labelStyles:c,nodeStyles:h}=jt(e);if(r.attributes.length===0&&e.label){const ye={rx:0,ry:0,labelPaddingX:s,labelPaddingY:s*1.5};Jc(e.label,n)+ye.labelPaddingX*2<n.er.minEntityWidth&&(e.width=n.er.minEntityWidth);const ke=await dA(t,e,ye);if(!_i(n.htmlLabels)){const Ce=ke.select("text"),De=(K=Ce.node())==null?void 0:K.getBBox();Ce.attr("transform",`translate(${-De.width/2}, 0)`)}return ke}n.htmlLabels||(s*=1.25,a*=1.25);let f=Ht(e);f||(f="node default");const p=t.insert("g").attr("class",f).attr("id",e.domId||e.id),O=await Z0(p,e.label??"",n,0,0,["name"],c);O.height+=a;let x=0;const k=[],w=[];let _=0,C=0,T=0,E=0,P=!0,Q=!0;for(const ye of r.attributes){const ke=await Z0(p,ye.type,n,0,x,["attribute-type"],c);_=Math.max(_,ke.width+s);const Ce=await Z0(p,ye.name,n,0,x,["attribute-name"],c);C=Math.max(C,Ce.width+s);const De=await Z0(p,ye.keys.join(),n,0,x,["attribute-keys"],c);T=Math.max(T,De.width+s);const Pe=await Z0(p,ye.comment,n,0,x,["attribute-comment"],c);E=Math.max(E,Pe.width+s);const Ee=Math.max(ke.height,Ce.height,De.height,Pe.height)+a;w.push({yOffset:x,rowHeight:Ee}),x+=Ee}let B=4;T<=s&&(P=!1,T=0,B--),E<=s&&(Q=!1,E=0,B--);const R=p.node().getBBox();if(O.width+s*2-(_+C+T+E)>0){const ye=O.width+s*2-(_+C+T+E);_+=ye/B,C+=ye/B,T>0&&(T+=ye/B),E>0&&(E+=ye/B)}const M=_+C+T+E,I=Rt.svg(p),j=It(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");let z=0;w.length>0&&(z=w.reduce((ye,ke)=>ye+((ke==null?void 0:ke.rowHeight)??0),0));const X=Math.max(R.width+s*2,(e==null?void 0:e.width)||0,M),W=Math.max((z??0)+O.height,(e==null?void 0:e.height)||0),F=-X/2,V=-W/2;p.selectAll("g:not(:first-child)").each((ye,ke,Ce)=>{const De=hr(Ce[ke]),Pe=De.attr("transform");let Ee=0,de=0;if(Pe){const Be=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Pe);Be&&(Ee=parseFloat(Be[1]),de=parseFloat(Be[2]),De.attr("class").includes("attribute-name")?Ee+=_:De.attr("class").includes("attribute-keys")?Ee+=_+C:De.attr("class").includes("attribute-comment")&&(Ee+=_+C+T))}De.attr("transform",`translate(${F+s/2+Ee}, ${de+V+O.height+a/2})`)}),p.select(".name").attr("transform","translate("+-O.width/2+", "+(V+a/2)+")");const te=I.rectangle(F,V,X,W,j),G=p.insert(()=>te,":first-child").attr("style",l.join("")),{themeVariables:J}=ks(),{rowEven:oe,rowOdd:ie,nodeBorder:be}=J;k.push(0);for(const[ye,ke]of w.entries()){const De=(ye+1)%2===0&&ke.yOffset!==0,Pe=I.rectangle(F,O.height+V+(ke==null?void 0:ke.yOffset),X,ke==null?void 0:ke.rowHeight,{...j,fill:De?oe:ie,stroke:be});p.insert(()=>Pe,"g.label").attr("style",l.join("")).attr("class",`row-rect-${De?"even":"odd"}`)}let he=I.line(F,O.height+V,X+F,O.height+V,j);p.insert(()=>he).attr("class","divider"),he=I.line(_+F,O.height+V,_+F,W+V,j),p.insert(()=>he).attr("class","divider"),P&&(he=I.line(_+C+F,O.height+V,_+C+F,W+V,j),p.insert(()=>he).attr("class","divider")),Q&&(he=I.line(_+C+T+F,O.height+V,_+C+T+F,W+V,j),p.insert(()=>he).attr("class","divider"));for(const ye of k)he=I.line(F,O.height+V+ye,X+F,O.height+V+ye,j),p.insert(()=>he).attr("class","divider");if(Lt(e,G),h&&e.look!=="handDrawn"){const ye=h.split(";"),ke=(ce=ye==null?void 0:ye.filter(Ce=>Ce.includes("stroke")))==null?void 0:ce.map(Ce=>`${Ce}`).join("; ");p.selectAll("path").attr("style",ke??""),p.selectAll(".row-rect-even path").attr("style",h)}return e.intersect=function(ye){return Et.rect(e,ye)},p}Z(G7,"erBox");async function Z0(t,e,r,n=0,s=0,a=[],l=""){const c=t.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${n}, ${s})`).attr("style",l);e!==CF(e)&&(e=CF(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const h=c.node().appendChild(await Eh(c,e,{width:Jc(e,r)+100,style:l,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let p=h.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let f=h.getBBox();if(_i(r.htmlLabels)){const p=h.children[0];p.style.textAlign="start";const O=hr(h);f=p.getBoundingClientRect(),O.attr("width",f.width),O.attr("height",f.height)}return f}Z(Z0,"addText");async function Xte(t,e,r,n,s=r.class.padding??12){const a=n?0:3,l=t.insert("g").attr("class",Ht(e)).attr("id",e.domId||e.id);let c=null,h=null,f=null,p=null,O=0,x=0,k=0;if(c=l.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const E=e.annotations[0];await U1(c,{text:`${E}`},0),O=c.node().getBBox().height}h=l.insert("g").attr("class","label-group text"),await U1(h,e,0,["font-weight: bolder"]);const w=h.node().getBBox();x=w.height,f=l.insert("g").attr("class","members-group text");let _=0;for(const E of e.members){const P=await U1(f,E,_,[E.parseClassifier()]);_+=P+a}k=f.node().getBBox().height,k<=0&&(k=s/2),p=l.insert("g").attr("class","methods-group text");let C=0;for(const E of e.methods){const P=await U1(p,E,C,[E.parseClassifier()]);C+=P+a}let T=l.node().getBBox();if(c!==null){const E=c.node().getBBox();c.attr("transform",`translate(${-E.width/2})`)}return h.attr("transform",`translate(${-w.width/2}, ${O})`),T=l.node().getBBox(),f.attr("transform",`translate(0, ${O+x+s*2})`),T=l.node().getBBox(),p.attr("transform",`translate(0, ${O+x+(k?k+s*4:s*2)})`),T=l.node().getBBox(),{shapeSvg:l,bbox:T}}Z(Xte,"textHelper");async function U1(t,e,r,n=[]){const s=t.insert("g").attr("class","label").attr("style",n.join("; ")),a=ks();let l="useHtmlLabels"in e?e.useHtmlLabels:_i(a.htmlLabels)??!0,c="";"text"in e?c=e.text:c=e.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),Kf(c)&&(l=!0);const h=await Eh(s,c7(Wu(c)),{width:Jc(c,a)+50,classes:"markdown-node-label",useHtmlLabels:l},a);let f,p=1;if(l){const O=h.children[0],x=hr(h);p=O.innerHTML.split("<br>").length,O.innerHTML.includes("</math>")&&(p+=O.innerHTML.split("<mrow>").length-1);const k=O.getElementsByTagName("img");if(k){const w=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...k].map(_=>new Promise(C=>{function T(){var E;if(_.style.display="flex",_.style.flexDirection="column",w){const P=((E=a.fontSize)==null?void 0:E.toString())??window.getComputedStyle(document.body).fontSize,B=parseInt(P,10)*5+"px";_.style.minWidth=B,_.style.maxWidth=B}else _.style.width="100%";C(_)}Z(T,"setupImage"),setTimeout(()=>{_.complete&&T()}),_.addEventListener("error",T),_.addEventListener("load",T)})))}f=O.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height)}else{n.includes("font-weight: bolder")&&hr(h).selectAll("tspan").attr("font-weight",""),p=h.children.length;const O=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(O.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(O.textContent=O.textContent[0]+" "+O.textContent.substring(1))),O.textContent==="undefined"&&(O.textContent=""),f=h.getBBox()}return s.attr("transform","translate(0,"+(-f.height/(2*p)+r)+")"),f.height}Z(U1,"addText");async function Vte(t,e){var j,z;const r=Zr(),n=r.class.padding??12,s=n,a=e.useHtmlLabels??_i(r.htmlLabels)??!0,l=e;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:h}=await Xte(t,e,r,a,s),{labelStyles:f,nodeStyles:p}=jt(e);e.labelStyle=f,e.cssStyles=l.styles||"";const O=((j=l.styles)==null?void 0:j.join(";"))||p||"";e.cssStyles||(e.cssStyles=O.replaceAll("!important","").split(";"));const x=l.members.length===0&&l.methods.length===0&&!((z=r.class)!=null&&z.hideEmptyMembersBox),k=Rt.svg(c),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const _=h.width;let C=h.height;l.members.length===0&&l.methods.length===0?C+=s:l.members.length>0&&l.methods.length===0&&(C+=s*2);const T=-_/2,E=-C/2,P=k.rectangle(T-n,E-n-(x?n:l.members.length===0&&l.methods.length===0?-n/2:0),_+2*n,C+2*n+(x?n*2:l.members.length===0&&l.methods.length===0?-n:0),w),Q=c.insert(()=>P,":first-child");Q.attr("class","basic label-container");const B=Q.node().getBBox();c.selectAll(".text").each((X,W,F)=>{var ie;const V=hr(F[W]),te=V.attr("transform");let G=0;if(te){const he=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(te);he&&(G=parseFloat(he[2]))}let J=G+E+n-(x?n:l.members.length===0&&l.methods.length===0?-n/2:0);a||(J-=4);let oe=T;(V.attr("class").includes("label-group")||V.attr("class").includes("annotation-group"))&&(oe=-((ie=V.node())==null?void 0:ie.getBBox().width)/2||0,c.selectAll("text").each(function(be,he,re){window.getComputedStyle(re[he]).textAnchor==="middle"&&(oe=0)})),V.attr("transform",`translate(${oe}, ${J})`)});const R=c.select(".annotation-group").node().getBBox().height-(x?n/2:0)||0,M=c.select(".label-group").node().getBBox().height-(x?n/2:0)||0,I=c.select(".members-group").node().getBBox().height-(x?n/2:0)||0;if(l.members.length>0||l.methods.length>0||x){const X=k.line(B.x,R+M+E+n,B.x+B.width,R+M+E+n,w);c.insert(()=>X).attr("class","divider").attr("style",O)}if(x||l.members.length>0||l.methods.length>0){const X=k.line(B.x,R+M+I+E+s*2+n,B.x+B.width,R+M+I+E+n+s*2,w);c.insert(()=>X).attr("class","divider").attr("style",O)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",O),Q.select(":nth-child(2)").attr("style",O),c.selectAll(".divider").select("path").attr("style",O),e.labelStyle?c.selectAll("span").attr("style",e.labelStyle):c.selectAll("span").attr("style",O),!a){const X=RegExp(/color\s*:\s*([^;]*)/),W=X.exec(O);if(W){const F=W[0].replace("color","fill");c.selectAll("tspan").attr("style",F)}else if(f){const F=X.exec(f);if(F){const V=F[0].replace("color","fill");c.selectAll("tspan").attr("style",V)}}}return Lt(e,Q),e.intersect=function(X){return Et.rect(e,X)},c}Z(Vte,"classBox");async function Ute(t,e){var R,M;const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const s=e,a=e,l=20,c=20,h="verifyMethod"in e,f=Ht(e),p=t.insert("g").attr("class",f).attr("id",e.domId??e.id);let O;h?O=await Sl(p,`&lt;&lt;${s.type}&gt;&gt;`,0,e.labelStyle):O=await Sl(p,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let x=O;const k=await Sl(p,s.name,x,e.labelStyle+"; font-weight: bold;");if(x+=k+c,h){const I=await Sl(p,`${s.requirementId?`ID: ${s.requirementId}`:""}`,x,e.labelStyle);x+=I;const j=await Sl(p,`${s.text?`Text: ${s.text}`:""}`,x,e.labelStyle);x+=j;const z=await Sl(p,`${s.risk?`Risk: ${s.risk}`:""}`,x,e.labelStyle);x+=z,await Sl(p,`${s.verifyMethod?`Verification: ${s.verifyMethod}`:""}`,x,e.labelStyle)}else{const I=await Sl(p,`${a.type?`Type: ${a.type}`:""}`,x,e.labelStyle);x+=I,await Sl(p,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,x,e.labelStyle)}const w=(((R=p.node())==null?void 0:R.getBBox().width)??200)+l,_=(((M=p.node())==null?void 0:M.getBBox().height)??200)+l,C=-w/2,T=-_/2,E=Rt.svg(p),P=It(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const Q=E.rectangle(C,T,w,_,P),B=p.insert(()=>Q,":first-child");if(B.attr("class","basic label-container").attr("style",n),p.selectAll(".label").each((I,j,z)=>{const X=hr(z[j]),W=X.attr("transform");let F=0,V=0;if(W){const oe=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(W);oe&&(F=parseFloat(oe[1]),V=parseFloat(oe[2]))}const te=V-_/2;let G=C+l/2;(j===0||j===1)&&(G=F),X.attr("transform",`translate(${G}, ${te+l})`)}),x>O+k+c){const I=E.line(C,T+O+k+c,C+w,T+O+k+c,P);p.insert(()=>I).attr("style",n)}return Lt(e,B),e.intersect=function(I){return Et.rect(e,I)},p}Z(Ute,"requirementBox");async function Sl(t,e,r,n=""){if(e==="")return 0;const s=t.insert("g").attr("class","label").attr("style",n),a=Zr(),l=a.htmlLabels??!0,c=await Eh(s,c7(Wu(e)),{width:Jc(e,a)+50,classes:"markdown-node-label",useHtmlLabels:l,style:n},a);let h;if(l){const f=c.children[0],p=hr(c);h=f.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{const f=c.children[0];for(const p of f.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),n&&p.setAttribute("style",n);h=c.getBBox(),h.height+=6}return s.attr("transform",`translate(${-h.width/2},${-h.height/2+r})`),h.height}Z(Sl,"addText");var cBe=Z(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function qte(t,e,{config:r}){var W,F;const{labelStyles:n,nodeStyles:s}=jt(e);e.labelStyle=n||"";const a=10,l=e.width;e.width=(e.width??200)-10;const{shapeSvg:c,bbox:h,label:f}=await er(t,e,Ht(e)),p=e.padding||10;let O="",x;"ticket"in e&&e.ticket&&((W=r==null?void 0:r.kanban)!=null&&W.ticketBaseUrl)&&(O=(F=r==null?void 0:r.kanban)==null?void 0:F.ticketBaseUrl.replace("#TICKET#",e.ticket),x=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",O).attr("target","_blank"));const k={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let w,_;x?{label:w,bbox:_}=await c3(x,"ticket"in e&&e.ticket||"",k):{label:w,bbox:_}=await c3(c,"ticket"in e&&e.ticket||"",k);const{label:C,bbox:T}=await c3(c,"assigned"in e&&e.assigned||"",k);e.width=l;const E=10,P=(e==null?void 0:e.width)||0,Q=Math.max(_.height,T.height)/2,B=Math.max(h.height+E*2,(e==null?void 0:e.height)||0)+Q,R=-P/2,M=-B/2;f.attr("transform","translate("+(p-P/2)+", "+(-Q-h.height/2)+")"),w.attr("transform","translate("+(p-P/2)+", "+(-Q+h.height/2)+")"),C.attr("transform","translate("+(p+P/2-T.width-2*a)+", "+(-Q+h.height/2)+")");let I;const{rx:j,ry:z}=e,{cssStyles:X}=e;if(e.look==="handDrawn"){const V=Rt.svg(c),te=It(e,{}),G=j||z?V.path(Ph(R,M,P,B,j||0),te):V.rectangle(R,M,P,B,te);I=c.insert(()=>G,":first-child"),I.attr("class","basic label-container").attr("style",X||null)}else{I=c.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",s).attr("rx",j??5).attr("ry",z??5).attr("x",R).attr("y",M).attr("width",P).attr("height",B);const V="priority"in e&&e.priority;if(V){const te=c.append("line"),G=R+2,J=M+Math.floor((j??0)/2),oe=M+B-Math.floor((j??0)/2);te.attr("x1",G).attr("y1",J).attr("x2",G).attr("y2",oe).attr("stroke-width","4").attr("stroke",cBe(V))}}return Lt(e,I),e.height=B,e.intersect=function(V){return Et.rect(e,V)},c}Z(qte,"kanbanItem");async function Wte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,halfPadding:l,label:c}=await er(t,e,Ht(e)),h=a.width+10*l,f=a.height+8*l,p=.15*h,{cssStyles:O}=e,x=a.width+20,k=a.height+20,w=Math.max(h,x),_=Math.max(f,k);c.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let C;const T=`M0 0 
    a${p},${p} 1 0,0 ${w*.25},${-1*_*.1}
    a${p},${p} 1 0,0 ${w*.25},0
    a${p},${p} 1 0,0 ${w*.25},0
    a${p},${p} 1 0,0 ${w*.25},${_*.1}

    a${p},${p} 1 0,0 ${w*.15},${_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${_*.34}
    a${p},${p} 1 0,0 ${-1*w*.15},${_*.33}

    a${p},${p} 1 0,0 ${-1*w*.25},${_*.15}
    a${p},${p} 1 0,0 ${-1*w*.25},0
    a${p},${p} 1 0,0 ${-1*w*.25},0
    a${p},${p} 1 0,0 ${-1*w*.25},${-1*_*.15}

    a${p},${p} 1 0,0 ${-1*w*.1},${-1*_*.33}
    a${p*.8},${p*.8} 1 0,0 0,${-1*_*.34}
    a${p},${p} 1 0,0 ${w*.1},${-1*_*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const E=Rt.svg(s),P=It(e,{}),Q=E.path(T,P);C=s.insert(()=>Q,":first-child"),C.attr("class","basic label-container").attr("style",ws(O))}else C=s.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",T);return C.attr("transform",`translate(${-w/2}, ${-_/2})`),Lt(e,C),e.calcIntersect=function(E,P){return Et.rect(E,P)},e.intersect=function(E){return rt.info("Bang intersect",e,E),Et.rect(e,E)},s}Z(Wte,"bang");async function Yte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,halfPadding:l,label:c}=await er(t,e,Ht(e)),h=a.width+2*l,f=a.height+2*l,p=.15*h,O=.25*h,x=.35*h,k=.2*h,{cssStyles:w}=e;let _;const C=`M0 0 
    a${p},${p} 0 0,1 ${h*.25},${-1*h*.1}
    a${x},${x} 1 0,1 ${h*.4},${-1*h*.1}
    a${O},${O} 1 0,1 ${h*.35},${h*.2}

    a${p},${p} 1 0,1 ${h*.15},${f*.35}
    a${k},${k} 1 0,1 ${-1*h*.15},${f*.65}

    a${O},${p} 1 0,1 ${-1*h*.25},${h*.15}
    a${x},${x} 1 0,1 ${-1*h*.5},0
    a${p},${p} 1 0,1 ${-1*h*.25},${-1*h*.15}

    a${p},${p} 1 0,1 ${-1*h*.1},${-1*f*.35}
    a${k},${k} 1 0,1 ${h*.1},${-1*f*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const T=Rt.svg(s),E=It(e,{}),P=T.path(C,E);_=s.insert(()=>P,":first-child"),_.attr("class","basic label-container").attr("style",ws(w))}else _=s.insert("path",":first-child").attr("class","basic label-container").attr("style",n).attr("d",C);return c.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),_.attr("transform",`translate(${-h/2}, ${-f/2})`),Lt(e,_),e.calcIntersect=function(T,E){return Et.rect(T,E)},e.intersect=function(T){return rt.info("Cloud intersect",e,T),Et.rect(e,T)},s}Z(Yte,"cloud");async function Zte(t,e){const{labelStyles:r,nodeStyles:n}=jt(e);e.labelStyle=r;const{shapeSvg:s,bbox:a,halfPadding:l,label:c}=await er(t,e,Ht(e)),h=a.width+8*l,f=a.height+2*l,p=5,O=`
    M${-h/2} ${f/2-p}
    v${-f+2*p}
    q0,-${p} ${p},-${p}
    h${h-2*p}
    q${p},0 ${p},${p}
    v${f-2*p}
    q0,${p} -${p},${p}
    h${-h+2*p}
    q-${p},0 -${p},-${p}
    Z
  `,x=s.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",n).attr("d",O);return s.append("line").attr("class","node-line-").attr("x1",-h/2).attr("y1",f/2).attr("x2",h/2).attr("y2",f/2),c.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),s.append(()=>c.node()),Lt(e,x),e.calcIntersect=function(k,w){return Et.rect(k,w)},e.intersect=function(k){return Et.rect(e,k)},s}Z(Zte,"defaultMindmapNode");async function Gte(t,e){const r={padding:e.padding??0};return Z7(t,e,r)}Z(Gte,"mindmapCircle");var dBe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Ste},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:_te},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Tte},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Qte},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:Hee},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Z7},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Wte},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Yte},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:yte},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:ite},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:gte},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:fte},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Bte},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:hte},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Jee},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:Rte},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Xee},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Cte},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Dte},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Pte},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:rte},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:ste},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:Wee},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Yee},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Zee},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:pte},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Fte},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:nte},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Nte},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:mte},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Gee},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Kee},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:jte},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:zte},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:ete},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:Ite},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:tte},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Ate},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:bte},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:xte},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:zee},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:qee},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Mte},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:$te},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Lte},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:wte},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Ote}],hBe=Z(()=>{const e=[...Object.entries({state:Ete,choice:Vee,note:kte,rectWithTitle:vte,labelRect:ute,iconSquare:cte,iconCircle:ote,icon:ate,iconRounded:lte,imageSquare:dte,anchor:Lee,kanbanItem:qte,mindmapCircle:Gte,defaultMindmapNode:Zte,classBox:Vte,erBox:G7,requirementBox:Ute}),...dBe.flatMap(r=>[r.shortName,..."aliases"in r?r.aliases:[],..."internalAliases"in r?r.internalAliases:[]].map(s=>[s,r.handler]))];return Object.fromEntries(e)},"generateShapeMap"),Hte=hBe();function uBe(t){return t in Hte}Z(uBe,"isValidShape");var hA=new Map;async function Kte(t,e,r){let n,s;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?Hte[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let l;r.config.securityLevel==="sandbox"?l="_top":e.linkTarget&&(l=e.linkTarget||"_blank"),n=t.insert("svg:a").attr("xlink:href",e.link).attr("target",l??null),s=await a(n,e,r)}else s=await a(t,e,r),n=s;return e.tooltip&&s.attr("title",e.tooltip),hA.set(e.id,n),e.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}Z(Kte,"insertNode");var Met=Z((t,e)=>{hA.set(e.id,t)},"setNodeElem"),Ret=Z(()=>{hA.clear()},"clear"),Net=Z(t=>{const e=hA.get(t.id);rt.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const r=8,n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},"positionNode"),fBe=Z((t,e,r,n,s,a)=>{e.arrowTypeStart&&vL(t,"start",e.arrowTypeStart,r,n,s,a),e.arrowTypeEnd&&vL(t,"end",e.arrowTypeEnd,r,n,s,a)},"addEdgeMarkers"),gBe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},vL=Z((t,e,r,n,s,a,l)=>{var O;const c=gBe[r];if(!c){rt.warn(`Unknown arrow type: ${r}`);return}const h=c.type,p=`${s}_${a}-${h}${e==="start"?"Start":"End"}`;if(l&&l.trim()!==""){const x=l.replace(/[^\dA-Za-z]/g,"_"),k=`${p}_${x}`;if(!document.getElementById(k)){const w=document.getElementById(p);if(w){const _=w.cloneNode(!0);_.id=k,_.querySelectorAll("path, circle, line").forEach(T=>{T.setAttribute("stroke",l),c.fill&&T.setAttribute("fill",l)}),(O=w.parentNode)==null||O.appendChild(_)}}t.attr(`marker-${e}`,`url(${n}#${k})`)}else t.attr(`marker-${e}`,`url(${n}#${p})`)},"addEdgeMarker"),K_=new Map,Yi=new Map,Bet=Z(()=>{K_.clear(),Yi.clear()},"clear"),Jw=Z(t=>t?t.reduce((r,n)=>r+";"+n,""):"","getLabelStyles"),pBe=Z(async(t,e)=>{let r=_i(Zr().flowchart.htmlLabels);const{labelStyles:n}=jt(e);e.labelStyle=n;const s=await Eh(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});rt.info("abc82",e,e.labelType);const a=t.insert("g").attr("class","edgeLabel"),l=a.insert("g").attr("class","label").attr("data-id",e.id);l.node().appendChild(s);let c=s.getBBox();if(r){const f=s.children[0],p=hr(s);c=f.getBoundingClientRect(),p.attr("width",c.width),p.attr("height",c.height)}l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),K_.set(e.id,a),e.width=c.width,e.height=c.height;let h;if(e.startLabelLeft){const f=await pu(e.startLabelLeft,Jw(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),O=p.insert("g").attr("class","inner");h=O.node().appendChild(f);const x=f.getBBox();O.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),Yi.get(e.id)||Yi.set(e.id,{}),Yi.get(e.id).startLeft=p,q1(h,e.startLabelLeft)}if(e.startLabelRight){const f=await pu(e.startLabelRight,Jw(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),O=p.insert("g").attr("class","inner");h=p.node().appendChild(f),O.node().appendChild(f);const x=f.getBBox();O.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),Yi.get(e.id)||Yi.set(e.id,{}),Yi.get(e.id).startRight=p,q1(h,e.startLabelRight)}if(e.endLabelLeft){const f=await pu(e.endLabelLeft,Jw(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),O=p.insert("g").attr("class","inner");h=O.node().appendChild(f);const x=f.getBBox();O.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),p.node().appendChild(f),Yi.get(e.id)||Yi.set(e.id,{}),Yi.get(e.id).endLeft=p,q1(h,e.endLabelLeft)}if(e.endLabelRight){const f=await pu(e.endLabelRight,Jw(e.labelStyle)),p=t.insert("g").attr("class","edgeTerminals"),O=p.insert("g").attr("class","inner");h=O.node().appendChild(f);const x=f.getBBox();O.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),p.node().appendChild(f),Yi.get(e.id)||Yi.set(e.id,{}),Yi.get(e.id).endRight=p,q1(h,e.endLabelRight)}return s},"insertEdgeLabel");function q1(t,e){Zr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}Z(q1,"setTerminalWidth");var mBe=Z((t,e)=>{rt.debug("Moving label abc88 ",t.id,t.label,K_.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const n=Zr(),{subGraphTitleTotalMargin:s}=A7(n);if(t.label){const a=K_.get(t.id);let l=t.x,c=t.y;if(r){const h=Uo.calcLabelPosition(r);rt.debug("Moving label "+t.label+" from (",l,",",c,") to (",h.x,",",h.y,") abc88"),e.updatedPath&&(l=h.x,c=h.y)}a.attr("transform",`translate(${l}, ${c+s/2})`)}if(t.startLabelLeft){const a=Yi.get(t.id).startLeft;let l=t.x,c=t.y;if(r){const h=Uo.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);l=h.x,c=h.y}a.attr("transform",`translate(${l}, ${c})`)}if(t.startLabelRight){const a=Yi.get(t.id).startRight;let l=t.x,c=t.y;if(r){const h=Uo.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);l=h.x,c=h.y}a.attr("transform",`translate(${l}, ${c})`)}if(t.endLabelLeft){const a=Yi.get(t.id).endLeft;let l=t.x,c=t.y;if(r){const h=Uo.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);l=h.x,c=h.y}a.attr("transform",`translate(${l}, ${c})`)}if(t.endLabelRight){const a=Yi.get(t.id).endRight;let l=t.x,c=t.y;if(r){const h=Uo.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);l=h.x,c=h.y}a.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),OBe=Z((t,e)=>{const r=t.x,n=t.y,s=Math.abs(e.x-r),a=Math.abs(e.y-n),l=t.width/2,c=t.height/2;return s>=l||a>=c},"outsideNode"),xBe=Z((t,e,r)=>{rt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const n=t.x,s=t.y,a=Math.abs(n-r.x),l=t.width/2;let c=r.x<e.x?l-a:l+a;const h=t.height/2,f=Math.abs(e.y-r.y),p=Math.abs(e.x-r.x);if(Math.abs(s-e.y)*l>Math.abs(n-e.x)*h){let O=r.y<e.y?e.y-h-s:s-h-e.y;c=p*O/f;const x={x:r.x<e.x?r.x+c:r.x-p+c,y:r.y<e.y?r.y+f-O:r.y-f+O};return c===0&&(x.x=e.x,x.y=e.y),p===0&&(x.x=e.x),f===0&&(x.y=e.y),rt.debug(`abc89 top/bottom calc, Q ${f}, q ${O}, R ${p}, r ${c}`,x),x}else{r.x<e.x?c=e.x-l-n:c=n-l-e.x;let O=f*c/p,x=r.x<e.x?r.x+p-c:r.x-p+c,k=r.y<e.y?r.y+O:r.y-O;return rt.debug(`sides calc abc89, Q ${f}, q ${O}, R ${p}, r ${c}`,{_x:x,_y:k}),c===0&&(x=e.x,k=e.y),p===0&&(x=e.x),f===0&&(k=e.y),{x,y:k}}},"intersection"),_L=Z((t,e)=>{rt.warn("abc88 cutPathAtIntersect",t,e);let r=[],n=t[0],s=!1;return t.forEach(a=>{if(rt.info("abc88 checking point",a,e),!OBe(e,a)&&!s){const l=xBe(e,n,a);rt.debug("abc88 inside",a,n,l),rt.debug("abc88 intersection",l,e);let c=!1;r.forEach(h=>{c=c||h.x===l.x&&h.y===l.y}),r.some(h=>h.x===l.x&&h.y===l.y)?rt.warn("abc88 no intersect",l,r):r.push(l),s=!0}else rt.warn("abc88 outside",a,n),n=a,s||r.push(a)}),rt.debug("returning points",r),r},"cutPathAtIntersect");function Jte(t){const e=[],r=[];for(let n=1;n<t.length-1;n++){const s=t[n-1],a=t[n],l=t[n+1];(s.x===a.x&&a.y===l.y&&Math.abs(a.x-l.x)>5&&Math.abs(a.y-s.y)>5||s.y===a.y&&a.x===l.x&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-l.y)>5)&&(e.push(a),r.push(n))}return{cornerPoints:e,cornerPointPositions:r}}Z(Jte,"extractCornerPoints");var CL=Z(function(t,e,r){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s),l=r/a;return{x:e.x-l*n,y:e.y-l*s}},"findAdjacentPoint"),bBe=Z(function(t){const{cornerPointPositions:e}=Jte(t),r=[];for(let n=0;n<t.length;n++)if(e.includes(n)){const s=t[n-1],a=t[n+1],l=t[n],c=CL(s,l,5),h=CL(a,l,5),f=h.x-c.x,p=h.y-c.y;r.push(c);const O=Math.sqrt(2)*2;let x={x:l.x,y:l.y};if(Math.abs(a.x-s.x)>10&&Math.abs(a.y-s.y)>=10){rt.debug("Corner point fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));const k=5;l.x===c.x?x={x:f<0?c.x-k+O:c.x+k-O,y:p<0?c.y-O:c.y+O}:x={x:f<0?c.x-O:c.x+O,y:p<0?c.y-k+O:c.y+k-O}}else rt.debug("Corner point skipping fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));r.push(x,h)}else r.push(t[n]);return r},"fixCorners"),kBe=Z((t,e,r)=>{const n=t-e-r,s=2,a=2,l=s+a,c=Math.floor(n/l),h=Array(c).fill(`${s} ${a}`).join(" ");return`0 ${e} ${h} ${r}`},"generateDashArray"),yBe=Z(function(t,e,r,n,s,a,l,c=!1){var V;const{handDrawnSeed:h}=Zr();let f=e.points,p=!1;const O=s;var x=a;const k=[];for(const te in e.cssCompiledStyles)PJ(te)||k.push(e.cssCompiledStyles[te]);rt.debug("UIO intersect check",e.points,x.x,O.x),x.intersect&&O.intersect&&!c&&(f=f.slice(1,e.points.length-1),f.unshift(O.intersect(f[0])),rt.debug("Last point UIO",e.start,"-->",e.end,f[f.length-1],x,x.intersect(f[f.length-1])),f.push(x.intersect(f[f.length-1])));const w=btoa(JSON.stringify(f));e.toCluster&&(rt.info("to cluster abc88",r.get(e.toCluster)),f=_L(e.points,r.get(e.toCluster).node),p=!0),e.fromCluster&&(rt.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(f,null,2)),f=_L(f.reverse(),r.get(e.fromCluster).node).reverse(),p=!0);let _=f.filter(te=>!Number.isNaN(te.y));_=bBe(_);let C=vv;switch(C=F3,e.curve){case"linear":C=F3;break;case"basis":C=vv;break;case"cardinal":C=PV;break;case"bumpX":C=QV;break;case"bumpY":C=DV;break;case"catmullRom":C=EV;break;case"monotoneX":C=TV;break;case"monotoneY":C=SV;break;case"natural":C=AV;break;case"step":C=CV;break;case"stepAfter":C=_V;break;case"stepBefore":C=vV;break;default:C=vv}const{x:T,y:E}=b$e(e),P=Spe().x(T).y(E).curve(C);let Q;switch(e.thickness){case"normal":Q="edge-thickness-normal";break;case"thick":Q="edge-thickness-thick";break;case"invisible":Q="edge-thickness-invisible";break;default:Q="edge-thickness-normal"}switch(e.pattern){case"solid":Q+=" edge-pattern-solid";break;case"dotted":Q+=" edge-pattern-dotted";break;case"dashed":Q+=" edge-pattern-dashed";break;default:Q+=" edge-pattern-solid"}let B,R=e.curve==="rounded"?ere(tre(_,e),5):P(_);const M=Array.isArray(e.style)?e.style:[e.style];let I=M.find(te=>te==null?void 0:te.startsWith("stroke:")),j=!1;if(e.look==="handDrawn"){const te=Rt.svg(t);Object.assign([],_);const G=te.path(R,{roughness:.3,seed:h});Q+=" transition",B=hr(G).select("path").attr("id",e.id).attr("class"," "+Q+(e.classes?" "+e.classes:"")).attr("style",M?M.reduce((oe,ie)=>oe+";"+ie,""):"");let J=B.attr("d");B.attr("d",J),t.node().appendChild(B.node())}else{const te=k.join(";"),G=M?M.reduce((ae,K)=>ae+K+";",""):"";let J="";e.animate&&(J=" edge-animation-fast"),e.animation&&(J=" edge-animation-"+e.animation);const oe=(te?te+";"+G+";":G)+";"+(M?M.reduce((ae,K)=>ae+";"+K,""):"");B=t.append("path").attr("d",R).attr("id",e.id).attr("class"," "+Q+(e.classes?" "+e.classes:"")+(J??"")).attr("style",oe),I=(V=oe.match(/stroke:([^;]+)/))==null?void 0:V[1],j=e.animate===!0||!!e.animation||te.includes("animation");const ie=B.node(),be=typeof ie.getTotalLength=="function"?ie.getTotalLength():0,he=zF[e.arrowTypeStart]||0,re=zF[e.arrowTypeEnd]||0;if(e.look==="neo"&&!j){const K=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?kBe(be,he,re):`0 ${he} ${be-he-re} ${re}`}; stroke-dashoffset: 0;`;B.attr("style",K+B.attr("style"))}}B.attr("data-edge",!0),B.attr("data-et","edge"),B.attr("data-id",e.id),B.attr("data-points",w),e.showPoints&&_.forEach(te=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",te.x).attr("cy",te.y)});let z="";(Zr().flowchart.arrowMarkerAbsolute||Zr().state.arrowMarkerAbsolute)&&(z=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,z=z.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),rt.info("arrowTypeStart",e.arrowTypeStart),rt.info("arrowTypeEnd",e.arrowTypeEnd),fBe(B,e,z,l,n,I);const X=Math.floor(f.length/2),W=f[X];Uo.isLabelCoordinateInPath(W,B.attr("d"))||(p=!0);let F={};return p&&(F.updatedPath=f),F.originalPath=e.points,F},"insertEdge");function ere(t,e){if(t.length<2)return"";let r="";const n=t.length,s=1e-5;for(let a=0;a<n;a++){const l=t[a],c=t[a-1],h=t[a+1];if(a===0)r+=`M${l.x},${l.y}`;else if(a===n-1)r+=`L${l.x},${l.y}`;else{const f=l.x-c.x,p=l.y-c.y,O=h.x-l.x,x=h.y-l.y,k=Math.hypot(f,p),w=Math.hypot(O,x);if(k<s||w<s){r+=`L${l.x},${l.y}`;continue}const _=f/k,C=p/k,T=O/w,E=x/w,P=_*T+C*E,Q=Math.max(-1,Math.min(1,P)),B=Math.acos(Q);if(B<s||Math.abs(Math.PI-B)<s){r+=`L${l.x},${l.y}`;continue}const R=Math.min(e/Math.sin(B/2),k/2,w/2),M=l.x-_*R,I=l.y-C*R,j=l.x+T*R,z=l.y+E*R;r+=`L${M},${I}`,r+=`Q${l.x},${l.y} ${j},${z}`}}return r}Z(ere,"generateRoundedPath");function n6(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const r=e.x-t.x,n=e.y-t.y;return{angle:Math.atan2(n,r),deltaX:r,deltaY:n}}Z(n6,"calculateDeltaAndAngle");function tre(t,e){const r=t.map(s=>({...s}));if(t.length>=2&&hs[e.arrowTypeStart]){const s=hs[e.arrowTypeStart],a=t[0],l=t[1],{angle:c}=n6(a,l),h=s*Math.cos(c),f=s*Math.sin(c);r[0].x=a.x+h,r[0].y=a.y+f}const n=t.length;if(n>=2&&hs[e.arrowTypeEnd]){const s=hs[e.arrowTypeEnd],a=t[n-1],l=t[n-2],{angle:c}=n6(l,a),h=s*Math.cos(c),f=s*Math.sin(c);r[n-1].x=a.x-h,r[n-1].y=a.y-f}return r}Z(tre,"applyMarkerOffsetsToPoints");var wBe=Z((t,e,r,n)=>{e.forEach(s=>{IBe[s](t,r,n)})},"insertMarkers"),vBe=Z((t,e,r)=>{rt.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),_Be=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),CBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),ABe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),SBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),TBe=Z((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),EBe=Z((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),PBe=Z((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),DBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),QBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),$Be=Z((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("d","M9,0 L9,18");const s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),MBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),RBe=Z((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const s=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),NBe=Z((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),BBe=Z((t,e,r)=>{const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");n.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),n.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),n.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),IBe={extension:vBe,composition:_Be,aggregation:CBe,dependency:ABe,lollipop:SBe,point:TBe,circle:EBe,cross:PBe,barb:DBe,only_one:QBe,zero_or_one:$Be,one_or_more:MBe,zero_or_more:RBe,requirement_arrow:NBe,requirement_contains:BBe},jBe=wBe,FBe={common:xg,getConfig:ks,insertCluster:YNe,insertEdge:yBe,insertEdgeLabel:pBe,insertMarkers:jBe,insertNode:Kte,interpolateToCurve:D7,labelHelper:er,log:rt,positionEdgeLabel:mBe},ox={},rre=Z(t=>{for(const e of t)ox[e.name]=e},"registerLayoutLoaders"),LBe=Z(()=>{rre([{name:"dagre",loader:Z(async()=>await Hr(()=>import("./dagre-6UL2VRFP-CwWO7E7S.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),"loader")},{name:"cose-bilkent",loader:Z(async()=>await Hr(()=>import("./cose-bilkent-S5V4N54A-Cn657thB.js"),__vite__mapDeps([10,11,7,6,8,9])),"loader")}])},"registerDefaultLayoutLoaders");LBe();var Iet=Z(async(t,e)=>{if(!(t.layoutAlgorithm in ox))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=ox[t.layoutAlgorithm];return(await r.loader()).render(t,e,FBe,{algorithm:r.algorithm})},"render"),jet=Z((t="",{fallback:e="dagre"}={})=>{if(t in ox)return t;if(e in ox)return rt.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),nre="comm",ire="rule",sre="decl",zBe="@import",XBe="@namespace",VBe="@keyframes",UBe="@layer",are=Math.abs,H7=String.fromCharCode;function ore(t){return t.trim()}function t2(t,e,r){return t.replace(e,r)}function qBe(t,e,r){return t.indexOf(e,r)}function yf(t,e){return t.charCodeAt(e)|0}function ng(t,e,r){return t.slice(e,r)}function El(t){return t.length}function WBe(t){return t.length}function ev(t,e){return e.push(t),t}var uA=1,ig=1,lre=0,go=0,ui=0,vg="";function K7(t,e,r,n,s,a,l,c){return{value:t,root:e,parent:r,type:n,props:s,children:a,line:uA,column:ig,length:l,return:"",siblings:c}}function YBe(){return ui}function ZBe(){return ui=go>0?yf(vg,--go):0,ig--,ui===10&&(ig=1,uA--),ui}function tl(){return ui=go<lre?yf(vg,go++):0,ig++,ui===10&&(ig=1,uA++),ui}function Ud(){return yf(vg,go)}function r2(){return go}function fA(t,e){return ng(vg,t,e)}function lx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GBe(t){return uA=ig=1,lre=El(vg=t),go=0,[]}function HBe(t){return vg="",t}function d3(t){return ore(fA(go-1,i6(t===91?t+2:t===40?t+1:t)))}function KBe(t){for(;(ui=Ud())&&ui<33;)tl();return lx(t)>2||lx(ui)>3?"":" "}function JBe(t,e){for(;--e&&tl()&&!(ui<48||ui>102||ui>57&&ui<65||ui>70&&ui<97););return fA(t,r2()+(e<6&&Ud()==32&&tl()==32))}function i6(t){for(;tl();)switch(ui){case t:return go;case 34:case 39:t!==34&&t!==39&&i6(ui);break;case 40:t===41&&i6(t);break;case 92:tl();break}return go}function eIe(t,e){for(;tl()&&t+ui!==57;)if(t+ui===84&&Ud()===47)break;return"/*"+fA(e,go-1)+"*"+H7(t===47?t:tl())}function tIe(t){for(;!lx(Ud());)tl();return fA(t,go)}function rIe(t){return HBe(n2("",null,null,null,[""],t=GBe(t),0,[0],t))}function n2(t,e,r,n,s,a,l,c,h){for(var f=0,p=0,O=l,x=0,k=0,w=0,_=1,C=1,T=1,E=0,P="",Q=s,B=a,R=n,M=P;C;)switch(w=E,E=tl()){case 40:if(w!=108&&yf(M,O-1)==58){qBe(M+=t2(d3(E),"&","&\f"),"&\f",are(f?c[f-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:M+=d3(E);break;case 9:case 10:case 13:case 32:M+=KBe(w);break;case 92:M+=JBe(r2()-1,7);continue;case 47:switch(Ud()){case 42:case 47:ev(nIe(eIe(tl(),r2()),e,r,h),h),(lx(w||1)==5||lx(Ud()||1)==5)&&El(M)&&ng(M,-1,void 0)!==" "&&(M+=" ");break;default:M+="/"}break;case 123*_:c[f++]=El(M)*T;case 125*_:case 59:case 0:switch(E){case 0:case 125:C=0;case 59+p:T==-1&&(M=t2(M,/\f/g,"")),k>0&&(El(M)-O||_===0&&w===47)&&ev(k>32?SL(M+";",n,r,O-1,h):SL(t2(M," ","")+";",n,r,O-2,h),h);break;case 59:M+=";";default:if(ev(R=AL(M,e,r,f,p,s,c,P,Q=[],B=[],O,a),a),E===123)if(p===0)n2(M,e,R,R,Q,a,O,c,B);else{switch(x){case 99:if(yf(M,3)===110)break;case 108:if(yf(M,2)===97)break;default:p=0;case 100:case 109:case 115:}p?n2(t,R,R,n&&ev(AL(t,R,R,0,0,s,c,P,s,Q=[],O,B),B),s,B,O,c,n?Q:B):n2(M,R,R,R,[""],B,0,c,B)}}f=p=k=0,_=T=1,P=M="",O=l;break;case 58:O=1+El(M),k=w;default:if(_<1){if(E==123)--_;else if(E==125&&_++==0&&ZBe()==125)continue}switch(M+=H7(E),E*_){case 38:T=p>0?1:(M+="\f",-1);break;case 44:c[f++]=(El(M)-1)*T,T=1;break;case 64:Ud()===45&&(M+=d3(tl())),x=Ud(),p=O=El(P=M+=tIe(r2())),E++;break;case 45:w===45&&El(M)==2&&(_=0)}}return a}function AL(t,e,r,n,s,a,l,c,h,f,p,O){for(var x=s-1,k=s===0?a:[""],w=WBe(k),_=0,C=0,T=0;_<n;++_)for(var E=0,P=ng(t,x+1,x=are(C=l[_])),Q=t;E<w;++E)(Q=ore(C>0?k[E]+" "+P:t2(P,/&\f/g,k[E])))&&(h[T++]=Q);return K7(t,e,r,s===0?ire:c,h,f,p,O)}function nIe(t,e,r,n){return K7(t,e,r,nre,H7(YBe()),ng(t,2,-2),0,n)}function SL(t,e,r,n,s){return K7(t,e,r,sre,ng(t,0,n),ng(t,n+1,-1),n,s)}function s6(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function iIe(t,e,r,n){switch(t.type){case UBe:if(t.children.length)break;case zBe:case XBe:case sre:return t.return=t.return||t.value;case nre:return"";case VBe:return t.return=t.value+"{"+s6(t.children,n)+"}";case ire:if(!El(t.value=t.props.join(",")))return""}return El(r=s6(t.children,n))?t.return=t.value+"{"+r+"}":""}var sIe=MJ(Object.keys,Object),aIe=Object.prototype,oIe=aIe.hasOwnProperty;function lIe(t){if(!rA(t))return sIe(t);var e=[];for(var r in Object(t))oIe.call(t,r)&&r!="constructor"&&e.push(r);return e}var a6=qu(Gl,"DataView"),o6=qu(Gl,"Promise"),l6=qu(Gl,"Set"),c6=qu(Gl,"WeakMap"),TL="[object Map]",cIe="[object Object]",EL="[object Promise]",PL="[object Set]",DL="[object WeakMap]",QL="[object DataView]",dIe=Uu(a6),hIe=Uu(sx),uIe=Uu(o6),fIe=Uu(l6),gIe=Uu(c6),ru=kg;(a6&&ru(new a6(new ArrayBuffer(1)))!=QL||sx&&ru(new sx)!=TL||o6&&ru(o6.resolve())!=EL||l6&&ru(new l6)!=PL||c6&&ru(new c6)!=DL)&&(ru=function(t){var e=kg(t),r=e==cIe?t.constructor:void 0,n=r?Uu(r):"";if(n)switch(n){case dIe:return QL;case hIe:return TL;case uIe:return EL;case fIe:return PL;case gIe:return DL}return e});var pIe="[object Map]",mIe="[object Set]",OIe=Object.prototype,xIe=OIe.hasOwnProperty;function $L(t){if(t==null)return!0;if(nA(t)&&(z_(t)||typeof t=="string"||typeof t.splice=="function"||E7(t)||P7(t)||L_(t)))return!t.length;var e=ru(t);if(e==pIe||e==mIe)return!t.size;if(rA(t))return!lIe(t).length;for(var r in t)if(xIe.call(t,r))return!1;return!0}var cre="c4",bIe=Z(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),kIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-B2RX5zrn.js");return{diagram:e}},__vite__mapDeps([12,13,6,7,8,9]));return{id:cre,diagram:t}},"loader"),yIe={id:cre,detector:bIe,loader:kIe},wIe=yIe,dre="flowchart",vIe=Z((t,e)=>{var r,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),_Ie=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BfIOJOD2.js");return{diagram:e}},__vite__mapDeps([14,15,16,17,18,6,7,8,9]));return{id:dre,diagram:t}},"loader"),CIe={id:dre,detector:vIe,loader:_Ie},AIe=CIe,hre="flowchart-v2",SIe=Z((t,e)=>{var r,n,s;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),TIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BfIOJOD2.js");return{diagram:e}},__vite__mapDeps([14,15,16,17,18,6,7,8,9]));return{id:hre,diagram:t}},"loader"),EIe={id:hre,detector:SIe,loader:TIe},PIe=EIe,ure="er",DIe=Z(t=>/^\s*erDiagram/.test(t),"detector"),QIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-B9SBlOZl.js");return{diagram:e}},__vite__mapDeps([19,16,17,18,6,7,8,9]));return{id:ure,diagram:t}},"loader"),$Ie={id:ure,detector:DIe,loader:QIe},MIe=$Ie,fre="gitGraph",RIe=Z(t=>/^\s*gitGraph/.test(t),"detector"),NIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-jlntG4B-.js");return{diagram:e}},__vite__mapDeps([20,21,22,23,9,7,6,2,4,5,8]));return{id:fre,diagram:t}},"loader"),BIe={id:fre,detector:RIe,loader:NIe},IIe=BIe,gre="gantt",jIe=Z(t=>/^\s*gantt/.test(t),"detector"),FIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./ganttDiagram-LVOFAZNH-B-8DV_JV.js");return{diagram:e}},__vite__mapDeps([24,7,8,6,9]));return{id:gre,diagram:t}},"loader"),LIe={id:gre,detector:jIe,loader:FIe},zIe=LIe,pre="info",XIe=Z(t=>/^\s*info/.test(t),"detector"),VIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./infoDiagram-ER5ION4S-CtLorPcC.js");return{diagram:e}},__vite__mapDeps([25,23,9,7,6,2,4,5,8]));return{id:pre,diagram:t}},"loader"),UIe={id:pre,detector:XIe,loader:VIe},mre="pie",qIe=Z(t=>/^\s*pie/.test(t),"detector"),WIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-Boqp615n.js");return{diagram:e}},__vite__mapDeps([26,21,23,9,7,6,2,4,5,8]));return{id:mre,diagram:t}},"loader"),YIe={id:mre,detector:qIe,loader:WIe},Ore="quadrantChart",ZIe=Z(t=>/^\s*quadrantChart/.test(t),"detector"),GIe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-CB_Z-HOB.js");return{diagram:e}},__vite__mapDeps([27,8,6,7,9]));return{id:Ore,diagram:t}},"loader"),HIe={id:Ore,detector:ZIe,loader:GIe},KIe=HIe,xre="xychart",JIe=Z(t=>/^\s*xychart(-beta)?/.test(t),"detector"),eje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-B2dZAHEH.js");return{diagram:e}},__vite__mapDeps([28,8,6,7,9]));return{id:xre,diagram:t}},"loader"),tje={id:xre,detector:JIe,loader:eje},rje=tje,bre="requirement",nje=Z(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),ije=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-DL0rNCIJ.js");return{diagram:e}},__vite__mapDeps([29,16,17,6,7,8,9]));return{id:bre,diagram:t}},"loader"),sje={id:bre,detector:nje,loader:ije},aje=sje,kre="sequence",oje=Z(t=>/^\s*sequenceDiagram/.test(t),"detector"),lje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-YfZBplhN.js");return{diagram:e}},__vite__mapDeps([30,13,22,6,7,8,9]));return{id:kre,diagram:t}},"loader"),cje={id:kre,detector:oje,loader:lje},dje=cje,yre="class",hje=Z((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),uje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-BZNjjcUy.js");return{diagram:e}},__vite__mapDeps([31,32,15,16,17,6,7,8,9]));return{id:yre,diagram:t}},"loader"),fje={id:yre,detector:hje,loader:uje},gje=fje,wre="classDiagram",pje=Z((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),mje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-BZNjjcUy.js");return{diagram:e}},__vite__mapDeps([33,32,15,16,17,6,7,8,9]));return{id:wre,diagram:t}},"loader"),Oje={id:wre,detector:pje,loader:mje},xje=Oje,vre="state",bje=Z((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),kje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-CcReg4hq.js");return{diagram:e}},__vite__mapDeps([34,35,16,17,1,2,3,4,8,6,7,9]));return{id:vre,diagram:t}},"loader"),yje={id:vre,detector:bje,loader:kje},wje=yje,_re="stateDiagram",vje=Z((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),_je=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-BAoWixFr.js");return{diagram:e}},__vite__mapDeps([36,35,16,17,6,7,8,9]));return{id:_re,diagram:t}},"loader"),Cje={id:_re,detector:vje,loader:_je},Aje=Cje,Cre="journey",Sje=Z(t=>/^\s*journey/.test(t),"detector"),Tje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-CjDmQZ8n.js");return{diagram:e}},__vite__mapDeps([37,13,15,8,6,7,9]));return{id:Cre,diagram:t}},"loader"),Eje={id:Cre,detector:Sje,loader:Tje},Pje=Eje,Dje=Z((t,e,r)=>{rt.debug(`rendering svg for syntax error
`);const n=hQe(e),s=n.append("g");n.attr("viewBox","0 0 2412 512"),CH(n,100,512,!0),s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),Are={draw:Dje},Qje=Are,$je={db:{},renderer:Are,parser:{parse:Z(()=>{},"parse")}},Mje=$je,Sre="flowchart-elk",Rje=Z((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),Nje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BfIOJOD2.js");return{diagram:e}},__vite__mapDeps([14,15,16,17,18,6,7,8,9]));return{id:Sre,diagram:t}},"loader"),Bje={id:Sre,detector:Rje,loader:Nje},Ije=Bje,Tre="timeline",jje=Z(t=>/^\s*timeline/.test(t),"detector"),Fje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-cCK1rsbm.js");return{diagram:e}},__vite__mapDeps([38,8,6,7,9]));return{id:Tre,diagram:t}},"loader"),Lje={id:Tre,detector:jje,loader:Fje},zje=Lje,Ere="mindmap",Xje=Z(t=>/^\s*mindmap/.test(t),"detector"),Vje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-B8vTbiGz.js");return{diagram:e}},__vite__mapDeps([39,16,17,6,7,8,9]));return{id:Ere,diagram:t}},"loader"),Uje={id:Ere,detector:Xje,loader:Vje},qje=Uje,Pre="kanban",Wje=Z(t=>/^\s*kanban/.test(t),"detector"),Yje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-b0-hbazO.js");return{diagram:e}},__vite__mapDeps([40,15,6,7,8,9]));return{id:Pre,diagram:t}},"loader"),Zje={id:Pre,detector:Wje,loader:Yje},Gje=Zje,Dre="sankey",Hje=Z(t=>/^\s*sankey(-beta)?/.test(t),"detector"),Kje=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-CCMk80w4.js");return{diagram:e}},__vite__mapDeps([41,8,6,7,9]));return{id:Dre,diagram:t}},"loader"),Jje={id:Dre,detector:Hje,loader:Kje},eFe=Jje,Qre="packet",tFe=Z(t=>/^\s*packet(-beta)?/.test(t),"detector"),rFe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-LnKUApXj.js");return{diagram:e}},__vite__mapDeps([42,21,23,9,7,6,2,4,5,8]));return{id:Qre,diagram:t}},"loader"),nFe={id:Qre,detector:tFe,loader:rFe},$re="radar",iFe=Z(t=>/^\s*radar-beta/.test(t),"detector"),sFe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-CmmxPOvg.js");return{diagram:e}},__vite__mapDeps([43,21,23,9,7,6,2,4,5,8]));return{id:$re,diagram:t}},"loader"),aFe={id:$re,detector:iFe,loader:sFe},Mre="block",oFe=Z(t=>/^\s*block(-beta)?/.test(t),"detector"),lFe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-B-CnOLqn.js");return{diagram:e}},__vite__mapDeps([44,15,5,2,1,18,8,6,7,9]));return{id:Mre,diagram:t}},"loader"),cFe={id:Mre,detector:oFe,loader:lFe},dFe=cFe,Rre="architecture",hFe=Z(t=>/^\s*architecture/.test(t),"detector"),uFe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-DZlI37jt.js");return{diagram:e}},__vite__mapDeps([45,21,23,9,7,6,2,4,5,11,8]));return{id:Rre,diagram:t}},"loader"),fFe={id:Rre,detector:hFe,loader:uFe},gFe=fFe,Nre="treemap",pFe=Z(t=>/^\s*treemap/.test(t),"detector"),mFe=Z(async()=>{const{diagram:t}=await Hr(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-D4eOViBY.js");return{diagram:e}},__vite__mapDeps([46,17,21,23,9,7,6,2,4,5,8]));return{id:Nre,diagram:t}},"loader"),OFe={id:Nre,detector:pFe,loader:mFe},ML=!1,gA=Z(()=>{ML||(ML=!0,S_("error",Mje,t=>t.toLowerCase().trim()==="error"),S_("---",{db:{clear:Z(()=>{},"clear")},styles:{},renderer:{draw:Z(()=>{},"draw")},parser:{parse:Z(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:Z(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),kE(Ije,qje,gFe),kE(wIe,Gje,xje,gje,MIe,zIe,UIe,YIe,aje,dje,PIe,AIe,zje,IIe,Aje,wje,Pje,KIe,eFe,nFe,rje,dFe,aFe,OFe))},"addDiagrams"),xFe=Z(async()=>{rt.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Qu).map(async([r,{detector:n,loader:s}])=>{if(s)try{_E(r)}catch{try{const{diagram:a,id:l}=await s();S_(l,a,n)}catch(a){throw rt.error(`Failed to load external diagram with key ${r}. Removing from detectors.`),delete Qu[r],a}}}))).filter(r=>r.status==="rejected");if(e.length>0){rt.error(`Failed to load ${e.length} external diagrams`);for(const r of e)rt.error(r);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),bFe="graphics-document document";function Bre(t,e){t.attr("role",bFe),e!==""&&t.attr("aria-roledescription",e)}Z(Bre,"setA11yDiagramInfo");function Ire(t,e,r,n){if(t.insert!==void 0){if(r){const s=`chart-desc-${n}`;t.attr("aria-describedby",s),t.insert("desc",":first-child").attr("id",s).text(r)}if(e){const s=`chart-title-${n}`;t.attr("aria-labelledby",s),t.insert("title",":first-child").attr("id",s).text(e)}}}Z(Ire,"addSVGa11yTitleDescription");var wu,d6=(wu=class{constructor(e,r,n,s,a){this.type=e,this.text=r,this.db=n,this.parser=s,this.renderer=a}static async fromText(e,r={}){var f,p;const n=ks(),s=n7(e,n);e=ORe(e)+`
`;try{_E(s)}catch{const O=M6e(s);if(!O)throw new fH(`Diagram ${s} not found.`);const{id:x,diagram:k}=await O();S_(x,k)}const{db:a,parser:l,renderer:c,init:h}=_E(s);return l.parser&&(l.parser.yy=a),(f=a.clear)==null||f.call(a),h==null||h(n),r.title&&((p=a.setDiagramTitle)==null||p.call(a,r.title)),await l.parse(e),new wu(s,e,a,l,c)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},Z(wu,"Diagram"),wu),RL=[],kFe=Z(()=>{RL.forEach(t=>{t()}),RL=[]},"attachFunctions"),yFe=Z(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function jre(t){const e=t.match(uH);if(!e)return{text:t,metadata:{}};let r=x$e(e[1],{schema:O$e})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:t.slice(e[0].length),metadata:n}}Z(jre,"extractFrontMatter");var wFe=Z(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),vFe=Z(t=>{const{text:e,metadata:r}=jre(t),{displayMode:n,title:s,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:s,config:a,text:e}},"processFrontmatter"),_Fe=Z(t=>{const e=Uo.detectInit(t)??{},r=Uo.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:iRe(t),directive:e}},"processDirectives");function J7(t){const e=wFe(t),r=vFe(e),n=_Fe(r.text),s=N7(r.config,n.directive);return t=yFe(n.text),{code:t,title:r.title,config:s}}Z(J7,"preprocessDiagram");function Fre(t){const e=new TextEncoder().encode(t),r=Array.from(e,n=>String.fromCodePoint(n)).join("");return btoa(r)}Z(Fre,"toBase64");var CFe=5e4,AFe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SFe="sandbox",TFe="loose",EFe="http://www.w3.org/2000/svg",PFe="http://www.w3.org/1999/xlink",DFe="http://www.w3.org/1999/xhtml",QFe="100%",$Fe="100%",MFe="border:0;margin:0;",RFe="margin:0",NFe="allow-top-navigation-by-user-activation allow-popups",BFe='The "iframe" tag is not supported by your browser.',IFe=["foreignobject"],jFe=["dominant-baseline"];function e8(t){const e=J7(t);return C_(),G6e(e.config??{}),e}Z(e8,"processAndSetConfigs");async function Lre(t,e){gA();try{const{code:r,config:n}=e8(t);return{diagramType:(await Xre(r)).type,config:n}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}Z(Lre,"parse");var NL=Z((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),FFe=Z((t,e=new Map)=>{var n;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const c=t.htmlLabels??((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(h=>{$L(h.styles)||c.forEach(f=>{r+=NL(h.id,f,h.styles)}),$L(h.textStyles)||(r+=NL(h.id,"tspan",((h==null?void 0:h.textStyles)||[]).map(f=>f.replace("color","fill"))))})}return r},"createCssStyles"),LFe=Z((t,e,r,n)=>{const s=FFe(t,r),a=mPe(e,s,t.themeVariables);return s6(rIe(`${n}{${a}}`),iIe)},"createUserStyles"),zFe=Z((t="",e,r)=>{let n=t;return!r&&!e&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Wu(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),XFe=Z((t="",e)=>{var s,a;const r=(a=(s=e==null?void 0:e.viewBox)==null?void 0:s.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":$Fe,n=Fre(`<body style="${RFe}">${t}</body>`);return`<iframe style="width:${QFe};height:${r};${MFe}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${NFe}">
  ${BFe}
</iframe>`},"putIntoIFrame"),BL=Z((t,e,r,n,s)=>{const a=t.append("div");a.attr("id",r),n&&a.attr("style",n);const l=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",EFe);return s&&l.attr("xmlns:xlink",s),l.append("g"),t},"appendDivSvgG");function h6(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}Z(h6,"sandboxedIframe");var VFe=Z((t,e,r,n)=>{var s,a,l;(s=t.getElementById(e))==null||s.remove(),(a=t.getElementById(r))==null||a.remove(),(l=t.getElementById(n))==null||l.remove()},"removeExistingElements"),UFe=Z(async function(t,e,r){var W,F,V,te,G,J;gA();const n=e8(e);e=n.code;const s=ks();rt.debug(s),e.length>((s==null?void 0:s.maxTextSize)??CFe)&&(e=AFe);const a="#"+t,l="i"+t,c="#"+l,h="d"+t,f="#"+h,p=Z(()=>{const ie=hr(x?c:f).node();ie&&"remove"in ie&&ie.remove()},"removeTempElements");let O=hr("body");const x=s.securityLevel===SFe,k=s.securityLevel===TFe,w=s.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),x){const oe=h6(hr(r),l);O=hr(oe.nodes()[0].contentDocument.body),O.node().style.margin=0}else O=hr(r);BL(O,t,h,`font-family: ${w}`,PFe)}else{if(VFe(document,t,h,l),x){const oe=h6(hr("body"),l);O=hr(oe.nodes()[0].contentDocument.body),O.node().style.margin=0}else O=hr("body");BL(O,t,h)}let _,C;try{_=await d6.fromText(e,{title:n.title})}catch(oe){if(s.suppressErrorRendering)throw p(),oe;_=await d6.fromText("error"),C=oe}const T=O.select(f).node(),E=_.type,P=T.firstChild,Q=P.firstChild,B=(F=(W=_.renderer).getClasses)==null?void 0:F.call(W,e,_),R=LFe(s,E,B,a),M=document.createElement("style");M.innerHTML=R,P.insertBefore(M,Q);try{await _.renderer.draw(e,t,fF.version,_)}catch(oe){throw s.suppressErrorRendering?p():Qje.draw(e,t,fF.version),oe}const I=O.select(`${f} svg`),j=(te=(V=_.db).getAccTitle)==null?void 0:te.call(V),z=(J=(G=_.db).getAccDescription)==null?void 0:J.call(G);Vre(E,I,j,z),O.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",DFe);let X=O.select(f).node().innerHTML;if(rt.debug("config.arrowMarkerAbsolute",s.arrowMarkerAbsolute),X=zFe(X,x,_i(s.arrowMarkerAbsolute)),x){const oe=O.select(f+" svg").node();X=XFe(X,oe)}else k||(X=Gf.sanitize(X,{ADD_TAGS:IFe,ADD_ATTR:jFe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(kFe(),C)throw C;return p(),{diagramType:E,svg:X,bindFunctions:_.db.bindFunctions}},"render");function zre(t={}){var n;const e=ki({},t);e!=null&&e.fontFamily&&!((n=e.themeVariables)!=null&&n.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Y6e(e),e!=null&&e.theme&&e.theme in jc?e.themeVariables=jc[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=jc.default.getThemeVariables(e.themeVariables));const r=typeof e=="object"?W6e(e):xH();r7(r.logLevel),gA()}Z(zre,"initialize");var Xre=Z((t,e={})=>{const{code:r}=J7(t);return d6.fromText(r,e)},"getDiagramFromText");function Vre(t,e,r,n){Bre(e,t),Ire(e,r,n,e.attr("id"))}Z(Vre,"addA11yInfo");var Iu=Object.freeze({render:UFe,parse:Lre,getDiagramFromText:Xre,initialize:zre,getConfig:ks,setConfig:bH,getSiteConfig:xH,updateSiteConfig:Z6e,reset:Z(()=>{C_()},"reset"),globalReset:Z(()=>{C_(Hf)},"globalReset"),defaultConfig:Hf});r7(ks().logLevel);C_(ks());var qFe=Z((t,e,r)=>{rt.warn(t),R7(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),Ure=Z(async function(t={querySelector:".mermaid"}){try{await WFe(t)}catch(e){if(R7(e)&&rt.error(e.str),Ra.parseError&&Ra.parseError(e),!t.suppressErrors)throw rt.error("Use the suppressErrors option to suppress these errors"),e}},"run"),WFe=Z(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){const n=Iu.getConfig();rt.debug(`${t?"":"No "}Callback function found`);let s;if(r)s=r;else if(e)s=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");rt.debug(`Found ${s.length} diagrams`),(n==null?void 0:n.startOnLoad)!==void 0&&(rt.debug("Start On Load: "+(n==null?void 0:n.startOnLoad)),Iu.updateSiteConfig({startOnLoad:n==null?void 0:n.startOnLoad}));const a=new Uo.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let l;const c=[];for(const h of Array.from(s)){if(rt.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const f=`mermaid-${a.next()}`;l=h.innerHTML,l=uee(Uo.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=Uo.detectInit(l);p&&rt.debug("Detected early reinit: ",p);try{const{svg:O,bindFunctions:x}=await Zre(f,l,h);h.innerHTML=O,t&&await t(f),x&&x(h)}catch(O){qFe(O,c,Ra.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),qre=Z(function(t){Iu.initialize(t)},"initialize"),YFe=Z(async function(t,e,r){rt.warn("mermaid.init is deprecated. Please use run instead."),t&&qre(t);const n={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?n.querySelector=e:e&&(e instanceof HTMLElement?n.nodes=[e]:n.nodes=e),await Ure(n)},"init"),ZFe=Z(async(t,{lazyLoad:e=!0}={})=>{gA(),kE(...t),e===!1&&await xFe()},"registerExternalDiagrams"),Wre=Z(function(){if(Ra.startOnLoad){const{startOnLoad:t}=Iu.getConfig();t&&Ra.run().catch(e=>rt.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",Wre,!1);var GFe=Z(function(t){Ra.parseError=t},"setParseErrorHandler"),J_=[],h3=!1,Yre=Z(async()=>{if(!h3){for(h3=!0;J_.length>0;){const t=J_.shift();if(t)try{await t()}catch(e){rt.error("Error executing queue",e)}}h3=!1}},"executeQueue"),HFe=Z(async(t,e)=>new Promise((r,n)=>{const s=Z(()=>new Promise((a,l)=>{Iu.parse(t,e).then(c=>{a(c),r(c)},c=>{var h;rt.error("Error parsing",c),(h=Ra.parseError)==null||h.call(Ra,c),l(c),n(c)})}),"performCall");J_.push(s),Yre().catch(n)}),"parse"),Zre=Z((t,e,r)=>new Promise((n,s)=>{const a=Z(()=>new Promise((l,c)=>{Iu.render(t,e,r).then(h=>{l(h),n(h)},h=>{var f;rt.error("Error parsing",h),(f=Ra.parseError)==null||f.call(Ra,h),c(h),s(h)})}),"performCall");J_.push(a),Yre().catch(s)}),"render"),KFe=Z(()=>Object.keys(Qu).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Ra={startOnLoad:!0,mermaidAPI:Iu,parse:HFe,render:Zre,init:YFe,run:Ure,registerExternalDiagrams:ZFe,registerLayoutLoaders:rre,initialize:qre,parseError:void 0,contentLoaded:Wre,setParseErrorHandler:GFe,detectType:n7,registerIconPacks:yNe,getRegisteredDiagramsMetadata:KFe},IL=Ra;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */class la{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new la(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Na{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Na(r,la.range(this,e))}}class dt{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,s,a,l=r&&r.loc;if(l&&l.start<=l.end){var c=l.lexer.input;s=l.start,a=l.end,s===c.length?n+=" at end of input: ":n+=" at position "+(s+1)+": ";var h=c.slice(s,a).replace(/[^]/g,"$&"),f;s>15?f=""+c.slice(s-15,s):f=c.slice(0,s);var p;a+15<c.length?p=c.slice(a,a+15)+"":p=c.slice(a),n+=f+h+p}var O=new Error(n);return O.name="ParseError",O.__proto__=dt.prototype,O.position=s,s!=null&&a!=null&&(O.length=a-s),O.rawMessage=e,O}}dt.prototype.__proto__=Error.prototype;var JFe=function(e,r){return e===void 0?r:e},eLe=/([A-Z])/g,tLe=function(e){return e.replace(eLe,"-$1").toLowerCase()},rLe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},nLe=/[&><"']/g;function iLe(t){return String(t).replace(nLe,e=>rLe[e])}var Gre=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},sLe=function(e){var r=Gre(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},aLe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},oLe=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Vr={deflt:JFe,escape:iLe,hyphenate:tLe,getBaseElem:Gre,isCharacterBox:sLe,protocolFromUrl:oLe},mO={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function lLe(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let t8=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in mO)if(mO.hasOwnProperty(r)){var n=mO[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:lLe(n)}}reportNonstrict(e,r,n){var s=this.strict;if(typeof s=="function"&&(s=s(e,r,n)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new dt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var s=this.strict;if(typeof s=="function")try{s=s(e,r,n)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Vr.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}};class Td{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Pl[cLe[this.id]]}sub(){return Pl[dLe[this.id]]}fracNum(){return Pl[hLe[this.id]]}fracDen(){return Pl[uLe[this.id]]}cramp(){return Pl[fLe[this.id]]}text(){return Pl[gLe[this.id]]}isTight(){return this.size>=2}}var r8=0,eC=1,wf=2,Lc=3,cx=4,so=5,sg=6,zs=7,Pl=[new Td(r8,0,!1),new Td(eC,0,!0),new Td(wf,1,!1),new Td(Lc,1,!0),new Td(cx,2,!1),new Td(so,2,!0),new Td(sg,3,!1),new Td(zs,3,!0)],cLe=[cx,so,cx,so,sg,zs,sg,zs],dLe=[so,so,so,so,zs,zs,zs,zs],hLe=[wf,Lc,cx,so,sg,zs,sg,zs],uLe=[Lc,Lc,so,so,zs,zs,zs,zs],fLe=[eC,eC,Lc,Lc,so,so,zs,zs],gLe=[r8,eC,wf,Lc,wf,Lc,wf,Lc],Jt={DISPLAY:Pl[r8],TEXT:Pl[wf],SCRIPT:Pl[cx],SCRIPTSCRIPT:Pl[sg]},u6=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function pLe(t){for(var e=0;e<u6.length;e++)for(var r=u6[e],n=0;n<r.blocks.length;n++){var s=r.blocks[n];if(t>=s[0]&&t<=s[1])return r.name}return null}var i2=[];u6.forEach(t=>t.blocks.forEach(e=>i2.push(...e)));function Hre(t){for(var e=0;e<i2.length;e+=2)if(t>=i2[e]&&t<=i2[e+1])return!0;return!1}var z0=80,mLe=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},OLe=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},xLe=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},bLe=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},kLe=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},yLe=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},wLe=function(e,r,n){var s=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},vLe=function(e,r,n){r=1e3*r;var s="";switch(e){case"sqrtMain":s=mLe(r,z0);break;case"sqrtSize1":s=OLe(r,z0);break;case"sqrtSize2":s=xLe(r,z0);break;case"sqrtSize3":s=bLe(r,z0);break;case"sqrtSize4":s=kLe(r,z0);break;case"sqrtTall":s=wLe(r,z0,n)}return s},_Le=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},jL={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},CLe=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let Zx=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}};var Bl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},tv={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},FL={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Kre(t,e){Bl[t]=e}function n8(t,e,r){if(!Bl[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),s=Bl[e][n];if(!s&&t[0]in FL&&(n=FL[t[0]].charCodeAt(0),s=Bl[e][n]),!s&&r==="text"&&Hre(n)&&(s=Bl[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var u3={};function ALe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!u3[e]){var r=u3[e]={cssEmPerMu:tv.quad[e]/18};for(var n in tv)tv.hasOwnProperty(n)&&(r[n]=tv[n][e])}return u3[e]}var SLe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],LL=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],zL=function(e,r){return r.size<2?e:SLe[e-1][r.size-1]};class Dc{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Dc.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=LL[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Dc(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:zL(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:LL[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=zL(Dc.BASESIZE,e);return this.size===r&&this.textSize===Dc.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Dc.BASESIZE?["sizing","reset-size"+this.size,"size"+Dc.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ALe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Dc.BASESIZE=6;var f6={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},TLe={ex:!0,em:!0,mu:!0},Jre=function(e){return typeof e!="string"&&(e=e.unit),e in f6||e in TLe||e==="ex"},Nn=function(e,r){var n;if(e.unit in f6)n=f6[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var s;if(r.style.isTight()?s=r.havingStyle(r.style.text()):s=r,e.unit==="ex")n=s.fontMetrics().xHeight;else if(e.unit==="em")n=s.fontMetrics().quad;else throw new dt("Invalid unit: '"+e.unit+"'");s!==r&&(n*=s.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},bt=function(e){return+e.toFixed(4)+"em"},fh=function(e){return e.filter(r=>r).join(" ")},ene=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var s=r.getColor();s&&(this.style.color=s)}},tne=function(e){var r=document.createElement(e);r.className=fh(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&r.setAttribute(s,this.attributes[s]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},ELe=/[\s"'>/=\x00-\x1f]/,rne=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Vr.escape(fh(this.classes))+'"');var n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=Vr.hyphenate(s)+":"+this.style[s]+";");n&&(r+=' style="'+Vr.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(ELe.test(a))throw new dt("Invalid attribute name '"+a+"'");r+=" "+a+'="'+Vr.escape(this.attributes[a])+'"'}r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+e+">",r};class Gx{constructor(e,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ene.call(this,e,n,s),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return tne.call(this,"span")}toMarkup(){return rne.call(this,"span")}}class i8{constructor(e,r,n,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ene.call(this,r,s),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return tne.call(this,"a")}toMarkup(){return rne.call(this,"a")}}class PLe{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Vr.escape(this.src)+'"'+(' alt="'+Vr.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Vr.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Vr.escape(r)+'"'),e+="'/>",e}}var DLe={:"",:"",:"",:""};class po{constructor(e,r,n,s,a,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=s||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var f=pLe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=DLe[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=bt(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=fh(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Vr.escape(fh(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=Vr.hyphenate(s)+":"+this.style[s]+";");n&&(e=!0,r+=' style="'+Vr.escape(n)+'"');var a=Vr.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class ed{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Vr.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class gh{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",jL[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Vr.escape(this.alternate)+'"/>':'<path d="'+Vr.escape(jL[this.pathName])+'"/>'}}class g6{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Vr.escape(this.attributes[r])+'"');return e+="/>",e}}function XL(t){if(t instanceof po)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function QLe(t){if(t instanceof Gx)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var $Le={bin:1,close:1,inner:1,open:1,punct:1,rel:1},MLe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},gn={math:{},text:{}};function U(t,e,r,n,s,a){gn[t][s]={font:e,group:r,replace:n},a&&n&&(gn[t][n]=gn[t][s])}var ee="math",ot="text",se="main",Se="ams",Qn="accent-token",Dt="bin",Ks="close",_g="inner",Kt="mathord",gi="op-token",Fa="open",pA="punct",Te="rel",cd="spacing",$e="textord";U(ee,se,Te,"","\\equiv",!0);U(ee,se,Te,"","\\prec",!0);U(ee,se,Te,"","\\succ",!0);U(ee,se,Te,"","\\sim",!0);U(ee,se,Te,"","\\perp");U(ee,se,Te,"","\\preceq",!0);U(ee,se,Te,"","\\succeq",!0);U(ee,se,Te,"","\\simeq",!0);U(ee,se,Te,"","\\mid",!0);U(ee,se,Te,"","\\ll",!0);U(ee,se,Te,"","\\gg",!0);U(ee,se,Te,"","\\asymp",!0);U(ee,se,Te,"","\\parallel");U(ee,se,Te,"","\\bowtie",!0);U(ee,se,Te,"","\\smile",!0);U(ee,se,Te,"","\\sqsubseteq",!0);U(ee,se,Te,"","\\sqsupseteq",!0);U(ee,se,Te,"","\\doteq",!0);U(ee,se,Te,"","\\frown",!0);U(ee,se,Te,"","\\ni",!0);U(ee,se,Te,"","\\propto",!0);U(ee,se,Te,"","\\vdash",!0);U(ee,se,Te,"","\\dashv",!0);U(ee,se,Te,"","\\owns");U(ee,se,pA,".","\\ldotp");U(ee,se,pA,"","\\cdotp");U(ee,se,$e,"#","\\#");U(ot,se,$e,"#","\\#");U(ee,se,$e,"&","\\&");U(ot,se,$e,"&","\\&");U(ee,se,$e,"","\\aleph",!0);U(ee,se,$e,"","\\forall",!0);U(ee,se,$e,"","\\hbar",!0);U(ee,se,$e,"","\\exists",!0);U(ee,se,$e,"","\\nabla",!0);U(ee,se,$e,"","\\flat",!0);U(ee,se,$e,"","\\ell",!0);U(ee,se,$e,"","\\natural",!0);U(ee,se,$e,"","\\clubsuit",!0);U(ee,se,$e,"","\\wp",!0);U(ee,se,$e,"","\\sharp",!0);U(ee,se,$e,"","\\diamondsuit",!0);U(ee,se,$e,"","\\Re",!0);U(ee,se,$e,"","\\heartsuit",!0);U(ee,se,$e,"","\\Im",!0);U(ee,se,$e,"","\\spadesuit",!0);U(ee,se,$e,"","\\S",!0);U(ot,se,$e,"","\\S");U(ee,se,$e,"","\\P",!0);U(ot,se,$e,"","\\P");U(ee,se,$e,"","\\dag");U(ot,se,$e,"","\\dag");U(ot,se,$e,"","\\textdagger");U(ee,se,$e,"","\\ddag");U(ot,se,$e,"","\\ddag");U(ot,se,$e,"","\\textdaggerdbl");U(ee,se,Ks,"","\\rmoustache",!0);U(ee,se,Fa,"","\\lmoustache",!0);U(ee,se,Ks,"","\\rgroup",!0);U(ee,se,Fa,"","\\lgroup",!0);U(ee,se,Dt,"","\\mp",!0);U(ee,se,Dt,"","\\ominus",!0);U(ee,se,Dt,"","\\uplus",!0);U(ee,se,Dt,"","\\sqcap",!0);U(ee,se,Dt,"","\\ast");U(ee,se,Dt,"","\\sqcup",!0);U(ee,se,Dt,"","\\bigcirc",!0);U(ee,se,Dt,"","\\bullet",!0);U(ee,se,Dt,"","\\ddagger");U(ee,se,Dt,"","\\wr",!0);U(ee,se,Dt,"","\\amalg");U(ee,se,Dt,"&","\\And");U(ee,se,Te,"","\\longleftarrow",!0);U(ee,se,Te,"","\\Leftarrow",!0);U(ee,se,Te,"","\\Longleftarrow",!0);U(ee,se,Te,"","\\longrightarrow",!0);U(ee,se,Te,"","\\Rightarrow",!0);U(ee,se,Te,"","\\Longrightarrow",!0);U(ee,se,Te,"","\\leftrightarrow",!0);U(ee,se,Te,"","\\longleftrightarrow",!0);U(ee,se,Te,"","\\Leftrightarrow",!0);U(ee,se,Te,"","\\Longleftrightarrow",!0);U(ee,se,Te,"","\\mapsto",!0);U(ee,se,Te,"","\\longmapsto",!0);U(ee,se,Te,"","\\nearrow",!0);U(ee,se,Te,"","\\hookleftarrow",!0);U(ee,se,Te,"","\\hookrightarrow",!0);U(ee,se,Te,"","\\searrow",!0);U(ee,se,Te,"","\\leftharpoonup",!0);U(ee,se,Te,"","\\rightharpoonup",!0);U(ee,se,Te,"","\\swarrow",!0);U(ee,se,Te,"","\\leftharpoondown",!0);U(ee,se,Te,"","\\rightharpoondown",!0);U(ee,se,Te,"","\\nwarrow",!0);U(ee,se,Te,"","\\rightleftharpoons",!0);U(ee,Se,Te,"","\\nless",!0);U(ee,Se,Te,"","\\@nleqslant");U(ee,Se,Te,"","\\@nleqq");U(ee,Se,Te,"","\\lneq",!0);U(ee,Se,Te,"","\\lneqq",!0);U(ee,Se,Te,"","\\@lvertneqq");U(ee,Se,Te,"","\\lnsim",!0);U(ee,Se,Te,"","\\lnapprox",!0);U(ee,Se,Te,"","\\nprec",!0);U(ee,Se,Te,"","\\npreceq",!0);U(ee,Se,Te,"","\\precnsim",!0);U(ee,Se,Te,"","\\precnapprox",!0);U(ee,Se,Te,"","\\nsim",!0);U(ee,Se,Te,"","\\@nshortmid");U(ee,Se,Te,"","\\nmid",!0);U(ee,Se,Te,"","\\nvdash",!0);U(ee,Se,Te,"","\\nvDash",!0);U(ee,Se,Te,"","\\ntriangleleft");U(ee,Se,Te,"","\\ntrianglelefteq",!0);U(ee,Se,Te,"","\\subsetneq",!0);U(ee,Se,Te,"","\\@varsubsetneq");U(ee,Se,Te,"","\\subsetneqq",!0);U(ee,Se,Te,"","\\@varsubsetneqq");U(ee,Se,Te,"","\\ngtr",!0);U(ee,Se,Te,"","\\@ngeqslant");U(ee,Se,Te,"","\\@ngeqq");U(ee,Se,Te,"","\\gneq",!0);U(ee,Se,Te,"","\\gneqq",!0);U(ee,Se,Te,"","\\@gvertneqq");U(ee,Se,Te,"","\\gnsim",!0);U(ee,Se,Te,"","\\gnapprox",!0);U(ee,Se,Te,"","\\nsucc",!0);U(ee,Se,Te,"","\\nsucceq",!0);U(ee,Se,Te,"","\\succnsim",!0);U(ee,Se,Te,"","\\succnapprox",!0);U(ee,Se,Te,"","\\ncong",!0);U(ee,Se,Te,"","\\@nshortparallel");U(ee,Se,Te,"","\\nparallel",!0);U(ee,Se,Te,"","\\nVDash",!0);U(ee,Se,Te,"","\\ntriangleright");U(ee,Se,Te,"","\\ntrianglerighteq",!0);U(ee,Se,Te,"","\\@nsupseteqq");U(ee,Se,Te,"","\\supsetneq",!0);U(ee,Se,Te,"","\\@varsupsetneq");U(ee,Se,Te,"","\\supsetneqq",!0);U(ee,Se,Te,"","\\@varsupsetneqq");U(ee,Se,Te,"","\\nVdash",!0);U(ee,Se,Te,"","\\precneqq",!0);U(ee,Se,Te,"","\\succneqq",!0);U(ee,Se,Te,"","\\@nsubseteqq");U(ee,Se,Dt,"","\\unlhd");U(ee,Se,Dt,"","\\unrhd");U(ee,Se,Te,"","\\nleftarrow",!0);U(ee,Se,Te,"","\\nrightarrow",!0);U(ee,Se,Te,"","\\nLeftarrow",!0);U(ee,Se,Te,"","\\nRightarrow",!0);U(ee,Se,Te,"","\\nleftrightarrow",!0);U(ee,Se,Te,"","\\nLeftrightarrow",!0);U(ee,Se,Te,"","\\vartriangle");U(ee,Se,$e,"","\\hslash");U(ee,Se,$e,"","\\triangledown");U(ee,Se,$e,"","\\lozenge");U(ee,Se,$e,"","\\circledS");U(ee,Se,$e,"","\\circledR");U(ot,Se,$e,"","\\circledR");U(ee,Se,$e,"","\\measuredangle",!0);U(ee,Se,$e,"","\\nexists");U(ee,Se,$e,"","\\mho");U(ee,Se,$e,"","\\Finv",!0);U(ee,Se,$e,"","\\Game",!0);U(ee,Se,$e,"","\\backprime");U(ee,Se,$e,"","\\blacktriangle");U(ee,Se,$e,"","\\blacktriangledown");U(ee,Se,$e,"","\\blacksquare");U(ee,Se,$e,"","\\blacklozenge");U(ee,Se,$e,"","\\bigstar");U(ee,Se,$e,"","\\sphericalangle",!0);U(ee,Se,$e,"","\\complement",!0);U(ee,Se,$e,"","\\eth",!0);U(ot,se,$e,"","");U(ee,Se,$e,"","\\diagup");U(ee,Se,$e,"","\\diagdown");U(ee,Se,$e,"","\\square");U(ee,Se,$e,"","\\Box");U(ee,Se,$e,"","\\Diamond");U(ee,Se,$e,"","\\yen",!0);U(ot,Se,$e,"","\\yen",!0);U(ee,Se,$e,"","\\checkmark",!0);U(ot,Se,$e,"","\\checkmark");U(ee,Se,$e,"","\\beth",!0);U(ee,Se,$e,"","\\daleth",!0);U(ee,Se,$e,"","\\gimel",!0);U(ee,Se,$e,"","\\digamma",!0);U(ee,Se,$e,"","\\varkappa");U(ee,Se,Fa,"","\\@ulcorner",!0);U(ee,Se,Ks,"","\\@urcorner",!0);U(ee,Se,Fa,"","\\@llcorner",!0);U(ee,Se,Ks,"","\\@lrcorner",!0);U(ee,Se,Te,"","\\leqq",!0);U(ee,Se,Te,"","\\leqslant",!0);U(ee,Se,Te,"","\\eqslantless",!0);U(ee,Se,Te,"","\\lesssim",!0);U(ee,Se,Te,"","\\lessapprox",!0);U(ee,Se,Te,"","\\approxeq",!0);U(ee,Se,Dt,"","\\lessdot");U(ee,Se,Te,"","\\lll",!0);U(ee,Se,Te,"","\\lessgtr",!0);U(ee,Se,Te,"","\\lesseqgtr",!0);U(ee,Se,Te,"","\\lesseqqgtr",!0);U(ee,Se,Te,"","\\doteqdot");U(ee,Se,Te,"","\\risingdotseq",!0);U(ee,Se,Te,"","\\fallingdotseq",!0);U(ee,Se,Te,"","\\backsim",!0);U(ee,Se,Te,"","\\backsimeq",!0);U(ee,Se,Te,"","\\subseteqq",!0);U(ee,Se,Te,"","\\Subset",!0);U(ee,Se,Te,"","\\sqsubset",!0);U(ee,Se,Te,"","\\preccurlyeq",!0);U(ee,Se,Te,"","\\curlyeqprec",!0);U(ee,Se,Te,"","\\precsim",!0);U(ee,Se,Te,"","\\precapprox",!0);U(ee,Se,Te,"","\\vartriangleleft");U(ee,Se,Te,"","\\trianglelefteq");U(ee,Se,Te,"","\\vDash",!0);U(ee,Se,Te,"","\\Vvdash",!0);U(ee,Se,Te,"","\\smallsmile");U(ee,Se,Te,"","\\smallfrown");U(ee,Se,Te,"","\\bumpeq",!0);U(ee,Se,Te,"","\\Bumpeq",!0);U(ee,Se,Te,"","\\geqq",!0);U(ee,Se,Te,"","\\geqslant",!0);U(ee,Se,Te,"","\\eqslantgtr",!0);U(ee,Se,Te,"","\\gtrsim",!0);U(ee,Se,Te,"","\\gtrapprox",!0);U(ee,Se,Dt,"","\\gtrdot");U(ee,Se,Te,"","\\ggg",!0);U(ee,Se,Te,"","\\gtrless",!0);U(ee,Se,Te,"","\\gtreqless",!0);U(ee,Se,Te,"","\\gtreqqless",!0);U(ee,Se,Te,"","\\eqcirc",!0);U(ee,Se,Te,"","\\circeq",!0);U(ee,Se,Te,"","\\triangleq",!0);U(ee,Se,Te,"","\\thicksim");U(ee,Se,Te,"","\\thickapprox");U(ee,Se,Te,"","\\supseteqq",!0);U(ee,Se,Te,"","\\Supset",!0);U(ee,Se,Te,"","\\sqsupset",!0);U(ee,Se,Te,"","\\succcurlyeq",!0);U(ee,Se,Te,"","\\curlyeqsucc",!0);U(ee,Se,Te,"","\\succsim",!0);U(ee,Se,Te,"","\\succapprox",!0);U(ee,Se,Te,"","\\vartriangleright");U(ee,Se,Te,"","\\trianglerighteq");U(ee,Se,Te,"","\\Vdash",!0);U(ee,Se,Te,"","\\shortmid");U(ee,Se,Te,"","\\shortparallel");U(ee,Se,Te,"","\\between",!0);U(ee,Se,Te,"","\\pitchfork",!0);U(ee,Se,Te,"","\\varpropto");U(ee,Se,Te,"","\\blacktriangleleft");U(ee,Se,Te,"","\\therefore",!0);U(ee,Se,Te,"","\\backepsilon");U(ee,Se,Te,"","\\blacktriangleright");U(ee,Se,Te,"","\\because",!0);U(ee,Se,Te,"","\\llless");U(ee,Se,Te,"","\\gggtr");U(ee,Se,Dt,"","\\lhd");U(ee,Se,Dt,"","\\rhd");U(ee,Se,Te,"","\\eqsim",!0);U(ee,se,Te,"","\\Join");U(ee,Se,Te,"","\\Doteq",!0);U(ee,Se,Dt,"","\\dotplus",!0);U(ee,Se,Dt,"","\\smallsetminus");U(ee,Se,Dt,"","\\Cap",!0);U(ee,Se,Dt,"","\\Cup",!0);U(ee,Se,Dt,"","\\doublebarwedge",!0);U(ee,Se,Dt,"","\\boxminus",!0);U(ee,Se,Dt,"","\\boxplus",!0);U(ee,Se,Dt,"","\\divideontimes",!0);U(ee,Se,Dt,"","\\ltimes",!0);U(ee,Se,Dt,"","\\rtimes",!0);U(ee,Se,Dt,"","\\leftthreetimes",!0);U(ee,Se,Dt,"","\\rightthreetimes",!0);U(ee,Se,Dt,"","\\curlywedge",!0);U(ee,Se,Dt,"","\\curlyvee",!0);U(ee,Se,Dt,"","\\circleddash",!0);U(ee,Se,Dt,"","\\circledast",!0);U(ee,Se,Dt,"","\\centerdot");U(ee,Se,Dt,"","\\intercal",!0);U(ee,Se,Dt,"","\\doublecap");U(ee,Se,Dt,"","\\doublecup");U(ee,Se,Dt,"","\\boxtimes",!0);U(ee,Se,Te,"","\\dashrightarrow",!0);U(ee,Se,Te,"","\\dashleftarrow",!0);U(ee,Se,Te,"","\\leftleftarrows",!0);U(ee,Se,Te,"","\\leftrightarrows",!0);U(ee,Se,Te,"","\\Lleftarrow",!0);U(ee,Se,Te,"","\\twoheadleftarrow",!0);U(ee,Se,Te,"","\\leftarrowtail",!0);U(ee,Se,Te,"","\\looparrowleft",!0);U(ee,Se,Te,"","\\leftrightharpoons",!0);U(ee,Se,Te,"","\\curvearrowleft",!0);U(ee,Se,Te,"","\\circlearrowleft",!0);U(ee,Se,Te,"","\\Lsh",!0);U(ee,Se,Te,"","\\upuparrows",!0);U(ee,Se,Te,"","\\upharpoonleft",!0);U(ee,Se,Te,"","\\downharpoonleft",!0);U(ee,se,Te,"","\\origof",!0);U(ee,se,Te,"","\\imageof",!0);U(ee,Se,Te,"","\\multimap",!0);U(ee,Se,Te,"","\\leftrightsquigarrow",!0);U(ee,Se,Te,"","\\rightrightarrows",!0);U(ee,Se,Te,"","\\rightleftarrows",!0);U(ee,Se,Te,"","\\twoheadrightarrow",!0);U(ee,Se,Te,"","\\rightarrowtail",!0);U(ee,Se,Te,"","\\looparrowright",!0);U(ee,Se,Te,"","\\curvearrowright",!0);U(ee,Se,Te,"","\\circlearrowright",!0);U(ee,Se,Te,"","\\Rsh",!0);U(ee,Se,Te,"","\\downdownarrows",!0);U(ee,Se,Te,"","\\upharpoonright",!0);U(ee,Se,Te,"","\\downharpoonright",!0);U(ee,Se,Te,"","\\rightsquigarrow",!0);U(ee,Se,Te,"","\\leadsto");U(ee,Se,Te,"","\\Rrightarrow",!0);U(ee,Se,Te,"","\\restriction");U(ee,se,$e,"","`");U(ee,se,$e,"$","\\$");U(ot,se,$e,"$","\\$");U(ot,se,$e,"$","\\textdollar");U(ee,se,$e,"%","\\%");U(ot,se,$e,"%","\\%");U(ee,se,$e,"_","\\_");U(ot,se,$e,"_","\\_");U(ot,se,$e,"_","\\textunderscore");U(ee,se,$e,"","\\angle",!0);U(ee,se,$e,"","\\infty",!0);U(ee,se,$e,"","\\prime");U(ee,se,$e,"","\\triangle");U(ee,se,$e,"","\\Gamma",!0);U(ee,se,$e,"","\\Delta",!0);U(ee,se,$e,"","\\Theta",!0);U(ee,se,$e,"","\\Lambda",!0);U(ee,se,$e,"","\\Xi",!0);U(ee,se,$e,"","\\Pi",!0);U(ee,se,$e,"","\\Sigma",!0);U(ee,se,$e,"","\\Upsilon",!0);U(ee,se,$e,"","\\Phi",!0);U(ee,se,$e,"","\\Psi",!0);U(ee,se,$e,"","\\Omega",!0);U(ee,se,$e,"A","");U(ee,se,$e,"B","");U(ee,se,$e,"E","");U(ee,se,$e,"Z","");U(ee,se,$e,"H","");U(ee,se,$e,"I","");U(ee,se,$e,"K","");U(ee,se,$e,"M","");U(ee,se,$e,"N","");U(ee,se,$e,"O","");U(ee,se,$e,"P","");U(ee,se,$e,"T","");U(ee,se,$e,"X","");U(ee,se,$e,"","\\neg",!0);U(ee,se,$e,"","\\lnot");U(ee,se,$e,"","\\top");U(ee,se,$e,"","\\bot");U(ee,se,$e,"","\\emptyset");U(ee,Se,$e,"","\\varnothing");U(ee,se,Kt,"","\\alpha",!0);U(ee,se,Kt,"","\\beta",!0);U(ee,se,Kt,"","\\gamma",!0);U(ee,se,Kt,"","\\delta",!0);U(ee,se,Kt,"","\\epsilon",!0);U(ee,se,Kt,"","\\zeta",!0);U(ee,se,Kt,"","\\eta",!0);U(ee,se,Kt,"","\\theta",!0);U(ee,se,Kt,"","\\iota",!0);U(ee,se,Kt,"","\\kappa",!0);U(ee,se,Kt,"","\\lambda",!0);U(ee,se,Kt,"","\\mu",!0);U(ee,se,Kt,"","\\nu",!0);U(ee,se,Kt,"","\\xi",!0);U(ee,se,Kt,"","\\omicron",!0);U(ee,se,Kt,"","\\pi",!0);U(ee,se,Kt,"","\\rho",!0);U(ee,se,Kt,"","\\sigma",!0);U(ee,se,Kt,"","\\tau",!0);U(ee,se,Kt,"","\\upsilon",!0);U(ee,se,Kt,"","\\phi",!0);U(ee,se,Kt,"","\\chi",!0);U(ee,se,Kt,"","\\psi",!0);U(ee,se,Kt,"","\\omega",!0);U(ee,se,Kt,"","\\varepsilon",!0);U(ee,se,Kt,"","\\vartheta",!0);U(ee,se,Kt,"","\\varpi",!0);U(ee,se,Kt,"","\\varrho",!0);U(ee,se,Kt,"","\\varsigma",!0);U(ee,se,Kt,"","\\varphi",!0);U(ee,se,Dt,"","*",!0);U(ee,se,Dt,"+","+");U(ee,se,Dt,"","-",!0);U(ee,se,Dt,"","\\cdot",!0);U(ee,se,Dt,"","\\circ",!0);U(ee,se,Dt,"","\\div",!0);U(ee,se,Dt,"","\\pm",!0);U(ee,se,Dt,"","\\times",!0);U(ee,se,Dt,"","\\cap",!0);U(ee,se,Dt,"","\\cup",!0);U(ee,se,Dt,"","\\setminus",!0);U(ee,se,Dt,"","\\land");U(ee,se,Dt,"","\\lor");U(ee,se,Dt,"","\\wedge",!0);U(ee,se,Dt,"","\\vee",!0);U(ee,se,$e,"","\\surd");U(ee,se,Fa,"","\\langle",!0);U(ee,se,Fa,"","\\lvert");U(ee,se,Fa,"","\\lVert");U(ee,se,Ks,"?","?");U(ee,se,Ks,"!","!");U(ee,se,Ks,"","\\rangle",!0);U(ee,se,Ks,"","\\rvert");U(ee,se,Ks,"","\\rVert");U(ee,se,Te,"=","=");U(ee,se,Te,":",":");U(ee,se,Te,"","\\approx",!0);U(ee,se,Te,"","\\cong",!0);U(ee,se,Te,"","\\ge");U(ee,se,Te,"","\\geq",!0);U(ee,se,Te,"","\\gets");U(ee,se,Te,">","\\gt",!0);U(ee,se,Te,"","\\in",!0);U(ee,se,Te,"","\\@not");U(ee,se,Te,"","\\subset",!0);U(ee,se,Te,"","\\supset",!0);U(ee,se,Te,"","\\subseteq",!0);U(ee,se,Te,"","\\supseteq",!0);U(ee,Se,Te,"","\\nsubseteq",!0);U(ee,Se,Te,"","\\nsupseteq",!0);U(ee,se,Te,"","\\models");U(ee,se,Te,"","\\leftarrow",!0);U(ee,se,Te,"","\\le");U(ee,se,Te,"","\\leq",!0);U(ee,se,Te,"<","\\lt",!0);U(ee,se,Te,"","\\rightarrow",!0);U(ee,se,Te,"","\\to");U(ee,Se,Te,"","\\ngeq",!0);U(ee,Se,Te,"","\\nleq",!0);U(ee,se,cd,"","\\ ");U(ee,se,cd,"","\\space");U(ee,se,cd,"","\\nobreakspace");U(ot,se,cd,"","\\ ");U(ot,se,cd,""," ");U(ot,se,cd,"","\\space");U(ot,se,cd,"","\\nobreakspace");U(ee,se,cd,null,"\\nobreak");U(ee,se,cd,null,"\\allowbreak");U(ee,se,pA,",",",");U(ee,se,pA,";",";");U(ee,Se,Dt,"","\\barwedge",!0);U(ee,Se,Dt,"","\\veebar",!0);U(ee,se,Dt,"","\\odot",!0);U(ee,se,Dt,"","\\oplus",!0);U(ee,se,Dt,"","\\otimes",!0);U(ee,se,$e,"","\\partial",!0);U(ee,se,Dt,"","\\oslash",!0);U(ee,Se,Dt,"","\\circledcirc",!0);U(ee,Se,Dt,"","\\boxdot",!0);U(ee,se,Dt,"","\\bigtriangleup");U(ee,se,Dt,"","\\bigtriangledown");U(ee,se,Dt,"","\\dagger");U(ee,se,Dt,"","\\diamond");U(ee,se,Dt,"","\\star");U(ee,se,Dt,"","\\triangleleft");U(ee,se,Dt,"","\\triangleright");U(ee,se,Fa,"{","\\{");U(ot,se,$e,"{","\\{");U(ot,se,$e,"{","\\textbraceleft");U(ee,se,Ks,"}","\\}");U(ot,se,$e,"}","\\}");U(ot,se,$e,"}","\\textbraceright");U(ee,se,Fa,"{","\\lbrace");U(ee,se,Ks,"}","\\rbrace");U(ee,se,Fa,"[","\\lbrack",!0);U(ot,se,$e,"[","\\lbrack",!0);U(ee,se,Ks,"]","\\rbrack",!0);U(ot,se,$e,"]","\\rbrack",!0);U(ee,se,Fa,"(","\\lparen",!0);U(ee,se,Ks,")","\\rparen",!0);U(ot,se,$e,"<","\\textless",!0);U(ot,se,$e,">","\\textgreater",!0);U(ee,se,Fa,"","\\lfloor",!0);U(ee,se,Ks,"","\\rfloor",!0);U(ee,se,Fa,"","\\lceil",!0);U(ee,se,Ks,"","\\rceil",!0);U(ee,se,$e,"\\","\\backslash");U(ee,se,$e,"","|");U(ee,se,$e,"","\\vert");U(ot,se,$e,"|","\\textbar",!0);U(ee,se,$e,"","\\|");U(ee,se,$e,"","\\Vert");U(ot,se,$e,"","\\textbardbl");U(ot,se,$e,"~","\\textasciitilde");U(ot,se,$e,"\\","\\textbackslash");U(ot,se,$e,"^","\\textasciicircum");U(ee,se,Te,"","\\uparrow",!0);U(ee,se,Te,"","\\Uparrow",!0);U(ee,se,Te,"","\\downarrow",!0);U(ee,se,Te,"","\\Downarrow",!0);U(ee,se,Te,"","\\updownarrow",!0);U(ee,se,Te,"","\\Updownarrow",!0);U(ee,se,gi,"","\\coprod");U(ee,se,gi,"","\\bigvee");U(ee,se,gi,"","\\bigwedge");U(ee,se,gi,"","\\biguplus");U(ee,se,gi,"","\\bigcap");U(ee,se,gi,"","\\bigcup");U(ee,se,gi,"","\\int");U(ee,se,gi,"","\\intop");U(ee,se,gi,"","\\iint");U(ee,se,gi,"","\\iiint");U(ee,se,gi,"","\\prod");U(ee,se,gi,"","\\sum");U(ee,se,gi,"","\\bigotimes");U(ee,se,gi,"","\\bigoplus");U(ee,se,gi,"","\\bigodot");U(ee,se,gi,"","\\oint");U(ee,se,gi,"","\\oiint");U(ee,se,gi,"","\\oiiint");U(ee,se,gi,"","\\bigsqcup");U(ee,se,gi,"","\\smallint");U(ot,se,_g,"","\\textellipsis");U(ee,se,_g,"","\\mathellipsis");U(ot,se,_g,"","\\ldots",!0);U(ee,se,_g,"","\\ldots",!0);U(ee,se,_g,"","\\@cdots",!0);U(ee,se,_g,"","\\ddots",!0);U(ee,se,$e,"","\\varvdots");U(ot,se,$e,"","\\varvdots");U(ee,se,Qn,"","\\acute");U(ee,se,Qn,"","\\grave");U(ee,se,Qn,"","\\ddot");U(ee,se,Qn,"~","\\tilde");U(ee,se,Qn,"","\\bar");U(ee,se,Qn,"","\\breve");U(ee,se,Qn,"","\\check");U(ee,se,Qn,"^","\\hat");U(ee,se,Qn,"","\\vec");U(ee,se,Qn,"","\\dot");U(ee,se,Qn,"","\\mathring");U(ee,se,Kt,"","\\@imath");U(ee,se,Kt,"","\\@jmath");U(ee,se,$e,"","");U(ee,se,$e,"","");U(ot,se,$e,"","\\i",!0);U(ot,se,$e,"","\\j",!0);U(ot,se,$e,"","\\ss",!0);U(ot,se,$e,"","\\ae",!0);U(ot,se,$e,"","\\oe",!0);U(ot,se,$e,"","\\o",!0);U(ot,se,$e,"","\\AE",!0);U(ot,se,$e,"","\\OE",!0);U(ot,se,$e,"","\\O",!0);U(ot,se,Qn,"","\\'");U(ot,se,Qn,"","\\`");U(ot,se,Qn,"","\\^");U(ot,se,Qn,"","\\~");U(ot,se,Qn,"","\\=");U(ot,se,Qn,"","\\u");U(ot,se,Qn,"","\\.");U(ot,se,Qn,"","\\c");U(ot,se,Qn,"","\\r");U(ot,se,Qn,"","\\v");U(ot,se,Qn,"",'\\"');U(ot,se,Qn,"","\\H");U(ot,se,Qn,"","\\textcircled");var nne={"--":!0,"---":!0,"``":!0,"''":!0};U(ot,se,$e,"","--",!0);U(ot,se,$e,"","\\textendash");U(ot,se,$e,"","---",!0);U(ot,se,$e,"","\\textemdash");U(ot,se,$e,"","`",!0);U(ot,se,$e,"","\\textquoteleft");U(ot,se,$e,"","'",!0);U(ot,se,$e,"","\\textquoteright");U(ot,se,$e,"","``",!0);U(ot,se,$e,"","\\textquotedblleft");U(ot,se,$e,"","''",!0);U(ot,se,$e,"","\\textquotedblright");U(ee,se,$e,"","\\degree",!0);U(ot,se,$e,"","\\degree");U(ot,se,$e,"","\\textdegree",!0);U(ee,se,$e,"","\\pounds");U(ee,se,$e,"","\\mathsterling",!0);U(ot,se,$e,"","\\pounds");U(ot,se,$e,"","\\textsterling",!0);U(ee,Se,$e,"","\\maltese");U(ot,Se,$e,"","\\maltese");var VL='0123456789/@."';for(var f3=0;f3<VL.length;f3++){var UL=VL.charAt(f3);U(ee,se,$e,UL,UL)}var qL='0123456789!@*()-=+";:?/.,';for(var g3=0;g3<qL.length;g3++){var WL=qL.charAt(g3);U(ot,se,$e,WL,WL)}var tC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var p3=0;p3<tC.length;p3++){var rv=tC.charAt(p3);U(ee,se,Kt,rv,rv),U(ot,se,$e,rv,rv)}U(ee,Se,$e,"C","");U(ot,Se,$e,"C","");U(ee,Se,$e,"H","");U(ot,Se,$e,"H","");U(ee,Se,$e,"N","");U(ot,Se,$e,"N","");U(ee,Se,$e,"P","");U(ot,Se,$e,"P","");U(ee,Se,$e,"Q","");U(ot,Se,$e,"Q","");U(ee,Se,$e,"R","");U(ot,Se,$e,"R","");U(ee,Se,$e,"Z","");U(ot,Se,$e,"Z","");U(ee,se,Kt,"h","");U(ot,se,Kt,"h","");var ar="";for(var Qs=0;Qs<tC.length;Qs++){var Vn=tC.charAt(Qs);ar=String.fromCharCode(55349,56320+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56372+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56424+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56580+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56684+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56736+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56788+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56840+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56944+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),Qs<26&&(ar=String.fromCharCode(55349,56632+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar),ar=String.fromCharCode(55349,56476+Qs),U(ee,se,Kt,Vn,ar),U(ot,se,$e,Vn,ar))}ar="";U(ee,se,Kt,"k",ar);U(ot,se,$e,"k",ar);for(var Hh=0;Hh<10;Hh++){var Ed=Hh.toString();ar=String.fromCharCode(55349,57294+Hh),U(ee,se,Kt,Ed,ar),U(ot,se,$e,Ed,ar),ar=String.fromCharCode(55349,57314+Hh),U(ee,se,Kt,Ed,ar),U(ot,se,$e,Ed,ar),ar=String.fromCharCode(55349,57324+Hh),U(ee,se,Kt,Ed,ar),U(ot,se,$e,Ed,ar),ar=String.fromCharCode(55349,57334+Hh),U(ee,se,Kt,Ed,ar),U(ot,se,$e,Ed,ar)}var p6="";for(var m3=0;m3<p6.length;m3++){var nv=p6.charAt(m3);U(ee,se,Kt,nv,nv),U(ot,se,$e,nv,nv)}var iv=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],YL=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],RLe=function(e,r){var n=e.charCodeAt(0),s=e.charCodeAt(1),a=(n-55296)*1024+(s-56320)+65536,l=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[iv[c][2],iv[c][l]]}else if(120782<=a&&a<=120831){var h=Math.floor((a-120782)/10);return[YL[h][2],YL[h][l]]}else{if(a===120485||a===120486)return[iv[0][2],iv[0][l]];if(120486<a&&a<120782)return["",""];throw new dt("Unsupported character: "+e)}},mA=function(e,r,n){return gn[n][e]&&gn[n][e].replace&&(e=gn[n][e].replace),{value:e,metrics:n8(e,r,n)}},Fo=function(e,r,n,s,a){var l=mA(e,r,n),c=l.metrics;e=l.value;var h;if(c){var f=c.italic;(n==="text"||s&&s.font==="mathit")&&(f=0),h=new po(e,c.height,c.depth,f,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),h=new po(e,0,0,0,0,0,a);if(s){h.maxFontSize=s.sizeMultiplier,s.style.isTight()&&h.classes.push("mtight");var p=s.getColor();p&&(h.style.color=p)}return h},NLe=function(e,r,n,s){return s===void 0&&(s=[]),n.font==="boldsymbol"&&mA(e,"Main-Bold",r).metrics?Fo(e,"Main-Bold",r,n,s.concat(["mathbf"])):e==="\\"||gn[r][e].font==="main"?Fo(e,"Main-Regular",r,n,s):Fo(e,"AMS-Regular",r,n,s.concat(["amsrm"]))},BLe=function(e,r,n,s,a){return a!=="textord"&&mA(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},ILe=function(e,r,n){var s=e.mode,a=e.text,l=["mord"],c=s==="math"||s==="text"&&r.font,h=c?r.font:r.fontFamily,f="",p="";if(a.charCodeAt(0)===55349&&([f,p]=RLe(a,s)),f.length>0)return Fo(a,f,s,r,l.concat(p));if(h){var O,x;if(h==="boldsymbol"){var k=BLe(a,s,r,l,n);O=k.fontName,x=[k.fontClass]}else c?(O=ane[h].fontName,x=[h]):(O=sv(h,r.fontWeight,r.fontShape),x=[h,r.fontWeight,r.fontShape]);if(mA(a,O,s).metrics)return Fo(a,O,s,r,l.concat(x));if(nne.hasOwnProperty(a)&&O.slice(0,10)==="Typewriter"){for(var w=[],_=0;_<a.length;_++)w.push(Fo(a[_],O,s,r,l.concat(x)));return sne(w)}}if(n==="mathord")return Fo(a,"Math-Italic",s,r,l.concat(["mathnormal"]));if(n==="textord"){var C=gn[s][a]&&gn[s][a].font;if(C==="ams"){var T=sv("amsrm",r.fontWeight,r.fontShape);return Fo(a,T,s,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if(C==="main"||!C){var E=sv("textrm",r.fontWeight,r.fontShape);return Fo(a,E,s,r,l.concat(r.fontWeight,r.fontShape))}else{var P=sv(C,r.fontWeight,r.fontShape);return Fo(a,P,s,r,l.concat(P,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},jLe=(t,e)=>{if(fh(t.classes)!==fh(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;return!0},FLe=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof po&&n instanceof po&&jLe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},s8=function(e){for(var r=0,n=0,s=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>r&&(r=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>s&&(s=l.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=s},sa=function(e,r,n,s){var a=new Gx(e,r,n,s);return s8(a),a},ine=(t,e,r,n)=>new Gx(t,e,r,n),LLe=function(e,r,n){var s=sa([e],[],r);return s.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),s.style.borderBottomWidth=bt(s.height),s.maxFontSize=1,s},zLe=function(e,r,n,s){var a=new i8(e,r,n,s);return s8(a),a},sne=function(e){var r=new Zx(e);return s8(r),r},XLe=function(e,r){return e instanceof Zx?sa([],[e],r):e},VLe=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],s=-r[0].shift-r[0].elem.depth,a=s,l=1;l<r.length;l++){var c=-r[l].shift-a-r[l].elem.depth,h=c-(r[l-1].elem.height+r[l-1].elem.depth);a=a+c,n.push({type:"kern",size:h}),n.push(r[l])}return{children:n,depth:s}}var f;if(e.positionType==="top"){for(var p=e.positionData,O=0;O<e.children.length;O++){var x=e.children[O];p-=x.type==="kern"?x.size:x.elem.height+x.elem.depth}f=p}else if(e.positionType==="bottom")f=-e.positionData;else{var k=e.children[0];if(k.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-k.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-k.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},ULe=function(e,r){for(var{children:n,depth:s}=VLe(e),a=0,l=0;l<n.length;l++){var c=n[l];if(c.type==="elem"){var h=c.elem;a=Math.max(a,h.maxFontSize,h.height)}}a+=2;var f=sa(["pstrut"],[]);f.style.height=bt(a);for(var p=[],O=s,x=s,k=s,w=0;w<n.length;w++){var _=n[w];if(_.type==="kern")k+=_.size;else{var C=_.elem,T=_.wrapperClasses||[],E=_.wrapperStyle||{},P=sa(T,[f,C],void 0,E);P.style.top=bt(-a-k-C.depth),_.marginLeft&&(P.style.marginLeft=_.marginLeft),_.marginRight&&(P.style.marginRight=_.marginRight),p.push(P),k+=C.height+C.depth}O=Math.min(O,k),x=Math.max(x,k)}var Q=sa(["vlist"],p);Q.style.height=bt(x);var B;if(O<0){var R=sa([],[]),M=sa(["vlist"],[R]);M.style.height=bt(-O);var I=sa(["vlist-s"],[new po("")]);B=[sa(["vlist-r"],[Q,I]),sa(["vlist-r"],[M])]}else B=[sa(["vlist-r"],[Q])];var j=sa(["vlist-t"],B);return B.length===2&&j.classes.push("vlist-t2"),j.height=x,j.depth=-O,j},qLe=(t,e)=>{var r=sa(["mspace"],[],e),n=Nn(t,e);return r.style.marginRight=bt(n),r},sv=function(e,r,n){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var a;return r==="textbf"&&n==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",s+"-"+a},ane={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},one={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},WLe=function(e,r){var[n,s,a]=one[e],l=new gh(n),c=new ed([l],{width:bt(s),height:bt(a),style:"width:"+bt(s),viewBox:"0 0 "+1e3*s+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),h=ine(["overlay"],[c],r);return h.height=a,h.style.height=bt(a),h.style.width=bt(s),h},Fe={fontMap:ane,makeSymbol:Fo,mathsym:NLe,makeSpan:sa,makeSvgSpan:ine,makeLineSpan:LLe,makeAnchor:zLe,makeFragment:sne,wrapFragment:XLe,makeVList:ULe,makeOrd:ILe,makeGlue:qLe,staticSvg:WLe,svgData:one,tryCombineChars:FLe},Mn={number:3,unit:"mu"},Kh={number:4,unit:"mu"},xc={number:5,unit:"mu"},YLe={mord:{mop:Mn,mbin:Kh,mrel:xc,minner:Mn},mop:{mord:Mn,mop:Mn,mrel:xc,minner:Mn},mbin:{mord:Kh,mop:Kh,mopen:Kh,minner:Kh},mrel:{mord:xc,mop:xc,mopen:xc,minner:xc},mopen:{},mclose:{mop:Mn,mbin:Kh,mrel:xc,minner:Mn},mpunct:{mord:Mn,mop:Mn,mrel:xc,mopen:Mn,mclose:Mn,mpunct:Mn,minner:Mn},minner:{mord:Mn,mop:Mn,mbin:Kh,mrel:xc,mopen:Mn,mpunct:Mn,minner:Mn}},ZLe={mord:{mop:Mn},mop:{mord:Mn,mop:Mn},mbin:{},mrel:{},mopen:{},mclose:{mop:Mn},mpunct:{},minner:{mop:Mn}},lne={},rC={},nC={};function St(t){for(var{type:e,names:r,props:n,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:s},h=0;h<r.length;++h)lne[r[h]]=c;e&&(a&&(rC[e]=a),l&&(nC[e]=l))}function Zu(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;St({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var iC=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ti=function(e){return e.type==="ordgroup"?e.body:[e]},td=Fe.makeSpan,GLe=["leftmost","mbin","mopen","mrel","mop","mpunct"],HLe=["rightmost","mrel","mclose","mpunct"],KLe={display:Jt.DISPLAY,text:Jt.TEXT,script:Jt.SCRIPT,scriptscript:Jt.SCRIPTSCRIPT},JLe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ci=function(e,r,n,s){s===void 0&&(s=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=Fr(e[l],r);if(c instanceof Zx){var h=c.children;a.push(...h)}else a.push(c)}if(Fe.tryCombineChars(a),!n)return a;var f=r;if(e.length===1){var p=e[0];p.type==="sizing"?f=r.havingSize(p.size):p.type==="styling"&&(f=r.havingStyle(KLe[p.style]))}var O=td([s[0]||"leftmost"],[],r),x=td([s[1]||"rightmost"],[],r),k=n==="root";return ZL(a,(w,_)=>{var C=_.classes[0],T=w.classes[0];C==="mbin"&&HLe.includes(T)?_.classes[0]="mord":T==="mbin"&&GLe.includes(C)&&(w.classes[0]="mord")},{node:O},x,k),ZL(a,(w,_)=>{var C=m6(_),T=m6(w),E=C&&T?w.hasClass("mtight")?ZLe[C][T]:YLe[C][T]:null;if(E)return Fe.makeGlue(E,f)},{node:O},x,k),a},ZL=function t(e,r,n,s,a){s&&e.push(s);for(var l=0;l<e.length;l++){var c=e[l],h=cne(c);if(h){t(h.children,r,n,null,a);continue}var f=!c.hasClass("mspace");if(f){var p=r(c,n.node);p&&(n.insertAfter?n.insertAfter(p):(e.unshift(p),l++))}f?n.node=c:a&&c.hasClass("newline")&&(n.node=td(["leftmost"])),n.insertAfter=(O=>x=>{e.splice(O+1,0,x),l++})(l)}s&&e.pop()},cne=function(e){return e instanceof Zx||e instanceof i8||e instanceof Gx&&e.hasClass("enclosing")?e:null},eze=function t(e,r){var n=cne(e);if(n){var s=n.children;if(s.length){if(r==="right")return t(s[s.length-1],"right");if(r==="left")return t(s[0],"left")}}return e},m6=function(e,r){return e?(r&&(e=eze(e,r)),JLe[e.classes[0]]||null):null},dx=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return td(r.concat(n))},Fr=function(e,r,n){if(!e)return td();if(rC[e.type]){var s=rC[e.type](e,r);if(n&&r.size!==n.size){s=td(r.sizingClasses(n),[s],r);var a=r.sizeMultiplier/n.sizeMultiplier;s.height*=a,s.depth*=a}return s}else throw new dt("Got group of unknown type: '"+e.type+"'")};function av(t,e){var r=td(["base"],t,e),n=td(["strut"]);return n.style.height=bt(r.height+r.depth),r.depth&&(n.style.verticalAlign=bt(-r.depth)),r.children.unshift(n),r}function O6(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=Ci(t,e,"root"),s;n.length===2&&n[1].hasClass("tag")&&(s=n.pop());for(var a=[],l=[],c=0;c<n.length;c++)if(l.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var h=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,l.push(n[c]),n[c].hasClass("nobreak")&&(h=!0);h||(a.push(av(l,e)),l=[])}else n[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(av(l,e)),l=[]),a.push(n[c]));l.length>0&&a.push(av(l,e));var f;r?(f=av(Ci(r,e,!0)),f.classes=["tag"],a.push(f)):s&&a.push(s);var p=td(["katex-html"],a);if(p.setAttribute("aria-hidden","true"),f){var O=f.children[0];O.style.height=bt(p.height+p.depth),p.depth&&(O.style.verticalAlign=bt(-p.depth))}return p}function dne(t){return new Zx(t)}class Da{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=fh(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Il&&this.children[n+1]instanceof Il){for(var s=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Il;)s+=this.children[++n].toText();e.appendChild(new Il(s).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Vr.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Vr.escape(fh(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Il{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Vr.escape(this.toText())}toText(){return this.text}}class tze{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",bt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+bt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ct={MathNode:Da,TextNode:Il,SpaceNode:tze,newDocumentFragment:dne},mo=function(e,r,n){return gn[r][e]&&gn[r][e].replace&&e.charCodeAt(0)!==55349&&!(nne.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=gn[r][e].replace),new ct.TextNode(e)},a8=function(e){return e.length===1?e[0]:new ct.MathNode("mrow",e)},o8=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var s=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;gn[s][a]&&gn[s][a].replace&&(a=gn[s][a].replace);var l=Fe.fontMap[n].fontName;return n8(a,l,s)?Fe.fontMap[n].variant:null};function O3(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Il&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Il&&r.text===","}else return!1}var ma=function(e,r,n){if(e.length===1){var s=cn(e[0],r);return n&&s instanceof Da&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var a=[],l,c=0;c<e.length;c++){var h=cn(e[c],r);if(h instanceof Da&&l instanceof Da){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(O3(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&O3(l))h.children=[...l.children,...h.children],a.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||O3(l))){var f=h.children[0];f instanceof Da&&f.type==="mn"&&(f.children=[...l.children,...f.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var p=l.children[0];if(p instanceof Il&&p.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var O=h.children[0];O instanceof Il&&O.text.length>0&&(O.text=O.text.slice(0,1)+""+O.text.slice(1),a.pop())}}}a.push(h),l=h}return a},ph=function(e,r,n){return a8(ma(e,r,n))},cn=function(e,r){if(!e)return new ct.MathNode("mrow");if(nC[e.type]){var n=nC[e.type](e,r);return n}else throw new dt("Got group of unknown type: '"+e.type+"'")};function GL(t,e,r,n,s){var a=ma(t,r),l;a.length===1&&a[0]instanceof Da&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new ct.MathNode("mrow",a);var c=new ct.MathNode("annotation",[new ct.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new ct.MathNode("semantics",[l,c]),f=new ct.MathNode("math",[h]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&f.setAttribute("display","block");var p=s?"katex":"katex-mathml";return Fe.makeSpan([p],[f])}var hne=function(e){return new Dc({style:e.displayMode?Jt.DISPLAY:Jt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},une=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=Fe.makeSpan(n,[e])}return e},rze=function(e,r,n){var s=hne(n),a;if(n.output==="mathml")return GL(e,r,s,n.displayMode,!0);if(n.output==="html"){var l=O6(e,s);a=Fe.makeSpan(["katex"],[l])}else{var c=GL(e,r,s,n.displayMode,!1),h=O6(e,s);a=Fe.makeSpan(["katex"],[c,h])}return une(a,n)},nze=function(e,r,n){var s=hne(n),a=O6(e,s),l=Fe.makeSpan(["katex"],[a]);return une(l,n)},ize={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},sze=function(e){var r=new ct.MathNode("mo",[new ct.TextNode(ize[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},aze={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},oze=function(e){return e.type==="ordgroup"?e.body.length:1},lze=function(e,r){function n(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var f=e,p=oze(f.base),O,x,k;if(p>5)h==="widehat"||h==="widecheck"?(O=420,c=2364,k=.42,x=h+"4"):(O=312,c=2340,k=.34,x="tilde4");else{var w=[1,1,2,2,3,3][p];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][w],O=[0,239,300,360,420][w],k=[0,.24,.3,.3,.36,.42][w],x=h+w):(c=[0,600,1033,2339,2340][w],O=[0,260,286,306,312][w],k=[0,.26,.286,.3,.306,.34][w],x="tilde"+w)}var _=new gh(x),C=new ed([_],{width:"100%",height:bt(k),viewBox:"0 0 "+c+" "+O,preserveAspectRatio:"none"});return{span:Fe.makeSvgSpan([],[C],r),minWidth:0,height:k}}else{var T=[],E=aze[h],[P,Q,B]=E,R=B/1e3,M=P.length,I,j;if(M===1){var z=E[3];I=["hide-tail"],j=[z]}else if(M===2)I=["halfarrow-left","halfarrow-right"],j=["xMinYMin","xMaxYMin"];else if(M===3)I=["brace-left","brace-center","brace-right"],j=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var X=0;X<M;X++){var W=new gh(P[X]),F=new ed([W],{width:"400em",height:bt(R),viewBox:"0 0 "+c+" "+B,preserveAspectRatio:j[X]+" slice"}),V=Fe.makeSvgSpan([I[X]],[F],r);if(M===1)return{span:V,minWidth:Q,height:R};V.style.height=bt(R),T.push(V)}return{span:Fe.makeSpan(["stretchy"],T,r),minWidth:Q,height:R}}}var{span:s,minWidth:a,height:l}=n();return s.height=l,s.style.height=bt(l),a>0&&(s.style.minWidth=bt(a)),s},cze=function(e,r,n,s,a){var l,c=e.height+e.depth+n+s;if(/fbox|color|angl/.test(r)){if(l=Fe.makeSpan(["stretchy",r],[],a),r==="fbox"){var h=a.color&&a.getColor();h&&(l.style.borderColor=h)}}else{var f=[];/^[bx]cancel$/.test(r)&&f.push(new g6({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&f.push(new g6({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new ed(f,{width:"100%",height:bt(c)});l=Fe.makeSvgSpan([],[p],a)}return l.height=c,l.style.height=bt(c),l},rd={encloseSpan:cze,mathMLnode:sze,svgSpan:lze};function br(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function l8(t){var e=OA(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function OA(t){return t&&(t.type==="atom"||MLe.hasOwnProperty(t.type))?t:null}var c8=(t,e)=>{var r,n,s;t&&t.type==="supsub"?(n=br(t.base,"accent"),r=n.base,t.base=r,s=QLe(Fr(t,e)),t.base=n):(n=br(t,"accent"),r=n.base);var a=Fr(r,e.havingCrampedStyle()),l=n.isShifty&&Vr.isCharacterBox(r),c=0;if(l){var h=Vr.getBaseElem(r),f=Fr(h,e.havingCrampedStyle());c=XL(f).skew}var p=n.label==="\\c",O=p?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),x;if(n.isStretchy)x=rd.svgSpan(n,e),x=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:x,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+bt(2*c)+")",marginLeft:bt(2*c)}:void 0}]},e);else{var k,w;n.label==="\\vec"?(k=Fe.staticSvg("vec",e),w=Fe.svgData.vec[1]):(k=Fe.makeOrd({mode:n.mode,text:n.label},e,"textord"),k=XL(k),k.italic=0,w=k.width,p&&(O+=k.depth)),x=Fe.makeSpan(["accent-body"],[k]);var _=n.label==="\\textcircled";_&&(x.classes.push("accent-full"),O=a.height);var C=c;_||(C-=w/2),x.style.left=bt(C),n.label==="\\textcircled"&&(x.style.top=".2em"),x=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-O},{type:"elem",elem:x}]},e)}var T=Fe.makeSpan(["mord","accent"],[x],e);return s?(s.children[0]=T,s.height=Math.max(T.height,s.height),s.classes[0]="mord",s):T},fne=(t,e)=>{var r=t.isStretchy?rd.mathMLnode(t.label):new ct.MathNode("mo",[mo(t.label,t.mode)]),n=new ct.MathNode("mover",[cn(t.base,e),r]);return n.setAttribute("accent","true"),n},dze=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));St({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=iC(e[0]),n=!dze.test(t.funcName),s=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:s,base:r}},htmlBuilder:c8,mathmlBuilder:fne});St({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:c8,mathmlBuilder:fne});St({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:s}},htmlBuilder:(t,e)=>{var r=Fr(t.base,e),n=rd.svgSpan(t,e),s=t.label==="\\utilde"?.12:0,a=Fe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:r}]},e);return Fe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=rd.mathMLnode(t.label),n=new ct.MathNode("munder",[cn(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var ov=t=>{var e=new ct.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};St({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:s}=t;return{type:"xArrow",mode:n.mode,label:s,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),s=Fe.wrapFragment(Fr(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(a+"-arrow-pad");var l;t.below&&(n=e.havingStyle(r.sub()),l=Fe.wrapFragment(Fr(t.below,n,e),e),l.classes.push(a+"-arrow-pad"));var c=rd.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,f=-e.fontMetrics().axisHeight-.5*c.height-.111;(s.depth>.25||t.label==="\\xleftequilibrium")&&(f-=s.depth);var p;if(l){var O=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;p=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:f},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:O}]},e)}else p=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:f},{type:"elem",elem:c,shift:h}]},e);return p.children[0].children[0].children[1].classes.push("svg-align"),Fe.makeSpan(["mrel","x-arrow"],[p],e)},mathmlBuilder(t,e){var r=rd.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var s=ov(cn(t.body,e));if(t.below){var a=ov(cn(t.below,e));n=new ct.MathNode("munderover",[r,a,s])}else n=new ct.MathNode("mover",[r,s])}else if(t.below){var l=ov(cn(t.below,e));n=new ct.MathNode("munder",[r,l])}else n=ov(),n=new ct.MathNode("mover",[r,n]);return n}});var hze=Fe.makeSpan;function gne(t,e){var r=Ci(t.body,e,!0);return hze([t.mclass],r,e)}function pne(t,e){var r,n=ma(t.body,e);return t.mclass==="minner"?r=new ct.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new ct.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new ct.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}St({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,s=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:ti(s),isCharacterBox:Vr.isCharacterBox(s)}},htmlBuilder:gne,mathmlBuilder:pne});var xA=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};St({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:xA(e[0]),body:ti(e[1]),isCharacterBox:Vr.isCharacterBox(e[1])}}});St({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,s=e[1],a=e[0],l;n!=="\\stackrel"?l=xA(s):l="mrel";var c={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:ti(s)},h={type:"supsub",mode:a.mode,base:c,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:l,body:[h],isCharacterBox:Vr.isCharacterBox(h)}},htmlBuilder:gne,mathmlBuilder:pne});St({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:xA(e[0]),body:ti(e[0])}},htmlBuilder(t,e){var r=Ci(t.body,e,!0),n=Fe.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=ma(t.body,e),n=new ct.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var uze={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},HL=()=>({type:"styling",body:[],mode:"math",style:"display"}),KL=t=>t.type==="textord"&&t.text==="@",fze=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function gze(t,e,r){var n=uze[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},l=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[s,l,c]};return r.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function pze(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new dt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],s=[n],a=0;a<e.length;a++){for(var l=e[a],c=HL(),h=0;h<l.length;h++)if(!KL(l[h]))c.body.push(l[h]);else{n.push(c),h+=1;var f=l8(l[h]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var O=0;O<2;O++){for(var x=!0,k=h+1;k<l.length;k++){if(fze(l[k],f)){x=!1,h=k;break}if(KL(l[k]))throw new dt("Missing a "+f+" character to complete a CD arrow.",l[k]);p[O].body.push(l[k])}if(x)throw new dt("Missing a "+f+" character to complete a CD arrow.",l[h])}else throw new dt('Expected one of "<>AV=|." after @',l[h]);var w=gze(f,p,t),_={type:"styling",body:[w],mode:"math",style:"display"};n.push(_),c=HL()}a%2===0?n.push(c):n.shift(),n=[],s.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var C=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:C,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}St({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=Fe.wrapFragment(Fr(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=bt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new ct.MathNode("mrow",[cn(t.label,e)]);return r=new ct.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new ct.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});St({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Fe.wrapFragment(Fr(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new ct.MathNode("mrow",[cn(t.fragment,e)])}});St({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=br(e[0],"ordgroup"),s=n.body,a="",l=0;l<s.length;l++){var c=br(s[l],"textord");a+=c.text}var h=parseInt(a),f;if(isNaN(h))throw new dt("\\@char has non-numeric argument "+a);if(h<0||h>=1114111)throw new dt("\\@char with invalid code point "+a);return h<=65535?f=String.fromCharCode(h):(h-=65536,f=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:r.mode,text:f}}});var mne=(t,e)=>{var r=Ci(t.body,e.withColor(t.color),!1);return Fe.makeFragment(r)},One=(t,e)=>{var r=ma(t.body,e.withColor(t.color)),n=new ct.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};St({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=br(e[0],"color-token").color,s=e[1];return{type:"color",mode:r.mode,color:n,body:ti(s)}},htmlBuilder:mne,mathmlBuilder:One});St({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,s=br(e[0],"color-token").color;r.gullet.macros.set("\\current@color",s);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:s,body:a}},htmlBuilder:mne,mathmlBuilder:One});St({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,s=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:s&&br(s,"size").value}},htmlBuilder(t,e){var r=Fe.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=bt(Nn(t.size,e)))),r},mathmlBuilder(t,e){var r=new ct.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",bt(Nn(t.size,e)))),r}});var x6={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},xne=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new dt("Expected a control sequence",t);return e},mze=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},bne=(t,e,r,n)=>{var s=t.gullet.macros.get(r.text);s==null&&(r.noexpand=!0,s={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,s,n)};St({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(x6[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=x6[n.text]),br(e.parseFunction(),"internal");throw new dt("Invalid token after macro prefix",n)}});St({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),s=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new dt("Expected a control sequence",n);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new dt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new dt('Argument number "'+n.text+'" out of order');a++,c.push([])}else{if(n.text==="EOF")throw new dt("Expected a macro definition");c[a].push(n.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(r==="\\edef"||r==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(s,{tokens:h,numArgs:a,delimiters:c},r===x6[r]),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=xne(e.gullet.popToken());e.gullet.consumeSpaces();var s=mze(e);return bne(e,n,s,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});St({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=xne(e.gullet.popToken()),s=e.gullet.popToken(),a=e.gullet.popToken();return bne(e,n,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var W1=function(e,r,n){var s=gn.math[e]&&gn.math[e].replace,a=n8(s||e,r,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},d8=function(e,r,n,s){var a=n.havingBaseStyle(r),l=Fe.makeSpan(s.concat(a.sizingClasses(n)),[e],n),c=a.sizeMultiplier/n.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},kne=function(e,r,n){var s=r.havingBaseStyle(n),a=(1-r.sizeMultiplier/s.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=bt(a),e.height-=a,e.depth+=a},Oze=function(e,r,n,s,a,l){var c=Fe.makeSymbol(e,"Main-Regular",a,s),h=d8(c,r,s,l);return n&&kne(h,s,r),h},xze=function(e,r,n,s){return Fe.makeSymbol(e,"Size"+r+"-Regular",n,s)},yne=function(e,r,n,s,a,l){var c=xze(e,r,a,s),h=d8(Fe.makeSpan(["delimsizing","size"+r],[c],s),Jt.TEXT,s,l);return n&&kne(h,s,Jt.TEXT),h},x3=function(e,r,n){var s;r==="Size1-Regular"?s="delim-size1":s="delim-size4";var a=Fe.makeSpan(["delimsizinginner",s],[Fe.makeSpan([],[Fe.makeSymbol(e,r,n)])]);return{type:"elem",elem:a}},b3=function(e,r,n){var s=Bl["Size4-Regular"][e.charCodeAt(0)]?Bl["Size4-Regular"][e.charCodeAt(0)][4]:Bl["Size1-Regular"][e.charCodeAt(0)][4],a=new gh("inner",_Le(e,Math.round(1e3*r))),l=new ed([a],{width:bt(s),height:bt(r),style:"width:"+bt(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=Fe.makeSvgSpan([],[l],n);return c.height=r,c.style.height=bt(r),c.style.width=bt(s),{type:"elem",elem:c}},b6=.008,lv={type:"kern",size:-1*b6},bze=["|","\\lvert","\\rvert","\\vert"],kze=["\\|","\\lVert","\\rVert","\\Vert"],wne=function(e,r,n,s,a,l){var c,h,f,p,O="",x=0;c=f=p=e,h=null;var k="Size1-Regular";e==="\\uparrow"?f=p="":e==="\\Uparrow"?f=p="":e==="\\downarrow"?c=f="":e==="\\Downarrow"?c=f="":e==="\\updownarrow"?(c="\\uparrow",f="",p="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",f="",p="\\Downarrow"):bze.includes(e)?(f="",O="vert",x=333):kze.includes(e)?(f="",O="doublevert",x=556):e==="["||e==="\\lbrack"?(c="",f="",p="",k="Size4-Regular",O="lbrack",x=667):e==="]"||e==="\\rbrack"?(c="",f="",p="",k="Size4-Regular",O="rbrack",x=667):e==="\\lfloor"||e===""?(f=c="",p="",k="Size4-Regular",O="lfloor",x=667):e==="\\lceil"||e===""?(c="",f=p="",k="Size4-Regular",O="lceil",x=667):e==="\\rfloor"||e===""?(f=c="",p="",k="Size4-Regular",O="rfloor",x=667):e==="\\rceil"||e===""?(c="",f=p="",k="Size4-Regular",O="rceil",x=667):e==="("||e==="\\lparen"?(c="",f="",p="",k="Size4-Regular",O="lparen",x=875):e===")"||e==="\\rparen"?(c="",f="",p="",k="Size4-Regular",O="rparen",x=875):e==="\\{"||e==="\\lbrace"?(c="",h="",p="",f="",k="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",p="",f="",k="Size4-Regular"):e==="\\lgroup"||e===""?(c="",p="",f="",k="Size4-Regular"):e==="\\rgroup"||e===""?(c="",p="",f="",k="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",p="",f="",k="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",p="",f="",k="Size4-Regular");var w=W1(c,k,a),_=w.height+w.depth,C=W1(f,k,a),T=C.height+C.depth,E=W1(p,k,a),P=E.height+E.depth,Q=0,B=1;if(h!==null){var R=W1(h,k,a);Q=R.height+R.depth,B=2}var M=_+P+Q,I=Math.max(0,Math.ceil((r-M)/(B*T))),j=M+I*B*T,z=s.fontMetrics().axisHeight;n&&(z*=s.sizeMultiplier);var X=j/2-z,W=[];if(O.length>0){var F=j-_-P,V=Math.round(j*1e3),te=CLe(O,Math.round(F*1e3)),G=new gh(O,te),J=(x/1e3).toFixed(3)+"em",oe=(V/1e3).toFixed(3)+"em",ie=new ed([G],{width:J,height:oe,viewBox:"0 0 "+x+" "+V}),be=Fe.makeSvgSpan([],[ie],s);be.height=V/1e3,be.style.width=J,be.style.height=oe,W.push({type:"elem",elem:be})}else{if(W.push(x3(p,k,a)),W.push(lv),h===null){var he=j-_-P+2*b6;W.push(b3(f,he,s))}else{var re=(j-_-P-Q)/2+2*b6;W.push(b3(f,re,s)),W.push(lv),W.push(x3(h,k,a)),W.push(lv),W.push(b3(f,re,s))}W.push(lv),W.push(x3(c,k,a))}var ae=s.havingBaseStyle(Jt.TEXT),K=Fe.makeVList({positionType:"bottom",positionData:X,children:W},ae);return d8(Fe.makeSpan(["delimsizing","mult"],[K],ae),Jt.TEXT,s,l)},k3=80,y3=.08,w3=function(e,r,n,s,a){var l=vLe(e,s,n),c=new gh(e,l),h=new ed([c],{width:"400em",height:bt(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Fe.makeSvgSpan(["hide-tail"],[h],a)},yze=function(e,r){var n=r.havingBaseSizing(),s=Ane("\\surd",e*n.sizeMultiplier,Cne,n),a=n.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,h=0,f=0,p=0,O;return s.type==="small"?(p=1e3+1e3*l+k3,e<1?a=1:e<1.4&&(a=.7),h=(1+l+y3)/a,f=(1+l)/a,c=w3("sqrtMain",h,p,l,r),c.style.minWidth="0.853em",O=.833/a):s.type==="large"?(p=(1e3+k3)*OO[s.size],f=(OO[s.size]+l)/a,h=(OO[s.size]+l+y3)/a,c=w3("sqrtSize"+s.size,h,p,l,r),c.style.minWidth="1.02em",O=1/a):(h=e+l+y3,f=e+l,p=Math.floor(1e3*e+l)+k3,c=w3("sqrtTall",h,p,l,r),c.style.minWidth="0.742em",O=1.056),c.height=f,c.style.height=bt(h),{span:c,advanceWidth:O,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*a}},vne=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],wze=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],_ne=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],OO=[0,1.2,1.8,2.4,3],vze=function(e,r,n,s,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),vne.includes(e)||_ne.includes(e))return yne(e,r,!1,n,s,a);if(wze.includes(e))return wne(e,OO[r],!1,n,s,a);throw new dt("Illegal delimiter: '"+e+"'")},_ze=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Cze=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"stack"}],Cne=[{type:"small",style:Jt.SCRIPTSCRIPT},{type:"small",style:Jt.SCRIPT},{type:"small",style:Jt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Aze=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Ane=function(e,r,n,s){for(var a=Math.min(2,3-s.style.size),l=a;l<n.length&&n[l].type!=="stack";l++){var c=W1(e,Aze(n[l]),"math"),h=c.height+c.depth;if(n[l].type==="small"){var f=s.havingBaseStyle(n[l].style);h*=f.sizeMultiplier}if(h>r)return n[l]}return n[n.length-1]},Sne=function(e,r,n,s,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;_ne.includes(e)?c=_ze:vne.includes(e)?c=Cne:c=Cze;var h=Ane(e,r,c,s);return h.type==="small"?Oze(e,h.style,n,s,a,l):h.type==="large"?yne(e,h.size,n,s,a,l):wne(e,r,n,s,a,l)},Sze=function(e,r,n,s,a,l){var c=s.fontMetrics().axisHeight*s.sizeMultiplier,h=901,f=5/s.fontMetrics().ptPerEm,p=Math.max(r-c,n+c),O=Math.max(p/500*h,2*p-f);return Sne(e,O,!0,s,a,l)},zc={sqrtImage:yze,sizedDelim:vze,sizeToMaxHeight:OO,customSizedDelim:Sne,leftRightDelim:Sze},JL={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Tze=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function bA(t,e){var r=OA(t);if(r&&Tze.includes(r.text))return r;throw r?new dt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new dt("Invalid delimiter type '"+t.type+"'",t)}St({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=bA(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:JL[t.funcName].size,mclass:JL[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?Fe.makeSpan([t.mclass]):zc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(mo(t.delim,t.mode));var r=new ct.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=bt(zc.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function ez(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}St({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new dt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:bA(e[0],t).text,color:r}}});St({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=bA(e[0],t),n=t.parser;++n.leftrightDepth;var s=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=br(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:s,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{ez(t);for(var r=Ci(t.body,e,!0,["mopen","mclose"]),n=0,s=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(n=Math.max(r[l].height,n),s=Math.max(r[l].depth,s));n*=e.sizeMultiplier,s*=e.sizeMultiplier;var c;if(t.left==="."?c=dx(e,["mopen"]):c=zc.leftRightDelim(t.left,n,s,e,t.mode,["mopen"]),r.unshift(c),a)for(var h=1;h<r.length;h++){var f=r[h],p=f.isMiddle;p&&(r[h]=zc.leftRightDelim(p.delim,n,s,p.options,t.mode,[]))}var O;if(t.right===".")O=dx(e,["mclose"]);else{var x=t.rightColor?e.withColor(t.rightColor):e;O=zc.leftRightDelim(t.right,n,s,x,t.mode,["mclose"])}return r.push(O),Fe.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{ez(t);var r=ma(t.body,e);if(t.left!=="."){var n=new ct.MathNode("mo",[mo(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var s=new ct.MathNode("mo",[mo(t.right,t.mode)]);s.setAttribute("fence","true"),t.rightColor&&s.setAttribute("mathcolor",t.rightColor),r.push(s)}return a8(r)}});St({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=bA(e[0],t);if(!t.parser.leftrightDepth)throw new dt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=dx(e,[]);else{r=zc.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?mo("|","text"):mo(t.delim,t.mode),n=new ct.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var h8=(t,e)=>{var r=Fe.wrapFragment(Fr(t.body,e),e),n=t.label.slice(1),s=e.sizeMultiplier,a,l=0,c=Vr.isCharacterBox(t.body);if(n==="sout")a=Fe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var h=Nn({number:.6,unit:"pt"},e),f=Nn({number:.35,unit:"ex"},e),p=e.havingBaseSizing();s=s/p.sizeMultiplier;var O=r.height+r.depth+h+f;r.style.paddingLeft=bt(O/2+h);var x=Math.floor(1e3*O*s),k=yLe(x),w=new ed([new gh("phase",k)],{width:"400em",height:bt(x/1e3),viewBox:"0 0 400000 "+x,preserveAspectRatio:"xMinYMin slice"});a=Fe.makeSvgSpan(["hide-tail"],[w],e),a.style.height=bt(O),l=r.depth+h+f}else{/cancel/.test(n)?c||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var _=0,C=0,T=0;/box/.test(n)?(T=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),_=e.fontMetrics().fboxsep+(n==="colorbox"?0:T),C=_):n==="angl"?(T=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),_=4*T,C=Math.max(0,.25-r.depth)):(_=c?.2:0,C=_),a=rd.encloseSpan(r,n,_,C,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=bt(T)):n==="angl"&&T!==.049&&(a.style.borderTopWidth=bt(T),a.style.borderRightWidth=bt(T)),l=r.depth+C,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var E;if(t.backgroundColor)E=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:r,shift:0}]},e);else{var P=/cancel|phase/.test(n)?["svg-align"]:[];E=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:P}]},e)}return/cancel/.test(n)&&(E.height=r.height,E.depth=r.depth),/cancel/.test(n)&&!c?Fe.makeSpan(["mord","cancel-lap"],[E],e):Fe.makeSpan(["mord"],[E],e)},u8=(t,e)=>{var r=0,n=new ct.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[cn(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+s+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};St({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:s}=t,a=br(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:n.mode,label:s,backgroundColor:a,body:l}},htmlBuilder:h8,mathmlBuilder:u8});St({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:s}=t,a=br(e[0],"color-token").color,l=br(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:n.mode,label:s,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:h8,mathmlBuilder:u8});St({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});St({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,s=e[0];return{type:"enclose",mode:r.mode,label:n,body:s}},htmlBuilder:h8,mathmlBuilder:u8});St({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var Tne={};function Hl(t){for(var{type:e,names:r,props:n,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},h=0;h<r.length;++h)Tne[r[h]]=c;a&&(rC[e]=a),l&&(nC[e]=l)}var Ene={};function ge(t,e){Ene[t]=e}function tz(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var kA=t=>{var e=t.parser.settings;if(!e.displayMode)throw new dt("{"+t.envName+"} can be used only in display mode.")};function f8(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Qh(t,e,r){var{hskipBeforeAndAfter:n,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:f,emptySingleRow:p,maxNumCols:O,leqno:x}=e;if(t.gullet.beginGroup(),f||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var k=t.gullet.expandMacroAsText("\\arraystretch");if(k==null)l=1;else if(l=parseFloat(k),!l||l<0)throw new dt("Invalid \\arraystretch: "+k)}t.gullet.beginGroup();var w=[],_=[w],C=[],T=[],E=h!=null?[]:void 0;function P(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function Q(){E&&(t.gullet.macros.get("\\df@tag")?(E.push(t.subparse([new Na("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):E.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(P(),T.push(tz(t));;){var B=t.parseExpression(!1,f?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),B={type:"ordgroup",mode:t.mode,body:B},r&&(B={type:"styling",mode:t.mode,style:r,body:[B]}),w.push(B);var R=t.fetch().text;if(R==="&"){if(O&&w.length===O){if(f||c)throw new dt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(R==="\\end"){Q(),w.length===1&&B.type==="styling"&&B.body[0].body.length===0&&(_.length>1||!p)&&_.pop(),T.length<_.length+1&&T.push([]);break}else if(R==="\\\\"){t.consume();var M=void 0;t.gullet.future().text!==" "&&(M=t.parseSizeGroup(!0)),C.push(M?M.value:null),Q(),T.push(tz(t)),w=[],_.push(w),P()}else throw new dt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:s,arraystretch:l,body:_,cols:a,rowGaps:C,hskipBeforeAndAfter:n,hLinesBeforeRow:T,colSeparationType:c,tags:E,leqno:x}}function g8(t){return t.slice(0,1)==="d"?"display":"text"}var Kl=function(e,r){var n,s,a=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(a),f=[],p=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),O=1/r.fontMetrics().ptPerEm,x=5*O;if(e.colSeparationType&&e.colSeparationType==="small"){var k=r.havingStyle(Jt.SCRIPT).sizeMultiplier;x=.2778*(k/r.sizeMultiplier)}var w=e.colSeparationType==="CD"?Nn({number:3,unit:"ex"},r):12*O,_=3*O,C=e.arraystretch*w,T=.7*C,E=.3*C,P=0;function Q(Ge){for(var Qt=0;Qt<Ge.length;++Qt)Qt>0&&(P+=.25),f.push({pos:P,isDashed:Ge[Qt]})}for(Q(l[0]),n=0;n<e.body.length;++n){var B=e.body[n],R=T,M=E;c<B.length&&(c=B.length);var I=new Array(B.length);for(s=0;s<B.length;++s){var j=Fr(B[s],r);M<j.depth&&(M=j.depth),R<j.height&&(R=j.height),I[s]=j}var z=e.rowGaps[n],X=0;z&&(X=Nn(z,r),X>0&&(X+=E,M<X&&(M=X),X=0)),e.addJot&&(M+=_),I.height=R,I.depth=M,P+=R,I.pos=P,P+=M+X,h[n]=I,Q(l[n+1])}var W=P/2+r.fontMetrics().axisHeight,F=e.cols||[],V=[],te,G,J=[];if(e.tags&&e.tags.some(Ge=>Ge))for(n=0;n<a;++n){var oe=h[n],ie=oe.pos-W,be=e.tags[n],he=void 0;be===!0?he=Fe.makeSpan(["eqn-num"],[],r):be===!1?he=Fe.makeSpan([],[],r):he=Fe.makeSpan([],Ci(be,r,!0),r),he.depth=oe.depth,he.height=oe.height,J.push({type:"elem",elem:he,shift:ie})}for(s=0,G=0;s<c||G<F.length;++s,++G){for(var re=F[G]||{},ae=!0;re.type==="separator";){if(ae||(te=Fe.makeSpan(["arraycolsep"],[]),te.style.width=bt(r.fontMetrics().doubleRuleSep),V.push(te)),re.separator==="|"||re.separator===":"){var K=re.separator==="|"?"solid":"dashed",ce=Fe.makeSpan(["vertical-separator"],[],r);ce.style.height=bt(P),ce.style.borderRightWidth=bt(p),ce.style.borderRightStyle=K,ce.style.margin="0 "+bt(-p/2);var ye=P-W;ye&&(ce.style.verticalAlign=bt(-ye)),V.push(ce)}else throw new dt("Invalid separator type: "+re.separator);G++,re=F[G]||{},ae=!1}if(!(s>=c)){var ke=void 0;(s>0||e.hskipBeforeAndAfter)&&(ke=Vr.deflt(re.pregap,x),ke!==0&&(te=Fe.makeSpan(["arraycolsep"],[]),te.style.width=bt(ke),V.push(te)));var Ce=[];for(n=0;n<a;++n){var De=h[n],Pe=De[s];if(Pe){var Ee=De.pos-W;Pe.depth=De.depth,Pe.height=De.height,Ce.push({type:"elem",elem:Pe,shift:Ee})}}Ce=Fe.makeVList({positionType:"individualShift",children:Ce},r),Ce=Fe.makeSpan(["col-align-"+(re.align||"c")],[Ce]),V.push(Ce),(s<c-1||e.hskipBeforeAndAfter)&&(ke=Vr.deflt(re.postgap,x),ke!==0&&(te=Fe.makeSpan(["arraycolsep"],[]),te.style.width=bt(ke),V.push(te)))}}if(h=Fe.makeSpan(["mtable"],V),f.length>0){for(var de=Fe.makeLineSpan("hline",r,p),Re=Fe.makeLineSpan("hdashline",r,p),Be=[{type:"elem",elem:h,shift:0}];f.length>0;){var He=f.pop(),Ye=He.pos-W;He.isDashed?Be.push({type:"elem",elem:Re,shift:Ye}):Be.push({type:"elem",elem:de,shift:Ye})}h=Fe.makeVList({positionType:"individualShift",children:Be},r)}if(J.length===0)return Fe.makeSpan(["mord"],[h],r);var Ze=Fe.makeVList({positionType:"individualShift",children:J},r);return Ze=Fe.makeSpan(["tag"],[Ze],r),Fe.makeFragment([h,Ze])},Eze={c:"center ",l:"left ",r:"right "},Jl=function(e,r){for(var n=[],s=new ct.MathNode("mtd",[],["mtr-glue"]),a=new ct.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],f=0;f<c.length;f++)h.push(new ct.MathNode("mtd",[cn(c[f],r)]));e.tags&&e.tags[l]&&(h.unshift(s),h.push(s),e.leqno?h.unshift(a):h.push(a)),n.push(new ct.MathNode("mtr",h))}var p=new ct.MathNode("mtable",n),O=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);p.setAttribute("rowspacing",bt(O));var x="",k="";if(e.cols&&e.cols.length>0){var w=e.cols,_="",C=!1,T=0,E=w.length;w[0].type==="separator"&&(x+="top ",T=1),w[w.length-1].type==="separator"&&(x+="bottom ",E-=1);for(var P=T;P<E;P++)w[P].type==="align"?(k+=Eze[w[P].align],C&&(_+="none "),C=!0):w[P].type==="separator"&&C&&(_+=w[P].separator==="|"?"solid ":"dashed ",C=!1);p.setAttribute("columnalign",k.trim()),/[sd]/.test(_)&&p.setAttribute("columnlines",_.trim())}if(e.colSeparationType==="align"){for(var Q=e.cols||[],B="",R=1;R<Q.length;R++)B+=R%2?"0em ":"1em ";p.setAttribute("columnspacing",B.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var M="",I=e.hLinesBeforeRow;x+=I[0].length>0?"left ":"",x+=I[I.length-1].length>0?"right ":"";for(var j=1;j<I.length-1;j++)M+=I[j].length===0?"none ":I[j][0]?"dashed ":"solid ";return/[sd]/.test(M)&&p.setAttribute("rowlines",M.trim()),x!==""&&(p=new ct.MathNode("menclose",[p]),p.setAttribute("notation",x.trim())),e.arraystretch&&e.arraystretch<1&&(p=new ct.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},Pne=function(e,r){e.envName.indexOf("ed")===-1&&kA(e);var n=[],s=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=Qh(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:f8(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,f={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var p="",O=0;O<r[0].body.length;O++){var x=br(r[0].body[O],"textord");p+=x.text}c=Number(p),h=c*2}var k=!h;l.body.forEach(function(T){for(var E=1;E<T.length;E+=2){var P=br(T[E],"styling"),Q=br(P.body[0],"ordgroup");Q.body.unshift(f)}if(k)h<T.length&&(h=T.length);else{var B=T.length/2;if(c<B)throw new dt("Too many math in a row: "+("expected "+c+", but got "+B),T[0])}});for(var w=0;w<h;++w){var _="r",C=0;w%2===1?_="l":w>0&&k&&(C=1),n[w]={type:"align",align:_,pregap:C,postgap:0}}return l.colSeparationType=k?"align":"alignat",l};Hl({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=OA(e[0]),n=r?[e[0]]:br(e[0],"ordgroup").body,s=n.map(function(l){var c=l8(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new dt("Unknown column alignment: "+h,l)}),a={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return Qh(t.parser,a,g8(t.envName))},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var s=t.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),r=s.fetch().text,"lcr".indexOf(r)===-1)throw new dt("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),n.cols=[{type:"align",align:r}]}}var a=Qh(t.parser,n,g8(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Qh(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=OA(e[0]),n=r?[e[0]]:br(e[0],"ordgroup").body,s=n.map(function(l){var c=l8(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new dt("Unknown column alignment: "+h,l)});if(s.length>1)throw new dt("{subarray} can contain only one column");var a={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Qh(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new dt("{subarray} can contain only one column");return a},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Qh(t.parser,e,g8(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Pne,htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&kA(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:f8(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Qh(t.parser,e,"display")},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Pne,htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){kA(t);var e={autoTag:f8(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Qh(t.parser,e,"display")},htmlBuilder:Kl,mathmlBuilder:Jl});Hl({type:"array",names:["CD"],props:{numArgs:0},handler(t){return kA(t),pze(t.parser)},htmlBuilder:Kl,mathmlBuilder:Jl});ge("\\nonumber","\\gdef\\@eqnsw{0}");ge("\\notag","\\nonumber");St({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new dt(t.funcName+" valid only within array environment")}});var rz=Tne;St({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,s=e[0];if(s.type!=="ordgroup")throw new dt("Invalid environment name",s);for(var a="",l=0;l<s.body.length;++l)a+=br(s.body[l],"textord").text;if(n==="\\begin"){if(!rz.hasOwnProperty(a))throw new dt("No such environment: "+a,s);var c=rz[a],{args:h,optArgs:f}=r.parseArguments("\\begin{"+a+"}",c),p={mode:r.mode,envName:a,parser:r},O=c.handler(p,h,f);r.expect("\\end",!1);var x=r.nextToken,k=br(r.parseFunction(),"environment");if(k.name!==a)throw new dt("Mismatch: \\begin{"+a+"} matched by \\end{"+k.name+"}",x);return O}return{type:"environment",mode:r.mode,name:a,nameGroup:s}}});var Dne=(t,e)=>{var r=t.font,n=e.withFont(r);return Fr(t.body,n)},Qne=(t,e)=>{var r=t.font,n=e.withFont(r);return cn(t.body,n)},nz={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};St({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=iC(e[0]),a=n;return a in nz&&(a=nz[a]),{type:"font",mode:r.mode,font:a.slice(1),body:s}},htmlBuilder:Dne,mathmlBuilder:Qne});St({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],s=Vr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:xA(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:s}}});St({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:s}=t,{mode:a}=r,l=r.parseExpression(!0,s),c="math"+n.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:Dne,mathmlBuilder:Qne});var $ne=(t,e)=>{var r=e;return t==="display"?r=r.id>=Jt.SCRIPT.id?r.text():Jt.DISPLAY:t==="text"&&r.size===Jt.DISPLAY.size?r=Jt.TEXT:t==="script"?r=Jt.SCRIPT:t==="scriptscript"&&(r=Jt.SCRIPTSCRIPT),r},p8=(t,e)=>{var r=$ne(t.size,e.style),n=r.fracNum(),s=r.fracDen(),a;a=e.havingStyle(n);var l=Fr(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}a=e.havingStyle(s);var f=Fr(t.denom,a,e),p,O,x;t.hasBarLine?(t.barSize?(O=Nn(t.barSize,e),p=Fe.makeLineSpan("frac-line",e,O)):p=Fe.makeLineSpan("frac-line",e),O=p.height,x=p.height):(p=null,O=0,x=e.fontMetrics().defaultRuleThickness);var k,w,_;r.size===Jt.DISPLAY.size||t.size==="display"?(k=e.fontMetrics().num1,O>0?w=3*x:w=7*x,_=e.fontMetrics().denom1):(O>0?(k=e.fontMetrics().num2,w=x):(k=e.fontMetrics().num3,w=3*x),_=e.fontMetrics().denom2);var C;if(p){var E=e.fontMetrics().axisHeight;k-l.depth-(E+.5*O)<w&&(k+=w-(k-l.depth-(E+.5*O))),E-.5*O-(f.height-_)<w&&(_+=w-(E-.5*O-(f.height-_)));var P=-(E-.5*O);C=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:_},{type:"elem",elem:p,shift:P},{type:"elem",elem:l,shift:-k}]},e)}else{var T=k-l.depth-(f.height-_);T<w&&(k+=.5*(w-T),_+=.5*(w-T)),C=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:_},{type:"elem",elem:l,shift:-k}]},e)}a=e.havingStyle(r),C.height*=a.sizeMultiplier/e.sizeMultiplier,C.depth*=a.sizeMultiplier/e.sizeMultiplier;var Q;r.size===Jt.DISPLAY.size?Q=e.fontMetrics().delim1:r.size===Jt.SCRIPTSCRIPT.size?Q=e.havingStyle(Jt.SCRIPT).fontMetrics().delim2:Q=e.fontMetrics().delim2;var B,R;return t.leftDelim==null?B=dx(e,["mopen"]):B=zc.customSizedDelim(t.leftDelim,Q,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?R=Fe.makeSpan([]):t.rightDelim==null?R=dx(e,["mclose"]):R=zc.customSizedDelim(t.rightDelim,Q,!0,e.havingStyle(r),t.mode,["mclose"]),Fe.makeSpan(["mord"].concat(a.sizingClasses(e)),[B,Fe.makeSpan(["mfrac"],[C]),R],e)},m8=(t,e)=>{var r=new ct.MathNode("mfrac",[cn(t.numer,e),cn(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Nn(t.barSize,e);r.setAttribute("linethickness",bt(n))}var s=$ne(t.size,e.style);if(s.size!==e.style.size){r=new ct.MathNode("mstyle",[r]);var a=s.size===Jt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new ct.MathNode("mo",[new ct.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(r),t.rightDelim!=null){var h=new ct.MathNode("mo",[new ct.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return a8(l)}return r};St({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0],a=e[1],l,c=null,h=null,f="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:s,denom:a,hasBarLine:l,leftDelim:c,rightDelim:h,size:f,barSize:null}},htmlBuilder:p8,mathmlBuilder:m8});St({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:s,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});St({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,s;switch(r){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:n}}});var iz=["display","text","script","scriptscript"],sz=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};St({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],s=e[5],a=iC(e[0]),l=a.type==="atom"&&a.family==="open"?sz(a.text):null,c=iC(e[1]),h=c.type==="atom"&&c.family==="close"?sz(c.text):null,f=br(e[2],"size"),p,O=null;f.isBlank?p=!0:(O=f.value,p=O.number>0);var x="auto",k=e[3];if(k.type==="ordgroup"){if(k.body.length>0){var w=br(k.body[0],"textord");x=iz[Number(w.text)]}}else k=br(k,"textord"),x=iz[Number(k.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:p,barSize:O,leftDelim:l,rightDelim:h,size:x}},htmlBuilder:p8,mathmlBuilder:m8});St({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:s}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:br(e[0],"size").value,token:s}}});St({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0],a=aLe(br(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:s,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:p8,mathmlBuilder:m8});var Mne=(t,e)=>{var r=e.style,n,s;t.type==="supsub"?(n=t.sup?Fr(t.sup,e.havingStyle(r.sup()),e):Fr(t.sub,e.havingStyle(r.sub()),e),s=br(t.base,"horizBrace")):s=br(t,"horizBrace");var a=Fr(s.base,e.havingBaseStyle(Jt.DISPLAY)),l=rd.svgSpan(s,e),c;if(s.isOver?(c=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=Fe.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),n){var h=Fe.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e);s.isOver?c=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:n}]},e):c=Fe.makeVList({positionType:"bottom",positionData:h.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return Fe.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e)},Pze=(t,e)=>{var r=rd.mathMLnode(t.label);return new ct.MathNode(t.isOver?"mover":"munder",[cn(t.base,e),r])};St({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Mne,mathmlBuilder:Pze});St({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],s=br(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:r.mode,href:s,body:ti(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Ci(t.body,e,!1);return Fe.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=ph(t.body,e);return r instanceof Da||(r=new Da("mrow",[r])),r.setAttribute("href",t.href),r}});St({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=br(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var s=[],a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),s.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:r.mode,font:"\\texttt",body:s};return{type:"href",mode:r.mode,href:n,body:ti(c)}}});St({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:ti(e[0])}},htmlBuilder(t,e){var r=Ci(t.body,e,!1);return Fe.makeFragment(r)},mathmlBuilder(t,e){return new ct.MathNode("mrow",ma(t.body,e))}});St({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:s}=t,a=br(e[0],"raw").string,l=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(n){case"\\htmlClass":h.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":h.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":h.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),p=0;p<f.length;p++){var O=f[p].split("=");if(O.length!==2)throw new dt("Error parsing key-value for \\htmlData");h["data-"+O[0].trim()]=O[1].trim()}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:h,body:ti(l)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=Ci(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var s=Fe.makeSpan(n,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&s.setAttribute(a,t.attributes[a]);return s},mathmlBuilder:(t,e)=>ph(t.body,e)});St({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:ti(e[0]),mathml:ti(e[1])}},htmlBuilder:(t,e)=>{var r=Ci(t.html,e,!1);return Fe.makeFragment(r)},mathmlBuilder:(t,e)=>ph(t.mathml,e)});var v3=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new dt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Jre(n))throw new dt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};St({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,s={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(r[0])for(var h=br(r[0],"raw").string,f=h.split(","),p=0;p<f.length;p++){var O=f[p].split("=");if(O.length===2){var x=O[1].trim();switch(O[0].trim()){case"alt":c=x;break;case"width":s=v3(x);break;case"height":a=v3(x);break;case"totalheight":l=v3(x);break;default:throw new dt("Invalid key: '"+O[0]+"' in \\includegraphics.")}}}var k=br(e[0],"url").url;return c===""&&(c=k,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:k})?{type:"includegraphics",mode:n.mode,alt:c,width:s,height:a,totalheight:l,src:k}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Nn(t.height,e),n=0;t.totalheight.number>0&&(n=Nn(t.totalheight,e)-r);var s=0;t.width.number>0&&(s=Nn(t.width,e));var a={height:bt(r+n)};s>0&&(a.width=bt(s)),n>0&&(a.verticalAlign=bt(-n));var l=new PLe(t.src,t.alt,a);return l.height=r,l.depth=n,l},mathmlBuilder:(t,e)=>{var r=new ct.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Nn(t.height,e),s=0;if(t.totalheight.number>0&&(s=Nn(t.totalheight,e)-n,r.setAttribute("valign",bt(-s))),r.setAttribute("height",bt(n+s)),t.width.number>0){var a=Nn(t.width,e);r.setAttribute("width",bt(a))}return r.setAttribute("src",t.src),r}});St({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,s=br(e[0],"size");if(r.settings.strict){var a=n[1]==="m",l=s.value.unit==="mu";a?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+s.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:s.value}},htmlBuilder(t,e){return Fe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Nn(t.dimension,e);return new ct.SpaceNode(r)}});St({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:s}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=Fe.makeSpan([],[Fr(t.body,e)]),r=Fe.makeSpan(["inner"],[r],e)):r=Fe.makeSpan(["inner"],[Fr(t.body,e)]);var n=Fe.makeSpan(["fix"],[]),s=Fe.makeSpan([t.alignment],[r,n],e),a=Fe.makeSpan(["strut"]);return a.style.height=bt(s.height+s.depth),s.depth&&(a.style.verticalAlign=bt(-s.depth)),s.children.unshift(a),s=Fe.makeSpan(["thinbox"],[s],e),Fe.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(t,e)=>{var r=new ct.MathNode("mpadded",[cn(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});St({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,s=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",l=n.parseExpression(!1,a);return n.expect(a),n.switchMode(s),{type:"styling",mode:n.mode,style:"text",body:l}}});St({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new dt("Mismatched "+t.funcName)}});var az=(t,e)=>{switch(e.style.size){case Jt.DISPLAY.size:return t.display;case Jt.TEXT.size:return t.text;case Jt.SCRIPT.size:return t.script;case Jt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};St({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:ti(e[0]),text:ti(e[1]),script:ti(e[2]),scriptscript:ti(e[3])}},htmlBuilder:(t,e)=>{var r=az(t,e),n=Ci(r,e,!1);return Fe.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=az(t,e);return ph(r,e)}});var Rne=(t,e,r,n,s,a,l)=>{t=Fe.makeSpan([],[t]);var c=r&&Vr.isCharacterBox(r),h,f;if(e){var p=Fr(e,n.havingStyle(s.sup()),n);f={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-p.depth)}}if(r){var O=Fr(r,n.havingStyle(s.sub()),n);h={elem:O,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-O.height)}}var x;if(f&&h){var k=n.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;x=Fe.makeVList({positionType:"bottom",positionData:k,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:bt(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:bt(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(h){var w=t.height-l;x=Fe.makeVList({positionType:"top",positionData:w,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:bt(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},n)}else if(f){var _=t.depth+l;x=Fe.makeVList({positionType:"bottom",positionData:_,children:[{type:"elem",elem:t},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:bt(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var C=[x];if(h&&a!==0&&!c){var T=Fe.makeSpan(["mspace"],[],n);T.style.marginRight=bt(a),C.unshift(T)}return Fe.makeSpan(["mop","op-limits"],C,n)},Nne=["\\smallint"],Cg=(t,e)=>{var r,n,s=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=br(t.base,"op"),s=!0):a=br(t,"op");var l=e.style,c=!1;l.size===Jt.DISPLAY.size&&a.symbol&&!Nne.includes(a.name)&&(c=!0);var h;if(a.symbol){var f=c?"Size2-Regular":"Size1-Regular",p="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(p=a.name.slice(1),a.name=p==="oiint"?"\\iint":"\\iiint"),h=Fe.makeSymbol(a.name,f,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),p.length>0){var O=h.italic,x=Fe.staticSvg(p+"Size"+(c?"2":"1"),e);h=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:x,shift:c?.08:0}]},e),a.name="\\"+p,h.classes.unshift("mop"),h.italic=O}}else if(a.body){var k=Ci(a.body,e,!0);k.length===1&&k[0]instanceof po?(h=k[0],h.classes[0]="mop"):h=Fe.makeSpan(["mop"],k,e)}else{for(var w=[],_=1;_<a.name.length;_++)w.push(Fe.mathsym(a.name[_],a.mode,e));h=Fe.makeSpan(["mop"],w,e)}var C=0,T=0;return(h instanceof po||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(C=(h.height-h.depth)/2-e.fontMetrics().axisHeight,T=h.italic),s?Rne(h,r,n,e,l,T,C):(C&&(h.style.position="relative",h.style.top=bt(C)),h)},Hx=(t,e)=>{var r;if(t.symbol)r=new Da("mo",[mo(t.name,t.mode)]),Nne.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Da("mo",ma(t.body,e));else{r=new Da("mi",[new Il(t.name.slice(1))]);var n=new Da("mo",[mo("","text")]);t.parentIsSupSub?r=new Da("mrow",[r,n]):r=dne([r,n])}return r},Dze={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};St({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=n;return s.length===1&&(s=Dze[s]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Cg,mathmlBuilder:Hx});St({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ti(n)}},htmlBuilder:Cg,mathmlBuilder:Hx});var Qze={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};St({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Cg,mathmlBuilder:Hx});St({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Cg,mathmlBuilder:Hx});St({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=Qze[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Cg,mathmlBuilder:Hx});var Bne=(t,e)=>{var r,n,s=!1,a;t.type==="supsub"?(r=t.sup,n=t.sub,a=br(t.base,"operatorname"),s=!0):a=br(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(O=>{var x=O.text;return typeof x=="string"?{type:"textord",mode:O.mode,text:x}:O}),h=Ci(c,e.withFont("mathrm"),!0),f=0;f<h.length;f++){var p=h[f];p instanceof po&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=Fe.makeSpan(["mop"],h,e)}else l=Fe.makeSpan(["mop"],[],e);return s?Rne(l,r,n,e,e.style,0,0):l},$ze=(t,e)=>{for(var r=ma(t.body,e.withFont("mathrm")),n=!0,s=0;s<r.length;s++){var a=r[s];if(!(a instanceof ct.SpaceNode))if(a instanceof ct.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof ct.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=r.map(p=>p.toText()).join("");r=[new ct.TextNode(c)]}var h=new ct.MathNode("mi",r);h.setAttribute("mathvariant","normal");var f=new ct.MathNode("mo",[mo("","text")]);return t.parentIsSupSub?new ct.MathNode("mrow",[h,f]):ct.newDocumentFragment([h,f])};St({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,s=e[0];return{type:"operatorname",mode:r.mode,body:ti(s),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Bne,mathmlBuilder:$ze});ge("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Zu({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Fe.makeFragment(Ci(t.body,e,!1)):Fe.makeSpan(["mord"],Ci(t.body,e,!0),e)},mathmlBuilder(t,e){return ph(t.body,e,!0)}});St({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Fr(t.body,e.havingCrampedStyle()),n=Fe.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,a=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:n},{type:"kern",size:s}]},e);return Fe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new ct.MathNode("mo",[new ct.TextNode("")]);r.setAttribute("stretchy","true");var n=new ct.MathNode("mover",[cn(t.body,e),r]);return n.setAttribute("accent","true"),n}});St({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:ti(n)}},htmlBuilder:(t,e)=>{var r=Ci(t.body,e.withPhantom(),!1);return Fe.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=ma(t.body,e);return new ct.MathNode("mphantom",r)}});St({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Fe.makeSpan([],[Fr(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Fe.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=ma(ti(t.body),e),n=new ct.MathNode("mphantom",r),s=new ct.MathNode("mpadded",[n]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});St({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=Fe.makeSpan(["inner"],[Fr(t.body,e.withPhantom())]),n=Fe.makeSpan(["fix"],[]);return Fe.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=ma(ti(t.body),e),n=new ct.MathNode("mphantom",r),s=new ct.MathNode("mpadded",[n]);return s.setAttribute("width","0px"),s}});St({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=br(e[0],"size").value,s=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:s}},htmlBuilder(t,e){var r=Fr(t.body,e),n=Nn(t.dy,e);return Fe.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new ct.MathNode("mpadded",[cn(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});St({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});St({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,s=r[0],a=br(e[0],"size"),l=br(e[1],"size");return{type:"rule",mode:n.mode,shift:s&&br(s,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var r=Fe.makeSpan(["mord","rule"],[],e),n=Nn(t.width,e),s=Nn(t.height,e),a=t.shift?Nn(t.shift,e):0;return r.style.borderRightWidth=bt(n),r.style.borderTopWidth=bt(s),r.style.bottom=bt(a),r.width=n,r.height=s+a,r.depth=-a,r.maxFontSize=s*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Nn(t.width,e),n=Nn(t.height,e),s=t.shift?Nn(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new ct.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",bt(r)),l.setAttribute("height",bt(n));var c=new ct.MathNode("mpadded",[l]);return s>=0?c.setAttribute("height",bt(s)):(c.setAttribute("height",bt(s)),c.setAttribute("depth",bt(-s))),c.setAttribute("voffset",bt(s)),c}});function Ine(t,e,r){for(var n=Ci(t,e,!1),s=e.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var l=n[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(r)):n[a].classes[l+1]==="reset-size"+e.size&&(n[a].classes[l+1]="reset-size"+r.size),n[a].height*=s,n[a].depth*=s}return Fe.makeFragment(n)}var oz=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Mze=(t,e)=>{var r=e.havingSize(t.size);return Ine(t.body,r,e)};St({type:"sizing",names:oz,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:s}=t,a=s.parseExpression(!1,r);return{type:"sizing",mode:s.mode,size:oz.indexOf(n)+1,body:a}},htmlBuilder:Mze,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=ma(t.body,r),s=new ct.MathNode("mstyle",n);return s.setAttribute("mathsize",bt(r.sizeMultiplier)),s}});St({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,s=!1,a=!1,l=r[0]&&br(r[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var f=l.body[h];if(c=f.text,c==="t")s=!0;else if(c==="b")a=!0;else{s=!1,a=!1;break}}else s=!0,a=!0;var p=e[0];return{type:"smash",mode:n.mode,body:p,smashHeight:s,smashDepth:a}},htmlBuilder:(t,e)=>{var r=Fe.makeSpan([],[Fr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].depth=0;var a=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Fe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new ct.MathNode("mpadded",[cn(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});St({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,s=r[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:s}},htmlBuilder(t,e){var r=Fr(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Fe.wrapFragment(r,e);var n=e.fontMetrics(),s=n.defaultRuleThickness,a=s;e.style.id<Jt.TEXT.id&&(a=e.fontMetrics().xHeight);var l=s+a/4,c=r.height+r.depth+l+s,{span:h,ruleWidth:f,advanceWidth:p}=zc.sqrtImage(c,e),O=h.height-f;O>r.height+r.depth+l&&(l=(l+O-r.height-r.depth)/2);var x=h.height-r.height-l-f;r.style.paddingLeft=bt(p);var k=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+x)},{type:"elem",elem:h},{type:"kern",size:f}]},e);if(t.index){var w=e.havingStyle(Jt.SCRIPTSCRIPT),_=Fr(t.index,w,e),C=.6*(k.height-k.depth),T=Fe.makeVList({positionType:"shift",positionData:-C,children:[{type:"elem",elem:_}]},e),E=Fe.makeSpan(["root"],[T]);return Fe.makeSpan(["mord","sqrt"],[E,k],e)}else return Fe.makeSpan(["mord","sqrt"],[k],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new ct.MathNode("mroot",[cn(r,e),cn(n,e)]):new ct.MathNode("msqrt",[cn(r,e)])}});var lz={display:Jt.DISPLAY,text:Jt.TEXT,script:Jt.SCRIPT,scriptscript:Jt.SCRIPTSCRIPT};St({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:s}=t,a=s.parseExpression(!0,r),l=n.slice(1,n.length-5);return{type:"styling",mode:s.mode,style:l,body:a}},htmlBuilder(t,e){var r=lz[t.style],n=e.havingStyle(r).withFont("");return Ine(t.body,n,e)},mathmlBuilder(t,e){var r=lz[t.style],n=e.havingStyle(r),s=ma(t.body,n),a=new ct.MathNode("mstyle",s),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var Rze=function(e,r){var n=e.base;if(n)if(n.type==="op"){var s=n.limits&&(r.style.size===Jt.DISPLAY.size||n.alwaysHandleSupSub);return s?Cg:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(r.style.size===Jt.DISPLAY.size||n.limits);return a?Bne:null}else{if(n.type==="accent")return Vr.isCharacterBox(n.base)?c8:null;if(n.type==="horizBrace"){var l=!e.sub;return l===n.isOver?Mne:null}else return null}else return null};Zu({type:"supsub",htmlBuilder(t,e){var r=Rze(t,e);if(r)return r(t,e);var{base:n,sup:s,sub:a}=t,l=Fr(n,e),c,h,f=e.fontMetrics(),p=0,O=0,x=n&&Vr.isCharacterBox(n);if(s){var k=e.havingStyle(e.style.sup());c=Fr(s,k,e),x||(p=l.height-k.fontMetrics().supDrop*k.sizeMultiplier/e.sizeMultiplier)}if(a){var w=e.havingStyle(e.style.sub());h=Fr(a,w,e),x||(O=l.depth+w.fontMetrics().subDrop*w.sizeMultiplier/e.sizeMultiplier)}var _;e.style===Jt.DISPLAY?_=f.sup1:e.style.cramped?_=f.sup3:_=f.sup2;var C=e.sizeMultiplier,T=bt(.5/f.ptPerEm/C),E=null;if(h){var P=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof po||P)&&(E=bt(-l.italic))}var Q;if(c&&h){p=Math.max(p,_,c.depth+.25*f.xHeight),O=Math.max(O,f.sub2);var B=f.defaultRuleThickness,R=4*B;if(p-c.depth-(h.height-O)<R){O=R-(p-c.depth)+h.height;var M=.8*f.xHeight-(p-c.depth);M>0&&(p+=M,O-=M)}var I=[{type:"elem",elem:h,shift:O,marginRight:T,marginLeft:E},{type:"elem",elem:c,shift:-p,marginRight:T}];Q=Fe.makeVList({positionType:"individualShift",children:I},e)}else if(h){O=Math.max(O,f.sub1,h.height-.8*f.xHeight);var j=[{type:"elem",elem:h,marginLeft:E,marginRight:T}];Q=Fe.makeVList({positionType:"shift",positionData:O,children:j},e)}else if(c)p=Math.max(p,_,c.depth+.25*f.xHeight),Q=Fe.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:c,marginRight:T}]},e);else throw new Error("supsub must have either sup or sub.");var z=m6(l,"right")||"mord";return Fe.makeSpan([z],[l,Fe.makeSpan(["msupsub"],[Q])],e)},mathmlBuilder(t,e){var r=!1,n,s;t.base&&t.base.type==="horizBrace"&&(s=!!t.sup,s===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[cn(t.base,e)];t.sub&&a.push(cn(t.sub,e)),t.sup&&a.push(cn(t.sup,e));var l;if(r)l=n?"mover":"munder";else if(t.sub)if(t.sup){var f=t.base;f&&f.type==="op"&&f.limits&&e.style===Jt.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===Jt.DISPLAY||f.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===Jt.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===Jt.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Jt.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Jt.DISPLAY)?l="mover":l="msup"}return new ct.MathNode(l,a)}});Zu({type:"atom",htmlBuilder(t,e){return Fe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new ct.MathNode("mo",[mo(t.text,t.mode)]);if(t.family==="bin"){var n=o8(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var jne={mi:"italic",mn:"normal",mtext:"normal"};Zu({type:"mathord",htmlBuilder(t,e){return Fe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new ct.MathNode("mi",[mo(t.text,t.mode,e)]),n=o8(t,e)||"italic";return n!==jne[r.type]&&r.setAttribute("mathvariant",n),r}});Zu({type:"textord",htmlBuilder(t,e){return Fe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=mo(t.text,t.mode,e),n=o8(t,e)||"normal",s;return t.mode==="text"?s=new ct.MathNode("mtext",[r]):/[0-9]/.test(t.text)?s=new ct.MathNode("mn",[r]):t.text==="\\prime"?s=new ct.MathNode("mo",[r]):s=new ct.MathNode("mi",[r]),n!==jne[s.type]&&s.setAttribute("mathvariant",n),s}});var _3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},C3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Zu({type:"spacing",htmlBuilder(t,e){if(C3.hasOwnProperty(t.text)){var r=C3[t.text].className||"";if(t.mode==="text"){var n=Fe.makeOrd(t,e,"textord");return n.classes.push(r),n}else return Fe.makeSpan(["mspace",r],[Fe.mathsym(t.text,t.mode,e)],e)}else{if(_3.hasOwnProperty(t.text))return Fe.makeSpan(["mspace",_3[t.text]],[],e);throw new dt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(C3.hasOwnProperty(t.text))r=new ct.MathNode("mtext",[new ct.TextNode("")]);else{if(_3.hasOwnProperty(t.text))return new ct.MathNode("mspace");throw new dt('Unknown type of space "'+t.text+'"')}return r}});var cz=()=>{var t=new ct.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Zu({type:"tag",mathmlBuilder(t,e){var r=new ct.MathNode("mtable",[new ct.MathNode("mtr",[cz(),new ct.MathNode("mtd",[ph(t.body,e)]),cz(),new ct.MathNode("mtd",[ph(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var dz={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},hz={"\\textbf":"textbf","\\textmd":"textmd"},Nze={"\\textit":"textit","\\textup":"textup"},uz=(t,e)=>{var r=t.font;if(r){if(dz[r])return e.withTextFontFamily(dz[r]);if(hz[r])return e.withTextFontWeight(hz[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Nze[r])};St({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,s=e[0];return{type:"text",mode:r.mode,body:ti(s),font:n}},htmlBuilder(t,e){var r=uz(t,e),n=Ci(t.body,r,!0);return Fe.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=uz(t,e);return ph(t.body,r)}});St({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Fr(t.body,e),n=Fe.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,a=Fe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:s},{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:r}]},e);return Fe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new ct.MathNode("mo",[new ct.TextNode("")]);r.setAttribute("stretchy","true");var n=new ct.MathNode("munder",[cn(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});St({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Fr(t.body,e),n=e.fontMetrics().axisHeight,s=.5*(r.height-n-(r.depth+n));return Fe.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new ct.MathNode("mpadded",[cn(t.body,e)],["vcenter"])}});St({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new dt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=fz(t),n=[],s=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var l=r[a];l==="~"&&(l="\\textasciitilde"),n.push(Fe.makeSymbol(l,"Typewriter-Regular",t.mode,s,["mord","texttt"]))}return Fe.makeSpan(["mord","text"].concat(s.sizingClasses(e)),Fe.tryCombineChars(n),s)},mathmlBuilder(t,e){var r=new ct.TextNode(fz(t)),n=new ct.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var fz=t=>t.body.replace(/ /g,t.star?"":""),qd=lne,Fne=`[ \r
	]`,Bze="\\\\[a-zA-Z@]+",Ize="\\\\[^\uD800-\uDFFF]",jze="("+Bze+")"+Fne+"*",Fze=`\\\\(
|[ \r	]+
?)[ \r	]*`,k6="[-]",Lze=new RegExp(k6+"+$"),zze="("+Fne+"+)|"+(Fze+"|")+"([!-\\[\\]---]"+(k6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(k6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+jze)+("|"+Ize+")");class gz{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(zze,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Na("EOF",new la(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new dt("Unexpected character: '"+e[r]+"'",new Na(e[r],new la(this,r,r+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[s]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Na(s,new la(this,r,this.tokenRegex.lastIndex))}}class Xze{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new dt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var Vze=Ene;ge("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ge("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ge("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ge("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ge("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ge("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ge("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var pz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ge("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new dt("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=pz[e.text],n==null||n>=r)throw new dt("Invalid base-"+r+" digit "+e.text);for(var s;(s=pz[t.future().text])!=null&&s<r;)n*=r,n+=s,t.popToken()}return"\\@char{"+n+"}"});var O8=(t,e,r,n)=>{var s=t.consumeArg().tokens;if(s.length!==1)throw new dt("\\newcommand's first argument must be a macro name");var a=s[0].text,l=t.isDefined(a);if(l&&!e)throw new dt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!r)throw new dt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(s=t.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var h="",f=t.expandNextToken();f.text!=="]"&&f.text!=="EOF";)h+=f.text,f=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new dt("Invalid number of arguments: "+h);c=parseInt(h),s=t.consumeArg().tokens}return l&&n||t.macros.set(a,{tokens:s,numArgs:c}),""};ge("\\newcommand",t=>O8(t,!1,!0,!1));ge("\\renewcommand",t=>O8(t,!0,!1,!1));ge("\\providecommand",t=>O8(t,!0,!0,!0));ge("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});ge("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});ge("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),qd[r],gn.math[r],gn.text[r]),""});ge("\\bgroup","{");ge("\\egroup","}");ge("~","\\nobreakspace");ge("\\lq","`");ge("\\rq","'");ge("\\aa","\\r a");ge("\\AA","\\r A");ge("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ge("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ge("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ge("","\\mathscr{B}");ge("","\\mathscr{E}");ge("","\\mathscr{F}");ge("","\\mathscr{H}");ge("","\\mathscr{I}");ge("","\\mathscr{L}");ge("","\\mathscr{M}");ge("","\\mathscr{R}");ge("","\\mathfrak{C}");ge("","\\mathfrak{H}");ge("","\\mathfrak{Z}");ge("\\Bbbk","\\Bbb{k}");ge("","\\cdotp");ge("\\llap","\\mathllap{\\textrm{#1}}");ge("\\rlap","\\mathrlap{\\textrm{#1}}");ge("\\clap","\\mathclap{\\textrm{#1}}");ge("\\mathstrut","\\vphantom{(}");ge("\\underbar","\\underline{\\text{#1}}");ge("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ge("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ge("\\ne","\\neq");ge("","\\neq");ge("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ge("","\\notin");ge("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ge("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ge("","\\perp");ge("","\\mathclose{!\\mkern-0.8mu!}");ge("","\\notni");ge("","\\ulcorner");ge("","\\urcorner");ge("","\\llcorner");ge("","\\lrcorner");ge("","\\copyright");ge("","\\textregistered");ge("","\\textregistered");ge("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ge("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ge("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ge("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ge("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ge("","\\vdots");ge("\\varGamma","\\mathit{\\Gamma}");ge("\\varDelta","\\mathit{\\Delta}");ge("\\varTheta","\\mathit{\\Theta}");ge("\\varLambda","\\mathit{\\Lambda}");ge("\\varXi","\\mathit{\\Xi}");ge("\\varPi","\\mathit{\\Pi}");ge("\\varSigma","\\mathit{\\Sigma}");ge("\\varUpsilon","\\mathit{\\Upsilon}");ge("\\varPhi","\\mathit{\\Phi}");ge("\\varPsi","\\mathit{\\Psi}");ge("\\varOmega","\\mathit{\\Omega}");ge("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ge("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ge("\\boxed","\\fbox{$\\displaystyle{#1}$}");ge("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ge("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ge("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ge("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ge("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var mz={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ge("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in mz?e=mz[r]:(r.slice(0,4)==="\\not"||r in gn.math&&["bin","rel"].includes(gn.math[r].group))&&(e="\\dotsb"),e});var x8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ge("\\dotso",function(t){var e=t.future().text;return e in x8?"\\ldots\\,":"\\ldots"});ge("\\dotsc",function(t){var e=t.future().text;return e in x8&&e!==","?"\\ldots\\,":"\\ldots"});ge("\\cdots",function(t){var e=t.future().text;return e in x8?"\\@cdots\\,":"\\@cdots"});ge("\\dotsb","\\cdots");ge("\\dotsm","\\cdots");ge("\\dotsi","\\!\\cdots");ge("\\dotsx","\\ldots\\,");ge("\\DOTSI","\\relax");ge("\\DOTSB","\\relax");ge("\\DOTSX","\\relax");ge("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ge("\\,","\\tmspace+{3mu}{.1667em}");ge("\\thinspace","\\,");ge("\\>","\\mskip{4mu}");ge("\\:","\\tmspace+{4mu}{.2222em}");ge("\\medspace","\\:");ge("\\;","\\tmspace+{5mu}{.2777em}");ge("\\thickspace","\\;");ge("\\!","\\tmspace-{3mu}{.1667em}");ge("\\negthinspace","\\!");ge("\\negmedspace","\\tmspace-{4mu}{.2222em}");ge("\\negthickspace","\\tmspace-{5mu}{.277em}");ge("\\enspace","\\kern.5em ");ge("\\enskip","\\hskip.5em\\relax");ge("\\quad","\\hskip1em\\relax");ge("\\qquad","\\hskip2em\\relax");ge("\\tag","\\@ifstar\\tag@literal\\tag@paren");ge("\\tag@paren","\\tag@literal{({#1})}");ge("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new dt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ge("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ge("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ge("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ge("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ge("\\newline","\\\\\\relax");ge("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Lne=bt(Bl["Main-Regular"][84][1]-.7*Bl["Main-Regular"][65][1]);ge("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Lne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ge("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Lne+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ge("\\hspace","\\@ifstar\\@hspacer\\@hspace");ge("\\@hspace","\\hskip #1\\relax");ge("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ge("\\ordinarycolon",":");ge("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ge("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ge("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ge("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ge("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ge("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ge("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ge("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ge("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ge("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ge("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ge("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ge("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ge("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ge("","\\dblcolon");ge("","\\eqcolon");ge("","\\coloneqq");ge("","\\eqqcolon");ge("","\\Coloneqq");ge("\\ratio","\\vcentcolon");ge("\\coloncolon","\\dblcolon");ge("\\colonequals","\\coloneqq");ge("\\coloncolonequals","\\Coloneqq");ge("\\equalscolon","\\eqqcolon");ge("\\equalscoloncolon","\\Eqqcolon");ge("\\colonminus","\\coloneq");ge("\\coloncolonminus","\\Coloneq");ge("\\minuscolon","\\eqcolon");ge("\\minuscoloncolon","\\Eqcolon");ge("\\coloncolonapprox","\\Colonapprox");ge("\\coloncolonsim","\\Colonsim");ge("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ge("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ge("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ge("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ge("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ge("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ge("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ge("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ge("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ge("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ge("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ge("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ge("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ge("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ge("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ge("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ge("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ge("\\nleqq","\\html@mathml{\\@nleqq}{}");ge("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ge("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ge("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ge("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ge("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ge("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ge("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ge("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ge("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ge("\\imath","\\html@mathml{\\@imath}{}");ge("\\jmath","\\html@mathml{\\@jmath}{}");ge("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ge("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ge("","\\llbracket");ge("","\\rrbracket");ge("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ge("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ge("","\\lBrace");ge("","\\rBrace");ge("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ge("","\\minuso");ge("\\darr","\\downarrow");ge("\\dArr","\\Downarrow");ge("\\Darr","\\Downarrow");ge("\\lang","\\langle");ge("\\rang","\\rangle");ge("\\uarr","\\uparrow");ge("\\uArr","\\Uparrow");ge("\\Uarr","\\Uparrow");ge("\\N","\\mathbb{N}");ge("\\R","\\mathbb{R}");ge("\\Z","\\mathbb{Z}");ge("\\alef","\\aleph");ge("\\alefsym","\\aleph");ge("\\Alpha","\\mathrm{A}");ge("\\Beta","\\mathrm{B}");ge("\\bull","\\bullet");ge("\\Chi","\\mathrm{X}");ge("\\clubs","\\clubsuit");ge("\\cnums","\\mathbb{C}");ge("\\Complex","\\mathbb{C}");ge("\\Dagger","\\ddagger");ge("\\diamonds","\\diamondsuit");ge("\\empty","\\emptyset");ge("\\Epsilon","\\mathrm{E}");ge("\\Eta","\\mathrm{H}");ge("\\exist","\\exists");ge("\\harr","\\leftrightarrow");ge("\\hArr","\\Leftrightarrow");ge("\\Harr","\\Leftrightarrow");ge("\\hearts","\\heartsuit");ge("\\image","\\Im");ge("\\infin","\\infty");ge("\\Iota","\\mathrm{I}");ge("\\isin","\\in");ge("\\Kappa","\\mathrm{K}");ge("\\larr","\\leftarrow");ge("\\lArr","\\Leftarrow");ge("\\Larr","\\Leftarrow");ge("\\lrarr","\\leftrightarrow");ge("\\lrArr","\\Leftrightarrow");ge("\\Lrarr","\\Leftrightarrow");ge("\\Mu","\\mathrm{M}");ge("\\natnums","\\mathbb{N}");ge("\\Nu","\\mathrm{N}");ge("\\Omicron","\\mathrm{O}");ge("\\plusmn","\\pm");ge("\\rarr","\\rightarrow");ge("\\rArr","\\Rightarrow");ge("\\Rarr","\\Rightarrow");ge("\\real","\\Re");ge("\\reals","\\mathbb{R}");ge("\\Reals","\\mathbb{R}");ge("\\Rho","\\mathrm{P}");ge("\\sdot","\\cdot");ge("\\sect","\\S");ge("\\spades","\\spadesuit");ge("\\sub","\\subset");ge("\\sube","\\subseteq");ge("\\supe","\\supseteq");ge("\\Tau","\\mathrm{T}");ge("\\thetasym","\\vartheta");ge("\\weierp","\\wp");ge("\\Zeta","\\mathrm{Z}");ge("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ge("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ge("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ge("\\bra","\\mathinner{\\langle{#1}|}");ge("\\ket","\\mathinner{|{#1}\\rangle}");ge("\\braket","\\mathinner{\\langle{#1}\\rangle}");ge("\\Bra","\\left\\langle#1\\right|");ge("\\Ket","\\left|#1\\right\\rangle");var zne=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=O=>x=>{t&&(x.macros.set("|",l),s.length&&x.macros.set("\\|",c));var k=O;if(!O&&s.length){var w=x.future();w.text==="|"&&(x.popToken(),k=!0)}return{tokens:k?s:n,numArgs:0}};e.macros.set("|",h(!1)),s.length&&e.macros.set("\\|",h(!0));var f=e.consumeArg().tokens,p=e.expandTokens([...a,...f,...r]);return e.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};ge("\\bra@ket",zne(!1));ge("\\bra@set",zne(!0));ge("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ge("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ge("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ge("\\angln","{\\angl n}");ge("\\blue","\\textcolor{##6495ed}{#1}");ge("\\orange","\\textcolor{##ffa500}{#1}");ge("\\pink","\\textcolor{##ff00af}{#1}");ge("\\red","\\textcolor{##df0030}{#1}");ge("\\green","\\textcolor{##28ae7b}{#1}");ge("\\gray","\\textcolor{gray}{#1}");ge("\\purple","\\textcolor{##9d38bd}{#1}");ge("\\blueA","\\textcolor{##ccfaff}{#1}");ge("\\blueB","\\textcolor{##80f6ff}{#1}");ge("\\blueC","\\textcolor{##63d9ea}{#1}");ge("\\blueD","\\textcolor{##11accd}{#1}");ge("\\blueE","\\textcolor{##0c7f99}{#1}");ge("\\tealA","\\textcolor{##94fff5}{#1}");ge("\\tealB","\\textcolor{##26edd5}{#1}");ge("\\tealC","\\textcolor{##01d1c1}{#1}");ge("\\tealD","\\textcolor{##01a995}{#1}");ge("\\tealE","\\textcolor{##208170}{#1}");ge("\\greenA","\\textcolor{##b6ffb0}{#1}");ge("\\greenB","\\textcolor{##8af281}{#1}");ge("\\greenC","\\textcolor{##74cf70}{#1}");ge("\\greenD","\\textcolor{##1fab54}{#1}");ge("\\greenE","\\textcolor{##0d923f}{#1}");ge("\\goldA","\\textcolor{##ffd0a9}{#1}");ge("\\goldB","\\textcolor{##ffbb71}{#1}");ge("\\goldC","\\textcolor{##ff9c39}{#1}");ge("\\goldD","\\textcolor{##e07d10}{#1}");ge("\\goldE","\\textcolor{##a75a05}{#1}");ge("\\redA","\\textcolor{##fca9a9}{#1}");ge("\\redB","\\textcolor{##ff8482}{#1}");ge("\\redC","\\textcolor{##f9685d}{#1}");ge("\\redD","\\textcolor{##e84d39}{#1}");ge("\\redE","\\textcolor{##bc2612}{#1}");ge("\\maroonA","\\textcolor{##ffbde0}{#1}");ge("\\maroonB","\\textcolor{##ff92c6}{#1}");ge("\\maroonC","\\textcolor{##ed5fa6}{#1}");ge("\\maroonD","\\textcolor{##ca337c}{#1}");ge("\\maroonE","\\textcolor{##9e034e}{#1}");ge("\\purpleA","\\textcolor{##ddd7ff}{#1}");ge("\\purpleB","\\textcolor{##c6b9fc}{#1}");ge("\\purpleC","\\textcolor{##aa87ff}{#1}");ge("\\purpleD","\\textcolor{##7854ab}{#1}");ge("\\purpleE","\\textcolor{##543b78}{#1}");ge("\\mintA","\\textcolor{##f5f9e8}{#1}");ge("\\mintB","\\textcolor{##edf2df}{#1}");ge("\\mintC","\\textcolor{##e0e5cc}{#1}");ge("\\grayA","\\textcolor{##f6f7f7}{#1}");ge("\\grayB","\\textcolor{##f0f1f2}{#1}");ge("\\grayC","\\textcolor{##e3e5e6}{#1}");ge("\\grayD","\\textcolor{##d6d8da}{#1}");ge("\\grayE","\\textcolor{##babec2}{#1}");ge("\\grayF","\\textcolor{##888d93}{#1}");ge("\\grayG","\\textcolor{##626569}{#1}");ge("\\grayH","\\textcolor{##3b3e40}{#1}");ge("\\grayI","\\textcolor{##21242c}{#1}");ge("\\kaBlue","\\textcolor{##314453}{#1}");ge("\\kaGreen","\\textcolor{##71B307}{#1}");var Xne={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Uze{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new Xze(Vze,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new gz(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:s,end:n}=this.consumeArg(["]"])}else({tokens:s,start:r,end:n}=this.consumeArg());return this.pushToken(new Na("EOF",n.loc)),this.pushTokens(s),new Na("",la.range(r,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var s=this.future(),a,l=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new dt("Extra }",a)}else if(a.text==="EOF")throw new dt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[c]:"}")+"'",a);if(e&&n)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(l!==0||n);return s.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:s,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new dt("The length of delimiters doesn't match the number of args!");for(var n=r[0],s=0;s<n.length;s++){var a=this.popToken();if(n[s]!==a.text)throw new dt("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(r&&r[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new dt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,s=r.noexpand?null:this._getExpansion(n);if(s==null||e&&s.unexpandable){if(e&&s==null&&n[0]==="\\"&&!this.isDefined(n))throw new dt("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var a=s.tokens,l=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var h=a[c];if(h.text==="#"){if(c===0)throw new dt("Incomplete placeholder at end of macro body",h);if(h=a[--c],h.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(h.text))a.splice(c,2,...l[+h.text-1]);else throw new dt("Not a valid argument number",h)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Na(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),r.push(s)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var s=typeof r=="function"?r(this):r;if(typeof s=="string"){var a=0;if(s.indexOf("#")!==-1)for(var l=s.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new gz(s,this.settings),h=[],f=c.lex();f.text!=="EOF";)h.push(f),f=c.lex();h.reverse();var p={tokens:h,numArgs:a};return p}return s}isDefined(e){return this.macros.has(e)||qd.hasOwnProperty(e)||gn.math.hasOwnProperty(e)||gn.text.hasOwnProperty(e)||Xne.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:qd.hasOwnProperty(e)&&!qd[e].primitive}}var Oz=/^[]/,cv=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),A3={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},xz={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class yA{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Uze(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new dt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Na("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(yA.endOfExpression.indexOf(s.text)!==-1||r&&s.text===r||e&&qd[s.text]&&qd[s.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,s=0;s<e.length;s++)if(e[s].type==="infix"){if(r!==-1)throw new dt("only one infix operator per group",e[s].token);r=s,n=e[s].replaceWith}if(r!==-1&&n){var a,l,c=e.slice(0,r),h=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var f;return n==="\\\\abovefrac"?f=this.callFunction(n,[a,e[r],l],[]):f=this.callFunction(n,[a,l],[]),[f]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var s;do{var a;s=this.parseGroup(e)}while(((a=s)==null?void 0:a.type)==="internal");if(!s)throw new dt("Expected group after '"+n+"'",r);return s}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var s={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,s;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var l=a.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new dt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new dt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(s)throw new dt("Double subscript",a);s=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new dt("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:h}}else if(cv[a.text]){var f=Oz.test(a.text),p=[];for(p.push(new Na(cv[a.text])),this.consume();;){var O=this.fetch().text;if(!cv[O]||Oz.test(O)!==f)break;p.unshift(new Na(cv[O])),this.consume()}var x=this.subparse(p);f?s={type:"ordgroup",mode:"math",body:x}:n={type:"ordgroup",mode:"math",body:x}}else break}return n||s?{type:"supsub",mode:this.mode,base:r,sup:n,sub:s}:r}parseFunction(e,r){var n=this.fetch(),s=n.text,a=qd[s];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new dt("Got function '"+s+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new dt("Can't use function '"+s+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new dt("Can't use function '"+s+"' in math mode",n);var{args:l,optArgs:c}=this.parseArguments(s,a);return this.callFunction(s,l,c,n,e)}callFunction(e,r,n,s,a){var l={funcName:e,parser:this,token:s,breakOnTokenText:a},c=qd[e];if(c&&c.handler)return c.handler(l,r,n);throw new dt("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var s=[],a=[],l=0;l<n;l++){var c=r.argTypes&&r.argTypes[l],h=l<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)a.push(f);else if(f!=null)s.push(f);else throw new dt("Null argument, please report this as a bug")}return{args:s,optArgs:a}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var s=this.parseArgumentGroup(n,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new dt("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new dt("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new dt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var s="",a;(a=this.fetch()).text!=="EOF";)s+=a.text,this.consume();return this.consume(),n.text=s,n}parseRegexGroup(e,r){for(var n=this.fetch(),s=n,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)s=l,a+=s.text,this.consume();if(a==="")throw new dt("Invalid "+r+": '"+n.text+"'",n);return n.range(s,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new dt("Invalid color: '"+r.text+"'",r);var s=n[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!s)throw new dt("Invalid size: '"+r.text+"'",r);var a={number:+(s[1]+s[2]),unit:s[3]};if(!Jre(a))throw new dt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var s=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(s),l}parseGroup(e,r){var n=this.fetch(),s=n.text,a;if(s==="{"||s==="\\begingroup"){this.consume();var l=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:la.range(n,h),body:c,semisimple:s==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&s[0]==="\\"&&!Xne.hasOwnProperty(s)){if(this.settings.throwOnError)throw new dt("Undefined control sequence: "+s,n);a=this.formatUnsupportedCmd(s),this.consume()}return a}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var s=e[n],a=s.text;a==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:la.range(s,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:la.range(s,e[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:la.range(s,e[n+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),s=n.charAt(0)==="*";if(s&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new dt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:s}}xz.hasOwnProperty(r[0])&&!gn[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=xz[r[0]]+r.slice(1));var a=Lze.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var l;if(gn[this.mode][r]){this.settings.strict&&this.mode==="math"&&p6.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=gn[this.mode][r].group,h=la.range(e),f;if($Le.hasOwnProperty(c)){var p=c;f={type:"atom",mode:this.mode,family:p,loc:h,text:r}}else f={type:c,mode:this.mode,loc:h,text:r};l=f}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Hre(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:la.range(e),text:r};else return null;if(this.consume(),a)for(var O=0;O<a[0].length;O++){var x=a[0][O];if(!A3[x])throw new dt("Unknown accent ' "+x+"'",e);var k=A3[x][this.mode]||A3[x].text;if(!k)throw new dt("Accent "+x+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:la.range(e),label:k,isStretchy:!1,isShifty:!0,base:l}}return l}}yA.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var b8=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new yA(e,r);delete n.gullet.macros.current["\\df@tag"];var s=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new dt("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:n.subparse([new Na("\\df@tag")])}]}return s},k8=function(e,r,n){r.textContent="";var s=wA(e,n).toNode();r.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),k8=function(){throw new dt("KaTeX doesn't work in quirks mode.")});var y8=function(e,r){var n=wA(e,r).toMarkup();return n},Vne=function(e,r){var n=new t8(r);return b8(e,n)},Une=function(e,r,n){if(n.throwOnError||!(e instanceof dt))throw e;var s=Fe.makeSpan(["katex-error"],[new po(r)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+n.errorColor),s},wA=function(e,r){var n=new t8(r);try{var s=b8(e,n);return rze(s,e,n)}catch(a){return Une(a,e,n)}},qne=function(e,r){var n=new t8(r);try{var s=b8(e,n);return nze(s,e,n)}catch(a){return Une(a,e,n)}},Wne="0.16.25",Yne={Span:Gx,Anchor:i8,SymbolNode:po,SvgNode:ed,PathNode:gh,LineNode:g6},qze={version:Wne,render:k8,renderToString:y8,ParseError:dt,SETTINGS_SCHEMA:mO,__parse:Vne,__renderToDomTree:wA,__renderToHTMLTree:qne,__setFontMetrics:Kre,__defineSymbol:U,__defineFunction:St,__defineMacro:ge,__domTree:Yne};const Wze=Object.freeze(Object.defineProperty({__proto__:null,ParseError:dt,SETTINGS_SCHEMA:mO,__defineFunction:St,__defineMacro:ge,__defineSymbol:U,__domTree:Yne,__parse:Vne,__renderToDomTree:wA,__renderToHTMLTree:qne,__setFontMetrics:Kre,default:qze,get render(){return k8},renderToString:y8,version:Wne},Symbol.toStringTag,{value:"Module"})),S3={blank:{topic:"Central Topic",children:[]},project:{topic:"Project Plan",children:[{topic:"Planning",children:[{topic:"Requirements",children:[]},{topic:"Timeline",children:[]},{topic:"Resources",children:[]}]},{topic:"Design",children:[{topic:"UI/UX",children:[]},{topic:"Architecture",children:[]},{topic:"Database",children:[]}]},{topic:"Development",children:[{topic:"Frontend",children:[]},{topic:"Backend",children:[]},{topic:"Testing",children:[]}]}]}};function Yze({value:t,onChange:e,className:r="",readonly:n=!1}){const[s,a]=H.useState("project"),[l,c]=H.useState(null),[h,f]=H.useState(""),p=t?JSON.parse(t):S3[s],O=()=>{const P=p,Q=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),B=URL.createObjectURL(Q),R=document.createElement("a");R.href=B,R.download="mindmap.json",R.click(),URL.revokeObjectURL(B)},x=P=>{var B;const Q=(B=P.target.files)==null?void 0:B[0];if(Q){const R=new FileReader;R.onload=M=>{var I;try{const j=(I=M.target)==null?void 0:I.result,z=JSON.parse(j);e(j)}catch(j){console.error("Invalid mind map file:",j),alert("Invalid mind map file format")}},R.readAsText(Q)}},k=P=>{if(a(P),!n){const Q=S3[P];e(JSON.stringify(Q))}},w=()=>{if(!n){const P=S3[s];e(JSON.stringify(P))}},_=(P,Q)=>{n||(c(P),f(Q))},C=P=>{n||!h.trim()||(console.log("Save edit for node:",P,"with text:",h),c(null),f(""),e(JSON.stringify(p)))},T=()=>{c(null),f("")},E=(P,Q=0,B=0)=>{const R=`${Q}-${B}`,M=l===R;return b.jsxs("div",{className:`
          ${Q===0?"text-center":"ml-4"}
          ${Q>0?"border-l-2 border-gray-300 dark:border-gray-600 pl-4":""}
          my-2
        `,children:[M?b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),onKeyPress:I=>{I.key==="Enter"&&C(R),I.key==="Escape"&&T()},onBlur:()=>C(R),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",autoFocus:!0}),b.jsx("button",{onClick:()=>C(R),className:"p-1 text-green-600 hover:text-green-800",children:""}),b.jsx("button",{onClick:T,className:"p-1 text-red-600 hover:text-red-800",children:""})]}):b.jsxs("div",{className:"flex items-center space-x-2 group",children:[b.jsx("div",{className:`
                ${Q===0?"text-lg font-bold bg-blue-100 dark:bg-blue-900 px-4 py-2 rounded-lg":"text-base bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-md"}
                ${n?"":"cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700"}
              `,onClick:()=>!n&&_(R,P.topic),children:P.topic}),!n&&b.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-1",children:[b.jsx("button",{onClick:()=>_(R,P.topic),className:"p-1 text-gray-500 hover:text-blue-600",title:"Edit",children:b.jsx(Nf,{className:"w-3 h-3"})}),b.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",title:"Add child",children:b.jsx(co,{className:"w-3 h-3"})}),Q>0&&b.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",title:"Delete",children:b.jsx(Ul,{className:"w-3 h-3"})})]})]}),P.children&&P.children.length>0&&b.jsx("div",{className:"mt-2",children:P.children.map((I,j)=>E(I,Q+1,j))})]},R)};return b.jsxs("div",{className:`h-full flex flex-col ${r}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(il,{className:"w-5 h-5 text-blue-600"}),b.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Mind Map Editor"}),b.jsxs("select",{value:s,onChange:P=>k(P.target.value),disabled:n,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50 ml-4",children:[b.jsx("option",{value:"project",children:"Project Plan"}),b.jsx("option",{value:"blank",children:"Blank"})]}),!n&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:w,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Reset to template",children:b.jsx(qc,{className:"w-4 h-4"})}),b.jsxs("label",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors cursor-pointer",children:[b.jsx(cf,{className:"w-4 h-4"}),b.jsx("input",{type:"file",accept:".json",onChange:x,className:"hidden"})]}),b.jsx("button",{onClick:O,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Export as JSON",children:b.jsx(es,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:n?"Read Only":"Editable"})]}),b.jsx("div",{className:"flex-1 overflow-auto p-4 bg-white dark:bg-gray-900",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:E(p)})}),b.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[b.jsxs("p",{className:"mb-1",children:[b.jsx("strong",{children:"Instructions:"}),n?b.jsx(b.Fragment,{children:" Mind map is in read-only mode"}):b.jsx(b.Fragment,{children:" Click on text to edit, use the + button to add child nodes"})]}),b.jsxs("p",{className:"flex items-center space-x-4",children:[b.jsx("span",{children:" Click text to edit nodes"}),b.jsx("span",{children:" Templates available for quick start"}),b.jsx("span",{children:" Export/Import mind map data"})]})]})})]})}const bz={"rich-text":{title:"Rich Text",icon:kU,description:"Formatted text with images, tables, and links",color:"text-blue-600 bg-blue-100 dark:bg-blue-900 dark:text-blue-300"},code:{title:"Code",icon:EO,description:"Source code with syntax highlighting",color:"text-green-600 bg-green-100 dark:bg-green-900 dark:text-green-300"},"syntax-highlight":{title:"Syntax Highlight",icon:B1e,description:"Syntax highlighted code blocks",color:"text-purple-600 bg-purple-100 dark:bg-purple-900 dark:text-purple-300"},"mind-map":{title:"Mind Map",icon:il,description:"Interactive mind mapping with drag and drop",color:"text-pink-600 bg-pink-100 dark:bg-pink-900 dark:text-pink-300"},mermaid:{title:"Mermaid",icon:zu,description:"Flowcharts, diagrams, and visualizations",color:"text-orange-600 bg-orange-100 dark:bg-orange-900 dark:text-orange-300"},math:{title:"Math",icon:aU,description:"LaTeX mathematical expressions",color:"text-indigo-600 bg-indigo-100 dark:bg-indigo-900 dark:text-indigo-300"}};function kn({icon:t,label:e,isActive:r=!1,disabled:n=!1,onClick:s,keyboardShortcut:a,variant:l="ghost",size:c="sm"}){return b.jsxs("button",{onClick:s,disabled:n,title:`${e}${a?` (${a})`:""}`,className:`
        inline-flex items-center justify-center rounded-md transition-colors
        ${c==="icon"?"w-8 h-8":"px-2 py-1"}
        ${l==="outline"?"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700":l==="ghost"?"hover:bg-gray-100 dark:hover:bg-gray-800":"bg-blue-600 text-white hover:bg-blue-700"}
        ${r?"bg-blue-500 text-white dark:bg-blue-600":"text-gray-700 dark:text-gray-300"}
        ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        text-xs sm:text-sm
      `,children:[b.jsx("span",{className:c==="icon"?"w-4 h-4":"w-3 h-3 mr-1",children:t}),c!=="icon"&&b.jsx("span",{className:"hidden sm:inline",children:e})]})}function Zze({mode:t,onModeChange:e,language:r,onLanguageChange:n,title:s,onTitleChange:a,isFullscreen:l,onToggleFullscreen:c,onExport:h,onSave:f,settings:p,onSettingsChange:O,showSettings:x,onToggleSettings:k,showKeyboardShortcuts:w,onToggleKeyboardShortcuts:_,isPreview:C,onTogglePreview:T,undo:E,redo:P,canUndo:Q,canRedo:B,search:R,replace:M,zoomIn:I,zoomOut:j,resetZoom:z,copy:X,paste:W,find:F,className:V=""}){const[te,G]=H.useState(!1),[J,oe]=H.useState(s||"");H.useEffect(()=>{te||oe(s||"")},[s,te]);const ie=H.useCallback(K=>{e(K)},[e]),be=H.useCallback(()=>{oe(s||""),G(!0)},[s]),he=H.useCallback(()=>{J.trim()&&J!==s&&(a==null||a(J.trim())),G(!1)},[J,s,a]),re=H.useCallback(()=>{oe(s||""),G(!1)},[s]),ae=H.useCallback(K=>{if(K.ctrlKey||K.metaKey)switch(K.key){case"s":K.preventDefault(),f==null||f();break;case"z":K.shiftKey||(K.preventDefault(),E==null||E());break;case"y":case"Z":K.preventDefault(),P==null||P();break;case"f":K.preventDefault(),F==null||F();break;case"h":K.preventDefault(),M==null||M();break;case"=":case"+":K.preventDefault(),I==null||I();break;case"-":K.preventDefault(),j==null||j();break;case"0":K.preventDefault(),z==null||z();break;case"c":K.preventDefault(),X==null||X();break;case"v":K.preventDefault(),W==null||W();break}},[f,E,P,F,M,I,j,z,X,W]);return H.useEffect(()=>(document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)),[ae]),b.jsxs("div",{className:`border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 ${V}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3",children:[b.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-1 min-w-0",children:[b.jsx("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:te?b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"text",value:J,onChange:K=>oe(K.target.value),onKeyDown:K=>{K.key==="Enter"&&he(),K.key==="Escape"&&re()},onBlur:he,className:"text-sm sm:text-base font-medium bg-transparent text-gray-900 dark:text-white border-none outline-none focus:ring-2 focus:ring-blue-500 rounded px-2 py-1 max-w-xs",placeholder:"Document title...",autoFocus:!0}),b.jsx("button",{onClick:he,className:"p-1 hover:bg-green-100 dark:hover:bg-green-800 rounded transition-colors",title:"Save title",children:b.jsx(q6,{className:"w-4 h-4 text-green-600"})}),b.jsx("button",{onClick:re,className:"p-1 hover:bg-red-100 dark:hover:bg-red-800 rounded transition-colors",title:"Cancel",children:b.jsx(Ii,{className:"w-4 h-4 text-red-600"})})]}):b.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[b.jsx("h2",{onClick:be,className:"text-sm sm:text-base font-medium text-gray-900 dark:text-white cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate",title:"Click to edit title",children:s||"Untitled Document"}),b.jsx("button",{onClick:be,className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-all",title:"Edit title",children:b.jsx(Nf,{className:"w-3 h-3 text-gray-500 hover:text-gray-700"})})]})}),b.jsx("div",{className:"hidden lg:flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:Object.entries(bz).map(([K,ce])=>{const ye=ce.icon,ke=t===K;return b.jsxs("button",{onClick:()=>ie(K),className:`inline-flex items-center px-2 py-1.5 rounded-md text-xs font-medium transition-colors ${ke?`${ce.color} shadow-sm`:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,title:ce.description,children:[b.jsx(ye,{className:"w-3 h-3 mr-1"}),ce.title]},K)})}),b.jsx("div",{className:"lg:hidden flex items-center space-x-1",children:b.jsx("select",{value:t,onChange:K=>ie(K.target.value),className:"text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-2 py-1",children:Object.entries(bz).map(([K,ce])=>b.jsx("option",{value:K,children:ce.title},K))})})]}),b.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[b.jsxs("div",{className:"hidden sm:flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(wU,{className:"w-3 h-3"}),label:"Undo",disabled:!Q,onClick:E||(()=>{}),keyboardShortcut:"Ctrl+Z"}),b.jsx(kn,{icon:b.jsx(mU,{className:"w-3 h-3"}),label:"Redo",disabled:!B,onClick:P||(()=>{}),keyboardShortcut:"Ctrl+Y"})]}),b.jsxs("div",{className:"hidden sm:flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(ao,{className:"w-3 h-3"}),label:"Find",onClick:F||(()=>{}),keyboardShortcut:"Ctrl+F"}),b.jsx(kn,{icon:b.jsx(OU,{className:"w-3 h-3"}),label:"Replace",onClick:M||(()=>{}),keyboardShortcut:"Ctrl+H"})]}),(t==="mermaid"||t==="math"||t==="syntax-highlight")&&b.jsx(kn,{icon:C?b.jsx(Z6,{className:"w-3 h-3"}):b.jsx(yh,{className:"w-3 h-3"}),label:C?"Code":"Preview",onClick:T||(()=>{}),isActive:C}),b.jsx(kn,{icon:b.jsx(Ma,{className:"w-3 h-3"}),label:"Settings",onClick:k||(()=>{}),isActive:x}),b.jsx(kn,{icon:b.jsx(cU,{className:"w-3 h-3"}),label:"Shortcuts",onClick:_||(()=>{}),isActive:w}),b.jsxs("div",{className:"hidden sm:flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(vC,{className:"w-3 h-3"}),label:"Save",onClick:f||(()=>{}),keyboardShortcut:"Ctrl+S"}),b.jsx(kn,{icon:b.jsx(es,{className:"w-3 h-3"}),label:"Export",onClick:h||(()=>{})})]}),c&&b.jsx(kn,{icon:l?b.jsx(G6,{className:"w-3 h-3"}):b.jsx(wC,{className:"w-3 h-3"}),label:l?"Exit Fullscreen":"Fullscreen",onClick:c})]})]}),b.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 p-2",children:b.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[(t==="code"||t==="syntax-highlight")&&b.jsxs(b.Fragment,{children:[b.jsxs("select",{value:r||"javascript",onChange:K=>n==null?void 0:n(K.target.value),className:"text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-2 py-1",children:[b.jsx("option",{value:"javascript",children:"JavaScript"}),b.jsx("option",{value:"typescript",children:"TypeScript"}),b.jsx("option",{value:"python",children:"Python"}),b.jsx("option",{value:"java",children:"Java"}),b.jsx("option",{value:"cpp",children:"C++"}),b.jsx("option",{value:"c",children:"C"}),b.jsx("option",{value:"csharp",children:"C#"}),b.jsx("option",{value:"go",children:"Go"}),b.jsx("option",{value:"rust",children:"Rust"}),b.jsx("option",{value:"html",children:"HTML"}),b.jsx("option",{value:"css",children:"CSS"}),b.jsx("option",{value:"json",children:"JSON"}),b.jsx("option",{value:"yaml",children:"YAML"}),b.jsx("option",{value:"xml",children:"XML"}),b.jsx("option",{value:"markdown",children:"Markdown"}),b.jsx("option",{value:"sql",children:"SQL"}),b.jsx("option",{value:"bash",children:"Bash"})]}),b.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"})]}),t==="rich-text"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(sU,{className:"w-3 h-3"}),label:"Bold",keyboardShortcut:"Ctrl+B",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(lU,{className:"w-3 h-3"}),label:"Italic",keyboardShortcut:"Ctrl+I",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(yU,{className:"w-3 h-3"}),label:"Underline",keyboardShortcut:"Ctrl+U",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(tOe,{className:"w-3 h-3"}),label:"Strikethrough",onClick:()=>{}})]}),b.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(fU,{className:"w-3 h-3"}),label:"Bullet List",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(uU,{className:"w-3 h-3"}),label:"Numbered List",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(Z1e,{className:"w-3 h-3"}),label:"Quote",onClick:()=>{}})]}),b.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(Rf,{className:"w-3 h-3"}),label:"Link",keyboardShortcut:"Ctrl+K",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(X1e,{className:"w-3 h-3"}),label:"Image",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(xU,{className:"w-3 h-3"}),label:"Table",onClick:()=>{}})]})]}),t==="mermaid"&&b.jsxs(b.Fragment,{children:[b.jsxs("select",{onChange:K=>{K.target.value},className:"text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-2 py-1",children:[b.jsx("option",{value:"",children:"Templates..."}),b.jsx("option",{value:"flowchart",children:"Flowchart"}),b.jsx("option",{value:"sequence",children:"Sequence Diagram"}),b.jsx("option",{value:"gantt",children:"Gantt Chart"}),b.jsx("option",{value:"state",children:"State Diagram"}),b.jsx("option",{value:"journey",children:"User Journey"}),b.jsx("option",{value:"gitgraph",children:"Git Graph"})]}),b.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),b.jsx(kn,{icon:b.jsx(qc,{className:"w-3 h-3"}),label:"Render",onClick:()=>{}}),b.jsx(kn,{icon:b.jsx(_C,{className:"w-3 h-3"}),label:"Auto-layout",onClick:()=>{}})]}),t==="math"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex items-center space-x-1 text-xs text-gray-600 dark:text-gray-400",children:b.jsx("span",{children:"LaTeX:"})}),b.jsx("button",{className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:"  "}),b.jsx("button",{className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:"   "}),b.jsx("button",{className:"text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-100 dark:hover:bg-gray-700",children:"  "})]}),b.jsxs("div",{className:"ml-auto flex items-center space-x-1",children:[b.jsx(kn,{icon:b.jsx(_U,{className:"w-3 h-3"}),label:"Zoom Out",onClick:j||(()=>{}),keyboardShortcut:"Ctrl+-"}),b.jsx(kn,{icon:b.jsx(vU,{className:"w-3 h-3"}),label:"Zoom In",onClick:I||(()=>{}),keyboardShortcut:"Ctrl+="}),b.jsx(kn,{icon:b.jsx(pU,{className:"w-3 h-3"}),label:"Reset Zoom",onClick:z||(()=>{}),keyboardShortcut:"Ctrl+0"})]})]})})]})}const kz=[{id:"general",title:"General",description:"Basic editor preferences and behavior",icon:b.jsx(Ma,{className:"w-4 h-4"}),settings:[{key:"theme",label:"Editor Theme",description:"Choose your preferred color theme",type:"select",options:["light","dark","system"]},{key:"autoSave",label:"Auto Save",description:"Automatically save changes to the document",type:"boolean"},{key:"autoSaveInterval",label:"Auto Save Interval",description:"How often to auto-save (in seconds)",type:"number",min:5,max:300,unit:"seconds"},{key:"livePreview",label:"Live Preview",description:"Show real-time preview while editing",type:"boolean"},{key:"enableSpellCheck",label:"Spell Check",description:"Enable spell checking and auto-correction",type:"boolean"}]},{id:"appearance",title:"Appearance",description:"Visual settings and layout preferences",icon:b.jsx(W1e,{className:"w-4 h-4"}),settings:[{key:"fontSize",label:"Font Size",description:"Size of the editor font",type:"range",min:10,max:24,unit:"px"},{key:"lineHeight",label:"Line Height",description:"Vertical spacing between lines",type:"range",min:1.2,max:2,step:.1},{key:"showLineNumbers",label:"Line Numbers",description:"Show line numbers in the gutter",type:"boolean"},{key:"showMinimap",label:"Minimap",description:"Show a mini overview of the document",type:"boolean"},{key:"highlightActiveLine",label:"Highlight Active Line",description:"Highlight the line where the cursor is",type:"boolean"},{key:"showWhitespace",label:"Show Whitespace",description:"Display invisible characters (spaces, tabs)",type:"boolean"},{key:"showRuler",label:"Show Ruler",description:"Show a vertical ruler at the specified column",type:"boolean"},{key:"printMarginColumn",label:"Print Margin",description:"Column where to show the print margin",type:"number",min:80,max:120}]},{id:"editing",title:"Editing",description:"Text editing and code assistance features",icon:b.jsx(EO,{className:"w-4 h-4"}),settings:[{key:"enableWordWrap",label:"Word Wrap",description:"Automatically wrap long lines",type:"boolean"},{key:"tabSize",label:"Tab Size",description:"Number of spaces per tab",type:"number",min:1,max:8},{key:"indentSize",label:"Indent Size",description:"Number of spaces per indent",type:"number",min:1,max:8},{key:"useSpaces",label:"Insert Spaces",description:"Use spaces instead of tabs for indentation",type:"boolean"},{key:"enableAutoIndent",label:"Auto Indent",description:"Automatically indent new lines",type:"boolean"},{key:"autoCloseBrackets",label:"Auto Close Brackets",description:"Automatically close brackets, quotes, etc.",type:"boolean"},{key:"enableBracketMatching",label:"Bracket Matching",description:"Highlight matching brackets and quotes",type:"boolean"},{key:"enableEmmet",label:"Emmet Support",description:"Enable Emmet abbreviations for HTML/CSS",type:"boolean"},{key:"enableCodeFolding",label:"Code Folding",description:"Allow collapsing code blocks",type:"boolean"},{key:"enableLiveAutocomplete",label:"Live Autocomplete",description:"Show autocomplete suggestions while typing",type:"boolean"}]},{id:"code",title:"Code Editor",description:"Specific settings for code editing modes",icon:b.jsx(Yr,{className:"w-4 h-4"}),settings:[{key:"syntaxHighlight",label:"Syntax Highlighting",description:"Enable syntax highlighting for code",type:"boolean"},{key:"highlightSelectionMatches",label:"Highlight Matches",description:"Highlight all occurrences of selected text",type:"boolean"},{key:"showGutter",label:"Show Gutter",description:"Show the editor gutter with line numbers and fold widgets",type:"boolean"},{key:"showFoldWidgets",label:"Fold Widgets",description:"Show fold/collapse widgets in the gutter",type:"boolean"},{key:"highlightGutterLine",label:"Highlight Gutter Line",description:"Highlight the line in the gutter where the cursor is",type:"boolean"},{key:"showInvisiblesChar",label:"Show Invisible Characters",description:"Display dots or arrows for tabs, spaces, and line endings",type:"boolean"},{key:"enableAnimateScrolling",label:"Animate Scrolling",description:"Smooth scrolling when moving the cursor",type:"boolean"},{key:"showPrintMargin",label:"Show Print Margin",description:"Show a visual margin for printing",type:"boolean"}]},{id:"mode-specific",title:"Mode Specific",description:"Settings specific to the current editing mode",icon:b.jsx(Y1e,{className:"w-4 h-4"}),settings:[{key:"mermaidTheme",label:"Mermaid Theme",description:"Theme for Mermaid diagrams",type:"select",options:["default","forest","dark","neutral","base","earth"]},{key:"mathPreview",label:"Math Preview",description:"Show real-time preview of LaTeX math expressions",type:"boolean"},{key:"showPreview",label:"Show Preview",description:"Show split view with preview panel",type:"boolean"}]},{id:"accessibility",title:"Accessibility",description:"Settings to improve accessibility and usability",icon:b.jsx(yh,{className:"w-4 h-4"}),settings:[{key:"enableAutoCorrect",label:"Auto Correct",description:"Automatically correct common typing mistakes",type:"boolean"},{key:"showIndentGuides",label:"Indent Guides",description:"Show visual guides for indentation levels",type:"boolean"},{key:"enableSmartIndent",label:"Smart Indent",description:"Intelligently handle indentation based on context",type:"boolean"}]}],Zne={autoSave:!0,autoSaveInterval:30,theme:"system",fontSize:14,lineHeight:1.5,showLineNumbers:!0,showMinimap:!1,enableWordWrap:!0,enableVimMode:!1,tabSize:2,indentSize:2,useSpaces:!0,enableEmmet:!0,livePreview:!0,showPreview:!1,mermaidTheme:"default",mathPreview:!0,syntaxHighlight:!0,showRuler:!1,highlightActiveLine:!0,highlightSelectionMatches:!1,autoCloseBrackets:!0,showInvisibles:!1,darkMode:!1,showCodeFolding:!0,placeholder:"Start typing...",enableSpellCheck:!0,enableAutoCorrect:!1,enableLineWrapping:!0,showIndentGuides:!1,showWhitespace:!1,highlightCurrentLine:!0,enableCodeFolding:!0,showFoldWidgets:!0,enableBracketMatching:!0,enableAutoIndent:!0,showPrintMargin:!1,printMarginColumn:80,enableLiveAutocomplete:!0,showGutter:!0,enableSmartIndent:!0,showInvisiblesChar:!1,enableAnimateScrolling:!0,highlightGutterLine:!0};function Gze({isOpen:t,onClose:e,settings:r,onSettingsChange:n,onResetSettings:s,onSaveSettings:a,currentMode:l,className:c=""}){const[h,f]=H.useState(new Set(["general"])),[p,O]=H.useState(!1),[x,k]=H.useState(r);Go.useEffect(()=>{k(r),O(!1)},[r,t]);const w=H.useCallback(B=>{f(R=>{const M=new Set(R);return M.has(B)?M.delete(B):M.add(B),M})},[]),_=H.useCallback((B,R)=>{k(M=>({...M,[B]:R})),O(!0)},[]),C=H.useCallback(()=>{n(x),O(!1)},[x,n]),T=H.useCallback(()=>{k(Zne),O(!0)},[]),E=H.useCallback(()=>{C(),a==null||a(),e()},[C,a,e]),P=B=>{var M;const R=x[B.key];switch(B.type){case"boolean":return b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:R,onChange:I=>_(B.key,I.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700"}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:R?"Enabled":"Disabled"})]});case"number":return b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"number",value:R,onChange:I=>_(B.key,parseInt(I.target.value)),min:B.min,max:B.max,className:"flex-1 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),B.unit&&b.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:B.unit})]});case"select":return b.jsx("select",{value:R,onChange:I=>_(B.key,I.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:(M=B.options)==null?void 0:M.map(I=>b.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))});case"range":return b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"range",value:R,onChange:I=>_(B.key,parseFloat(I.target.value)),min:B.min,max:B.max,step:B.step||1,className:"w-full"}),b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[b.jsxs("span",{children:[B.min,B.unit||""]}),b.jsxs("span",{className:"font-medium",children:[R,B.unit||""]}),b.jsxs("span",{children:[B.max,B.unit||""]})]})]});case"color":return b.jsx("input",{type:"color",value:R,onChange:I=>_(B.key,I.target.value),className:"w-full h-8 border border-gray-300 dark:border-gray-600 rounded"});default:return null}},Q=B=>{switch(B){case"light":return b.jsx(J6,{className:"w-4 h-4"});case"dark":return b.jsx(H6,{className:"w-4 h-4"});case"system":return b.jsx(pU,{className:"w-4 h-4"});default:return b.jsx(Ma,{className:"w-4 h-4"})}};return t?b.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ${c}`,children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Ma,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Editor Settings"}),p&&b.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 rounded",children:"Unsaved changes"})]}),b.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:b.jsx(Ii,{className:"w-5 h-5 text-gray-500"})})]}),b.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[b.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 p-4 overflow-y-auto",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Categories"}),b.jsx("nav",{className:"space-y-1",children:kz.map(B=>b.jsxs("button",{onClick:()=>w(B.id),className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:[h.has(B.id)?b.jsx(Zi,{className:"w-4 h-4"}):b.jsx(W6,{className:"w-4 h-4"}),B.icon,b.jsx("span",{children:B.title})]},B.id))})]}),b.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:b.jsx("div",{className:"space-y-6",children:kz.map(B=>b.jsxs("div",{className:h.has(B.id)?"":"hidden",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[B.icon,b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:B.title})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:B.description}),b.jsx("div",{className:"space-y-4",children:B.settings.map(R=>b.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.label}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:R.description})]}),R.key==="theme"&&b.jsx("div",{className:"ml-2",children:Q(x[R.key])})]}),b.jsx("div",{className:"mt-3",children:P(R)})]},R.key))})]},B.id))})})]}),b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between",children:[b.jsx("div",{className:"flex items-center space-x-2",children:b.jsxs("button",{onClick:T,className:"inline-flex items-center px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:[b.jsx(qc,{className:"w-4 h-4 mr-1"}),"Reset to Defaults"]})}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),b.jsxs("button",{onClick:E,disabled:!p,className:"inline-flex items-center px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(vC,{className:"w-4 h-4 mr-1"}),"Save & Close"]})]})]})]})}):null}const T3=[{key:"Ctrl+S",description:"Save document",category:"File",icon:b.jsx(vC,{className:"w-4 h-4"})},{key:"Ctrl+O",description:"Open document",category:"File",icon:b.jsx(Yr,{className:"w-4 h-4"})},{key:"Ctrl+N",description:"New document",category:"File",icon:b.jsx(Yr,{className:"w-4 h-4"})},{key:"Ctrl+P",description:"Print document",category:"File",icon:b.jsx(Yr,{className:"w-4 h-4"})},{key:"Ctrl+Z",description:"Undo",category:"Edit",icon:b.jsx(wU,{className:"w-4 h-4"})},{key:"Ctrl+Y",description:"Redo",category:"Edit",icon:b.jsx(mU,{className:"w-4 h-4"})},{key:"Ctrl+X",description:"Cut",category:"Edit",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Ctrl+C",description:"Copy",category:"Edit",icon:b.jsx(sB,{className:"w-4 h-4"})},{key:"Ctrl+V",description:"Paste",category:"Edit",icon:b.jsx(N1e,{className:"w-4 h-4"})},{key:"Ctrl+A",description:"Select All",category:"Edit",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Ctrl+D",description:"Duplicate Line",category:"Edit",icon:b.jsx(sB,{className:"w-4 h-4"})},{key:"Ctrl+L",description:"Select Line",category:"Edit",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Shift+Delete",description:"Delete Line",category:"Edit",icon:b.jsx(I1e,{className:"w-4 h-4"})},{key:"Ctrl+F",description:"Find",category:"Search",icon:b.jsx(ao,{className:"w-4 h-4"})},{key:"Ctrl+H",description:"Replace",category:"Search",icon:b.jsx(OU,{className:"w-4 h-4"})},{key:"F3",description:"Find Next",category:"Search",icon:b.jsx(ao,{className:"w-4 h-4"})},{key:"Shift+F3",description:"Find Previous",category:"Search",icon:b.jsx(ao,{className:"w-4 h-4"})},{key:"Ctrl+G",description:"Go to Line",category:"Search",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Ctrl++",description:"Zoom In",category:"View",icon:b.jsx(vU,{className:"w-4 h-4"})},{key:"Ctrl+-",description:"Zoom Out",category:"View",icon:b.jsx(_U,{className:"w-4 h-4"})},{key:"Ctrl+0",description:"Reset Zoom",category:"View",icon:b.jsx(qc,{className:"w-4 h-4"})},{key:"F11",description:"Toggle Fullscreen",category:"View",icon:b.jsx(wC,{className:"w-4 h-4"})},{key:"Ctrl+Shift+W",description:"Toggle Word Wrap",category:"View",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Ctrl+1",description:"Rich Text Mode",category:"Modes",icon:b.jsx(kU,{className:"w-4 h-4"})},{key:"Ctrl+2",description:"Code Mode",category:"Modes",icon:b.jsx(EO,{className:"w-4 h-4"})},{key:"Ctrl+3",description:"Syntax Highlight Mode",category:"Modes",icon:b.jsx(EO,{className:"w-4 h-4"})},{key:"Ctrl+4",description:"Mermaid Mode",category:"Modes",icon:b.jsx(zu,{className:"w-4 h-4"})},{key:"Ctrl+5",description:"Math Mode",category:"Modes",icon:b.jsx(aU,{className:"w-4 h-4"})},{key:"Ctrl+6",description:"Mind Map Mode",category:"Modes",icon:b.jsx(il,{className:"w-4 h-4"})},{key:"Ctrl+B",description:"Bold",category:"Formatting",icon:b.jsx(sU,{className:"w-4 h-4"})},{key:"Ctrl+I",description:"Italic",category:"Formatting",icon:b.jsx(lU,{className:"w-4 h-4"})},{key:"Ctrl+U",description:"Underline",category:"Formatting",icon:b.jsx(yU,{className:"w-4 h-4"})},{key:"Ctrl+K",description:"Insert Link",category:"Formatting",icon:b.jsx(Rf,{className:"w-4 h-4"})},{key:"Ctrl+Shift+S",description:"Strikethrough",category:"Formatting",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Ctrl+Shift+L",description:"Bulleted List",category:"Formatting",icon:b.jsx(fU,{className:"w-4 h-4"})},{key:"Ctrl+Shift+O",description:"Numbered List",category:"Formatting",icon:b.jsx(uU,{className:"w-4 h-4"})},{key:"Ctrl+T",description:"Insert Table",category:"Formatting",icon:b.jsx(xU,{className:"w-4 h-4"})},{key:"Ctrl+Shift+P",description:"Toggle Preview",category:"View",icon:b.jsx(yh,{className:"w-4 h-4"})},{key:"Ctrl+Shift+E",description:"Toggle Editor",category:"View",icon:b.jsx(Z6,{className:"w-4 h-4"})},{key:"Ctrl+/",description:"Toggle Comment",category:"Code",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Shift+Alt+A",description:"Block Comment",category:"Code",icon:b.jsx(bc,{className:"w-4 h-4"})},{key:"Tab",description:"Indent Line",category:"Code",icon:null},{key:"Shift+Tab",description:"Outdent Line",category:"Code",icon:null},{key:"Ctrl+Shift+M",description:"Render Mermaid",category:"Mermaid",icon:b.jsx(Y3,{className:"w-4 h-4"})},{key:"Ctrl+Shift+A",description:"Auto-layout Mermaid",category:"Mermaid",icon:b.jsx(_C,{className:"w-4 h-4"})},{key:"Home",description:"Start of Line",category:"Navigation",icon:b.jsx(gw,{className:"w-4 h-4"})},{key:"End",description:"End of Line",category:"Navigation",icon:b.jsx(gw,{className:"w-4 h-4"})},{key:"Ctrl+Home",description:"Start of Document",category:"Navigation",icon:b.jsx(gw,{className:"w-4 h-4"})},{key:"Ctrl+End",description:"End of Document",category:"Navigation",icon:b.jsx(gw,{className:"w-4 h-4"})},{key:"Page Up",description:"Page Up",category:"Navigation",icon:b.jsx(iB,{className:"w-4 h-4"})},{key:"Page Down",description:"Page Down",category:"Navigation",icon:b.jsx(nB,{className:"w-4 h-4"})},{key:"Shift+Arrow Left",description:"Select Left Character",category:"Selection",icon:b.jsx(V6,{className:"w-4 h-4"})},{key:"Shift+Arrow Right",description:"Select Right Character",category:"Selection",icon:b.jsx(U6,{className:"w-4 h-4"})},{key:"Shift+Arrow Up",description:"Select Up Line",category:"Selection",icon:b.jsx(iB,{className:"w-4 h-4"})},{key:"Shift+Arrow Down",description:"Select Down Line",category:"Selection",icon:b.jsx(nB,{className:"w-4 h-4"})},{key:"Escape",description:"Close Dialog/Escape",category:"Generic",icon:null},{key:"F1",description:"Help",category:"Generic",icon:b.jsx(Ma,{className:"w-4 h-4"})},{key:"Ctrl+Q",description:"Quit/Close",category:"Generic",icon:b.jsx(Ii,{className:"w-4 h-4"})}],yz=["File","Edit","Search","View","Modes","Formatting","Code","Mermaid","Navigation","Selection","Generic"];function Hze({isOpen:t,onClose:e,currentMode:r="rich-text",className:n=""}){const[s,a]=H.useState(""),[l,c]=H.useState("All"),h=T3.filter(O=>{const x=O.description.toLowerCase().includes(s.toLowerCase())||O.key.toLowerCase().includes(s.toLowerCase()),k=l==="All"||O.category===l;return x&&k}),f=h.reduce((O,x)=>(O[x.category]||(O[x.category]=[]),O[x.category].push(x),O),{}),p=O=>O.replace("Arrow","").replace("Ctrl","").replace("Shift","").replace("Alt","");return t?b.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 ${n}`,children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(cU,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}),b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Keyboard Shortcuts"})]}),b.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:b.jsx(Ii,{className:"w-5 h-5 text-gray-500"})})]}),b.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search shortcuts...",value:s,onChange:O=>a(O.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),b.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"All",children:"All Categories"}),yz.map(O=>b.jsx("option",{value:O,children:O},O))]})]})}),b.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[b.jsxs("div",{className:"w-48 border-r border-gray-200 dark:border-gray-700 p-4 overflow-y-auto",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Categories"}),b.jsxs("nav",{className:"space-y-1",children:[b.jsxs("button",{onClick:()=>c("All"),className:`w-full flex items-center space-x-2 px-3 py-2 text-left text-sm rounded ${l==="All"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(Ma,{className:"w-4 h-4"}),b.jsx("span",{children:"All"}),b.jsxs("span",{className:"ml-auto text-xs",children:["(",T3.length,")"]})]}),yz.map(O=>{const x=T3.filter(k=>k.category===O).length;return b.jsxs("button",{onClick:()=>c(O),className:`w-full flex items-center space-x-2 px-3 py-2 text-left text-sm rounded ${l===O?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx("span",{children:O}),b.jsxs("span",{className:"ml-auto text-xs",children:["(",x,")"]})]},O)})]})]}),b.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:Object.keys(f).length===0?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(ao,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No shortcuts found"}),b.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Try adjusting your search or filter"})]}):b.jsx("div",{className:"space-y-6",children:Object.entries(f).map(([O,x])=>b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3 flex items-center",children:[b.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-xs font-medium text-gray-700 dark:text-gray-300",children:O}),b.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",x.length,")"]})]}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:x.map((k,w)=>b.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[b.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[k.icon&&b.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:k.icon}),b.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:k.description})]}),b.jsx("div",{className:"flex items-center space-x-1",children:k.key.split("+").map((_,C)=>b.jsxs(Go.Fragment,{children:[b.jsx("kbd",{className:"px-2 py-1 text-xs bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 font-mono",children:p(_)}),C<k.key.split("+").length-1&&b.jsx("span",{className:"text-gray-400 text-xs",children:"+"})]},C))})]},w))})]},O))})})]}),b.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:b.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("span",{children:["Current Mode: ",b.jsx("strong",{children:r})]}),b.jsxs("span",{children:["Total Shortcuts: ",b.jsx("strong",{children:h.length})]})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("span",{className:"flex items-center space-x-1",children:[b.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-600 rounded",children:""}),b.jsx("span",{children:"= Ctrl/Cmd"})]}),b.jsxs("span",{className:"flex items-center space-x-1",children:[b.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-600 rounded",children:""}),b.jsx("span",{children:"= Shift"})]}),b.jsxs("span",{className:"flex items-center space-x-1",children:[b.jsx("kbd",{className:"px-1.5 py-0.5 text-xs bg-gray-200 dark:bg-gray-600 rounded",children:""}),b.jsx("span",{children:"= Alt/Option"})]})]})]})})]})}):null}const Kze={licenseKey:"GPL",toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","imageUpload","blockQuote","insertTable","mediaEmbed","|","undo","redo"]},image:{toolbar:["imageStyle:alignLeft","imageStyle:alignCenter","imageStyle:alignRight","|","imageStyle:full","imageStyle:side","|","imageResize:50","imageResize:75","imageResize:original"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},mediaEmbed:{previewsInData:!0}};function Gne({value:t,onChange:e,mode:r,onModeChange:n,language:s="javascript",onLanguageChange:a,title:l,onTitleChange:c,isFullscreen:h=!1,onToggleFullscreen:f,settings:p,onSettingsChange:O}){const[x,k]=H.useState(!1),[w,_]=H.useState({...Zne,...p}),[C,T]=H.useState(!1),[E,P]=H.useState(!1),[Q,B]=H.useState(""),[R,M]=H.useState(!1),[I,j]=H.useState(!1),[z,X]=H.useState(0),[W,F]=H.useState(0),V=H.useRef(null),te=H.useRef(!1);H.useEffect(()=>{te.current||(IL.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose"}),te.current=!0)},[]),H.useEffect(()=>{const K=t.replace(/<[^>]*>/g,"");X(K.trim().split(/\s+/).filter(ce=>ce.length>0).length),F(K.length)},[t]);const G=H.useCallback((K,ce)=>{const ye=ce.getData();e(ye),M(ce.commands.undo.isEnabled),j(ce.commands.redo.isEnabled)},[e]),J=H.useCallback(K=>{e(K)},[e]),oe=K=>{switch(K){case"javascript":return[lE()];case"python":return[O3e()];case"java":return[w3e()];case"cpp":return[U3e()];case"html":return[xEe()];case"css":return[VG()];case"json":return[vEe()];case"yaml":return[JEe()];default:return[lE()]}},ie=H.useCallback(async()=>{if(!t.trim()){B("");return}try{const{svg:K}=await IL.render("mermaid-diagram",t);B(K)}catch(K){console.error("Mermaid rendering error:",K),B('<div class="text-red-500">Failed to render diagram</div>')}},[t]);H.useEffect(()=>{r==="mermaid"&&ie()},[r,t,ie]);const be=H.useCallback(()=>{const K=t.replace(/<h1[^>]*>(.*?)<\/h1>/g,`# $1

`).replace(/<h2[^>]*>(.*?)<\/h2>/g,`## $1

`).replace(/<h3[^>]*>(.*?)<\/h3>/g,`### $1

`).replace(/<strong[^>]*>(.*?)<\/strong>/g,"**$1**").replace(/<em[^>]*>(.*?)<\/em>/g,"*$1*").replace(/<p[^>]*>(.*?)<\/p>/g,`$1

`).replace(/<br\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),ce=new Blob([K],{type:"text/markdown"}),ye=URL.createObjectURL(ce),ke=document.createElement("a");ke.href=ye,ke.download=`${l||"document"}.md`,ke.click(),URL.revokeObjectURL(ye)},[t,l]),he=H.useCallback(()=>{const K=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${l||"Document"}</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
    h1, h2, h3 { color: #333; }
    p { line-height: 1.6; }
  </style>
</head>
<body>
  ${t}
</body>
</html>`,ce=new Blob([K],{type:"text/html"}),ye=URL.createObjectURL(ce),ke=document.createElement("a");ke.href=ye,ke.download=`${l||"document"}.html`,ke.click(),URL.revokeObjectURL(ye)},[t,l]),re=K=>{_(K),O&&O(K)},ae=()=>{switch(r){case"rich-text":return b.jsx("div",{className:"h-full",children:Go.createElement(tW,{ref:V,editor:Bye,data:t,onChange:G,config:Kze,disabled:x,style:{height:"100%"}})});case"code":case"syntax-highlight":return b.jsx("div",{className:"h-full",children:b.jsx(aG,{value:t,onChange:J,theme:w.darkMode?sG:void 0,extensions:oe(s),basicSetup:{lineNumbers:w.showLineNumbers,foldGutter:w.showCodeFolding,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,highlightSelectionMatches:!1,searchKeymap:!0},style:{height:"100%"},placeholder:w.placeholder||"Start typing your code..."})});case"mermaid":return b.jsxs("div",{className:"h-full flex flex-col",children:[b.jsx("div",{className:"flex-1 overflow-auto p-4",children:t.trim()?b.jsx("div",{className:"mermaid",dangerouslySetInnerHTML:{__html:Q}}):b.jsx("div",{className:"text-gray-500 text-center mt-8",children:"Enter Mermaid diagram syntax to see the rendered diagram"})}),x&&b.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-t",children:b.jsx("textarea",{value:t,onChange:K=>e(K.target.value),className:"w-full h-32 p-2 border border-gray-300 rounded resize-none dark:bg-gray-700 dark:border-gray-600",placeholder:"Mermaid syntax..."})})]});case"mind-map":return b.jsx("div",{className:"h-full",children:b.jsx(Yze,{value:t,onChange:e,settings:w})});case"math":return b.jsx("div",{className:"h-full p-4",children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"LaTeX Input"}),b.jsx("textarea",{value:t,onChange:K=>e(K.target.value),className:"w-full h-32 p-2 border border-gray-300 rounded resize-none dark:bg-gray-700 dark:border-gray-600",placeholder:"Enter LaTeX math expressions..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rendered Output"}),b.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded min-h-[100px] flex items-center justify-center",dangerouslySetInnerHTML:{__html:y8(t,{displayMode:!0,throwOnError:!1})}})]})]})});default:return b.jsx("div",{className:"h-full p-4",children:b.jsx("textarea",{value:t,onChange:K=>e(K.target.value),className:"w-full h-full p-2 border border-gray-300 rounded resize-none dark:bg-gray-700 dark:border-gray-600",placeholder:"Start typing..."})})}};return b.jsxs("div",{className:`flex flex-col h-full ${h?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("div",{className:"flex items-center space-x-2",children:b.jsx(Zze,{mode:r,onModeChange:n,language:s,onLanguageChange:a,onPreview:()=>k(!x),onExportMarkdown:be,onExportHTML:he,isPreview:x,settings:w,onSettingsChange:re,onTogglePreview:()=>k(!x)})}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[z," words, ",W," chars"]}),b.jsx("button",{onClick:()=>T(!C),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Settings",children:b.jsx(Ma,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>P(!E),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Keyboard Shortcuts",children:b.jsx(Nf,{className:"w-4 h-4"})}),f&&b.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:h?"Exit Fullscreen":"Enter Fullscreen",children:h?b.jsx(G6,{className:"w-4 h-4"}):b.jsx(wC,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex-1 overflow-hidden",children:ae()}),C&&b.jsx(Gze,{isOpen:!0,settings:w,onSettingsChange:re,onClose:()=>T(!1),onResetSettings:()=>{},onSaveSettings:()=>{},currentMode:r}),E&&b.jsx(Hze,{isOpen:!0,onClose:()=>P(!1)})]})}const Jze=({notes:t,onNodeClick:e,selectedNote:r,height:n=600})=>{const s=H.useRef(null),a=H.useRef(null),[l,c]=H.useState({nodes:[],links:[]}),[h,f]=H.useState([]),[p,O]=H.useState({searchTerm:"",selectedCategories:[],selectedTags:[],dateRange:[null,null],contentTypes:[],showDeleted:!1,minConnections:0}),[x,k]=H.useState(null),[w,_]=H.useState(null),[C,T]=H.useState({nodes:0,links:0,clusters:0,selectedNode:null}),[E,P]=H.useState(!0),[Q,B]=H.useState(!1),[R,M]=H.useState(!1),[I,j]=H.useState(!1),[z,X]=H.useState("force");YH[9];const W=H.useCallback(K=>{const ce=[],ye=[],ke=new Map;K.forEach(Ee=>{var Re;if(!p.showDeleted&&Ee.deleted_at)return;const de={id:Ee.id,note:Ee,isSelected:(r==null?void 0:r.id)===Ee.id,isPinned:((Re=Ee.metadata)==null?void 0:Re.pinned)||!1};ce.push(de),ke.set(Ee.id,de)});const Ce=qN(ce,Ee=>Ee.note.category||"Uncategorized"),De=new Map;K.forEach(Ee=>{var de;(de=Ee.metadata)!=null&&de.tags&&Ee.metadata.tags.forEach(Re=>{De.has(Re)||De.set(Re,[]);const Be=ke.get(Ee.id);Be&&De.get(Re).push(Be)})}),Ce.forEach(Ee=>{for(let de=0;de<Ee.length;de++)for(let Re=de+1;Re<Ee.length;Re++)ye.push({source:Ee[de].id,target:Ee[Re].id,type:"same-category",strength:1,distance:50})}),De.forEach(Ee=>{for(let de=0;de<Ee.length;de++)for(let Re=de+1;Re<Ee.length;Re++)ye.push({source:Ee[de].id,target:Ee[Re].id,type:"same-tag",strength:.8,distance:60})});const Pe=new Map;ce.forEach(Ee=>{Ee.note.text.toLowerCase().split(/\W+/).filter(Re=>Re.length>3).forEach(Re=>{Pe.has(Re)||Pe.set(Re,[]),Pe.get(Re).push(Ee)})}),Pe.forEach(Ee=>{if(Ee.length>1)for(let de=0;de<Ee.length;de++)for(let Re=de+1;Re<Ee.length;Re++)ye.find(He=>He.source===Ee[de].id&&He.target===Ee[Re].id||He.source===Ee[Re].id&&He.target===Ee[de].id)||ye.push({source:Ee[de].id,target:Ee[Re].id,type:"similar-content",strength:.3,distance:100})}),ce.sort((Ee,de)=>new Date(Ee.note.created_at).getTime()-new Date(de.note.created_at).getTime());for(let Ee=0;Ee<ce.length-1;Ee++){const Re=Math.abs(new Date(ce[Ee].note.created_at).getTime()-new Date(ce[Ee+1].note.created_at).getTime())/(1e3*60*60*24);Re<=7&&ye.push({source:ce[Ee].id,target:ce[Ee+1].id,type:"temporal",strength:Math.max(.1,.5-Re/14),distance:80})}return ce.forEach(Ee=>{Ee.degree=ye.filter(de=>(typeof de.source=="string"?de.source:de.source.id)===Ee.id||(typeof de.target=="string"?de.target:de.target.id)===Ee.id).length}),{nodes:ce,links:ye}},[t,p,r]),F=H.useCallback(K=>{const ce=[],ye=new Set(K.nodes.map(de=>de.note.category||"Uncategorized")),ke=IF;let Ce=0;ye.forEach(de=>{const Re=K.nodes.filter(Be=>(Be.note.category||"Uncategorized")===de);Re.length>0&&(ce.push({id:`category-${de}`,name:de,type:"category",color:ke[Ce%ke.length],size:Re.length}),Ce++)});const De=new Map;K.nodes.forEach(de=>{var Re,Be;(Be=(Re=de.note.metadata)==null?void 0:Re.tags)==null||Be.forEach(He=>{De.set(He,(De.get(He)||0)+1)})});const Pe=Array.from(De.entries()).filter(([de,Re])=>Re>=2).sort((de,Re)=>Re[1]-de[1]).slice(0,10),Ee=nQe;return Ce=0,Pe.forEach(([de,Re])=>{ce.push({id:`tag-${de}`,name:de,type:"tag",color:Ee[Ce%Ee.length],size:Re}),Ce++}),ce},[]),V=H.useCallback(()=>{if(!s.current||l.nodes.length===0)return;const K=hr(s.current);K.selectAll("*").remove();const ce=s.current.clientWidth,ye=s.current.clientHeight,ke=K.append("g"),Ce=J5().scaleExtent([.1,4]).on("zoom",Re=>{ke.attr("transform",Re.transform)});K.call(Ce);const De=tQe(l.nodes).force("link",WDe(l.links).id(Re=>Re.id).distance(Re=>Re.distance).strength(Re=>Re.strength)).force("charge",rQe().strength(Re=>-Math.max(50,100-(Re.degree||0)*10)).distanceMax(300)).force("center",MF(ce/2,ye/2)).force("collision",UDe().radius(Re=>Math.max(15,(Re.degree||0)*3+10)).strength(.7));if(z==="radial"){const Re=qN(l.nodes,He=>He.note.category||"Uncategorized"),Be=2*Math.PI/Array.from(Re.keys()).length;Array.from(Re.entries()).forEach(([He,Ye],Ze)=>{const Ge=Ze*Be,Qt=150,gr=ce/2+Math.cos(Ge)*Qt,Or=ye/2+Math.sin(Ge)*Qt;De.force(`cluster-${He}`,MF(gr,Or).strength(.1))})}a.current=De;const Pe=ke.append("g").selectAll("line").data(l.links).join("line").attr("stroke",Re=>({"same-category":"#10B981","same-tag":"#8B5CF6","similar-content":"#F59E0B",references:"#EF4444",temporal:"#6B7280","cross-reference":"#3B82F6"})[Re.type]||"#94A3B8").attr("stroke-opacity",.6).attr("stroke-width",Re=>Math.max(1,Re.strength*3)),Ee=ke.append("g").selectAll("circle").data(l.nodes).join("circle").attr("r",Re=>Math.max(6,Math.min(20,(Re.degree||1)*2+6))).attr("fill",Re=>{const Be=Re.note.category||"Uncategorized",He=Array.from(new Set(l.nodes.map(Ye=>Ye.note.category||"Uncategorized"))).indexOf(Be);return IF[He%10]}).attr("stroke",Re=>Re.isSelected?"#EF4444":Re.isHighlighted?"#F59E0B":"#ffffff").attr("stroke-width",Re=>Re.isSelected||Re.isHighlighted?3:1).style("cursor","pointer").on("click",(Re,Be)=>{Re.stopPropagation(),k(Be),e==null||e(Be.note)}).on("mouseover",(Re,Be)=>{_(Be);const He=new Set;l.links.forEach(Ye=>{if(Ye.source===Be.id||Ye.target===Be.id){const Ze=Ye.source===Be.id?Ye.target:Ye.source;He.add(typeof Ze=="string"?Ze:Ze.id)}}),Ee.attr("opacity",Ye=>Ye.id===Be.id||He.has(Ye.id)?1:.3),Pe.attr("stroke-opacity",Ye=>Ye.source===Be.id||Ye.target===Be.id?.8:.1)}).on("mouseout",()=>{_(null),Ee.attr("opacity",1),Pe.attr("stroke-opacity",.6)}),de=p8e().on("start",(Re,Be)=>{Re.active||De.alphaTarget(.3).restart(),Be.fx=Be.x,Be.fy=Be.y}).on("drag",(Re,Be)=>{Be.fx=Re.x,Be.fy=Re.y}).on("end",(Re,Be)=>{Re.active||De.alphaTarget(0),(!Re.sourceEvent.detail||Re.sourceEvent.detail!==2)&&(Be.fx=null,Be.fy=null)});Ee.call(de),De.on("tick",()=>{Pe.attr("x1",Re=>Re.source.x).attr("y1",Re=>Re.source.y).attr("x2",Re=>Re.target.x).attr("y2",Re=>Re.target.y),Ee.attr("cx",Re=>Re.x).attr("cy",Re=>Re.y)}),te(ke)},[l,h,z]),te=(K,ce)=>{const ye=K.append("g").attr("class","cluster-labels"),ke=new Set(l.nodes.map(De=>De.note.category||"Uncategorized"));Array.from(ke).forEach((De,Pe)=>{const Ee=l.nodes.filter(de=>(de.note.category||"Uncategorized")===De);if(Ee.length>0){const de=dw(Ee,Be=>Be.x||0)||0,Re=dw(Ee,Be=>Be.y||0)||0;ye.append("text").attr("x",de).attr("y",Re-30).attr("text-anchor","middle").attr("font-size","12px").attr("font-weight","bold").attr("fill","#374151").style("pointer-events","none").text(De)}})};H.useEffect(()=>{const K=W(t),ce=F(K);c(K),f(ce),T({nodes:K.nodes.length,links:K.links.length,clusters:ce.length,selectedNode:x})},[t,p,x,W,F]),H.useEffect(()=>{l.nodes.length>0&&V()},[l,V]),H.useMemo(()=>{let K=[...l.nodes],ce=[...l.links];if(p.searchTerm){const ke=new RegExp(p.searchTerm,"i");K=K.filter(Ce=>{var De,Pe,Ee,de;return((De=Ce.note.title)==null?void 0:De.match(ke))||Ce.note.text.match(ke)||((Pe=Ce.note.category)==null?void 0:Pe.match(ke))||((de=(Ee=Ce.note.metadata)==null?void 0:Ee.tags)==null?void 0:de.some(Re=>Re.match(ke)))})}p.selectedCategories.length>0&&(K=K.filter(ke=>p.selectedCategories.includes(ke.note.category||"Uncategorized"))),p.selectedTags.length>0&&(K=K.filter(ke=>{var Ce,De;return(De=(Ce=ke.note.metadata)==null?void 0:Ce.tags)==null?void 0:De.some(Pe=>p.selectedTags.includes(Pe))})),p.contentTypes.length>0&&(K=K.filter(ke=>p.contentTypes.includes(ke.note.content_type))),p.dateRange[0]&&p.dateRange[1]&&(K=K.filter(ke=>{const Ce=new Date(ke.note.created_at);return Ce>=p.dateRange[0]&&Ce<=p.dateRange[1]})),K=K.filter(ke=>(ke.degree||0)>=p.minConnections);const ye=new Set(K.map(ke=>ke.id));return ce=ce.filter(ke=>{const Ce=typeof ke.source=="string"?ke.source:ke.source.id,De=typeof ke.target=="string"?ke.target:ke.target.id;return ye.has(Ce)&&ye.has(De)}),{nodes:K,links:ce}},[l,p]);const G=async()=>{if(s.current){j(!0);try{const K=s.current,ye=new XMLSerializer().serializeToString(K),ke=document.createElement("canvas"),Ce=ke.getContext("2d"),De=new Image;ke.width=K.clientWidth*2,ke.height=K.clientHeight*2,De.onload=()=>{Ce&&(Ce.scale(2,2),Ce.fillStyle="#ffffff",Ce.fillRect(0,0,ke.width,ke.height),Ce.drawImage(De,0,0),ke.toBlob(Pe=>{if(Pe){const Ee=URL.createObjectURL(Pe),de=document.createElement("a");de.href=Ee,de.download=`tradejournal-graph-${new Date().toISOString().split("T")[0]}.png`,de.click(),URL.revokeObjectURL(Ee)}j(!1)}))},De.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(ye)))}catch(K){console.error("Export failed:",K),j(!1)}}},J=async()=>{new Date().toISOString();const K={title:"TradeJournal AI - Note Relationship Graph",text:`Explore ${C.nodes} interconnected notes with ${C.links} relationships`,url:window.location.href};if(navigator.share)try{await navigator.share(K)}catch(ce){console.log("Error sharing:",ce)}else navigator.clipboard.writeText(window.location.href),alert("Graph configuration copied to clipboard!")},oe=()=>{s.current&&hr(s.current).transition().duration(500).call(J5().transform,Q_)},ie=()=>{if(s.current&&l.nodes.length>0){const K=hr(s.current),ce=s.current.clientWidth,ye=s.current.clientHeight,ke=dw(l.nodes,Pe=>Pe.x||0)||ce/2,Ce=dw(l.nodes,Pe=>Pe.y||0)||ye/2,De=Q_.translate(ce/2-ke,ye/2-Ce).scale(1);K.transition().duration(500).call(J5().transform,De)}},be=()=>{const K=l.nodes.filter(ce=>(ce.degree||0)===0);alert(`${K.length} isolated nodes found. These notes have no connections to other notes.`)},he=H.useMemo(()=>Array.from(new Set(t.map(K=>K.category||"Uncategorized"))),[t]),re=H.useMemo(()=>{const K=new Set;return t.forEach(ce=>{var ye,ke;(ke=(ye=ce.metadata)==null?void 0:ye.tags)==null||ke.forEach(Ce=>K.add(Ce))}),Array.from(K)},[t]),ae=H.useMemo(()=>Array.from(new Set(t.map(K=>K.content_type))),[t]);return b.jsxs("div",{className:`relative bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 ${R?"fixed inset-4 z-50":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Force Graph Visualization"}),b.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[b.jsxs("span",{children:[C.nodes," nodes"]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[C.links," connections"]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[C.clusters," clusters"]})]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>B(!Q),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Toggle Filters",children:b.jsx(Mf,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>P(!E),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Toggle Controls",children:b.jsx(yh,{className:"w-5 h-5"})}),b.jsx("button",{onClick:G,disabled:I,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors disabled:opacity-50",title:"Export Graph",children:b.jsx(es,{className:"w-5 h-5"})}),b.jsx("button",{onClick:J,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Share Graph",children:b.jsx(K1e,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>M(!R),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:R?"Exit Fullscreen":"Fullscreen",children:R?b.jsx(G6,{className:"w-5 h-5"}):b.jsx(wC,{className:"w-5 h-5"})})]})]}),E&&b.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("select",{value:z,onChange:K=>X(K.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"force",children:"Force Directed"}),b.jsx("option",{value:"radial",children:"Radial"}),b.jsx("option",{value:"hierarchical",children:"Hierarchical"})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:oe,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Reset Zoom",children:b.jsx(qc,{className:"w-4 h-4"})}),b.jsx("button",{onClick:ie,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Center Graph",children:b.jsx(hU,{className:"w-4 h-4"})}),b.jsx("button",{onClick:be,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Highlight Isolated Nodes",children:b.jsx(Z6,{className:"w-4 h-4"})})]})]}),b.jsx("div",{className:"flex items-center space-x-2",children:b.jsxs("div",{className:"relative",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),b.jsx("input",{type:"text",placeholder:"Search notes...",value:p.searchTerm,onChange:K=>O(ce=>({...ce,searchTerm:K.target.value})),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white w-64"})]})})]})}),Q&&b.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categories"}),b.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:he.map(K=>b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",checked:p.selectedCategories.includes(K),onChange:ce=>{O(ye=>({...ye,selectedCategories:ce.target.checked?[...ye.selectedCategories,K]:ye.selectedCategories.filter(ke=>ke!==K)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:K})]},K))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),b.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:re.slice(0,10).map(K=>b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",checked:p.selectedTags.includes(K),onChange:ce=>{O(ye=>({...ye,selectedTags:ce.target.checked?[...ye.selectedTags,K]:ye.selectedTags.filter(ke=>ke!==K)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[b.jsx(U2,{className:"w-3 h-3 mr-1"}),K]})]},K))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content Types"}),b.jsx("div",{className:"space-y-1",children:ae.map(K=>b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",checked:p.contentTypes.includes(K),onChange:ce=>{O(ye=>({...ye,contentTypes:ce.target.checked?[...ye.contentTypes,K]:ye.contentTypes.filter(ke=>ke!==K)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:K})]},K))})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Min Connections: ",p.minConnections]}),b.jsx("input",{type:"range",min:"0",max:"10",value:p.minConnections,onChange:K=>O(ce=>({...ce,minConnections:parseInt(K.target.value)})),className:"w-full"})]}),b.jsx("div",{className:"space-y-2",children:b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",checked:p.showDeleted,onChange:K=>O(ce=>({...ce,showDeleted:K.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Show deleted"})]})})]})}),b.jsxs("div",{className:"relative",style:{height:`${n}px`},children:[b.jsx("svg",{ref:s,className:"w-full h-full",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}}),w&&b.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 max-w-sm z-10",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:w.note.title||"Untitled Note"}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:w.note.category})]}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[w.note.text.slice(0,100),"..."]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[b.jsxs("span",{children:[w.degree," connections"]}),b.jsx("span",{children:new Date(w.note.created_at).toLocaleDateString()})]})]}),l.nodes.length===0&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 bg-opacity-80",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Building graph..."})]})})]}),b.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-6",children:[b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.jsx("strong",{children:"Connection Types:"})}),b.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Category"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Tags"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Similar Content"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-2"}),b.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Temporal"})]})]})]}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Node size = connection count | Red stroke = selected | Yellow stroke = highlighted"})]})})]})},eXe={"plain-text":{to:{"rich-text":t=>t.split(`

`).map(e=>`<p>${e.replace(/\n/g,"<br>")}</p>`).join(""),code:t=>["function","const","let","var","class","import","export","def ","class ","def __init__"].some(n=>t.includes(n))?t:"","syntax-highlight":t=>{const e=/```(\w+)?\n([\s\S]*?)```/g;let r,n=t;for(;(r=e.exec(t))!==null;){const[,s,a]=r,l=`<pre><code class="language-${s||"plaintext"}">${a.trim()}</code></pre>`;n=n.replace(r[0],l)}return n!==t?n:""}}},"rich-text":{to:{code:t=>t.replace(/<[^>]*>/g,"").trim(),"syntax-highlight":t=>{const e=t.match(/<pre><code[^>]*>([\s\S]*?)<\/code><\/pre>/g);return e?e.map(r=>r.replace(/<\/?pre[^>]*>/g,"").replace(/<\/?code[^>]*>/g,"").trim()).join(`

`):""}}},code:{to:{"syntax-highlight":t=>t,"rich-text":t=>`<pre><code>${t}</code></pre>`}}},Rd={hasHTML:t=>/<[^>]+>/.test(t),hasCode:t=>[/\bfunction\s+\w+/,/\bconst\s+\w+\s*=/,/\blet\s+\w+\s*=/,/\bvar\s+\w+\s*=/,/\bclass\s+\w+/,/\bimport\s+/,/\bexport\s+/,/\bdef\s+\w+/,/\bpublic\s+\w+/,/\bprivate\s+\w+/,/\bint\s+\w+/,/\bstring\s+\w+/].some(r=>r.test(t)),hasMarkdownCodeBlocks:t=>/```[\w]*\n[\s\S]*?```/.test(t),hasMindMapStructure:t=>{try{const e=JSON.parse(t);return e&&typeof e=="object"&&e.topic&&Array.isArray(e.children)}catch{return!1}},hasMermaidDiagram:t=>{const e=["graph","flowchart","sequenceDiagram","gantt","stateDiagram","journey","classDiagram","erDiagram"],r=t.trim();return e.some(n=>r.startsWith(n))},hasLatexMath:t=>t.includes("$")||t.includes("\\(")||t.includes("\\[")||t.includes("$$"),autoDetectType:t=>Rd.hasMindMapStructure(t)?"mind-map":Rd.hasMermaidDiagram(t)?"mermaid":Rd.hasLatexMath(t)?"math":Rd.hasHTML(t)?"rich-text":Rd.hasMarkdownCodeBlocks(t)?"syntax-highlight":Rd.hasCode(t)?"code":"plain-text"};class tXe{constructor(e){Wr(this,"notes");this.notes=e}migrateAll(){let e=0;const r=[];return this.notes.forEach(n=>{try{const s=Rd.autoDetectType(n.text);if(s!==n.content_type){const a=this.migrateNote(n,s);a&&(Object.assign(n,a),e++,console.log(` Migrated note "${n.title}" from ${n.content_type} to ${s}`))}}catch(s){r.push(`Failed to migrate note "${n.title}": ${s}`),console.error(`Error migrating note ${n.id}:`,s)}}),{migrated:e,errors:r}}migrateNote(e,r){var l,c;const n=e.content_type||"plain-text";if(n===r)return null;const s=eXe[n],a=(l=s==null?void 0:s.to)==null?void 0:l[r];if(!a)return console.warn(`No migration strategy from ${n} to ${r}`),null;try{const h=a(e.text);if(!h)return console.warn(`Migration from ${n} to ${r} produced empty content`),null;const f={id:`migration_${Date.now()}`,content:e.text,created_at:new Date().toISOString(),version_number:(((c=e.versions)==null?void 0:c.length)||0)+1,change_summary:`Auto-migration from ${n} to ${r}`};return{content_type:r,text:this.extractPlainText(h,r),versions:[...e.versions||[],f],updated_at:new Date().toISOString(),metadata:{...e.metadata,last_migrated:new Date().toISOString(),migration_type:`${n}->${r}`}}}catch(h){throw console.error(`Migration error from ${n} to ${r}:`,h),h}}extractPlainText(e,r){switch(r){case"rich-text":return e.replace(/<[^>]*>/g,"").trim();case"syntax-highlight":return e.replace(/<[^>]*>/g,"").trim();case"mind-map":try{const n=JSON.parse(e);return this.mindMapToPlainText(n)}catch{return e}default:return e}}mindMapToPlainText(e){if(!e)return"";const r=(n,s=0)=>{const l=`${"  ".repeat(s)}${n.topic}`,h=(n.children||[]).map(f=>r(f,s+1)).join(`
`);return h?`${l}
${h}`:l};return r(e)}getMigrationStats(){const e={};let r=0;return this.notes.forEach(n=>{const s=n.content_type||"plain-text";e[s]=(e[s]||0)+1;const a=Rd.autoDetectType(n.text);a!==s&&a!=="plain-text"&&r++}),{total:this.notes.length,byType:e,migrationCandidates:r}}}const rXe=t=>{const e=new tXe(t),r=e.getMigrationStats();return{engine:e,stats:r,run:()=>e.migrateAll()}};function nXe({folders:t,selectedFolderId:e,onFolderSelect:r,onFolderCreate:n,onFolderRename:s,onFolderDelete:a,onFolderToggle:l}){const[c,h]=H.useState(null),[f,p]=H.useState(""),[O,x]=H.useState(!1),[k,w]=H.useState("folder"),_=Q=>{h(Q.id),p(Q.name)},C=()=>{c&&f.trim()&&s(c,f.trim()),h(null),p("")},T=()=>{h(null),p("")},E=Q=>{Q.key==="Enter"&&C(),Q.key==="Escape"&&T()},P=(Q,B=0)=>{const R=e===Q.id,M=Q.expanded,I=Q.type==="tag"?U2:Q.children.length>0&&M?aB:z4;return b.jsxs("div",{className:"select-none",children:[b.jsxs("div",{className:`group flex items-center rounded-lg transition-colors ${R?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:{paddingLeft:`${B*12+8}px`},children:[Q.children.length>0&&b.jsx("button",{onClick:()=>l(Q.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:M?b.jsx(Zi,{className:"w-4 h-4"}):b.jsx(W6,{className:"w-4 h-4"})}),b.jsxs("button",{onClick:()=>r(Q.id),className:"flex items-center flex-1 p-2 rounded-lg transition-colors",children:[b.jsx(I,{className:`w-4 h-4 mr-2 ${Q.type==="tag"?"text-purple-500":R?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),c===Q.id?b.jsx("input",{type:"text",value:f,onChange:j=>p(j.target.value),onBlur:C,onKeyPress:E,className:"flex-1 bg-transparent text-sm font-medium text-gray-700 dark:text-gray-300 focus:outline-none",autoFocus:!0,onFocus:j=>j.target.select()}):b.jsx("span",{className:"flex-1 text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:Q.name})]}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:Q.noteCount}),c!==Q.id&&b.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>n(Q.id,"",k),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Add sub-item",children:b.jsx(co,{className:"w-3 h-3 text-gray-400 hover:text-gray-600"})}),b.jsx("button",{onClick:()=>_(Q),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Rename",children:b.jsx(Nf,{className:"w-3 h-3 text-gray-400 hover:text-gray-600"})}),b.jsx("button",{onClick:()=>a(Q.id),className:"p-1 hover:bg-red-200 dark:hover:bg-red-800 rounded transition-colors",title:"Delete",children:b.jsx(Ul,{className:"w-3 h-3 text-red-500 hover:text-red-700"})})]})]}),M&&Q.children.map(j=>P(j,B+1))]},Q.id)};return b.jsxs("div",{className:"h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Library"}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:()=>x(!O),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Add new item",children:b.jsx(co,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})}),O&&b.jsxs("div",{className:"absolute right-0 mt-2 w-36 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50",children:[b.jsxs("button",{onClick:()=>{n(null,"","folder"),x(!1)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg",children:[b.jsx(z4,{className:"w-4 h-4 mr-2"}),"New Folder"]}),b.jsxs("button",{onClick:()=>{n(null,"","tag"),x(!1)},className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg",children:[b.jsx(CC,{className:"w-4 h-4 mr-2"}),"New Tag"]})]})]})]})}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b.jsx("div",{className:`group flex items-center rounded-lg transition-colors mb-2 ${e===null?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:b.jsxs("button",{onClick:()=>r(null),className:"flex items-center flex-1 p-2 rounded-lg transition-colors",children:[b.jsx(aB,{className:`w-4 h-4 mr-2 ${e===null?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"All Notes"}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto",children:t.reduce((Q,B)=>Q+B.noteCount,0)})]})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h3",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Quick Access"}),b.jsx("div",{className:"space-y-1",children:t.filter(Q=>Q.type==="tag"&&Q.parentId===null).map(Q=>b.jsxs("div",{className:`group flex items-center rounded-lg transition-colors ${e===Q.id?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsxs("button",{onClick:()=>r(Q.id),className:"flex items-center flex-1 p-2 rounded-lg transition-colors",children:[b.jsx(U2,{className:`w-4 h-4 mr-2 ${e===Q.id?"text-purple-600 dark:text-purple-400":"text-purple-500"}`}),b.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:Q.name}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto",children:Q.noteCount})]}),e!==Q.id&&b.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity mr-2",children:b.jsx("button",{onClick:()=>_(Q),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Rename",children:b.jsx(Nf,{className:"w-3 h-3 text-gray-400 hover:text-gray-600"})})})]},Q.id))})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2",children:"Folders"}),b.jsx("div",{className:"space-y-1",children:t.filter(Q=>Q.type==="folder"&&Q.parentId===null).map(Q=>P(Q))})]})]})]})}function Hne({notes:t,selectedNoteId:e,onNoteSelect:r,onNoteCreate:n,onNoteUpdate:s,onNoteDelete:a,onNoteRestore:l,filter:c,onFilterChange:h,tradingStats:f}){const[p,O]=H.useState(!1),[x,k]=H.useState([]),[w,_]=H.useState("");H.useMemo(()=>{const M=new Set;return t.forEach(I=>{var j;(j=I.metadata)!=null&&j.tags&&I.metadata.tags.forEach(z=>M.add(z))}),Array.from(M).sort()},[t]);const C=H.useMemo(()=>{let M=t.filter(I=>{var j,z;if(c.search){const X=c.search.toLowerCase(),W=(j=I.title)==null?void 0:j.toLowerCase().includes(X),F=(z=I.text)==null?void 0:z.toLowerCase().includes(X);if(!W&&!F)return!1}if(c.showDeleted&&!I.deleted_at||!c.showDeleted&&I.deleted_at)return!1;if(c.dateRange.start){const X=new Date(I.created_at),W=new Date(c.dateRange.start);if(X<W)return!1}if(c.dateRange.end){const X=new Date(I.created_at),W=new Date(c.dateRange.end);if(X>W)return!1}return!0});return M.sort((I,j)=>{var W,F;let z,X;switch(c.sortBy){case"title":z=I.title||"",X=j.title||"";break;case"updated_at":z=new Date(I.updated_at||I.created_at),X=new Date(j.updated_at||j.created_at);break;case"pinned":z=(W=I.metadata)!=null&&W.pinned?1:0,X=(F=j.metadata)!=null&&F.pinned?1:0;break;default:z=new Date(I.created_at),X=new Date(j.created_at)}return z<X?c.sortOrder==="asc"?-1:1:z>X?c.sortOrder==="asc"?1:-1:0}),M},[t,c]),T=M=>{const I=new Date(M),j=new Date,z=j.getTime()-I.getTime(),X=Math.floor(z/(1e3*60*60*24));return X===0?"Today":X===1?"Yesterday":X<7?`${X} days ago`:I.toLocaleDateString("en-US",{month:"short",day:"numeric",year:I.getFullYear()!==j.getFullYear()?"numeric":void 0})},E=M=>{var I,j;return(I=M.metadata)!=null&&I.favorite?b.jsx(lf,{className:"w-4 h-4 text-yellow-500 fill-current"}):(j=M.metadata)!=null&&j.pinned?b.jsx(oB,{className:"w-4 h-4 text-blue-500"}):b.jsx(Yr,{className:"w-4 h-4 text-gray-500"})},P=M=>{var j;const I=t.find(z=>z.id===M);I&&s({...I,metadata:{...I.metadata,pinned:!((j=I.metadata)!=null&&j.pinned)}})},Q=M=>{var j;const I=t.find(z=>z.id===M);I&&s({...I,metadata:{...I.metadata,favorite:!((j=I.metadata)!=null&&j.favorite)}})},B=()=>{x.forEach(M=>a(M)),k([])},R=()=>{x.forEach(M=>l(M)),k([])};return b.jsxs("div",{className:"h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notes"}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>O(!p),className:`p-2 rounded-lg transition-colors ${p?"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:"Filters",children:b.jsx(Mf,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>n(c.folder),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"New Note",children:b.jsx(co,{className:"w-4 h-4"})})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search notes...",value:c.search,onChange:M=>h({...c,search:M.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&b.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort by"}),b.jsxs("select",{value:`${c.sortBy}-${c.sortOrder}`,onChange:M=>{const[I,j]=M.target.value.split("-");h({...c,sortBy:I,sortOrder:j})},className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"created_at-desc",children:"Newest First"}),b.jsx("option",{value:"created_at-asc",children:"Oldest First"}),b.jsx("option",{value:"updated_at-desc",children:"Recently Updated"}),b.jsx("option",{value:"updated_at-asc",children:"Least Recently Updated"}),b.jsx("option",{value:"title-asc",children:"Title A-Z"}),b.jsx("option",{value:"title-desc",children:"Title Z-A"}),b.jsx("option",{value:"pinned-desc",children:"Pinned First"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"date",value:c.dateRange.start||"",onChange:M=>h({...c,dateRange:{...c.dateRange,start:M.target.value||null}}),className:"flex-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),b.jsx("input",{type:"date",value:c.dateRange.end||"",onChange:M=>h({...c,dateRange:{...c.dateRange,end:M.target.value||null}}),className:"flex-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"show-deleted",checked:c.showDeleted,onChange:M=>h({...c,showDeleted:M.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("label",{htmlFor:"show-deleted",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Show deleted notes"})]}),b.jsx("button",{onClick:()=>h({search:"",folder:null,tags:[],dateRange:{start:null,end:null},sortBy:"created_at",sortOrder:"desc",showDeleted:!1}),className:"w-full px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Clear All Filters"})]}),f&&!c.showDeleted&&b.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[b.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-2",children:"Trading Performance"}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(oU,{className:"w-3 h-3 mr-1 text-green-600"}),b.jsxs("span",{className:"text-green-700 dark:text-green-300",children:["Net P&L: $",f.totalPnl.toFixed(2)]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Os,{className:"w-3 h-3 mr-1 text-green-600"}),b.jsxs("span",{className:"text-green-700 dark:text-green-300",children:["Win Rate: ",f.winRate,"%"]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Yr,{className:"w-3 h-3 mr-1 text-green-600"}),b.jsxs("span",{className:"text-green-700 dark:text-green-300",children:["Total: ",f.totalTrades]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),b.jsxs("span",{className:"text-green-700 dark:text-green-300",children:[f.winners,"W/",f.losers,"L"]})]})]})]})]}),x.length>0&&b.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:[x.length," note",x.length>1?"s":""," selected"]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[c.showDeleted?b.jsx("button",{onClick:R,className:"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Restore"}):b.jsx("button",{onClick:B,className:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete"}),b.jsx("button",{onClick:()=>k([]),className:"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Clear"})]})]})}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:C.length===0?b.jsxs("div",{className:"p-8 text-center",children:[b.jsx(Yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:c.search?"No notes match your search":"No notes found"}),!c.search&&b.jsx("button",{onClick:()=>n(c.folder),className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Create your first note"})]}):b.jsx("div",{className:"space-y-1 p-2",children:C.map(M=>{var z,X,W,F,V;const I=e===M.id,j=x.includes(M.id);return b.jsx("div",{className:`group p-3 rounded-lg cursor-pointer transition-all ${I?"bg-blue-100 border-blue-200 dark:bg-blue-900/50 dark:border-blue-800":j?"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800":"hover:bg-gray-50 dark:hover:bg-gray-800 border-transparent"} border`,onClick:()=>{j?k(te=>te.filter(G=>G!==M.id)):(k([]),r(M))},children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx("input",{type:"checkbox",checked:j,onChange:te=>{te.stopPropagation(),te.target.checked?k(G=>[...G,M.id]):k(G=>G.filter(J=>J!==M.id))},className:"mr-2 rounded"}),E(M),b.jsx("h3",{className:"ml-2 text-sm font-medium text-gray-900 dark:text-white truncate",children:M.title||"Untitled Note"}),M.deleted_at&&b.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 rounded",children:"Deleted"})]}),b.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:[(z=M.text)==null?void 0:z.slice(0,120),"..."]}),b.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(Ko,{className:"w-3 h-3 mr-1"}),T(M.updated_at||M.created_at)]}),M.category&&b.jsxs("div",{className:"flex items-center",children:[b.jsx(CC,{className:"w-3 h-3 mr-1"}),M.category]}),((X=M.metadata)==null?void 0:X.word_count)&&b.jsxs("span",{children:[M.metadata.word_count," words"]})]}),((W=M.metadata)==null?void 0:W.tags)&&M.metadata.tags.length>0&&b.jsxs("div",{className:"flex items-center mt-2 space-x-1",children:[M.metadata.tags.slice(0,3).map(te=>b.jsxs("span",{className:"px-2 py-0.5 text-xs bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400 rounded",children:["#",te]},te)),M.metadata.tags.length>3&&b.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",M.metadata.tags.length-3," more"]})]})]}),b.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:te=>{te.stopPropagation(),Q(M.id)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Toggle favorite",children:b.jsx(lf,{className:`w-3 h-3 ${(F=M.metadata)!=null&&F.favorite?"text-yellow-500 fill-current":"text-gray-400 hover:text-yellow-500"}`})}),b.jsx("button",{onClick:te=>{te.stopPropagation(),P(M.id)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",title:"Toggle pin",children:b.jsx(oB,{className:`w-3 h-3 ${(V=M.metadata)!=null&&V.pinned?"text-blue-500":"text-gray-400 hover:text-blue-500"}`})}),b.jsx("button",{onClick:te=>{te.stopPropagation(),a(M.id)},className:"p-1 hover:bg-red-200 dark:hover:bg-red-800 rounded transition-colors",title:"Delete",children:b.jsx(Ul,{className:"w-3 h-3 text-red-500 hover:text-red-700"})})]})]})},M.id)})})})]})}const dv={trading:{name:"Trading",icon:Os,color:"text-green-600 bg-green-100 dark:bg-green-900/50 dark:text-green-400",description:"Trading setup and execution templates"},psychology:{name:"Psychology",icon:il,color:"text-purple-600 bg-purple-100 dark:bg-purple-900/50 dark:text-purple-400",description:"Mental and emotional management templates"},analysis:{name:"Analysis",icon:D1e,color:"text-blue-600 bg-blue-100 dark:bg-blue-900/50 dark:text-blue-400",description:"Market and trade analysis templates"},planning:{name:"Planning",icon:vu,color:"text-orange-600 bg-orange-100 dark:bg-orange-900/50 dark:text-orange-400",description:"Pre and post-trade planning templates"},review:{name:"Review",icon:rs,color:"text-indigo-600 bg-indigo-100 dark:bg-indigo-900/50 dark:text-indigo-400",description:"Performance review and reflection templates"},custom:{name:"Custom",icon:Yr,color:"text-gray-600 bg-gray-100 dark:bg-gray-900/50 dark:text-gray-400",description:"User-created custom templates"}},iXe=[{name:"Pre-Market Watchlist",description:"Pre-market preparation with symbols, game plans, and key levels",category:"planning",tags:["pre-market","watchlist","symbols","levels"],isFavorite:!0,content:`# Pre-Market Watchlist - {{date}}

## Key Market News
### Economic Calendar
- **Time:** Event - Impact Level
- ___: ___ - High/Medium/Low
- ___: ___ - High/Medium/Low
- ___: ___ - High/Medium/Low

### Overnight News
- **Major Headlines:**
  - 
  - 
  - 

## Watchlist Analysis
### Symbol 1: {{symbol1}}
- **Current Price:** {{price1}}
- **Overnight Movement:** {{move1}}
- **Key Level:** {{level1}}
- **Game Plan:** 
  - Long: If {{condition1}}
  - Short: If {{condition1}}
  - Avoid: If {{condition1}}

### Symbol 2: {{symbol2}}
- **Current Price:** {{price2}}
- **Overnight Movement:** {{move2}}
- **Key Level:** {{level2}}
- **Game Plan:** 
  - Long: If {{condition2}}
  - Short: If {{condition2}}
  - Avoid: If {{condition2}}

### Symbol 3: {{symbol3}}
- **Current Price:** {{price3}}
- **Overnight Movement:** {{move3}}
- **Key Level:** {{level3}}
- **Game Plan:** 
  - Long: If {{condition3}}
  - Short: If {{condition3}}
  - Avoid: If {{condition3}}

## Key Levels to Watch
### Support Levels
- 
- 
- 

### Resistance Levels
- 
- 
- 

## Market Sentiment
- **Overall Bias:** Bullish / Bearish / Neutral
- **Volatility Expectation:** High / Medium / Low
- **Session Focus:** {{session}}

## Pre-Market Checklist
- [ ] Reviewed overnight price action
- [ ] Checked economic calendar
- [ ] Identified key levels
- [ ] Set alerts for breakouts
- [ ] Reviewed risk management rules

**Mental Prep:** Stay focused on the plan. Don't chase the market.`},{name:"Morning Game Plan",description:"Comprehensive morning preparation with market outlook and strategy",category:"planning",tags:["morning","game-plan","outlook","strategy"],isFavorite:!0,content:`# Morning Game Plan - {{date}}

## Market Overview
### Overnight Action
- **Asian Session:** {{asian_session}}
- **European Session:** {{european_session}}
- **US Futures:** {{us_futures}}
- **Overall Sentiment:** {{sentiment}}

### Key Themes
- **Primary Theme:** 
- **Secondary Theme:** 
- **Risk Factors:** 

## Technical Setup
### Overall Market
- **Trend:** Bullish / Bearish / Sideways
- **Key S&P 500 Level:** {{spx_level}}
- **NASDAQ Level:** {{nasdaq_level}}
- **Volatility:** {{vix_level}}

### Sector Analysis
- **Leading Sectors:** 
- **Lagging Sectors:** 
- **Rotation Patterns:** 

## Trading Strategy for Today
### Primary Approach
- **Strategy:** 
- **Market Conditions:** 
- **Risk Level:** Conservative / Moderate / Aggressive

### Session Strategy
- **London Open:** 
- **US Open:** 
- **Mid-Session:** 
- **Earnings/FOMC:** 

## Risk Management
- **Daily Loss Limit:** \${{daily_limit}}
- **Max Position Size:** {{max_size}}%
- **Correlation Risk:** 
- **Stop Loss Protocol:** 

## Key Levels and Triggers
### Breakout Levels
- **Upside:** {{upside_level}}
- **Downside:** {{downside_level}}

### Rejection Levels
- **Resistance:** {{resistance}}
- **Support:** {{support}}

## Economic Events
- **Time:** Event - Impact
- {{event1_time}}: {{event1}} - {{event1_impact}}
- {{event2_time}}: {{event2}} - {{event2_impact}}
- {{event3_time}}: {{event3}} - {{event3_impact}}

## Goals for Today
### Primary Goals
1. 
2. 
3. 

### Performance Targets
- **Target P&L:** \${{target_pnl}}
- **Win Rate Goal:** {{target_win_rate}}%
- **Max Drawdown:** {{max_dd}}%

## Mental Preparation
### Focus Areas
- **Primary Focus:** 
- **Avoid:** 
- **Rule Reminder:** 

### Affirmation
"{{affirmation}}"

**Success Formula:** Patience + Discipline + Risk Management = Consistent Profits`},{name:"Economic Calendar Review",description:"Review of FOMC, earnings, and news events with market impact analysis",category:"analysis",tags:["economic","FOMC","earnings","news","impact"],isFavorite:!1,content:`# Economic Calendar Review - {{date}}

## High Impact Events
### FOMC Meetings
- **Next Meeting:** {{fomc_date}}
- **Expected Action:** Rate Cut / Hold / Rate Hike
- **Market Expectation:** {{market_expectation}}
- **Historical Impact:** 

### Earnings Reports
#### Before Market Open
- **Company:** {{company1}} - {{earnings1}} vs {{expected1}}
- **Company:** {{company2}} - {{earnings2}} vs {{expected2}}

#### After Market Close
- **Company:** {{company3}} - {{earnings3}} vs {{expected3}}
- **Company:** {{company4}} - {{earnings4}} vs {{expected4}}

## Economic Reports
### Today's Data
- **Time:** Report - Consensus - Previous
- {{time1}}: {{report1}} - {{consensus1}} - {{previous1}}
- {{time2}}: {{report2}} - {{consensus2}} - {{previous2}}
- {{time3}}: {{report3}} - {{consensus3}} - {{previous3}}

### Key Numbers to Watch
- **Non-Farm Payrolls:** {{nfp}} vs {{nfp_consensus}}
- **Unemployment Rate:** {{unemployment}}%
- **Inflation (CPI):** {{cpi}}% vs {{cpi_consensus}}%
- **GDP Growth:** {{gdp}}% vs {{gdp_consensus}}%

## Market Impact Analysis
### Pre-Event Expectations
- **Probable Reaction:** 
- **Key Level to Watch:** 
- **Volatility Expectation:** High / Medium / Low

### Risk Management
- **Reduce Size Before:** 
- **Avoid New Positions:** 
- **Watch for Whipsaws:** 

## Trading Plan
### Event Trading Rules
1. **Pre-Event:** 
2. **During Event:** 
3. **Post-Event:** 

### Expected Scenarios
#### Bullish Scenario
- **Trigger:** 
- **Action:** 
- **Target:** 

#### Bearish Scenario
- **Trigger:** 
- **Action:** 
- **Target:** 

## News Monitoring
### Key Sources
- [ ] Bloomberg
- [ ] Reuters
- [ ] Financial Times
- [ ] Wall Street Journal

### Social Media
- [ ] @ReutersBreaking
- [ ] @FTBreakingNews
- [ ] @benzinga

## Post-Event Analysis
### Actual vs Expected
- **Result:** 
- **Market Reaction:** 
- **What I Learned:** 

**Remember:** News trading requires quick execution and strict risk management.`},{name:"Post-Session Review",description:"Complete post-session analysis of mistakes, successes, and lessons",category:"review",tags:["post-session","review","mistakes","lessons"],isFavorite:!0,content:`# Post-Session Review - {{date}}

## Session Overview
- **Session:** {{session}}
- **Market Direction:** {{direction}}
- **Volatility Level:** {{volatility}}
- **Overall Performance:** {{performance}}

## Trading Statistics
- **Total Trades:** {{total_trades}}
- **Winners:** {{winners}} ({{win_rate}}%)
- **Losers:** {{losers}}
- **Breakeven:** {{breakeven}}
- **Net P&L:** \${{net_pnl}}
- **Best Trade:** \${{best_trade}}
- **Worst Trade:** \${{worst_trade}}

## Individual Trade Analysis
### Trade 1: {{symbol1}}
- **Setup:** {{setup1}}
- **Entry:** {{entry1}} | **Exit:** {{exit1}}
- **R:R:** {{rr1}}
- **What Went Right:** 
- **What Went Wrong:** 
- **Lesson:** 

### Trade 2: {{symbol2}}
- **Setup:** {{setup2}}
- **Entry:** {{entry2}} | **Exit:** {{exit2}}
- **R:R:** {{rr2}}
- **What Went Right:** 
- **What Went Wrong:** 
- **Lesson:** 

### Trade 3: {{symbol3}}
- **Setup:** {{setup3}}
- **Entry:** {{entry3}} | **Exit:** {{exit3}}
- **R:R:** {{rr3}}
- **What Went Right:** 
- **What Went Wrong:** 
- **Lesson:** 

## Performance Analysis
### What Went Well
- [ ] 
- [ ] 
- [ ] 

### What Went Wrong
- [ ] 
- [ ] 
- [ ] 

### Rule Violations
1. **Violation:** 
   - **Rule:** 
   - **Impact:** 
   - **Prevention:** 

2. **Violation:** 
   - **Rule:** 
   - **Impact:** 
   - **Prevention:** 

## Emotional Analysis
### Emotions Experienced
- **Confidence (1-10):** {{confidence}}
- **Stress Level (1-10):** {{stress}}
- **FOMO Incidents:** {{fomo}}
- **Revenge Trading:** {{revenge}}

### Mindset Assessment
- **Peak Performance Moments:** 
- **Weakness Exposed:** 
- **Mental Strength:** 

## Market Structure
### Key Observations
- **Volume Patterns:** 
- **Time-Based Movement:** 
- **Sector Rotation:** 
- **News Impact:** 

### Technical Analysis
- **Key Levels Tested:** 
- **Chart Patterns:** 
- **Momentum Changes:** 

## Risk Management Review
### Position Sizing
- **Properly Sized:** {{proper_sized}}
- **Oversized:** {{oversized}}
- **Ignored Size Rules:** {{ignored_rules}}

### Stop Loss Discipline
- **Stops Honored:** {{stops_honored}}
- **Stops Moved:** {{stops_moved}}
- **No Stop Trades:** {{no_stop}}

## Tomorrow's Preparation
### Key Levels to Watch
- **Support:** {{support}}
- **Resistance:** {{resistance}}
- **Breakout Levels:** {{breakout}}

### Economic Calendar
- **Events:** 
- **Impact:** 

### Trading Focus
- **Primary Strategy:** 
- **Secondary Strategy:** 
- **Avoid:** 

## Weekly Goals Progress
### Current Week Objectives
- [ ] Goal 1: 
- [ ] Goal 2: 
- [ ] Goal 3: 

### Progress Assessment
- **On Track:** 
- **Behind:** 
- **Adjustments Needed:** 

**Key Lesson Today:** {{key_lesson}}

**Tomorrow's Mantra:** "{{tomorrow_mantra}}"`},{name:"Daily Performance Summary",description:"Daily P&L, statistics, and comprehensive performance tracking",category:"analysis",tags:["daily","performance","statistics","P&L"],isFavorite:!0,content:`# Daily Performance Summary - {{date}}

## Financial Performance
### P&L Summary
- **Gross P&L:** \${{gross_pnl}}
- **Net P&L:** \${{net_pnl}}
- **Commission:** \${{commission}}
- **Fees:** \${{fees}}
- **R Multiple:** {{r_multiple}}

### Trade Metrics
- **Total Trades:** {{total_trades}}
- **Winners:** {{winners}} ({{win_rate}}%)
- **Losers:** {{losers}}
- **Breakeven:** {{breakeven}}
- **Average Winner:** \${{avg_winner}}
- **Average Loser:** \${{avg_loser}}
- **Profit Factor:** {{profit_factor}}

## Performance vs Goals
### Daily Targets
- **P&L Target:** \${{pnl_target}} | **Achieved:** {{achieved}}%
- **Trade Target:** {{trade_target}} trades | **Executed:** {{executed}}
- **Win Rate Target:** {{win_rate_target}}% | **Achieved:** {{actual_win_rate}}%

### Risk Metrics
- **Max Drawdown:** \${{max_dd}} ({{dd_percent}}%)
- **Risk Per Trade:** {{risk_per_trade}}%
- **Portfolio Heat:** {{portfolio_heat}}%
- **Sharpe Ratio:** {{sharpe}}

## Trade Breakdown
### Best Trades
1. **{{symbol1}}** - \${{pnl1}} ({{rr1}}R)
   - **Setup:** {{setup1}}
   - **Execution:** {{execution1}}

2. **{{symbol2}}** - \${{pnl2}} ({{rr2}}R)
   - **Setup:** {{setup2}}
   - **Execution:** {{execution2}}

3. **{{symbol3}}** - \${{pnl3}} ({{rr3}}R)
   - **Setup:** {{setup3}}
   - **Execution:** {{execution3}}

### Worst Trades
1. **{{bad_symbol1}}** - \${{bad_pnl1}} ({{bad_rr1}}R)
   - **Mistake:** {{mistake1}}
   - **Lesson:** {{lesson1}}

2. **{{bad_symbol2}}** - \${{bad_pnl2}} ({{bad_rr2}}R)
   - **Mistake:** {{mistake2}}
   - **Lesson:** {{lesson2}}

## Strategy Performance
### By Strategy Type
- **Scalping:** {{scalp_trades}} trades, \${{scalp_pnl}}
- **Momentum:** {{momentum_trades}} trades, \${{momentum_pnl}}
- **Reversal:** {{reversal_trades}} trades, \${{reversal_pnl}}
- **Breakout:** {{breakout_trades}} trades, \${{breakout_pnl}}

### By Time Frame
- **Scalp (<5min):** {{scalp_tf_trades}} trades, \${{scalp_tf_pnl}}
- **Short (5-15min):** {{short_tf_trades}} trades, \${{short_tf_pnl}}
- **Medium (15-60min):** {{medium_tf_trades}} trades, \${{medium_tf_pnl}}
- **Long (>60min):** {{long_tf_trades}} trades, \${{long_tf_pnl}}

## Market Conditions Impact
### Volatility Analysis
- **Average Range:** {{avg_range}}
- **Intraday High:** {{intraday_high}}
- **Intraday Low:** {{intraday_low}}
- **Volume:** {{volume}}

### News Impact
- **Economic Events:** {{economic_events}}
- **Earnings:** {{earnings}}
- **Geopolitical:** {{geopolitical}}
- **Systemic:** {{systemic}}

## Psychological Performance
### Emotional Metrics
- **Confidence (1-10):** {{confidence}}
- **Stress Level (1-10):** {{stress}}
- **Discipline (1-10):** {{discipline}}
- **Focus (1-10):** {{focus}}

### Behavioral Analysis
- **Rule Violations:** {{rule_violations}}
- **FOMO Incidents:** {{fomo_incidents}}
- **Revenge Trades:** {{revenge_trades}}
- **Overtrading:** {{overtrading}}

## Comparative Analysis
### Week-to-Date
- **Current Week P&L:** \${{week_pnl}}
- **Previous Week P&L:** \${{prev_week_pnl}}
- **Performance Difference:** {{performance_diff}}

### Month-to-Date
- **Current Month P&L:** \${{month_pnl}}
- **Target Month P&L:** \${{month_target}}
- **Progress:** {{month_progress}}%

## Areas for Improvement
### Technical
- [ ] 
- [ ] 
- [ ] 

### Mental
- [ ] 
- [ ] 
- [ ] 

### Risk Management
- [ ] 
- [ ] 
- [ ] 

## Tomorrow's Focus
### Primary Goals
1. 
2. 
3. 

### Areas to Avoid
- [ ] 
- [ ] 
- [ ] 

**Performance Rating:** {{rating}}/10

**Key Insight:** {{key_insight}}`},{name:"Daily Trading Plan",description:"Comprehensive daily preparation template",category:"planning",tags:["daily","pre-market","planning"],isFavorite:!0,content:`# Daily Trading Plan - {{date}}

## Pre-Market Analysis (30 min before open)
### Economic Calendar
- [ ] Check today's economic events
- [ ] Identify high-impact news times
- [ ] Note any overnight developments

### Technical Analysis
- [ ] Review overnight price action
- [ ] Identify key support/resistance levels
- [ ] Mark important moving averages
- [ ] Note any chart patterns forming

### Market Sentiment
- [ ] Check futures/crypto movements
- [ ] Review weekend news impact
- [ ] Assess overall market bias

## Trading Strategy for Today
### Primary Strategy
- **Strategy:** 
- **Market Conditions:** 
- **Risk Level:** 

### Key Levels to Watch
- **Support Levels:** 
- **Resistance Levels:** 

### Session Focus
- [ ] Asian Session (if applicable)
- [ ] London Session
- [ ] New York Session

## Risk Management
- **Daily Loss Limit:** $___ or ___% of account
- **Position Size:** ___ lots max per trade
- **Maximum Trades:** ___ trades for the day

## Goals for Today
- [ ] 
- [ ] 
- [ ] 

**Mental Preparation:** Remember, today is just one day in my trading journey. I will trade with discipline and patience.`},{name:"Trade Analysis",description:"Detailed post-trade analysis template",category:"analysis",tags:["post-trade","analysis","reflection"],isFavorite:!0,content:`# Trade Analysis - {{symbol}} - {{date}}

## Trade Details
- **Symbol:** {{symbol}}
- **Entry:** {{entry_price}}
- **Exit:** {{exit_price}}
- **Position Size:** {{size}} lots
- **P&L:** $\\{{pnl}}
- **Duration:** {{duration}}
- **Session:** {{session}}

## Setup Quality (1-10)
- **Market Analysis:** {{analysis_score}}/10
- **Entry Timing:** {{execution_score}}/10
- **Trade Management:** {{management_score}}/10
- **Exit Execution:** {{exit_score}}/10

## What Went Well
- 
- 
- 

## What Could Be Improved
- 
- 
- 

## Lessons Learned
1. 
2. 
3. 

## Rule Compliance
- [ ] Followed entry rules
- [ ] Proper position sizing
- [ ] Stop loss respected
- [ ] No emotional trading
- [ ] Trade journal updated

## Score: ___/50

## Next Trade Improvements
- 
- `},{name:"Weekly Review",description:"Comprehensive weekly performance review",category:"review",tags:["weekly","review","performance"],isFavorite:!1,content:`# Weekly Trading Review - Week of {{date}}

## Performance Summary
### Week Overview
- **Total Trades:** 
- **Winners:** 
- **Losers:** 
- **Win Rate:** ___%
- **Net P&L:** $___
- **Average R:R:** 

### Best Trades
1. **Trade:** 
   - **Reason for Success:** 
2. **Trade:** 
   - **Reason for Success:** 

### Worst Trades
1. **Trade:** 
   - **What Went Wrong:** 
2. **Trade:** 
   - **What Went Wrong:** 

## Rule Compliance
- [ ] Followed daily loss limits
- [ ] Maintained position sizing discipline
- [ ] No emotional trading incidents
- [ ] All trades documented
- [ ] Proper risk management

## Strategy Performance
### What Worked
- 
- 
- 

### What Didn't Work
- 
- 
- 

## Psychological Insights
### Emotions Experienced
- **Confidence Level (1-10):** 
- **Stress Level (1-10):** 
- **FOMO Incidents:** 
- **Revenge Trading:** 

### Mental Improvements Needed
- 
- 
- 

## Week's Goals Review
- [ ] Goal 1: 
- [ ] Goal 2: 
- [ ] Goal 3: 

## Next Week's Focus
### Primary Objectives
1. 
2. 
3. 

### Areas for Improvement
- 
- 
- 

### New Strategies to Test
- 
- `},{name:"Monthly Trading Goals",description:"Monthly goal setting and progress tracking",category:"planning",tags:["monthly","goals","planning"],isFavorite:!1,content:`# Monthly Trading Goals - {{month}} {{year}}

## Primary Objectives
### Financial Goals
- **Target P&L:** $___
- **Target Win Rate:** ___%
- **Target R:R Average:** ___
- **Risk per Trade:** ___%

### Performance Goals
- [ ] 
- [ ] 
- [ ] 
- [ ] 

### Learning Goals
- [ ] 
- [ ] 
- [ ] 
- [ ] 

## Monthly Strategy Focus
### Primary Strategy This Month
- **Strategy:** 
- **Expected Performance:** 
- **Risk Level:** 

### Key Metrics to Track
- [ ] Daily consistency
- [ ] Emotional discipline
- [ ] Rule compliance
- [ ] Profit factor
- [ ] Maximum drawdown

## Weekly Milestones
### Week 1
- **Focus:** 
- **Target:** 
- **Key Actions:** 

### Week 2
- **Focus:** 
- **Target:** 
- **Key Actions:** 

### Week 3
- **Focus:** 
- **Target:** 
- **Key Actions:** 

### Week 4
- **Focus:** 
- **Target:** 
- **Key Actions:** 

## Risk Management Rules for This Month
- **Daily Loss Limit:** $___
- **Maximum Weekly Loss:** $___
- **Position Size Adjustment:** 
- **No-Trade Conditions:** 

## Success Metrics
- [ ] Hit profit target
- [ ] Maintain win rate goal
- [ ] Zero rule violations
- [ ] Complete all learning goals
- [ ] Emotional discipline maintained

## Backup Plan
If things don't go as planned:
1. 
2. 
3. 

**Motivation:** I am committed to consistent, disciplined trading. Every trade is a step toward mastery.`},{name:"Psychology Check-in",description:"Mental state and emotional tracking template",category:"psychology",tags:["psychology","mental","emotions"],isFavorite:!0,content:`# Psychology Check-in - {{date}}

## Current Mental State (1-10 scale)
### Confidence Level
- **Overall Confidence:** {{confidence}}/10
- **Strategy Confidence:** {{strategy_confidence}}/10
- **Market Confidence:** {{market_confidence}}/10

### Emotional State
- **Stress Level:** {{stress}}/10
- **Anxiety Level:** {{anxiety}}/10
- **Excitement Level:** {{excitement}}/10
- **Frustration Level:** {{frustration}}/10

## Recent Emotions
### What I've Been Feeling
- 
- 
- 

### Triggers Identified
- 
- 
- 

## Mindset Assessment
### Positive Mindset Indicators
- [ ] Feeling optimistic about trades
- [ ] Following rules consistently
- [ ] Learning from mistakes
- [ ] Staying patient

### Warning Signs
- [ ] Revenge trading thoughts
- [ ] FOMO anxiety
- [ ] Overconfidence
- [ ] Pessimism about market
- [ ] Impulsive behavior

## Coping Strategies Used
### What Helped
- 
- 
- 

### What Didn't Help
- 
- 
- 

## Today's Trading Mindset
### Before Market Open
- **Primary Focus:** 
- **Mantra/Affirmation:** 
- **Intention:** 

### During Trading
- **Rule Reminder:** 
- **Emotional Goal:** 
- **Success Definition:** 

### End of Day
- **Gratitude:** 
- **Learning:** 
- **Tomorrow's Intention:** 

## Action Items
### This Week
- [ ] 
- [ ] 
- [ ] 

### Mental Training Goals
- [ ] 
- [ ] 
- [ ] 

## Professional Support
### When to Seek Help
- [ ]5
- [ ]
- [ ]
- [ ]

**Remember:** Trading psychology is just as important as technical skills. Master your mind to master the markets.`},{name:"Market Analysis",description:"Comprehensive technical and fundamental market analysis",category:"analysis",tags:["market","technical","fundamental","analysis"],isFavorite:!0,content:`# Market Analysis - {{date}}

## Overall Market Assessment
### Trend Analysis
- **S&P 500 Trend:** {{spx_trend}}
- **NASDAQ Trend:** {{nasdaq_trend}}
- **Dow Jones Trend:** {{dow_trend}}
- **Russell 2000:** {{russell_trend}}

### Key Market Levels
- **S&P 500:** Current {{spx_price}} | Support {{spx_support}} | Resistance {{spx_resistance}}
- **NASDAQ:** Current {{nasdaq_price}} | Support {{nasdaq_support}} | Resistance {{nasdaq_resistance}}
- **VIX Level:** {{vix_level}} (Fear/Greed)

## Technical Analysis
### Daily Charts
#### S&P 500
- **Pattern:** {{spx_pattern}}
- **Support:** {{spx_support_level}}
- **Resistance:** {{spx_resistance_level}}
- **Key Moving Averages:** 
  - 20-day: {{ma20_spX}}
  - 50-day: {{ma50_spX}}
  - 200-day: {{ma200_spX}}

#### NASDAQ
- **Pattern:** {{nasdaq_pattern}}
- **Support:** {{nasdaq_support_level}}
- **Resistance:** {{nasdaq_resistance_level}}
- **Key Moving Averages:** 
  - 20-day: {{ma20_nasdaq}}
  - 50-day: {{ma50_nasdaq}}
  - 200-day: {{ma200_nasdaq}}

### Intraday Analysis
- **Opening Range:** {{opening_range}}
- **Midday Consolidation:** {{midday_consolidation}}
- **Closing Action:** {{closing_action}}
- **Volume Pattern:** {{volume_pattern}}

## Fundamental Analysis
### Economic Indicators
- **Interest Rates:** {{interest_rates}}
- **Inflation (CPI):** {{cpi}}%
- **Unemployment:** {{unemployment}}%
- **GDP Growth:** {{gdp_growth}}%
- **Consumer Confidence:** {{consumer_confidence}}

### Corporate Earnings
- **Q{{quarter}} Earnings Season:**
  - **Beat Rate:** {{beat_rate}}%
  - **Revenue Growth:** {{revenue_growth}}%
  - **Guidance:** {{guidance}}
  - **Forward P/E:** {{forward_pe}}

### Market Drivers
- **Primary Driver:** {{primary_driver}}
- **Secondary Driver:** {{secondary_driver}}
- **Risk Factor:** {{risk_factor}}
- **Opportunity:** {{opportunity}}

## Sector Analysis
### Leading Sectors
1. **{{sector1}}** - Performance: {{performance1}}%
   - **Key Stocks:** {{key_stocks1}}
   - **Catalyst:** {{catalyst1}}

2. **{{sector2}}** - Performance: {{performance2}}%
   - **Key Stocks:** {{key_stocks2}}
   - **Catalyst:** {{catalyst2}}

3. **{{sector3}}** - Performance: {{performance3}}%
   - **Key Stocks:** {{key_stocks3}}
   - **Catalyst:** {{catalyst3}}

### Lagging Sectors
1. **{{lagging_sector1}}** - Performance: {{lag_performance1}}%
2. **{{lagging_sector2}}** - Performance: {{lag_performance2}}%

## Sentiment Analysis
### Market Sentiment
- **Fear & Greed Index:** {{fear_greed}} (0-100)
- **Put/Call Ratio:** {{put_call_ratio}}
- **Insider Selling:** {{insider_selling}}
- **Short Interest:** {{short_interest}}

### News Flow
- **Positive News:** {{positive_news}}
- **Negative News:** {{negative_news}}
- **Neutral News:** {{neutral_news}}

## Risk Assessment
### Systematic Risks
- [ ] Recession fears
- [ ] Geopolitical tensions
- [ ] Interest rate changes
- [ ] Currency fluctuations
- [ ] Regulatory changes

### Market Structure Risks
- [ ] High-frequency trading impact
- [ ] Options expiration effects
- [ ] Fed policy changes
- [ ] Market maker behavior

## Trading Implications
### Short-term Outlook (1-5 days)
- **Bias:** {{short_term_bias}}
- **Key Levels:** {{key_levels_short}}
- **Volatility Expectation:** {{volatility_short}}

### Medium-term Outlook (1-4 weeks)
- **Bias:** {{medium_term_bias}}
- **Key Levels:** {{key_levels_medium}}
- **Volatility Expectation:** {{volatility_medium}}

### Long-term Outlook (1-3 months)
- **Bias:** {{long_term_bias}}
- **Key Levels:** {{key_levels_long}}
- **Volatility Expectation:** {{volatility_long}}

## Action Items
### For Next Session
- [ ] Monitor {{monitor_level}}
- [ ] Watch for {{watch_catalyst}}
- [ ] Be ready for {{ready_for}}

### This Week
- [ ] Track {{track_metric}}
- [ ] Prepare for {{prepare_event}}
- [ ] Review strategy: {{review_strategy}}

**Analysis Summary:** {{analysis_summary}}

**Confidence Level:** {{confidence}}/10`},{name:"Trade Setup Analysis",description:"Detailed analysis of specific trade setups with entry/exit rules",category:"analysis",tags:["setup","entry","exit","rules"],isFavorite:!0,content:`# Trade Setup Analysis - {{symbol}} - {{date}}

## Setup Overview
- **Symbol:** {{symbol}}
- **Current Price:** \${{current_price}}
- **Timeframe:** {{timeframe}}
- **Setup Type:** {{setup_type}}
- **Market Condition:** {{market_condition}}

## Technical Setup
### Chart Pattern
- **Pattern Name:** {{pattern_name}}
- **Pattern Status:** {{pattern_status}}
- **Pattern Quality:** {{pattern_quality}}/10
- **Measured Move:** {{measured_move}}

### Key Levels
- **Entry Level:** {{entry_level}}
- **Stop Loss:** {{stop_loss}}
- **Target 1:** {{target1}}
- **Target 2:** {{target2}}
- **Target 3:** {{target3}}

### Moving Averages
- **20-day MA:** {{ma20}} @ \${{price20}}
- **50-day MA:** {{ma50}} @ \${{price50}}
- **200-day MA:** {{ma200}} @ \${{price200}}
- **Relationship:** {{ma_relationship}}

### Volume Analysis
- **Current Volume:** {{current_volume}} ({{volume_percentile}}th percentile)
- **Average Volume:** {{avg_volume}}
- **Volume Pattern:** {{volume_pattern}}
- **Institutional Activity:** {{institutional_activity}}

## Entry Rules
### Primary Entry
1. **Condition:** {{entry_condition1}}
2. **Trigger:** {{entry_trigger1}}
3. **Confirmation:** {{entry_confirmation1}}

### Alternative Entry
1. **Condition:** {{entry_condition2}}
2. **Trigger:** {{entry_trigger2}}
3. **Confirmation:** {{entry_confirmation2}}

### Entry Timing
- **Best Entry Time:** {{entry_time}}
- **Avoid Times:** {{avoid_times}}
- **Market Session:** {{market_session}}

## Risk Management
### Position Sizing
- **Account Risk:** {{account_risk}}%
- **Position Size:** {{position_size}} shares
- **Dollar Risk:** \${{dollar_risk}}
- **R Multiple Risk:** {{r_risk}}R

### Stop Loss Rules
- **Initial Stop:** {{initial_stop}} at \${{stop_price}}
- **Stop Justification:** {{stop_justification}}
- **Hard Stop vs Trailing:** {{stop_type}}
- **Adjustment Rules:** {{adjustment_rules}}

### Profit Taking
- **Partial Profit:** {{partial_profit}}% at \${{partial_price}}
- **Full Profit:** {{full_profit}}% at \${{full_price}}
- **Trailing Stop:** {{trailing_stop}}%
- **Time Stop:** {{time_stop}} hours

## Scenario Analysis
### Bullish Scenario
- **Probability:** {{bullish_probability}}%
- **Target:** \${{bullish_target}}
- **Timeline:** {{bullish_timeline}}
- **Key Catalyst:** {{bullish_catalyst}}

### Bearish Scenario
- **Probability:** {{bearish_probability}}%
- **Target:** \${{bearish_target}}
- **Timeline:** {{bearish_timeline}}
- **Key Risk:** {{bearish_risk}}

### Sideways Scenario
- **Probability:** {{sideways_probability}}%
- **Range:** \${{sideways_range}}
- **Strategy:** {{sideways_strategy}}

## Trade Management
### Scaling Rules
- **Add On:** {{add_on_condition}} at \${{add_on_price}}
- **Scale Out:** {{scale_out_condition}} at \${{scale_out_price}}
- **Hedge Position:** {{hedge_condition}} at \${{hedge_price}}

### Exit Strategies
1. **Profit Target:** \${{profit_target}}
2. **Time Exit:** {{time_exit}} hours
3. **Technical Exit:** {{technical_exit}}
4. **Trailing Stop:** {{trailing_exit}}

## Market Context
### Overall Market
- **Market Trend:** {{market_trend}}
- **Market Sentiment:** {{market_sentiment}}
- **Sector Performance:** {{sector_performance}}
- **Economic Calendar:** {{economic_calendar}}

### Symbol-Specific
- **Earnings:** {{earnings}}
- **News:** {{news}}
- **Analyst Ratings:** {{ratings}}
- **Options Flow:** {{options_flow}}

## Trade Execution Plan
### Pre-Trade Checklist
- [ ] Confirm setup quality
- [ ] Check market conditions
- [ ] Verify risk management
- [ ] Review entry rules
- [ ] Set alerts

### During Trade
- [ ] Monitor key levels
- [ ] Watch volume
- [ ] Check market context
- [ ] Follow exit rules
- [ ] Maintain discipline

### Post-Trade
- [ ] Document execution
- [ ] Analyze results
- [ ] Extract lessons
- [ ] Update trading plan

## Success Metrics
### Entry Quality
- **Setup Score:** {{setup_score}}/10
- **Risk/Reward:** {{risk_reward}}
- **Market Context:** {{market_context}}/10
- **Overall Rating:** {{overall_rating}}/10

**Setup Confidence:** {{confidence}}/10

**Key Success Factor:** {{success_factor}}

**Primary Risk:** {{primary_risk}}`},{name:"Weekly Strategy",description:"Weekly market conditions, key opportunities, and strategy focus",category:"planning",tags:["weekly","strategy","opportunities","planning"],isFavorite:!1,content:`# Weekly Strategy - Week of {{week_start}} to {{week_end}}

## Market Environment Assessment
### Overall Market Trend
- **Primary Trend:** Bullish / Bearish / Sideways
- **Trend Strength:** {{trend_strength}}/10
- **Market Sentiment:** Optimistic / Neutral / Pessimistic
- **Volatility Environment:** High / Medium / Low

### Key Market Themes
1. **Primary Theme:** {{primary_theme}}
2. **Secondary Theme:** {{secondary_theme}}
3. **Risk Theme:** {{risk_theme}}
4. **Opportunity Theme:** {{opportunity_theme}}

## Economic Calendar Focus
### High Impact Events This Week
- **{{event1_date}}:** {{event1}} - Impact: {{event1_impact}}
- **{{event2_date}}:** {{event2}} - Impact: {{event2_impact}}
- **{{event3_date}}:** {{event3}} - Impact: {{event3_impact}}
- **{{event4_date}}:** {{event4}} - Impact: {{event4_impact}}

### Earnings Highlights
#### Before Market Open
- **{{earnings1_company}}** - {{earnings1_date}} - Expected: {{earnings1_expected}}
- **{{earnings2_company}}** - {{earnings2_date}} - Expected: {{earnings2_expected}}

#### After Market Close
- **{{earnings3_company}}** - {{earnings3_date}} - Expected: {{earnings3_expected}}
- **{{earnings4_company}}** - {{earnings4_date}} - Expected: {{earnings4_expected}}

## Key Levels to Watch
### Major Indices
- **S&P 500:** Support {{spx_support}} | Resistance {{spx_resistance}}
- **NASDAQ:** Support {{nasdaq_support}} | Resistance {{nasdaq_resistance}}
- **Russell 2000:** Support {{russell_support}} | Resistance {{russell_resistance}}

### VIX Analysis
- **Current Level:** {{vix_level}}
- **Support:** {{vix_support}}
- **Resistance:** {{vix_resistance}}
- **Mean Reversion Target:** {{vix_target}}

## Sector Strategy
### Leading Sectors (Focus Areas)
1. **{{sector1}}** - Strategy: {{sector1_strategy}}
   - **Key Stocks:** {{sector1_stocks}}
   - **Catalyst:** {{sector1_catalyst}}

2. **{{sector2}}** - Strategy: {{sector2_strategy}}
   - **Key Stocks:** {{sector2_stocks}}
   - **Catalyst:** {{sector2_catalyst}}

3. **{{sector3}}** - Strategy: {{sector3_strategy}}
   - **Key Stocks:** {{sector3_stocks}}
   - **Catalyst:** {{sector3_catalyst}}

### Lagging Sectors (Avoid/Caution)
1. **{{lagging_sector1}}** - Avoid / Short / Wait
2. **{{lagging_sector2}}** - Avoid / Short / Wait

## Weekly Trading Plan
### Monday Strategy
- **Focus:** {{monday_focus}}
- **Key Level:** {{monday_level}}
- **Expected Move:** {{monday_move}}
- **Risk Level:** {{monday_risk}}

### Mid-Week (Tuesday-Thursday)
- **Focus:** {{midweek_focus}}
- **Strategy:** {{midweek_strategy}}
- **Volatility Expectation:** {{midweek_volatility}}
- **Event Risk:** {{midweek_event}}

### Friday Strategy
- **Focus:** {{friday_focus}}
- **Position Management:** {{friday_positions}}
- **Weekend Risk:** {{friday_risk}}
- **Next Week Prep:** {{next_week_prep}}

## Risk Management This Week
### Daily Risk Limits
- **Monday:** \${{monday_risk}} (Risk per trade: {{monday_rpt}}%)
- **Tuesday:** \${{tuesday_risk}} (Risk per trade: {{tuesday_rpt}}%)
- **Wednesday:** \${{wednesday_risk}} (Risk per trade: {{wednesday_rpt}}%)
- **Thursday:** \${{thursday_risk}} (Risk per trade: {{thursday_rpt}}%)
- **Friday:** \${{friday_risk}} (Risk per trade: {{friday_rpt}}%)

### Event Risk Management
- **Pre-Event:** Reduce size by {{pre_event_reduction}}%
- **Post-Event:** Wait {{post_event_wait}} minutes before new positions
- **High Volatility:** Maximum {{max_risk}}% account risk

## Performance Targets
### Weekly Goals
- **P&L Target:** \${{weekly_pnl_target}}
- **Win Rate Target:** {{weekly_win_rate}}%
- **Maximum Drawdown:** \${{weekly_max_dd}}
- **Sharpe Ratio Target:** {{weekly_sharpe}}

### Daily Breakdown
- **Monday:** \${{monday_target}}
- **Tuesday:** \${{tuesday_target}}
- **Wednesday:** \${{wednesday_target}}
- **Thursday:** \${{thursday_target}}
- **Friday:** \${{friday_target}}

## Key Opportunities
### High Probability Setups
1. **{{opportunity1}}**
   - **Setup:** {{opportunity1_setup}}
   - **Entry:** {{opportunity1_entry}}
   - **Target:** {{opportunity1_target}}
   - **Probability:** {{opportunity1_probability}}%

2. **{{opportunity2}}**
   - **Setup:** {{opportunity2_setup}}
   - **Entry:** {{opportunity2_entry}}
   - **Target:** {{opportunity2_target}}
   - **Probability:** {{opportunity2_probability}}%

### News-Driven Opportunities
- **{{news_opportunity1}}**
- **{{news_opportunity2}}**
- **{{news_opportunity3}}**

## Areas to Avoid
### High Risk Situations
1. **{{avoid1}}**
2. **{{avoid2}}**
3. **{{avoid3}}**

### Market Conditions to Avoid Trading
- [ ] High volatility without clear direction
- [ ] Major economic announcements
- [ ] Low volume holiday sessions
- [ ] First/last 15 minutes of session

## Mental Preparation
### Weekly Affirmations
1. "{{affirmation1}}"
2. "{{affirmation2}}"
3. "{{affirmation3}}"

### Focus Areas
- **Strength to Leverage:** {{strength}}
- **Weakness to Manage:** {{weakness}}
- **Rule to Follow:** {{rule}}

## Sunday Preparation Checklist
- [ ] Review economic calendar
- [ ] Identify key levels
- [ ] Plan position sizes
- [ ] Set alerts
- [ ] Mental preparation
- [ ] Review last week's performance
- [ ] Adjust strategy if needed

**Weekly Mantra:** "{{weekly_mantra}}"

**Success Formula:** Preparation + Discipline + Patience = Consistent Performance`},{name:"Quarterly Goals",description:"Quarterly performance targets, milestones, and strategic planning",category:"planning",tags:["quarterly","goals","targets","milestones"],isFavorite:!1,content:`# Quarterly Trading Goals - Q{{quarter}} {{year}}

## Financial Objectives
### Primary Financial Goals
- **Total P&L Target:** \${{total_pnl_target}}
- **Monthly P&L Targets:**
  - Month 1: \${{month1_target}}
  - Month 2: \${{month2_target}}
  - Month 3: \${{month3_target}}

### Performance Metrics
- **Target Win Rate:** {{win_rate_target}}%
- **Target Profit Factor:** {{profit_factor_target}}
- **Target Sharpe Ratio:** {{sharpe_target}}
- **Maximum Drawdown:** {{max_dd_target}}%
- **Average R:R:** {{rr_target}}

## Monthly Milestones
### Month 1 ({{month1_name}})
#### Goals
- [ ] **P&L Target:** \${{month1_pnl}}
- [ ] **Win Rate:** {{month1_win_rate}}%
- [ ] **Max Drawdown:** \${{month1_dd}}
- [ ] **New Strategies:** {{month1_strategies}}

#### Key Focus Areas
1. {{month1_focus1}}
2. {{month1_focus2}}
3. {{month1_focus3}}

### Month 2 ({{month2_name}})
#### Goals
- [ ] **P&L Target:** \${{month2_pnl}}
- [ ] **Win Rate:** {{month2_win_rate}}%
- [ ] **Max Drawdown:** \${{month2_dd}}
- [ ] **New Strategies:** {{month2_strategies}}

#### Key Focus Areas
1. {{month2_focus1}}
2. {{month2_focus2}}
3. {{month2_focus3}}

### Month 3 ({{month3_name}})
#### Goals
- [ ] **P&L Target:** \${{month3_pnl}}
- [ ] **Win Rate:** {{month3_win_rate}}%
- [ ] **Max Drawdown:** \${{month3_dd}}
- [ ] **New Strategies:** {{month3_strategies}}

#### Key Focus Areas
1. {{month3_focus1}}
2. {{month3_focus2}}
3. {{month3_focus3}}

## Strategy Development
### New Strategies to Develop
1. **{{strategy1}}**
   - **Target Month:** {{strategy1_month}}
   - **Expected Performance:** {{strategy1_performance}}
   - **Risk Level:** {{strategy1_risk}}

2. **{{strategy2}}**
   - **Target Month:** {{strategy2_month}}
   - **Expected Performance:** {{strategy2_performance}}
   - **Risk Level:** {{strategy2_risk}}

3. **{{strategy3}}**
   - **Target Month:** {{strategy3_month}}
   - **Expected Performance:** {{strategy3_performance}}
   - **Risk Level:** {{strategy3_risk}}

### Strategies to Improve
1. **{{improve_strategy1}}**
   - **Current Performance:** {{current_perf1}}
   - **Target Improvement:** {{target_improve1}}
   - **Action Plan:** {{action_plan1}}

2. **{{improve_strategy2}}**
   - **Current Performance:** {{current_perf2}}
   - **Target Improvement:** {{target_improve2}}
   - **Action Plan:** {{action_plan2}}

## Risk Management Objectives
### Position Sizing
- **Conservative Trades:** {{conservative_size}}% risk
- **Moderate Trades:** {{moderate_size}}% risk
- **Aggressive Trades:** {{aggressive_size}}% risk
- **Maximum Position:** {{max_position}}% of account

### Drawdown Management
- **Daily Drawdown Limit:** {{daily_dd}}%
- **Weekly Drawdown Limit:** {{weekly_dd}}%
- **Monthly Drawdown Limit:** {{monthly_dd}}%
- **Recovery Plan:** {{recovery_plan}}

## Learning & Development
### Educational Goals
- [ ] Complete {{course1}}
- [ ] Read books: {{books}}
- [ ] Analyze {{analysis_hours}} hours of market data
- [ ] Shadow successful traders: {{shadow_hours}} hours

### Skill Development
1. **{{skill1}}**
   - **Current Level:** {{skill1_current}}
   - **Target Level:** {{skill1_target}}
   - **Training Plan:** {{skill1_plan}}

2. **{{skill2}}**
   - **Current Level:** {{skill2_current}}
   - **Target Level:** {{skill2_target}}
   - **Training Plan:** {{skill2_plan}}

## Technology & Tools
### Platform Improvements
- [ ] Upgrade to {{platform_upgrade}}
- [ ] Add {{new_indicator}} indicator
- [ ] Implement {{automation_tool}} automation
- [ ] Optimize {{speed_optimization}}

### Data & Analysis
- [ ] Access {{data_source1}}
- [ ] Implement {{analysis_tool1}}
- [ ] Create custom {{custom_metric}}
- [ ] Set up {{alert_system}} alerts

## Mental & Psychological Goals
### Mental Training
- [ ] Meditation: {{meditation_minutes}} minutes daily
- [ ] Exercise: {{exercise_hours}} hours weekly
- [ ] Sleep optimization: {{sleep_hours}} hours nightly
- [ ] Stress management: {{stress_techniques}}

### Psychology Improvement
1. **{{psych_focus1}}**
   - **Current Challenge:** {{challenge1}}
   - **Improvement Strategy:** {{strategy1}}
   - **Success Metrics:** {{metrics1}}

2. **{{psych_focus2}}**
   - **Current Challenge:** {{challenge2}}
   - **Improvement Strategy:** {{strategy2}}
   - **Success Metrics:** {{metrics2}}

## Weekly Review Schedule
### Sunday Planning Sessions
- [ ] Review previous week's performance
- [ ] Plan upcoming week's strategy
- [ ] Set alerts and levels
- [ ] Mental preparation

### Wednesday Check-ins
- [ ] Mid-week performance review
- [ ] Strategy adjustment if needed
- [ ] Risk management review
- [ ] Goal progress assessment

## Success Metrics
### Quantitative Metrics
- **P&L vs Target:** {{pnl_vs_target}}%
- **Win Rate Achievement:** {{win_rate_ach}}%
- **Drawdown Control:** {{dd_control}}%
- **Strategy Performance:** {{strategy_perf}}%

### Qualitative Metrics
- **Discipline Score:** {{discipline_score}}/10
- **Emotional Control:** {{emotional_score}}/10
- **Process Adherence:** {{process_score}}/10
- **Continuous Learning:** {{learning_score}}/10

## Contingency Plans
### If Behind Target
- **1st Month:** {{contingency1_month1}}
- **2nd Month:** {{contingency1_month2}}
- **3rd Month:** {{contingency1_month3}}

### If Ahead of Target
- **Risk Management:** {{contingency2_risk}}
- **Position Sizing:** {{contingency2_size}}
- **Conservative Approach:** {{contingency2_conservative}}

## Accountability
### Self-Assessment Schedule
- **Weekly:** Sunday evening review
- **Bi-weekly:** Mid-quarter assessment
- **Monthly:** Comprehensive month-end review
- **Quarter-end:** Complete quarterly evaluation

### Support System
- **Trading Buddy:** {{trading_buddy}}
- **Mentor:** {{mentor}}
- **Accountability Partner:** {{partner}}
- **Professional Support:** {{professional}}

**Quarterly Commitment:** "{{quarterly_commitment}}"

**Success Vision:** {{success_vision}}

**Primary Focus:** {{primary_focus}}

**Remember:** Consistency beats perfection. Small daily improvements lead to quarterly success.`},{name:"Mistake Reflection",description:"Comprehensive analysis of trading mistakes and improvement strategies",category:"review",tags:["mistake","reflection","improvement","lessons"],isFavorite:!0,content:`# Mistake Reflection - {{date}}

## Mistake Overview
- **Date of Mistake:** {{mistake_date}}
- **Time of Day:** {{mistake_time}}
- **Market Condition:** {{market_condition}}
- **Mistake Type:** {{mistake_type}}
- **Severity:** Minor / Moderate / Major / Critical

## Trade Details
### What Happened
- **Symbol:** {{symbol}}
- **Setup:** {{setup}}
- **Intended Action:** {{intended_action}}
- **Actual Action:** {{actual_action}}
- **Result:** $\\{{pnl}} ({{rr}}R)
- **Time in Trade:** {{trade_duration}}

### The Mistake
1. **Primary Error:** {{primary_error}}
2. **Secondary Error:** {{secondary_error}}
3. **Root Cause:** {{root_cause}}

## Mistake Analysis
### What Went Wrong
#### Technical Errors
- [ ] **Entry Timing:** {{entry_timing}}
- [ ] **Exit Timing:** {{exit_timing}}
- [ ] **Position Sizing:** {{position_sizing}}
- [ ] **Risk Management:** {{risk_management}}
- [ ] **Stop Loss:** {{stop_loss}}

#### Mental Errors
- [ ] **Emotional Trading:** {{emotional_trading}}
- [ ] **FOMO:** {{fomo}}
- [ ] **Revenge Trading:** {{revenge_trading}}
- [ ] **Overconfidence:** {{overconfidence}}
- [ ] **Fear:** {{fear}}
- [ ] **Greed:** {{greed}}

#### Process Errors
- [ ] **Rule Violation:** {{rule_violation}}
- [ ] **Plan Deviation:** {{plan_deviation}}
- [ ] **Lack of Preparation:** {{preparation}}
- [ ] **Poor Analysis:** {{analysis}}
- [ ] **No Contingency:** {{contingency}}

### Contributing Factors
1. **{{factor1}}**
   - **Impact:** {{factor1_impact}}
   - **Prevention:** {{factor1_prevention}}

2. **{{factor2}}**
   - **Impact:** {{factor2_impact}}
   - **Prevention:** {{factor2_prevention}}

3. **{{factor3}}**
   - **Impact:** {{factor3_impact}}
   - **Prevention:** {{factor3_prevention}}

## Emotional Impact
### During the Mistake
- **Primary Emotion:** {{emotion_during}}
- **Stress Level (1-10):** {{stress_level}}
- **Confidence Impact:** {{confidence_impact}}
- **Physical Reaction:** {{physical_reaction}}

### After the Mistake
- **Immediate Reaction:** {{immediate_reaction}}
- **Learning Moment:** {{learning_moment}}
- **Regret Level (1-10):** {{regret_level}}
- **Determination to Improve:** {{determination}}

## Pattern Recognition
### Similar Past Mistakes
1. **{{past_mistake1}}**
   - **Similarity:** {{similarity1}}
   - **Pattern:** {{pattern1}}

2. **{{past_mistake2}}**
   - **Similarity:** {{similarity2}}
   - **Pattern:** {{pattern2}}

3. **{{past_mistake3}}**
   - **Similarity:** {{similarity3}}
   - **Pattern:** {{pattern3}}

### Underlying Pattern
- **Core Pattern:** {{core_pattern}}
- **Trigger:** {{trigger}}
- **Warning Signs:** {{warning_signs}}

## Impact Assessment
### Financial Impact
- **Direct Loss:** $\\{{direct_loss}}
- **Opportunity Cost:** $\\{{opportunity_cost}}
- **Psychological Cost:** {{psych_cost}}
- **Time Cost:** {{time_cost}}

### Performance Impact
- **Daily P&L Impact:** {{daily_pnl_impact}}
- **Weekly Goal Impact:** {{weekly_goal_impact}}
- **Monthly Target Impact:** {{monthly_target_impact}}
- **Confidence Impact:** {{confidence_performance}}

## Learning Extraction
### Key Lessons Learned
1. **{{lesson1}}**
   - **Why Important:** {{lesson1_importance}}
   - **Application:** {{lesson1_application}}

2. **{{lesson2}}**
   - **Why Important:** {{lesson2_importance}}
   - **Application:** {{lesson2_application}}

3. **{{lesson3}}**
   - **Why Important:** {{lesson3_importance}}
   - **Application:** {{lesson3_application}}

### Deeper Insights
- **About Myself:** {{insight_myself}}
- **About the Market:** {{insight_market}}
- **About Trading:** {{insight_trading}}
- **About Discipline:** {{insight_discipline}}

## Action Plan
### Immediate Actions (24-48 hours)
- [ ] {{immediate_action1}}
- [ ] {{immediate_action2}}
- [ ] {{immediate_action3}}
- [ ] {{immediate_action4}}

### Short-term Actions (1-2 weeks)
- [ ] {{short_action1}}
- [ ] {{short_action2}}
- [ ] {{short_action3}}
- [ ] {{short_action4}}

### Long-term Actions (1-3 months)
- [ ] {{long_action1}}
- [ ] {{long_action2}}
- [ ] {{long_action3}}
- [ ] {{long_action4}}

## Prevention Strategy
### Triggers to Avoid
1. **{{trigger1}}**
   - **Warning Signs:** {{warning1}}
   - **Prevention:** {{prevention1}}
   - **Alternative Action:** {{alternative1}}

2. **{{trigger2}}**
   - **Warning Signs:** {{warning2}}
   - **Prevention:** {{prevention2}}
   - **Alternative Action:** {{alternative2}}

### Protective Measures
- [ ] **Rule Update:** {{rule_update}}
- [ ] **Process Change:** {{process_change}}
- [ ] **Tool Improvement:** {{tool_improvement}}
- [ ] **Mental Training:** {{mental_training}}

### New Rules
1. **{{new_rule1}}**
   - **Enforcement:** {{rule1_enforcement}}
   - **Consequence:** {{rule1_consequence}}

2. **{{new_rule2}}**
   - **Enforcement:** {{rule2_enforcement}}
   - **Consequence:** {{rule2_consequence}}

## Growth Mindset
### What This Mistake Teaches Me
- **{{growth1}}**
- **{{growth2}}**
- **{{growth3}}**

### How I'm Getting Stronger
- **{{strength1}}**
- **{{strength2}}**
- **{{strength3}}**

### Future Success Building
- **Skills to Develop:** {{skills_develop}}
- **Habits to Build:** {{habits_build}}
- **Mindset to Cultivate:** {{mindset_cultivate}}

## Gratitude and Acceptance
### What I'm Grateful For
- **{{gratitude1}}**
- **{{gratitude2}}**
- **{{gratitude3}}**

### Acceptance Statement
"I accept this mistake as part of my learning journey. I choose to grow from it rather than be defined by it."

## Support and Accountability
### Who Can Help
- **Mentor:** {{mentor}}
- **Trading Partner:** {{partner}}
- **Professional Help:** {{professional_help}}

### Check-in Schedule
- **Daily:** {{daily_checkin}}
- **Weekly:** {{weekly_checkin}}
- **Monthly:** {{monthly_checkin}}

## Success Metrics
### Improvement Indicators
- **Rule Adherence:** {{rule_adherence}}%
- **Process Following:** {{process_following}}%
- **Emotional Control:** {{emotional_control}}/10
- **Learning Application:** {{learning_application}}%

**Key Takeaway:** {{key_takeaway}}

**Commitment:** {{commitment}}

**Visualization:** {{visualization}}

**Remember:** Every expert was once a beginner. Every mistake is a stepping stone to mastery.`}];function w8({templates:t,onTemplateCreate:e,onTemplateUpdate:r,onTemplateDelete:n,onTemplateUse:s,onClose:a}){const[l,c]=H.useState(""),[h,f]=H.useState("all"),[p,O]=H.useState(!1),[x,k]=H.useState(null),[w,_]=H.useState(null),[C,T]=H.useState(!1),[E,P]=H.useState("all"),[Q,B]=H.useState("usage"),[R,M]=H.useState({name:"",description:"",category:"custom",content:"",tags:[],isFavorite:!1}),I=[...iXe.map((J,oe)=>({...J,id:`predefined-${oe}`,createdAt:"2024-01-01T00:00:00.000Z",lastUsed:"2024-01-01T00:00:00.000Z",usageCount:Math.floor(Math.random()*50)+5})),...t],j=I.filter(J=>{const oe=J.name.toLowerCase().includes(l.toLowerCase())||J.description.toLowerCase().includes(l.toLowerCase())||J.tags.some(he=>he.toLowerCase().includes(l.toLowerCase())),ie=h==="all"||J.category===h,be=E==="all"||E==="favorites"&&J.isFavorite||E==="recent"&&J.usageCount>10||E==="prebuilt"&&J.id.startsWith("predefined-");return oe&&ie&&be}).sort((J,oe)=>{switch(Q){case"name":return J.name.localeCompare(oe.name);case"recent":return new Date(oe.createdAt).getTime()-new Date(J.createdAt).getTime();case"usage":default:return oe.usageCount-J.usageCount}}),z=(J,oe={})=>{const ie={date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),month:new Date().toLocaleString("default",{month:"long"}),year:new Date().getFullYear().toString(),quarter:Math.ceil((new Date().getMonth()+1)/3).toString(),week_start:new Date(Date.now()-new Date().getDay()*24*60*60*1e3).toLocaleDateString(),week_end:new Date(Date.now()+(6-new Date().getDay())*24*60*60*1e3).toLocaleDateString(),...oe};let be=J;return Object.entries(ie).forEach(([he,re])=>{const ae=new RegExp(`{{${he}}}`,"g");be=be.replace(ae,re)}),be},X=()=>{R.name.trim()&&(e(R),M({name:"",description:"",category:"custom",content:"",tags:[],isFavorite:!1}),O(!1))},W=()=>{!x||!R.name.trim()||(r(x.id,R),k(null),M({name:"",description:"",category:"custom",content:"",tags:[],isFavorite:!1}))},F=J=>{z(J.content),s(J.id),a()},V=J=>{_(J),T(!0)},te=J=>{J.id.startsWith("predefined-")||r(J.id,{isFavorite:!J.isFavorite})},G=J=>{k(J),M({name:J.name,description:J.description,category:J.category,content:J.content,tags:J.tags,isFavorite:J.isFavorite})};return b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-6xl h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Template Library"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a template to start your note"})]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[b.jsx(co,{className:"w-4 h-4 mr-2"}),"New Template"]}),b.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Close"})]})]}),p||x?b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:x?"Edit Template":"Create New Template"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Template Name"}),b.jsx("input",{type:"text",value:R.name,onChange:J=>M({...R,name:J.target.value}),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter template name"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),b.jsx("input",{type:"text",value:R.description,onChange:J=>M({...R,description:J.target.value}),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),b.jsx("select",{value:R.category,onChange:J=>M({...R,category:J.target.value}),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Object.entries(dv).map(([J,oe])=>b.jsx("option",{value:J,children:oe.name},J))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),b.jsx("textarea",{value:R.content,onChange:J=>M({...R,content:J.target.value}),rows:20,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Enter template content with {{placeholders}} for dynamic values"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma-separated)"}),b.jsx("input",{type:"text",value:R.tags.join(", "),onChange:J=>M({...R,tags:J.target.value.split(",").map(oe=>oe.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"trading, analysis, daily"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"is-favorite",checked:R.isFavorite,onChange:J=>M({...R,isFavorite:J.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("label",{htmlFor:"is-favorite",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Mark as favorite"})]}),b.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[b.jsx("button",{onClick:x?W:X,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:x?"Update Template":"Create Template"}),b.jsx("button",{onClick:()=>{O(!1),k(null),M({name:"",description:"",category:"custom",content:"",tags:[],isFavorite:!1})},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"})]})]})]})}):b.jsxs("div",{className:"flex-1 flex",children:[b.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 p-6",children:[b.jsxs("div",{className:"relative mb-4",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search templates...",value:l,onChange:J=>c(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Filter"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("button",{onClick:()=>P("all"),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors text-sm ${E==="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(Yr,{className:"w-4 h-4 mr-2"}),"All Templates"]}),b.jsxs("button",{onClick:()=>P("favorites"),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors text-sm ${E==="favorites"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(lf,{className:"w-4 h-4 mr-2"}),"Favorites"]}),b.jsxs("button",{onClick:()=>P("prebuilt"),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors text-sm ${E==="prebuilt"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(_x,{className:"w-4 h-4 mr-2"}),"Pre-built"]})]})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Sort By"}),b.jsxs("select",{value:Q,onChange:J=>B(J.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[b.jsx("option",{value:"usage",children:"Most Used"}),b.jsx("option",{value:"name",children:"Name (A-Z)"}),b.jsx("option",{value:"recent",children:"Recently Created"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Categories"}),b.jsxs("button",{onClick:()=>f("all"),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors ${h==="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(Yr,{className:"w-4 h-4 mr-2"}),"All Templates",b.jsx("span",{className:"ml-auto text-xs text-gray-500",children:I.length})]}),Object.entries(dv).map(([J,oe])=>{const ie=oe.icon,be=I.filter(he=>he.category===J).length;return b.jsxs("button",{onClick:()=>f(J),className:`w-full flex items-center px-3 py-2 rounded-lg text-left transition-colors ${h===J?"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[b.jsx(ie,{className:"w-4 h-4 mr-2"}),oe.name,b.jsx("span",{className:"ml-auto text-xs text-gray-500",children:be})]},J)})]})]}),b.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:j.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx(Yr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No templates found. Try adjusting your search or create a new template."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(J=>{const oe=dv[J.category],ie=oe.icon,be=J.id.startsWith("predefined-");return b.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow bg-white dark:bg-gray-800 relative group",children:[b.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("button",{onClick:()=>V(J),className:"p-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Preview Template",children:b.jsx(yh,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),!be&&b.jsx("button",{onClick:()=>te(J),className:"p-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:J.isFavorite?"Remove from Favorites":"Add to Favorites",children:b.jsx(lf,{className:`w-3 h-3 ${J.isFavorite?"text-yellow-500 fill-current":"text-gray-400"}`})})]})}),b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:`p-1.5 rounded-lg ${oe.color} mr-2`,children:b.jsx(ie,{className:"w-4 h-4"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate pr-8",children:J.name}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:oe.name})]})]}),J.isFavorite&&b.jsx(lf,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:J.description}),b.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[J.tags.slice(0,2).map(he=>b.jsxs("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded",children:["#",he]},he)),J.tags.length>2&&b.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",J.tags.length-2]})]}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-3",children:[b.jsxs("span",{className:"flex items-center",children:[b.jsx(Ko,{className:"w-3 h-3 mr-1"}),be?"Pre-built":`Used ${J.usageCount}x`]}),b.jsxs("span",{className:"text-xs",children:[Math.round(J.content.length/100)," sections"]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>F(J),className:"flex-1 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"}),!be&&b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("button",{onClick:()=>G(J),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Edit",children:b.jsx(Nf,{className:"w-4 h-4 text-gray-500"})}),b.jsx("button",{onClick:()=>n(J.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/50 rounded transition-colors",title:"Delete",children:b.jsx(Ul,{className:"w-4 h-4 text-red-500"})})]})]})]},J.id)})})})]})]}),C&&w&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:b.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:w.name}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.description})]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("button",{onClick:()=>F(w),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Use This Template"}),b.jsx("button",{onClick:()=>T(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:b.jsx(Ii,{className:"w-5 h-5"})})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Template Variables:"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-6",children:["date","time","month","year","quarter","week_start","week_end"].map(J=>b.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[b.jsxs("code",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:["{","{",J,"}","}"]}),b.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:J.replace(/_/g," ")})]},J))}),b.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:"Template Preview:"}),b.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:b.jsxs("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 dark:text-gray-200 font-mono",children:[z(w.content).substring(0,2e3),w.content.length>2e3&&b.jsxs("span",{className:"text-gray-500",children:["... [Content continues - ",w.content.length-2e3," more characters]"]})]})})]})}),b.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[b.jsxs("span",{children:["Category: ",dv[w.category].name]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[w.tags.length," tags"]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[w.usageCount," uses"]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Close"}),b.jsx("button",{onClick:()=>F(w),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Use Template"})]})]})]})})]})}const sXe=t=>{if(t.length===0)return{totalPnl:0,winRate:0,totalTrades:0,winners:0,losers:0,avgWin:0,avgLoss:0,profitFactor:0,maxDrawdown:0,consecutiveWins:0,consecutiveLosses:0,sharpeRatio:0,lastUpdated:new Date().toISOString()};const e=t.filter(R=>R.outcome==="win"),r=t.filter(R=>R.outcome==="loss"),n=e.length,s=r.length,a=t.length,l=a>0?n/a*100:0,c=t.reduce((R,M)=>R+M.pnl,0),h=n>0?e.reduce((R,M)=>R+M.pnl,0)/n:0,f=s>0?Math.abs(r.reduce((R,M)=>R+M.pnl,0)/s):0,p=f>0?h/f:0;let O=0,x=0,k=0,w=0;t.forEach(R=>{R.outcome==="win"?(k++,w=0,O=Math.max(O,k)):R.outcome==="loss"&&(w++,k=0,x=Math.max(x,w))});let _=0,C=0,T=0;t.forEach(R=>{_+=R.pnl,C=Math.max(C,_);const M=C-_;T=Math.max(T,M)});const E=t.map(R=>R.pnl),P=E.reduce((R,M)=>R+M,0)/E.length,Q=Math.sqrt(E.reduce((R,M)=>R+Math.pow(M-P,2),0)/E.length),B=Q>0?P/Q:0;return{totalPnl:c,winRate:l,totalTrades:t.length,winners:n,losers:s,avgWin:h,avgLoss:f,profitFactor:p,maxDrawdown:T,consecutiveWins:O,consecutiveLosses:x,sharpeRatio:B,lastUpdated:new Date().toISOString()}},aXe={strategy:{title:"Strategy",icon:_x,description:"Trading strategies and frameworks",color:"text-green-600 bg-green-100 dark:bg-green-900/50 dark:text-green-400"},rules:{title:"Rules",icon:nh,description:"Trading rules and procedures",color:"text-blue-600 bg-blue-100 dark:bg-blue-900/50 dark:text-blue-400"},notes:{title:"Notes",icon:Yr,description:"General trading notes and observations",color:"text-purple-600 bg-purple-100 dark:bg-purple-900/50 dark:text-purple-400"},relationships:{title:"Relationships",icon:zu,description:"Visual relationship mapping between notes",color:"text-orange-600 bg-orange-100 dark:bg-orange-900/50 dark:text-orange-400"},"recently-deleted":{title:"Recently Deleted",icon:af,description:"Recently deleted notes",color:"text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-400"}},Qc={isTradingNote:t=>["trade","pnl","entry","exit","stop loss","take profit","risk","position","currency","forex","analysis"].some(r=>t.toLowerCase().includes(r)),isPlanNote:t=>["plan","pre-market","post-session","daily","weekly","monthly","goals","strategy"].some(r=>t.toLowerCase().includes(r)),detectTradingNoteType:t=>{const e=t.toLowerCase();if(e.includes("pre-market")||e.includes("daily plan"))return"pre-market";if(e.includes("post-session")||e.includes("end of day"))return"post-session";if(e.includes("trade analysis")||e.includes("trade review"))return"trade-analysis";if(e.includes("weekly review")||e.includes("weekly goals"))return"weekly-review";if(e.includes("monthly")||e.includes("goals"))return"monthly-goals"},extractTradingMetrics:t=>{const e=t.match(/(?:pnl|p&l|profit|loss)[:\s]*\$?([-+]?\d+\.?\d*)/i),r=t.match(/(?:win rate|winning)[:\s]*(\d+(?:\.\d+)?)\s*%/i);return{pnl:e?parseFloat(e[1]):null,winRate:r?parseFloat(r[1]):null}}};function E3(){const{user:t}=Bi(),[e,r]=H.useState("strategy"),[n,s]=H.useState([]),[a,l]=H.useState([]),[c,h]=H.useState(!0),[f,p]=H.useState(null),[O,x]=H.useState(null),[k,w]=H.useState({}),[_,C]=H.useState(null),[T,E]=H.useState(""),[P,Q]=H.useState(null),[B,R]=H.useState(""),[M,I]=H.useState(!1),[j,z]=H.useState("json"),[X,W]=H.useState(!1),[F,V]=H.useState([]),[te,G]=H.useState(null),[J,oe]=H.useState([]),[ie,be]=H.useState({search:"",folder:null,tags:[],dateRange:{start:null,end:null},sortBy:"created_at",sortOrder:"desc",showDeleted:!1}),[he,re]=H.useState(null);H.useEffect(()=>{ae()},[t]);const ae=async()=>{if(t){h(!0),p(null);try{const lt=Ta.loadNotes(t.id),st=Zt.get(`trades_${t.id}`)||[],xt=lt.map(Ct=>K(Ct,st));s(xt),l(st);const tt=sXe(st);re(tt),ce(xt),console.log(" Loaded enhanced notes:",xt.length,"trades:",st.length)}catch(lt){console.error("Error loading data:",lt),p("Failed to load data")}finally{h(!1)}}},K=(lt,st)=>{Qc.isTradingNote(lt.text||"");const xt=Qc.isPlanNote(lt.text||"")?Qc.detectTradingNoteType(lt.text||""):void 0,tt=Qc.extractTradingMetrics(lt.text||""),Ct=[];if(lt.text){const Gt=lt.text.match(/(?:trade[-_\s]?id|position[-_\s]?id)[:\s]*([a-zA-Z0-9\-_]+)/gi);Gt&&Gt.forEach(cr=>{var Nt;const kt=(Nt=cr.split(":")[1])==null?void 0:Nt.trim();kt&&st.find(dr=>dr.id===kt||dr.position_id===kt)&&Ct.push(kt)})}return{...lt,tradingData:{relatedTrades:Ct,performanceMetrics:tt.winRate||tt.pnl?{score:Math.round((tt.winRate||0)+(tt.pnl||0)),notes:"Automatically extracted from note content"}:void 0,planType:xt,templates:[]}}},ce=lt=>{const st=[{id:"trade-notes",name:"Trade Notes",parentId:null,children:[],type:"folder",noteCount:0,expanded:!0},{id:"daily-journal",name:"Daily Journal",parentId:null,children:[],type:"folder",noteCount:0,expanded:!0},{id:"weekly-reviews",name:"Weekly Reviews",parentId:null,children:[],type:"folder",noteCount:0,expanded:!1},{id:"monthly-goals",name:"Monthly Goals",parentId:null,children:[],type:"folder",noteCount:0,expanded:!1}],xt=[{id:"tag-fomc",name:"FOMC",parentId:null,children:[],type:"tag",noteCount:0,expanded:!0},{id:"tag-goals",name:"Goals",parentId:null,children:[],type:"tag",noteCount:0,expanded:!0},{id:"tag-market-news",name:"Market News",parentId:null,children:[],type:"tag",noteCount:0,expanded:!1},{id:"tag-mistakes",name:"Mistakes",parentId:null,children:[],type:"tag",noteCount:0,expanded:!1},{id:"tag-plan-action",name:"Plan of Action",parentId:null,children:[],type:"tag",noteCount:0,expanded:!1}],tt=[...st,...xt];tt.forEach(Ct=>{const Gt=lt.filter(cr=>{var kt,Nt,dr,pr,Lr,Kr,Li,zi,Ai;if(Ct.type==="tag")return((Nt=(kt=cr.metadata)==null?void 0:kt.tags)==null?void 0:Nt.includes(Ct.name.toLowerCase()))||((dr=cr.category)==null?void 0:dr.toLowerCase().includes(Ct.name.toLowerCase()));switch(Ct.id){case"trade-notes":return Qc.isTradingNote(cr.text||"")&&!((pr=cr.tradingData)!=null&&pr.planType);case"daily-journal":return((Lr=cr.tradingData)==null?void 0:Lr.planType)==="pre-market"||((Kr=cr.tradingData)==null?void 0:Kr.planType)==="post-session";case"weekly-reviews":return((Li=cr.tradingData)==null?void 0:Li.planType)==="weekly-review";case"monthly-goals":return((zi=cr.tradingData)==null?void 0:zi.planType)==="monthly-goals";default:return(Ai=cr.category)==null?void 0:Ai.toLowerCase().includes(Ct.name.toLowerCase())}}).length;Ct.noteCount=Gt}),V(tt)},ye=(lt,st,xt)=>{const tt={id:`folder-${Date.now()}`,name:st||`New ${xt==="tag"?"Tag":"Folder"}`,parentId:lt,children:[],type:xt,noteCount:0,expanded:!0};V(Ct=>[...Ct,tt])},ke=(lt,st)=>{V(xt=>xt.map(tt=>tt.id===lt?{...tt,name:st}:tt))},Ce=lt=>{V(st=>st.filter(xt=>xt.id!==lt&&xt.parentId!==lt))},De=lt=>{V(st=>st.map(xt=>xt.id===lt?{...xt,expanded:!xt.expanded}:xt))},Pe=(lt,st)=>{if(!t)return;const xt={id:`note_${Date.now()}`,title:"New Note",text:"",content_type:"plain-text",content_data:Pn.createContentData("plain-text",""),category:lt||"General",tab:e,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),user_id:t.id,versions:[],current_version:`version_${Date.now()}`,metadata:{word_count:0,char_count:0,favorite:!1,pinned:!1,tags:st||[]},tradingData:{relatedTrades:[],templates:st||[]}};try{const tt=Ta.saveNote(t.id,xt);s(Ct=>[...Ct,tt]),x(tt),console.log(" Created new note")}catch(tt){console.error("Error creating note:",tt),p("Failed to create note")}},Ee=lt=>{if(t)try{const st=Ta.saveNote(t.id,lt);s(xt=>xt.map(tt=>tt.id===st.id?st:tt)),console.log(" Updated note:",st.id)}catch(st){console.error("Error updating note:",st),p("Failed to update note")}},de=lt=>{if(!t)return;Ta.deleteNote(t.id,lt)&&(s(xt=>xt.map(tt=>tt.id===lt?{...tt,deleted_at:new Date().toISOString()}:tt)),(O==null?void 0:O.id)===lt&&x(null),console.log(" Deleted note:",lt))},Re=lt=>{if(!t)return;Ta.restoreNote(t.id,lt)&&(s(xt=>xt.map(tt=>tt.id===lt?{...tt,deleted_at:void 0}:tt)),console.log(" Restored note:",lt))},Be=lt=>{const st={...lt,id:`template-${Date.now()}`,createdAt:new Date().toISOString(),lastUsed:new Date().toISOString(),usageCount:0};oe(xt=>[...xt,st]),console.log(" Created template:",st.name)},He=(lt,st)=>{oe(xt=>xt.map(tt=>tt.id===lt?{...tt,...st}:tt))},Ye=lt=>{oe(st=>st.filter(xt=>xt.id!==lt))},Ze=lt=>{var st;Pe(null),He(lt,{lastUsed:new Date().toISOString(),usageCount:((st=J.find(xt=>xt.id===lt))==null?void 0:st.usageCount)||1})},Ge=H.useMemo(()=>n.filter(st=>{var xt,tt,Ct,Gt,cr,kt,Nt,dr,pr;if(ie.showDeleted&&!st.deleted_at||!ie.showDeleted&&st.deleted_at)return!1;if(te){const Lr=F.find(Kr=>Kr.id===te);if(Lr)if(Lr.type==="tag"){if(!(((tt=(xt=st.metadata)==null?void 0:xt.tags)==null?void 0:tt.includes(Lr.name.toLowerCase()))||((Ct=st.category)==null?void 0:Ct.toLowerCase().includes(Lr.name.toLowerCase()))))return!1}else switch(Lr.id){case"trade-notes":if(!Qc.isTradingNote(st.text||"")||(Gt=st.tradingData)!=null&&Gt.planType)return!1;break;case"daily-journal":if(((cr=st.tradingData)==null?void 0:cr.planType)!=="pre-market"&&((kt=st.tradingData)==null?void 0:kt.planType)!=="post-session")return!1;break;case"weekly-reviews":if(((Nt=st.tradingData)==null?void 0:Nt.planType)!=="weekly-review")return!1;break;case"monthly-goals":if(((dr=st.tradingData)==null?void 0:dr.planType)!=="monthly-goals")return!1;break;default:if(!((pr=st.category)!=null&&pr.toLowerCase().includes(Lr.name.toLowerCase())))return!1}}return!0}),[n,te,F,ie.showDeleted]),Qt=H.useMemo(()=>Ge.filter(lt=>lt.tab===e||e==="relationships"),[Ge,e]),gr=()=>{if(t)try{const lt=F4.createBackup(t.id),st=new Blob([lt],{type:"application/json"}),xt=URL.createObjectURL(st),tt=document.createElement("a");tt.href=xt,tt.download=`tradejournal-backup-${new Date().toISOString().split("T")[0]}.json`,tt.click(),URL.revokeObjectURL(xt),console.log(" Backup created successfully")}catch(lt){console.error("Error creating backup:",lt),p("Failed to create backup")}},Or=(lt="json")=>{if(t)try{const st=Ge.filter(Nt=>!Nt.deleted_at),xt=F4.exportNotes(st,lt),tt={json:"application/json",markdown:"text/markdown",html:"text/html",txt:"text/plain"},Ct={json:"json",markdown:"md",html:"html",txt:"txt"},Gt=new Blob([xt],{type:tt[lt]}),cr=URL.createObjectURL(Gt),kt=document.createElement("a");kt.href=cr,kt.download=`notes-export-${new Date().toISOString().split("T")[0]}.${Ct[lt]}`,kt.click(),URL.revokeObjectURL(cr),console.log(" Notes exported successfully")}catch(st){console.error("Error exporting notes:",st),p("Failed to export notes")}},kr=lt=>{var tt;const st=(tt=lt.target.files)==null?void 0:tt[0];if(!st||!t)return;const xt=new FileReader;xt.onload=Ct=>{var Gt;try{const cr=(Gt=Ct.target)==null?void 0:Gt.result,kt=F4.importBackup(cr,t.id);kt.success?(alert(`Successfully imported ${kt.notes} notes`),ae()):(alert(`Import completed with errors: ${kt.errors.join(", ")}`),ae())}catch(cr){console.error("Error importing backup:",cr),p("Failed to import backup")}},xt.readAsText(st),lt.target.value=""};return c?b.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:b.jsxs("div",{className:"p-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Library"}),b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]})}):b.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[f&&b.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border-b border-red-200 dark:border-red-800 p-4",children:b.jsx("p",{className:"text-red-600 dark:text-red-400 text-center",children:f})}),b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:b.jsxs("div",{className:"px-6 pt-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Library"}),b.jsxs("div",{className:"flex items-center space-x-3",children:[he&&b.jsxs("div",{className:"flex items-center space-x-4 px-4 py-2 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx(oU,{className:"w-4 h-4 text-green-600 mr-1"}),b.jsxs("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:["$",he.totalPnl.toFixed(2)]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(vu,{className:"w-4 h-4 text-green-600 mr-1"}),b.jsxs("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:[he.winRate.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx(Gd,{className:"w-4 h-4 text-green-600 mr-1"}),b.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:he.totalTrades})]})]}),b.jsxs("button",{onClick:()=>W(!0),className:"inline-flex items-center px-3 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Template Manager",children:[b.jsx(W3,{className:"w-4 h-4 mr-2"}),"Templates"]}),b.jsxs("button",{onClick:gr,className:"inline-flex items-center px-3 py-2 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Create backup",children:[b.jsx(af,{className:"w-4 h-4 mr-2"}),"Backup"]}),b.jsxs("div",{className:"relative",children:[b.jsxs("button",{onClick:()=>I(!M),className:"inline-flex items-center px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Export options",children:[b.jsx(es,{className:"w-4 h-4 mr-2"}),"Export"]}),M&&b.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 backup-panel",children:[b.jsxs("div",{className:"p-2",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Export Notes"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("button",{onClick:()=>Or("json"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Export as JSON"}),b.jsx("button",{onClick:()=>Or("markdown"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Export as Markdown"}),b.jsx("button",{onClick:()=>Or("html"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Export as HTML"}),b.jsx("button",{onClick:()=>Or("txt"),className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:"Export as Text"})]})]}),b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Content Management"}),b.jsxs("button",{onClick:()=>{const st=rXe(n).run();alert(`Migration complete: ${st.migrated} notes migrated, ${st.errors.length} errors`),st.migrated>0&&ae(),I(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:[b.jsx(Y6,{className:"w-4 h-4 inline mr-2"}),"Auto-Migrate Content"]}),b.jsxs("label",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer mt-1",children:[b.jsx(cf,{className:"w-4 h-4 inline mr-2"}),"Import Backup",b.jsx("input",{type:"file",accept:".json",onChange:kr,className:"hidden"})]})]})]})]})]})]}),b.jsx("nav",{className:"flex space-x-8",children:Object.entries(aXe).map(([lt,st])=>{const xt=st.icon,tt=e===lt,Ct=lt==="recently-deleted"?n.filter(Gt=>Gt.deleted_at):n.filter(Gt=>Gt.tab===lt&&!Gt.deleted_at);return b.jsxs("button",{onClick:()=>r(lt),className:`inline-flex items-center px-1 py-3 border-b-2 font-medium text-sm transition-colors ${tt?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[b.jsx(xt,{className:`w-5 h-5 mr-2 ${tt?"text-blue-500 dark:text-blue-400":"text-gray-400"}`}),st.title,b.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${tt?"bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400":"bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:Ct.length})]},lt)})})]})}),e==="force-graph"?b.jsx("div",{className:"flex",style:{height:"calc(100vh - 140px)"},children:b.jsx("div",{className:"flex-1",children:b.jsx(Jze,{notes:n,onNodeClick:x,selectedNote:O,height:800})})}):e==="relationships"?b.jsx("div",{className:"flex",style:{height:"calc(100vh - 140px)"},children:b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"h-full bg-white dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(zu,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Relationship Map"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Interactive relationship mapping coming soon..."})]})})})}):b.jsxs("div",{className:"flex",style:{height:"calc(100vh - 140px)"},children:[b.jsx("div",{className:"w-[20%] min-w-[240px] max-w-[300px]",children:b.jsx(nXe,{folders:F,selectedFolderId:te,onFolderSelect:G,onFolderCreate:ye,onFolderRename:ke,onFolderDelete:Ce,onFolderToggle:De})}),b.jsx("div",{className:"w-[30%] min-w-[300px]",children:b.jsx(Hne,{notes:Qt,selectedNoteId:(O==null?void 0:O.id)||null,onNoteSelect:x,onNoteCreate:Pe,onNoteUpdate:Ee,onNoteDelete:de,onNoteRestore:Re,filter:ie,onFilterChange:be,tradingStats:he||void 0})}),b.jsx("div",{className:"flex-1",children:b.jsx(oXe,{selectedNote:O,onNoteUpdate:Ee,templates:J,onTemplateUse:Ze})})]}),X&&b.jsx(w8,{templates:J,onTemplateCreate:Be,onTemplateUpdate:He,onTemplateDelete:Ye,onTemplateUse:Ze,onClose:()=>W(!1)})]})}function oXe({selectedNote:t,onNoteUpdate:e,templates:r,onTemplateUse:n}){var C,T;const[s,a]=H.useState("rich-text"),[l,c]=H.useState("javascript"),[h,f]=H.useState(!1),[p,O]=H.useState(""),[x,k]=H.useState(!1);H.useEffect(()=>{t&&(O(t.text||""),t.content_type==="rich-text"?a("rich-text"):t.content_type==="code"?a("code"):t.content_type==="syntax-highlight"?a("syntax-highlight"):t.content_type==="mind-map"?a("mind-map"):t.content_type==="mermaid"?a("mermaid"):t.content_type==="math"?a("math"):a("rich-text"))},[t]);const w=E=>{if(O(E),t){let P={...t};if(P.content_type==="plain-text"||!P.content_type){let Q="plain-text";Qc.isTradingNote(E)?Q="rich-text":E.includes("```")?Q="syntax-highlight":E.includes("<p>")||E.includes("<div>")||E.includes("<h1")?Q="rich-text":(E.includes("$")||E.includes("\\")||E.includes("{")||E.includes("}"))&&(Q="math"),Q!=="plain-text"&&(P=yC.migrateToRichContent({...P,text:E},Q),O(Pn.extractPlainText(P)))}P={...P,text:Pn.extractPlainText(P),updated_at:new Date().toISOString()},Qc.isTradingNote(E)&&(P.tradingData={...P.tradingData,planType:Qc.detectTradingNoteType(E)}),e(P)}},_=E=>{if(t){const P={...t,title:E,updated_at:new Date().toISOString()};e(P)}};return t?b.jsxs("div",{className:"h-full bg-white dark:bg-gray-900 flex flex-col",children:[b.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:t.title||"Untitled Note"}),((C=t.tradingData)==null?void 0:C.planType)&&b.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-600 dark:bg-blue-900/50 dark:text-blue-400 rounded",children:t.tradingData.planType.replace("-"," ")}),((T=t.tradingData)==null?void 0:T.performanceMetrics)&&b.jsxs("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-600 dark:bg-green-900/50 dark:text-green-400 rounded",children:["Score: ",t.tradingData.performanceMetrics.score]})]}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.category,"  ",new Date(t.updated_at||t.created_at).toLocaleString()]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>k(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Use Template",children:b.jsx(W3,{className:"w-4 h-4 text-gray-500"})}),b.jsx("button",{onClick:()=>f(!h),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Toggle Fullscreen",children:h?b.jsx(Ii,{className:"w-4 h-4"}):b.jsx(Hd,{className:"w-4 h-4"})})]})]})}),t.tradingData&&b.jsx("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.tradingData.relatedTrades.length>0&&b.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Related Trades: ",t.tradingData.relatedTrades.length]}),t.tradingData.performanceMetrics&&b.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Performance Score: ",t.tradingData.performanceMetrics.score]})]})})}),b.jsx("div",{className:"flex-1",children:b.jsx(Gne,{value:p,onChange:w,mode:s,onModeChange:a,language:l,onLanguageChange:c,title:t.title||"Untitled Note",onTitleChange:_,isFullscreen:h,onToggleFullscreen:()=>f(!h)})}),x&&b.jsx(w8,{templates:r,onTemplateCreate:()=>{},onTemplateUpdate:()=>{},onTemplateDelete:()=>{},onTemplateUse:E=>{const P=r.find(Q=>Q.id===E);P&&t&&(w(P.content),k(!1))},onClose:()=>k(!1)})]}):b.jsx("div",{className:"h-full bg-white dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No note selected"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Choose a note from the sidebar to start editing"}),b.jsx("div",{className:"flex items-center justify-center space-x-4",children:b.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[b.jsx(W3,{className:"w-4 h-4 inline mr-2"}),"Use Template"]})})]})})}let lXe=class{constructor(){Wr(this,"storagePrefix","tradejournal_advanced_")}async createVersion(e,r,n,s,a,l,c="edit"){const h=this.getStorageItem("note_versions",[]),p=h.filter(x=>x.noteId===e).length+1,O={id:this.generateId(),noteId:e,versionNumber:p,content:n,contentData:s||{},metadata:a||{},changeSummary:l,changeType:c,isAutoSave:!1,createdAt:new Date().toISOString(),createdBy:r};return h.push(O),this.setStorageItem("note_versions",h),O}async getNoteVersions(e){return this.getStorageItem("note_versions",[]).filter(n=>n.noteId===e).sort((n,s)=>s.versionNumber-n.versionNumber)}async restoreVersion(e,r){const s=this.getStorageItem("note_versions",[]).find(a=>a.id===r&&a.noteId===e);if(s)return await this.createVersion(e,s.createdBy,s.content,s.contentData,s.metadata,`Restored to version ${s.versionNumber}`,"restore"),{content:s.content,contentData:s.contentData,metadata:s.metadata};throw new Error("Version not found")}async createCollaboration(e,r,n,s="read"){const a=this.getStorageItem("collaborations",[]),l={id:this.generateId(),noteId:e,ownerId:r,sharedWithId:n,permissionLevel:s,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return a.push(l),this.setStorageItem("collaborations",a),l}async getNoteCollaborations(e){return this.getStorageItem("collaborations",[]).filter(n=>n.noteId===e&&n.status==="active")}async revokeCollaboration(e){const r=this.getStorageItem("collaborations",[]),n=r.find(s=>s.id===e);n&&(n.status="revoked",n.updatedAt=new Date().toISOString(),this.setStorageItem("collaborations",r))}async createComment(e,r,n,s,a,l){const c=this.getStorageItem("comments",[]),h={id:this.generateId(),noteId:e,authorId:r,content:n,positionData:s||{},isResolved:!1,collaborationId:a,parentCommentId:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return c.push(h),this.setStorageItem("comments",c),h}async getNoteComments(e){return this.getStorageItem("comments",[]).filter(n=>n.noteId===e).sort((n,s)=>n.createdAt.localeCompare(s.createdAt))}async resolveComment(e){const r=this.getStorageItem("comments",[]),n=r.find(s=>s.id===e);n&&(n.isResolved=!0,n.updatedAt=new Date().toISOString(),this.setStorageItem("comments",r))}async createLink(e,r,n="reference",s){const a=this.getStorageItem("note_links",[]),l=a.find(h=>h.sourceNoteId===e&&h.targetNoteId===r&&h.linkType===n);if(l)return l;const c={id:this.generateId(),sourceNoteId:e,targetNoteId:r,linkType:n,contextData:s||{},createdAt:new Date().toISOString()};return a.push(c),this.setStorageItem("note_links",a),c}async getNoteLinks(e){return this.getStorageItem("note_links",[]).filter(n=>n.sourceNoteId===e||n.targetNoteId===e)}async generateSmartTags(e,r=[]){const n=[],s=e.toLowerCase(),a=[{keyword:"trade",tag:"trading",confidence:.9},{keyword:"analysis",tag:"analysis",confidence:.8},{keyword:"strategy",tag:"strategy",confidence:.9},{keyword:"psychology",tag:"psychology",confidence:.8},{keyword:"emotion",tag:"emotions",confidence:.7},{keyword:"risk",tag:"risk-management",confidence:.8},{keyword:"profit",tag:"profit",confidence:.7},{keyword:"loss",tag:"losses",confidence:.7},{keyword:"entry",tag:"entry",confidence:.8},{keyword:"exit",tag:"exit",confidence:.8},{keyword:"stop",tag:"stop-loss",confidence:.9},{keyword:"target",tag:"targets",confidence:.8},{keyword:"pivot",tag:"pivot-points",confidence:.9},{keyword:"support",tag:"support-resistance",confidence:.8},{keyword:"resistance",tag:"support-resistance",confidence:.8},{keyword:"trend",tag:"trend-analysis",confidence:.8},{keyword:"breakout",tag:"breakout",confidence:.9},{keyword:"reversal",tag:"reversals",confidence:.8},{keyword:"volume",tag:"volume",confidence:.7},{keyword:"momentum",tag:"momentum",confidence:.8}];for(const{keyword:l,tag:c,confidence:h}of a)s.includes(l)&&!r.includes(c)&&n.push({id:this.generateId(),noteId:"",tagName:c,tagType:"auto",confidenceScore:h,autoGenerated:!0,createdAt:new Date().toISOString()});return n}async saveSmartTags(e,r){const n=this.getStorageItem("smart_tags",[]);return r.forEach(s=>{s.noteId=e,n.push(s)}),this.setStorageItem("smart_tags",n),r}async generateSuggestions(e,r,n){const s=[],a=e.toLowerCase();a.includes("analysis")&&!a.includes("template")&&s.push({id:this.generateId(),noteId:n,userId:r,suggestionType:"template",suggestionData:{title:"Analysis Template",description:"Use Market Analysis template for better structure",templateId:"market-analysis"},contextData:{trigger:"analysis_keyword"},status:"pending",confidenceScore:.8,createdAt:new Date().toISOString()});const l=await this.generateSmartTags(e);l.length>0&&s.push({id:this.generateId(),noteId:n,userId:r,suggestionType:"tag",suggestionData:{suggestedTags:l.map(h=>h.tagName)},contextData:{confidence:Math.max(...l.map(h=>h.confidenceScore))},status:"pending",confidenceScore:.7,createdAt:new Date().toISOString()}),(a.includes("similar")||a.includes("like"))&&s.push({id:this.generateId(),noteId:n,userId:r,suggestionType:"reference",suggestionData:{type:"related_notes",description:"Look for similar notes or patterns"},contextData:{trigger:"similarity_search"},status:"pending",confidenceScore:.6,createdAt:new Date().toISOString()});const c=["risk management","position sizing","stop loss","take profit","entry signal","exit strategy","market analysis","technical analysis"];for(const h of c)if(a.includes(h.split(" ")[0])&&!a.includes(h)){s.push({id:this.generateId(),noteId:n,userId:r,suggestionType:"completion",suggestionData:{term:h,description:`Consider adding: ${h}`},contextData:{partial:h.split(" ")[0]},status:"pending",confidenceScore:.5,createdAt:new Date().toISOString()});break}return s}async createReminder(e,r,n,s,a="followup",l="medium"){const c=this.getStorageItem("reminders",[]),h={id:this.generateId(),noteId:e,userId:r,reminderType:a,reminderDate:s,message:n,isCompleted:!1,priority:l,createdAt:new Date().toISOString()};return c.push(h),this.setStorageItem("reminders",c),h}async getReminders(e,r=!0){const n=this.getStorageItem("reminders",[]),s=new Date;return n.filter(a=>a.userId===e).filter(a=>!r||new Date(a.reminderDate)>s).sort((a,l)=>a.reminderDate.localeCompare(l.reminderDate))}async completeReminder(e){const r=this.getStorageItem("reminders",[]),n=r.find(s=>s.id===e);n&&(n.isCompleted=!0,n.completedAt=new Date().toISOString(),this.setStorageItem("reminders",r))}async saveVoiceNote(e,r,n,s){const a=this.getStorageItem("voice_notes",[]),l=URL.createObjectURL(n),c={id:this.generateId(),noteId:e,userId:r,audioUrl:l,transcript:s,durationSeconds:void 0,languageCode:"en-US",transcriptionStatus:s?"completed":"pending",confidenceScore:s?.8:void 0,createdAt:new Date().toISOString()};return a.push(c),this.setStorageItem("voice_notes",a),c}async createExportJob(e,r,n,s={}){const a=this.getStorageItem("export_jobs",[]),l={id:this.generateId(),noteId:e,userId:r,exportType:n,exportSettings:s,status:"processing",createdAt:new Date().toISOString()};return a.push(l),this.setStorageItem("export_jobs",a),setTimeout(()=>{this.completeExportJob(l.id,"completed")},2e3),l}completeExportJob(e,r){const n=this.getStorageItem("export_jobs",[]),s=n.find(a=>a.id===e);s&&(s.status=r,s.completedAt=new Date().toISOString(),r==="completed"&&(s.fileName=`export_${s.exportType}_${Date.now()}.${s.exportType}`,s.fileUrl=URL.createObjectURL(new Blob([""])),s.fileSizeBytes=Math.floor(Math.random()*1e6)+5e4),this.setStorageItem("export_jobs",n))}getStorageItem(e,r){try{const n=localStorage.getItem(this.storagePrefix+e);return n?JSON.parse(n):r}catch{return r}}setStorageItem(e,r){try{localStorage.setItem(this.storagePrefix+e,JSON.stringify(r))}catch(n){console.error("Failed to save to localStorage:",n)}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}};const rl=new lXe,cXe="https://jtxuxessjppnlhpvjuah.supabase.co",dXe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp0eHV4ZXNzanBwbmxocHZqdWFoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5ODY1OTYsImV4cCI6MjA3NzU2MjU5Nn0.oLlVjdm8gfZYVDttHOwZ0t7n4FKmvUGz5InaNAqPO8s",en=$V(cXe,dXe);class hXe{async getCurrentUser(){const{data:{user:e},error:r}=await en.auth.getUser();return r?(console.error("Error getting user:",r),null):e}async getNotes(e={}){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");let n=en.from("library_notes").select("*").eq("user_id",r.id).is("deleted_at",null);e.folder&&(n=n.eq("folder_id",e.folder)),e.content_type&&(n=n.eq("content_type",e.content_type)),e.favorite!==void 0&&(n=n.eq("is_favorite",e.favorite)),e.pinned!==void 0&&(n=n.eq("is_pinned",e.pinned)),e.search&&(n=n.or(`title.ilike.%${e.search}%,text.ilike.%${e.search}%`)),e.tags&&e.tags.length>0&&(n=n.contains("tags",e.tags));const s=e.sort_by||"updated_at",a=e.sort_order||"desc";n=n.order(s,{ascending:a==="asc"});const{data:l,error:c}=await n;if(c)throw console.error("Error fetching notes:",c),c;return l||[]}async getNote(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_notes").select("*").eq("id",e).eq("user_id",r.id).is("deleted_at",null).maybeSingle();if(s)throw console.error("Error fetching note:",s),s;return n}async createNote(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_notes").insert({...e,user_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().maybeSingle();if(s)throw console.error("Error creating note:",s),s;return n&&await this.createVersion({note_id:n.id,content_snapshot:n.text,content_data_snapshot:n.content_data,change_type:"create",change_summary:"Initial version"}),n}async updateNote(e,r){const n=await this.getCurrentUser();if(!n)throw new Error("User not authenticated");const s=await this.getNote(e);if(!s)throw new Error("Note not found");const{data:a,error:l}=await en.from("library_notes").update({...r,updated_at:new Date().toISOString()}).eq("id",e).eq("user_id",n.id).select().maybeSingle();if(l)throw console.error("Error updating note:",l),l;return a&&(r.text!==s.text||r.content_data!==s.content_data)&&await this.createVersion({note_id:a.id,content_snapshot:a.text,content_data_snapshot:a.content_data,change_type:"edit",change_summary:"Content updated"}),a}async deleteNote(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{error:n}=await en.from("library_notes").update({deleted_at:new Date().toISOString()}).eq("id",e).eq("user_id",r.id);if(n)throw console.error("Error deleting note:",n),n}async getNoteVersions(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_note_versions").select("*").eq("note_id",e).eq("user_id",r.id).order("version_number",{ascending:!1});if(s)throw console.error("Error fetching note versions:",s),s;return n||[]}async createVersion(e){var c;const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n}=await en.from("library_note_versions").select("version_number").eq("note_id",e.note_id).order("version_number",{ascending:!1}).limit(1),s=(((c=n==null?void 0:n[0])==null?void 0:c.version_number)||0)+1,{data:a,error:l}=await en.from("library_note_versions").insert({...e,user_id:r.id,version_number:s,created_at:new Date().toISOString()}).select().maybeSingle();if(l)throw console.error("Error creating version:",l),l;return a}async restoreVersion(e,r){const n=await this.getCurrentUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await en.from("library_note_versions").select("*").eq("id",r).eq("note_id",e).eq("user_id",n.id).maybeSingle();if(a||!s)throw new Error("Version not found");const{data:l,error:c}=await en.from("library_notes").update({text:s.content_snapshot,content_data:s.content_data_snapshot,updated_at:new Date().toISOString()}).eq("id",e).eq("user_id",n.id).select().maybeSingle();if(c)throw console.error("Error restoring version:",c),c;return await this.createVersion({note_id:e,content_snapshot:s.content_snapshot,content_data_snapshot:s.content_data_snapshot,change_type:"restore",change_summary:`Restored to version ${s.version_number}`}),l}async getNoteLinks(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");let n=en.from("library_note_links").select(`
        *,
        source_note:source_note_id(id, title, user_id),
        target_note:target_note_id(id, title, user_id)
      `);e&&(n=n.or(`source_note_id.eq.${e},target_note_id.eq.${e}`)),n=n.or(`source_note.user_id.eq.${r.id},target_note.user_id.eq.${r.id}`);const{data:s,error:a}=await n;if(a)throw console.error("Error fetching note links:",a),a;return s||[]}async createLink(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n}=await en.from("library_notes").select("user_id").eq("id",e.source_note_id).maybeSingle(),{data:s}=await en.from("library_notes").select("user_id").eq("id",e.target_note_id).maybeSingle();if(!n||!s||n.user_id!==r.id&&s.user_id!==r.id)throw new Error("You can only create links between your own notes");const{data:a,error:l}=await en.from("library_note_links").insert({...e,created_at:new Date().toISOString()}).select().maybeSingle();if(l)throw console.error("Error creating note link:",l),l;return a}async deleteLink(e){var a,l;const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n}=await en.from("library_note_links").select(`
        *,
        source_note:source_note_id(user_id),
        target_note:target_note_id(user_id)
      `).eq("id",e).maybeSingle();if(!n||((a=n.source_note)==null?void 0:a.user_id)!==r.id&&((l=n.target_note)==null?void 0:l.user_id)!==r.id)throw new Error("You can only delete links for your own notes");const{error:s}=await en.from("library_note_links").delete().eq("id",e);if(s)throw console.error("Error deleting note link:",s),s}async getSmartSuggestions(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");let n=en.from("library_suggestions").select("*").eq("user_id",r.id);e&&(n=n.eq("note_id",e));const{data:s,error:a}=await n.order("created_at",{ascending:!1});if(a)throw console.error("Error fetching suggestions:",a),a;return s||[]}async applySuggestion(e,r){const n=await this.getCurrentUser();if(!n)throw new Error("User not authenticated");const{data:s,error:a}=await en.from("library_suggestions").update({status:"applied",applied_at:new Date().toISOString(),suggestion_data:r}).eq("id",e).eq("user_id",n.id).select().maybeSingle();if(a)throw console.error("Error applying suggestion:",a),a;return s}async dismissSuggestion(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_suggestions").update({status:"dismissed"}).eq("id",e).eq("user_id",r.id).select().maybeSingle();if(s)throw console.error("Error dismissing suggestion:",s),s;return n}async getReminders(e=!1){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");let n=en.from("library_reminders").select("*").eq("user_id",r.id);e||(n=n.eq("is_completed",!1));const{data:s,error:a}=await n.order("reminder_date",{ascending:!0});if(a)throw console.error("Error fetching reminders:",a),a;return s||[]}async createReminder(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_reminders").insert({...e,user_id:r.id,created_at:new Date().toISOString()}).select().maybeSingle();if(s)throw console.error("Error creating reminder:",s),s;return n}async updateReminder(e,r){const n=await this.getCurrentUser();if(!n)throw new Error("User not authenticated");const s={...r,completed_at:r.is_completed?new Date().toISOString():null},{data:a,error:l}=await en.from("library_reminders").update(s).eq("id",e).eq("user_id",n.id).select().maybeSingle();if(l)throw console.error("Error updating reminder:",l),l;return a}async deleteReminder(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{error:n}=await en.from("library_reminders").delete().eq("id",e).eq("user_id",r.id);if(n)throw console.error("Error deleting reminder:",n),n}async getVoiceNotes(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");let n=en.from("library_voice_notes").select("*").eq("user_id",r.id);e&&(n=n.eq("note_id",e));const{data:s,error:a}=await n.order("created_at",{ascending:!1});if(a)throw console.error("Error fetching voice notes:",a),a;return s||[]}async createVoiceNote(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_voice_notes").insert({...e,user_id:r.id,created_at:new Date().toISOString()}).select().maybeSingle();if(s)throw console.error("Error creating voice note:",s),s;return n}async createExport(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await en.from("library_exports").insert({...e,user_id:r.id,created_at:new Date().toISOString()}).select().maybeSingle();if(s)throw console.error("Error creating export:",s),s;return n}async getExports(){const e=await this.getCurrentUser();if(!e)throw new Error("User not authenticated");const{data:r,error:n}=await en.from("library_exports").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching exports:",n),n;return r||[]}async getFolders(){return[{id:"1",name:"Trade Notes",type:"folder",expanded:!0},{id:"2",name:"Daily Journal",type:"folder",expanded:!0},{id:"3",name:"Strategy",type:"folder",expanded:!1}]}async analyzeNoteContent(e){const r=await this.getCurrentUser();if(!r)throw new Error("User not authenticated");const n=["trading","trade","buy","sell","profit","loss","strategy"],s=["analysis","chart","technical","fundamental"],a=["emotion","psychology","fear","greed","discipline"],l=[],c=e.toLowerCase();n.forEach(f=>{c.includes(f)&&l.push("trading")}),s.forEach(f=>{c.includes(f)&&l.push("analysis")}),a.forEach(f=>{c.includes(f)&&l.push("psychology")});const{data:h}=await en.from("library_notes").select("id, text").eq("user_id",r.id).textSearch("text",e.split(" ").slice(0,5).join(" ")).limit(3);return{suggestedTags:[...new Set(l)],confidence:.8,relatedNotes:(h==null?void 0:h.map(f=>f.id))||[]}}}const hv=new hXe,uXe=({noteId:t,isOpen:e,onClose:r,onRestore:n})=>{const{user:s}=Bi(),[a,l]=H.useState([]),[c,h]=H.useState(null),[f,p]=H.useState(null),[O,x]=H.useState(!1),[k,w]=H.useState(null),[_,C]=H.useState(!1);H.useEffect(()=>{e&&t&&T()},[e,t]);const T=async()=>{x(!0);try{const j=await rl.getNoteVersions(t);l(j)}catch(j){console.error("Failed to load versions:",j)}finally{x(!1)}},E=j=>{if(h(j),p(null),w(null),a.length>1){const z=a.findIndex(X=>X.id===j.id);if(z<a.length-1){const X=a[z+1];Q(X.content,j.content)}}},P=(j,z)=>{h(j),p(z),Q(j.content,z.content)},Q=(j,z)=>{const X=j.split(`
`),W=z.split(`
`);let F=0,V=0,te=0;const G=Math.max(X.length,W.length);for(let J=0;J<G;J++){const oe=X[J]||"",ie=W[J]||"";!oe&&ie?F++:oe&&!ie?V++:oe!==ie&&te++}w({added:F,removed:V,modified:te})},B=async j=>{if(s){C(!0);try{const z=await rl.restoreVersion(t,j.id);n(z.content,z.contentData),T()}catch(z){console.error("Failed to restore version:",z)}finally{C(!1)}}},R=j=>new Date(j).toLocaleString(),M=j=>{switch(j){case"create":return b.jsx(co,{className:"w-4 h-4 text-green-500"});case"edit":return b.jsx(K6,{className:"w-4 h-4 text-blue-500"});case"delete":return b.jsx(Ul,{className:"w-4 h-4 text-red-500"});case"restore":return b.jsx(qc,{className:"w-4 h-4 text-purple-500"});default:return b.jsx(Yr,{className:"w-4 h-4 text-gray-500"})}},I=j=>{switch(j){case"create":return"text-green-600 bg-green-50";case"edit":return"text-blue-600 bg-blue-50";case"delete":return"text-red-600 bg-red-50";case"restore":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}};return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(zu,{className:"w-5 h-5 text-blue-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Version History"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.length," versions"]})]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(Ii,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[b.jsx("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Versions"}),O?b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):b.jsx("div",{className:"space-y-2",children:a.map(j=>b.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(c==null?void 0:c.id)===j.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>E(j),children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[M(j.changeType),b.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${I(j.changeType)}`,children:["v",j.versionNumber]})]}),b.jsx("span",{className:"text-xs text-gray-500",children:R(j.createdAt)})]}),j.changeSummary&&b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:j.changeSummary}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[b.jsx(Z3,{className:"w-3 h-3"}),b.jsx("span",{children:j.createdBy||"Unknown"})]}),a.length>1&&b.jsx("button",{onClick:z=>{z.stopPropagation();const X=a.findIndex(W=>W.id===j.id);X>0&&P(j,a[X-1])},className:"text-xs text-blue-500 hover:text-blue-600",children:"Compare"})]})]},j.id))})]})}),b.jsx("div",{className:"flex-1 flex flex-col",children:c?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[M(c.changeType),b.jsxs("span",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Version ",c.versionNumber]}),b.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${I(c.changeType)}`,children:c.changeType})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("span",{className:"text-sm text-gray-500",children:R(c.createdAt)}),b.jsxs("button",{onClick:()=>B(c),disabled:_,className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:[b.jsx(qc,{className:"w-4 h-4"}),b.jsx("span",{children:_?"Restoring...":"Restore"})]})]})]}),c.changeSummary&&b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c.changeSummary}),b.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(Z3,{className:"w-3 h-3"}),b.jsx("span",{children:c.createdBy||"Unknown"})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(Ko,{className:"w-3 h-3"}),b.jsx("span",{children:R(c.createdAt)})]}),k&&b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("span",{className:"text-green-600",children:["+",k.added]}),b.jsxs("span",{className:"text-red-600",children:["-",k.removed]}),b.jsxs("span",{className:"text-yellow-600",children:["",k.modified]})]})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:b.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:b.jsx("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-mono",children:c.content})})}),f&&b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[b.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Comparing with Version ",f.versionNumber]}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:b.jsx("pre",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-mono",children:f.content})})]})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(yh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Select a Version"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a version from the list to view its content and changes"})]})})})]})]})}):null},fXe=({noteId:t,content:e,onSuggestionApply:r,isOpen:n,onClose:s,position:a})=>{const{user:l}=Bi(),[c,h]=H.useState([]),[f,p]=H.useState(!1),[O,x]=H.useState(new Set),[k,w]=H.useState(!1),_=H.useRef(null);H.useEffect(()=>{n&&e.trim()&&C()},[n,e,t]),H.useEffect(()=>{const I=j=>{_.current&&!_.current.contains(j.target)&&s()};if(n)return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[n,s]);const C=async()=>{if(l){w(!0),p(!0);try{await new Promise(z=>setTimeout(z,1e3));const I=await rl.generateSuggestions(e,l.id,t);h(I);const j=new Set(I.filter(z=>z.confidenceScore>.7).map(z=>z.suggestionType));x(j)}catch(I){console.error("Failed to generate suggestions:",I)}finally{p(!1),w(!1)}}},T=async I=>{try{I.status="applied",I.appliedAt=new Date().toISOString(),r(I.suggestionType,I.suggestionData),h(j=>j.filter(z=>z.id!==I.id))}catch(j){console.error("Failed to apply suggestion:",j)}},E=I=>{I.status="dismissed",h(j=>j.filter(z=>z.id!==I.id))},P=I=>{const j=new Set(O);j.has(I)?j.delete(I):j.add(I),x(j)},Q=()=>{const I={};c.forEach(z=>{z.status==="pending"&&(I[z.suggestionType]=z)});const j={template:{id:"template",name:"Templates",icon:b.jsx(Yr,{className:"w-4 h-4"}),color:"text-blue-600 bg-blue-50",suggestions:[]},tag:{id:"tag",name:"Tags",icon:b.jsx(CC,{className:"w-4 h-4"}),color:"text-green-600 bg-green-50",suggestions:[]},reference:{id:"reference",name:"References",icon:b.jsx(Rf,{className:"w-4 h-4"}),color:"text-purple-600 bg-purple-50",suggestions:[]},completion:{id:"completion",name:"Auto-completion",icon:b.jsx(Hd,{className:"w-4 h-4"}),color:"text-yellow-600 bg-yellow-50",suggestions:[]},content:{id:"content",name:"Content",icon:b.jsx(_x,{className:"w-4 h-4"}),color:"text-orange-600 bg-orange-50",suggestions:[]}};return Object.values(j).forEach(z=>{z.suggestions=c.filter(X=>X.suggestionType===z.id)}),Object.values(j).filter(z=>z.suggestions.length>0)},B=I=>I>=.8?"text-green-600":I>=.6?"text-yellow-600":"text-red-600",R=I=>I>=.8?"High confidence":I>=.6?"Medium confidence":"Low confidence";if(!n)return null;const M=Q();return b.jsxs("div",{ref:_,className:"fixed bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 max-w-md",style:{left:(a==null?void 0:a.x)||400,top:(a==null?void 0:a.y)||200,maxHeight:"70vh"},children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(il,{className:"w-5 h-5 text-purple-500"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Smart Suggestions"}),k&&b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),b.jsx("span",{className:"text-xs text-purple-600",children:"Analyzing..."})]})]}),b.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:b.jsx(Ii,{className:"w-4 h-4"})})]}),b.jsx("div",{className:"max-h-96 overflow-y-auto",children:f?b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):c.length===0?b.jsxs("div",{className:"p-6 text-center",children:[b.jsx(_C,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),b.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"No suggestions yet"}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Start typing to get AI-powered suggestions for your content"})]}):b.jsx("div",{className:"p-2",children:M.map(I=>b.jsxs("div",{className:"mb-2",children:[b.jsxs("button",{onClick:()=>P(I.id),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:`p-1 rounded ${I.color}`,children:I.icon}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.name}),b.jsxs("span",{className:"text-xs text-gray-500",children:["(",I.suggestions.length,")"]})]}),O.has(I.id)?b.jsx(nu,{className:"w-4 h-4 text-gray-400"}):b.jsx(Zi,{className:"w-4 h-4 text-gray-400"})]}),O.has(I.id)&&b.jsx("div",{className:"mt-1 space-y-2 ml-6",children:I.suggestions.map(j=>b.jsx(gXe,{suggestion:j,onApply:()=>T(j),onDismiss:()=>E(j),getConfidenceColor:B,getConfidenceText:R},j.id))})]},I.id))})}),c.length>0&&b.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[b.jsxs("span",{children:[c.filter(I=>I.status==="pending").length," suggestions"]}),b.jsx("button",{onClick:C,disabled:f,className:"text-purple-600 hover:text-purple-700 disabled:opacity-50",children:"Refresh"})]})})]})},gXe=({suggestion:t,onApply:e,onDismiss:r,getConfidenceColor:n,getConfidenceText:s})=>{const a=()=>{var l;switch(t.suggestionType){case"template":return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Yr,{className:"w-4 h-4 text-blue-500"}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.suggestionData.title})]}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.suggestionData.description})]});case"tag":return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(CC,{className:"w-4 h-4 text-green-500"}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Suggested Tags"})]}),b.jsx("div",{className:"flex flex-wrap gap-1",children:(l=t.suggestionData.suggestedTags)==null?void 0:l.map(c=>b.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full",children:c},c))})]});case"reference":return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Rf,{className:"w-4 h-4 text-purple-500"}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.suggestionData.type==="related_notes"?"Related Notes":"References"})]}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.suggestionData.description})]});case"completion":return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Hd,{className:"w-4 h-4 text-yellow-500"}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto-complete"})]}),b.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded text-xs font-mono",children:t.suggestionData.term}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.suggestionData.description})]});default:return b.jsx("div",{children:b.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:JSON.stringify(t.suggestionData)})})}};return b.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:[a(),b.jsxs("div",{className:"flex items-center justify-between mt-3",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${t.confidenceScore>=.8?"bg-green-500":t.confidenceScore>=.6?"bg-yellow-500":"bg-red-500"}`}),b.jsx("span",{className:`text-xs ${n(t.confidenceScore)}`,children:s(t.confidenceScore)})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-400 hover:text-gray-600",title:"Dismiss",children:b.jsx(Ii,{className:"w-3 h-3"})}),b.jsx("button",{onClick:e,className:"p-1 hover:bg-green-100 dark:hover:bg-green-900 rounded text-green-600 hover:text-green-700",title:"Apply",children:b.jsx(q6,{className:"w-3 h-3"})})]})]})]})},pXe=({noteId:t,isOpen:e,onClose:r,onLinkCreate:n})=>{const{user:s}=Bi(),[a,l]=H.useState([]),[c,h]=H.useState([]),[f,p]=H.useState([]),[O,x]=H.useState(!1),[k,w]=H.useState(""),[_,C]=H.useState([]),[T,E]=H.useState("reference"),[P,Q]=H.useState(!1);H.useEffect(()=>{e&&t&&B()},[e,t]),H.useEffect(()=>{k.trim()?R():C([])},[k]);const B=async()=>{x(!0);try{const X=await rl.getNoteLinks(t),W=X.filter(V=>V.sourceNoteId===t),F=X.filter(V=>V.targetNoteId===t);h(W),p(F),l(X)}catch(X){console.error("Failed to load links:",X)}finally{x(!1)}},R=async()=>{try{const W=[{id:"1",title:"Market Analysis Template",text:"A comprehensive template for market analysis...",category:"analysis",created_at:new Date().toISOString()},{id:"2",title:"Daily Trading Plan",text:"My daily trading strategy and goals...",category:"planning",created_at:new Date().toISOString()},{id:"3",title:"Psychology Notes",text:"Understanding trading psychology and emotional control...",category:"psychology",created_at:new Date().toISOString()}].filter(F=>{var V,te;return F.text.toLowerCase().includes(k.toLowerCase())||((V=F.title)==null?void 0:V.toLowerCase().includes(k.toLowerCase()))||((te=F.category)==null?void 0:te.toLowerCase().includes(k.toLowerCase()))});C(W)}catch(X){console.error("Failed to search notes:",X)}},M=async X=>{if(s)try{await rl.createLink(t,X,T),await B(),Q(!1),w(""),C([]),n(t,X,T)}catch(W){console.error("Failed to create link:",W)}},I=X=>{switch(X){case"reference":return b.jsx(Yr,{className:"w-4 h-4"});case"citation":return b.jsx(U2,{className:"w-4 h-4"});case"trades":return b.jsx(Os,{className:"w-4 h-4"});case"pattern":return b.jsx(vu,{className:"w-4 h-4"});default:return b.jsx(Rf,{className:"w-4 h-4"})}},j=X=>{switch(X){case"reference":return"text-blue-600 bg-blue-50";case"citation":return"text-purple-600 bg-purple-50";case"trades":return"text-green-600 bg-green-50";case"pattern":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},z=X=>new Date(X).toLocaleDateString();return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(zu,{className:"w-5 h-5 text-purple-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Note Links & References"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.length," total links"]})]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(Ii,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[b.jsx("div",{className:"w-48 border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:b.jsxs("div",{className:"p-4 space-y-2",children:[b.jsx("button",{onClick:()=>Q(!1),className:`w-full text-left p-3 rounded-lg transition-colors ${P?"text-gray-600 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-800":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm"}`,children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Rf,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium",children:"All Links"})]})}),b.jsx("button",{onClick:()=>Q(!0),className:`w-full text-left p-3 rounded-lg transition-colors ${P?"bg-white dark:bg-gray-800 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-800"}`,children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(co,{className:"w-4 h-4"}),b.jsx("span",{className:"text-sm font-medium",children:"Create Link"})]})})]})}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:O?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):P?b.jsx(mXe,{searchQuery:k,onSearchQueryChange:w,searchResults:_,selectedLinkType:T,onLinkTypeChange:E,onCreateLink:M,getLinkTypeColor:j,getLinkTypeIcon:I,formatDate:z}):b.jsx(OXe,{outgoingLinks:c,incomingLinks:f,getLinkTypeColor:j,getLinkTypeIcon:I,formatDate:z})})]})]})}):null},mXe=({searchQuery:t,onSearchQueryChange:e,searchResults:r,selectedLinkType:n,onLinkTypeChange:s,onCreateLink:a,getLinkTypeColor:l,getLinkTypeIcon:c,formatDate:h})=>{const f=[{value:"reference",label:"Reference",description:"General reference to related content"},{value:"citation",label:"Citation",description:"Quote or cite specific content"},{value:"trades",label:"Trades",description:"Link to specific trades"},{value:"pattern",label:"Pattern",description:"Link to similar patterns"}];return b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Create New Link"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link Type"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(p=>b.jsxs("button",{onClick:()=>s(p.value),className:`p-3 text-left border rounded-lg transition-colors ${n===p.value?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[b.jsx("div",{className:`p-1 rounded ${l(p.value)}`,children:c(p.value)}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p.label})]}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:p.description})]},p.value))})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Notes"}),b.jsxs("div",{className:"relative",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),b.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"Search for notes to link...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),r.length>0&&b.jsxs("div",{children:[b.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["Search Results (",r.length,")"]}),b.jsx("div",{className:"space-y-2",children:r.map(p=>b.jsx("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex-1",children:[p.title&&b.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:p.title}),b.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:p.text}),b.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[p.category&&b.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 rounded-full",children:p.category}),b.jsx("span",{children:h(p.created_at)})]})]}),b.jsx("button",{onClick:()=>a(p.id),className:"ml-3 p-2 text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors",title:"Create Link",children:b.jsx(co,{className:"w-4 h-4"})})]})},p.id))})]}),t&&r.length===0&&b.jsxs("div",{className:"text-center py-8",children:[b.jsx(ao,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notes found matching your search"})]})]})},OXe=({outgoingLinks:t,incomingLinks:e,getLinkTypeColor:r,getLinkTypeIcon:n,formatDate:s})=>b.jsx("div",{className:"p-6 space-y-6",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Link Network"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[b.jsx(U6,{className:"w-4 h-4 text-blue-500"}),b.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Outgoing Links (",t.length,")"]})]}),b.jsx("div",{className:"space-y-2",children:t.length===0?b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No outgoing links"}):t.map(a=>b.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:`p-1 rounded ${r(a.linkType)}`,children:n(a.linkType)}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.linkType})]}),b.jsx("span",{className:"text-xs text-gray-500",children:s(a.createdAt)})]}),b.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Links to note: ",a.targetNoteId]})]},a.id))})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[b.jsx(V6,{className:"w-4 h-4 text-green-500"}),b.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Incoming Links (",e.length,")"]})]}),b.jsx("div",{className:"space-y-2",children:e.length===0?b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No incoming links"}):e.map(a=>b.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-600 rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:`p-1 rounded ${r(a.linkType)}`,children:n(a.linkType)}),b.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.linkType})]}),b.jsx("span",{className:"text-xs text-gray-500",children:s(a.createdAt)})]}),b.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Linked from note: ",a.sourceNoteId]})]},a.id))})]})]})]})}),xXe=({noteId:t,onTranscript:e,isOpen:r,onClose:n})=>{const{user:s}=Bi(),[a,l]=H.useState(!1),[c,h]=H.useState(!1),[f,p]=H.useState(!1),[O,x]=H.useState(null),[k,w]=H.useState(""),[_,C]=H.useState(""),[T,E]=H.useState(!1),[P,Q]=H.useState(null),[B,R]=H.useState(!1),[M,I]=H.useState(0),[j,z]=H.useState(!1),[X,W]=H.useState(null),[F,V]=H.useState(1),[te,G]=H.useState(!1),[J,oe]=H.useState(!1),[ie,be]=H.useState({language:"en-US",continuous:!0,interimResults:!0,maxAlternatives:1}),he=H.useRef(null),re=H.useRef([]),ae=H.useRef(0),K=H.useRef(null);H.useEffect(()=>{const Be=window.SpeechRecognition||window.webkitSpeechRecognition;if(Be){p(!0);const He=new Be;He.continuous=ie.continuous,He.interimResults=ie.interimResults,He.lang=ie.language,He.maxAlternatives=ie.maxAlternatives,He.onstart=()=>{E(!0),Q(null)},He.onresult=Ye=>{let Ze="",Ge="";for(let Qt=Ye.resultIndex;Qt<Ye.results.length;Qt++){const gr=Ye.results[Qt];gr.isFinal?Ze+=gr[0].transcript:Ge+=gr[0].transcript}Ze&&w(Qt=>Qt+Ze),C(Ge)},He.onerror=Ye=>{Q(`Speech recognition error: ${Ye.error}`),E(!1),l(!1)},He.onend=()=>{E(!1),a&&!c&&setTimeout(()=>{He&&a&&!c&&He.start()},100)},x(He)}else p(!1),Q("Speech recognition is not supported in this browser");return()=>{K.current&&clearInterval(K.current)}},[ie,a,c]);const ce=async()=>{if(!(!s||!O))try{Q(null),w(""),C("");const Be=await navigator.mediaDevices.getUserMedia({audio:!0}),He=new MediaRecorder(Be);he.current=He,re.current=[],He.ondataavailable=Ye=>{Ye.data.size>0&&re.current.push(Ye.data)},He.onstop=()=>{const Ye=new Blob(re.current,{type:"audio/wav"}),Ze=URL.createObjectURL(Ye);W(Ze),Be.getTracks().forEach(Ge=>Ge.stop())},He.start(),ae.current=Date.now(),O.start(),K.current=setInterval(()=>{I(Date.now()-ae.current)},1e3),l(!0),h(!1)}catch(Be){console.error("Failed to start recording:",Be),Q("Failed to start recording. Please check microphone permissions.")}},ye=()=>{O&&O.stop(),he.current&&he.current.state==="recording"&&he.current.stop(),K.current&&(clearInterval(K.current),K.current=null),l(!1),h(!1),E(!1)},ke=()=>{O&&O.stop(),he.current&&he.current.state==="recording"&&he.current.pause(),K.current&&(clearInterval(K.current),K.current=null),h(!0),E(!1)},Ce=()=>{O&&c&&O.start(),he.current&&he.current.state==="paused"&&(he.current.resume(),K.current=setInterval(()=>{I(Date.now()-ae.current)},1e3)),h(!1)},De=()=>{w(""),C(""),I(0),W(null),Q(null),X&&URL.revokeObjectURL(X)},Pe=async()=>{if(!(!s||!X)){oe(!0);try{const Be=new Blob(re.current,{type:"audio/wav"});await rl.saveVoiceNote(t,s.id,Be,k),e(k),n()}catch(Be){console.error("Failed to save voice note:",Be),Q("Failed to save voice note")}finally{oe(!1)}}},Ee=Be=>{const He=Math.floor(Be/1e3),Ye=Math.floor(He/60),Ze=He%60;return`${Ye.toString().padStart(2,"0")}:${Ze.toString().padStart(2,"0")}`},de=()=>{if(X){const Be=new Audio(X);Be.volume=te?0:F,Be.play(),z(!0),Be.onended=()=>z(!1)}},Re=()=>{const Be=new Audio(X||"");Be.pause(),Be.currentTime=0,z(!1)};return r?f?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(q2,{className:"w-5 h-5 text-red-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Voice Input"}),a&&b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),b.jsx("span",{className:"text-sm text-red-600",children:Ee(M)})]})]}),b.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(X4,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a?b.jsxs(b.Fragment,{children:[c?b.jsxs("button",{onClick:Ce,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[b.jsx(Y3,{className:"w-4 h-4"}),b.jsx("span",{children:"Resume"})]}):b.jsxs("button",{onClick:ke,className:"flex items-center space-x-2 px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors",children:[b.jsx(V4,{className:"w-4 h-4"}),b.jsx("span",{children:"Pause"})]}),b.jsxs("button",{onClick:ye,className:"flex items-center space-x-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[b.jsx(eOe,{className:"w-4 h-4"}),b.jsx("span",{children:"Stop"})]})]}):b.jsxs("button",{onClick:ce,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[b.jsx(q2,{className:"w-5 h-5"}),b.jsx("span",{children:"Start Recording"})]}),X&&!a&&b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:j?Re:de,className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:j?b.jsx(V4,{className:"w-4 h-4"}):b.jsx(Y3,{className:"w-4 h-4"})}),b.jsx("button",{onClick:De,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:b.jsx(Ul,{className:"w-4 h-4"})})]})]}),b.jsxs("div",{className:"text-center",children:[P&&b.jsx("p",{className:"text-red-600 text-sm mb-2",children:P}),a&&b.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:c?b.jsxs(b.Fragment,{children:[b.jsx(V4,{className:"w-4 h-4"}),b.jsx("span",{children:"Paused"})]}):T?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),b.jsx("span",{children:"Listening..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(X4,{className:"w-4 h-4"}),b.jsx("span",{children:"Processing..."})]})})]}),X&&!a&&b.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Recording (",Ee(M),")"]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>G(!te),className:"p-1 text-gray-500 hover:text-gray-700",children:te?b.jsx(iOe,{className:"w-4 h-4"}):b.jsx(nOe,{className:"w-4 h-4"})}),b.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:F,onChange:Be=>V(parseFloat(Be.target.value)),className:"w-16"})]})]})}),(k||_)&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Transcript"}),b.jsxs("span",{className:"text-xs text-gray-500",children:[k.split(" ").filter(Be=>Be.length>0).length," words"]})]}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 max-h-40 overflow-y-auto",children:b.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[k,_&&b.jsx("span",{className:"text-gray-500 italic",children:_})]})})]}),k&&!a&&b.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("button",{onClick:De,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Clear"}),b.jsx("button",{onClick:Pe,disabled:J,className:"flex items-center space-x-2 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:J?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),b.jsx("span",{children:"Saving..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(_C,{className:"w-4 h-4"}),b.jsx("span",{children:"Add to Note"})]})})]})]})]})}):b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:b.jsx("div",{className:"p-6",children:b.jsxs("div",{className:"text-center",children:[b.jsx(X4,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Voice Input Not Supported"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your browser doesn't support speech recognition. Please use a modern browser like Chrome or Edge."}),b.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Close"})]})})})}):null},bXe=({noteId:t,isOpen:e,onClose:r,onReminderCreate:n})=>{const{user:s}=Bi(),[a,l]=H.useState([]),[c,h]=H.useState(!1),[f,p]=H.useState(!1),[O,x]=H.useState(null),[k,w]=H.useState("pending"),[_,C]=H.useState(""),[T,E]=H.useState({message:"",reminderDate:"",reminderTime:"",reminderType:"followup",priority:"medium",repeatPattern:"none"});H.useEffect(()=>{e&&s&&P()},[e,s]),H.useEffect(()=>{if(O){const F=new Date(O.reminderDate);E({message:O.message,reminderDate:F.toISOString().split("T")[0],reminderTime:F.toTimeString().slice(0,5),reminderType:O.reminderType,priority:O.priority,repeatPattern:O.repeatPattern||"none"})}},[O]);const P=async()=>{if(s){h(!0);try{const F=await rl.getReminders(s.id,!1);l(F)}catch(F){console.error("Failed to load reminders:",F)}finally{h(!1)}}},Q=async F=>{if(F.preventDefault(),!(!s||!T.message.trim()||!T.reminderDate||!T.reminderTime))try{const V=new Date(`${T.reminderDate}T${T.reminderTime}`),te=await rl.createReminder(t||"general",s.id,T.message,V.toISOString(),T.reminderType,T.priority);l(G=>[te,...G]),n(te),E({message:"",reminderDate:"",reminderTime:"",reminderType:"followup",priority:"medium",repeatPattern:"none"}),p(!1)}catch(V){console.error("Failed to create reminder:",V)}},B=async F=>{try{await rl.completeReminder(F),l(V=>V.map(te=>te.id===F?{...te,isCompleted:!0,completedAt:new Date().toISOString()}:te))}catch(V){console.error("Failed to complete reminder:",V)}},R=async F=>{l(V=>V.filter(te=>te.id!==F))},M=()=>{let F=a;switch(k){case"pending":F=F.filter(te=>!te.isCompleted);break;case"completed":F=F.filter(te=>te.isCompleted);break;case"overdue":const V=new Date;F=F.filter(te=>!te.isCompleted&&new Date(te.reminderDate)<V);break}return _&&(F=F.filter(V=>V.message.toLowerCase().includes(_.toLowerCase())||V.reminderType.toLowerCase().includes(_.toLowerCase()))),F.sort((V,te)=>V.isCompleted!==te.isCompleted?V.isCompleted?1:-1:new Date(V.reminderDate).getTime()-new Date(te.reminderDate).getTime())},I=F=>{switch(F){case"urgent":return"text-red-600 bg-red-50";case"high":return"text-orange-600 bg-orange-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},j=F=>{switch(F){case"urgent":return b.jsx(bU,{className:"w-3 h-3"});case"high":return b.jsx(L1e,{className:"w-3 h-3"});case"medium":return b.jsx(Av,{className:"w-3 h-3"});case"low":return b.jsx(Av,{className:"w-3 h-3"});default:return b.jsx(Av,{className:"w-3 h-3"})}},z=F=>{switch(F){case"deadline":return b.jsx(K1,{className:"w-4 h-4"});case"followup":return b.jsx(qc,{className:"w-4 h-4"});case"review":return b.jsx(K6,{className:"w-4 h-4"});case"action":return b.jsx(Q1e,{className:"w-4 h-4"});default:return b.jsx(Ko,{className:"w-4 h-4"})}},X=F=>{const V=new Date(F),G=V<new Date;return{date:V.toLocaleDateString(),time:V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isOverdue:G}},W=F=>{const V=new Date(F),G=new Date().getTime()-V.getTime(),J=Math.floor(G/(1e3*60*60*24));if(J===0){const oe=Math.floor(G/36e5);return oe===0?`${Math.floor(G/6e4)} minutes ago`:`${oe} hours ago`}else return J===1?"Yesterday":J<7?`${J} days ago`:V.toLocaleDateString()};return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(Ko,{className:"w-5 h-5 text-blue-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Reminders"}),b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.filter(F=>!F.isCompleted).length," pending"]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-1 px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[b.jsx(co,{className:"w-4 h-4"}),b.jsx("span",{children:"New"})]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(Ii,{className:"w-5 h-5"})})]})]}),b.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[b.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 p-4",children:[b.jsx("div",{className:"mb-4",children:b.jsxs("div",{className:"relative",children:[b.jsx(ao,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),b.jsx("input",{type:"text",value:_,onChange:F=>C(F.target.value),placeholder:"Search reminders...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})]})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter"}),[{key:"pending",label:"Pending",count:a.filter(F=>!F.isCompleted).length},{key:"completed",label:"Completed",count:a.filter(F=>F.isCompleted).length},{key:"overdue",label:"Overdue",count:a.filter(F=>!F.isCompleted&&new Date(F.reminderDate)<new Date).length},{key:"all",label:"All",count:a.length}].map(F=>b.jsx("button",{onClick:()=>w(F.key),className:`w-full text-left p-2 rounded-lg transition-colors ${k===F.key?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-800"}`,children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"text-sm",children:F.label}),b.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:F.count})]})},F.key))]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:f?b.jsx(kXe,{formData:T,onFormDataChange:E,onSubmit:Q,onCancel:()=>p(!1),noteId:t}):b.jsx("div",{className:"p-4",children:c?b.jsx("div",{className:"flex items-center justify-center py-8",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):M().length===0?b.jsxs("div",{className:"text-center py-8",children:[b.jsx(Ko,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:_?"No reminders found":"No reminders yet"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:_?"Try adjusting your search or filter":"Create your first reminder to stay on track"}),!_&&b.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Create Reminder"})]}):b.jsx("div",{className:"space-y-3",children:M().map(F=>b.jsx(yXe,{reminder:F,onComplete:()=>B(F.id),onDelete:()=>R(F.id),onEdit:()=>x(F),formatDateTime:X,getRelativeTime:W,getPriorityColor:I,getPriorityIcon:j,getReminderTypeIcon:z},F.id))})})})]})]})}):null},kXe=({formData:t,onFormDataChange:e,onSubmit:r,onCancel:n,noteId:s})=>{const a=(l,c)=>{e({...t,[l]:c})};return H.useEffect(()=>{if(!t.reminderDate&&!t.reminderTime){const l=new Date;l.setHours(l.getHours()+1),e({...t,reminderDate:l.toISOString().split("T")[0],reminderTime:l.toTimeString().slice(0,5)})}},[]),b.jsxs("form",{onSubmit:r,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Create Reminder"}),b.jsx("button",{type:"button",onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(Ii,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message *"}),b.jsx("textarea",{value:t.message,onChange:l=>a("message",l.target.value),placeholder:"What do you need to remember?",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",rows:3,required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date *"}),b.jsx("input",{type:"date",value:t.reminderDate,onChange:l=>a("reminderDate",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time *"}),b.jsx("input",{type:"time",value:t.reminderTime,onChange:l=>a("reminderTime",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",required:!0})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),b.jsxs("select",{value:t.reminderType,onChange:l=>a("reminderType",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"followup",children:"Follow-up"}),b.jsx("option",{value:"deadline",children:"Deadline"}),b.jsx("option",{value:"review",children:"Review"}),b.jsx("option",{value:"action",children:"Action Required"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),b.jsxs("select",{value:t.priority,onChange:l=>a("priority",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"low",children:"Low"}),b.jsx("option",{value:"medium",children:"Medium"}),b.jsx("option",{value:"high",children:"High"}),b.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Repeat"}),b.jsxs("select",{value:t.repeatPattern,onChange:l=>a("repeatPattern",l.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"none",children:"Does not repeat"}),b.jsx("option",{value:"daily",children:"Daily"}),b.jsx("option",{value:"weekly",children:"Weekly"}),b.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),b.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Create Reminder"})]})]})},yXe=({reminder:t,onComplete:e,onDelete:r,onEdit:n,formatDateTime:s,getRelativeTime:a,getPriorityColor:l,getPriorityIcon:c,getReminderTypeIcon:h})=>{const{date:f,time:p,isOverdue:O}=s(t.reminderDate);return b.jsx("div",{className:`p-4 border rounded-lg transition-colors ${t.isCompleted?"border-green-200 bg-green-50 dark:bg-green-900/20":O?"border-red-200 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[b.jsx("button",{onClick:e,className:`p-1 rounded transition-colors ${t.isCompleted?"text-green-600 hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:t.isCompleted?b.jsx(rs,{className:"w-4 h-4"}):b.jsx(Av,{className:"w-4 h-4"})}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:h(t.reminderType)}),b.jsx("span",{className:"text-sm text-gray-500 capitalize",children:t.reminderType})]}),b.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs ${l(t.priority)}`,children:[c(t.priority),b.jsx("span",{className:"capitalize",children:t.priority})]})]}),b.jsx("p",{className:`text-sm mb-2 ${t.isCompleted?"line-through text-gray-500":"text-gray-900 dark:text-white"}`,children:t.message}),b.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx(K1,{className:"w-3 h-3"}),b.jsxs("span",{children:[f," at ",p]})]}),b.jsx("span",{children:a(t.reminderDate)}),t.completedAt&&b.jsx("span",{className:"text-green-600",children:"Completed"})]})]}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Edit",children:b.jsx(K6,{className:"w-3 h-3"})}),b.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:b.jsx(Ul,{className:"w-3 h-3"})})]})]})})},wXe=({noteIds:t=[],isOpen:e,onClose:r})=>{const{user:n}=Bi(),[s,a]=H.useState([]),[l,c]=H.useState(!1),[h,f]=H.useState(!1),[p,O]=H.useState("export"),[x,k]=H.useState(t),[w,_]=H.useState({format:"pdf",includeMetadata:!0,includeComments:!0,includeLinks:!0,includeVersions:!1,pageSize:"A4",orientation:"portrait",fontSize:12,includeTableOfContents:!0,includePageNumbers:!0});H.useEffect(()=>{e&&C()},[e]);const C=()=>{a([])},T=async()=>{if(!(!n||x.length===0)){f(!0);try{const M=await rl.createExportJob(x.length===1?x[0]:void 0,n.id,w.format,w);a(I=>[M,...I]),O("history")}catch(M){console.error("Failed to create export job:",M)}finally{f(!1)}}},E=M=>{switch(M){case"pdf":return b.jsx(Yr,{className:"w-5 h-5 text-red-500"});case"docx":return b.jsx(F1e,{className:"w-5 h-5 text-blue-500"});case"md":return b.jsx(EO,{className:"w-5 h-5 text-gray-600"});case"html":return b.jsx(z1e,{className:"w-5 h-5 text-orange-500"});case"json":return b.jsx(Y6,{className:"w-5 h-5 text-green-500"});default:return b.jsx(Yr,{className:"w-5 h-5"})}},P=M=>{switch(M){case"pdf":return"PDF Document";case"docx":return"Word Document";case"md":return"Markdown";case"html":return"HTML Page";case"json":return"JSON Data";default:return M.toUpperCase()}},Q=M=>{switch(M){case"completed":return b.jsx(rs,{className:"w-4 h-4 text-green-500"});case"failed":return b.jsx(vx,{className:"w-4 h-4 text-red-500"});case"processing":return b.jsx(K0,{className:"w-4 h-4 text-blue-500 animate-spin"});default:return b.jsx(Ko,{className:"w-4 h-4 text-gray-400"})}},B=M=>M?M<1024?`${M} B`:M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/(1024*1024)).toFixed(1)} MB`:"Unknown size",R=M=>new Date(M).toLocaleString();return e?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl h-5/6 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(es,{className:"w-5 h-5 text-green-500"}),b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Export Manager"}),x.length>0&&b.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x.length," note",x.length!==1?"s":""," selected"]})]}),b.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:b.jsx(Ii,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:b.jsxs("div",{className:"flex",children:[b.jsx("button",{onClick:()=>O("export"),className:`px-4 py-3 text-sm font-medium transition-colors ${p==="export"?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:"Export Notes"}),b.jsx("button",{onClick:()=>O("history"),className:`px-4 py-3 text-sm font-medium transition-colors ${p==="history"?"text-blue-600 border-b-2 border-blue-500":"text-gray-500 hover:text-gray-700"}`,children:"Export History"})]})}),b.jsx("div",{className:"flex-1 overflow-hidden",children:p==="export"?b.jsx(vXe,{selectedNotes:x,onSelectedNotesChange:k,exportOptions:w,onExportOptionsChange:_,onExport:T,isExporting:h,getFormatIcon:E,getFormatName:P}):b.jsx(_Xe,{exportJobs:s,getFormatIcon:E,getFormatName:P,getStatusIcon:Q,formatFileSize:B,formatDate:R})})]})}):null},vXe=({selectedNotes:t,onSelectedNotesChange:e,exportOptions:r,onExportOptionsChange:n,onExport:s,isExporting:a,getFormatIcon:l,getFormatName:c})=>{const h=(p,O)=>{n({...r,[p]:O})},f=[{value:"pdf",description:"Portable Document Format - Best for printing and sharing"},{value:"docx",description:"Microsoft Word Document - Editable format"},{value:"md",description:"Markdown - Lightweight markup language"},{value:"html",description:"HTML Page - Web-ready format"},{value:"json",description:"JSON Data - Structured data format"}];return b.jsxs("div",{className:"flex h-full",children:[b.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-700 p-4 space-y-4",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Export Format"}),b.jsx("div",{className:"space-y-2",children:f.map(p=>b.jsx("button",{onClick:()=>h("format",p.value),className:`w-full text-left p-3 border rounded-lg transition-colors ${r.format===p.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:b.jsxs("div",{className:"flex items-center space-x-3",children:[l(p.value),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c(p.value)}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p.description})]})]})},p.value))}),(r.format==="pdf"||r.format==="docx")&&b.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Layout Options"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Page Size"}),b.jsxs("select",{value:r.pageSize,onChange:p=>h("pageSize",p.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"A4",children:"A4"}),b.jsx("option",{value:"Letter",children:"Letter"}),b.jsx("option",{value:"A3",children:"A3"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Orientation"}),b.jsxs("select",{value:r.orientation,onChange:p=>h("orientation",p.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"portrait",children:"Portrait"}),b.jsx("option",{value:"landscape",children:"Landscape"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Font Size"}),b.jsx("input",{type:"number",min:"8",max:"24",value:r.fontSize,onChange:p=>h("fontSize",parseInt(p.target.value)),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]})]}),b.jsxs("div",{className:"flex-1 p-4 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Content to Include"}),b.jsx("div",{className:"space-y-2",children:[{key:"includeMetadata",label:"Note metadata (title, date, tags)",value:r.includeMetadata},{key:"includeComments",label:"Comments and annotations",value:r.includeComments},{key:"includeLinks",label:"Cross-references and links",value:r.includeLinks},{key:"includeVersions",label:"Version history",value:r.includeVersions}].map(p=>b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:p.value,onChange:O=>h(p.key,O.target.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.label})]},p.key))})]}),(r.format==="pdf"||r.format==="docx")&&b.jsxs("div",{children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Document Options"}),b.jsxs("div",{className:"space-y-2",children:[[{key:"includeTableOfContents",label:"Table of contents",value:r.includeTableOfContents},{key:"includePageNumbers",label:"Page numbers",value:r.includePageNumbers}].map(p=>b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",checked:p.value,onChange:O=>h(p.key,O.target.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),b.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.label})]},p.key)),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Watermark (optional)"}),b.jsx("input",{type:"text",value:r.watermark||"",onChange:p=>h("watermark",p.target.value),placeholder:"e.g., Confidential, Draft, etc.",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}),b.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Export Preview"}),b.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[b.jsxs("p",{children:["Format: ",c(r.format)]}),b.jsxs("p",{children:["Notes: ",t.length," selected"]}),b.jsxs("p",{children:["Content: ",Object.entries(r).filter(([p,O])=>p.startsWith("include")&&O).length," items included"]})]})]}),b.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:b.jsx("button",{onClick:s,disabled:a||t.length===0,className:"flex items-center space-x-2 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?b.jsxs(b.Fragment,{children:[b.jsx(K0,{className:"w-4 h-4 animate-spin"}),b.jsx("span",{children:"Exporting..."})]}):b.jsxs(b.Fragment,{children:[b.jsx(es,{className:"w-4 h-4"}),b.jsx("span",{children:"Export Notes"})]})})})]})]})},_Xe=({exportJobs:t,getFormatIcon:e,getFormatName:r,getStatusIcon:n,formatFileSize:s,formatDate:a})=>t.length===0?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsxs("div",{className:"text-center",children:[b.jsx(es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No exports yet"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Your export history will appear here"})]})}):b.jsx("div",{className:"p-4",children:b.jsx("div",{className:"space-y-3",children:t.map(l=>b.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[e(l.exportType),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r(l.exportType)}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a(l.createdAt)})]})]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[n(l.status),b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:l.status})]}),l.fileSizeBytes&&b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s(l.fileSizeBytes)})]}),l.status==="completed"&&l.fileUrl&&b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("button",{onClick:()=>window.open(l.fileUrl,"_blank"),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"View",children:b.jsx(yh,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>{const c=document.createElement("a");c.href=l.fileUrl,c.download=l.fileName||"export",c.click()},className:"p-1 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Download",children:b.jsx(es,{className:"w-4 h-4"})})]})]})]}),l.fileName&&b.jsx("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:l.fileName})]},l.id))})}),Hn=({className:t="",...e})=>b.jsx("div",{className:`rounded-lg border bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm ${t}`,...e}),$s=({className:t="",...e})=>b.jsx("div",{className:`flex flex-col space-y-1.5 p-6 ${t}`,...e}),Ms=({className:t="",...e})=>b.jsx("h3",{className:`text-2xl font-semibold leading-none tracking-tight text-gray-900 dark:text-white ${t}`,...e}),Ja=({className:t="",...e})=>b.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-400 ${t}`,...e}),Kn=({className:t="",...e})=>b.jsx("div",{className:`p-6 pt-0 ${t}`,...e}),CXe=Yq("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-500 text-white hover:bg-blue-600",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100",secondary:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700",ghost:"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-900 dark:text-gray-100",link:"text-blue-500 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_r=H.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const l=n?qge:"button";return b.jsx(l,{className:pa(CXe({variant:e,size:r,className:t})),ref:a,...s})});_r.displayName="Button";var vA="Tabs",[AXe]=M6(vA,[yV]),Kne=yV(),[SXe,v8]=AXe(vA),Jne=H.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:h="automatic",...f}=t,p=xV(c),[O,x]=z2({prop:n,onChange:s,defaultProp:a??"",caller:vA});return b.jsx(SXe,{scope:r,baseId:kx(),value:O,onValueChange:x,orientation:l,dir:p,activationMode:h,children:b.jsx(ii.div,{dir:p,"data-orientation":l,...f,ref:e})})});Jne.displayName=vA;var eie="TabsList",tie=H.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=v8(eie,r),l=Kne(r);return b.jsx(Wge,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:n,children:b.jsx(ii.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});tie.displayName=eie;var rie="TabsTrigger",nie=H.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,l=v8(rie,r),c=Kne(r),h=aie(l.baseId,n),f=oie(l.baseId,n),p=n===l.value;return b.jsx(Yge,{asChild:!0,...c,focusable:!s,active:p,children:b.jsx(ii.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...a,ref:e,onMouseDown:vn(t.onMouseDown,O=>{!s&&O.button===0&&O.ctrlKey===!1?l.onValueChange(n):O.preventDefault()}),onKeyDown:vn(t.onKeyDown,O=>{[" ","Enter"].includes(O.key)&&l.onValueChange(n)}),onFocus:vn(t.onFocus,()=>{const O=l.activationMode!=="manual";!p&&!s&&O&&l.onValueChange(n)})})})});nie.displayName=rie;var iie="TabsContent",sie=H.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...l}=t,c=v8(iie,r),h=aie(c.baseId,n),f=oie(c.baseId,n),p=n===c.value,O=H.useRef(p);return H.useEffect(()=>{const x=requestAnimationFrame(()=>O.current=!1);return()=>cancelAnimationFrame(x)},[]),b.jsx(N6,{present:s||p,children:({present:x})=>b.jsx(ii.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:f,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:O.current?"0s":void 0},children:x&&a})})});sie.displayName=iie;function aie(t,e){return`${t}-trigger-${e}`}function oie(t,e){return`${t}-content-${e}`}var TXe=Jne,lie=tie,cie=nie,die=sie;const _8=TXe,_A=H.forwardRef(({className:t,...e},r)=>b.jsx(lie,{ref:r,className:pa("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));_A.displayName=lie.displayName;const Xo=H.forwardRef(({className:t,...e},r)=>b.jsx(cie,{ref:r,className:pa("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Xo.displayName=cie.displayName;const Vo=H.forwardRef(({className:t,...e},r)=>b.jsx(die,{ref:r,className:pa("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Vo.displayName=die.displayName;const Mc=({className:t="",variant:e="default",...r})=>{const n={default:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",secondary:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-100",destructive:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",outline:"border border-gray-300 text-gray-800 dark:border-gray-600 dark:text-gray-100"};return b.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${n[e]} ${t}`,...r})},C8=({className:t="",value:e=0,max:r=100,...n})=>{const s=Math.min(Math.max(e/r*100,0),100);return b.jsx("div",{className:`relative h-4 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700 ${t}`,...n,children:b.jsx("div",{className:"h-full w-full flex-1 bg-blue-600 dark:bg-blue-500 transition-all duration-300",style:{transform:`translateX(-${100-s}%)`}})})},y6=({className:t="",variant:e="default",...r})=>{const n={default:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200",destructive:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200"};return b.jsx("div",{className:`relative w-full rounded-lg border p-4 ${n[e]} ${t}`,...r})},w6=({className:t="",...e})=>b.jsx("div",{className:`text-sm ${t}`,...e}),EXe=({recommendations:t})=>{const[e,r]=H.useState("all"),[n,s]=H.useState("all"),[a,l]=H.useState(new Set),c=t.filter(O=>{const x=e==="all"||O.priority===e,k=n==="all"||O.type===n;return x&&k}),h=c.reduce((O,x)=>(O[x.type]||(O[x.type]=[]),O[x.type].push(x),O),{}),f=O=>{l(x=>new Set([...x,O]))},p=O=>{console.log("Dismissed recommendation:",O)};return t.length===0?b.jsx(Hn,{children:b.jsxs(Kn,{className:"py-8 text-center",children:[b.jsx(il,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Recommendations Available"}),b.jsx("p",{className:"text-gray-600",children:"Continue using your trading journal to generate personalized insights and recommendations."})]})}):b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Smart Recommendations"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"AI-powered insights to improve your trading journal and performance"})]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Mf,{className:"w-4 h-4 text-gray-500"}),b.jsxs("select",{value:e,onChange:O=>r(O.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[b.jsx("option",{value:"all",children:"All Priorities"}),b.jsx("option",{value:"high",children:"High Priority"}),b.jsx("option",{value:"medium",children:"Medium Priority"}),b.jsx("option",{value:"low",children:"Low Priority"})]})]}),b.jsxs("select",{value:n,onChange:O=>s(O.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[b.jsx("option",{value:"all",children:"All Types"}),b.jsx("option",{value:"template",children:"Templates"}),b.jsx("option",{value:"content",children:"Content"}),b.jsx("option",{value:"goal",children:"Goals"}),b.jsx("option",{value:"learning",children:"Learning"}),b.jsx("option",{value:"improvement",children:"Improvement"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total Recommendations"}),b.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c.length})]}),b.jsx(_x,{className:"w-8 h-8 text-blue-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-red-600 text-sm font-medium",children:"High Priority"}),b.jsx("p",{className:"text-2xl font-bold text-red-900",children:c.filter(O=>O.priority==="high").length})]}),b.jsx(vx,{className:"w-8 h-8 text-red-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Applied"}),b.jsx("p",{className:"text-2xl font-bold text-green-900",children:a.size})]}),b.jsx(rs,{className:"w-8 h-8 text-green-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"Avg Confidence"}),b.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[Math.round(c.reduce((O,x)=>O+x.confidence,0)/c.length*100),"%"]})]}),b.jsx(il,{className:"w-8 h-8 text-purple-500"})]})})]}),b.jsxs(_8,{defaultValue:"all",className:"space-y-4",children:[b.jsxs(_A,{children:[b.jsxs(Xo,{value:"all",children:["All (",c.length,")"]}),Object.keys(h).map(O=>b.jsxs(Xo,{value:O,children:[O.charAt(0).toUpperCase()+O.slice(1)," (",h[O].length,")"]},O))]}),b.jsx(Vo,{value:"all",className:"space-y-4",children:c.map(O=>b.jsx(wz,{recommendation:O,isApplied:a.has(O.id),onApply:()=>f(O.id),onDismiss:()=>p(O.id)},O.id))}),Object.entries(h).map(([O,x])=>b.jsx(Vo,{value:O,className:"space-y-4",children:x.map(k=>b.jsx(wz,{recommendation:k,isApplied:a.has(k.id),onApply:()=>f(k.id),onDismiss:()=>p(k.id)},k.id))},O))]}),c.length===0&&b.jsxs(y6,{children:[b.jsx(Mf,{className:"h-4 w-4"}),b.jsx(w6,{children:"No recommendations match your current filters. Try adjusting the priority or type filters."})]})]})},wz=({recommendation:t,isApplied:e,onApply:r,onDismiss:n})=>{var w,_,C,T;const[s,a]=H.useState(!1),l=E=>{switch(E){case"template":return af;case"content":return nh;case"goal":return vu;case"learning":return il;case"improvement":return Os;default:return _x}},c=E=>{switch(E){case"template":return"bg-blue-50 text-blue-600 border-blue-200";case"content":return"bg-green-50 text-green-600 border-green-200";case"goal":return"bg-purple-50 text-purple-600 border-purple-200";case"learning":return"bg-orange-50 text-orange-600 border-orange-200";case"improvement":return"bg-red-50 text-red-600 border-red-200";default:return"bg-gray-50 text-gray-600 border-gray-200"}},h=E=>{switch(E){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},f=E=>{switch(E){case"high":return vx;case"medium":return Ko;case"low":return rs;default:return lf}},p=l(t.type),O=f(t.priority),x=c(t.type),k=h(t.priority);return e?b.jsx(Hn,{className:"border-green-200 bg-green-50",children:b.jsx(Kn,{className:"p-6",children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:b.jsx(rs,{className:"w-5 h-5 text-green-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-green-900",children:t.title}),b.jsx("p",{className:"text-sm text-green-700",children:"Applied successfully"})]}),b.jsx(Mc,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Applied"})]})})}):b.jsxs(Hn,{className:"hover:shadow-md transition-shadow",children:[b.jsx($s,{className:"pb-3",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("div",{className:`p-2 rounded-lg border ${x}`,children:b.jsx(p,{className:"w-5 h-5"})}),b.jsxs("div",{children:[b.jsx(Ms,{className:"text-lg",children:t.title}),b.jsx(Ja,{children:t.description})]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs(Mc,{className:k,children:[b.jsx(O,{className:"w-3 h-3 mr-1"}),t.priority]}),b.jsxs(Mc,{variant:"outline",children:[Math.round(t.confidence*100),"% confident"]})]})]})}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-600",children:"AI Confidence"}),b.jsxs("span",{className:"font-medium",children:[Math.round(t.confidence*100),"%"]})]}),b.jsx(C8,{value:t.confidence*100,className:"h-2"})]}),t.reasoning&&b.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:b.jsxs("p",{className:"text-sm text-gray-700",children:[b.jsx("strong",{children:"Why this matters:"})," ",t.reasoning]})}),b.jsxs("div",{children:[b.jsxs("button",{onClick:()=>a(!s),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center",children:[s?"Hide":"Show"," action items",b.jsx(U6,{className:`w-4 h-4 ml-1 transition-transform ${s?"rotate-90":""}`})]}),s&&b.jsxs("div",{className:"mt-3 space-y-2",children:[b.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Recommended actions:"}),b.jsx("ul",{className:"space-y-1",children:t.actionItems.map((E,P)=>b.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[b.jsx(Hd,{className:"w-3 h-3 text-yellow-500 mr-2 flex-shrink-0"}),E]},P))})]})]}),(((w=t.relatedNotes)==null?void 0:w.length)||((_=t.relatedGoals)==null?void 0:_.length))&&b.jsxs("div",{className:"flex flex-wrap gap-2",children:[(C=t.relatedNotes)==null?void 0:C.slice(0,3).map((E,P)=>b.jsxs(Mc,{variant:"outline",className:"text-xs",children:["Note: ",E]},P)),(T=t.relatedGoals)==null?void 0:T.slice(0,3).map((E,P)=>b.jsxs(Mc,{variant:"outline",className:"text-xs",children:["Goal: ",E]},P))]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsxs(_r,{onClick:r,size:"sm",className:"flex items-center space-x-2",children:[b.jsx(rs,{className:"w-4 h-4"}),b.jsx("span",{children:"Apply Recommendation"})]}),b.jsx(_r,{onClick:n,variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",children:"Dismiss"})]})]})]})},PXe=({onGenerateReport:t,reports:e,isGenerating:r,dateRange:n})=>{const[s,a]=H.useState("monthly"),[l,c]=H.useState({start:n.start.toISOString().split("T")[0],end:n.end.toISOString().split("T")[0]}),[h,f]=H.useState({includeCharts:!0,includeRecommendations:!0,includeInsights:!0,includeExecutiveSummary:!0,includeActionItems:!0,format:"pdf"}),[p,O]=H.useState("all"),[x,k]=H.useState(""),w=()=>{t(s)},_=M=>{console.log("Downloading report:",M)},C=M=>{console.log("Sharing report:",M)},T=e.filter(M=>{const I=p==="all"||M.status===p,j=x===""||M.title.toLowerCase().includes(x.toLowerCase())||M.description.toLowerCase().includes(x.toLowerCase());return I&&j}),E=M=>{switch(M){case"completed":return"bg-green-100 text-green-800";case"generating":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=M=>{switch(M){case"completed":return rs;case"generating":return K0;case"failed":return vx;default:return Ko}},Q=M=>{switch(M){case"weekly":return K1;case"monthly":return Gd;case"quarterly":return Os;case"custom":return Ma;default:return Yr}},B=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=M=>500+M.content.charts.length*200;return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsxs(Ms,{className:"flex items-center",children:[b.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Generate New Report"]}),b.jsx(Ja,{children:"Create comprehensive reports with charts, insights, and recommendations"})]}),b.jsxs(Kn,{className:"space-y-6",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsx(gs,{children:"Report Type"}),b.jsxs(J1,{value:s,onValueChange:M=>a(M),children:[b.jsx(hf,{children:b.jsx(eO,{})}),b.jsxs(uf,{children:[b.jsx(ia,{value:"weekly",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(K1,{className:"w-4 h-4"}),b.jsx("span",{children:"Weekly Report"})]})}),b.jsx(ia,{value:"monthly",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Gd,{className:"w-4 h-4"}),b.jsx("span",{children:"Monthly Report"})]})}),b.jsx(ia,{value:"quarterly",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Os,{className:"w-4 h-4"}),b.jsx("span",{children:"Quarterly Report"})]})}),b.jsx(ia,{value:"custom",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Ma,{className:"w-4 h-4"}),b.jsx("span",{children:"Custom Report"})]})})]})]})]}),s==="custom"&&b.jsxs("div",{className:"space-y-3",children:[b.jsx(gs,{children:"Date Range"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"start-date",className:"text-sm text-gray-600",children:"Start Date"}),b.jsx(eo,{id:"start-date",type:"date",value:l.start,onChange:M=>c(I=>({...I,start:M.target.value}))})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"end-date",className:"text-sm text-gray-600",children:"End Date"}),b.jsx(eo,{id:"end-date",type:"date",value:l.end,onChange:M=>c(I=>({...I,end:M.target.value}))})]})]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx(gs,{children:"Report Content"}),b.jsx("div",{className:"space-y-2",children:[{key:"includeExecutiveSummary",label:"Executive Summary",icon:vu},{key:"includeCharts",label:"Charts and Visualizations",icon:Gd},{key:"includeInsights",label:"Key Insights",icon:il},{key:"includeRecommendations",label:"Smart Recommendations",icon:Os},{key:"includeActionItems",label:"Action Items",icon:rs}].map(({key:M,label:I,icon:j})=>b.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:h[M],onChange:z=>f(X=>({...X,[M]:z.target.checked})),className:"rounded border-gray-300"}),b.jsx(j,{className:"w-4 h-4 text-gray-500"}),b.jsx("span",{className:"text-sm",children:I})]},M))})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx(gs,{children:"Output Format"}),b.jsxs(J1,{value:h.format,onValueChange:M=>f(I=>({...I,format:M})),children:[b.jsx(hf,{children:b.jsx(eO,{})}),b.jsxs(uf,{children:[b.jsx(ia,{value:"pdf",children:"PDF Document"}),b.jsx(ia,{value:"html",children:"HTML Web Page"}),b.jsx(ia,{value:"docx",children:"Word Document"})]})]})]}),b.jsx(_r,{onClick:w,disabled:r,className:"w-full",size:"lg",children:r?b.jsxs(b.Fragment,{children:[b.jsx(K0,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Report..."]}):b.jsxs(b.Fragment,{children:[b.jsx(Yr,{className:"w-4 h-4 mr-2"}),"Generate ",s.charAt(0).toUpperCase()+s.slice(1)," Report"]})}),r&&b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:"Generating your report..."}),b.jsx("span",{children:"75%"})]}),b.jsx(C8,{value:75,className:"h-2"}),b.jsx("p",{className:"text-xs text-gray-500",children:"This may take a few moments while we analyze your data and generate charts."})]})]})]}),b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsxs(Ms,{className:"flex items-center",children:[b.jsx(Ma,{className:"w-5 h-5 mr-2"}),"Report Templates"]}),b.jsx(Ja,{children:"Pre-configured report templates for different purposes"})]}),b.jsx(Kn,{className:"space-y-4",children:[{name:"Performance Review",description:"Comprehensive analysis of trading performance and goal progress",icon:Os,color:"bg-blue-50 text-blue-600 border-blue-200"},{name:"Learning Progress",description:"Track skill development and learning milestones",icon:il,color:"bg-purple-50 text-purple-600 border-purple-200"},{name:"Journal Analysis",description:"Deep dive into journaling patterns and content usage",icon:Yr,color:"bg-green-50 text-green-600 border-green-200"},{name:"Strategy Effectiveness",description:"Analyze strategy performance and optimization opportunities",icon:vu,color:"bg-orange-50 text-orange-600 border-orange-200"}].map((M,I)=>b.jsx("div",{className:`p-4 rounded-lg border ${M.color}`,children:b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx(M.icon,{className:"w-6 h-6"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"font-medium",children:M.name}),b.jsx("p",{className:"text-sm opacity-80",children:M.description})]}),b.jsx(_r,{variant:"outline",size:"sm",children:"Use Template"})]})},I))})]})]}),b.jsxs(Hn,{children:[b.jsx($s,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsxs(Ms,{className:"flex items-center",children:[b.jsx(Yr,{className:"w-5 h-5 mr-2"}),"Generated Reports (",T.length,")"]}),b.jsx(Ja,{children:"View, download, and share your previously generated reports"})]}),b.jsxs(_r,{variant:"outline",size:"sm",children:[b.jsx(PO,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),b.jsxs(Kn,{children:[b.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Mf,{className:"w-4 h-4 text-gray-500"}),b.jsxs(J1,{value:p,onValueChange:M=>O(M),children:[b.jsx(hf,{className:"w-32",children:b.jsx(eO,{})}),b.jsxs(uf,{children:[b.jsx(ia,{value:"all",children:"All Status"}),b.jsx(ia,{value:"completed",children:"Completed"}),b.jsx(ia,{value:"generating",children:"Generating"})]})]})]}),b.jsx("div",{className:"flex-1",children:b.jsx(eo,{placeholder:"Search reports...",value:x,onChange:M=>k(M.target.value),className:"max-w-sm"})})]}),T.length>0?b.jsx("div",{className:"space-y-4",children:T.map(M=>{const I=P(M.status),j=Q(M.type);return b.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:b.jsx(j,{className:"w-5 h-5 text-gray-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("h4",{className:"font-medium",children:M.title}),b.jsxs(Mc,{className:E(M.status),children:[b.jsx(I,{className:"w-3 h-3 mr-1"}),M.status]})]}),b.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description}),b.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[b.jsxs("span",{children:[B(M.period.start)," - ",B(M.period.end)]}),b.jsx("span",{children:""}),b.jsxs("span",{children:[R(M)," KB"]}),M.downloadUrl&&b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""}),b.jsxs("span",{children:["Generated ",B(M.generatedAt)]})]})]})]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs(_r,{variant:"outline",size:"sm",children:[b.jsx(yh,{className:"w-4 h-4 mr-1"}),"Preview"]}),M.status==="completed"&&b.jsxs(b.Fragment,{children:[b.jsxs(_r,{variant:"outline",size:"sm",onClick:()=>_(M.id),children:[b.jsx(es,{className:"w-4 h-4 mr-1"}),"Download"]}),b.jsxs(_r,{variant:"outline",size:"sm",onClick:()=>C(M.id),children:[b.jsx(H1e,{className:"w-4 h-4 mr-1"}),"Share"]})]}),M.status==="generating"&&b.jsxs(_r,{variant:"outline",size:"sm",disabled:!0,children:[b.jsx(K0,{className:"w-4 h-4 mr-1 animate-spin"}),"Generating..."]})]})]}),M.status==="completed"&&b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"Key Insights:"}),b.jsxs("p",{className:"font-medium",children:[M.content.keyInsights.length," items"]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"Charts:"}),b.jsxs("p",{className:"font-medium",children:[M.content.charts.length," charts"]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"Recommendations:"}),b.jsxs("p",{className:"font-medium",children:[M.content.recommendations.length," items"]})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"Action Items:"}),b.jsxs("p",{className:"font-medium",children:[M.content.actionItems.length," items"]})]})]})})]},M.id)})}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx(Yr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reports Found"}),b.jsx("p",{className:"text-gray-600",children:p==="all"?"Generate your first report to see it here.":`No ${p} reports found. Try adjusting your filters.`})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"Total Reports"}),b.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.length})]}),b.jsx(Yr,{className:"w-8 h-8 text-blue-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Completed"}),b.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.filter(M=>M.status==="completed").length})]}),b.jsx(rs,{className:"w-8 h-8 text-green-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-yellow-600 text-sm font-medium",children:"Generating"}),b.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.filter(M=>M.status==="generating").length})]}),b.jsx(K0,{className:"w-8 h-8 text-yellow-500"})]})}),b.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 rounded-lg",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"This Month"}),b.jsx("p",{className:"text-2xl font-bold text-purple-900",children:e.filter(M=>{const I=new Date(M.generatedAt),j=new Date;return I.getMonth()===j.getMonth()&&I.getFullYear()===j.getFullYear()}).length})]}),b.jsx(K1,{className:"w-8 h-8 text-purple-500"})]})})]})]})};class DXe{getNoteAnalytics(e,r){try{const n=this.filterNotesByDateRange(e,r);return{totalNotes:n.length,notesCreated:this.calculateNoteCountByPeriod(n,"created_at"),notesEdited:this.calculateNoteCountByPeriod(n,"updated_at"),notesDeleted:this.calculateDeletedNotes(n),averageNoteLength:this.calculateAverageNoteLength(n),averageEditTime:this.calculateAverageEditTime(n),mostActiveHours:this.getMostActiveHours(n),mostActiveDays:this.getMostActiveDays(n),mostUsedFolders:this.calculateFolderUsage(n),mostUsedTags:this.calculateTagUsage(n),templateUsage:this.calculateTemplateUsage(n),collaborationMetrics:this.calculateCollaborationMetrics(n)}}catch(n){throw console.error("Error fetching note analytics:",n),n}}getTradingPatternAnalysis(e,r){try{const n=this.filterTradesByDateRange(e,r);return{goalProgress:this.calculateGoalProgress(n),strategyPerformance:this.calculateStrategyPerformance(n),mistakePatterns:this.analyzeMistakePatterns(n),emotionalTrends:this.analyzeEmotionalTrends(n),learningProgress:this.calculateLearningProgress(n),performanceCorrelations:this.calculatePerformanceCorrelations(n)}}catch(n){throw console.error("Error fetching trading pattern analysis:",n),n}}getContentUsageStats(e,r){try{const n=this.filterNotesByDateRange(e,r);return{mostAccessedNotes:this.calculateMostAccessedNotes(n),searchPatterns:this.analyzeSearchPatterns(),exportActivity:this.calculateExportActivity(),tagUsage:this.calculateTagUsage(n),workflowPatterns:this.analyzeWorkflowPatterns(n)}}catch(n){throw console.error("Error fetching content usage stats:",n),n}}getSmartRecommendations(e,r){try{const n=[];return n.push(...this.analyzeNotePatternsForRecommendations(e)),n.push(...this.analyzeGoalProgressForRecommendations(r)),n.push(...this.analyzeLearningPatternsForRecommendations(e,r)),n.sort((s,a)=>{const l={high:3,medium:2,low:1},c=l[s.priority]*s.confidence;return l[a.priority]*a.confidence-c})}catch(n){throw console.error("Error generating smart recommendations:",n),n}}generateReport(e,r,n,s){try{const a=this.getNoteAnalytics(n,r),l=this.getTradingPatternAnalysis(s,r),c=this.getContentUsageStats(n,r),h=this.getSmartRecommendations(n,s);return{id:`report_${Date.now()}`,type:e,title:this.generateReportTitle(e,r),description:this.generateReportDescription(e),generatedAt:new Date().toISOString(),period:{start:r.start.toISOString(),end:r.end.toISOString()},content:{executiveSummary:this.generateExecutiveSummary(a,l,c),keyInsights:this.generateKeyInsights(a,l,c,h),metrics:{analytics:a,patterns:l,contentStats:c},charts:this.generateReportCharts(a,l,c),recommendations:h.slice(0,5).map(p=>p.title),actionItems:this.generateActionItems(h)},status:"completed"}}catch(a){throw console.error("Error generating report:",a),a}}async searchContent(e,r){try{const n=this.getMockNotes(),s=this.filterNotesBySearchAndFilters(n,e,r);return{results:s,suggestions:this.generateSearchSuggestions(e,n),totalCount:s.length}}catch(n){throw console.error("Error searching content:",n),n}}getMockNotes(){const e=["Trading Plan","Daily Journal","Strategy","Analysis","Review"],r=["trading","strategy","analysis","psychology","risk-management","forex","stocks","crypto"],n=[],s=new Date;for(let a=0;a<100;a++){const l=Math.floor(Math.random()*365),c=new Date(s.getTime()-l*24*60*60*1e3),h=new Date(c.getTime()+Math.random()*7*24*60*60*1e3),f={id:`note_${a+1}`,title:`Trading Note ${a+1}`,text:`This is the content of trading note ${a+1}. It contains information about trading strategies, market analysis, and trading psychology. The note discusses various aspects of trading including risk management, emotional control, and market patterns.`,content_type:"plain-text",category:e[Math.floor(Math.random()*e.length)],created_at:c.toISOString(),updated_at:h.toISOString(),metadata:{tags:this.getRandomSubset(r,Math.floor(Math.random()*3)+1),favorite:Math.random()>.8,pinned:Math.random()>.9,folderId:(Math.floor(Math.random()*3)+1).toString()}};n.push(f)}return n.sort((a,l)=>new Date(l.created_at).getTime()-new Date(a.created_at).getTime())}getMockTrades(){const e=[],r=["EUR/USD","GBP/USD","USD/JPY","AAPL","TSLA","BTC-USD","ETH-USD"],n=["confident","anxious","excited","fearful","greedy","patient","disciplined"],s=["Asia","London 1","London 2","London 3","New York 1","New York 2","New York 3"],a=new Date;for(let l=0;l<200;l++){const c=Math.floor(Math.random()*90),h=new Date(a.getTime()-c*24*60*60*1e3),f={id:`trade_${l+1}`,asset:r[Math.floor(Math.random()*r.length)],asset_type:Math.random()>.5?"FX":Math.random()>.5?"Futures":"Metals",entry_tag:["breakout","pullback","reversal"][Math.floor(Math.random()*3)],trade_type:Math.random()>.5?"long":"short",size:Math.floor(Math.random()*10)+1,session:s[Math.floor(Math.random()*s.length)],duration:`${Math.floor(Math.random()*480)+15} minutes`,outcome:Math.random()>.6?"win":Math.random()>.5?"loss":"break_even",pnl:(Math.random()-.4)*1e3,emotion:n[Math.floor(Math.random()*n.length)],what_liked:"Good entry timing",what_didnt_like:"Should have waited for better signal",comment:"Overall positive trade",time:h.toISOString(),system_quality_number:3+Math.random()*2,analysis:3+Math.random()*2,execution:3+Math.random()*2,trade_management:3+Math.random()*2,risk_management:3+Math.random()*2,mindset:3+Math.random()*2};e.push(f)}return e.sort((l,c)=>new Date(c.time).getTime()-new Date(l.time).getTime())}filterNotesByDateRange(e,r){return r?e.filter(n=>{const s=new Date(n.created_at);return s>=r.start&&s<=r.end}):e}filterTradesByDateRange(e,r){return r?e.filter(n=>{const s=new Date(n.time);return s>=r.start&&s<=r.end}):e}calculateNoteCountByPeriod(e,r){const n=new Date;new Date(n.getTime()-1440*60*1e3),new Date(n.getTime()-10080*60*1e3),new Date(n.getTime()-720*60*60*1e3);const s=[],a=[],l=[];for(let c=29;c>=0;c--){const h=new Date(n.getTime()-c*24*60*60*1e3),f=e.filter(p=>new Date(p[r]).toDateString()===h.toDateString()).length;s.push({date:h.toISOString().split("T")[0],count:f})}for(let c=11;c>=0;c--){const h=new Date(n.getTime()-c*7*24*60*60*1e3);h.setDate(h.getDate()-h.getDay());const f=new Date(h.getTime()+8640*60*1e3),p=e.filter(O=>{const x=new Date(O[r]);return x>=h&&x<=f}).length;a.push({week:`${h.getFullYear()}-W${Math.ceil((h.getDate()+h.getDay())/7)}`,count:p})}for(let c=11;c>=0;c--){const h=new Date(n.getFullYear(),n.getMonth()-c,1),f=new Date(n.getFullYear(),n.getMonth()-c+1,0),p=e.filter(O=>{const x=new Date(O[r]);return x>=h&&x<=f}).length;l.push({month:`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}`,count:p})}return{daily:s,weekly:a,monthly:l}}calculateDeletedNotes(e){return e.filter(r=>r.deleted_at).length}calculateAverageNoteLength(e){if(e.length===0)return 0;const r=e.reduce((n,s)=>n+s.text.length,0);return Math.round(r/e.length)}calculateAverageEditTime(e){const r=e.filter(s=>s.updated_at!==s.created_at);if(r.length===0)return 0;const n=r.reduce((s,a)=>{const l=new Date(a.created_at).getTime(),c=new Date(a.updated_at).getTime();return s+(c-l)},0);return Math.round(n/r.length/(1e3*60))}getMostActiveHours(e){const r={};return e.forEach(n=>{const s=new Date(n.created_at).getHours();r[s]=(r[s]||0)+1}),Object.entries(r).sort(([,n],[,s])=>s-n).slice(0,3).map(([n])=>parseInt(n))}getMostActiveDays(e){const r={},n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e.forEach(s=>{const a=new Date(s.created_at).getDay(),l=n[a];r[l]=(r[l]||0)+1}),Object.entries(r).sort(([,s],[,a])=>a-s).slice(0,3).map(([s])=>s)}calculateFolderUsage(e){const r={},n=e.length;return e.forEach(s=>{var l;const a=((l=s.metadata)==null?void 0:l.folderId)||"unassigned";r[a]=(r[a]||0)+1}),Object.entries(r).map(([s,a])=>({folderId:s,folderName:this.getFolderName(s),noteCount:a,percentage:Math.round(a/n*100)})).sort((s,a)=>a.noteCount-s.noteCount)}calculateTagUsage(e){const r={},n=e.reduce((s,a)=>{var c;const l=((c=a.metadata)==null?void 0:c.tags)||[];return s+l.length},0);return e.forEach(s=>{var l;(((l=s.metadata)==null?void 0:l.tags)||[]).forEach(c=>{r[c]=(r[c]||0)+1})}),Object.entries(r).map(([s,a])=>({tagName:s,usageCount:a,percentage:Math.round(a/n*100),color:this.getTagColor(s)})).sort((s,a)=>a.usageCount-s.usageCount)}calculateTemplateUsage(e){return[{id:"template_1",name:"Basic Trading Plan",usage:15,effectiveness:.8},{id:"template_2",name:"Trade Review",usage:25,effectiveness:.9},{id:"template_3",name:"Market Analysis",usage:10,effectiveness:.7},{id:"template_4",name:"Goal Setting",usage:8,effectiveness:.85},{id:"template_5",name:"Mistake Analysis",usage:12,effectiveness:.75}].map(n=>({templateId:n.id,templateName:n.name,usageCount:n.usage,effectiveness:n.effectiveness}))}calculateCollaborationMetrics(e){return{sharedNotes:Math.floor(e.length*.1),commentsAdded:Math.floor(e.length*.3),collaborativeSessions:Math.floor(e.length*.05),averageResponseTime:2.5}}calculateGoalProgress(e){return[{goalId:"goal_1",goalName:"Monthly Win Rate",targetValue:60,currentValue:65,progress:108,deadline:"2025-12-31",status:"ahead",trend:"improving",milestones:[{id:"m1",name:"50% Win Rate",targetDate:"2025-01-31",status:"completed",value:50},{id:"m2",name:"55% Win Rate",targetDate:"2025-06-30",status:"completed",value:55},{id:"m3",name:"60% Win Rate",targetDate:"2025-12-31",status:"pending",value:60}]},{goalId:"goal_2",goalName:"Risk Management Score",targetValue:4.5,currentValue:4.2,progress:93,deadline:"2025-11-30",status:"on-track",trend:"stable",milestones:[]},{goalId:"goal_3",goalName:"Daily Trading Journal",targetValue:22,currentValue:18,progress:82,deadline:"2025-11-30",status:"behind",trend:"improving",milestones:[]}]}calculateStrategyPerformance(e){return[{id:"s1",name:"Breakout Strategy",trades:45,wins:28,avgReturn:2.3,maxDrawdown:5.2},{id:"s2",name:"Mean Reversion",trades:38,wins:22,avgReturn:1.8,maxDrawdown:4.1},{id:"s3",name:"Trend Following",trades:52,wins:31,avgReturn:2.1,maxDrawdown:6.8}].map(n=>({strategyId:n.id,strategyName:n.name,successRate:Math.round(n.wins/n.trades*100),totalTrades:n.trades,winningTrades:n.wins,avgReturn:n.avgReturn,maxDrawdown:n.maxDrawdown,performance:{daily:this.generatePerformanceData("daily"),weekly:this.generatePerformanceData("weekly"),monthly:this.generatePerformanceData("monthly")}}))}analyzeMistakePatterns(e){return[{mistakeType:"Emotional Trading",frequency:12,lastOccurrence:"2025-11-01",improvementTrend:"improving",impactScore:8.5,recommendations:["Implement stricter entry criteria","Use stop-loss orders consistently","Take breaks after consecutive losses"]},{mistakeType:"Poor Risk Management",frequency:8,lastOccurrence:"2025-10-28",improvementTrend:"stable",impactScore:9.2,recommendations:["Define risk per trade before entry","Never risk more than 2% per trade","Use position sizing calculator"]},{mistakeType:"Overtrading",frequency:15,lastOccurrence:"2025-11-03",improvementTrend:"worsening",impactScore:7.8,recommendations:["Set daily trading limits","Wait for high-probability setups","Track trading frequency"]}]}analyzeEmotionalTrends(e){return["confidence","anxiety","greed","fear","patience"].map(n=>({emotion:n,trend:["increasing","decreasing","stable"][Math.floor(Math.random()*3)],correlation:(Math.random()-.5)*2,frequency:Math.floor(Math.random()*50)+10,timestamps:this.generateEmotionalTimestamps(n)}))}calculateLearningProgress(e){return[{skillArea:"Technical Analysis",currentLevel:7.5,improvementRate:.2,practiceTime:45,milestones:["Completed chart pattern course","Mastered support/resistance","Advanced Fibonacci levels"],nextLevelRequirements:["Complete advanced TA course","Practice 100 more pattern trades","Achieve 70% pattern success rate"]},{skillArea:"Risk Management",currentLevel:6.8,improvementRate:.3,practiceTime:32,milestones:["Implemented 2% rule","Using position calculator","Setting stop losses"],nextLevelRequirements:["Master advanced risk models","Complete risk assessment course","Achieve 95% rule compliance"]}]}calculatePerformanceCorrelations(e){return[{factor1:"Emotional State",factor2:"Trade Outcome",correlationCoefficient:.45,significance:.85,description:"Higher emotional control correlates with better trade outcomes"},{factor1:"Risk Management Score",factor2:"Monthly P&L",correlationCoefficient:.72,significance:.92,description:"Strong correlation between risk management and profitability"},{factor1:"Trade Frequency",factor2:"Win Rate",correlationCoefficient:-.38,significance:.76,description:"Higher trade frequency tends to reduce win rate"}]}calculateMostAccessedNotes(e){return e.slice(0,10).map(r=>({noteId:r.id,noteTitle:r.title,accessCount:Math.floor(Math.random()*50)+1,lastAccessed:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),averageSessionTime:Math.floor(Math.random()*20)+5,accessTrend:["increasing","decreasing","stable"][Math.floor(Math.random()*3)]}))}analyzeSearchPatterns(){return["trading strategy","risk management","forex signals","technical analysis","psychology"].map(r=>({query:r,frequency:Math.floor(Math.random()*20)+1,lastSearch:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),resultCount:Math.floor(Math.random()*100)+10,category:"content"}))}calculateExportActivity(){return[{format:"PDF",count:25,totalSize:15*1024*1024,lastExport:"2025-11-01"},{format:"DOCX",count:18,totalSize:8*1024*1024,lastExport:"2025-10-28"},{format:"Markdown",count:32,totalSize:2*1024*1024,lastExport:"2025-11-05"},{format:"JSON",count:12,totalSize:1*1024*1024,lastExport:"2025-10-30"}]}analyzeWorkflowPatterns(e){return[{patternName:"Trade Review Process",frequency:15,averageDuration:25,successRate:.85,steps:[{stepName:"Review trade entry",averageDuration:5,successRate:.95,commonIssues:[]},{stepName:"Analyze exit timing",averageDuration:8,successRate:.88,commonIssues:["Emotion-based exits"]},{stepName:"Document lessons",averageDuration:12,successRate:.82,commonIssues:["Incomplete notes"]}]}]}getRandomSubset(e,r){return[...e].sort(()=>.5-Math.random()).slice(0,r)}getFolderName(e){return{1:"Trade Notes",2:"Daily Journal",3:"Strategy"}[e]||"Unassigned"}getTagColor(e){return{trading:"#3B82F6",strategy:"#10B981",analysis:"#F59E0B",psychology:"#EF4444","risk-management":"#8B5CF6",forex:"#06B6D4",stocks:"#F97316",crypto:"#84CC16"}[e]||"#6B7280"}generatePerformanceData(e){const r=[],n=e==="daily"?30:12;for(let s=n-1;s>=0;s--){const a=new Date;e==="daily"?a.setDate(a.getDate()-s):e==="weekly"?a.setDate(a.getDate()-s*7):a.setMonth(a.getMonth()-s),e==="daily"?r.push({date:a.toISOString().split("T")[0],pnl:(Math.random()-.4)*1e3}):e==="weekly"?r.push({week:a.toISOString().split("T")[0],pnl:(Math.random()-.4)*1e3}):r.push({month:a.toISOString().split("T")[0],pnl:(Math.random()-.4)*1e3})}return r}generateEmotionalTimestamps(e){const r=[];for(let n=0;n<20;n++){const s=new Date(Date.now()-n*24*60*60*1e3);r.push({timestamp:s.toISOString(),intensity:Math.random()*10})}return r}generateReportTitle(e,r){const n=r.start.toLocaleDateString(),s=r.end.toLocaleDateString();return`${e.charAt(0).toUpperCase()+e.slice(1)} Trading Journal Report (${n} - ${s})`}generateReportDescription(e){return{weekly:"Weekly summary of trading activities, performance metrics, and key insights",monthly:"Monthly comprehensive analysis of trading patterns, goal progress, and learning outcomes",quarterly:"Quarterly strategic review covering performance trends, strategy effectiveness, and development areas",custom:"Custom report tailored to specific analysis requirements and date range"}[e]||"Custom trading journal report"}generateExecutiveSummary(e,r,n){return`This period showed strong progress in your trading journal activities with ${e.totalNotes} total notes created. 
    Your goal progress indicates ${r.goalProgress.filter(s=>s.status==="ahead"||s.status==="on-track").length} goals on track. 
    Content analysis reveals increasing engagement with your most used tags: ${e.mostUsedTags.slice(0,3).map(s=>s.tagName).join(", ")}.`}generateKeyInsights(e,r,n,s){return["Note creation rate increased 15% compared to previous period",`Most productive writing time: ${e.mostActiveHours[0]}:00 hours`,`${r.mistakePatterns.length} distinct mistake patterns identified`,`${s.length} improvement opportunities discovered`,"Strong correlation between risk management and performance observed"]}generateReportCharts(e,r,n){return[{id:"note_creation_trend",type:"line",title:"Note Creation Trend",data:e.notesCreated.daily,config:{xAxis:"date",yAxis:"count"}},{id:"goal_progress",type:"bar",title:"Goal Progress Overview",data:r.goalProgress,config:{xAxis:"goalName",yAxis:"progress"}}]}generateActionItems(e){return e.slice(0,5).map(r=>`Priority: ${r.priority} - ${r.title}: ${r.description}`)}analyzeNotePatternsForRecommendations(e){const r=[],n=e.filter(l=>(Date.now()-new Date(l.created_at).getTime())/864e5<=7);n.length<3&&r.push({id:"rec_1",type:"content",title:"Increase Journaling Frequency",description:"Your recent journaling activity is below optimal levels. Consider setting a daily reminder.",priority:"high",confidence:.8,reasoning:"Consistent journaling correlates with improved trading performance",actionItems:["Set daily journaling reminder","Create a simple morning/evening routine","Start with 5-minute daily reflections"],data:{currentFrequency:n.length,targetFrequency:7}});const a=this.calculateTemplateUsage(e).find(l=>l.usageCount<5);return a&&r.push({id:"rec_2",type:"template",title:"Optimize Template Usage",description:`Consider using "${a.templateName}" more frequently for better structure.`,priority:"medium",confidence:.7,reasoning:"Consistent template use improves note quality and organization",actionItems:["Review template examples","Set template reminders","Track template effectiveness"],data:{templateName:a.templateName,currentUsage:a.usageCount}}),r}analyzeGoalProgressForRecommendations(e){return this.calculateGoalProgress(e).filter(s=>s.status==="behind"||s.trend==="declining").map(s=>({id:`rec_goal_${s.goalId}`,type:"goal",title:`Focus on ${s.goalName}`,description:`This goal needs attention to stay on track. Current progress: ${s.progress}%`,priority:"high",confidence:.9,reasoning:"Goal tracking and adjustment improves achievement rates",actionItems:["Review goal feasibility","Adjust timeline if needed","Increase focus activities","Break down into smaller milestones"],data:{goalId:s.goalId,currentProgress:s.progress,status:s.status}}))}analyzeLearningPatternsForRecommendations(e,r){return this.calculateLearningProgress(r).map(s=>({id:`rec_learning_${s.skillArea.replace(/\s+/g,"_")}`,type:"learning",title:`Develop ${s.skillArea} Skills`,description:`Current level: ${s.currentLevel}/10. Room for improvement in this area.`,priority:s.improvementRate<.2?"medium":"low",confidence:.75,reasoning:"Continuous learning in key areas drives performance improvement",actionItems:s.nextLevelRequirements,data:{skillArea:s.skillArea,currentLevel:s.currentLevel,practiceTime:s.practiceTime}}))}filterNotesBySearchAndFilters(e,r,n){let s=e;if(r){const a=r.toLowerCase();s=s.filter(l=>{var c,h;return((c=l.title)==null?void 0:c.toLowerCase().includes(a))||l.text.toLowerCase().includes(a)||((h=l.category)==null?void 0:h.toLowerCase().includes(a))})}return n!=null&&n.dateRange&&(s=this.filterNotesByDateRange(s,n.dateRange)),n!=null&&n.tags&&n.tags.length>0&&(s=s.filter(a=>{var c;const l=((c=a.metadata)==null?void 0:c.tags)||[];return n.tags.some(h=>l.includes(h))})),s}generateSearchSuggestions(e,r){const n=[],s=e.toLowerCase();return s.includes("trading")&&n.push("trading psychology","trading strategy","risk management"),s.includes("strategy")&&n.push("strategy backtest","strategy performance","strategy optimization"),n}}const D1=new DXe,QXe=({notes:t,trades:e,isOpen:r,onClose:n,className:s})=>{var V,te,G,J;const{user:a}=Bi(),[l,c]=H.useState(!0),[h,f]=H.useState("overview"),[p,O]=H.useState({start:new Date(Date.now()-720*60*60*1e3),end:new Date}),[x,k]=H.useState(0),[w,_]=H.useState(null),[C,T]=H.useState(null),[E,P]=H.useState(null),[Q,B]=H.useState([]),[R,M]=H.useState([]),[I,j]=H.useState(!1);H.useEffect(()=>{(()=>{if(a){c(!0);try{const ie=D1.getNoteAnalytics(t,p),be=D1.getTradingPatternAnalysis(e,p),he=D1.getContentUsageStats(t,p),re=D1.getSmartRecommendations(t,e);_(ie),T(be),P(he),B(re)}catch(ie){console.error("Failed to load analytics data:",ie)}finally{c(!1)}}})()},[a,p,x,t,e]);const z=()=>{k(oe=>oe+1)},X=oe=>{if(p){j(!0);try{const ie=D1.generateReport(oe,p,t,e);M(be=>[ie,...be])}catch(ie){console.error("Failed to generate report:",ie)}finally{j(!1)}}},W=[{label:"Last 7 days",days:7},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90},{label:"Last 6 months",days:180},{label:"Last year",days:365}],F=oe=>{O({start:new Date(Date.now()-oe*24*60*60*1e3),end:new Date})};return l?b.jsxs("div",{className:"flex items-center justify-center h-96",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),b.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Loading analytics..."})]}):r?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-7xl w-full h-[90vh] mx-4 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Insights"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive analysis of your trading journal patterns and performance"})]}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsxs(J1,{onValueChange:oe=>F(parseInt(oe)),children:[b.jsx(hf,{className:"w-40",children:b.jsx(eO,{placeholder:"Date Range"})}),b.jsx(uf,{children:W.map(oe=>b.jsx(ia,{value:oe.days.toString(),children:oe.label},oe.days))})]}),b.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Close Analytics",children:b.jsx(Ii,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]})]}),b.jsx("div",{className:"flex-1 overflow-auto p-6",children:b.jsxs("div",{className:`space-y-6 ${s}`,children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Analytics Overview"}),b.jsxs(_r,{onClick:z,variant:"outline",size:"sm",children:[b.jsx(PO,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),b.jsxs(_8,{value:h,onValueChange:f,className:"space-y-6",children:[b.jsxs(_A,{className:"grid w-full grid-cols-6",children:[b.jsx(Xo,{value:"overview",children:"Overview"}),b.jsx(Xo,{value:"notes",children:"Notes"}),b.jsx(Xo,{value:"patterns",children:"Patterns"}),b.jsx(Xo,{value:"content",children:"Content"}),b.jsx(Xo,{value:"insights",children:"Insights"}),b.jsx(Xo,{value:"reports",children:"Reports"})]}),b.jsx(Vo,{value:"overview",className:"space-y-6",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[b.jsx(uv,{title:"Total Notes",value:(w==null?void 0:w.totalNotes)||0,icon:Yr,trend:{value:12,direction:"up"},color:"blue"}),b.jsx(uv,{title:"Notes This Week",value:((te=(V=w==null?void 0:w.notesCreated)==null?void 0:V.weekly)==null?void 0:te.reduce((oe,ie)=>oe+ie.count,0))||0,icon:Os,trend:{value:8,direction:"up"},color:"green"}),b.jsx(uv,{title:"Tags Used",value:((G=E==null?void 0:E.tagUsage)==null?void 0:G.length)||0,icon:Hd,trend:{value:3,direction:"up"},color:"purple"}),b.jsx(uv,{title:"Active Tags",value:((J=w==null?void 0:w.mostUsedTags)==null?void 0:J.length)||0,icon:vu,trend:{value:15,direction:"up"},color:"orange"})]})}),b.jsx(Vo,{value:"notes",className:"space-y-6",children:b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Notes analytics coming soon..."})}),b.jsx(Vo,{value:"patterns",className:"space-y-6",children:b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Trading patterns analysis coming soon..."})}),b.jsx(Vo,{value:"content",className:"space-y-6",children:b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Content analytics coming soon..."})}),b.jsx(Vo,{value:"insights",className:"space-y-6",children:b.jsx(EXe,{recommendations:Q})}),b.jsx(Vo,{value:"reports",className:"space-y-6",children:b.jsx(PXe,{onGenerateReport:X,reports:R,isGenerating:I,dateRange:p})})]})]})})]})}):null},uv=({title:t,value:e,icon:r,trend:n,color:s})=>{const a={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200",red:"bg-red-50 text-red-600 border-red-200"};return b.jsx(Hn,{className:"relative overflow-hidden",children:b.jsx(Kn,{className:"p-6",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),b.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),n&&b.jsxs("div",{className:"flex items-center mt-1",children:[n.direction==="up"?b.jsx(Os,{className:"w-4 h-4 text-green-500 mr-1"}):b.jsx(rOe,{className:"w-4 h-4 text-red-500 mr-1"}),b.jsxs("span",{className:`text-sm ${n.direction==="up"?"text-green-600":"text-red-600"}`,children:[n.value,"%"]})]})]}),b.jsx("div",{className:`p-3 rounded-lg ${a[s]}`,children:b.jsx(r,{className:"w-6 h-6"})})]})})})};class $Xe{constructor(){Wr(this,"encryptionKey",null);this.initializeEncryption()}async initializeEncryption(){const e=localStorage.getItem("library_encryption_key");e&&(this.encryptionKey=e)}async setEncryptionPassword(e){const n=new TextEncoder().encode(e),s=crypto.getRandomValues(new Uint8Array(16)),a=await crypto.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]),l=await crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:1e5,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),c={key:await this.exportKey(l),salt:Array.from(s)};localStorage.setItem("library_encryption_key",JSON.stringify(c)),this.encryptionKey=JSON.stringify(c)}async exportKey(e){const r=await crypto.subtle.exportKey("jwk",e);return JSON.stringify(r)}async importKey(e){const r=JSON.parse(e);return await crypto.subtle.importKey("jwk",r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async encryptContent(e){if(!this.encryptionKey)throw new Error("Encryption key not set");const r=JSON.parse(this.encryptionKey),n=await this.importKey(r.key),s=new Uint8Array(r.salt),a=crypto.getRandomValues(new Uint8Array(12)),l=new TextEncoder().encode(e),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},n,l),h={iv:Array.from(a),salt:Array.from(s),encrypted:Array.from(new Uint8Array(c))};return btoa(JSON.stringify(h))}async decryptContent(e){if(!this.encryptionKey)throw new Error("Encryption key not set");const r=JSON.parse(this.encryptionKey),n=await this.importKey(r.key),s=JSON.parse(atob(e)),a=new Uint8Array(s.iv),l=new Uint8Array(s.encrypted),c=await crypto.subtle.decrypt({name:"AES-GCM",iv:a},n,l);return new TextDecoder().decode(c)}async createBackup(e,r=["notes","templates","attachments","metadata"]){var n,s;try{const{data:a}=await Ft.auth.getUser();if(!a.user)throw new Error("Not authenticated");const{data:l,error:c}=await Ft.from("library_backup_history").insert({user_id:a.user.id,backup_type:e,backup_format:"json",files_included:r,status:"pending"}).select().single();if(c)throw c;const[h,f]=await Promise.all([Ft.from("library_notes").select("*").eq("user_id",a.user.id),Ft.from("library_templates").select("*").eq("user_id",a.user.id)]);if(h.error)throw h.error;if(f.error)throw f.error;const p={backup_id:l.id,created_at:new Date().toISOString(),backup_type:e,user_id:a.user.id,notes:h.data||[],templates:f.data||[],metadata:{notes_count:((n=h.data)==null?void 0:n.length)||0,templates_count:((s=f.data)==null?void 0:s.length)||0,total_size:JSON.stringify({notes:h.data,templates:f.data}).length}},{error:O}=await Ft.from("library_backup_history").update({notes_count:p.metadata.notes_count,templates_count:p.metadata.templates_count,backup_size_bytes:p.metadata.total_size,status:"completed",completed_at:new Date().toISOString()}).eq("id",l.id);if(O)throw O;return l}catch(a){throw console.error("Backup creation failed:",a),a}}async restoreFromBackup(e,r={}){try{const{data:n}=await Ft.auth.getUser();if(!n.user)throw new Error("Not authenticated");const{data:s,error:a}=await Ft.from("library_backup_history").select("*").eq("id",e).eq("user_id",n.user.id).single();if(a)throw a;if(s.status!=="completed")throw new Error("Backup not completed");console.log(`Restoring backup ${e} with options:`,r)}catch(n){throw console.error("Backup restore failed:",n),n}}async getBackupHistory(e){try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const{data:n,error:s}=await Ft.from("library_backup_history").select("*").eq("user_id",e||r.user.id).order("created_at",{ascending:!1});if(s)throw s;return n||[]}catch(r){return console.error("Failed to get backup history:",r),[]}}async deleteBackup(e){try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const{error:n}=await Ft.from("library_backup_history").delete().eq("id",e).eq("user_id",r.user.id);if(n)throw n}catch(r){throw console.error("Failed to delete backup:",r),r}}async queueSyncOperation(e){try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const{data:n,error:s}=await Ft.from("library_sync_queue").insert({user_id:r.user.id,...e,status:"pending"}).select("id").single();if(s)throw s;return n.id}catch(r){throw console.error("Failed to queue sync operation:",r),r}}async processSyncQueue(e){try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const{data:n,error:s}=await Ft.from("library_sync_queue").select("*").eq("user_id",r.user.id).eq("status","pending").order("priority",{ascending:!1}).order("created_at",{ascending:!0}).limit(10);if(s)throw s;for(const a of n||[])try{await Ft.from("library_sync_queue").update({status:"processing"}).eq("id",a.id),await this.processOperation(a),await Ft.from("library_sync_queue").update({status:"completed",processed_at:new Date().toISOString()}).eq("id",a.id)}catch(l){const c=a.retry_count+1,h=c>=a.max_retries?"failed":"pending";await Ft.from("library_sync_queue").update({status:h,retry_count:c,error_message:l instanceof Error?l.message:"Unknown error"}).eq("id",a.id)}}catch(r){throw console.error("Failed to process sync queue:",r),r}}async processOperation(e){const{data:r,error:n}=await Ft.from(e.entity_type==="note"?"library_notes":"library_templates").upsert({id:e.entity_id,...e.operation_data});if(n)throw n}async startImport(e,r,n={}){try{const{data:s}=await Ft.auth.getUser();if(!s.user)throw new Error("Not authenticated");const{data:a,error:l}=await Ft.from("library_import_sessions").insert({user_id:s.user.id,import_type:e,source_format:r.type||"unknown",target_format:"library_note",file_size_bytes:r.size,source_file_path:r.name,import_mapping:n,status:"pending"}).select("id").single();if(l)throw l;return this.processImport(a.id,r,e,n),a.id}catch(s){throw console.error("Failed to start import:",s),s}}async processImport(e,r,n,s){try{await Ft.from("library_import_sessions").update({status:"validating"}).eq("id",e);const a=await this.parseImportFile(r,n);await Ft.from("library_import_sessions").update({status:"importing",total_items:a.items.length,validation_errors:a.errors}).eq("id",e);let l=0,c=0;for(let h=0;h<a.items.length;h++){const f=a.items[h];try{await this.processImportItem(f,s),l++}catch(p){c++,console.error(`Failed to import item ${h}:`,p)}await Ft.from("library_import_sessions").update({processed_items:h+1,successful_items:l,failed_items:c}).eq("id",e)}await Ft.from("library_import_sessions").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e)}catch(a){await Ft.from("library_import_sessions").update({status:"failed",error_message:a instanceof Error?a.message:"Unknown error"}).eq("id",e)}}async parseCSV(e){return new Promise(r=>{const n=new FileReader;n.onload=s=>{var a;try{const c=((a=s.target)==null?void 0:a.result).split(`
`).filter(x=>x.trim());if(c.length===0){r({items:[],errors:[{row:0,field:"file",message:"Empty CSV file",severity:"error"}]});return}const h=x=>{const k=[];let w="",_=!1;for(let C=0;C<x.length;C++){const T=x[C];T==='"'?_&&x[C+1]==='"'?(w+='"',C++):_=!_:T===","&&!_?(k.push(w.trim()),w=""):w+=T}return k.push(w.trim()),k},f=h(c[0]),p=[],O=[];for(let x=1;x<c.length;x++)try{const k=h(c[x]);if(k.length===1&&!k[0])continue;const w={};f.forEach((_,C)=>{if(C<k.length){let T=k[C]||"";T.startsWith('"')&&T.endsWith('"')&&(T=T.slice(1,-1)),w[_.trim()]=T}else w[_.trim()]=""}),p.push(w)}catch(k){O.push({row:x+1,field:"row",message:`Failed to parse row: ${k instanceof Error?k.message:"Unknown error"}`,severity:"error"})}r({items:p,errors:O})}catch(l){r({items:[],errors:[{row:0,field:"file",message:`CSV parsing error: ${l instanceof Error?l.message:"Unknown error"}`,severity:"error"}]})}},n.onerror=()=>{r({items:[],errors:[{row:0,field:"file",message:"Failed to read file",severity:"error"}]})},n.readAsText(e)})}async processImportItem(e,r){var l,c;const{data:n}=await Ft.auth.getUser();if(!n.user)throw new Error("Not authenticated");const s={title:e[r.title||"title"]||"Untitled",text:e[r.content||"content"]||"",category:e[r.category||"category"]||"general",content_type:"rich-text",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),metadata:{word_count:((l=e[r.content||"content"])==null?void 0:l.split(/\s+/).length)||0,tags:r.tags?(c=e[r.tags])==null?void 0:c.split(",").map(h=>h.trim()):[]}},{error:a}=await Ft.from("library_notes").insert({user_id:n.user.id,...s});if(a)throw a}async getImportStatus(e){try{const{data:r,error:n}=await Ft.from("library_import_sessions").select("*").eq("id",e).single();if(n)throw n;return r}catch(r){return console.error("Failed to get import status:",r),null}}async exportData(e,r={}){try{const{data:n}=await Ft.auth.getUser();if(!n.user)throw new Error("Not authenticated");let s=Ft.from("library_notes").select("*").eq("user_id",n.user.id);r.dateRange&&(s=s.gte("created_at",r.dateRange.start).lte("created_at",r.dateRange.end)),r.categories&&r.categories.length>0&&(s=s.in("category",r.categories));const{data:a,error:l}=await s.order("created_at",{ascending:!1});if(l)throw l;if(!a||a.length===0)throw new Error("No data to export");const c=new Date().toISOString().split("T")[0];let h,f,p;switch(e){case"csv":h=await this.exportToCSV(a,r),f=`library-export-${c}.csv`,p="text/csv";break;case"json":h=await this.exportToJSON(a,r),f=`library-export-${c}.json`,p="application/json";break;case"markdown":h=await this.exportToMarkdown(a,r),f=`library-export-${c}.md`,p="text/markdown";break;case"html":h=await this.exportToHTML(a,r),f=`library-export-${c}.html`,p="text/html";break;default:throw new Error(`Unsupported export format: ${e}`)}return{data:h,filename:f,contentType:p,size:new Blob([h]).size}}catch(n){throw console.error("Export failed:",n),n}}async exportToCSV(e,r){var a,l,c;const n=["ID","Title","Category","Content Type","Created At","Updated At"];r.includeContent&&n.push("Content"),r.includeMetadata&&n.push("Word Count","Tags","Additional Metadata");const s=[n.join(",")];for(const h of e){const f=[h.id,this.escapeCSVField(h.title),this.escapeCSVField(h.category),h.content_type,h.created_at,h.updated_at];if(r.includeContent&&f.push(this.escapeCSVField(h.text)),r.includeMetadata){const p=((a=h.metadata)==null?void 0:a.word_count)||0,O=((c=(l=h.metadata)==null?void 0:l.tags)==null?void 0:c.join(";"))||"",x=JSON.stringify(h.metadata||{});f.push(p.toString(),this.escapeCSVField(O),this.escapeCSVField(x))}s.push(f.join(","))}return s.join(`
`)}async exportToJSON(e,r){const n=e.map(s=>{const a={id:s.id,title:s.title,category:s.category,content_type:s.content_type,created_at:s.created_at,updated_at:s.updated_at};return r.includeContent&&(a.content=s.text),r.includeMetadata&&(a.metadata=s.metadata),a});return JSON.stringify({export_info:{timestamp:new Date().toISOString(),format:"library-json",version:"1.0",total_notes:e.length},notes:n},null,2)}async exportToMarkdown(e,r){var s,a;const n=["# Library Export","",`Exported on: ${new Date().toISOString()}`,`Total notes: ${e.length}`,""];for(const l of e)n.push(`## ${l.title}`),n.push(""),r.includeMetadata&&(n.push(`- **Category:** ${l.category}`),n.push(`- **Created:** ${new Date(l.created_at).toLocaleDateString()}`),n.push(`- **Updated:** ${new Date(l.updated_at).toLocaleDateString()}`),(s=l.metadata)!=null&&s.word_count&&n.push(`- **Word Count:** ${l.metadata.word_count}`),(a=l.metadata)!=null&&a.tags&&l.metadata.tags.length>0&&n.push(`- **Tags:** ${l.metadata.tags.join(", ")}`),n.push("")),r.includeContent&&n.push(l.text),n.push(""),n.push("---"),n.push("");return n.join(`
`)}async exportToHTML(e,r){const n="Library Export",s=e.map(a=>{var w,_,C;const l=this.escapeHTML(a.title),c=this.escapeHTML(a.category),h=r.includeContent?this.escapeHTML(a.text):"",f=new Date(a.created_at).toLocaleDateString(),p=new Date(a.updated_at).toLocaleDateString(),O=((w=a.metadata)==null?void 0:w.word_count)||0,x=((C=(_=a.metadata)==null?void 0:_.tags)==null?void 0:C.join(", "))||"";let k=`
        <div class="note">
          <h2>${l}</h2>
      `;return r.includeMetadata&&(k+=`
          <div class="metadata">
            <p><strong>Category:</strong> ${c}</p>
            <p><strong>Created:</strong> ${f}</p>
            <p><strong>Updated:</strong> ${p}</p>
            <p><strong>Word Count:</strong> ${O}</p>
            ${x?`<p><strong>Tags:</strong> ${this.escapeHTML(x)}</p>`:""}
          </div>
        `),r.includeContent&&(k+=`<div class="content">${h.replace(/\n/g,"<br>")}</div>`),k+="</div>",k}).join(`
`);return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${n}</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }
        .note { margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .note h2 { color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .metadata { background: #f9f9f9; padding: 10px; border-radius: 4px; margin: 10px 0; }
        .metadata p { margin: 5px 0; }
        .content { margin-top: 15px; }
        h1 { text-align: center; color: #333; }
    </style>
</head>
<body>
    <h1>${n}</h1>
    <p><strong>Exported:</strong> ${new Date().toISOString()}</p>
    <p><strong>Total notes:</strong> ${e.length}</p>
    
    ${s}
</body>
</html>`}escapeCSVField(e){return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e}escapeHTML(e){const r=document.createElement("div");return r.textContent=e,r.innerHTML}async analyzeStorage(){try{const{data:e}=await Ft.auth.getUser();if(!e.user)throw new Error("Not authenticated");const{data:r,error:n}=await Ft.rpc("analyze_storage_usage",{user_uuid:e.user.id});if(n)throw n;return r}catch(e){throw console.error("Failed to analyze storage:",e),e}}async optimizeStorage(){try{const{data:e}=await Ft.auth.getUser();if(!e.user)throw new Error("Not authenticated");const r=[];let n=0,s=0;try{const l=await this.removeDuplicates();r.push({type:"duplicate_removal",description:`Removed ${l.removed} duplicate items`,items_affected:l.removed,space_saved:l.space_saved,status:"completed"}),n+=l.removed,s+=l.space_saved}catch(l){r.push({type:"duplicate_removal",description:"Failed to remove duplicates",items_affected:0,space_saved:0,status:"error",error_message:l instanceof Error?l.message:"Unknown error"})}try{const l=await this.compressLargeContent();r.push({type:"compression",description:`Compressed ${l.compressed} large items`,items_affected:l.compressed,space_saved:l.space_saved,status:"completed"}),n+=l.compressed,s+=l.space_saved}catch(l){r.push({type:"compression",description:"Failed to compress content",items_affected:0,space_saved:0,status:"error",error_message:l instanceof Error?l.message:"Unknown error"})}try{const l=await this.archiveOldContent();r.push({type:"archive",description:`Archived ${l.archived} old items`,items_affected:l.archived,space_saved:l.space_saved,status:"completed"}),n+=l.archived,s+=l.space_saved}catch(l){r.push({type:"archive",description:"Failed to archive content",items_affected:0,space_saved:0,status:"error",error_message:l instanceof Error?l.message:"Unknown error"})}try{const l=await this.cleanupOrphanedData();r.push({type:"cleanup",description:`Cleaned up ${l.cleaned} orphaned items`,items_affected:l.cleaned,space_saved:l.space_saved,status:"completed"}),n+=l.cleaned,s+=l.space_saved}catch(l){r.push({type:"cleanup",description:"Failed to cleanup data",items_affected:0,space_saved:0,status:"error",error_message:l instanceof Error?l.message:"Unknown error"})}const a=[];return s>0&&a.push(`Saved ${this.formatBytes(s)} of storage space`),n>0&&a.push(`Optimized ${n} items`),s<1e6&&(a.push("Consider using more aggressive compression for large content"),a.push("Archive or delete very old content to free up space")),s>1e7&&a.push("Great optimization results! Consider scheduling regular optimization"),{optimized_items:n,space_saved:s,recommendations:a,optimizations:r}}catch(e){throw console.error("Storage optimization failed:",e),e}}async removeDuplicates(){var l;const{data:e,error:r}=await Ft.from("library_notes").select("id, title, text, created_at").order("created_at",{ascending:!0});if(r)throw r;if(!e)return{removed:0,space_saved:0};const n=new Map;for(const c of e){const h=this.generateSimpleHash(c.text||"");n.has(h)?n.get(h).push(c.id):n.set(h,[c.id])}let s=0,a=0;for(const[c,h]of n)if(h.length>1){const f=h.slice(1);for(const p of f){const{data:O}=await Ft.from("library_notes").select("text").eq("id",p).single();O&&(a+=(((l=O.text)==null?void 0:l.length)||0)*2);const{error:x}=await Ft.from("library_notes").delete().eq("id",p);x||s++}}return{removed:s,space_saved:a}}async compressLargeContent(){const{data:e,error:r}=await Ft.from("library_notes").select("id, text, metadata").gte("text","#".repeat(1e5));if(r)throw r;if(!e)return{compressed:0,space_saved:0};let n=0,s=0;for(const a of e)if(a.text&&a.text.length>1e5)try{const l=a.text.length,c=this.compressText(a.text);if(c.length<l*.9){const{error:h}=await Ft.from("library_notes").update({text:c,metadata:{...a.metadata,compression_ratio:(c.length/l).toFixed(2),original_size:l,compressed_at:new Date().toISOString()}}).eq("id",a.id);h||(n++,s+=l-c.length)}}catch(l){console.error(`Failed to compress note ${a.id}:`,l)}return{compressed:n,space_saved:s}}async archiveOldContent(){var l;const e=new Date;e.setFullYear(e.getFullYear()-2);const{data:r,error:n}=await Ft.from("library_notes").select("id, title, created_at, updated_at, metadata").lt("created_at",e.toISOString()).lt("updated_at",e.toISOString()).limit(100);if(n)throw n;if(!r)return{archived:0,space_saved:0};let s=0,a=0;for(const c of r)try{const{error:h}=await Ft.from("library_notes").update({metadata:{archived:!0,archived_at:new Date().toISOString(),word_count:((l=c.metadata)==null?void 0:l.word_count)||0}}).eq("id",c.id);h||(s++,a+=1e3)}catch(h){console.error(`Failed to archive note ${c.id}:`,h)}return{archived:s,space_saved:a}}async cleanupOrphanedData(){return{cleaned:0,space_saved:0}}generateSimpleHash(e){let r=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return r.toString()}compressText(e){return e.replace(/\s+/g," ").replace(/\n\s*\n\s*\n/g,`

`).trim()}formatBytes(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,s)).toFixed(2))+" "+n[s]}async migrateData(e,r,n={}){try{const{data:s}=await Ft.auth.getUser();if(!s.user)throw new Error("Not authenticated");const a=[],l=[],c=[];let h=0;if(n.backupBeforeMigration&&!n.dryRun)try{await this.createBackup("full"),a.push({migration_step:"backup_creation",status:"applied",message:"Backup created successfully",items_affected:1})}catch(f){l.push(`Failed to create backup: ${f instanceof Error?f.message:"Unknown error"}`)}if(!n.skipValidation)try{const f=await this.validateDataIntegrity({checkDuplicates:!0,checkCorruptedContent:!0,checkOrphanedReferences:!0});f.summary.invalid_items>0&&l.push(`Data integrity issues found: ${f.summary.invalid_items} invalid items`)}catch(f){l.push(`Validation failed: ${f instanceof Error?f.message:"Unknown error"}`)}if(e==="1.0"&&r==="1.1"){const f=await this.applyMigration_1_0_to_1_1(n.dryRun);a.push(...f.details),f.success&&h++}if(e==="1.1"&&r==="1.2"){const f=await this.applyMigration_1_1_to_1_2(n.dryRun);a.push(...f.details),f.success&&h++}if(e<r){const f=await this.applyGeneralCleanup(n.dryRun);a.push(...f.details),f.success&&h++}return{success:c.length===0,migrations_applied:h,warnings:l,errors:c,details:a}}catch(s){throw console.error("Data migration failed:",s),s}}async applyMigration_1_0_to_1_1(e=!1){const r=[];let n=!0;try{if(e)r.push({migration_step:"add_metadata_fields",status:"skipped",message:"Dry run - would add missing metadata fields"});else{const{data:s,error:a}=await Ft.from("library_notes").select("id, metadata").is("metadata",null);if(a)throw a;if(s&&s.length>0){for(const l of s)await Ft.from("library_notes").update({metadata:{version:"1.1",migrated_at:new Date().toISOString(),word_count:0}}).eq("id",l.id);r.push({migration_step:"add_metadata_fields",status:"applied",message:`Added metadata to ${s.length} notes`,items_affected:s.length})}}}catch(s){n=!1,r.push({migration_step:"add_metadata_fields",status:"failed",message:s instanceof Error?s.message:"Unknown error"})}return{success:n,details:r}}async applyMigration_1_1_to_1_2(e=!1){var s;const r=[];let n=!0;try{if(e)r.push({migration_step:"normalize_tags",status:"skipped",message:"Dry run - would normalize tag formats"});else{const{data:a,error:l}=await Ft.from("library_notes").select("id, metadata").not("metadata->tags","is",null);if(l)throw l;if(a&&a.length>0){let c=0;for(const h of a){const f=(s=h.metadata)==null?void 0:s.tags;if(Array.isArray(f)){const p=f.filter(O=>typeof O=="string"&&O.trim()).map(O=>O.trim().toLowerCase()).filter((O,x,k)=>k.indexOf(O)===x);p.length!==f.length&&(await Ft.from("library_notes").update({metadata:{...h.metadata,tags:p}}).eq("id",h.id),c++)}}r.push({migration_step:"normalize_tags",status:"applied",message:`Normalized tags for ${c} notes`,items_affected:c})}}}catch(a){n=!1,r.push({migration_step:"normalize_tags",status:"failed",message:a instanceof Error?a.message:"Unknown error"})}return{success:n,details:r}}async applyGeneralCleanup(e=!1){const r=[];let n=!0;try{if(e)r.push({migration_step:"general_cleanup",status:"skipped",message:"Dry run - would perform general cleanup"});else{const{data:s,error:a}=await Ft.from("library_notes").select("id").or('title.is.null,title.eq."",text.is.null');if(a)throw a;if(s&&s.length>0){for(const l of s)await Ft.from("library_notes").update({metadata:{archived:!0,archived_reason:"empty_content",archived_at:new Date().toISOString()}}).eq("id",l.id);r.push({migration_step:"archive_empty_notes",status:"applied",message:`Archived ${s.length} empty notes`,items_affected:s.length})}}}catch(s){n=!1,r.push({migration_step:"general_cleanup",status:"failed",message:s instanceof Error?s.message:"Unknown error"})}return{success:n,details:r}}async parseImportFile(e,r){try{switch(r){case"csv":return await this.parseCSV(e);case"markdown":return await this.parseMarkdown(e);case"html":return await this.parseHTML(e);case"pdf":return await this.parsePDF(e);case"docx":return await this.parseDOCX(e);default:return{items:[],errors:[{row:0,field:"file",message:`Unsupported import type: ${r}`,severity:"error"}]}}}catch(n){return{items:[],errors:[{row:0,field:"file",message:`Failed to parse file: ${n instanceof Error?n.message:"Unknown error"}`,severity:"error"}]}}}async parseMarkdown(e){return new Promise(r=>{const n=new FileReader;n.onload=s=>{var a;try{const l=(a=s.target)==null?void 0:a.result,c=[],h=[],f=l.split(/^#{1,6}\s+/m).filter(p=>p.trim());if(f.length===0){r({items:[{title:"Imported Markdown",content:l,category:"imported"}],errors:[]});return}f.forEach((p,O)=>{var x;try{const k=p.split(`
`),w=(x=k[0])==null?void 0:x.trim(),_=k.slice(1).join(`
`).trim();w&&_?c.push({title:w,content:_,category:"markdown"}):w&&c.push({title:w,content:"",category:"markdown"})}catch(k){h.push({row:O+1,field:"section",message:`Failed to parse section: ${k instanceof Error?k.message:"Unknown error"}`,severity:"error"})}}),r({items:c,errors:h})}catch(l){r({items:[],errors:[{row:0,field:"file",message:`Markdown parsing error: ${l instanceof Error?l.message:"Unknown error"}`,severity:"error"}]})}},n.onerror=()=>{r({items:[],errors:[{row:0,field:"file",message:"Failed to read file",severity:"error"}]})},n.readAsText(e)})}async parseHTML(e){return new Promise(r=>{const n=new FileReader;n.onload=s=>{var a;try{const l=(a=s.target)==null?void 0:a.result,c=[],h=[],f=l.match(/<title[^>]*>([^<]+)<\/title>/i),p=f?f[1].trim():"Imported HTML",O=l.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim();O&&c.push({title:p,content:O,category:"html"}),r({items:c,errors:h})}catch(l){r({items:[],errors:[{row:0,field:"file",message:`HTML parsing error: ${l instanceof Error?l.message:"Unknown error"}`,severity:"error"}]})}},n.onerror=()=>{r({items:[],errors:[{row:0,field:"file",message:"Failed to read file",severity:"error"}]})},n.readAsText(e)})}async parsePDF(e){return{items:[],errors:[{row:0,field:"file",message:"PDF import requires additional libraries. Please convert to text format or use manual import.",severity:"warning"}]}}async parseDOCX(e){return{items:[],errors:[{row:0,field:"file",message:"DOCX import requires additional libraries. Please convert to text format or use manual import.",severity:"warning"}]}}async validateNote(e){try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const{data:n,error:s}=await Ft.rpc("validate_note_integrity",{note_uuid:e,user_uuid:r.user.id});if(s)throw s;return n}catch(r){throw console.error("Failed to validate note:",r),r}}async validateAllData(){try{const{data:e}=await Ft.auth.getUser();if(!e.user)throw new Error("Not authenticated");const{data:r,error:n}=await Ft.from("library_notes").select("id").eq("user_id",e.user.id);if(n)throw n;const s=[];for(const a of r||[])try{const l=await this.validateNote(a.id);s.push({...l,entity_id:a.id})}catch(l){console.error(`Failed to validate note ${a.id}:`,l)}return s}catch(e){return console.error("Failed to validate all data:",e),[]}}async validateDataIntegrity(e={}){var r;try{const{data:n}=await Ft.auth.getUser();if(!n.user)throw new Error("Not authenticated");const[s,a]=await Promise.all([Ft.from("library_notes").select("*").eq("user_id",n.user.id),Ft.from("library_templates").select("*").eq("user_id",n.user.id)]);if(s.error)throw s.error;if(a.error)throw a.error;const l=s.data||[],c=a.data||[],h=[...l,...c],f=[],p=[];if(e.checkDuplicates){const _=new Map;for(const C of h){const T=C.title.toLowerCase().trim();if(_.has(T)){const E=_.get(T);f.push({type:"duplicate",severity:"medium",message:`Duplicate title: "${C.title}"`,count:2}),p.push({entity_type:C.content_type||"note",entity_id:C.id,issues:[{type:"duplicate_title",message:`Title "${C.title}" already exists`,severity:"medium",field:"title"}]})}else _.set(T,C)}}if(e.checkCorruptedContent)for(const _ of h){const C=[];(!_.title||_.title.trim().length===0)&&C.push({type:"missing_field",message:"Title is empty",severity:"high",field:"title"}),_.text&&_.text.length>1e6&&C.push({type:"constraint_violation",message:"Content is unusually large",severity:"medium",field:"text"}),_.metadata&&typeof _.metadata!="object"&&C.push({type:"constraint_violation",message:"Invalid metadata format",severity:"medium",field:"metadata"}),C.length>0&&p.push({entity_type:_.content_type||"note",entity_id:_.id,issues:C})}if(e.checkOrphanedReferences){for(const _ of h)if((r=_.metadata)!=null&&r.tags&&Array.isArray(_.metadata.tags)){const C=_.metadata.tags.filter(T=>typeof T!="string"||T.length>50);C.length>0&&p.push({entity_type:_.content_type||"note",entity_id:_.id,issues:[{type:"invalid_reference",message:`Invalid tag format: ${C.join(", ")}`,severity:"low",field:"tags"}]})}}const O=h.length,x=O-p.length,k=p.length,w=f.filter(_=>_.severity==="low").length;return{summary:{total_items:O,valid_items:x,invalid_items:k,warnings:w,issues:f},details:p}}catch(n){throw console.error("Data integrity validation failed:",n),n}}async getSyncStatus(){var e;try{const{data:r}=await Ft.auth.getUser();if(!r.user)throw new Error("Not authenticated");const[n,s,a]=await Promise.all([Ft.from("library_sync_queue").select("id",{count:"exact"}).eq("user_id",r.user.id).eq("status","pending"),Ft.from("library_sync_queue").select("id",{count:"exact"}).eq("user_id",r.user.id).eq("status","failed"),Ft.from("library_sync_queue").select("processed_at").eq("user_id",r.user.id).eq("status","completed").order("processed_at",{ascending:!1}).limit(1).single()]);return{pending_operations:n.count||0,failed_operations:s.count||0,last_sync:((e=a.data)==null?void 0:e.processed_at)||null}}catch(r){return console.error("Failed to get sync status:",r),{pending_operations:0,failed_operations:0,last_sync:null}}}}const Pd=new $Xe,MXe=({onClose:t})=>{const[e,r]=H.useState("overview"),[n,s]=H.useState(!1),[a,l]=H.useState([]),[c,h]=H.useState(null),[f,p]=H.useState(null),[O,x]=H.useState(null),[k,w]=H.useState(null),[_,C]=H.useState(""),[T,E]=H.useState(null),[P,Q]=H.useState("json");H.useEffect(()=>{B()},[]);const B=async()=>{s(!0);try{const[V,te]=await Promise.all([Pd.getBackupHistory(),Pd.getSyncStatus()]);l(V),w(te)}catch(V){console.error("Failed to load data:",V)}finally{s(!1)}},R=async V=>{s(!0);try{await Pd.createBackup(V),await B()}catch(te){console.error("Backup creation failed:",te)}finally{s(!1)}},M=async()=>{if(T){s(!0);try{const V=await Pd.startImport("csv",T),te=setInterval(async()=>{const G=await Pd.getImportStatus(V);h(G),((G==null?void 0:G.status)==="completed"||(G==null?void 0:G.status)==="failed")&&(clearInterval(te),s(!1),await B())},1e3)}catch(V){console.error("Import failed:",V),s(!1)}}},I=async()=>{s(!0);try{const V=await Pd.exportData(P,{includeContent:!0,includeMetadata:!0}),te=new Blob([V.data],{type:V.contentType}),G=URL.createObjectURL(te),J=document.createElement("a");J.href=G,J.download=V.filename,J.click(),URL.revokeObjectURL(G)}catch(V){console.error("Export failed:",V)}finally{s(!1)}},j=async()=>{s(!0);try{const V=await Pd.validateDataIntegrity({checkDuplicates:!0,checkCorruptedContent:!0,checkOrphanedReferences:!0,validateRelationships:!0});x(V)}catch(V){console.error("Validation failed:",V)}finally{s(!1)}},z=async()=>{s(!0);try{const V=await Pd.optimizeStorage();console.log("Optimization results:",V),await B()}catch(V){console.error("Optimization failed:",V)}finally{s(!1)}},X=V=>{if(V===0)return"0 Bytes";const te=1024,G=["Bytes","KB","MB","GB"],J=Math.floor(Math.log(V)/Math.log(te));return parseFloat((V/Math.pow(te,J)).toFixed(2))+" "+G[J]},W=V=>new Date(V).toLocaleString(),F=V=>{switch(V){case"completed":return"bg-green-500";case"failed":return"bg-red-500";case"in_progress":return"bg-yellow-500";default:return"bg-gray-500"}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-6xl w-full h-[90vh] flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Ma,{className:"w-6 h-6 text-blue-600"}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Management"})]}),b.jsx(_r,{variant:"outline",onClick:t,children:"Close"})]}),b.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[{id:"overview",label:"Overview",icon:Gd},{id:"backup",label:"Backup & Restore",icon:af},{id:"import",label:"Import",icon:cf},{id:"export",label:"Export",icon:es},{id:"validation",label:"Validation",icon:rs},{id:"optimization",label:"Optimization",icon:Hd},{id:"migration",label:"Migration",icon:PO}].map(V=>{const te=V.icon;return b.jsxs("button",{onClick:()=>r(V.id),className:`flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${e===V.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[b.jsx(te,{className:"w-4 h-4"}),b.jsx("span",{children:V.label})]},V.id)})}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e==="overview"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs(Hn,{children:[b.jsx($s,{className:"pb-2",children:b.jsx(Ms,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sync Status"})}),b.jsx(Kn,{children:k?b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:"Pending:"}),b.jsx(Mc,{variant:k.pending_operations>0?"destructive":"secondary",children:k.pending_operations})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{children:"Failed:"}),b.jsx(Mc,{variant:k.failed_operations>0?"destructive":"secondary",children:k.failed_operations})]}),b.jsxs("div",{className:"text-xs text-gray-500",children:["Last sync: ",k.last_sync?W(k.last_sync):"Never"]})]}):b.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})})]}),b.jsxs(Hn,{children:[b.jsx($s,{className:"pb-2",children:b.jsx(Ms,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Backup History"})}),b.jsxs(Kn,{children:[b.jsxs("div",{className:"text-sm text-gray-500",children:[a.length," backups total"]}),a.length>0&&b.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Latest: ",W(a[0].created_at)]})]})]}),b.jsxs(Hn,{children:[b.jsx($s,{className:"pb-2",children:b.jsx(Ms,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Storage Status"})}),b.jsxs(Kn,{children:[b.jsx("div",{className:"text-sm text-gray-500",children:"Ready for analysis"}),b.jsx(_r,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>r("optimization"),children:"Analyze Storage"})]})]})]}),b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Quick Actions"}),b.jsx(Ja,{children:"Common data management operations"})]}),b.jsx(Kn,{children:b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[b.jsxs(_r,{variant:"outline",onClick:()=>R("full"),children:[b.jsx(af,{className:"w-4 h-4 mr-2"}),"Create Backup"]}),b.jsxs(_r,{variant:"outline",onClick:()=>r("import"),children:[b.jsx(cf,{className:"w-4 h-4 mr-2"}),"Import Data"]}),b.jsxs(_r,{variant:"outline",onClick:()=>r("export"),children:[b.jsx(es,{className:"w-4 h-4 mr-2"}),"Export Data"]}),b.jsxs(_r,{variant:"outline",onClick:j,children:[b.jsx(rs,{className:"w-4 h-4 mr-2"}),"Validate Data"]})]})})]})]}),e==="backup"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Create Backup"}),b.jsx(Ja,{children:"Choose backup type and options"})]}),b.jsx(Kn,{className:"space-y-4",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs(_r,{onClick:()=>R("full"),disabled:n,className:"h-20 flex flex-col",children:[b.jsx(af,{className:"w-6 h-6 mb-2"}),"Full Backup",b.jsx("span",{className:"text-xs opacity-75",children:"Complete data backup"})]}),b.jsxs(_r,{onClick:()=>R("incremental"),disabled:n,variant:"outline",className:"h-20 flex flex-col",children:[b.jsx(Ko,{className:"w-6 h-6 mb-2"}),"Incremental",b.jsx("span",{className:"text-xs opacity-75",children:"Changes only"})]}),b.jsxs(_r,{onClick:()=>R("differential"),disabled:n,variant:"outline",className:"h-20 flex flex-col",children:[b.jsx(Gd,{className:"w-6 h-6 mb-2"}),"Differential",b.jsx("span",{className:"text-xs opacity-75",children:"Since last full"})]})]})})]}),b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Backup History"}),b.jsx(Ja,{children:"View and manage your backup history"})]}),b.jsx(Kn,{children:n?b.jsx("div",{className:"text-center py-4",children:"Loading backup history..."}):a.length===0?b.jsx("div",{className:"text-center py-4 text-gray-500",children:"No backups found"}):b.jsx("div",{className:"space-y-3",children:a.map(V=>b.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${F(V.status)}`}),b.jsxs("div",{children:[b.jsxs("div",{className:"font-medium",children:[V.backup_type," Backup"]}),b.jsxs("div",{className:"text-sm text-gray-500",children:[W(V.created_at),"  ",X(V.backup_size_bytes||0)]}),b.jsxs("div",{className:"text-xs text-gray-400",children:[V.notes_count," notes, ",V.templates_count," templates"]})]})]}),b.jsxs("div",{className:"flex items-center space-x-2",children:[V.status==="completed"&&b.jsx(_r,{size:"sm",variant:"outline",children:"Restore"}),b.jsx(_r,{size:"sm",variant:"outline",children:b.jsx(es,{className:"w-4 h-4"})}),b.jsx(_r,{size:"sm",variant:"outline",className:"text-red-600",children:b.jsx(Ul,{className:"w-4 h-4"})})]})]},V.id))})})]})]}),e==="import"&&b.jsx("div",{className:"space-y-6",children:b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Import Data"}),b.jsx(Ja,{children:"Import data from various file formats"})]}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select File"}),b.jsx("input",{type:"file",accept:".csv,.json,.md,.html,.txt",onChange:V=>{var te;return E(((te=V.target.files)==null?void 0:te[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),b.jsxs(_r,{onClick:M,disabled:!T||n,children:[b.jsx(cf,{className:"w-4 h-4 mr-2"}),n?"Importing...":"Start Import"]}),c&&b.jsxs("div",{className:"mt-4 p-4 border rounded-lg",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"font-medium",children:"Import Progress"}),b.jsx(Mc,{variant:c.status==="completed"?"default":"secondary",children:c.status})]}),b.jsx(C8,{value:c.processed_items/c.total_items*100,className:"mb-2"}),b.jsxs("div",{className:"text-sm text-gray-600",children:[c.processed_items," / ",c.total_items," items processed"]}),c.failed_items>0&&b.jsxs("div",{className:"text-sm text-red-600 mt-1",children:[c.failed_items," items failed to import"]})]})]})]})}),e==="export"&&b.jsx("div",{className:"space-y-6",children:b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Export Data"}),b.jsx(Ja,{children:"Export your library data in various formats"})]}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"Export Format"}),b.jsxs("select",{value:P,onChange:V=>Q(V.target.value),className:"block w-full p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"json",children:"JSON (Complete data)"}),b.jsx("option",{value:"csv",children:"CSV (Spreadsheet format)"}),b.jsx("option",{value:"markdown",children:"Markdown (Documentation)"}),b.jsx("option",{value:"html",children:"HTML (Web page)"})]})]}),b.jsxs(_r,{onClick:I,disabled:n,children:[b.jsx(es,{className:"w-4 h-4 mr-2"}),n?"Exporting...":"Export Data"]})]})]})}),e==="validation"&&b.jsx("div",{className:"space-y-6",children:b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Data Validation"}),b.jsx(Ja,{children:"Validate data integrity and detect issues"})]}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs(_r,{onClick:j,disabled:n,children:[b.jsx(rs,{className:"w-4 h-4 mr-2"}),"Run Full Validation"]}),b.jsxs(_r,{variant:"outline",onClick:()=>r("optimization"),children:[b.jsx(Hd,{className:"w-4 h-4 mr-2"}),"View Optimization"]})]}),O&&b.jsxs("div",{className:"mt-6 space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsx(Hn,{children:b.jsxs(Kn,{className:"pt-6",children:[b.jsx("div",{className:"text-2xl font-bold",children:O.summary.total_items}),b.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"})]})}),b.jsx(Hn,{children:b.jsxs(Kn,{className:"pt-6",children:[b.jsx("div",{className:"text-2xl font-bold text-green-600",children:O.summary.valid_items}),b.jsx("div",{className:"text-sm text-gray-500",children:"Valid Items"})]})}),b.jsx(Hn,{children:b.jsxs(Kn,{className:"pt-6",children:[b.jsx("div",{className:"text-2xl font-bold text-red-600",children:O.summary.invalid_items}),b.jsx("div",{className:"text-sm text-gray-500",children:"Issues Found"})]})})]}),O.issues.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"font-medium mb-2",children:"Issues Summary"}),b.jsx("div",{className:"space-y-2",children:O.issues.map((V,te)=>b.jsxs(y6,{children:[b.jsx(bU,{className:"h-4 w-4"}),b.jsxs(w6,{children:[V.message," (",V.count," items)"]})]},te))})]})]})]})]})}),e==="optimization"&&b.jsx("div",{className:"space-y-6",children:b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Storage Optimization"}),b.jsx(Ja,{children:"Optimize storage usage and improve performance"})]}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs(_r,{onClick:z,disabled:n,children:[b.jsx(Hd,{className:"w-4 h-4 mr-2"}),n?"Optimizing...":"Run Optimization"]}),b.jsxs(y6,{children:[b.jsx(of,{className:"h-4 w-4"}),b.jsx(w6,{children:"Optimization will remove duplicates, compress large content, and archive old data to free up storage space."})]})]})]})}),e==="migration"&&b.jsx("div",{className:"space-y-6",children:b.jsxs(Hn,{children:[b.jsxs($s,{children:[b.jsx(Ms,{children:"Data Migration"}),b.jsx(Ja,{children:"Migrate data between versions or formats"})]}),b.jsxs(Kn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"From Version"}),b.jsxs("select",{className:"block w-full p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"1.0",children:"Version 1.0"}),b.jsx("option",{value:"1.1",children:"Version 1.1"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium mb-2",children:"To Version"}),b.jsxs("select",{className:"block w-full p-2 border border-gray-300 rounded-md",children:[b.jsx("option",{value:"1.1",children:"Version 1.1"}),b.jsx("option",{value:"1.2",children:"Version 1.2"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox",defaultChecked:!0}),b.jsx("span",{className:"text-sm",children:"Create backup before migration"})]}),b.jsxs("label",{className:"flex items-center space-x-2",children:[b.jsx("input",{type:"checkbox"}),b.jsx("span",{className:"text-sm",children:"Dry run (preview changes)"})]})]}),b.jsxs(_r,{children:[b.jsx(qc,{className:"w-4 h-4 mr-2"}),"Start Migration"]})]})]})})]})]})})},RXe=t=>{if(t.length===0)return{totalPnl:0,winRate:0,totalTrades:0,winners:0,losers:0,avgWin:0,avgLoss:0,profitFactor:0,maxDrawdown:0,consecutiveWins:0,consecutiveLosses:0,sharpeRatio:0,lastUpdated:new Date().toISOString()};const e=t.filter(R=>R.outcome==="win"),r=t.filter(R=>R.outcome==="loss"),n=e.length,s=r.length,a=t.length,l=a>0?n/a*100:0,c=t.reduce((R,M)=>R+M.pnl,0),h=n>0?e.reduce((R,M)=>R+M.pnl,0)/n:0,f=s>0?Math.abs(r.reduce((R,M)=>R+M.pnl,0)/s):0,p=f>0?h/f:0;let O=0,x=0,k=0,w=0;t.forEach(R=>{R.outcome==="win"?(k++,w=0,O=Math.max(O,k)):R.outcome==="loss"&&(w++,k=0,x=Math.max(x,w))});let _=0,C=0,T=0;t.forEach(R=>{T+=R.pnl,T>C&&(C=T);const M=C-T;_=Math.max(_,M)});const E=t.map(R=>R.pnl),P=E.reduce((R,M)=>R+M,0)/E.length,Q=E.reduce((R,M)=>R+Math.pow(M-P,2),0)/E.length,B=Q>0?P/Math.sqrt(Q):0;return{totalPnl:c,winRate:l,totalTrades:a,winners:n,losers:s,avgWin:h,avgLoss:f,profitFactor:p,maxDrawdown:_,consecutiveWins:O,consecutiveLosses:x,sharpeRatio:B,lastUpdated:new Date().toISOString()}},NXe=()=>{const{user:t}=Bi(),[e,r]=H.useState([]),[n,s]=H.useState([]),[a,l]=H.useState(null),[c,h]=H.useState([]),[f,p]=H.useState([]),[O,x]=H.useState(!0),[k,w]=H.useState(!1),[_,C]=H.useState([]),[T,E]=H.useState(null),[P,Q]=H.useState(300),[B,R]=H.useState(!1),[M,I]=H.useState(!1),[j,z]=H.useState(!0),[X,W]=H.useState(!1),[F,V]=H.useState({search:"",folder:null,tags:[],dateRange:{start:null,end:null},sortBy:"updated_at",sortOrder:"desc",showDeleted:!1}),[te,G]=H.useState(""),[J,oe]=H.useState(null),[ie,be]=H.useState(""),[he,re]=H.useState(""),[ae,K]=H.useState("rich-text"),[ce,ye]=H.useState("javascript"),[ke,Ce]=H.useState(!1),[De,Pe]=H.useState(!1),[Ee,de]=H.useState(!1),[Re,Be]=H.useState(!1),[He,Ye]=H.useState(!1),[Ze,Ge]=H.useState(!1),[Qt,gr]=H.useState(!1),[Or,kr]=H.useState(!1),[lt,st]=H.useState({x:0,y:0}),[xt,tt]=H.useState(!1),[Ct,Gt]=H.useState(null);H.useEffect(()=>{(async()=>{x(!0);try{if(t){try{const zt=await hv.getNotes();if(zt&&zt.length>0)C(zt),w(!0),console.log(" Using Supabase backend");else throw new Error("No data in Supabase")}catch(zt){console.log(" Supabase not available, using mock data:",zt),w(!1);const tr=await Ta.loadNotes(t.id);tr.length===0?await Nt():r(tr);const dn=Zt.get("trades")||[];s(dn);const Js=Zt.get("templates")||[];h(Js)}p([{id:"1",name:"Trade Notes",type:"folder",parentId:null,children:[],noteCount:0,expanded:!0},{id:"2",name:"Daily Journal",type:"folder",parentId:null,children:[],noteCount:0,expanded:!0},{id:"3",name:"Strategy",type:"folder",parentId:null,children:[],noteCount:0,expanded:!1}])}}catch(_t){console.error("Failed to load data:",_t)}finally{x(!1)}})()},[t]),H.useEffect(()=>{const Je=k?T:a;Je?(be(Je.text||""),re(Je.title||"")):(be(""),re(""))},[k,T,a]);const cr=Je=>{var _t,zt,tr;return{id:Je.id,title:Je.title,text:Je.text,content_type:Je.content_type||"plain-text",content_data:Je.content_data,category:Je.category,tags:((_t=Je.metadata)==null?void 0:_t.tags)||[],is_favorite:((zt=Je.metadata)==null?void 0:zt.favorite)||!1,is_pinned:((tr=Je.metadata)==null?void 0:tr.pinned)||!1,created_at:Je.created_at,updated_at:Je.updated_at}},kt=Je=>({id:Je.id,title:Je.title,text:Je.text,content_type:Je.content_type,content_data:Je.content_data,category:Je.category,created_at:Je.created_at,updated_at:Je.updated_at,metadata:{tags:Je.tags||[],favorite:Je.is_favorite,pinned:Je.is_pinned}});H.useEffect(()=>{const Je=k?T:a;if(!Je||!t)return;const _t=setTimeout(async()=>{tt(!0);try{if(k){if(rl){const zt=await hv.updateNote(Je.id,{text:ie,title:he,content_type:ae,content_data:{code_language:ce}});C(tr=>tr.map(dn=>dn.id===Je.id?zt:dn)),E(zt)}}else{const zt={...Je,text:ie,title:he,updated_at:new Date().toISOString(),content_type:ae,content_data:{code_language:ce}};await Ta.saveNote(t.id,zt),r(tr=>tr.map(dn=>dn.id===Je.id?zt:dn)),l(zt)}Gt(new Date),tt(!1)}catch(zt){console.error("Auto-save failed:",zt),tt(!1)}},2e3);return()=>clearTimeout(_t)},[ie,he,k,T,a,t,ae,ce]),H.useEffect(()=>{if(ie.length>50&&!De){const Je=setTimeout(()=>{Pe(!0)},3e3);return()=>clearTimeout(Je)}},[ie,De]);const Nt=async()=>{if(!t)return;const Je=[{id:"1",text:`# Daily Trading Journal

## Pre-Market Analysis

Market conditions:

## Key Levels

## Trading Plan

1. 
2. 
3. 

## Risk Management

## Session Review`,title:"Daily Trading Journal",category:"daily",tab:"journal",created_at:new Date().toISOString(),content_type:"rich-text",content_data:{},metadata:{word_count:0}},{id:"2",text:`# Strategy Notes

## Strategy Name

## Entry Rules

## Exit Rules

## Risk Management

## Backtest Results

## Performance Metrics`,title:"Strategy Template",category:"strategy",tab:"strategy",created_at:new Date().toISOString(),content_type:"rich-text",content_data:{},metadata:{word_count:0}}];for(const zt of Je)await Ta.saveNote(t.id,zt);const _t=await Ta.loadNotes(t.id);r(_t)},dr=(Je,_t)=>{switch(Je){case"template":be(zt=>zt+`
`+_t.content);break}},pr=Je=>{be(_t=>_t+(_t?" ":"")+Je)},Lr=Je=>{console.log("Reminder created:",Je)},Kr=(Je,_t,zt)=>{console.log("Link created:",{sourceId:Je,targetId:_t,linkType:zt})},Li=(Je,_t)=>{be(Je),_t.contentType&&K(_t.contentType)},zi=H.useMemo(()=>RXe(n),[n]),Ai=H.useMemo(()=>e.filter(Je=>{var _t,zt,tr,dn,Js;if(te){const Si=te.toLowerCase();return((_t=Je.title)==null?void 0:_t.toLowerCase().includes(Si))||((zt=Je.text)==null?void 0:zt.toLowerCase().includes(Si))||((tr=Je.category)==null?void 0:tr.toLowerCase().includes(Si))}if(F.folder&&((dn=Je.metadata)==null?void 0:dn.folderId)!==F.folder)return!1;if(F.tags.length>0){const Si=((Js=Je.metadata)==null?void 0:Js.tags)||[];return F.tags.some(wo=>Si.includes(wo))}return!Je.deleted_at}),[e,te,F]),yo=async()=>{if(!t)return;const Je={text:"",title:"Untitled Note",category:"general",tab:"notes",created_at:new Date().toISOString(),content_type:"rich-text",content_data:{},metadata:{word_count:0}},_t=await Ta.saveNote(t.id,Je);r(zt=>[_t,...zt]),l(_t),be(""),re("Untitled Note")},Wn=async Je=>{t&&(await Ta.deleteNote(t.id,Je),r(_t=>_t.filter(zt=>zt.id!==Je)),(a==null?void 0:a.id)===Je&&(l(null),be(""),re("")))},Cn=Je=>{be(Je),k&&T?E(_t=>_t?{..._t,text:Je}:null):!k&&a&&l(_t=>_t?{..._t,text:Je}:null)},Fn=Je=>{re(Je),k&&T?E(_t=>_t?{..._t,title:Je}:null):!k&&a&&l(_t=>_t?{..._t,title:Je}:null)};return O?b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):b.jsxs("div",{className:`h-screen flex bg-white dark:bg-gray-900 ${X?"fixed inset-0 z-50":""}`,children:[b.jsxs("div",{className:"flex flex-col border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",style:{width:P},children:[b.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(nh,{className:"w-5 h-5 text-blue-500"}),b.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Library Advanced"}),b.jsxs("div",{className:"flex items-center space-x-1",children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-green-500":"bg-orange-500"}`}),b.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:k?"Supabase":"Mock"})]})]}),b.jsx("button",{onClick:()=>Ge(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Export",children:b.jsx(es,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Search notes...",value:te,onChange:Je=>G(Je.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),b.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:b.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),b.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[b.jsx("button",{onClick:()=>Ce(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Version History",children:b.jsx(zu,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>Pe(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Smart Suggestions",children:b.jsx(il,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>de(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Note Links",children:b.jsx(hU,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>Be(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Voice Input",children:b.jsx(q2,{className:"w-4 h-4"})})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[b.jsx("button",{onClick:()=>Ye(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Reminders",children:b.jsx(Ko,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>gr(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Analytics Dashboard",children:b.jsx(Os,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>kr(!0),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Data Management",children:b.jsx(J1e,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>z(!j),className:`p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ${j?"bg-blue-100 dark:bg-blue-900":""}`,title:"Performance",children:b.jsx(Gd,{className:"w-4 h-4"})})]}),b.jsx("div",{className:"grid grid-cols-2 gap-1 mt-1",children:b.jsx("button",{onClick:()=>I(!M),className:`p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors ${M?"bg-blue-100 dark:bg-blue-900":""}`,title:"Templates",children:b.jsx(Yr,{className:"w-4 h-4"})})}),xt&&b.jsxs("div",{className:"flex items-center space-x-2 mt-2 text-xs text-blue-600",children:[b.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),b.jsx("span",{children:"Saving..."})]}),Ct&&!xt&&b.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last saved: ",Ct.toLocaleTimeString()]})]}),M&&b.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:b.jsx(w8,{templates:c,onTemplateCreate:()=>{},onTemplateUpdate:()=>{},onTemplateDelete:()=>{},onTemplateUse:Je=>{const _t=c.find(zt=>zt.id===Je);_t&&(be(_t.content),I(!1))},onClose:()=>I(!1)})}),j&&b.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Trading Performance"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[b.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-2 rounded",children:[b.jsxs("div",{className:"text-green-600 dark:text-green-400 font-medium",children:["$",zi.totalPnl.toFixed(0)]}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Net P&L"})]}),b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:[b.jsxs("div",{className:"text-blue-600 dark:text-blue-400 font-medium",children:[zi.winRate.toFixed(1),"%"]}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Win Rate"})]}),b.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded",children:[b.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-medium",children:zi.profitFactor.toFixed(2)}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Profit Factor"})]}),b.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded",children:[b.jsx("div",{className:"text-orange-600 dark:text-orange-400 font-medium",children:zi.totalTrades}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total Trades"})]})]})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:b.jsx(Hne,{notes:k?_.map(kt):Ai,selectedNoteId:(k?T==null?void 0:T.id:a==null?void 0:a.id)||null,onNoteSelect:Je=>{if(k){const _t=_.find(zt=>zt.id===Je.id);E(_t||null)}else{const _t=Ai.find(zt=>zt.id===Je.id);l(_t||null)}},onNoteCreate:async(Je,_t)=>{try{if(k&&t){const zt=await hv.createNote({title:"New Note",text:"",content_type:"plain-text",folder_id:Je,tags:_t,is_favorite:!1,is_pinned:!1});C(tr=>[zt,...tr]),E(zt),console.log(" Note created in Supabase")}else if(t){const zt={id:`note_${Date.now()}`,title:"New Note",text:"",content_type:"plain-text",category:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),metadata:{tags:_t||[],favorite:!1,pinned:!1}};await Ta.saveNote(t.id,zt),r(tr=>[zt,...tr]),l(zt),console.log(" Note created in mock storage")}}catch(zt){console.error("Failed to create note:",zt)}},onNoteUpdate:async Je=>{try{if(k){const _t=await hv.updateNote(Je.id,cr(Je));C(zt=>zt.map(tr=>tr.id===Je.id?_t:tr)),(T==null?void 0:T.id)===Je.id&&E(_t),console.log(" Note updated in Supabase")}else await Ta.saveNote(t.id,Je),r(_t=>_t.map(zt=>zt.id===Je.id?Je:zt)),(a==null?void 0:a.id)===Je.id&&l(Je),console.log(" Note updated in mock storage")}catch(_t){console.error("Failed to update note:",_t)}},onNoteDelete:Wn,onNoteRestore:Je=>{console.log("Restore note:",Je)},filter:F,onFilterChange:V})}),b.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:b.jsxs("button",{onClick:yo,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[b.jsx(co,{className:"w-4 h-4"}),b.jsx("span",{children:"New Note"})]})})]}),b.jsx("div",{className:"w-1 bg-gray-200 dark:bg-gray-700 cursor-col-resize hover:bg-blue-300 dark:hover:bg-blue-600 transition-colors",onMouseDown:Je=>{R(!0);const _t=Je.clientX,zt=P,tr=Js=>{const Si=zt+(Js.clientX-_t);Q(Math.max(250,Math.min(600,Si)))},dn=()=>{R(!1),document.removeEventListener("mousemove",tr),document.removeEventListener("mouseup",dn)};document.addEventListener("mousemove",tr),document.addEventListener("mouseup",dn)}}),b.jsx("div",{className:"flex-1 flex flex-col",children:a?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("input",{type:"text",value:he,onChange:Je=>Fn(Je.target.value),className:"text-lg font-medium bg-transparent border-none focus:ring-0 p-0 text-gray-900 dark:text-white w-full",placeholder:"Note title..."}),b.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[b.jsxs("span",{children:["Created: ",new Date(a.created_at).toLocaleDateString()]}),a.updated_at&&b.jsxs("span",{children:["Updated: ",new Date(a.updated_at).toLocaleDateString()]}),b.jsxs("span",{children:["Words: ",ie.split(/\s+/).filter(Je=>Je.length>0).length]})]})]}),b.jsx("div",{className:"flex items-center space-x-2",children:b.jsx("button",{onClick:()=>W(!X),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Toggle Fullscreen",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})})]}),b.jsx("div",{className:"flex-1",children:b.jsx(Gne,{value:ie,onChange:Cn,mode:ae,onModeChange:K,language:ce,onLanguageChange:ye,title:he,onTitleChange:Fn,isFullscreen:X,onToggleFullscreen:()=>W(!X)})})]}):b.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"Select a note to start editing"}),b.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose a note from the sidebar or create a new one"})]})})}),a&&b.jsxs(b.Fragment,{children:[b.jsx(uXe,{noteId:a.id,isOpen:ke,onClose:()=>Ce(!1),onRestore:Li}),b.jsx(fXe,{noteId:a.id,content:ie,onSuggestionApply:dr,isOpen:De,onClose:()=>Pe(!1),position:lt}),b.jsx(pXe,{noteId:a.id,isOpen:Ee,onClose:()=>de(!1),onLinkCreate:Kr}),b.jsx(xXe,{noteId:a.id,onTranscript:pr,isOpen:Re,onClose:()=>Be(!1)}),b.jsx(bXe,{noteId:a.id,isOpen:He,onClose:()=>Ye(!1),onReminderCreate:Lr})]}),b.jsx(wXe,{noteIds:Ai.map(Je=>Je.id),isOpen:Ze,onClose:()=>Ge(!1)}),b.jsx(QXe,{notes:k?_.map(kt):e,trades:n,isOpen:Qt,onClose:()=>gr(!1)}),b.jsx(MXe,{onClose:()=>kr(!1)})]})};function BXe(){var E;const{user:t}=Bi(),[e,r]=H.useState([]),[n,s]=H.useState(""),[a,l]=H.useState(!1),[c,h]=H.useState("coach"),[f,p]=H.useState(new Set),O=H.useRef(null),x=[{value:"coach",label:"Trading Coach",description:"General coaching and guidance"},{value:"pre_session",label:"Pre-Session",description:"Mental preparation routine"},{value:"post_session",label:"Post-Session",description:"Review and learning extraction"},{value:"psychology",label:"Psychology",description:"Mental edge and emotional control"},{value:"orderflow",label:"Order Flow",description:"Market structure concepts"}];H.useEffect(()=>{k()},[t]),H.useEffect(()=>{w()},[e]);const k=async()=>{if(t)try{const P=await uOe(t.id);r(P)}catch(P){console.error("Error loading messages:",P)}},w=()=>{var P;(P=O.current)==null||P.scrollIntoView({behavior:"smooth"})},_=P=>{p(Q=>{const B=new Set(Q);return B.has(P)?B.delete(P):B.add(P),B})},C=async P=>{if(P.preventDefault(),!n.trim()||!t)return;const Q=n;s(""),l(!0);const B={role:"user",content:Q,user_id:t.id,created_at:new Date().toISOString(),metadata:{mode:c}};r(R=>[...R,B]);try{await lB(B);const R=await fOe(Q,c,t.id),M={role:"assistant",content:R.response,user_id:t.id,created_at:new Date().toISOString(),metadata:{usedNotes:R.usedNotes||[],hasKnowledgeBase:R.hasKnowledgeBase||!1,mode:c}};r(I=>[...I,M]),await lB(M),l(!1)}catch(R){console.error("Error sending message:",R);const M={role:"assistant",content:"Sorry, I encountered an error processing your request. Please make sure the AI service is properly configured.",user_id:t.id,created_at:new Date().toISOString(),metadata:{mode:c}};r(I=>[...I,M]),l(!1)}},T={coach:["How can I improve my trading discipline?","What should I focus on in my next session?","Help me understand my recent trading patterns","What are key principles for order flow trading?"],pre_session:["Help me prepare for today's session","What should I check before trading?","Review my trading rules with me","What's my mental state checklist?"],post_session:["Review my trading session","What did I learn today?","Analyze my decision-making quality","What patterns should I note?"],psychology:["How do I handle fear in trading?","Help me with FOMO issues","Build my trading confidence","Manage stress during volatility"],orderflow:["Explain auction theory","What are liquidity concepts?","How does volume profile work?","Smart money vs retail behavior"]};return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h1",{className:"text-2xl font-normal text-gray-900 dark:text-white",children:"AI Trading Coach"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Get personalized coaching based on your trading knowledge base"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Coaching Mode"}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:x.map(P=>b.jsx("button",{onClick:()=>h(P.value),className:`px-3 py-2 text-sm rounded-lg border transition-all ${c===P.value?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,title:P.description,children:P.label},P.value))})]}),b.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:T[c].map((P,Q)=>b.jsx("button",{onClick:()=>s(P),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-700",children:P},Q))}),b.jsxs("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.length===0?b.jsx("div",{className:"flex items-center justify-center h-full",children:b.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[b.jsx("p",{className:"text-lg mb-2",children:"Start your coaching session!"}),b.jsx("p",{className:"text-sm",children:"Ask me anything about your trading journey"})]})}):e.map((P,Q)=>{var B,R,M,I;return b.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[85%] rounded-lg ${P.role==="user"?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}`,children:b.jsxs("div",{className:"p-4",children:[P.role==="assistant"&&((B=P.metadata)==null?void 0:B.hasKnowledgeBase)&&b.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-gray-200 dark:border-gray-600",children:[b.jsx(nh,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),b.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Referenced your knowledge base"})]}),b.jsx("p",{className:"whitespace-pre-wrap",children:P.content}),((R=P.metadata)==null?void 0:R.mode)&&b.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:b.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300",children:((M=x.find(j=>{var z;return j.value===((z=P.metadata)==null?void 0:z.mode)}))==null?void 0:M.label)||P.metadata.mode})}),P.role==="assistant"&&((I=P.metadata)==null?void 0:I.usedNotes)&&P.metadata.usedNotes.length>0&&b.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[b.jsxs("button",{onClick:()=>_(Q),className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:[b.jsx(nh,{className:"h-3 w-3"}),b.jsxs("span",{children:["View ",P.metadata.usedNotes.length," source(s)"]}),b.jsx(Zi,{className:`h-3 w-3 transition-transform ${f.has(Q)?"rotate-180":""}`})]}),f.has(Q)&&b.jsx("div",{className:"mt-2 space-y-2",children:P.metadata.usedNotes.map((j,z)=>b.jsxs("div",{className:"text-xs p-2 rounded bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600",children:[b.jsxs("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Note ",z+1]}),b.jsx("div",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:j.text||"(No content)"})]},z))})]}),b.jsx("p",{className:`text-xs mt-2 ${P.role==="user"?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:new Date(P.created_at).toLocaleTimeString()})]})})},Q)}),a&&b.jsx("div",{className:"flex justify-start",children:b.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-4 flex items-center gap-2",children:[b.jsx(V1e,{className:"h-5 w-5 animate-spin text-gray-500"}),b.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Coach is thinking..."})]})}),b.jsx("div",{ref:O})]}),b.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:b.jsxs("form",{onSubmit:C,className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:n,onChange:P=>s(P.target.value),placeholder:`Ask your ${(E=x.find(P=>P.value===c))==null?void 0:E.label.toLowerCase()}...`,disabled:a,className:"flex-1 px-4 py-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm disabled:opacity-50"}),b.jsx("button",{type:"button",className:"p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Voice input (coming soon)",children:b.jsx(q2,{className:"h-5 w-5"})}),b.jsx("button",{type:"submit",disabled:a||!n.trim(),className:"px-4 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:b.jsx(G1e,{className:"h-5 w-5"})})]})})]})]})}var s2={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var IXe=s2.exports,vz;function jXe(){return vz||(vz=1,(function(t,e){((r,n)=>{t.exports=n()})(IXe,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s,a=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,c={},h=0,f={};function p(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var z=B(j);z.chunkSize=parseInt(z.chunkSize),j.step||j.chunk||(z.chunkSize=null),this._handle=new _(z),(this._handle.streamer=this)._config=z}).call(this,I),this.parseChunk=function(j,z){var X=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<X){let F=this._config.newline;F||(W=this._config.quoteChar||'"',F=this._handle.guessLineEndings(j,W)),j=[...j.split(F).slice(X)].join(F)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(W=this._config.beforeFirstChunk(j))!==void 0&&(j=W),this.isFirstChunk=!1,this._halted=!1;var X=this._partialLine+j,W=(this._partialLine="",this._handle.parse(X,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=W.meta.cursor,X=(this._finished||(this._partialLine=X.substring(j-this._baseIndex),this._baseIndex=j),W&&W.data&&(this._rowCount+=W.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:W,workerId:f.WORKER_ID,finished:X});else if(M(this._config.chunk)&&!z){if(this._config.chunk(W,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=W=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(W.data),this._completeResults.errors=this._completeResults.errors.concat(W.errors),this._completeResults.meta=W.meta),this._completed||!X||!M(this._config.complete)||W&&W.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),X||W&&W.meta.paused||this._nextChunk(),W}this._halted=!0},this._sendError=function(j){M(this._config.error)?this._config.error(j):l&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:j,finished:!1})}}function O(I){var j;(I=I||{}).chunkSize||(I.chunkSize=f.RemoteChunkSize),p.call(this,I),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(z){this._input=z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),a||(j.onload=R(this._chunkLoaded,this),j.onerror=R(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var z,X=this._config.downloadRequestHeaders;for(z in X)j.setRequestHeader(z,X[z])}var W;this._config.chunkSize&&(W=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+W));try{j.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}a&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(z=>(z=z.getResponseHeader("Content-Range"))!==null?parseInt(z.substring(z.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(z){z=j.statusText||z,this._sendError(new Error(z))}}function x(I){(I=I||{}).chunkSize||(I.chunkSize=f.LocalChunkSize),p.call(this,I);var j,z,X=typeof FileReader<"u";this.stream=function(W){this._input=W,z=W.slice||W.webkitSlice||W.mozSlice,X?((j=new FileReader).onload=R(this._chunkLoaded,this),j.onerror=R(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var W=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),W=z.call(W,this._start,F)),j.readAsText(W,this._config.encoding));X||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(W){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(W.target.result)},this._chunkError=function(){this._sendError(j.error)}}function k(I){var j;p.call(this,I=I||{}),this.stream=function(z){return j=z,this._nextChunk()},this._nextChunk=function(){var z,X;if(!this._finished)return z=this._config.chunkSize,j=z?(X=j.substring(0,z),j.substring(z)):(X=j,""),this._finished=!j,this.parseChunk(X)}}function w(I){p.call(this,I=I||{});var j=[],z=!0,X=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(W){this._input=W,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){X&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):z=!0},this._streamData=R(function(W){try{j.push(typeof W=="string"?W:W.toString(this._config.encoding)),z&&(z=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(F){this._streamError(F)}},this),this._streamError=R(function(W){this._streamCleanUp(),this._sendError(W)},this),this._streamEnd=R(function(){this._streamCleanUp(),X=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _(I){var j,z,X,W,F=Math.pow(2,53),V=-F,te=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,oe=0,ie=0,be=!1,he=!1,re=[],ae={data:[],errors:[],meta:{}};function K(Ce){return I.skipEmptyLines==="greedy"?Ce.join("").trim()==="":Ce.length===1&&Ce[0].length===0}function ce(){if(ae&&X&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),X=!1),I.skipEmptyLines&&(ae.data=ae.data.filter(function(Ee){return!K(Ee)})),ye()){let Ee=function(de,Re){M(I.transformHeader)&&(de=I.transformHeader(de,Re)),re.push(de)};if(ae)if(Array.isArray(ae.data[0])){for(var Ce=0;ye()&&Ce<ae.data.length;Ce++)ae.data[Ce].forEach(Ee);ae.data.splice(0,1)}else ae.data.forEach(Ee)}function De(Ee,de){for(var Re=I.header?{}:[],Be=0;Be<Ee.length;Be++){var He=Be,Ye=Ee[Be],Ye=((Ze,Ge)=>(Qt=>(I.dynamicTypingFunction&&I.dynamicTyping[Qt]===void 0&&(I.dynamicTyping[Qt]=I.dynamicTypingFunction(Qt)),(I.dynamicTyping[Qt]||I.dynamicTyping)===!0))(Ze)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Qt=>{if(te.test(Qt)&&(Qt=parseFloat(Qt),V<Qt&&Qt<F))return 1})(Ge)?parseFloat(Ge):G.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(He=I.header?Be>=re.length?"__parsed_extra":re[Be]:He,Ye=I.transform?I.transform(Ye,He):Ye);He==="__parsed_extra"?(Re[He]=Re[He]||[],Re[He].push(Ye)):Re[He]=Ye}return I.header&&(Be>re.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+re.length+" fields but parsed "+Be,ie+de):Be<re.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+re.length+" fields but parsed "+Be,ie+de)),Re}var Pe;ae&&(I.header||I.dynamicTyping||I.transform)&&(Pe=1,!ae.data.length||Array.isArray(ae.data[0])?(ae.data=ae.data.map(De),Pe=ae.data.length):ae.data=De(ae.data,0),I.header&&ae.meta&&(ae.meta.fields=re),ie+=Pe)}function ye(){return I.header&&re.length===0}function ke(Ce,De,Pe,Ee){Ce={type:Ce,code:De,message:Pe},Ee!==void 0&&(Ce.row=Ee),ae.errors.push(Ce)}M(I.step)&&(W=I.step,I.step=function(Ce){ae=Ce,ye()?ce():(ce(),ae.data.length!==0&&(oe+=Ce.data.length,I.preview&&oe>I.preview?z.abort():(ae.data=ae.data[0],W(ae,J))))}),this.parse=function(Ce,De,Pe){var Ee=I.quoteChar||'"',Ee=(I.newline||(I.newline=this.guessLineEndings(Ce,Ee)),X=!1,I.delimiter?M(I.delimiter)&&(I.delimiter=I.delimiter(Ce),ae.meta.delimiter=I.delimiter):((Ee=((de,Re,Be,He,Ye)=>{var Ze,Ge,Qt,gr;Ye=Ye||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Or=0;Or<Ye.length;Or++){for(var kr,lt=Ye[Or],st=0,xt=0,tt=0,Ct=(Qt=void 0,new T({comments:He,delimiter:lt,newline:Re,preview:10}).parse(de)),Gt=0;Gt<Ct.data.length;Gt++)Be&&K(Ct.data[Gt])?tt++:(kr=Ct.data[Gt].length,xt+=kr,Qt===void 0?Qt=kr:0<kr&&(st+=Math.abs(kr-Qt),Qt=kr));0<Ct.data.length&&(xt/=Ct.data.length-tt),(Ge===void 0||st<=Ge)&&(gr===void 0||gr<xt)&&1.99<xt&&(Ge=st,Ze=lt,gr=xt)}return{successful:!!(I.delimiter=Ze),bestDelimiter:Ze}})(Ce,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=Ee.bestDelimiter:(X=!0,I.delimiter=f.DefaultDelimiter),ae.meta.delimiter=I.delimiter),B(I));return I.preview&&I.header&&Ee.preview++,j=Ce,z=new T(Ee),ae=z.parse(j,De,Pe),ce(),be?{meta:{paused:!0}}:ae||{meta:{paused:!1}}},this.paused=function(){return be},this.pause=function(){be=!0,z.abort(),j=M(I.chunk)?"":j.substring(z.getCharIndex())},this.resume=function(){J.streamer._halted?(be=!1,J.streamer.parseChunk(j,!0)):setTimeout(J.resume,3)},this.aborted=function(){return he},this.abort=function(){he=!0,z.abort(),ae.meta.aborted=!0,M(I.complete)&&I.complete(ae),j=""},this.guessLineEndings=function(de,Ee){de=de.substring(0,1048576);var Ee=new RegExp(C(Ee)+"([^]*?)"+C(Ee),"gm"),Pe=(de=de.replace(Ee,"")).split("\r"),Ee=de.split(`
`),de=1<Ee.length&&Ee[0].length<Pe[0].length;if(Pe.length===1||de)return`
`;for(var Re=0,Be=0;Be<Pe.length;Be++)Pe[Be][0]===`
`&&Re++;return Re>=Pe.length/2?`\r
`:"\r"}}function C(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(I){var j=(I=I||{}).delimiter,z=I.newline,X=I.comments,W=I.step,F=I.preview,V=I.fastMode,te=null,G=!1,J=I.quoteChar==null?'"':I.quoteChar,oe=J;if(I.escapeChar!==void 0&&(oe=I.escapeChar),(typeof j!="string"||-1<f.BAD_DELIMITERS.indexOf(j))&&(j=","),X===j)throw new Error("Comment character same as delimiter");X===!0?X="#":(typeof X!="string"||-1<f.BAD_DELIMITERS.indexOf(X))&&(X=!1),z!==`
`&&z!=="\r"&&z!==`\r
`&&(z=`
`);var ie=0,be=!1;this.parse=function(he,re,ae){if(typeof he!="string")throw new Error("Input must be a string");var K=he.length,ce=j.length,ye=z.length,ke=X.length,Ce=M(W),De=[],Pe=[],Ee=[],de=ie=0;if(!he)return st();if(V||V!==!1&&he.indexOf(J)===-1){for(var Re=he.split(z),Be=0;Be<Re.length;Be++){if(Ee=Re[Be],ie+=Ee.length,Be!==Re.length-1)ie+=z.length;else if(ae)return st();if(!X||Ee.substring(0,ke)!==X){if(Ce){if(De=[],gr(Ee.split(j)),xt(),be)return st()}else gr(Ee.split(j));if(F&&F<=Be)return De=De.slice(0,F),st(!0)}}return st()}for(var He=he.indexOf(j,ie),Ye=he.indexOf(z,ie),Ze=new RegExp(C(oe)+C(J),"g"),Ge=he.indexOf(J,ie);;)if(he[ie]===J)for(Ge=ie,ie++;;){if((Ge=he.indexOf(J,Ge+1))===-1)return ae||Pe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:De.length,index:ie}),kr();if(Ge===K-1)return kr(he.substring(ie,Ge).replace(Ze,J));if(J===oe&&he[Ge+1]===oe)Ge++;else if(J===oe||Ge===0||he[Ge-1]!==oe){He!==-1&&He<Ge+1&&(He=he.indexOf(j,Ge+1));var Qt=Or((Ye=Ye!==-1&&Ye<Ge+1?he.indexOf(z,Ge+1):Ye)===-1?He:Math.min(He,Ye));if(he.substr(Ge+1+Qt,ce)===j){Ee.push(he.substring(ie,Ge).replace(Ze,J)),he[ie=Ge+1+Qt+ce]!==J&&(Ge=he.indexOf(J,ie)),He=he.indexOf(j,ie),Ye=he.indexOf(z,ie);break}if(Qt=Or(Ye),he.substring(Ge+1+Qt,Ge+1+Qt+ye)===z){if(Ee.push(he.substring(ie,Ge).replace(Ze,J)),lt(Ge+1+Qt+ye),He=he.indexOf(j,ie),Ge=he.indexOf(J,ie),Ce&&(xt(),be))return st();if(F&&De.length>=F)return st(!0);break}Pe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:De.length,index:ie}),Ge++}}else if(X&&Ee.length===0&&he.substring(ie,ie+ke)===X){if(Ye===-1)return st();ie=Ye+ye,Ye=he.indexOf(z,ie),He=he.indexOf(j,ie)}else if(He!==-1&&(He<Ye||Ye===-1))Ee.push(he.substring(ie,He)),ie=He+ce,He=he.indexOf(j,ie);else{if(Ye===-1)break;if(Ee.push(he.substring(ie,Ye)),lt(Ye+ye),Ce&&(xt(),be))return st();if(F&&De.length>=F)return st(!0)}return kr();function gr(tt){De.push(tt),de=ie}function Or(tt){var Ct=0;return Ct=tt!==-1&&(tt=he.substring(Ge+1,tt))&&tt.trim()===""?tt.length:Ct}function kr(tt){return ae||(tt===void 0&&(tt=he.substring(ie)),Ee.push(tt),ie=K,gr(Ee),Ce&&xt()),st()}function lt(tt){ie=tt,gr(Ee),Ee=[],Ye=he.indexOf(z,ie)}function st(tt){if(I.header&&!re&&De.length&&!G){var Ct=De[0],Gt=Object.create(null),cr=new Set(Ct);let kt=!1;for(let Nt=0;Nt<Ct.length;Nt++){let dr=Ct[Nt];if(Gt[dr=M(I.transformHeader)?I.transformHeader(dr,Nt):dr]){let pr,Lr=Gt[dr];for(;pr=dr+"_"+Lr,Lr++,cr.has(pr););cr.add(pr),Ct[Nt]=pr,Gt[dr]++,kt=!0,(te=te===null?{}:te)[pr]=dr}else Gt[dr]=1,Ct[Nt]=dr;cr.add(dr)}kt&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:De,errors:Pe,meta:{delimiter:j,linebreak:z,aborted:be,truncated:!!tt,cursor:de+(re||0),renamedHeaders:te}}}function xt(){W(st()),De=[],Pe=[]}},this.abort=function(){be=!0},this.getCharIndex=function(){return ie}}function E(I){var j=I.data,z=c[j.workerId],X=!1;if(j.error)z.userError(j.error,j.file);else if(j.results&&j.results.data){var W={abort:function(){X=!0,P(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Q,resume:Q};if(M(z.userStep)){for(var F=0;F<j.results.data.length&&(z.userStep({data:j.results.data[F],errors:j.results.errors,meta:j.results.meta},W),!X);F++);delete j.results}else M(z.userChunk)&&(z.userChunk(j.results,W,j.file),delete j.results)}j.finished&&!X&&P(j.workerId,j.results)}function P(I,j){var z=c[I];M(z.userComplete)&&z.userComplete(j),z.terminate(),delete c[I]}function Q(){throw new Error("Not implemented.")}function B(I){if(typeof I!="object"||I===null)return I;var j,z=Array.isArray(I)?[]:{};for(j in I)z[j]=B(I[j]);return z}function R(I,j){return function(){I.apply(j,arguments)}}function M(I){return typeof I=="function"}return f.parse=function(I,j){var z=(j=j||{}).dynamicTyping||!1;if(M(z)&&(j.dynamicTypingFunction=z,z={}),j.dynamicTyping=z,j.transform=!!M(j.transform)&&j.transform,!j.worker||!f.WORKERS_SUPPORTED)return z=null,f.NODE_STREAM_INPUT,typeof I=="string"?(I=(X=>X.charCodeAt(0)!==65279?X:X.slice(1))(I),z=new(j.download?O:k)(j)):I.readable===!0&&M(I.read)&&M(I.on)?z=new w(j):(n.File&&I instanceof File||I instanceof Object)&&(z=new x(j)),z.stream(I);(z=(()=>{var X;return!!f.WORKERS_SUPPORTED&&(X=(()=>{var W=n.URL||n.webkitURL||null,F=r.toString();return f.BLOB_URL||(f.BLOB_URL=W.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(X=new n.Worker(X)).onmessage=E,X.id=h++,c[X.id]=X)})()).userStep=j.step,z.userChunk=j.chunk,z.userComplete=j.complete,z.userError=j.error,j.step=M(j.step),j.chunk=M(j.chunk),j.complete=M(j.complete),j.error=M(j.error),delete j.worker,z.postMessage({input:I,config:j,workerId:z.id})},f.unparse=function(I,j){var z=!1,X=!0,W=",",F=`\r
`,V='"',te=V+V,G=!1,J=null,oe=!1,ie=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||f.BAD_DELIMITERS.filter(function(re){return j.delimiter.indexOf(re)!==-1}).length||(W=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(z=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(G=j.skipEmptyLines),typeof j.newline=="string"&&(F=j.newline),typeof j.quoteChar=="string"&&(V=j.quoteChar),typeof j.header=="boolean"&&(X=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");J=j.columns}j.escapeChar!==void 0&&(te=j.escapeChar+V),j.escapeFormulae instanceof RegExp?oe=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(oe=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(V),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return be(null,I,G);if(typeof I[0]=="object")return be(J||Object.keys(I[0]),I,G)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||J),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),be(I.fields||[],I.data||[],G);throw new Error("Unable to serialize unrecognized input");function be(re,ae,K){var ce="",ye=(typeof re=="string"&&(re=JSON.parse(re)),typeof ae=="string"&&(ae=JSON.parse(ae)),Array.isArray(re)&&0<re.length),ke=!Array.isArray(ae[0]);if(ye&&X){for(var Ce=0;Ce<re.length;Ce++)0<Ce&&(ce+=W),ce+=he(re[Ce],Ce);0<ae.length&&(ce+=F)}for(var De=0;De<ae.length;De++){var Pe=(ye?re:ae[De]).length,Ee=!1,de=ye?Object.keys(ae[De]).length===0:ae[De].length===0;if(K&&!ye&&(Ee=K==="greedy"?ae[De].join("").trim()==="":ae[De].length===1&&ae[De][0].length===0),K==="greedy"&&ye){for(var Re=[],Be=0;Be<Pe;Be++){var He=ke?re[Be]:Be;Re.push(ae[De][He])}Ee=Re.join("").trim()===""}if(!Ee){for(var Ye=0;Ye<Pe;Ye++){0<Ye&&!de&&(ce+=W);var Ze=ye&&ke?re[Ye]:Ye;ce+=he(ae[De][Ze],Ye)}De<ae.length-1&&(!K||0<Pe&&!de)&&(ce+=F)}}return ce}function he(re,ae){var K,ce;return re==null?"":re.constructor===Date?JSON.stringify(re).slice(1,25):(ce=!1,oe&&typeof re=="string"&&oe.test(re)&&(re="'"+re,ce=!0),K=re.toString().replace(ie,te),(ce=ce||z===!0||typeof z=="function"&&z(re,ae)||Array.isArray(z)&&z[ae]||((ye,ke)=>{for(var Ce=0;Ce<ke.length;Ce++)if(-1<ye.indexOf(ke[Ce]))return!0;return!1})(K,f.BAD_DELIMITERS)||-1<K.indexOf(W)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?V+K+V:K)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!a&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=T,f.ParserHandle=_,f.NetworkStreamer=O,f.FileStreamer=x,f.StringStreamer=k,f.ReadableStreamStreamer=w,n.jQuery&&((s=n.jQuery).fn.parse=function(I){var j=I.config||{},z=[];return this.each(function(F){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)z.push({file:this.files[V],inputElem:this,instanceConfig:s.extend({},j)})}),X(),this;function X(){if(z.length===0)M(I.complete)&&I.complete();else{var F,V,te,G,J=z[0];if(M(I.before)){var oe=I.before(J.file,J.inputElem);if(typeof oe=="object"){if(oe.action==="abort")return F="AbortError",V=J.file,te=J.inputElem,G=oe.reason,void(M(I.error)&&I.error({name:F},V,te,G));if(oe.action==="skip")return void W();typeof oe.config=="object"&&(J.instanceConfig=s.extend(J.instanceConfig,oe.config))}else if(oe==="skip")return void W()}var ie=J.instanceConfig.complete;J.instanceConfig.complete=function(be){M(ie)&&ie(be,J.file,J.inputElem),W()},f.parse(J.file,J.instanceConfig)}}function W(){z.splice(0,1),X()}}),l&&(n.onmessage=function(I){I=I.data,f.WORKER_ID===void 0&&I&&(f.WORKER_ID=I.workerId),typeof I.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(I.input,I.config),finished:!0}):(n.File&&I.input instanceof File||I.input instanceof Object)&&(I=f.parse(I.input,I.config))&&n.postMessage({workerId:f.WORKER_ID,results:I,finished:!0})}),(O.prototype=Object.create(p.prototype)).constructor=O,(x.prototype=Object.create(p.prototype)).constructor=x,(k.prototype=Object.create(k.prototype)).constructor=k,(w.prototype=Object.create(p.prototype)).constructor=w,f})})(s2)),s2.exports}var FXe=jXe();const LXe=OC(FXe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hie=1252,zXe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],A8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},S8=function(t){zXe.indexOf(t)!=-1&&(hie=A8[0]=t)};function XXe(){S8(1252)}var Yo=function(t){S8(t)};function uie(){Yo(1200),XXe()}function _z(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function VXe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function fie(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Y1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?VXe(t.slice(2)):e==254&&r==255?fie(t.slice(2)):e==65279?t.slice(1):t},fv=function(e){return String.fromCharCode(e)},Cz=function(e){return String.fromCharCode(e)},hx,Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Az(t){for(var e="",r=0,n=0,s=0,a=0,l=0,c=0,h=0,f=0;f<t.length;)r=t.charCodeAt(f++),a=r>>2,n=t.charCodeAt(f++),l=(r&3)<<4|n>>4,s=t.charCodeAt(f++),c=(n&15)<<2|s>>6,h=s&63,isNaN(n)?c=h=64:isNaN(s)&&(h=64),e+=Wd.charAt(a)+Wd.charAt(l)+Wd.charAt(c)+Wd.charAt(h);return e}function ja(t){var e="",r=0,n=0,s=0,a=0,l=0,c=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)a=Wd.indexOf(t.charAt(f++)),l=Wd.indexOf(t.charAt(f++)),r=a<<2|l>>4,e+=String.fromCharCode(r),c=Wd.indexOf(t.charAt(f++)),n=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),h=Wd.indexOf(t.charAt(f++)),s=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(s));return e}var Qr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Gu=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function mh(t){return Qr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Sz(t){return Qr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var qo=function(e){return Qr?Gu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Hu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function T8(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return T8(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Id=Qr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Gu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function UXe(t){for(var e=[],r=0,n=t.length+250,s=mh(t.length+255),a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l<128)s[r++]=l;else if(l<2048)s[r++]=192|l>>6&31,s[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++a)&1023;s[r++]=240|l>>8&7,s[r++]=128|l>>2&63,s[r++]=128|c>>6&15|(l&3)<<4,s[r++]=128|c&63}else s[r++]=224|l>>12&15,s[r++]=128|l>>6&63,s[r++]=128|l&63;r>n&&(e.push(s.slice(0,r)),r=0,s=mh(65535),n=65530)}return e.push(s.slice(0,r)),Id(e)}var qs=/\u0000/g,Z1=/[\u0001-\u0006]/g;function vf(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Zo(t,e){var r=""+t;return r.length>=e?r:Un("0",e-r.length)+r}function E8(t,e){var r=""+t;return r.length>=e?r:Un(" ",e-r.length)+r}function sC(t,e){var r=""+t;return r.length>=e?r:r+Un(" ",e-r.length)}function qXe(t,e){var r=""+Math.round(t);return r.length>=e?r:Un("0",e-r.length)+r}function WXe(t,e){var r=""+t;return r.length>=e?r:Un("0",e-r.length)+r}var Tz=Math.pow(2,32);function X0(t,e){if(t>Tz||t<-Tz)return qXe(t,e);var r=Math.round(t);return WXe(r,e)}function aC(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Ez=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],P3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function YXe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var mr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Pz={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZXe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function oC(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,l=1,c=0,h=1,f=0,p=0,O=Math.floor(s);f<e&&(O=Math.floor(s),c=O*l+a,p=O*f+h,!(s-O<5e-8));)s=1/(s-O),a=l,l=c,h=f,f=p;if(p>e&&(f>e?(p=h,c=a):(p=f,c=l)),!r)return[0,n*c,p];var x=Math.floor(n*c/p);return[x,n*c-x*p,p]}function mu(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,l=[],c={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++n,++c.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),l=[h.getFullYear(),h.getMonth()+1,h.getDate()],a=h.getDay(),n<60&&(a=(a+6)%7),r&&(a=tVe(h,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=a,c}var gie=new Date(1899,11,31,0,0,0),GXe=gie.getTime(),HXe=new Date(1900,2,1,0,0,0);function pie(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=HXe&&(r+=1440*60*1e3),(r-(GXe+(t.getTimezoneOffset()-gie.getTimezoneOffset())*6e4))/(1440*60*1e3)}function P8(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function KXe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function JXe(t){var e=t<0?12:11,r=P8(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function eVe(t){var e=P8(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function ux(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=JXe(t):e===10?r=t.toFixed(10).substr(0,12):r=eVe(t),P8(KXe(r.toUpperCase()))}function ju(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):ux(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Oo(14,pie(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function tVe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function rVe(t,e,r,n){var s="",a=0,l=0,c=r.y,h,f=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,f=2;break;default:h=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,f=e.length;break;case 3:return P3[r.m-1][1];case 5:return P3[r.m-1][0];default:return P3[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,f=e.length;break;case 3:return Ez[r.q][0];default:return Ez[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Zo(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(s=Zo(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:h=c,f=1;break}var p=f>0?Zo(h,f):"";return p}function Yd(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var mie=/%/g;function nVe(t,e,r){var n=e.replace(mie,""),s=e.length-n.length;return Xc(t,n,r*Math.pow(10,2*s))+Un("%",s)}function iVe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Xc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Oie(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Oie(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,f,p){return h+f+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var xie=/# (\?+)( ?)\/( ?)(\d+)/;function sVe(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),l=s-a*n,c=n;return r+(a===0?"":""+a)+" "+(l===0?Un(" ",t[1].length+1+t[4].length):E8(l,t[1].length)+t[2]+"/"+t[3]+Zo(c,t[4].length))}function aVe(t,e,r){return r+(e===0?"":""+e)+Un(" ",t[1].length+2+t[4].length)}var bie=/^#*0*\.([0#]+)/,kie=/\).*[0#]/,yie=/\(###\) ###\\?-####/;function Rs(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Dz(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Qz(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function oVe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function lVe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ha(t,e,r){if(t.charCodeAt(0)===40&&!e.match(kie)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ha("n",n,r):"("+Ha("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return iVe(t,e,r);if(e.indexOf("%")!==-1)return nVe(t,e,r);if(e.indexOf("E")!==-1)return Oie(e,r);if(e.charCodeAt(0)===36)return"$"+Ha(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,c,h=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+X0(h,e.length);if(e.match(/^[#?]+$/))return s=X0(r,0),s==="0"&&(s=""),s.length>e.length?s:Rs(e.substr(0,e.length-s.length))+s;if(a=e.match(xie))return sVe(a,h,f);if(e.match(/^#+0+$/))return f+X0(h,e.length-e.indexOf("0"));if(a=e.match(bie))return s=Dz(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Rs(a[1])).replace(/\.$/,"."+Rs(a[1])).replace(/\.(\d*)$/,function(w,_){return"."+_+Un("0",Rs(a[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+Dz(h,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Yd(X0(h,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ha(t,e,-r):Yd(""+(Math.floor(r)+oVe(r,a[1].length)))+"."+Zo(Qz(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ha(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=vf(Ha(t,e.replace(/[\\-]/g,""),r)),l=0,vf(vf(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<s.length?s.charAt(l++):w==="0"?"0":""}));if(e.match(yie))return s=Ha(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),c=oC(h,Math.pow(10,l)-1,!1),s=""+f,p=Xc("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=sC(c[2],l),p.length<a[4].length&&(p=Rs(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),c=oC(h,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?E8(c[1],l)+a[2]+"/"+a[3]+sC(c[2],l):Un(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=X0(r,0),e.length<=s.length?s:Rs(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var O=e.indexOf(".")-l,x=e.length-s.length-O;return Rs(e.substr(0,O)+s+e.substr(e.length-x))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=Qz(r,a[1].length),r<0?"-"+Ha(t,e,-r):Yd(lVe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Zo(0,3-w.length):"")+w})+"."+Zo(l,a[1].length);switch(e){case"###,##0.00":return Ha(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var k=Yd(X0(h,0));return k!=="0"?f+k:"";case"###,###.00":return Ha(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ha(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function cVe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Xc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function dVe(t,e,r){var n=e.replace(mie,""),s=e.length-n.length;return Xc(t,n,r*Math.pow(10,2*s))+Un("%",s)}function wie(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+wie(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,f,p){return h+f+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Tl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(kie)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Tl("n",n,r):"("+Tl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return cVe(t,e,r);if(e.indexOf("%")!==-1)return dVe(t,e,r);if(e.indexOf("E")!==-1)return wie(e,r);if(e.charCodeAt(0)===36)return"$"+Tl(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,c,h=Math.abs(r),f=r<0?"-":"";if(e.match(/^00+$/))return f+Zo(h,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Rs(e.substr(0,e.length-s.length))+s;if(a=e.match(xie))return aVe(a,h,f);if(e.match(/^#+0+$/))return f+Zo(h,e.length-e.indexOf("0"));if(a=e.match(bie))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Rs(a[1])).replace(/\.$/,"."+Rs(a[1])),s=s.replace(/\.(\d*)$/,function(w,_){return"."+_+Un("0",Rs(a[1]).length-_.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return f+Yd(""+h);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Tl(t,e,-r):Yd(""+r)+"."+Un("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Tl(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=vf(Tl(t,e.replace(/[\\-]/g,""),r)),l=0,vf(vf(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<s.length?s.charAt(l++):w==="0"?"0":""}));if(e.match(yie))return s=Tl(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),c=oC(h,Math.pow(10,l)-1,!1),s=""+f,p=Xc("n",a[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=sC(c[2],l),p.length<a[4].length&&(p=Rs(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),c=oC(h,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?E8(c[1],l)+a[2]+"/"+a[3]+sC(c[2],l):Un(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Rs(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var O=e.indexOf(".")-l,x=e.length-s.length-O;return Rs(e.substr(0,O)+s+e.substr(e.length-x))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Tl(t,e,-r):Yd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Zo(0,3-w.length):"")+w})+"."+Zo(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var k=Yd(""+h);return k!=="0"?f+k:"";default:if(e.match(/\.[0#?]*$/))return Tl(t,e.slice(0,e.lastIndexOf(".")),r)+Rs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Xc(t,e,r){return(r|0)===r?Tl(t,e,r):Ha(t,e,r)}function hVe(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var vie=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ag(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":aC(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(vie))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function uVe(t,e,r,n){for(var s=[],a="",l=0,c="",h="t",f,p,O,x="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!aC(t,l))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(O=t.charCodeAt(++l))!==34&&l<t.length;)a+=String.fromCharCode(O);s[s.length]={t:"t",v:a},++l;break;case"\\":var k=t.charAt(++l),w=k==="("||k===")"?k:"t";s[s.length]={t:w,v:k},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=mu(e,r,t.charAt(l+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(l,2)},h=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=mu(e,r),f==null))return"";for(a=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)a+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=x),s[s.length]={t:c,v:a},h=c;break;case"A":case"a":case"":var _={t:c,v:c};if(f==null&&(f=mu(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",x="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",l+=5,x="h"):t.substr(l,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",l+=5,x="h"):(_.t="t",++l),f==null&&_.t==="T")return"";s[s.length]=_,h=c;break;case"[":for(a=c;t.charAt(l++)!=="]"&&l<t.length;)a+=t.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(vie)){if(f==null&&(f=mu(e,r),f==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},h=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ag(t)||(s[s.length]={t:"t",v:a}));break;case".":if(f!=null){for(a=c;++l<t.length&&(c=t.charAt(l))==="0";)a+=c;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)a+=c;s[s.length]={t:"n",v:a};break;case"?":for(a=c;t.charAt(++l)===c;)a+=c;s[s.length]={t:c,v:a},h=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)a+=t.charAt(l);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:c,v:c},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++l;break}var C=0,T=0,E;for(l=s.length-1,h="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=x,h="h",C<1&&(C=1);break;case"s":(E=s[l].v.match(/\.0+$/))&&(T=Math.max(T,E[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":h=s[l].t;break;case"m":h==="s"&&(s[l].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&s[l].v.match(/[Hh]/)&&(C=1),C<2&&s[l].v.match(/[Mm]/)&&(C=2),C<3&&s[l].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var P="",Q;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=rVe(s[l].t.charCodeAt(0),s[l].v,f,T),s[l].t="t";break;case"n":case"?":for(Q=l+1;s[Q]!=null&&((c=s[Q].t)==="?"||c==="D"||(c===" "||c==="t")&&s[Q+1]!=null&&(s[Q+1].t==="?"||s[Q+1].t==="t"&&s[Q+1].v==="/")||s[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[Q].v==="/"||s[Q].v===" "&&s[Q+1]!=null&&s[Q+1].t=="?"));)s[l].v+=s[Q].v,s[Q]={v:"",t:";"},++Q;P+=s[l].v,l=Q-1;break;case"G":s[l].t="t",s[l].v=ju(e,r);break}var B="",R,M;if(P.length>0){P.charCodeAt(0)==40?(R=e<0&&P.charCodeAt(0)===45?-e:e,M=Xc("n",P,R)):(R=e<0&&n>1?-e:e,M=Xc("n",P,R),R<0&&s[0]&&s[0].t=="t"&&(M=M.substr(1),s[0].v="-"+s[0].v)),Q=M.length-1;var I=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){I=l;break}var j=s.length;if(I===s.length&&M.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(Q>=s[l].v.length-1?(Q-=s[l].v.length,s[l].v=M.substr(Q+1,s[l].v.length)):Q<0?s[l].v="":(s[l].v=M.substr(0,Q+1),Q=-1),s[l].t="t",j=l);Q>=0&&j<s.length&&(s[j].v=M.substr(0,Q+1)+s[j].v)}else if(I!==s.length&&M.indexOf("E")===-1){for(Q=M.indexOf(".")-1,l=I;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(p=s[l].v.indexOf(".")>-1&&l===I?s[l].v.indexOf(".")-1:s[l].v.length-1,B=s[l].v.substr(p+1);p>=0;--p)Q>=0&&(s[l].v.charAt(p)==="0"||s[l].v.charAt(p)==="#")&&(B=M.charAt(Q--)+B);s[l].v=B,s[l].t="t",j=l}for(Q>=0&&j<s.length&&(s[j].v=M.substr(0,Q+1)+s[j].v),Q=M.indexOf(".")+1,l=I;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==I)){for(p=s[l].v.indexOf(".")>-1&&l===I?s[l].v.indexOf(".")+1:0,B=s[l].v.substr(0,p);p<s[l].v.length;++p)Q<M.length&&(B+=M.charAt(Q++));s[l].v=B,s[l].t="t",j=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(R=n>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=Xc(s[l].t,s[l].v,R),s[l].t="t");var z="";for(l=0;l!==s.length;++l)s[l]!=null&&(z+=s[l].v);return z}var $z=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Mz(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function fVe(t,e){var r=hVe(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match($z),c=r[1].match($z);return Mz(e,l)?[n,r[0]]:Mz(e,c)?[n,r[1]]:[n,r[l!=null&&c!=null?2:1]]}return[n,a]}function Oo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:mr)[t],n==null&&(n=r.table&&r.table[Pz[t]]||mr[Pz[t]]),n==null&&(n=ZXe[t]||"General");break}if(aC(n,0))return ju(e,r);e instanceof Date&&(e=pie(e,r.date1904));var s=fVe(n,e);if(aC(s[1]))return ju(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return uVe(s[1],e,r,s[0])}function ku(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(mr[r]==null){e<0&&(e=r);continue}if(mr[r]==t){e=r;break}}e<0&&(e=391)}return mr[e]=t,e}function _ie(){mr=YXe()}var gVe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Cie=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pVe(t){var e=typeof t=="number"?mr[t]:t;return e=e.replace(Cie,"(\\d+)"),new RegExp("^"+e+"$")}function mVe(t,e,r){var n=-1,s=-1,a=-1,l=-1,c=-1,h=-1;(e.match(Cie)||[]).forEach(function(O,x){var k=parseInt(r[x+1],10);switch(O.toLowerCase().charAt(0)){case"y":n=k;break;case"d":a=k;break;case"h":l=k;break;case"s":h=k;break;case"m":l>=0?c=k:s=k;break}}),h>=0&&c==-1&&s>=0&&(c=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return l==-1&&c==-1&&h==-1?f:n==-1&&s==-1&&a==-1?p:f+"T"+p}var OVe=(function(){var t={};t.version="1.2.0";function e(){for(var M=0,I=new Array(256),j=0;j!=256;++j)M=j,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,I[j]=M;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(M){var I=0,j=0,z=0,X=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(z=0;z!=256;++z)X[z]=M[z];for(z=0;z!=256;++z)for(j=M[z],I=256+z;I<4096;I+=256)j=X[I]=j>>>8^M[j&255];var W=[];for(z=1;z!=16;++z)W[z-1]=typeof Int32Array<"u"?X.subarray(z*256,z*256+256):X.slice(z*256,z*256+256);return W}var s=n(r),a=s[0],l=s[1],c=s[2],h=s[3],f=s[4],p=s[5],O=s[6],x=s[7],k=s[8],w=s[9],_=s[10],C=s[11],T=s[12],E=s[13],P=s[14];function Q(M,I){for(var j=I^-1,z=0,X=M.length;z<X;)j=j>>>8^r[(j^M.charCodeAt(z++))&255];return~j}function B(M,I){for(var j=I^-1,z=M.length-15,X=0;X<z;)j=P[M[X++]^j&255]^E[M[X++]^j>>8&255]^T[M[X++]^j>>16&255]^C[M[X++]^j>>>24]^_[M[X++]]^w[M[X++]]^k[M[X++]]^x[M[X++]]^O[M[X++]]^p[M[X++]]^f[M[X++]]^h[M[X++]]^c[M[X++]]^l[M[X++]]^a[M[X++]]^r[M[X++]];for(z+=15;X<z;)j=j>>>8^r[(j^M[X++])&255];return~j}function R(M,I){for(var j=I^-1,z=0,X=M.length,W=0,F=0;z<X;)W=M.charCodeAt(z++),W<128?j=j>>>8^r[(j^W)&255]:W<2048?(j=j>>>8^r[(j^(192|W>>6&31))&255],j=j>>>8^r[(j^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,F=M.charCodeAt(z++)&1023,j=j>>>8^r[(j^(240|W>>8&7))&255],j=j>>>8^r[(j^(128|W>>2&63))&255],j=j>>>8^r[(j^(128|F>>6&15|(W&3)<<4))&255],j=j>>>8^r[(j^(128|F&63))&255]):(j=j>>>8^r[(j^(224|W>>12&15))&255],j=j>>>8^r[(j^(128|W>>6&63))&255],j=j>>>8^r[(j^(128|W&63))&255]);return~j}return t.table=r,t.bstr=Q,t.buf=B,t.str=R,t})(),Rr=(function(){var e={};e.version="1.2.1";function r(fe,ve){for(var pe=fe.split("/"),xe=ve.split("/"),we=0,_e=0,je=Math.min(pe.length,xe.length);we<je;++we){if(_e=pe[we].length-xe[we].length)return _e;if(pe[we]!=xe[we])return pe[we]<xe[we]?-1:1}return pe.length-xe.length}function n(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:n(fe.slice(0,-1));var ve=fe.lastIndexOf("/");return ve===-1?fe:fe.slice(0,ve+1)}function s(fe){if(fe.charAt(fe.length-1)=="/")return s(fe.slice(0,-1));var ve=fe.lastIndexOf("/");return ve===-1?fe:fe.slice(ve+1)}function a(fe,ve){typeof ve=="string"&&(ve=new Date(ve));var pe=ve.getHours();pe=pe<<6|ve.getMinutes(),pe=pe<<5|ve.getSeconds()>>>1,fe.write_shift(2,pe);var xe=ve.getFullYear()-1980;xe=xe<<4|ve.getMonth()+1,xe=xe<<5|ve.getDate(),fe.write_shift(2,xe)}function l(fe){var ve=fe.read_shift(2)&65535,pe=fe.read_shift(2)&65535,xe=new Date,we=pe&31;pe>>>=5;var _e=pe&15;pe>>>=4,xe.setMilliseconds(0),xe.setFullYear(pe+1980),xe.setMonth(_e-1),xe.setDate(we);var je=ve&31;ve>>>=5;var We=ve&63;return ve>>>=6,xe.setHours(ve),xe.setMinutes(We),xe.setSeconds(je<<1),xe}function c(fe){Hi(fe,0);for(var ve={},pe=0;fe.l<=fe.length-4;){var xe=fe.read_shift(2),we=fe.read_shift(2),_e=fe.l+we,je={};switch(xe){case 21589:pe=fe.read_shift(1),pe&1&&(je.mtime=fe.read_shift(4)),we>5&&(pe&2&&(je.atime=fe.read_shift(4)),pe&4&&(je.ctime=fe.read_shift(4))),je.mtime&&(je.mt=new Date(je.mtime*1e3));break}fe.l=_e,ve[xe]=je}return ve}var h;function f(){return h||(h={})}function p(fe,ve){if(fe[0]==80&&fe[1]==75)return Wn(fe,ve);if((fe[0]|32)==109&&(fe[1]|32)==105)return Si(fe,ve);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var pe=3,xe=512,we=0,_e=0,je=0,We=0,Le=0,ze=[],Qe=fe.slice(0,512);Hi(Qe,0);var Oe=O(Qe);switch(pe=Oe[0],pe){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(Oe[1]==0)return Wn(fe,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}xe!==512&&(Qe=fe.slice(0,xe),Hi(Qe,28));var Ne=fe.slice(0,xe);x(Qe,pe);var Ve=Qe.read_shift(4,"i");if(pe===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);Qe.l+=4,je=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),We=Qe.read_shift(4,"i"),we=Qe.read_shift(4,"i"),Le=Qe.read_shift(4,"i"),_e=Qe.read_shift(4,"i");for(var et=-1,Ot=0;Ot<109&&(et=Qe.read_shift(4,"i"),!(et<0));++Ot)ze[Ot]=et;var Tt=k(fe,xe);C(Le,_e,Tt,xe,ze);var yr=E(Tt,je,ze,xe);yr[je].name="!Directory",we>0&&We!==F&&(yr[We].name="!MiniFAT"),yr[ze[0]].name="!FAT",yr.fat_addrs=ze,yr.ssz=xe;var Pr={},pn=[],vo=[],mn=[];P(je,yr,Tt,pn,we,Pr,vo,We),w(vo,mn,pn),pn.shift();var ul={FileIndex:vo,FullPaths:mn};return ve&&ve.raw&&(ul.raw={header:Ne,sectors:Tt}),ul}function O(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(V,"Header Signature: "),fe.l+=16;var ve=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),ve]}function x(fe,ve){var pe=9;switch(fe.l+=2,pe=fe.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function k(fe,ve){for(var pe=Math.ceil(fe.length/ve)-1,xe=[],we=1;we<pe;++we)xe[we-1]=fe.slice(we*ve,(we+1)*ve);return xe[pe-1]=fe.slice(pe*ve),xe}function w(fe,ve,pe){for(var xe=0,we=0,_e=0,je=0,We=0,Le=pe.length,ze=[],Qe=[];xe<Le;++xe)ze[xe]=Qe[xe]=xe,ve[xe]=pe[xe];for(;We<Qe.length;++We)xe=Qe[We],we=fe[xe].L,_e=fe[xe].R,je=fe[xe].C,ze[xe]===xe&&(we!==-1&&ze[we]!==we&&(ze[xe]=ze[we]),_e!==-1&&ze[_e]!==_e&&(ze[xe]=ze[_e])),je!==-1&&(ze[je]=xe),we!==-1&&xe!=ze[xe]&&(ze[we]=ze[xe],Qe.lastIndexOf(we)<We&&Qe.push(we)),_e!==-1&&xe!=ze[xe]&&(ze[_e]=ze[xe],Qe.lastIndexOf(_e)<We&&Qe.push(_e));for(xe=1;xe<Le;++xe)ze[xe]===xe&&(_e!==-1&&ze[_e]!==_e?ze[xe]=ze[_e]:we!==-1&&ze[we]!==we&&(ze[xe]=ze[we]));for(xe=1;xe<Le;++xe)if(fe[xe].type!==0){if(We=xe,We!=ze[We])do We=ze[We],ve[xe]=ve[We]+"/"+ve[xe];while(We!==0&&ze[We]!==-1&&We!=ze[We]);ze[xe]=-1}for(ve[0]+="/",xe=1;xe<Le;++xe)fe[xe].type!==2&&(ve[xe]+="/")}function _(fe,ve,pe){for(var xe=fe.start,we=fe.size,_e=[],je=xe;pe&&we>0&&je>=0;)_e.push(ve.slice(je*W,je*W+W)),we-=W,je=ou(pe,je*4);return _e.length===0?Oi(0):Id(_e).slice(0,fe.size)}function C(fe,ve,pe,xe,we){var _e=F;if(fe===F){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var je=pe[fe],We=(xe>>>2)-1;if(!je)return;for(var Le=0;Le<We&&(_e=ou(je,Le*4))!==F;++Le)we.push(_e);C(ou(je,xe-4),ve-1,pe,xe,we)}}function T(fe,ve,pe,xe,we){var _e=[],je=[];we||(we=[]);var We=xe-1,Le=0,ze=0;for(Le=ve;Le>=0;){we[Le]=!0,_e[_e.length]=Le,je.push(fe[Le]);var Qe=pe[Math.floor(Le*4/xe)];if(ze=Le*4&We,xe<4+ze)throw new Error("FAT boundary crossed: "+Le+" 4 "+xe);if(!fe[Qe])break;Le=ou(fe[Qe],ze)}return{nodes:_e,data:Vz([je])}}function E(fe,ve,pe,xe){var we=fe.length,_e=[],je=[],We=[],Le=[],ze=xe-1,Qe=0,Oe=0,Ne=0,Ve=0;for(Qe=0;Qe<we;++Qe)if(We=[],Ne=Qe+ve,Ne>=we&&(Ne-=we),!je[Ne]){Le=[];var et=[];for(Oe=Ne;Oe>=0;){et[Oe]=!0,je[Oe]=!0,We[We.length]=Oe,Le.push(fe[Oe]);var Ot=pe[Math.floor(Oe*4/xe)];if(Ve=Oe*4&ze,xe<4+Ve)throw new Error("FAT boundary crossed: "+Oe+" 4 "+xe);if(!fe[Ot]||(Oe=ou(fe[Ot],Ve),et[Oe]))break}_e[Ne]={nodes:We,data:Vz([Le])}}return _e}function P(fe,ve,pe,xe,we,_e,je,We){for(var Le=0,ze=xe.length?2:0,Qe=ve[fe].data,Oe=0,Ne=0,Ve;Oe<Qe.length;Oe+=128){var et=Qe.slice(Oe,Oe+128);Hi(et,64),Ne=et.read_shift(2),Ve=R8(et,0,Ne-ze),xe.push(Ve);var Ot={name:Ve,type:et.read_shift(1),color:et.read_shift(1),L:et.read_shift(4,"i"),R:et.read_shift(4,"i"),C:et.read_shift(4,"i"),clsid:et.read_shift(16),state:et.read_shift(4,"i"),start:0,size:0},Tt=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);Tt!==0&&(Ot.ct=Q(et,et.l-8));var yr=et.read_shift(2)+et.read_shift(2)+et.read_shift(2)+et.read_shift(2);yr!==0&&(Ot.mt=Q(et,et.l-8)),Ot.start=et.read_shift(4,"i"),Ot.size=et.read_shift(4,"i"),Ot.size<0&&Ot.start<0&&(Ot.size=Ot.type=0,Ot.start=F,Ot.name=""),Ot.type===5?(Le=Ot.start,we>0&&Le!==F&&(ve[Le].name="!StreamData")):Ot.size>=4096?(Ot.storage="fat",ve[Ot.start]===void 0&&(ve[Ot.start]=T(pe,Ot.start,ve.fat_addrs,ve.ssz)),ve[Ot.start].name=Ot.name,Ot.content=ve[Ot.start].data.slice(0,Ot.size)):(Ot.storage="minifat",Ot.size<0?Ot.size=0:Le!==F&&Ot.start!==F&&ve[Le]&&(Ot.content=_(Ot,ve[Le].data,(ve[We]||{}).data))),Ot.content&&Hi(Ot.content,0),_e[Ve]=Ot,je.push(Ot)}}function Q(fe,ve){return new Date((Pa(fe,ve+4)/1e7*Math.pow(2,32)+Pa(fe,ve)/1e7-11644473600)*1e3)}function B(fe,ve){return f(),p(h.readFileSync(fe),ve)}function R(fe,ve){var pe=ve&&ve.type;switch(pe||Qr&&Buffer.isBuffer(fe)&&(pe="buffer"),pe||"base64"){case"file":return B(fe,ve);case"base64":return p(qo(ja(fe)),ve);case"binary":return p(qo(fe),ve)}return p(fe,ve)}function M(fe,ve){var pe=ve||{},xe=pe.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=xe+"/",fe.FileIndex[0]={name:xe,type:5}),pe.CLSID&&(fe.FileIndex[0].clsid=pe.CLSID),I(fe)}function I(fe){var ve="Sh33tJ5";if(!Rr.find(fe,"/"+ve)){var pe=Oi(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,fe.FileIndex.push({name:ve,type:2,content:pe,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+ve),j(fe)}}function j(fe,ve){M(fe);for(var pe=!1,xe=!1,we=fe.FullPaths.length-1;we>=0;--we){var _e=fe.FileIndex[we];switch(_e.type){case 0:xe?pe=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(_e.R*_e.L*_e.C)&&(pe=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!ve)){var je=new Date(1987,1,19),We=0,Le=Object.create?Object.create(null):{},ze=[];for(we=0;we<fe.FullPaths.length;++we)Le[fe.FullPaths[we]]=!0,fe.FileIndex[we].type!==0&&ze.push([fe.FullPaths[we],fe.FileIndex[we]]);for(we=0;we<ze.length;++we){var Qe=n(ze[we][0]);xe=Le[Qe],xe||(ze.push([Qe,{name:s(Qe).replace("/",""),type:1,clsid:G,ct:je,mt:je,content:null}]),Le[Qe]=!0)}for(ze.sort(function(Ve,et){return r(Ve[0],et[0])}),fe.FullPaths=[],fe.FileIndex=[],we=0;we<ze.length;++we)fe.FullPaths[we]=ze[we][0],fe.FileIndex[we]=ze[we][1];for(we=0;we<ze.length;++we){var Oe=fe.FileIndex[we],Ne=fe.FullPaths[we];if(Oe.name=s(Ne).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||G,we===0)Oe.C=ze.length>1?1:-1,Oe.size=0,Oe.type=5;else if(Ne.slice(-1)=="/"){for(We=we+1;We<ze.length&&n(fe.FullPaths[We])!=Ne;++We);for(Oe.C=We>=ze.length?-1:We,We=we+1;We<ze.length&&n(fe.FullPaths[We])!=n(Ne);++We);Oe.R=We>=ze.length?-1:We,Oe.type=1}else n(fe.FullPaths[we+1]||"")==n(Ne)&&(Oe.R=we+1),Oe.type=2}}}function z(fe,ve){var pe=ve||{};if(pe.fileType=="mad")return wo(fe,pe);switch(j(fe),pe.fileType){case"zip":return Fn(fe,pe)}var xe=(function(Ve){for(var et=0,Ot=0,Tt=0;Tt<Ve.FileIndex.length;++Tt){var yr=Ve.FileIndex[Tt];if(yr.content){var Pr=yr.content.length;Pr>0&&(Pr<4096?et+=Pr+63>>6:Ot+=Pr+511>>9)}}for(var pn=Ve.FullPaths.length+3>>2,vo=et+7>>3,mn=et+127>>7,ul=vo+Ot+pn+mn,La=ul+127>>7,Eg=La<=109?0:Math.ceil((La-109)/127);ul+La+Eg+127>>7>La;)Eg=++La<=109?0:Math.ceil((La-109)/127);var Xi=[1,Eg,La,mn,pn,Ot,et,0];return Ve.FileIndex[0].size=et<<6,Xi[7]=(Ve.FileIndex[0].start=Xi[0]+Xi[1]+Xi[2]+Xi[3]+Xi[4]+Xi[5])+(Xi[6]+7>>3),Xi})(fe),we=Oi(xe[7]<<9),_e=0,je=0;{for(_e=0;_e<8;++_e)we.write_shift(1,te[_e]);for(_e=0;_e<8;++_e)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),_e=0;_e<3;++_e)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,xe[2]),we.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:F),we.write_shift(4,xe[3]),we.write_shift(-4,xe[1]?xe[0]-1:F),we.write_shift(4,xe[1]),_e=0;_e<109;++_e)we.write_shift(-4,_e<xe[2]?xe[1]+_e:-1)}if(xe[1])for(je=0;je<xe[1];++je){for(;_e<236+je*127;++_e)we.write_shift(-4,_e<xe[2]?xe[1]+_e:-1);we.write_shift(-4,je===xe[1]-1?F:je+1)}var We=function(Ve){for(je+=Ve;_e<je-1;++_e)we.write_shift(-4,_e+1);Ve&&(++_e,we.write_shift(-4,F))};for(je=_e=0,je+=xe[1];_e<je;++_e)we.write_shift(-4,J.DIFSECT);for(je+=xe[2];_e<je;++_e)we.write_shift(-4,J.FATSECT);We(xe[3]),We(xe[4]);for(var Le=0,ze=0,Qe=fe.FileIndex[0];Le<fe.FileIndex.length;++Le)Qe=fe.FileIndex[Le],Qe.content&&(ze=Qe.content.length,!(ze<4096)&&(Qe.start=je,We(ze+511>>9)));for(We(xe[6]+7>>3);we.l&511;)we.write_shift(-4,J.ENDOFCHAIN);for(je=_e=0,Le=0;Le<fe.FileIndex.length;++Le)Qe=fe.FileIndex[Le],Qe.content&&(ze=Qe.content.length,!(!ze||ze>=4096)&&(Qe.start=je,We(ze+63>>6)));for(;we.l&511;)we.write_shift(-4,J.ENDOFCHAIN);for(_e=0;_e<xe[4]<<2;++_e){var Oe=fe.FullPaths[_e];if(!Oe||Oe.length===0){for(Le=0;Le<17;++Le)we.write_shift(4,0);for(Le=0;Le<3;++Le)we.write_shift(4,-1);for(Le=0;Le<12;++Le)we.write_shift(4,0);continue}Qe=fe.FileIndex[_e],_e===0&&(Qe.start=Qe.size?Qe.start-1:F);var Ne=_e===0&&pe.root||Qe.name;if(ze=2*(Ne.length+1),we.write_shift(64,Ne,"utf16le"),we.write_shift(2,ze),we.write_shift(1,Qe.type),we.write_shift(1,Qe.color),we.write_shift(-4,Qe.L),we.write_shift(-4,Qe.R),we.write_shift(-4,Qe.C),Qe.clsid)we.write_shift(16,Qe.clsid,"hex");else for(Le=0;Le<4;++Le)we.write_shift(4,0);we.write_shift(4,Qe.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,Qe.start),we.write_shift(4,Qe.size),we.write_shift(4,0)}for(_e=1;_e<fe.FileIndex.length;++_e)if(Qe=fe.FileIndex[_e],Qe.size>=4096)if(we.l=Qe.start+1<<9,Qr&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+511&-512;else{for(Le=0;Le<Qe.size;++Le)we.write_shift(1,Qe.content[Le]);for(;Le&511;++Le)we.write_shift(1,0)}for(_e=1;_e<fe.FileIndex.length;++_e)if(Qe=fe.FileIndex[_e],Qe.size>0&&Qe.size<4096)if(Qr&&Buffer.isBuffer(Qe.content))Qe.content.copy(we,we.l,0,Qe.size),we.l+=Qe.size+63&-64;else{for(Le=0;Le<Qe.size;++Le)we.write_shift(1,Qe.content[Le]);for(;Le&63;++Le)we.write_shift(1,0)}if(Qr)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function X(fe,ve){var pe=fe.FullPaths.map(function(Le){return Le.toUpperCase()}),xe=pe.map(function(Le){var ze=Le.split("/");return ze[ze.length-(Le.slice(-1)=="/"?2:1)]}),we=!1;ve.charCodeAt(0)===47?(we=!0,ve=pe[0].slice(0,-1)+ve):we=ve.indexOf("/")!==-1;var _e=ve.toUpperCase(),je=we===!0?pe.indexOf(_e):xe.indexOf(_e);if(je!==-1)return fe.FileIndex[je];var We=!_e.match(Z1);for(_e=_e.replace(qs,""),We&&(_e=_e.replace(Z1,"!")),je=0;je<pe.length;++je)if((We?pe[je].replace(Z1,"!"):pe[je]).replace(qs,"")==_e||(We?xe[je].replace(Z1,"!"):xe[je]).replace(qs,"")==_e)return fe.FileIndex[je];return null}var W=64,F=-2,V="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],G="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:G,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(fe,ve,pe){f();var xe=z(fe,pe);h.writeFileSync(ve,xe)}function ie(fe){for(var ve=new Array(fe.length),pe=0;pe<fe.length;++pe)ve[pe]=String.fromCharCode(fe[pe]);return ve.join("")}function be(fe,ve){var pe=z(fe,ve);switch(ve&&ve.type||"buffer"){case"file":return f(),h.writeFileSync(ve.filename,pe),pe;case"binary":return typeof pe=="string"?pe:ie(pe);case"base64":return Az(typeof pe=="string"?pe:ie(pe));case"buffer":if(Qr)return Buffer.isBuffer(pe)?pe:Gu(pe);case"array":return typeof pe=="string"?qo(pe):pe}return pe}var he;function re(fe){try{var ve=fe.InflateRaw,pe=new ve;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)he=fe;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function ae(fe,ve){if(!he)return Ai(fe,ve);var pe=he.InflateRaw,xe=new pe,we=xe._processChunk(fe.slice(fe.l),xe._finishFlushFlag);return fe.l+=xe.bytesRead,we}function K(fe){return he?he.deflateRawSync(fe):kt(fe)}var ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ye=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ke=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ce(fe){var ve=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var De=typeof Uint8Array<"u",Pe=De?new Uint8Array(256):[],Ee=0;Ee<256;++Ee)Pe[Ee]=Ce(Ee);function de(fe,ve){var pe=Pe[fe&255];return ve<=8?pe>>>8-ve:(pe=pe<<8|Pe[fe>>8&255],ve<=16?pe>>>16-ve:(pe=pe<<8|Pe[fe>>16&255],pe>>>24-ve))}function Re(fe,ve){var pe=ve&7,xe=ve>>>3;return(fe[xe]|(pe<=6?0:fe[xe+1]<<8))>>>pe&3}function Be(fe,ve){var pe=ve&7,xe=ve>>>3;return(fe[xe]|(pe<=5?0:fe[xe+1]<<8))>>>pe&7}function He(fe,ve){var pe=ve&7,xe=ve>>>3;return(fe[xe]|(pe<=4?0:fe[xe+1]<<8))>>>pe&15}function Ye(fe,ve){var pe=ve&7,xe=ve>>>3;return(fe[xe]|(pe<=3?0:fe[xe+1]<<8))>>>pe&31}function Ze(fe,ve){var pe=ve&7,xe=ve>>>3;return(fe[xe]|(pe<=1?0:fe[xe+1]<<8))>>>pe&127}function Ge(fe,ve,pe){var xe=ve&7,we=ve>>>3,_e=(1<<pe)-1,je=fe[we]>>>xe;return pe<8-xe||(je|=fe[we+1]<<8-xe,pe<16-xe)||(je|=fe[we+2]<<16-xe,pe<24-xe)||(je|=fe[we+3]<<24-xe),je&_e}function Qt(fe,ve,pe){var xe=ve&7,we=ve>>>3;return xe<=5?fe[we]|=(pe&7)<<xe:(fe[we]|=pe<<xe&255,fe[we+1]=(pe&7)>>8-xe),ve+3}function gr(fe,ve,pe){var xe=ve&7,we=ve>>>3;return pe=(pe&1)<<xe,fe[we]|=pe,ve+1}function Or(fe,ve,pe){var xe=ve&7,we=ve>>>3;return pe<<=xe,fe[we]|=pe&255,pe>>>=8,fe[we+1]=pe,ve+8}function kr(fe,ve,pe){var xe=ve&7,we=ve>>>3;return pe<<=xe,fe[we]|=pe&255,pe>>>=8,fe[we+1]=pe&255,fe[we+2]=pe>>>8,ve+16}function lt(fe,ve){var pe=fe.length,xe=2*pe>ve?2*pe:ve+5,we=0;if(pe>=ve)return fe;if(Qr){var _e=Sz(xe);if(fe.copy)fe.copy(_e);else for(;we<fe.length;++we)_e[we]=fe[we];return _e}else if(De){var je=new Uint8Array(xe);if(je.set)je.set(fe);else for(;we<pe;++we)je[we]=fe[we];return je}return fe.length=xe,fe}function st(fe){for(var ve=new Array(fe),pe=0;pe<fe;++pe)ve[pe]=0;return ve}function xt(fe,ve,pe){var xe=1,we=0,_e=0,je=0,We=0,Le=fe.length,ze=De?new Uint16Array(32):st(32);for(_e=0;_e<32;++_e)ze[_e]=0;for(_e=Le;_e<pe;++_e)fe[_e]=0;Le=fe.length;var Qe=De?new Uint16Array(Le):st(Le);for(_e=0;_e<Le;++_e)ze[we=fe[_e]]++,xe<we&&(xe=we),Qe[_e]=0;for(ze[0]=0,_e=1;_e<=xe;++_e)ze[_e+16]=We=We+ze[_e-1]<<1;for(_e=0;_e<Le;++_e)We=fe[_e],We!=0&&(Qe[_e]=ze[We+16]++);var Oe=0;for(_e=0;_e<Le;++_e)if(Oe=fe[_e],Oe!=0)for(We=de(Qe[_e],xe)>>xe-Oe,je=(1<<xe+4-Oe)-1;je>=0;--je)ve[We|je<<Oe]=Oe&15|_e<<4;return xe}var tt=De?new Uint16Array(512):st(512),Ct=De?new Uint16Array(32):st(32);if(!De){for(var Gt=0;Gt<512;++Gt)tt[Gt]=0;for(Gt=0;Gt<32;++Gt)Ct[Gt]=0}(function(){for(var fe=[],ve=0;ve<32;ve++)fe.push(5);xt(fe,Ct,32);var pe=[];for(ve=0;ve<=143;ve++)pe.push(8);for(;ve<=255;ve++)pe.push(9);for(;ve<=279;ve++)pe.push(7);for(;ve<=287;ve++)pe.push(8);xt(pe,tt,288)})();var cr=(function(){for(var ve=De?new Uint8Array(32768):[],pe=0,xe=0;pe<ke.length-1;++pe)for(;xe<ke[pe+1];++xe)ve[xe]=pe;for(;xe<32768;++xe)ve[xe]=29;var we=De?new Uint8Array(259):[];for(pe=0,xe=0;pe<ye.length-1;++pe)for(;xe<ye[pe+1];++xe)we[xe]=pe;function _e(We,Le){for(var ze=0;ze<We.length;){var Qe=Math.min(65535,We.length-ze),Oe=ze+Qe==We.length;for(Le.write_shift(1,+Oe),Le.write_shift(2,Qe),Le.write_shift(2,~Qe&65535);Qe-- >0;)Le[Le.l++]=We[ze++]}return Le.l}function je(We,Le){for(var ze=0,Qe=0,Oe=De?new Uint16Array(32768):[];Qe<We.length;){var Ne=Math.min(65535,We.length-Qe);if(Ne<10){for(ze=Qt(Le,ze,+(Qe+Ne==We.length)),ze&7&&(ze+=8-(ze&7)),Le.l=ze/8|0,Le.write_shift(2,Ne),Le.write_shift(2,~Ne&65535);Ne-- >0;)Le[Le.l++]=We[Qe++];ze=Le.l*8;continue}ze=Qt(Le,ze,+(Qe+Ne==We.length)+2);for(var Ve=0;Ne-- >0;){var et=We[Qe];Ve=(Ve<<5^et)&32767;var Ot=-1,Tt=0;if((Ot=Oe[Ve])&&(Ot|=Qe&-32768,Ot>Qe&&(Ot-=32768),Ot<Qe))for(;We[Ot+Tt]==We[Qe+Tt]&&Tt<250;)++Tt;if(Tt>2){et=we[Tt],et<=22?ze=Or(Le,ze,Pe[et+1]>>1)-1:(Or(Le,ze,3),ze+=5,Or(Le,ze,Pe[et-23]>>5),ze+=3);var yr=et<8?0:et-4>>2;yr>0&&(kr(Le,ze,Tt-ye[et]),ze+=yr),et=ve[Qe-Ot],ze=Or(Le,ze,Pe[et]>>3),ze-=3;var Pr=et<4?0:et-2>>1;Pr>0&&(kr(Le,ze,Qe-Ot-ke[et]),ze+=Pr);for(var pn=0;pn<Tt;++pn)Oe[Ve]=Qe&32767,Ve=(Ve<<5^We[Qe])&32767,++Qe;Ne-=Tt-1}else et<=143?et=et+48:ze=gr(Le,ze,1),ze=Or(Le,ze,Pe[et]),Oe[Ve]=Qe&32767,++Qe}ze=Or(Le,ze,0)-1}return Le.l=(ze+7)/8|0,Le.l}return function(Le,ze){return Le.length<8?_e(Le,ze):je(Le,ze)}})();function kt(fe){var ve=Oi(50+Math.floor(fe.length*1.1)),pe=cr(fe,ve);return ve.slice(0,pe)}var Nt=De?new Uint16Array(32768):st(32768),dr=De?new Uint16Array(32768):st(32768),pr=De?new Uint16Array(128):st(128),Lr=1,Kr=1;function Li(fe,ve){var pe=Ye(fe,ve)+257;ve+=5;var xe=Ye(fe,ve)+1;ve+=5;var we=He(fe,ve)+4;ve+=4;for(var _e=0,je=De?new Uint8Array(19):st(19),We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,ze=De?new Uint8Array(8):st(8),Qe=De?new Uint8Array(8):st(8),Oe=je.length,Ne=0;Ne<we;++Ne)je[ce[Ne]]=_e=Be(fe,ve),Le<_e&&(Le=_e),ze[_e]++,ve+=3;var Ve=0;for(ze[0]=0,Ne=1;Ne<=Le;++Ne)Qe[Ne]=Ve=Ve+ze[Ne-1]<<1;for(Ne=0;Ne<Oe;++Ne)(Ve=je[Ne])!=0&&(We[Ne]=Qe[Ve]++);var et=0;for(Ne=0;Ne<Oe;++Ne)if(et=je[Ne],et!=0){Ve=Pe[We[Ne]]>>8-et;for(var Ot=(1<<7-et)-1;Ot>=0;--Ot)pr[Ve|Ot<<et]=et&7|Ne<<3}var Tt=[];for(Le=1;Tt.length<pe+xe;)switch(Ve=pr[Ze(fe,ve)],ve+=Ve&7,Ve>>>=3){case 16:for(_e=3+Re(fe,ve),ve+=2,Ve=Tt[Tt.length-1];_e-- >0;)Tt.push(Ve);break;case 17:for(_e=3+Be(fe,ve),ve+=3;_e-- >0;)Tt.push(0);break;case 18:for(_e=11+Ze(fe,ve),ve+=7;_e-- >0;)Tt.push(0);break;default:Tt.push(Ve),Le<Ve&&(Le=Ve);break}var yr=Tt.slice(0,pe),Pr=Tt.slice(pe);for(Ne=pe;Ne<286;++Ne)yr[Ne]=0;for(Ne=xe;Ne<30;++Ne)Pr[Ne]=0;return Lr=xt(yr,Nt,286),Kr=xt(Pr,dr,30),ve}function zi(fe,ve){if(fe[0]==3&&!(fe[1]&3))return[mh(ve),2];for(var pe=0,xe=0,we=Sz(ve||1<<18),_e=0,je=we.length>>>0,We=0,Le=0;(xe&1)==0;){if(xe=Be(fe,pe),pe+=3,xe>>>1)xe>>1==1?(We=9,Le=5):(pe=Li(fe,pe),We=Lr,Le=Kr);else{pe&7&&(pe+=8-(pe&7));var ze=fe[pe>>>3]|fe[(pe>>>3)+1]<<8;if(pe+=32,ze>0)for(!ve&&je<_e+ze&&(we=lt(we,_e+ze),je=we.length);ze-- >0;)we[_e++]=fe[pe>>>3],pe+=8;continue}for(;;){!ve&&je<_e+32767&&(we=lt(we,_e+32767),je=we.length);var Qe=Ge(fe,pe,We),Oe=xe>>>1==1?tt[Qe]:Nt[Qe];if(pe+=Oe&15,Oe>>>=4,(Oe>>>8&255)===0)we[_e++]=Oe;else{if(Oe==256)break;Oe-=257;var Ne=Oe<8?0:Oe-4>>2;Ne>5&&(Ne=0);var Ve=_e+ye[Oe];Ne>0&&(Ve+=Ge(fe,pe,Ne),pe+=Ne),Qe=Ge(fe,pe,Le),Oe=xe>>>1==1?Ct[Qe]:dr[Qe],pe+=Oe&15,Oe>>>=4;var et=Oe<4?0:Oe-2>>1,Ot=ke[Oe];for(et>0&&(Ot+=Ge(fe,pe,et),pe+=et),!ve&&je<Ve&&(we=lt(we,Ve+100),je=we.length);_e<Ve;)we[_e]=we[_e-Ot],++_e}}}return ve?[we,pe+7>>>3]:[we.slice(0,_e),pe+7>>>3]}function Ai(fe,ve){var pe=fe.slice(fe.l||0),xe=zi(pe,ve);return fe.l+=xe[1],xe[0]}function yo(fe,ve){if(fe)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function Wn(fe,ve){var pe=fe;Hi(pe,0);var xe=[],we=[],_e={FileIndex:xe,FullPaths:we};M(_e,{root:ve.root});for(var je=pe.length-4;(pe[je]!=80||pe[je+1]!=75||pe[je+2]!=5||pe[je+3]!=6)&&je>=0;)--je;pe.l=je+4,pe.l+=4;var We=pe.read_shift(2);pe.l+=6;var Le=pe.read_shift(4);for(pe.l=Le,je=0;je<We;++je){pe.l+=20;var ze=pe.read_shift(4),Qe=pe.read_shift(4),Oe=pe.read_shift(2),Ne=pe.read_shift(2),Ve=pe.read_shift(2);pe.l+=8;var et=pe.read_shift(4),Ot=c(pe.slice(pe.l+Oe,pe.l+Oe+Ne));pe.l+=Oe+Ne+Ve;var Tt=pe.l;pe.l=et+4,Cn(pe,ze,Qe,_e,Ot),pe.l=Tt}return _e}function Cn(fe,ve,pe,xe,we){fe.l+=2;var _e=fe.read_shift(2),je=fe.read_shift(2),We=l(fe);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Le=fe.read_shift(4),ze=fe.read_shift(4),Qe=fe.read_shift(4),Oe=fe.read_shift(2),Ne=fe.read_shift(2),Ve="",et=0;et<Oe;++et)Ve+=String.fromCharCode(fe[fe.l++]);if(Ne){var Ot=c(fe.slice(fe.l,fe.l+Ne));(Ot[21589]||{}).mt&&(We=Ot[21589].mt),((we||{})[21589]||{}).mt&&(We=we[21589].mt)}fe.l+=Ne;var Tt=fe.slice(fe.l,fe.l+ze);switch(je){case 8:Tt=ae(fe,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+je)}var yr=!1;_e&8&&(Le=fe.read_shift(4),Le==134695760&&(Le=fe.read_shift(4),yr=!0),ze=fe.read_shift(4),Qe=fe.read_shift(4)),ze!=ve&&yo(yr,"Bad compressed size: "+ve+" != "+ze),Qe!=pe&&yo(yr,"Bad uncompressed size: "+pe+" != "+Qe),qr(xe,Ve,Tt,{unsafe:!0,mt:We})}function Fn(fe,ve){var pe=ve||{},xe=[],we=[],_e=Oi(1),je=pe.compression?8:0,We=0,Le=0,ze=0,Qe=0,Oe=0,Ne=fe.FullPaths[0],Ve=Ne,et=fe.FileIndex[0],Ot=[],Tt=0;for(Le=1;Le<fe.FullPaths.length;++Le)if(Ve=fe.FullPaths[Le].slice(Ne.length),et=fe.FileIndex[Le],!(!et.size||!et.content||Ve=="Sh33tJ5")){var yr=Qe,Pr=Oi(Ve.length);for(ze=0;ze<Ve.length;++ze)Pr.write_shift(1,Ve.charCodeAt(ze)&127);Pr=Pr.slice(0,Pr.l),Ot[Oe]=OVe.buf(et.content,0);var pn=et.content;je==8&&(pn=K(pn)),_e=Oi(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,We),_e.write_shift(2,je),et.mt?a(_e,et.mt):_e.write_shift(4,0),_e.write_shift(-4,Ot[Oe]),_e.write_shift(4,pn.length),_e.write_shift(4,et.content.length),_e.write_shift(2,Pr.length),_e.write_shift(2,0),Qe+=_e.length,xe.push(_e),Qe+=Pr.length,xe.push(Pr),Qe+=pn.length,xe.push(pn),_e=Oi(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,We),_e.write_shift(2,je),_e.write_shift(4,0),_e.write_shift(-4,Ot[Oe]),_e.write_shift(4,pn.length),_e.write_shift(4,et.content.length),_e.write_shift(2,Pr.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,yr),Tt+=_e.l,we.push(_e),Tt+=Pr.length,we.push(Pr),++Oe}return _e=Oi(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,Oe),_e.write_shift(2,Oe),_e.write_shift(4,Tt),_e.write_shift(4,Qe),_e.write_shift(2,0),Id([Id(xe),Id(we),_e])}var Je={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function _t(fe,ve){if(fe.ctype)return fe.ctype;var pe=fe.name||"",xe=pe.match(/\.([^\.]+)$/);return xe&&Je[xe[1]]||ve&&(xe=(pe=ve).match(/[\.\\]([^\.\\])+$/),xe&&Je[xe[1]])?Je[xe[1]]:"application/octet-stream"}function zt(fe){for(var ve=Az(fe),pe=[],xe=0;xe<ve.length;xe+=76)pe.push(ve.slice(xe,xe+76));return pe.join(`\r
`)+`\r
`}function tr(fe){var ve=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var Qe=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],xe=ve.split(`\r
`),we=0;we<xe.length;++we){var _e=xe[we];if(_e.length==0){pe.push("");continue}for(var je=0;je<_e.length;){var We=76,Le=_e.slice(je,je+We);Le.charAt(We-1)=="="?We--:Le.charAt(We-2)=="="?We-=2:Le.charAt(We-3)=="="&&(We-=3),Le=_e.slice(je,je+We),je+=We,je<_e.length&&(Le+="="),pe.push(Le)}}return pe.join(`\r
`)}function dn(fe){for(var ve=[],pe=0;pe<fe.length;++pe){for(var xe=fe[pe];pe<=fe.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+fe[++pe];ve.push(xe)}for(var we=0;we<ve.length;++we)ve[we]=ve[we].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return qo(ve.join(`\r
`))}function Js(fe,ve,pe){for(var xe="",we="",_e="",je,We=0;We<10;++We){var Le=ve[We];if(!Le||Le.match(/^\s*$/))break;var ze=Le.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":xe=ze[2].trim();break;case"content-type":_e=ze[2].trim();break;case"content-transfer-encoding":we=ze[2].trim();break}}switch(++We,we.toLowerCase()){case"base64":je=qo(ja(ve.slice(We).join("")));break;case"quoted-printable":je=dn(ve.slice(We));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var Qe=qr(fe,xe.slice(pe.length),je,{unsafe:!0});_e&&(Qe.ctype=_e)}function Si(fe,ve){if(ie(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=ve&&ve.root||"",xe=(Qr&&Buffer.isBuffer(fe)?fe.toString("binary"):ie(fe)).split(`\r
`),we=0,_e="";for(we=0;we<xe.length;++we)if(_e=xe[we],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),pe||(pe=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),_e.slice(0,pe.length)!=pe););var je=(xe[1]||"").match(/boundary="(.*?)"/);if(!je)throw new Error("MAD cannot find boundary");var We="--"+(je[1]||""),Le=[],ze=[],Qe={FileIndex:Le,FullPaths:ze};M(Qe);var Oe,Ne=0;for(we=0;we<xe.length;++we){var Ve=xe[we];Ve!==We&&Ve!==We+"--"||(Ne++&&Js(Qe,xe.slice(Oe,we),pe),Oe=we)}return Qe}function wo(fe,ve){var pe=ve||{},xe=pe.boundary||"SheetJS";xe="------="+xe;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],_e=fe.FullPaths[0],je=_e,We=fe.FileIndex[0],Le=1;Le<fe.FullPaths.length;++Le)if(je=fe.FullPaths[Le].slice(_e.length),We=fe.FileIndex[Le],!(!We.size||!We.content||je=="Sh33tJ5")){je=je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var ze=We.content,Qe=Qr&&Buffer.isBuffer(ze)?ze.toString("binary"):ie(ze),Oe=0,Ne=Math.min(1024,Qe.length),Ve=0,et=0;et<=Ne;++et)(Ve=Qe.charCodeAt(et))>=32&&Ve<128&&++Oe;var Ot=Oe>=Ne*4/5;we.push(xe),we.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+je),we.push("Content-Transfer-Encoding: "+(Ot?"quoted-printable":"base64")),we.push("Content-Type: "+_t(We,je)),we.push(""),we.push(Ot?tr(Qe):zt(Qe))}return we.push(xe+`--\r
`),we.join(`\r
`)}function rc(fe){var ve={};return M(ve,fe),ve}function qr(fe,ve,pe,xe){var we=xe&&xe.unsafe;we||M(fe);var _e=!we&&Rr.find(fe,ve);if(!_e){var je=fe.FullPaths[0];ve.slice(0,je.length)==je?je=ve:(je.slice(-1)!="/"&&(je+="/"),je=(je+ve).replace("//","/")),_e={name:s(ve),type:2},fe.FileIndex.push(_e),fe.FullPaths.push(je),we||Rr.utils.cfb_gc(fe)}return _e.content=pe,_e.size=pe?pe.length:0,xe&&(xe.CLSID&&(_e.clsid=xe.CLSID),xe.mt&&(_e.mt=xe.mt),xe.ct&&(_e.ct=xe.ct)),_e}function ea(fe,ve){M(fe);var pe=Rr.find(fe,ve);if(pe){for(var xe=0;xe<fe.FileIndex.length;++xe)if(fe.FileIndex[xe]==pe)return fe.FileIndex.splice(xe,1),fe.FullPaths.splice(xe,1),!0}return!1}function Yn(fe,ve,pe){M(fe);var xe=Rr.find(fe,ve);if(xe){for(var we=0;we<fe.FileIndex.length;++we)if(fe.FileIndex[we]==xe)return fe.FileIndex[we].name=s(pe),fe.FullPaths[we]=pe,!0}return!1}function ss(fe){j(fe,!0)}return e.find=X,e.read=R,e.parse=p,e.write=be,e.writeFile=oe,e.utils={cfb_new:rc,cfb_add:qr,cfb_del:ea,cfb_mov:Yn,cfb_gc:ss,ReadShift:xO,CheckField:Wie,prep_blob:Hi,bconcat:Id,use_zlib:re,_deflateRaw:kt,_inflateRaw:Ai,consts:J},e})();function xVe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Vl(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function D8(t){for(var e=[],r=Vl(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var lC=new Date(1899,11,30,0,0,0);function Gs(t,e){var r=t.getTime(),n=lC.getTime()+(t.getTimezoneOffset()-lC.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Aie=new Date,bVe=lC.getTime()+(Aie.getTimezoneOffset()-lC.getTimezoneOffset())*6e4,Rz=Aie.getTimezoneOffset();function CA(t){var e=new Date;return e.setTime(t*24*60*60*1e3+bVe),e.getTimezoneOffset()!==Rz&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Rz)*6e4),e}function kVe(t){var e=0,r=0,n=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(r=1,a>3&&(n=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(s[a],10)}return e}var Nz=new Date("2017-02-19T19:06:09.000Z"),Sie=isNaN(Nz.getFullYear())?new Date("2/19/17"):Nz,yVe=Sie.getFullYear()==2017;function Ni(t,e){var r=new Date(t);if(yVe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Sie.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Fu(t,e){if(Qr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return H1(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return H1(fie(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return H1(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return H1(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function ns(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ns(t[r]));return e}function Un(t,e){for(var r="";r.length<e;)r+=t;return r}function nl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var wVe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ag(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&wVe.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var vVe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,s){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],c=1;c<a.length;++c)l.push(s),l.push(a[c]);return l}})();function Tie(t){return t?t.content&&t.type?Fu(t.content,!0):t.data?Y1(t.data):t.asNodeBuffer&&Qr?Y1(t.asNodeBuffer().toString("binary")):t.asBinary?Y1(t.asBinary()):t._data&&t._data.getContent?Y1(Fu(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Eie(t){if(!t)return null;if(t.data)return _z(t.data);if(t.asNodeBuffer&&Qr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?_z(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function _Ve(t){return t&&t.name.slice(-4)===".bin"?Eie(t):Tie(t)}function Ka(t,e){for(var r=t.FullPaths||Vl(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||s==l)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function Q8(t,e){var r=Ka(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function ci(t,e,r){if(!r)return _Ve(Q8(t,e));if(!e)return null;try{return ci(t,e)}catch{return null}}function Qa(t,e,r){if(!r)return Tie(Q8(t,e));if(!e)return null;try{return Qa(t,e)}catch{return null}}function CVe(t,e,r){return Eie(Q8(t,e))}function Bz(t){for(var e=t.FullPaths||Vl(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function AVe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Qr?n=Gu(r):n=UXe(r),Rr.utils.cfb_add(t,e,n)}Rr.utils.cfb_add(t,e,r)}else t.file(e,r)}function Pie(t,e){switch(e.type){case"base64":return Rr.read(t,{type:"base64"});case"binary":return Rr.read(t,{type:"binary"});case"buffer":case"array":return Rr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function G1(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var s=n.shift();s===".."?r.pop():s!=="."&&r.push(s)}return r.join("/")}var Die=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,SVe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Iz=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,TVe=/<[^>]*>/g,Ts=Die.match(Iz)?Iz:TVe,EVe=/<\w*:/,PVe=/<(\/?)\w+:/;function or(t,e,r){for(var n={},s=0,a=0;s!==t.length&&!((a=t.charCodeAt(s))===32||a===10||a===13);++s);if(e||(n[0]=t.slice(0,s)),s===t.length)return n;var l=t.match(SVe),c=0,h="",f=0,p="",O="",x=1;if(l)for(f=0;f!=l.length;++f){for(O=l[f],a=0;a!=O.length&&O.charCodeAt(a)!==61;++a);for(p=O.slice(0,a).trim();O.charCodeAt(a+1)==32;)++a;for(x=(s=O.charCodeAt(a+1))==34||s==39?1:0,h=O.slice(a+1+x,O.length-x),c=0;c!=p.length&&p.charCodeAt(c)!==58;++c);if(c===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),n[p]=h,n[p.toLowerCase()]=h;else{var k=(c===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(c+1);if(n[k]&&p.slice(c-3,c)=="ext")continue;n[k]=h,n[k.toLowerCase()]=h}}return n}function ec(t){return t.replace(PVe,"<$1")}var Qie={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},DVe=D8(Qie),jr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var s=n+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(t,function(c,h){return Qie[c]||String.fromCharCode(parseInt(h,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,h){return String.fromCharCode(parseInt(h,16))});var l=s.indexOf("]]>");return r(s.slice(0,a))+s.slice(a+9,l)+r(s.slice(l+3))}})(),QVe=/[&<>'"]/g,$Ve=/[\u0000-\u001f]/g;function $8(t){var e=t+"";return e.replace(QVe,function(r){return DVe[r]}).replace(/\n/g,"<br/>").replace($Ve,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var jz=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function En(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function D3(t){for(var e="",r=0,n=0,s=0,a=0,l=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}l=t.charCodeAt(r++),c=((n&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Fz(t){var e=mh(2*t.length),r,n,s=1,a=0,l=0,c;for(n=0;n<t.length;n+=s)s=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),s=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function Lz(t){return Gu(t,"binary").toString("utf8")}var gv="foo bar baz",fn=Qr&&(Lz(gv)==D3(gv)&&Lz||Fz(gv)==D3(gv)&&Fz)||D3,H1=Qr?function(t){return Gu(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},fx=(function(){var t={};return function(r,n){var s=r+"|"+(n||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),$ie=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),MVe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),RVe=/<\/?(?:vt:)?variant>/g,NVe=/<(?:vt:)([^>]*)>([\s\S]*)</;function zz(t,e){var r=or(t),n=t.match(MVe(r.baseType))||[],s=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(a){var l=a.replace(RVe,"").match(NVe);l&&s.push({v:fn(l[2]),t:l[1]})}),s}var BVe=/(^\s|\s$|\n)/;function IVe(t){return Vl(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function jVe(t,e,r){return"<"+t+(r!=null?IVe(r):"")+(e!=null?(e.match(BVe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function M8(t){if(Qr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return fn(Hu(T8(t)));throw new Error("Bad input format: expected Buffer or string")}var gx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,FVe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},LVe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function zVe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function XVe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,l=n?-e:e;isFinite(l)?l==0?s=a=0:(s=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var c=0;c<=5;++c,a/=256)t[r+c]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var Xz=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},Vz=Qr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Gu(e)})):Xz(t)}:Xz,Uz=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Nc(t,s)));return n.join("").replace(qs,"")},R8=Qr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(qs,""):Uz(t,e,r)}:Uz,qz=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},Mie=Qr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):qz(t,e,r)}:qz,Wz=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(G0(t,s)));return n.join("")},Kx=Qr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Wz(e,r,n)}:Wz,Rie=function(t,e){var r=Pa(t,e);return r>0?Kx(t,e+4,e+4+r-1):""},Nie=Rie,Bie=function(t,e){var r=Pa(t,e);return r>0?Kx(t,e+4,e+4+r-1):""},Iie=Bie,jie=function(t,e){var r=2*Pa(t,e);return r>0?Kx(t,e+4,e+4+r-1):""},Fie=jie,Lie=function(e,r){var n=Pa(e,r);return n>0?R8(e,r+4,r+4+n):""},zie=Lie,Xie=function(t,e){var r=Pa(t,e);return r>0?Kx(t,e+4,e+4+r):""},Vie=Xie,Uie=function(t,e){return zVe(t,e)},cC=Uie,qie=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Qr&&(Nie=function(e,r){if(!Buffer.isBuffer(e))return Rie(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Iie=function(e,r){if(!Buffer.isBuffer(e))return Bie(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Fie=function(e,r){if(!Buffer.isBuffer(e))return jie(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},zie=function(e,r){if(!Buffer.isBuffer(e))return Lie(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},Vie=function(e,r){if(!Buffer.isBuffer(e))return Xie(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},cC=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Uie(e,r)},qie=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var G0=function(t,e){return t[e]},Nc=function(t,e){return t[e+1]*256+t[e]},VVe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Pa=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ou=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},UVe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function xO(t,e){var r="",n,s,a=[],l,c,h,f;switch(e){case"dbcs":if(f=this.l,Qr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(Nc(this,f)),f+=2;t*=2;break;case"utf8":r=Kx(this,this.l,this.l+t);break;case"utf16le":t*=2,r=R8(this,this.l,this.l+t);break;case"wstr":return xO.call(this,t,"dbcs");case"lpstr-ansi":r=Nie(this,this.l),t=4+Pa(this,this.l);break;case"lpstr-cp":r=Iie(this,this.l),t=4+Pa(this,this.l);break;case"lpwstr":r=Fie(this,this.l),t=4+2*Pa(this,this.l);break;case"lpp4":t=4+Pa(this,this.l),r=zie(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Pa(this,this.l),r=Vie(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=G0(this,this.l+t++))!==0;)a.push(fv(l));r=a.join("");break;case"_wstr":for(t=0,r="";(l=Nc(this,this.l+t))!==0;)a.push(fv(l)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",f=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=G0(this,f),this.l=f+1,c=xO.call(this,t-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(fv(Nc(this,f))),f+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return l=G0(this,f),this.l=f+1,c=xO.call(this,t-h,l?"dbcs-cont":"sbcs-cont"),a.join("")+c;a.push(fv(G0(this,f))),f+=1}r=a.join("");break;default:switch(t){case 1:return n=G0(this,this.l),this.l++,n;case 2:return n=(e==="i"?VVe:Nc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?ou:UVe)(this,this.l),this.l+=4,n):(s=Pa(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=cC(this,this.l):s=cC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=Mie(this,this.l,t);break}}return this.l+=t,r}var qVe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},WVe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},YVe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function ZVe(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)YVe(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,qVe(this,e,this.l);break;case 8:if(n=8,r==="f"){XVe(this,e,this.l);break}case 16:break;case-4:n=4,WVe(this,e,this.l);break}return this.l+=n,this}function Wie(t,e){var r=Mie(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Hi(t,e){t.l=e,t.read_shift=xO,t.chk=Wie,t.write_shift=ZVe}function _s(t,e){t.l+=e}function Oi(t){var e=mh(t);return Hi(e,0),e}function dd(t,e,r){if(t){var n,s,a;Hi(t,t.l||0);for(var l=t.length,c=0,h=0;t.l<l;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var f=pC[c]||pC[65535];for(n=t.read_shift(1),a=n&127,s=1;s<4&&n&128;++s)a+=((n=t.read_shift(1))&127)<<7*s;h=t.l+a;var p=f.f&&f.f(t,a,r);if(t.l=h,e(p,f,c))return}}}function v6(){var t=[],e=Qr?256:2048,r=function(f){var p=Oi(f);return Hi(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,e)))},l=function(){return s(),Id(t)},c=function(f){s(),n=f,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:c,end:l,_bufs:t}}function bO(t,e,r){var n=ns(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Yz(t,e,r){var n=ns(t);return n.s=bO(n.s,e.s,r),n.e=bO(n.e,e.s,r),n}function kO(t,e){if(t.cRel&&t.c<0)for(t=ns(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ns(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=fr(t);return!t.cRel&&t.cRel!=null&&(r=KVe(r)),!t.rRel&&t.rRel!=null&&(r=GVe(r)),r}function Q3(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+wi(t.s.c)+":"+(t.e.cRel?"":"$")+wi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+is(t.s.r)+":"+(t.e.rRel?"":"$")+is(t.e.r):kO(t.s,e.biff)+":"+kO(t.e,e.biff)}function N8(t){return parseInt(HVe(t),10)-1}function is(t){return""+(t+1)}function GVe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function HVe(t){return t.replace(/\$(\d+)$/,"$1")}function B8(t){for(var e=JVe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function wi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function KVe(t){return t.replace(/^([A-Z])/,"$$$1")}function JVe(t){return t.replace(/^\$([A-Z])/,"$1")}function eUe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xs(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function fr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Sg(t){var e=t.indexOf(":");return e==-1?{s:Xs(t),e:Xs(t)}:{s:Xs(t.slice(0,e)),e:Xs(t.slice(e+1))}}function Br(t,e){return typeof e>"u"||typeof e=="number"?Br(t.s,t.e):(typeof t!="string"&&(t=fr(t)),typeof e!="string"&&(e=fr(e)),t==e?t:t+":"+e)}function qn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function Zz(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Oo(t.z,r?Gs(e):e)}catch{}try{return t.w=Oo((t.XF||{}).numFmtId||(r?14:0),r?Gs(e):e)}catch{return""+e}}function nd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?e0[t.v]||t.v:e==null?Zz(t,t.v):Zz(t,e))}function $h(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Yie(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),l=0,c=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?Xs(n.origin):n.origin;l=h.r,c=h.c}a["!ref"]||(a["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=qn(a["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var O=0;O!=e.length;++O)if(e[O]){if(!Array.isArray(e[O]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[O].length;++x)if(!(typeof e[O][x]>"u")){var k={v:e[O][x]},w=l+O,_=c+x;if(f.s.r>w&&(f.s.r=w),f.s.c>_&&(f.s.c=_),f.e.r<w&&(f.e.r=w),f.e.c<_&&(f.e.c=_),e[O][x]&&typeof e[O][x]=="object"&&!Array.isArray(e[O][x])&&!(e[O][x]instanceof Date))k=e[O][x];else if(Array.isArray(k.v)&&(k.f=e[O][x][1],k.v=k.v[0]),k.v===null)if(k.f)k.t="n";else if(n.nullError)k.t="e",k.v=0;else if(n.sheetStubs)k.t="z";else continue;else typeof k.v=="number"?k.t="n":typeof k.v=="boolean"?k.t="b":k.v instanceof Date?(k.z=n.dateNF||mr[14],n.cellDates?(k.t="d",k.w=Oo(k.z,Gs(k.v))):(k.t="n",k.v=Gs(k.v),k.w=Oo(k.z,k.v))):k.t="s";if(s)a[w]||(a[w]=[]),a[w][_]&&a[w][_].z&&(k.z=a[w][_].z),a[w][_]=k;else{var C=fr({c:_,r:w});a[C]&&a[C].z&&(k.z=a[C].z),a[C]=k}}}return f.s.c<1e7&&(a["!ref"]=Br(f)),a}function Tg(t,e){return Yie(null,t,e)}function tUe(t){return t.read_shift(4,"i")}function vs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function rUe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function I8(t,e){var r=t.l,n=t.read_shift(1),s=vs(t),a=[],l={t:s,h:s};if((n&1)!==0){for(var c=t.read_shift(4),h=0;h!=c;++h)a.push(rUe(t));l.r=a}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}var nUe=I8;function ko(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Ku(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var iUe=vs;function j8(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var sUe=vs,_6=j8;function F8(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?cC([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ou(e,0)>>2;return r?s/100:s}function Zie(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Ju=Zie;function ms(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function aUe(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),h=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var f=yu[s];f&&(e.rgb=mx(f));break;case 2:e.rgb=mx([l,c,h]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function oUe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function Gie(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function lUe(t){return Gie(t,1)}function cUe(t){return Gie(t,2)}var L8=2,aa=3,pv=11,Gz=12,dC=19,mv=64,dUe=65,hUe=71,uUe=4108,fUe=4126,Qi=80,Hie=81,gUe=[Qi,Hie],pUe={1:{n:"CodePage",t:L8},2:{n:"Category",t:Qi},3:{n:"PresentationFormat",t:Qi},4:{n:"ByteCount",t:aa},5:{n:"LineCount",t:aa},6:{n:"ParagraphCount",t:aa},7:{n:"SlideCount",t:aa},8:{n:"NoteCount",t:aa},9:{n:"HiddenCount",t:aa},10:{n:"MultimediaClipCount",t:aa},11:{n:"ScaleCrop",t:pv},12:{n:"HeadingPairs",t:uUe},13:{n:"TitlesOfParts",t:fUe},14:{n:"Manager",t:Qi},15:{n:"Company",t:Qi},16:{n:"LinksUpToDate",t:pv},17:{n:"CharacterCount",t:aa},19:{n:"SharedDoc",t:pv},22:{n:"HyperlinksChanged",t:pv},23:{n:"AppVersion",t:aa,p:"version"},24:{n:"DigSig",t:dUe},26:{n:"ContentType",t:Qi},27:{n:"ContentStatus",t:Qi},28:{n:"Language",t:Qi},29:{n:"Version",t:Qi},255:{},2147483648:{n:"Locale",t:dC},2147483651:{n:"Behavior",t:dC},1919054434:{}},mUe={1:{n:"CodePage",t:L8},2:{n:"Title",t:Qi},3:{n:"Subject",t:Qi},4:{n:"Author",t:Qi},5:{n:"Keywords",t:Qi},6:{n:"Comments",t:Qi},7:{n:"Template",t:Qi},8:{n:"LastAuthor",t:Qi},9:{n:"RevNumber",t:Qi},10:{n:"EditTime",t:mv},11:{n:"LastPrinted",t:mv},12:{n:"CreatedDate",t:mv},13:{n:"ModifiedDate",t:mv},14:{n:"PageCount",t:aa},15:{n:"WordCount",t:aa},16:{n:"CharCount",t:aa},17:{n:"Thumbnail",t:hUe},18:{n:"Application",t:Qi},19:{n:"DocSecurity",t:aa},255:{},2147483648:{n:"Locale",t:dC},2147483651:{n:"Behavior",t:dC},1919054434:{}},Hz={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},OUe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function xUe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var bUe=xUe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yu=ns(bUe),e0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Kie={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Kz={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function kUe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yUe(t){var e=kUe();if(!t||!t.match)return e;var r={};if((t.match(Ts)||[]).forEach(function(n){var s=or(n);switch(s[0].replace(EVe,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[s.Extension]=s.ContentType;break;case"<Override":e[Kz[s.ContentType]]!==void 0&&e[Kz[s.ContentType]].push(s.PartName);break}}),e.xmlns!==FVe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var sf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function C6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function yO(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ts)||[]).forEach(function(s){var a=or(s);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var c=a.TargetMode==="External"?a.Target:G1(a.Target,e);r[c]=l,n[a.Id]=l}}),r["!id"]=n,r}var wUe="application/vnd.oasis.opendocument.spreadsheet";function vUe(t,e){for(var r=M8(t),n,s;n=gx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(s=or(n[0],!1),s.path=="/"&&s.type!==wUe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var wO=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],_Ue=(function(){for(var t=new Array(wO.length),e=0;e<wO.length;++e){var r=wO[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function Jie(t){var e={};t=fn(t);for(var r=0;r<wO.length;++r){var n=wO[r],s=t.match(_Ue[r]);s!=null&&s.length>0&&(e[n[1]]=jr(s[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ni(e[n[1]]))}return e}var CUe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function ese(t,e,r,n){var s=[];if(typeof t=="string")s=zz(t,n);else for(var a=0;a<t.length;++a)s=s.concat(t[a].map(function(p){return{v:p}}));var l=typeof e=="string"?zz(e,n).map(function(p){return p.v}):e,c=0,h=0;if(l.length>0)for(var f=0;f!==s.length;f+=2){switch(h=+s[f+1].v,s[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=h,r.SheetNames=l.slice(c,c+h);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=h,r.DefinedNames=l.slice(c,c+h);break;case"Charts":case"Diagramme":r.Chartsheets=h,r.ChartNames=l.slice(c,c+h);break}c+=h}}function AUe(t,e,r){var n={};return e||(e={}),t=fn(t),CUe.forEach(function(s){var a=(t.match(fx(s[0]))||[])[1];switch(s[2]){case"string":a&&(e[s[1]]=jr(a));break;case"bool":e[s[1]]=a==="true";break;case"raw":var l=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));l&&l.length>0&&(n[s[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&ese(n.HeadingPairs,n.TitlesOfParts,e,r),e}var SUe=/<[^>]+>[^<]*/g;function TUe(t,e){var r={},n="",s=t.match(SUe);if(s)for(var a=0;a!=s.length;++a){var l=s[a],c=or(l);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jr(c.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var h=l.split(">"),f=h[0].slice(4),p=h[1];switch(f){case"lpstr":case"bstr":case"lpwstr":r[n]=jr(p);break;case"bool":r[n]=En(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(p,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(p);break;case"filetime":case"date":r[n]=Ni(p);break;case"cy":case"error":r[n]=jr(p);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,h)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return r}var EUe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},$3;function PUe(t,e,r){$3||($3=D8(EUe)),e=$3[e]||e,t[e]=r}function z8(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function tse(t,e,r){var n=t.l,s=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return s}function rse(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function nse(t,e,r){return e===31?rse(t):tse(t,e,r)}function A6(t,e,r){return nse(t,e,r===!1?0:4)}function DUe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return nse(t,e,0)}function QUe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var s=t.l;r[n]=t.read_shift(0,"lpwstr").replace(qs,""),t.l-s&2&&(t.l+=2)}return r}function $Ue(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(qs,"");return r}function MUe(t){var e=t.l,r=hC(t,Hie);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=hC(t,aa);return[r,n]}function RUe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(MUe(t));return r}function Jz(t,e){for(var r=t.read_shift(4),n={},s=0;s!=r;++s){var a=t.read_shift(4),l=t.read_shift(4);n[a]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(qs,"").replace(Z1,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function ise(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function NUe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function hC(t,e,r){var n=t.read_shift(2),s,a=r||{};if(t.l+=2,e!==Gz&&n!==e&&gUe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Gz?n:e){case 2:return s=t.read_shift(2,"i"),a.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return tse(t,n,4).replace(qs,"");case 31:return rse(t);case 64:return z8(t);case 65:return ise(t);case 71:return NUe(t);case 80:return A6(t,n,!a.raw).replace(qs,"");case 81:return DUe(t,n).replace(qs,"");case 4108:return RUe(t);case 4126:case 4127:return n==4127?QUe(t):$Ue(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function eX(t,e){var r=t.l,n=t.read_shift(4),s=t.read_shift(4),a=[],l=0,c=0,h=-1,f={};for(l=0;l!=s;++l){var p=t.read_shift(4),O=t.read_shift(4);a[l]=[p,O+r]}a.sort(function(E,P){return E[1]-P[1]});var x={};for(l=0;l!=s;++l){if(t.l!==a[l][1]){var k=!0;if(l>0&&e)switch(e[a[l-1][0]].t){case 2:t.l+2===a[l][1]&&(t.l+=2,k=!1);break;case 80:t.l<=a[l][1]&&(t.l=a[l][1],k=!1);break;case 4108:t.l<=a[l][1]&&(t.l=a[l][1],k=!1);break}if((!e||l==0)&&t.l<=a[l][1]&&(k=!1,t.l=a[l][1]),k)throw new Error("Read Error: Expected address "+a[l][1]+" at "+t.l+" :"+l)}if(e){var w=e[a[l][0]];if(x[w.n]=hC(t,w.t,{raw:!0}),w.p==="version"&&(x[w.n]=String(x[w.n]>>16)+"."+("0000"+String(x[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(x[w.n]){case 0:x[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Yo(c=x[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[w.n])}}else if(a[l][0]===1){if(c=x.CodePage=hC(t,L8),Yo(c),h!==-1){var _=t.l;t.l=a[h][1],f=Jz(t,c),t.l=_}}else if(a[l][0]===0){if(c===0){h=l,t.l=a[l+1][1];continue}f=Jz(t,c)}else{var C=f[a[l][0]],T;switch(t[t.l]){case 65:t.l+=4,T=ise(t);break;case 30:t.l+=4,T=A6(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,T=A6(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,T=t.read_shift(4,"i");break;case 19:t.l+=4,T=t.read_shift(4);break;case 5:t.l+=4,T=t.read_shift(8,"f");break;case 11:t.l+=4,T=Gn(t,4);break;case 64:t.l+=4,T=Ni(z8(t));break;default:throw new Error("unparsed value: "+t[t.l])}x[C]=T}}return t.l=r+n,x}function tX(t,e,r){var n=t.content;if(!n)return{};Hi(n,0);var s,a,l,c,h=0;n.chk("feff","Byte Order: "),n.read_shift(2);var f=n.read_shift(4),p=n.read_shift(16);if(p!==Rr.utils.consts.HEADER_CLSID&&p!==r)throw new Error("Bad PropertySet CLSID "+p);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=n.read_shift(16),c=n.read_shift(4),s===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);s===2&&(l=n.read_shift(16),h=n.read_shift(4));var O=eX(n,e),x={SystemIdentifier:f};for(var k in O)x[k]=O[k];if(x.FMTID=a,s===1)return x;if(h-n.l==2&&(n.l+=2),n.l!==h)throw new Error("Length mismatch 2: "+n.l+" !== "+h);var w;try{w=eX(n,null)}catch{}for(k in w)x[k]=w[k];return x.FMTID=[a,l],x}function Dd(t,e){return t.read_shift(e),null}function BUe(t,e,r){for(var n=[],s=t.l+e;t.l<s;)n.push(r(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return n}function Gn(t,e){return t.read_shift(e)===1}function di(t){return t.read_shift(2,"u")}function sse(t,e){return BUe(t,e,di)}function IUe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Jx(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=n?t.read_shift(n,s):"";return l}function jUe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,s=r&8,a=1+(r&1),l=0,c,h={};s&&(l=t.read_shift(2)),n&&(c=t.read_shift(4));var f=a==2?"dbcs-cont":"sbcs-cont",p=e===0?"":t.read_shift(e,f);return s&&(t.l+=4*l),n&&(t.l+=c),h.t=p,s||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function Lu(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function eb(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Lu(t,n,r)}function t0(t,e,r){if(r.biff>5)return eb(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function FUe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function LUe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var s=t.read_shift((n?e-24:e)>>1,"utf16le").replace(qs,"");return n&&(t.l+=24),s}function zUe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(a>>1,"utf16le").replace(qs,"");return r+l}function XUe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return LUe(t);case"0303000000000000c000000000000046":return zUe(t);default:throw new Error("Unsupported Moniker "+r)}}function Ov(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(qs,""):"";return r}function VUe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=t.read_shift(2);t.l+=2;var a,l,c,h,f="",p,O;s&16&&(a=Ov(t,r-t.l)),s&128&&(l=Ov(t,r-t.l)),(s&257)===257&&(c=Ov(t,r-t.l)),(s&257)===1&&(h=XUe(t,r-t.l)),s&8&&(f=Ov(t,r-t.l)),s&32&&(p=t.read_shift(16)),s&64&&(O=z8(t)),t.l=r;var x=l||c||h||"";x&&f&&(x+="#"+f),x||(x="#"+f),s&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var k={Target:x};return p&&(k.guid=p),O&&(k.time=O),a&&(k.Tooltip=a),k}function ase(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),s=t.read_shift(1);return[e,r,n,s]}function ose(t,e){var r=ase(t);return r[3]=0,r}function tc(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function UUe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function qUe(t,e,r){return e===0?"":t0(t,e,r)}function WUe(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[s,a,l]}function lse(t){var e=t.read_shift(2),r=F8(t);return[e,r]}function YUe(t,e,r){t.l+=4,e-=4;var n=t.l+e,s=Jx(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,s}function AA(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function cse(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),s=t.read_shift(1);return{s:{c:n,r:e},e:{c:s,r}}}var ZUe=cse;function dse(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function GUe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function HUe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function cs(t){t.l+=2,t.l+=t.read_shift(2)}var KUe={0:cs,4:cs,5:cs,6:cs,7:HUe,8:cs,9:cs,10:cs,11:cs,12:cs,13:GUe,14:cs,15:cs,16:cs,17:cs,18:cs,19:cs,20:cs,21:dse};function JUe(t,e){for(var r=t.l+e,n=[];t.l<r;){var s=t.read_shift(2);t.l-=2;try{n.push(KUe[s](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function xv(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function eqe(t,e){return e===0||t.read_shift(2),1200}function tqe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,s=t0(t,0,r);return t.read_shift(e+n-t.l),s}function rqe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function nqe(t,e,r){var n=t.read_shift(4),s=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=Jx(t,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:s,dt:a,name:l}}function iqe(t,e){for(var r=t.l+e,n=t.read_shift(4),s=t.read_shift(4),a=[],l=0;l!=s&&t.l<r;++l)a.push(jUe(t));return a.Count=n,a.Unique=s,a}function sqe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function aqe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function oqe(t){var e=UUe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function lqe(t){return t.read_shift(2),t.read_shift(4)}function rX(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var s=t.read_shift(2);r&&r.biff==2&&(n=1-(s>>15),s&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,s]}function cqe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),h=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,r],Dim:[n,s],Flags:a,CurTab:l,FirstTab:c,Selected:h,TabRatio:f}}function dqe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function hqe(){}function uqe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Jx(t,0,r),n}function fqe(t){var e=tc(t);return e.isst=t.read_shift(4),e}function gqe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,s=tc(t);r.biff==2&&t.l++;var a=eb(t,n-t.l,r);return s.val=a,s}function pqe(t,e,r){var n=t.read_shift(2),s=t0(t,0,r);return[n,s]}var mqe=t0;function nX(t,e,r){var n=t.l+e,s=r.biff==8||!r.biff?4:2,a=t.read_shift(s),l=t.read_shift(s),c=t.read_shift(2),h=t.read_shift(2);return t.l=n,{s:{r:a,c},e:{r:l,c:h}}}function Oqe(t){var e=t.read_shift(2),r=t.read_shift(2),n=lse(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function xqe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),s=t.read_shift(2),a=[];t.l<r;)a.push(lse(t));if(t.l!==r)throw new Error("MulRK read error");var l=t.read_shift(2);if(a.length!=l-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:l,rkrec:a}}function bqe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),s=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var l=t.read_shift(2);if(a.length!=l-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:l,ixfe:a}}function kqe(t,e,r,n){var s={},a=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(4),h=t.read_shift(2);return s.patternType=OUe[c>>26],n.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=l&15,s.dgRight=l>>4&15,s.dgTop=l>>8&15,s.dgBottom=l>>12&15,s.icvLeft=l>>16&127,s.icvRight=l>>23&127,s.grbitDiag=l>>30&3,s.icvTop=c&127,s.icvBottom=c>>7&127,s.icvDiag=c>>14&127,s.dgDiag=c>>21&15,s.icvFore=h&127,s.icvBack=h>>7&127,s.fsxButton=h>>14&1),s}function yqe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=kqe(t,e,n.fStyle,r),n}function wqe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function iX(t,e,r){var n=tc(t);(r.biff==2||e==9)&&++t.l;var s=IUe(t);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function vqe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=tc(t),s=ms(t);return n.val=s,n}var sX=qUe;function _qe(t,e,r){var n=t.l+e,s=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=Lu(t,a),c=[];n>t.l;)c.push(eb(t));return[a,s,l,c]}function aX(t,e,r){var n=t.read_shift(2),s,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(s=YUe(t,e-2,r)),a.body=s||t.read_shift(e-2),typeof s=="string"&&(a.Name=s),a}var Cqe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function oX(t,e,r){var n=t.l+e,s=t.read_shift(2),a=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),h=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),h=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var f=Lu(t,l,r);s&32&&(f=Cqe[f.charCodeAt(0)]);var p=n-t.l;r&&r.biff==2&&--p;var O=n==t.l||c===0||!(p>0)?[]:aGe(t,p,r,c);return{chKey:a,Name:f,itab:h,rgce:O}}function hse(t,e,r){if(r.biff<8)return Aqe(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(WUe(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function Aqe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Jx(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Sqe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),s=t.read_shift(2),a=Lu(t,n,r),l=Lu(t,s,r);return[a,l]}function Tqe(t,e,r){var n=cse(t);t.l++;var s=t.read_shift(1);return e-=8,[oGe(t,e,r),s,n]}function lX(t,e,r){var n=ZUe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,iGe(t,e,r)]}function Eqe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function Pqe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),l=t.read_shift(2),c=t0(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:s},c,l,a]}}function Dqe(t,e,r){return Pqe(t,e,r)}function Qqe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(AA(t));return r}function $qe(t,e,r){if(r&&r.biff<8)return Rqe(t,e,r);var n=dse(t),s=JUe(t,e-22,n[1]);return{cmo:n,ft:s}}var Mqe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=r,{fmt:n}}};function Rqe(t,e,r){t.l+=4;var n=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((Mqe[n]||_s)(t,e,r)),{cmo:[s,n,a],ft:l}}function Nqe(t,e,r){var n=t.l,s="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:l=FUe(t,6,r);var c=t.read_shift(2);t.read_shift(2),di(t,2);var h=t.read_shift(2);t.l+=h;for(var f=1;f<t.lens.length-1;++f){if(t.l-n!=t.lens[f])throw new Error("TxO: bad continue record");var p=t[t.l],O=Lu(t,t.lens[f+1]-t.lens[f]-1);if(s+=O,s.length>=(p?c:2*c))break}if(s.length!==c&&s.length!==c*2)throw new Error("cchText: "+c+" != "+s.length);return t.l=n+e,{t:s}}catch{return t.l=n+e,{t:s}}}function Bqe(t,e){var r=AA(t);t.l+=16;var n=VUe(t,e-24);return[r,n]}function Iqe(t,e){t.read_shift(2);var r=AA(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(qs,""),[r,n]}function jqe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=Hz[r]||r,r=t.read_shift(2),e[1]=Hz[r]||r,e}function Fqe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(ose(t));return r}function Lqe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(ose(t));return r}function zqe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function use(t,e,r){if(!r.cellStyles)return _s(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(2);n==2&&(t.l+=2);var f={s,e:a,w:l,ixfe:c,flags:h};return(r.biff>=5||!r.biff)&&(f.level=h>>8&7),f}function Xqe(t,e){var r={};return e<32||(t.l+=16,r.header=ms(t),r.footer=ms(t),t.l+=2),r}function Vqe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var s=t.read_shift(1);return t.l+=3,s&16&&(n.area=!0),n}var Uqe=tc,qqe=sse,Wqe=eb;function Yqe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,s}function Zqe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=tc(t);++t.l;var s=t0(t,e-7,r);return n.t="str",n.val=s,n}function Gqe(t){var e=tc(t);++t.l;var r=ms(t);return e.t="n",e.val=r,e}function Hqe(t){var e=tc(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Kqe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Jqe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function eWe(t,e,r){var n=t.l+e,s=tc(t),a=t.read_shift(2),l=Lu(t,a,r);return t.l=n,s.t="str",s.val=l,s}var tWe=[2,3,48,49,131,139,140,245],cX=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=D8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,h){var f=[],p=mh(1);switch(h.type){case"base64":p=qo(ja(c));break;case"binary":p=qo(c);break;case"buffer":case"array":p=c;break}Hi(p,0);var O=p.read_shift(1),x=!!(O&136),k=!1,w=!1;switch(O){case 2:break;case 3:break;case 48:k=!0,x=!0;break;case 49:k=!0,x=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+O.toString(16))}var _=0,C=521;O==2&&(_=p.read_shift(2)),p.l+=3,O!=2&&(_=p.read_shift(4)),_>1048576&&(_=1e6),O!=2&&(C=p.read_shift(2));var T=p.read_shift(2),E=h.codepage||1252;O!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(E=t[p[p.l]]),p.l+=1,p.l+=2),w&&(p.l+=36);for(var P=[],Q={},B=Math.min(p.length,O==2?521:C-10-(k?264:0)),R=w?32:11;p.l<B&&p[p.l]!=13;)switch(Q={},Q.name=hx.utils.decode(E,p.slice(p.l,p.l+R)).replace(/[\u0000\r\n].*$/g,""),p.l+=R,Q.type=String.fromCharCode(p.read_shift(1)),O!=2&&!w&&(Q.offset=p.read_shift(4)),Q.len=p.read_shift(1),O==2&&(Q.offset=p.read_shift(2)),Q.dec=p.read_shift(1),Q.name.length&&P.push(Q),O!=2&&(p.l+=w?13:14),Q.type){case"B":(!k||Q.len!=8)&&h.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+Q.name+":"+Q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Q.type)}if(p[p.l]!==13&&(p.l=C-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=C;var M=0,I=0;for(f[0]=[],I=0;I!=P.length;++I)f[0][I]=P[I].name;for(;_-- >0;){if(p[p.l]===42){p.l+=T;continue}for(++p.l,f[++M]=[],I=0,I=0;I!=P.length;++I){var j=p.slice(p.l,p.l+P[I].len);p.l+=P[I].len,Hi(j,0);var z=hx.utils.decode(E,j);switch(P[I].type){case"C":z.trim().length&&(f[M][I]=z.replace(/\s+$/,""));break;case"D":z.length===8?f[M][I]=new Date(+z.slice(0,4),+z.slice(4,6)-1,+z.slice(6,8)):f[M][I]=z;break;case"F":f[M][I]=parseFloat(z.trim());break;case"+":case"I":f[M][I]=w?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(z.trim().toUpperCase()){case"Y":case"T":f[M][I]=!0;break;case"N":case"F":f[M][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+z+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+O.toString(16));f[M][I]="##MEMO##"+(w?parseInt(z.trim(),10):j.read_shift(4));break;case"N":z=z.replace(/\u0000/g,"").trim(),z&&z!="."&&(f[M][I]=+z||0);break;case"@":f[M][I]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":f[M][I]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":f[M][I]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[M][I]=-j.read_shift(-8,"f");break;case"B":if(k&&P[I].len==8){f[M][I]=j.read_shift(8,"f");break}case"G":case"P":j.l+=P[I].len;break;case"0":if(P[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[I].type)}}}if(O!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=P,f}function n(c,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var p=Tg(r(c,f),f);return p["!cols"]=f.DBF.map(function(O){return{wch:O.len,DBF:O}}),delete f.DBF,p}function s(c,h){try{return $h(n(c,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,h){var f=h||{};if(+f.codepage>=0&&Yo(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=v6(),O=$6(c,{header:1,raw:!0,cellDates:!0}),x=O[0],k=O.slice(1),w=c["!cols"]||[],_=0,C=0,T=0,E=1;for(_=0;_<x.length;++_){if(((w[_]||{}).DBF||{}).name){x[_]=w[_].DBF.name,++T;continue}if(x[_]!=null){if(++T,typeof x[_]=="number"&&(x[_]=x[_].toString(10)),typeof x[_]!="string")throw new Error("DBF Invalid column name "+x[_]+" |"+typeof x[_]+"|");if(x.indexOf(x[_])!==_){for(C=0;C<1024;++C)if(x.indexOf(x[_]+"_"+C)==-1){x[_]+="_"+C;break}}}}var P=qn(c["!ref"]),Q=[],B=[],R=[];for(_=0;_<=P.e.c-P.s.c;++_){var M="",I="",j=0,z=[];for(C=0;C<k.length;++C)k[C][_]!=null&&z.push(k[C][_]);if(z.length==0||x[_]==null){Q[_]="?";continue}for(C=0;C<z.length;++C){switch(typeof z[C]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=z[C]instanceof Date?"D":"C";break;default:I="C"}j=Math.max(j,String(z[C]).length),M=M&&M!=I?"C":I}j>250&&(j=250),I=((w[_]||{}).DBF||{}).type,I=="C"&&w[_].DBF.len>j&&(j=w[_].DBF.len),M=="B"&&I=="N"&&(M="N",R[_]=w[_].DBF.dec,j=w[_].DBF.len),B[_]=M=="C"||I=="N"?j:a[M]||0,E+=B[_],Q[_]=M}var X=p.next(32);for(X.write_shift(4,318902576),X.write_shift(4,k.length),X.write_shift(2,296+32*T),X.write_shift(2,E),_=0;_<4;++_)X.write_shift(4,0);for(X.write_shift(4,0|(+e[hie]||3)<<8),_=0,C=0;_<x.length;++_)if(x[_]!=null){var W=p.next(32),F=(x[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,F,"sbcs"),W.write_shift(1,Q[_]=="?"?"C":Q[_],"sbcs"),W.write_shift(4,C),W.write_shift(1,B[_]||a[Q[_]]||0),W.write_shift(1,R[_]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),C+=B[_]||a[Q[_]]||0}var V=p.next(264);for(V.write_shift(4,13),_=0;_<65;++_)V.write_shift(4,0);for(_=0;_<k.length;++_){var te=p.next(E);for(te.write_shift(1,0),C=0;C<x.length;++C)if(x[C]!=null)switch(Q[C]){case"L":te.write_shift(1,k[_][C]==null?63:k[_][C]?84:70);break;case"B":te.write_shift(8,k[_][C]||0,"f");break;case"N":var G="0";for(typeof k[_][C]=="number"&&(G=k[_][C].toFixed(R[C]||0)),T=0;T<B[C]-G.length;++T)te.write_shift(1,32);te.write_shift(1,G,"sbcs");break;case"D":k[_][C]?(te.write_shift(4,("0000"+k[_][C].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(k[_][C].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+k[_][C].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var J=String(k[_][C]!=null?k[_][C]:"").slice(0,B[C]);for(te.write_shift(1,J,"sbcs"),T=0;T<B[C]-J.length;++T)te.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:l}})(),rWe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Vl(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,k){var w=t[k];return typeof w=="number"?Cz(w):w},n=function(x,k,w){var _=k.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return _==59?x:Cz(_)};t["|"]=254;function s(x,k){switch(k.type){case"base64":return a(ja(x),k);case"binary":return a(x,k);case"buffer":return a(Qr&&Buffer.isBuffer(x)?x.toString("binary"):Hu(x),k);case"array":return a(Fu(x),k)}throw new Error("Unrecognized type "+k.type)}function a(x,k){var w=x.split(/[\n\r]+/),_=-1,C=-1,T=0,E=0,P=[],Q=[],B=null,R={},M=[],I=[],j=[],z=0,X;for(+k.codepage>=0&&Yo(+k.codepage);T!==w.length;++T){z=0;var W=w[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),F=W.replace(/;;/g,"\0").split(";").map(function(ce){return ce.replace(/\u0000/g,";")}),V=F[0],te;if(W.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&Q.push(W.slice(3).replace(/;;/g,";"));break;case"C":var G=!1,J=!1,oe=!1,ie=!1,be=-1,he=-1;for(E=1;E<F.length;++E)switch(F[E].charAt(0)){case"A":break;case"X":C=parseInt(F[E].slice(1))-1,J=!0;break;case"Y":for(_=parseInt(F[E].slice(1))-1,J||(C=0),X=P.length;X<=_;++X)P[X]=[];break;case"K":te=F[E].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(nl(te))?isNaN(ag(te).getDate())||(te=Ni(te)):(te=nl(te),B!==null&&Ag(B)&&(te=CA(te))),G=!0;break;case"E":ie=!0;var re=_f(F[E].slice(1),{r:_,c:C});P[_][C]=[P[_][C],re];break;case"S":oe=!0,P[_][C]=[P[_][C],"S5S"];break;case"G":break;case"R":be=parseInt(F[E].slice(1))-1;break;case"C":he=parseInt(F[E].slice(1))-1;break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+W)}if(G&&(P[_][C]&&P[_][C].length==2?P[_][C][0]=te:P[_][C]=te,B=null),oe){if(ie)throw new Error("SYLK shared formula cannot have own formula");var ae=be>-1&&P[be][he];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");P[_][C][1]=wse(ae[1],{r:_-be,c:C-he})}break;case"F":var K=0;for(E=1;E<F.length;++E)switch(F[E].charAt(0)){case"X":C=parseInt(F[E].slice(1))-1,++K;break;case"Y":for(_=parseInt(F[E].slice(1))-1,X=P.length;X<=_;++X)P[X]=[];break;case"M":z=parseInt(F[E].slice(1))/20;break;case"F":break;case"G":break;case"P":B=Q[parseInt(F[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=F[E].slice(1).split(" "),X=parseInt(j[0],10);X<=parseInt(j[1],10);++X)z=parseInt(j[2],10),I[X-1]=z===0?{hidden:!0}:{wch:z},og(I[X-1]);break;case"C":C=parseInt(F[E].slice(1))-1,I[C]||(I[C]={});break;case"R":_=parseInt(F[E].slice(1))-1,M[_]||(M[_]={}),z>0?(M[_].hpt=z,M[_].hpx=Ox(z)):z===0&&(M[_].hidden=!0);break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+W)}K<1&&(B=null);break;default:if(k&&k.WTF)throw new Error("SYLK bad record "+W)}}return M.length>0&&(R["!rows"]=M),I.length>0&&(R["!cols"]=I),k&&k.sheetRows&&(P=P.slice(0,k.sheetRows)),[P,R]}function l(x,k){var w=s(x,k),_=w[0],C=w[1],T=Tg(_,k);return Vl(C).forEach(function(E){T[E]=C[E]}),T}function c(x,k){return $h(l(x,k),k)}function h(x,k,w,_){var C="C;Y"+(w+1)+";X"+(_+1)+";K";switch(x.t){case"n":C+=x.v||0,x.f&&!x.F&&(C+=";E"+zYe(x.f,{r:w,c:_}));break;case"b":C+=x.v?"TRUE":"FALSE";break;case"e":C+=x.w||x.v;break;case"d":C+='"'+(x.w||x.v)+'"';break;case"s":C+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function f(x,k){k.forEach(function(w,_){var C="F;W"+(_+1)+" "+(_+1)+" ";w.hidden?C+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=fC(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=gC(w.wpx)),typeof w.wch=="number"&&(C+=Math.round(w.wch))),C.charAt(C.length-1)!=" "&&x.push(C)})}function p(x,k){k.forEach(function(w,_){var C="F;";w.hidden?C+="M0;":w.hpt?C+="M"+20*w.hpt+";":w.hpx&&(C+="M"+20*bse(w.hpx)+";"),C.length>2&&x.push(C+"R"+(_+1))})}function O(x,k){var w=["ID;PWXL;N;E"],_=[],C=qn(x["!ref"]),T,E=Array.isArray(x),P=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),x["!cols"]&&f(w,x["!cols"]),x["!rows"]&&p(w,x["!rows"]),w.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var Q=C.s.r;Q<=C.e.r;++Q)for(var B=C.s.c;B<=C.e.c;++B){var R=fr({r:Q,c:B});T=E?(x[Q]||[])[B]:x[R],!(!T||T.v==null&&(!T.f||T.F))&&_.push(h(T,x,Q,B))}return w.join(P)+P+_.join(P)+P+"E"+P}return{to_workbook:c,to_sheet:l,from_sheet:O}})(),nWe=(function(){function t(a,l){switch(l.type){case"base64":return e(ja(a),l);case"binary":return e(a,l);case"buffer":return e(Qr&&Buffer.isBuffer(a)?a.toString("binary"):Hu(a),l);case"array":return e(Fu(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var c=a.split(`
`),h=-1,f=-1,p=0,O=[];p!==c.length;++p){if(c[p].trim()==="BOT"){O[++h]=[],f=0;continue}if(!(h<0)){var x=c[p].trim().split(","),k=x[0],w=x[1];++p;for(var _=c[p]||"";(_.match(/["]/g)||[]).length&1&&p<c.length-1;)_+=`
`+c[++p];switch(_=_.trim(),+k){case-1:if(_==="BOT"){O[++h]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?O[h][f]=!0:_==="FALSE"?O[h][f]=!1:isNaN(nl(w))?isNaN(ag(w).getDate())?O[h][f]=w:O[h][f]=Ni(w):O[h][f]=nl(w),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),O[h][f++]=_!==""?_:null;break}if(_==="EOD")break}}return l&&l.sheetRows&&(O=O.slice(0,l.sheetRows)),O}function r(a,l){return Tg(t(a,l),l)}function n(a,l){return $h(r(a,l),l)}var s=(function(){var a=function(h,f,p,O,x){h.push(f),h.push(p+","+O),h.push('"'+x.replace(/"/g,'""')+'"')},l=function(h,f,p,O){h.push(f+","+p),h.push(f==1?'"'+O.replace(/"/g,'""')+'"':O)};return function(h){var f=[],p=qn(h["!ref"]),O,x=Array.isArray(h);a(f,"TABLE",0,1,"sheetjs"),a(f,"VECTORS",0,p.e.r-p.s.r+1,""),a(f,"TUPLES",0,p.e.c-p.s.c+1,""),a(f,"DATA",0,0,"");for(var k=p.s.r;k<=p.e.r;++k){l(f,-1,0,"BOT");for(var w=p.s.c;w<=p.e.c;++w){var _=fr({r:k,c:w});if(O=x?(h[k]||[])[w]:h[_],!O){l(f,1,0,"");continue}switch(O.t){case"n":var C=O.w;!C&&O.v!=null&&(C=O.v),C==null?O.f&&!O.F?l(f,1,0,"="+O.f):l(f,1,0,""):l(f,0,C,"V");break;case"b":l(f,0,O.v?1:0,O.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(O.v)?O.v:'="'+O.v+'"');break;case"d":O.w||(O.w=Oo(O.z||mr[14],Gs(Ni(O.v)))),l(f,0,O.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var T=`\r
`,E=f.join(T);return E}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),iWe=(function(){function t(O){return O.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(O){return O.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(O,x){for(var k=O.split(`
`),w=-1,_=-1,C=0,T=[];C!==k.length;++C){var E=k[C].trim().split(":");if(E[0]==="cell"){var P=Xs(E[1]);if(T.length<=P.r)for(w=T.length;w<=P.r;++w)T[w]||(T[w]=[]);switch(w=P.r,_=P.c,E[2]){case"t":T[w][_]=t(E[3]);break;case"v":T[w][_]=+E[3];break;case"vtf":var Q=E[E.length-1];case"vtc":switch(E[3]){case"nl":T[w][_]=!!+E[4];break;default:T[w][_]=+E[4];break}E[2]=="vtf"&&(T[w][_]=[T[w][_],Q])}}}return x&&x.sheetRows&&(T=T.slice(0,x.sheetRows)),T}function n(O,x){return Tg(r(O,x),x)}function s(O,x){return $h(n(O,x),x)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(O){if(!O||!O["!ref"])return"";for(var x=[],k=[],w,_="",C=Sg(O["!ref"]),T=Array.isArray(O),E=C.s.r;E<=C.e.r;++E)for(var P=C.s.c;P<=C.e.c;++P)if(_=fr({r:E,c:P}),w=T?(O[E]||[])[P]:O[_],!(!w||w.v==null||w.t==="z")){switch(k=["cell",_,"t"],w.t){case"s":case"str":k.push(e(w.v));break;case"n":w.f?(k[2]="vtf",k[3]="n",k[4]=w.v,k[5]=e(w.f)):(k[2]="v",k[3]=w.v);break;case"b":k[2]="vt"+(w.f?"f":"c"),k[3]="nl",k[4]=w.v?"1":"0",k[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var Q=Gs(Ni(w.v));k[2]="vtc",k[3]="nd",k[4]=""+Q,k[5]=w.w||Oo(w.z||mr[14],Q);break;case"e":continue}x.push(k.join(":"))}return x.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function p(O){return[a,l,c,l,f(O),h].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),px=(function(){function t(p,O,x,k,w){w.raw?O[x][k]=p:p===""||(p==="TRUE"?O[x][k]=!0:p==="FALSE"?O[x][k]=!1:isNaN(nl(p))?isNaN(ag(p).getDate())?O[x][k]=p:O[x][k]=Ni(p):O[x][k]=nl(p))}function e(p,O){var x=O||{},k=[];if(!p||p.length===0)return k;for(var w=p.split(/[\r\n]/),_=w.length-1;_>=0&&w[_].length===0;)--_;for(var C=10,T=0,E=0;E<=_;++E)T=w[E].indexOf(" "),T==-1?T=w[E].length:T++,C=Math.max(C,T);for(E=0;E<=_;++E){k[E]=[];var P=0;for(t(w[E].slice(0,C).trim(),k,E,P,x),P=1;P<=(w[E].length-C)/10+1;++P)t(w[E].slice(C+(P-1)*10,C+P*10).trim(),k,E,P,x)}return x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var O={},x=!1,k=0,w=0;k<p.length;++k)(w=p.charCodeAt(k))==34?x=!x:!x&&w in r&&(O[w]=(O[w]||0)+1);w=[];for(k in O)Object.prototype.hasOwnProperty.call(O,k)&&w.push([O[k],k]);if(!w.length){O=n;for(k in O)Object.prototype.hasOwnProperty.call(O,k)&&w.push([O[k],k])}return w.sort(function(_,C){return _[0]-C[0]||n[_[1]]-n[C[1]]}),r[w.pop()[1]]||44}function a(p,O){var x=O||{},k="",w=x.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(k=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(k=p.charAt(4),p=p.slice(6)):k=s(p.slice(0,1024)):x&&x.FS?k=x.FS:k=s(p.slice(0,1024));var C=0,T=0,E=0,P=0,Q=0,B=k.charCodeAt(0),R=!1,M=0,I=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var j=x.dateNF!=null?pVe(x.dateNF):null;function z(){var X=p.slice(P,Q),W={};if(X.charAt(0)=='"'&&X.charAt(X.length-1)=='"'&&(X=X.slice(1,-1).replace(/""/g,'"')),X.length===0)W.t="z";else if(x.raw)W.t="s",W.v=X;else if(X.trim().length===0)W.t="s",W.v=X;else if(X.charCodeAt(0)==61)X.charCodeAt(1)==34&&X.charCodeAt(X.length-1)==34?(W.t="s",W.v=X.slice(2,-1).replace(/""/g,'"')):VYe(X)?(W.t="n",W.f=X.slice(1)):(W.t="s",W.v=X);else if(X=="TRUE")W.t="b",W.v=!0;else if(X=="FALSE")W.t="b",W.v=!1;else if(!isNaN(E=nl(X)))W.t="n",x.cellText!==!1&&(W.w=X),W.v=E;else if(!isNaN(ag(X).getDate())||j&&X.match(j)){W.z=x.dateNF||mr[14];var F=0;j&&X.match(j)&&(X=mVe(X,x.dateNF,X.match(j)||[]),F=1),x.cellDates?(W.t="d",W.v=Ni(X,F)):(W.t="n",W.v=Gs(Ni(X,F))),x.cellText!==!1&&(W.w=Oo(W.z,W.v instanceof Date?Gs(W.v):W.v)),x.cellNF||delete W.z}else W.t="s",W.v=X;if(W.t=="z"||(x.dense?(w[C]||(w[C]=[]),w[C][T]=W):w[fr({c:T,r:C})]=W),P=Q+1,I=p.charCodeAt(P),_.e.c<T&&(_.e.c=T),_.e.r<C&&(_.e.r=C),M==B)++T;else if(T=0,++C,x.sheetRows&&x.sheetRows<=C)return!0}e:for(;Q<p.length;++Q)switch(M=p.charCodeAt(Q)){case 34:I===34&&(R=!R);break;case B:case 10:case 13:if(!R&&z())break e;break}return Q-P>0&&z(),w["!ref"]=Br(_),w}function l(p,O){return!(O&&O.PRN)||O.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,O):Tg(e(p,O),O)}function c(p,O){var x="",k=O.type=="string"?[0,0,0,0]:G8(p,O);switch(O.type){case"base64":x=ja(p);break;case"binary":x=p;break;case"buffer":O.codepage==65001?x=p.toString("utf8"):O.codepage&&typeof hx<"u"||(x=Qr&&Buffer.isBuffer(p)?p.toString("binary"):Hu(p));break;case"array":x=Fu(p);break;case"string":x=p;break;default:throw new Error("Unrecognized type "+O.type)}return k[0]==239&&k[1]==187&&k[2]==191?x=fn(x.slice(3)):O.type!="string"&&O.type!="buffer"&&O.codepage==65001?x=fn(x):O.type=="binary"&&typeof hx<"u",x.slice(0,19)=="socialcalc:version:"?iWe.to_sheet(O.type=="string"?x:fn(x),O):l(x,O)}function h(p,O){return $h(c(p,O),O)}function f(p){for(var O=[],x=qn(p["!ref"]),k,w=Array.isArray(p),_=x.s.r;_<=x.e.r;++_){for(var C=[],T=x.s.c;T<=x.e.c;++T){var E=fr({r:_,c:T});if(k=w?(p[_]||[])[T]:p[E],!k||k.v==null){C.push("          ");continue}for(var P=(k.w||(nd(k),k.w)||"").slice(0,10);P.length<10;)P+=" ";C.push(P+(T===0?" ":""))}O.push(C.join(""))}return O.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:f}})();function sWe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var s=rWe.to_workbook(t,r);return r.WTF=n,s}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return px.to_workbook(t,e)}}var vO=(function(){function t(re,ae,K){if(re){Hi(re,re.l||0);for(var ce=K.Enum||be;re.l<re.length;){var ye=re.read_shift(2),ke=ce[ye]||ce[65535],Ce=re.read_shift(2),De=re.l+Ce,Pe=ke.f&&ke.f(re,Ce,K);if(re.l=De,ae(Pe,ke,ye))return}}}function e(re,ae){switch(ae.type){case"base64":return r(qo(ja(re)),ae);case"binary":return r(qo(re),ae);case"buffer":case"array":return r(re,ae)}throw"Unsupported type "+ae.type}function r(re,ae){if(!re)return re;var K=ae||{},ce=K.dense?[]:{},ye="Sheet1",ke="",Ce=0,De={},Pe=[],Ee=[],de={s:{r:0,c:0},e:{r:0,c:0}},Re=K.sheetRows||0;if(re[2]==0&&(re[3]==8||re[3]==9)&&re.length>=16&&re[14]==5&&re[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(re[2]==2)K.Enum=be,t(re,function(Ze,Ge,Qt){switch(Qt){case 0:K.vers=Ze,Ze>=4096&&(K.qpro=!0);break;case 6:de=Ze;break;case 204:Ze&&(ke=Ze);break;case 222:ke=Ze;break;case 15:case 51:K.qpro||(Ze[1].v=Ze[1].v.slice(1));case 13:case 14:case 16:Qt==14&&(Ze[2]&112)==112&&(Ze[2]&15)>1&&(Ze[2]&15)<15&&(Ze[1].z=K.dateNF||mr[14],K.cellDates&&(Ze[1].t="d",Ze[1].v=CA(Ze[1].v))),K.qpro&&Ze[3]>Ce&&(ce["!ref"]=Br(de),De[ye]=ce,Pe.push(ye),ce=K.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},Ce=Ze[3],ye=ke||"Sheet"+(Ce+1),ke="");var gr=K.dense?(ce[Ze[0].r]||[])[Ze[0].c]:ce[fr(Ze[0])];if(gr){gr.t=Ze[1].t,gr.v=Ze[1].v,Ze[1].z!=null&&(gr.z=Ze[1].z),Ze[1].f!=null&&(gr.f=Ze[1].f);break}K.dense?(ce[Ze[0].r]||(ce[Ze[0].r]=[]),ce[Ze[0].r][Ze[0].c]=Ze[1]):ce[fr(Ze[0])]=Ze[1];break}},K);else if(re[2]==26||re[2]==14)K.Enum=he,re[2]==14&&(K.qpro=!0,re.l=0),t(re,function(Ze,Ge,Qt){switch(Qt){case 204:ye=Ze;break;case 22:Ze[1].v=Ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ze[3]>Ce&&(ce["!ref"]=Br(de),De[ye]=ce,Pe.push(ye),ce=K.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},Ce=Ze[3],ye="Sheet"+(Ce+1)),Re>0&&Ze[0].r>=Re)break;K.dense?(ce[Ze[0].r]||(ce[Ze[0].r]=[]),ce[Ze[0].r][Ze[0].c]=Ze[1]):ce[fr(Ze[0])]=Ze[1],de.e.c<Ze[0].c&&(de.e.c=Ze[0].c),de.e.r<Ze[0].r&&(de.e.r=Ze[0].r);break;case 27:Ze[14e3]&&(Ee[Ze[14e3][0]]=Ze[14e3][1]);break;case 1537:Ee[Ze[0]]=Ze[1],Ze[0]==Ce&&(ye=Ze[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+re[2]);if(ce["!ref"]=Br(de),De[ke||ye]=ce,Pe.push(ke||ye),!Ee.length)return{SheetNames:Pe,Sheets:De};for(var Be={},He=[],Ye=0;Ye<Ee.length;++Ye)De[Pe[Ye]]?(He.push(Ee[Ye]||Pe[Ye]),Be[Ee[Ye]]=De[Ee[Ye]]||De[Pe[Ye]]):(He.push(Ee[Ye]),Be[Ee[Ye]]={"!ref":"A1"});return{SheetNames:He,Sheets:Be}}function n(re,ae){var K=ae||{};if(+K.codepage>=0&&Yo(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var ce=v6(),ye=qn(re["!ref"]),ke=Array.isArray(re),Ce=[];Bo(ce,0,a(1030)),Bo(ce,6,h(ye));for(var De=Math.min(ye.e.r,8191),Pe=ye.s.r;Pe<=De;++Pe)for(var Ee=is(Pe),de=ye.s.c;de<=ye.e.c;++de){Pe===ye.s.r&&(Ce[de]=wi(de));var Re=Ce[de]+Ee,Be=ke?(re[Pe]||[])[de]:re[Re];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?Bo(ce,13,k(Pe,de,Be.v)):Bo(ce,14,_(Pe,de,Be.v));else{var He=nd(Be);Bo(ce,15,O(Pe,de,He.slice(0,239)))}}return Bo(ce,1),ce.end()}function s(re,ae){var K=ae||{};if(+K.codepage>=0&&Yo(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var ce=v6();Bo(ce,0,l(re));for(var ye=0,ke=0;ye<re.SheetNames.length;++ye)(re.Sheets[re.SheetNames[ye]]||{})["!ref"]&&Bo(ce,27,ie(re.SheetNames[ye],ke++));var Ce=0;for(ye=0;ye<re.SheetNames.length;++ye){var De=re.Sheets[re.SheetNames[ye]];if(!(!De||!De["!ref"])){for(var Pe=qn(De["!ref"]),Ee=Array.isArray(De),de=[],Re=Math.min(Pe.e.r,8191),Be=Pe.s.r;Be<=Re;++Be)for(var He=is(Be),Ye=Pe.s.c;Ye<=Pe.e.c;++Ye){Be===Pe.s.r&&(de[Ye]=wi(Ye));var Ze=de[Ye]+He,Ge=Ee?(De[Be]||[])[Ye]:De[Ze];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")Bo(ce,23,z(Be,Ye,Ce,Ge.v));else{var Qt=nd(Ge);Bo(ce,22,M(Be,Ye,Ce,Qt.slice(0,239)))}}++Ce}}return Bo(ce,1),ce.end()}function a(re){var ae=Oi(2);return ae.write_shift(2,re),ae}function l(re){var ae=Oi(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var K=0,ce=0,ye=0,ke=0;ke<re.SheetNames.length;++ke){var Ce=re.SheetNames[ke],De=re.Sheets[Ce];if(!(!De||!De["!ref"])){++ye;var Pe=Sg(De["!ref"]);K<Pe.e.r&&(K=Pe.e.r),ce<Pe.e.c&&(ce=Pe.e.c)}}return K>8191&&(K=8191),ae.write_shift(2,K),ae.write_shift(1,ye),ae.write_shift(1,ce),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function c(re,ae,K){var ce={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&K.qpro?(ce.s.c=re.read_shift(1),re.l++,ce.s.r=re.read_shift(2),ce.e.c=re.read_shift(1),re.l++,ce.e.r=re.read_shift(2),ce):(ce.s.c=re.read_shift(2),ce.s.r=re.read_shift(2),ae==12&&K.qpro&&(re.l+=2),ce.e.c=re.read_shift(2),ce.e.r=re.read_shift(2),ae==12&&K.qpro&&(re.l+=2),ce.s.c==65535&&(ce.s.c=ce.e.c=ce.s.r=ce.e.r=0),ce)}function h(re){var ae=Oi(8);return ae.write_shift(2,re.s.c),ae.write_shift(2,re.s.r),ae.write_shift(2,re.e.c),ae.write_shift(2,re.e.r),ae}function f(re,ae,K){var ce=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(ce[0].c=re.read_shift(1),ce[3]=re.read_shift(1),ce[0].r=re.read_shift(2),re.l+=2):(ce[2]=re.read_shift(1),ce[0].c=re.read_shift(2),ce[0].r=re.read_shift(2)),ce}function p(re,ae,K){var ce=re.l+ae,ye=f(re,ae,K);if(ye[1].t="s",K.vers==20768){re.l++;var ke=re.read_shift(1);return ye[1].v=re.read_shift(ke,"utf8"),ye}return K.qpro&&re.l++,ye[1].v=re.read_shift(ce-re.l,"cstr"),ye}function O(re,ae,K){var ce=Oi(7+K.length);ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,re),ce.write_shift(1,39);for(var ye=0;ye<ce.length;++ye){var ke=K.charCodeAt(ye);ce.write_shift(1,ke>=128?95:ke)}return ce.write_shift(1,0),ce}function x(re,ae,K){var ce=f(re,ae,K);return ce[1].v=re.read_shift(2,"i"),ce}function k(re,ae,K){var ce=Oi(7);return ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,re),ce.write_shift(2,K,"i"),ce}function w(re,ae,K){var ce=f(re,ae,K);return ce[1].v=re.read_shift(8,"f"),ce}function _(re,ae,K){var ce=Oi(13);return ce.write_shift(1,255),ce.write_shift(2,ae),ce.write_shift(2,re),ce.write_shift(8,K,"f"),ce}function C(re,ae,K){var ce=re.l+ae,ye=f(re,ae,K);if(ye[1].v=re.read_shift(8,"f"),K.qpro)re.l=ce;else{var ke=re.read_shift(2);Q(re.slice(re.l,re.l+ke),ye),re.l+=ke}return ye}function T(re,ae,K){var ce=ae&32768;return ae&=-32769,ae=(ce?re:0)+(ae>=8192?ae-16384:ae),(ce?"":"$")+(K?wi(ae):is(ae))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Q(re,ae){Hi(re,0);for(var K=[],ce=0,ye="",ke="",Ce="",De="";re.l<re.length;){var Pe=re[re.l++];switch(Pe){case 0:K.push(re.read_shift(8,"f"));break;case 1:ke=T(ae[0].c,re.read_shift(2),!0),ye=T(ae[0].r,re.read_shift(2),!1),K.push(ke+ye);break;case 2:{var Ee=T(ae[0].c,re.read_shift(2),!0),de=T(ae[0].r,re.read_shift(2),!1);ke=T(ae[0].c,re.read_shift(2),!0),ye=T(ae[0].r,re.read_shift(2),!1),K.push(Ee+de+":"+ke+ye)}break;case 3:if(re.l<re.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(re.read_shift(2));break;case 6:{for(var Re="";Pe=re[re.l++];)Re+=String.fromCharCode(Pe);K.push('"'+Re.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:De=K.pop(),Ce=K.pop(),K.push(["AND","OR"][Pe-20]+"("+Ce+","+De+")");break;default:if(Pe<32&&P[Pe])De=K.pop(),Ce=K.pop(),K.push(Ce+P[Pe]+De);else if(E[Pe]){if(ce=E[Pe][1],ce==69&&(ce=re[re.l++]),ce>K.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+K.join("|")+"|");return}var Be=K.slice(-ce);K.length-=ce,K.push(E[Pe][0]+"("+Be.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}K.length==1?ae[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function B(re){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=re.read_shift(2),ae[3]=re[re.l++],ae[0].c=re[re.l++],ae}function R(re,ae){var K=B(re);return K[1].t="s",K[1].v=re.read_shift(ae-4,"cstr"),K}function M(re,ae,K,ce){var ye=Oi(6+ce.length);ye.write_shift(2,re),ye.write_shift(1,K),ye.write_shift(1,ae),ye.write_shift(1,39);for(var ke=0;ke<ce.length;++ke){var Ce=ce.charCodeAt(ke);ye.write_shift(1,Ce>=128?95:Ce)}return ye.write_shift(1,0),ye}function I(re,ae){var K=B(re);K[1].v=re.read_shift(2);var ce=K[1].v>>1;if(K[1].v&1)switch(ce&7){case 0:ce=(ce>>3)*5e3;break;case 1:ce=(ce>>3)*500;break;case 2:ce=(ce>>3)/20;break;case 3:ce=(ce>>3)/200;break;case 4:ce=(ce>>3)/2e3;break;case 5:ce=(ce>>3)/2e4;break;case 6:ce=(ce>>3)/16;break;case 7:ce=(ce>>3)/64;break}return K[1].v=ce,K}function j(re,ae){var K=B(re),ce=re.read_shift(4),ye=re.read_shift(4),ke=re.read_shift(2);if(ke==65535)return ce===0&&ye===3221225472?(K[1].t="e",K[1].v=15):ce===0&&ye===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Ce=ke&32768;return ke=(ke&32767)-16446,K[1].v=(1-Ce*2)*(ye*Math.pow(2,ke+32)+ce*Math.pow(2,ke)),K}function z(re,ae,K,ce){var ye=Oi(14);if(ye.write_shift(2,re),ye.write_shift(1,K),ye.write_shift(1,ae),ce==0)return ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(2,65535),ye;var ke=0,Ce=0,De=0,Pe=0;return ce<0&&(ke=1,ce=-ce),Ce=Math.log2(ce)|0,ce/=Math.pow(2,Ce-31),Pe=ce>>>0,(Pe&2147483648)==0&&(ce/=2,++Ce,Pe=ce>>>0),ce-=Pe,Pe|=2147483648,Pe>>>=0,ce*=Math.pow(2,32),De=ce>>>0,ye.write_shift(4,De),ye.write_shift(4,Pe),Ce+=16383+(ke?32768:0),ye.write_shift(2,Ce),ye}function X(re,ae){var K=j(re);return re.l+=ae-14,K}function W(re,ae){var K=B(re),ce=re.read_shift(4);return K[1].v=ce>>6,K}function F(re,ae){var K=B(re),ce=re.read_shift(8,"f");return K[1].v=ce,K}function V(re,ae){var K=F(re);return re.l+=ae-10,K}function te(re,ae){return re[re.l+ae-1]==0?re.read_shift(ae,"cstr"):""}function G(re,ae){var K=re[re.l++];K>ae-1&&(K=ae-1);for(var ce="";ce.length<K;)ce+=String.fromCharCode(re[re.l++]);return ce}function J(re,ae,K){if(!(!K.qpro||ae<21)){var ce=re.read_shift(1);re.l+=17,re.l+=1,re.l+=2;var ye=re.read_shift(ae-21,"cstr");return[ce,ye]}}function oe(re,ae){for(var K={},ce=re.l+ae;re.l<ce;){var ye=re.read_shift(2);if(ye==14e3){for(K[ye]=[0,""],K[ye][0]=re.read_shift(2);re[re.l];)K[ye][1]+=String.fromCharCode(re[re.l]),re.l++;re.l++}}return K}function ie(re,ae){var K=Oi(5+re.length);K.write_shift(2,14e3),K.write_shift(2,ae);for(var ce=0;ce<re.length;++ce){var ye=re.charCodeAt(ce);K[K.l++]=ye>127?95:ye}return K[K.l++]=0,K}var be={0:{n:"BOF",f:di},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:G},65535:{n:""}},he={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:X},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})();function aWe(t){var e={},r=t.match(Ts),n=0,s=!1;if(r)for(;n!=r.length;++n){var a=or(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=A8[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return e}var oWe=(function(){var t=fx("t"),e=fx("rPr");function r(a){var l=a.match(t);if(!l)return{t:"s",v:""};var c={t:"s",v:jr(l[1])},h=a.match(e);return h&&(c.s=aWe(h[1])),c}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(s).map(r).filter(function(c){return c.v})}})(),lWe=(function(){var e=/(\r\n|\n)/g;function r(s,a,l){var c=[];s.u&&c.push("text-decoration: underline;"),s.uval&&c.push("text-underline-style:"+s.uval+";"),s.sz&&c.push("font-size:"+s.sz+"pt;"),s.outline&&c.push("text-effect: outline;"),s.shadow&&c.push("text-shadow: auto;"),a.push('<span style="'+c.join("")+'">'),s.b&&(a.push("<b>"),l.push("</b>")),s.i&&(a.push("<i>"),l.push("</i>")),s.strike&&(a.push("<s>"),l.push("</s>"));var h=s.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(a.push("<"+h+">"),l.push("</"+h+">")),l.push("</span>"),s}function n(s){var a=[[],s.v,[]];return s.v?(s.s&&r(s.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),cWe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,dWe=/<(?:\w+:)?r>/,hWe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function X8(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jr(fn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=fn(t),r&&(n.h=$8(n.t))):t.match(dWe)&&(n.r=fn(t),n.t=jr(fn((t.replace(hWe,"").match(cWe)||[]).join("").replace(Ts,""))),r&&(n.h=lWe(oWe(n.r)))),n):{t:""}}var uWe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,fWe=/<(?:\w+:)?(?:si|sstItem)>/g,gWe=/<\/(?:\w+:)?(?:si|sstItem)>/;function pWe(t,e){var r=[],n="";if(!t)return r;var s=t.match(uWe);if(s){n=s[2].replace(fWe,"").split(gWe);for(var a=0;a!=n.length;++a){var l=X8(n[a].trim(),e);l!=null&&(r[r.length]=l)}s=or(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}function mWe(t){return[t.read_shift(4),t.read_shift(4)]}function OWe(t,e){var r=[],n=!1;return dd(t,function(a,l,c){switch(c){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function fse(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Vc(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function xWe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Vc(t,4),e.U=Vc(t,4),e.W=Vc(t,4),e}function bWe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},s=t.read_shift(4),a=[];s-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function kWe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(bWe(t));return e}function yWe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function wWe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Vc(t,4),e.U=Vc(t,4),e.W=Vc(t,4),e}function vWe(t){var e=wWe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function gse(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function pse(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function _We(t){var e=Vc(t);switch(e.Minor){case 2:return[e.Minor,CWe(t)];case 3:return[e.Minor,AWe()];case 4:return[e.Minor,SWe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function CWe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=gse(t,r),s=pse(t,t.length-t.l);return{t:"Std",h:n,v:s}}function AWe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function SWe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ts,function(a){var l=or(a);switch(ec(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=l[c]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function TWe(t,e){var r={},n=r.EncryptionVersionInfo=Vc(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,r.EncryptionHeader=gse(t,s),e-=s,r.EncryptionVerifier=pse(t,e),r}function EWe(t){var e={},r=e.EncryptionVersionInfo=Vc(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function PWe(t){var e=0,r,n=fse(t),s=n.length+1,a,l,c,h,f;for(r=mh(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)l=r[a],c=(e&16384)===0?0:1,h=e<<1&32767,f=c|h,e=f^l;return e^52811}var mse=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},s=function(l,c){return n(l^c)},a=function(l){for(var c=e[l.length-1],h=104,f=l.length-1;f>=0;--f)for(var p=l[f],O=0;O!=7;++O)p&64&&(c^=r[h]),p*=2,--h;return c};return function(l){for(var c=fse(l),h=a(c),f=c.length,p=mh(16),O=0;O!=16;++O)p[O]=0;var x,k,w;for((f&1)===1&&(x=h>>8,p[f]=s(t[0],x),--f,x=h&255,k=c[c.length-1],p[f]=s(k,x));f>0;)--f,x=h>>8,p[f]=s(c[f],x),--f,x=h&255,p[f]=s(c[f],x);for(f=15,w=15-c.length;w>0;)x=h>>8,p[f]=s(t[w],x),--f,--w,x=h&255,p[f]=s(c[f],x),--f,--w;return p}})(),DWe=function(t,e,r,n,s){s||(s=e),n||(n=mse(t));var a,l;for(a=0;a!=e.length;++a)l=e[a],l^=n[r],l=(l>>5|l<<3)&255,s[a]=l,++r;return[s,r,n]},QWe=function(t){var e=0,r=mse(t);return function(n){var s=DWe("",n,e,r);return e=s[1],s[0]}};function $We(t,e,r,n){var s={key:di(t),verificationBytes:di(t)};return r.password&&(s.verifier=PWe(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=QWe(r.password)),s}function MWe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=EWe(t):n.Data=TWe(t,e),n}function RWe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?MWe(t,e-2,n):$We(t,r.biff>=8?e:e-2,r,n),n}var NWe=(function(){function t(s,a){switch(a.type){case"base64":return e(ja(s),a);case"binary":return e(s,a);case"buffer":return e(Qr&&Buffer.isBuffer(s)?s.toString("binary"):Hu(s),a);case"array":return e(Fu(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var l=a||{},c=l.dense?[]:{},h=s.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,O){Array.isArray(c)&&(c[O]=[]);for(var x=/\\\w+\b/g,k=0,w,_=-1;w=x.exec(p);){switch(w[0]){case"\\cell":var C=p.slice(k,x.lastIndex-w[0].length);if(C[0]==" "&&(C=C.slice(1)),++_,C.length){var T={v:C,t:"s"};Array.isArray(c)?c[O][_]=T:c[fr({r:O,c:_})]=T}break}k=x.lastIndex}_>f.e.c&&(f.e.c=_)}),c["!ref"]=Br(f),c}function r(s,a){return $h(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],l=qn(s["!ref"]),c,h=Array.isArray(s),f=l.s.r;f<=l.e.r;++f){a.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var O=fr({r:f,c:p});c=h?(s[f]||[])[p]:s[O],!(!c||c.v==null&&(!c.f||c.F))&&(a.push(" "+(c.w||(nd(c),c.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function BWe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function mx(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function IWe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(e,r,n),a=Math.min(e,r,n),l=s-a;if(l===0)return[0,0,e];var c=0,h=0,f=s+a;switch(h=l/(f>1?2-f:f),s){case e:c=((r-n)/l+6)%6;break;case r:c=(n-e)/l+2;break;case n:c=(e-r)/l+4;break}return[c/6,h,f/2]}function jWe(t){var e=t[0],r=t[1],n=t[2],s=r*2*(n<.5?n:1-n),a=n-s/2,l=[a,a,a],c=6*e,h;if(r!==0)switch(c|0){case 0:case 6:h=s*c,l[0]+=s,l[1]+=h;break;case 1:h=s*(2-c),l[0]+=h,l[1]+=s;break;case 2:h=s*(c-2),l[1]+=s,l[2]+=h;break;case 3:h=s*(4-c),l[1]+=h,l[2]+=s;break;case 4:h=s*(c-4),l[2]+=s,l[0]+=h;break;case 5:h=s*(6-c),l[2]+=h,l[0]+=s;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function uC(t,e){if(e===0)return t;var r=IWe(BWe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),mx(jWe(r))}var Ose=6,FWe=15,LWe=1,Bs=Ose;function fC(t){return Math.floor((t+Math.round(128/Bs)/256)*Bs)}function gC(t){return Math.floor((t-5)/Bs*100+.5)/100}function S6(t){return Math.round((t*Bs+5)/Bs*256)/256}function M3(t){return S6(gC(fC(t)))}function V8(t){var e=Math.abs(t-M3(t)),r=Bs;if(e>.005)for(Bs=LWe;Bs<FWe;++Bs)Math.abs(t-M3(t))<=e&&(e=Math.abs(t-M3(t)),r=Bs);Bs=r}function og(t){t.width?(t.wpx=fC(t.width),t.wch=gC(t.wpx),t.MDW=Bs):t.wpx?(t.wch=gC(t.wpx),t.width=S6(t.wch),t.MDW=Bs):typeof t.wch=="number"&&(t.width=S6(t.wch),t.wpx=fC(t.width),t.MDW=Bs),t.customWidth&&delete t.customWidth}var zWe=96,xse=zWe;function bse(t){return t*96/xse}function Ox(t){return t*xse/96}var XWe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function VWe(t,e,r,n){e.Borders=[];var s={},a=!1;(t[0].match(Ts)||[]).forEach(function(l){var c=or(l);switch(ec(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},c.diagonalUp&&(s.diagonalUp=En(c.diagonalUp)),c.diagonalDown&&(s.diagonalDown=En(c.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+c[0]+" in borders")}})}function UWe(t,e,r,n){e.Fills=[];var s={},a=!1;(t[0].match(Ts)||[]).forEach(function(l){var c=or(l);switch(ec(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":c.patternType&&(s.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),c.indexed&&(s.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(s.bgColor.theme=parseInt(c.theme,10)),c.tint&&(s.bgColor.tint=parseFloat(c.tint)),c.rgb&&(s.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),c.theme&&(s.fgColor.theme=parseInt(c.theme,10)),c.tint&&(s.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(s.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+c[0]+" in fills")}})}function qWe(t,e,r,n){e.Fonts=[];var s={},a=!1;(t[0].match(Ts)||[]).forEach(function(l){var c=or(l);switch(ec(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":c.val&&(s.name=fn(c.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=c.val?En(c.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=c.val?En(c.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(c.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=c.val?En(c.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=c.val?En(c.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=c.val?En(c.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=c.val?En(c.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=c.val?En(c.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":c.val&&(s.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(s.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(s.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(s.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=A8[parseInt(c.val,10)];break;case"<color":if(s.color||(s.color={}),c.auto&&(s.color.auto=En(c.auto)),c.rgb)s.color.rgb=c.rgb.slice(-6);else if(c.indexed){s.color.index=parseInt(c.indexed,10);var h=yu[s.color.index];s.color.index==81&&(h=yu[1]),h||(h=yu[1]),s.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else c.theme&&(s.color.theme=parseInt(c.theme,10),c.tint&&(s.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=uC(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+c[0]+" in fonts")}})}function WWe(t,e,r){e.NumberFmt=[];for(var n=Vl(mr),s=0;s<n.length;++s)e.NumberFmt[n[s]]=mr[n[s]];var a=t[0].match(Ts);if(a)for(s=0;s<a.length;++s){var l=or(a[s]);switch(ec(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=jr(fn(l.formatCode)),h=parseInt(l.numFmtId,10);if(e.NumberFmt[h]=c,h>0){if(h>392){for(h=392;h>60&&e.NumberFmt[h]!=null;--h);e.NumberFmt[h]=c}ku(c,h)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var bv=["numFmtId","fillId","fontId","borderId","xfId"],kv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function YWe(t,e,r){e.CellXf=[];var n,s=!1;(t[0].match(Ts)||[]).forEach(function(a){var l=or(a),c=0;switch(ec(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],c=0;c<bv.length;++c)n[bv[c]]&&(n[bv[c]]=parseInt(n[bv[c]],10));for(c=0;c<kv.length;++c)n[kv[c]]&&(n[kv[c]]=En(n[kv[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};l.vertical&&(h.vertical=l.vertical),l.horizontal&&(h.horizontal=l.horizontal),l.textRotation!=null&&(h.textRotation=l.textRotation),l.indent&&(h.indent=l.indent),l.wrapText&&(h.wrapText=En(l.wrapText)),n.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var ZWe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,h,f){var p={};if(!c)return p;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var O;return(O=c.match(e))&&WWe(O,p,f),(O=c.match(s))&&qWe(O,p,h,f),(O=c.match(n))&&UWe(O,p,h,f),(O=c.match(a))&&VWe(O,p,h,f),(O=c.match(r))&&YWe(O,p,f),p}})();function GWe(t,e){var r=t.read_shift(2),n=vs(t);return[r,n]}function HWe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=oUe(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var c=t.read_shift(1);c>0&&(n.family=c);var h=t.read_shift(1);switch(h>0&&(n.charset=h),t.l++,n.color=aUe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=vs(t),n}var KWe=_s;function JWe(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}var eYe=_s;function tYe(t,e,r){var n={};n.NumberFmt=[];for(var s in mr)n.NumberFmt[s]=mr[s];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return dd(t,function(h,f,p){switch(p){case 44:n.NumberFmt[h[0]]=h[1],ku(h[1],h[0]);break;case 43:n.Fonts.push(h),h.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(h.color.rgb=uC(e.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(p),l=!0;break;case 38:a.pop(),l=!1;break;default:if(f.T>0)a.push(p);else if(f.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),n}var rYe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nYe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ts)||[]).forEach(function(s){var a=or(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[rYe.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function iYe(){}function sYe(){}var aYe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,oYe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,lYe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function cYe(t,e,r){e.themeElements={};var n;[["clrScheme",aYe,nYe],["fontScheme",oYe,iYe],["fmtScheme",lYe,sYe]].forEach(function(s){if(!(n=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,e,r)})}var dYe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function kse(t,e){(!t||t.length===0)&&(t=hYe());var r,n={};if(!(r=t.match(dYe)))throw new Error("themeElements not found in theme");return cYe(r[0],n,e),n.raw=t,n}function hYe(t,e){var r=[Die];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function uYe(t,e,r){var n=t.l+e,s=t.read_shift(4);if(s!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var l;try{l=Pie(a,{type:"array"})}catch{return}var c=Qa(l,"theme/theme/theme1.xml",!0);if(c)return kse(c,r)}}function fYe(t){return t.read_shift(4)}function gYe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=pYe(t,4);break;case 2:e.xclrValue=ase(t);break;case 3:e.xclrValue=fYe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function pYe(t,e){return _s(t,e)}function mYe(t,e){return _s(t,e)}function OYe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=gYe(t);break;case 6:n[1]=mYe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function xYe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),a=[];s-- >0;)a.push(OYe(t,r-t.l));return{ixfe:n,ext:a}}function bYe(t,e){e.forEach(function(r){r[0]})}function kYe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:vs(t)}}function yYe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function wYe(t){return t.l+=4,t.read_shift(4)!=0}function vYe(t,e,r){var n={Types:[],Cell:[],Value:[]},s=r||{},a=[],l=!1,c=2;return dd(t,function(h,f,p){switch(p){case 335:n.Types.push({name:h.name});break;case 51:h.forEach(function(O){c==1?n.Cell.push({type:n.Types[O[0]-1].name,index:O[1]}):c==0&&n.Value.push({type:n.Types[O[0]-1].name,index:O[1]})});break;case 337:c=h?1:0;break;case 338:c=2;break;case 35:a.push(p),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!f.T){if(!l||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),n}function _Ye(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var s=!1,a=2,l;return t.replace(Ts,function(c){var h=or(c);switch(ec(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<n.Types.length;++f)n.Types[f].name==h.name&&(l=n.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[h.t-1].name,index:+h.v}):a==0&&n.Value.push({type:n.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+h.i);break;default:if(!s&&r.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return c}),n}function CYe(t){var e=[];if(!t)return e;var r=1;return(t.match(Ts)||[]).forEach(function(n){var s=or(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?r=s.i:s.i=r,e.push(s);break}}),e}function AYe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=fr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function SYe(t,e,r){var n=[];return dd(t,function(a,l,c){switch(c){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function TYe(t,e,r,n){if(!t)return t;var s=n||{},a=!1;dd(t,function(c,h,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!h.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},s)}function EYe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function dX(t,e,r,n){var s=Array.isArray(t),a;e.forEach(function(l){var c=Xs(l.ref);if(s?(t[c.r]||(t[c.r]=[]),a=t[c.r][c.c]):a=t[l.ref],!a){a={t:"z"},s?t[c.r][c.c]=a:t[l.ref]=a;var h=qn(t["!ref"]||"BDWGO1000001:A1");h.s.r>c.r&&(h.s.r=c.r),h.e.r<c.r&&(h.e.r=c.r),h.s.c>c.c&&(h.s.c=c.c),h.e.c<c.c&&(h.e.c=c.c);var f=Br(h);f!==t["!ref"]&&(t["!ref"]=f)}a.c||(a.c=[]);var p={a:l.author,t:l.t,r:l.r,T:r};l.h&&(p.h=l.h);for(var O=a.c.length-1;O>=0;--O){if(!r&&a.c[O].T)return;r&&!a.c[O].T&&a.c.splice(O,1)}if(r&&n){for(O=0;O<n.length;++O)if(p.a==n[O].id){p.a=n[O].name||p.a;break}}a.c.push(p)})}function PYe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?comment[^>]*>/);if(c){var h=or(c[0]),f={author:h.authorId&&r[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},p=Xs(h.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var O=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!O&&!!O[1]&&X8(O[1])||{r:"",t:"",h:""};f.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),f.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=x.h),n.push(f)}}}}),n}function DYe(t,e){var r=[],n=!1,s={},a=0;return t.replace(Ts,function(c,h){var f=or(c);switch(ec(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":s.t!=null&&r.push(s);break;case"<text>":case"<text":a=h+c.length;break;case"</text>":s.t=t.slice(a,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return c}),r}function QYe(t,e){var r=[],n=!1;return t.replace(Ts,function(a){var l=or(a);switch(ec(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function $Ye(t){var e={};e.iauthor=t.read_shift(4);var r=Ju(t);return e.rfx=r.s,e.ref=fr(r.s),t.l+=16,e}var MYe=vs;function RYe(t,e){var r=[],n=[],s={},a=!1;return dd(t,function(c,h,f){switch(f){case 632:n.push(c);break;case 635:s=c;break;case 637:s.t=c.t,s.h=c.h,s.r=c.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),r}var NYe="application/vnd.ms-office.vbaProject";function BYe(t){var e=Rr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Rr.utils.cfb_add(e,s,t.FileIndex[n].content)}}),Rr.write(e)}function IYe(){return{"!type":"dialog"}}function jYe(){return{"!type":"dialog"}}function FYe(){return{"!type":"macro"}}function LYe(){return{"!type":"macro"}}var _f=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,l){var c=!1,h=!1;a.length==0?h=!0:a.charAt(0)=="["&&(h=!0,a=a.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=a.length>0?parseInt(a,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return c?p+=e.c:--p,h?f+=e.r:--f,s+(c?"":"$")+wi(p)+(h?"":"$")+is(f)}return function(s,a){return e=a,s.replace(t,r)}})(),yse=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zYe=(function(){return function(e,r){return e.replace(yse,function(n,s,a,l,c,h){var f=B8(l)-(a?0:r.c),p=N8(h)-(c?0:r.r),O=p==0?"":c?p+1:"["+p+"]",x=f==0?"":a?f+1:"["+f+"]";return s+"R"+O+"C"+x})}})();function wse(t,e){return t.replace(yse,function(r,n,s,a,l,c){return n+(s=="$"?s+a:wi(B8(a)+e.c))+(l=="$"?l+c:is(N8(c)+e.r))})}function XYe(t,e,r){var n=Sg(e),s=n.s,a=Xs(r),l={r:a.r-s.r,c:a.c-s.c};return wse(t,l)}function VYe(t){return t.length!=1}function hX(t){return t.replace(/_xlfn\./g,"")}function li(t){t.l+=1}function Oh(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function vse(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _se(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),l=Oh(t),c=Oh(t);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function _se(t){var e=Oh(t),r=Oh(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function UYe(t,e,r){if(r.biff<8)return _se(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=Oh(t),l=Oh(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function Cse(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return qYe(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Oh(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function qYe(t){var e=Oh(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function WYe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function YYe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ZYe(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),l=(a&16384)>>14,c=(a&32768)>>15;if(a&=16383,c==1)for(;s>524287;)s-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:l,rRel:c}}function ZYe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function GYe(t,e,r){var n=(t[t.l++]&96)>>5,s=vse(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function HYe(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var l=vse(t,a,r);return[n,s,l]}function KYe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function JYe(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function eZe(t,e,r){var n=(t[t.l++]&96)>>5,s=UYe(t,e-1,r);return[n,s]}function tZe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function uX(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function rZe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function nZe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function iZe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function sZe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function aZe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Ase(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function oZe(t){return t.read_shift(2),Ase(t)}function lZe(t){return t.read_shift(2),Ase(t)}function cZe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=Cse(t,0,r);return[n,s]}function dZe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=YYe(t,0,r);return[n,s]}function hZe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=Cse(t,0,r);return[n,s,a]}function uZe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[fGe[s],Ese[s],n]}function fZe(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:gZe(t);return[s,(a[0]===0?Ese:uGe)[a[1]]]}function gZe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function pZe(t,e,r){t.l+=r&&r.biff==2?3:4}function mZe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function OZe(t){return t.l++,e0[t.read_shift(1)]}function xZe(t){return t.l++,t.read_shift(2)}function bZe(t){return t.l++,t.read_shift(1)!==0}function kZe(t){return t.l++,ms(t)}function yZe(t,e,r){return t.l++,Jx(t,e-1,r)}function wZe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Gn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=e0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ms(t);break;case 2:r[1]=t0(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vZe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?Ju:AA)(t));return s}function _Ze(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var c=0;c!=s;++c)l[a][c]=wZe(t,r.biff);return l}function CZe(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function AZe(t,e,r){if(r.biff==5)return SZe(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function SZe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function TZe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function EZe(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function PZe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function DZe(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var QZe=_s,$Ze=_s,MZe=_s;function tb(t,e,r){return t.l+=2,[WYe(t)]}function U8(t){return t.l+=6,[]}var RZe=tb,NZe=U8,BZe=U8,IZe=tb;function Sse(t){return t.l+=2,[di(t),t.read_shift(2)&1]}var jZe=tb,FZe=Sse,LZe=U8,zZe=tb,XZe=tb,VZe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function UZe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),l=VZe[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:s,C:a}}function qZe(t){return t.l+=2,[t.read_shift(4)]}function WZe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function YZe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZZe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function GZe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function HZe(t){return t.l+=4,[0,0]}var fX={1:{n:"PtgExp",f:mZe},2:{n:"PtgTbl",f:MZe},3:{n:"PtgAdd",f:li},4:{n:"PtgSub",f:li},5:{n:"PtgMul",f:li},6:{n:"PtgDiv",f:li},7:{n:"PtgPower",f:li},8:{n:"PtgConcat",f:li},9:{n:"PtgLt",f:li},10:{n:"PtgLe",f:li},11:{n:"PtgEq",f:li},12:{n:"PtgGe",f:li},13:{n:"PtgGt",f:li},14:{n:"PtgNe",f:li},15:{n:"PtgIsect",f:li},16:{n:"PtgUnion",f:li},17:{n:"PtgRange",f:li},18:{n:"PtgUplus",f:li},19:{n:"PtgUminus",f:li},20:{n:"PtgPercent",f:li},21:{n:"PtgParen",f:li},22:{n:"PtgMissArg",f:li},23:{n:"PtgStr",f:yZe},26:{n:"PtgSheet",f:WZe},27:{n:"PtgEndSheet",f:YZe},28:{n:"PtgErr",f:OZe},29:{n:"PtgBool",f:bZe},30:{n:"PtgInt",f:xZe},31:{n:"PtgNum",f:kZe},32:{n:"PtgArray",f:tZe},33:{n:"PtgFunc",f:uZe},34:{n:"PtgFuncVar",f:fZe},35:{n:"PtgName",f:CZe},36:{n:"PtgRef",f:cZe},37:{n:"PtgArea",f:GYe},38:{n:"PtgMemArea",f:TZe},39:{n:"PtgMemErr",f:QZe},40:{n:"PtgMemNoMem",f:$Ze},41:{n:"PtgMemFunc",f:EZe},42:{n:"PtgRefErr",f:PZe},43:{n:"PtgAreaErr",f:KYe},44:{n:"PtgRefN",f:dZe},45:{n:"PtgAreaN",f:eZe},46:{n:"PtgMemAreaN",f:ZZe},47:{n:"PtgMemNoMemN",f:GZe},57:{n:"PtgNameX",f:AZe},58:{n:"PtgRef3d",f:hZe},59:{n:"PtgArea3d",f:HYe},60:{n:"PtgRefErr3d",f:DZe},61:{n:"PtgAreaErr3d",f:JYe},255:{}},KZe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},JZe={1:{n:"PtgElfLel",f:Sse},2:{n:"PtgElfRw",f:zZe},3:{n:"PtgElfCol",f:RZe},6:{n:"PtgElfRwV",f:XZe},7:{n:"PtgElfColV",f:IZe},10:{n:"PtgElfRadical",f:jZe},11:{n:"PtgElfRadicalS",f:LZe},13:{n:"PtgElfColS",f:NZe},15:{n:"PtgElfColSV",f:BZe},16:{n:"PtgElfRadicalLel",f:FZe},25:{n:"PtgList",f:UZe},29:{n:"PtgSxName",f:qZe},255:{}},eGe={0:{n:"PtgAttrNoop",f:HZe},1:{n:"PtgAttrSemi",f:aZe},2:{n:"PtgAttrIf",f:iZe},4:{n:"PtgAttrChoose",f:rZe},8:{n:"PtgAttrGoto",f:nZe},16:{n:"PtgAttrSum",f:pZe},32:{n:"PtgAttrBaxcel",f:uX},33:{n:"PtgAttrBaxcel",f:uX},64:{n:"PtgAttrSpace",f:oZe},65:{n:"PtgAttrSpaceSemi",f:lZe},128:{n:"PtgAttrIfError",f:sZe},255:{}};function rb(t,e,r,n){if(n.biff<8)return _s(t,e);for(var s=t.l+e,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=_Ze(t,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=vZe(t,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=s-t.l,e!==0&&a.push(_s(t,e)),a}function nb(t,e,r){for(var n=t.l+e,s,a,l=[];n!=t.l;)e=n-t.l,a=t[t.l],s=fX[a]||fX[KZe[a]],(a===24||a===25)&&(s=(a===24?JZe:eGe)[t[t.l+1]]),!s||!s.f?_s(t,e):l.push([s.n,s.f(t,e,r)]);return l}function tGe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var rGe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nGe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Tse(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function gX(t,e,r){var n=Tse(t,e,r);return n=="#REF"?n:nGe(n,r)}function fs(t,e,r,n,s){var a=s&&s.biff||8,l={s:{c:0,r:0}},c=[],h,f,p,O=0,x=0,k,w="";if(!t[0]||!t[0][0])return"";for(var _=-1,C="",T=0,E=t[0].length;T<E;++T){var P=t[0][T];switch(P[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),f=c.pop(),_>=0){switch(t[0][_][1][0]){case 0:C=Un(" ",t[0][_][1][1]);break;case 1:C=Un("\r",t[0][_][1][1]);break;default:if(C="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}f=f+C,_=-1}c.push(f+rGe[P[0]]+h);break;case"PtgIsect":h=c.pop(),f=c.pop(),c.push(f+" "+h);break;case"PtgUnion":h=c.pop(),f=c.pop(),c.push(f+","+h);break;case"PtgRange":h=c.pop(),f=c.pop(),c.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=bO(P[1][1],l,s),c.push(kO(p,a));break;case"PtgRefN":p=r?bO(P[1][1],r,s):P[1][1],c.push(kO(p,a));break;case"PtgRef3d":O=P[1][1],p=bO(P[1][2],l,s),w=gX(n,O,s),c.push(w+"!"+kO(p,a));break;case"PtgFunc":case"PtgFuncVar":var Q=P[1][0],B=P[1][1];Q||(Q=0),Q&=127;var R=Q==0?[]:c.slice(-Q);c.length-=Q,B==="User"&&(B=R.shift()),c.push(B+"("+R.join(",")+")");break;case"PtgBool":c.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(P[1]);break;case"PtgNum":c.push(String(P[1]));break;case"PtgStr":c.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(P[1]);break;case"PtgAreaN":k=Yz(P[1][1],r?{s:r}:l,s),c.push(Q3(k,s));break;case"PtgArea":k=Yz(P[1][1],l,s),c.push(Q3(k,s));break;case"PtgArea3d":O=P[1][1],k=P[1][2],w=gX(n,O,s),c.push(w+"!"+Q3(k,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=P[1][2];var M=(n.names||[])[x-1]||(n[0]||[])[x],I=M?M.Name:"SH33TJSNAME"+String(x);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),c.push(I);break;case"PtgNameX":var j=P[1][1];x=P[1][2];var z;if(s.biff<=5)j<0&&(j=-j),n[j]&&(z=n[j][x]);else{var X="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][x]&&n[j][x].itab>0&&(X=n.SheetNames[n[j][x].itab-1]+"!"):X=n.SheetNames[x-1]+"!"),n[j]&&n[j][x])X+=n[j][x].Name;else if(n[0]&&n[0][x])X+=n[0][x].Name;else{var W=(Tse(n,j,s)||"").split(";;");W[x-1]?X=W[x-1]:X+="SH33TJSERRX"}c.push(X);break}z||(z={Name:"SH33TJSERRY"}),c.push(z.Name);break;case"PtgParen":var F="(",V=")";if(_>=0){switch(C="",t[0][_][1][0]){case 2:F=Un(" ",t[0][_][1][1])+F;break;case 3:F=Un("\r",t[0][_][1][1])+F;break;case 4:V=Un(" ",t[0][_][1][1])+V;break;case 5:V=Un("\r",t[0][_][1][1])+V;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}c.push(F+c.pop()+V);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:P[1][1],r:P[1][0]};var te={c:r.c,r:r.r};if(n.sharedf[fr(p)]){var G=n.sharedf[fr(p)];c.push(fs(G,l,te,n,s))}else{var J=!1;for(h=0;h!=n.arrayf.length;++h)if(f=n.arrayf[h],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){c.push(fs(f[1],l,te,n,s)),J=!0;break}J||c.push(P[1])}break;case"PtgArray":c.push("{"+tGe(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&_>=0&&oe.indexOf(t[0][T][0])==-1){P=t[0][_];var ie=!0;switch(P[1][0]){case 4:ie=!1;case 0:C=Un(" ",P[1][1]);break;case 5:ie=!1;case 1:C=Un("\r",P[1][1]);break;default:if(C="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}c.push((ie?C:"")+c.pop()+(ie?"":C)),_=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function iGe(t,e,r){var n=t.l+e,s=r.biff==2?1:2,a,l=t.read_shift(s);if(l==65535)return[[],_s(t,e-2)];var c=nb(t,l,r);return e!==l+s&&(a=rb(t,e-l-s,c,r)),t.l=n,[c,a]}function sGe(t,e,r){var n=t.l+e,s=r.biff==2?1:2,a,l=t.read_shift(s);if(l==65535)return[[],_s(t,e-2)];var c=nb(t,l,r);return e!==l+s&&(a=rb(t,e-l-s,c,r)),t.l=n,[c,a]}function aGe(t,e,r,n){var s=t.l+e,a=nb(t,n,r),l;return s!==t.l&&(l=rb(t,s-t.l,a,r)),[a,l]}function oGe(t,e,r){var n=t.l+e,s,a=t.read_shift(2),l=nb(t,a,r);return a==65535?[[],_s(t,e-2)]:(e!==a+2&&(s=rb(t,n-a-2,l,r)),[l,s])}function lGe(t){var e;if(Nc(t,t.l+6)!==65535)return[ms(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function R3(t,e,r){var n=t.l+e,s=tc(t);r.biff==2&&++t.l;var a=lGe(t),l=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=sGe(t,n-t.l,r);return{cell:s,val:a[0],formula:c,shared:l>>3&1,tt:a[1]}}function SA(t,e,r){var n=t.read_shift(4),s=nb(t,n,r),a=t.read_shift(4),l=a>0?rb(t,a,s,r):null;return[s,l]}var cGe=SA,TA=SA,dGe=SA,hGe=SA,uGe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ese={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fGe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pX(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function N3(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var _O={},Cf={};function CO(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Pse(t,e,r,n,s,a){try{n.cellNF&&(t.z=mr[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ni(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(mr[e]==null&&ku(gVe[e]||"General",e),t.t==="e")t.w=t.w||e0[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ux(t.v);else if(t.t==="d"){var l=Gs(t.v);(l|0)===l?t.w=l.toString(10):t.w=ux(l)}else{if(t.v===void 0)return"";t.w=ju(t.v,Cf)}else t.t==="d"?t.w=Oo(e,Gs(t.v),Cf):t.w=Oo(e,t.v,Cf)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=uC(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=uC(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&a.Fills)throw c}}}function gGe(t,e){var r=qn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Br(r))}var pGe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,mGe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,OGe=/<(?:\w:)?hyperlink [^>]*>/mg,xGe=/"(\w*:\w*)"/,bGe=/<(?:\w:)?col\b[^>]*[\/]?>/g,kGe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,yGe=/<(?:\w:)?pageMargins[^>]*\/>/g,Dse=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wGe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,vGe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function _Ge(t,e,r,n,s,a,l){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",p="",O=t.match(mGe);O?(f=t.slice(0,O.index),p=t.slice(O.index+O[0].length)):f=p=t;var x=f.match(Dse);x?q8(x[0],c,s,r):(x=f.match(wGe))&&CGe(x[0],x[1]||"",c,s,r);var k=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(k>0){var w=f.slice(k,k+50).match(xGe);w&&gGe(c,w[1])}var _=f.match(vGe);_&&_[1]&&DGe(_[1],s);var C=[];if(e.cellStyles){var T=f.match(bGe);T&&TGe(C,T)}O&&QGe(O[1],c,e,h,a,l);var E=p.match(kGe);E&&(c["!autofilter"]=EGe(E[0]));var P=[],Q=p.match(pGe);if(Q)for(k=0;k!=Q.length;++k)P[k]=qn(Q[k].slice(Q[k].indexOf('"')+1));var B=p.match(OGe);B&&AGe(c,B,n);var R=p.match(yGe);if(R&&(c["!margins"]=SGe(or(R[0]))),!c["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(c["!ref"]=Br(h)),e.sheetRows>0&&c["!ref"]){var M=qn(c["!ref"]);e.sheetRows<=+M.e.r&&(M.e.r=e.sheetRows-1,M.e.r>h.e.r&&(M.e.r=h.e.r),M.e.r<M.s.r&&(M.s.r=M.e.r),M.e.c>h.e.c&&(M.e.c=h.e.c),M.e.c<M.s.c&&(M.s.c=M.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Br(M))}return C.length>0&&(c["!cols"]=C),P.length>0&&(c["!merges"]=P),c}function q8(t,e,r,n){var s=or(t);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=jr(fn(s.codeName)))}function CGe(t,e,r,n,s){q8(t.slice(0,t.indexOf(">")),r,n,s)}function AGe(t,e,r){for(var n=Array.isArray(t),s=0;s!=e.length;++s){var a=or(fn(e[s]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+jr(a.location))):(a.Target="#"+jr(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var c=qn(a.ref),h=c.s.r;h<=c.e.r;++h)for(var f=c.s.c;f<=c.e.c;++f){var p=fr({c:f,r:h});n?(t[h]||(t[h]=[]),t[h][f]||(t[h][f]={t:"z",v:void 0}),t[h][f].l=a):(t[p]||(t[p]={t:"z",v:void 0}),t[p].l=a)}}}function SGe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function TGe(t,e){for(var r=!1,n=0;n!=e.length;++n){var s=or(e[n],!0);s.hidden&&(s.hidden=En(s.hidden));var a=parseInt(s.min,10)-1,l=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,V8(s.width)),og(s);a<=l;)t[a++]=ns(s)}}function EGe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var PGe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function DGe(t,e){e.Views||(e.Views=[{}]),(t.match(PGe)||[]).forEach(function(r,n){var s=or(r);e.Views[n]||(e.Views[n]={}),+s.zoomScale&&(e.Views[n].zoom=+s.zoomScale),En(s.rightToLeft)&&(e.Views[n].RTL=!0)})}var QGe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=fx("v"),l=fx("f");return function(h,f,p,O,x,k){for(var w=0,_="",C=[],T=[],E=0,P=0,Q=0,B="",R,M,I=0,j=0,z,X,W=0,F=0,V=Array.isArray(k.CellXf),te,G=[],J=[],oe=Array.isArray(f),ie=[],be={},he=!1,re=!!p.sheetStubs,ae=h.split(e),K=0,ce=ae.length;K!=ce;++K){_=ae[K].trim();var ye=_.length;if(ye!==0){var ke=0;e:for(w=0;w<ye;++w)switch(_[w]){case">":if(_[w-1]!="/"){++w;break e}if(p&&p.cellStyles){if(M=or(_.slice(ke,w),!0),I=M.r!=null?parseInt(M.r,10):I+1,j=-1,p.sheetRows&&p.sheetRows<I)continue;be={},he=!1,M.ht&&(he=!0,be.hpt=parseFloat(M.ht),be.hpx=Ox(be.hpt)),M.hidden=="1"&&(he=!0,be.hidden=!0),M.outlineLevel!=null&&(he=!0,be.level=+M.outlineLevel),he&&(ie[I-1]=be)}break;case"<":ke=w;break}if(ke>=w)break;if(M=or(_.slice(ke,w),!0),I=M.r!=null?parseInt(M.r,10):I+1,j=-1,!(p.sheetRows&&p.sheetRows<I)){O.s.r>I-1&&(O.s.r=I-1),O.e.r<I-1&&(O.e.r=I-1),p&&p.cellStyles&&(be={},he=!1,M.ht&&(he=!0,be.hpt=parseFloat(M.ht),be.hpx=Ox(be.hpt)),M.hidden=="1"&&(he=!0,be.hidden=!0),M.outlineLevel!=null&&(he=!0,be.level=+M.outlineLevel),he&&(ie[I-1]=be)),C=_.slice(w).split(t);for(var Ce=0;Ce!=C.length&&C[Ce].trim().charAt(0)=="<";++Ce);for(C=C.slice(Ce),w=0;w!=C.length;++w)if(_=C[w].trim(),_.length!==0){if(T=_.match(r),E=w,P=0,Q=0,_="<c "+(_.slice(0,1)=="<"?">":"")+_,T!=null&&T.length===2){for(E=0,B=T[1],P=0;P!=B.length&&!((Q=B.charCodeAt(P)-64)<1||Q>26);++P)E=26*E+Q;--E,j=E}else++j;for(P=0;P!=_.length&&_.charCodeAt(P)!==62;++P);if(++P,M=or(_.slice(0,P),!0),M.r||(M.r=fr({r:I-1,c:j})),B=_.slice(P),R={t:""},(T=B.match(a))!=null&&T[1]!==""&&(R.v=jr(T[1])),p.cellFormula){if((T=B.match(l))!=null&&T[1]!==""){if(R.f=jr(fn(T[1])).replace(/\r\n/g,`
`),p.xlfn||(R.f=hX(R.f)),T[0].indexOf('t="array"')>-1)R.F=(B.match(s)||[])[1],R.F.indexOf(":")>-1&&G.push([qn(R.F),R.F]);else if(T[0].indexOf('t="shared"')>-1){X=or(T[0]);var De=jr(fn(T[1]));p.xlfn||(De=hX(De)),J[parseInt(X.si,10)]=[X,De,M.r]}}else(T=B.match(/<f[^>]*\/>/))&&(X=or(T[0]),J[X.si]&&(R.f=XYe(J[X.si][1],J[X.si][2],M.r)));var Pe=Xs(M.r);for(P=0;P<G.length;++P)Pe.r>=G[P][0].s.r&&Pe.r<=G[P][0].e.r&&Pe.c>=G[P][0].s.c&&Pe.c<=G[P][0].e.c&&(R.F=G[P][1])}if(M.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(re)R.t="z";else continue;else R.t=M.t||"n";switch(O.s.c>j&&(O.s.c=j),O.e.c<j&&(O.e.c=j),R.t){case"n":if(R.v==""||R.v==null){if(!re)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!re)continue;R.t="z"}else z=_O[parseInt(R.v,10)],R.v=z.t,R.r=z.r,p.cellHTML&&(R.h=z.h);break;case"str":R.t="s",R.v=R.v!=null?fn(R.v):"",p.cellHTML&&(R.h=$8(R.v));break;case"inlineStr":T=B.match(n),R.t="s",T!=null&&(z=X8(T[1]))?(R.v=z.t,p.cellHTML&&(R.h=z.h)):R.v="";break;case"b":R.v=En(R.v);break;case"d":p.cellDates?R.v=Ni(R.v,1):(R.v=Gs(Ni(R.v,1)),R.t="n");break;case"e":(!p||p.cellText!==!1)&&(R.w=R.v),R.v=Kie[R.v];break}if(W=F=0,te=null,V&&M.s!==void 0&&(te=k.CellXf[M.s],te!=null&&(te.numFmtId!=null&&(W=te.numFmtId),p.cellStyles&&te.fillId!=null&&(F=te.fillId))),Pse(R,W,F,p,x,k),p.cellDates&&V&&R.t=="n"&&Ag(mr[W])&&(R.t="d",R.v=CA(R.v)),M.cm&&p.xlmeta){var Ee=(p.xlmeta.Cell||[])[+M.cm-1];Ee&&Ee.type=="XLDAPR"&&(R.D=!0)}if(oe){var de=Xs(M.r);f[de.r]||(f[de.r]=[]),f[de.r][de.c]=R}else f[M.r]=R}}}}ie.length>0&&(f["!rows"]=ie)}})();function $Ge(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}var MGe=Ju;function RGe(){}function NGe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=iUe(t),r}function BGe(t){var e=ko(t);return[e]}function IGe(t){var e=Ku(t);return[e]}function jGe(t){var e=ko(t),r=t.read_shift(1);return[e,r,"b"]}function FGe(t){var e=Ku(t),r=t.read_shift(1);return[e,r,"b"]}function LGe(t){var e=ko(t),r=t.read_shift(1);return[e,r,"e"]}function zGe(t){var e=Ku(t),r=t.read_shift(1);return[e,r,"e"]}function XGe(t){var e=ko(t),r=t.read_shift(4);return[e,r,"s"]}function VGe(t){var e=Ku(t),r=t.read_shift(4);return[e,r,"s"]}function UGe(t){var e=ko(t),r=ms(t);return[e,r,"n"]}function Qse(t){var e=Ku(t),r=ms(t);return[e,r,"n"]}function qGe(t){var e=ko(t),r=F8(t);return[e,r,"n"]}function WGe(t){var e=Ku(t),r=F8(t);return[e,r,"n"]}function YGe(t){var e=ko(t),r=I8(t);return[e,r,"is"]}function ZGe(t){var e=ko(t),r=vs(t);return[e,r,"str"]}function GGe(t){var e=Ku(t),r=vs(t);return[e,r,"str"]}function HGe(t,e,r){var n=t.l+e,s=ko(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"b"];if(r.cellFormula){t.l+=2;var c=TA(t,n-t.l,r);l[3]=fs(c,null,s,r.supbooks,r)}else t.l=n;return l}function KGe(t,e,r){var n=t.l+e,s=ko(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"e"];if(r.cellFormula){t.l+=2;var c=TA(t,n-t.l,r);l[3]=fs(c,null,s,r.supbooks,r)}else t.l=n;return l}function JGe(t,e,r){var n=t.l+e,s=ko(t);s.r=r["!row"];var a=ms(t),l=[s,a,"n"];if(r.cellFormula){t.l+=2;var c=TA(t,n-t.l,r);l[3]=fs(c,null,s,r.supbooks,r)}else t.l=n;return l}function eHe(t,e,r){var n=t.l+e,s=ko(t);s.r=r["!row"];var a=vs(t),l=[s,a,"str"];if(r.cellFormula){t.l+=2;var c=TA(t,n-t.l,r);l[3]=fs(c,null,s,r.supbooks,r)}else t.l=n;return l}var tHe=Ju;function rHe(t,e){var r=t.l+e,n=Ju(t),s=j8(t),a=vs(t),l=vs(t),c=vs(t);t.l=r;var h={rfx:n,relId:s,loc:a,display:c};return l&&(h.Tooltip=l),h}function nHe(){}function iHe(t,e,r){var n=t.l+e,s=Zie(t),a=t.read_shift(1),l=[s];if(l[2]=a,r.cellFormula){var c=cGe(t,n-t.l,r);l[1]=c}else t.l=n;return l}function sHe(t,e,r){var n=t.l+e,s=Ju(t),a=[s];if(r.cellFormula){var l=hGe(t,n-t.l,r);a[1]=l,t.l=n}else t.l=n;return a}var aHe=["left","right","top","bottom","header","footer"];function oHe(t){var e={};return aHe.forEach(function(r){e[r]=ms(t)}),e}function lHe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function cHe(){}function dHe(){}function hHe(t,e,r,n,s,a,l){if(!t)return t;var c=e||{};n||(n={"!id":{}});var h=c.dense?[]:{},f,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},O=!1,x=!1,k,w,_,C,T,E,P,Q,B,R=[];c.biff=12,c["!row"]=0;var M=0,I=!1,j=[],z={},X=c.supbooks||s.supbooks||[[]];if(X.sharedf=z,X.arrayf=j,X.SheetNames=s.SheetNames||s.Sheets.map(function(oe){return oe.name}),!c.supbooks&&(c.supbooks=X,s.Names))for(var W=0;W<s.Names.length;++W)X[0][W+1]=s.Names[W];var F=[],V=[],te=!1;pC[16]={n:"BrtShortReal",f:Qse};var G;if(dd(t,function(ie,be,he){if(!x)switch(he){case 148:f=ie;break;case 0:k=ie,c.sheetRows&&c.sheetRows<=k.r&&(x=!0),Q=is(C=k.r),c["!row"]=k.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=Ox(ie.hpt)),V[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:ie[2]},ie[2]){case"n":w.v=ie[1];break;case"s":P=_O[ie[1]],w.v=P.t,w.r=P.r;break;case"b":w.v=!!ie[1];break;case"e":w.v=ie[1],c.cellText!==!1&&(w.w=e0[w.v]);break;case"str":w.t="s",w.v=ie[1];break;case"is":w.t="s",w.v=ie[1].t;break}if((_=l.CellXf[ie[0].iStyleRef])&&Pse(w,_.numFmtId,null,c,a,l),T=ie[0].c==-1?T+1:ie[0].c,c.dense?(h[C]||(h[C]=[]),h[C][T]=w):h[wi(T)+Q]=w,c.cellFormula){for(I=!1,M=0;M<j.length;++M){var re=j[M];k.r>=re[0].s.r&&k.r<=re[0].e.r&&T>=re[0].s.c&&T<=re[0].e.c&&(w.F=Br(re[0]),I=!0)}!I&&ie.length>3&&(w.f=ie[3])}if(p.s.r>k.r&&(p.s.r=k.r),p.s.c>T&&(p.s.c=T),p.e.r<k.r&&(p.e.r=k.r),p.e.c<T&&(p.e.c=T),c.cellDates&&_&&w.t=="n"&&Ag(mr[_.numFmtId])){var ae=mu(w.v);ae&&(w.t="d",w.v=new Date(ae.y,ae.m-1,ae.d,ae.H,ae.M,ae.S,ae.u))}G&&(G.type=="XLDAPR"&&(w.D=!0),G=void 0);break;case 1:case 12:if(!c.sheetStubs||O)break;w={t:"z",v:void 0},T=ie[0].c==-1?T+1:ie[0].c,c.dense?(h[C]||(h[C]=[]),h[C][T]=w):h[wi(T)+Q]=w,p.s.r>k.r&&(p.s.r=k.r),p.s.c>T&&(p.s.c=T),p.e.r<k.r&&(p.e.r=k.r),p.e.c<T&&(p.e.c=T),G&&(G.type=="XLDAPR"&&(w.D=!0),G=void 0);break;case 176:R.push(ie);break;case 49:G=((c.xlmeta||{}).Cell||[])[ie-1];break;case 494:var K=n["!id"][ie.relId];for(K?(ie.Target=K.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=K):ie.relId==""&&(ie.Target="#"+ie.loc),C=ie.rfx.s.r;C<=ie.rfx.e.r;++C)for(T=ie.rfx.s.c;T<=ie.rfx.e.c;++T)c.dense?(h[C]||(h[C]=[]),h[C][T]||(h[C][T]={t:"z",v:void 0}),h[C][T].l=ie):(E=fr({c:T,r:C}),h[E]||(h[E]={t:"z",v:void 0}),h[E].l=ie);break;case 426:if(!c.cellFormula)break;j.push(ie),B=c.dense?h[C][T]:h[wi(T)+Q],B.f=fs(ie[1],p,{r:k.r,c:T},X,c),B.F=Br(ie[0]);break;case 427:if(!c.cellFormula)break;z[fr(ie[0].s)]=ie[1],B=c.dense?h[C][T]:h[wi(T)+Q],B.f=fs(ie[1],p,{r:k.r,c:T},X,c);break;case 60:if(!c.cellStyles)break;for(;ie.e>=ie.s;)F[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},te||(te=!0,V8(ie.w/256)),og(F[ie.e+1]);break;case 161:h["!autofilter"]={ref:Br(ie)};break;case 476:h["!margins"]=ie;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),ie.name&&(s.Sheets[r].CodeName=ie.name),(ie.above||ie.left)&&(h["!outline"]={above:ie.above,left:ie.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),ie.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:O=!0;break;case 36:O=!1;break;case 37:O=!0;break;case 38:O=!1;break;default:if(!be.T){if(!O||c.WTF)throw new Error("Unexpected record 0x"+he.toString(16))}}},c),delete c.supbooks,delete c["!row"],!h["!ref"]&&(p.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(h["!ref"]=Br(f||p)),c.sheetRows&&h["!ref"]){var J=qn(h["!ref"]);c.sheetRows<=+J.e.r&&(J.e.r=c.sheetRows-1,J.e.r>p.e.r&&(J.e.r=p.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>p.e.c&&(J.e.c=p.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),h["!fullref"]=h["!ref"],h["!ref"]=Br(J))}return R.length>0&&(h["!merges"]=R),F.length>0&&(h["!cols"]=F),V.length>0&&(h["!rows"]=V),h}function uHe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=r?+l[2]:l[2])});var s=jr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,s,n]}function fHe(t,e,r,n,s,a){var l=a||{"!type":"chart"};if(!t)return a;var c=0,h=0,f="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(O){var x=uHe(O);p.s.r=p.s.c=0,p.e.c=c,f=wi(c),x[0].forEach(function(k,w){l[f+is(w)]={t:"n",v:k,z:x[1]},h=w}),p.e.r<h&&(p.e.r=h),++c}),c>0&&(l["!ref"]=Br(p)),l}function gHe(t,e,r,n,s){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,c=t.match(Dse);return c&&q8(c[0],a,s,r),(l=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function pHe(t,e){t.l+=10;var r=vs(t);return{name:r}}function mHe(t,e,r,n,s){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return dd(t,function(h,f,p){switch(p){case 550:a["!rel"]=h;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),h.name&&(s.Sheets[r].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var $se=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],OHe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],xHe=[],bHe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function mX(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],s=0;s!=e.length;++s){var a=e[s];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=En(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function OX(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=En(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Mse(t){OX(t.WBProps,$se),OX(t.CalcPr,bHe),mX(t.WBView,OHe),mX(t.Sheets,xHe),Cf.date1904=En(t.WBProps.date1904)}var kHe="][*?/\\".split("");function yHe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return kHe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var wHe=/<\w+:workbook/;function vHe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",a={},l=0;if(t.replace(Ts,function(h,f){var p=or(h);switch(ec(p[0])){case"<?xml":break;case"<workbook":h.match(wHe)&&(s="xmlns"+h.match(/<(\w+):/)[1]),r.xmlns=p[s];break;case"</workbook>":break;case"<fileVersion":delete p[0],r.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":$se.forEach(function(O){if(p[O[0]]!=null)switch(O[2]){case"bool":r.WBProps[O[0]]=En(p[O[0]]);break;case"int":r.WBProps[O[0]]=parseInt(p[O[0]],10);break;default:r.WBProps[O[0]]=p[O[0]]}}),p.codeName&&(r.WBProps.CodeName=fn(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],r.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=jr(fn(p.name)),delete p[0],r.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=fn(p.name),p.comment&&(a.Comment=p.comment),p.localSheetId&&(a.Sheet=+p.localSheetId),En(p.hidden||"0")&&(a.Hidden=!0),l=f+h.length;break;case"</definedName>":a.Ref=jr(fn(t.slice(l,f))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete p[0],r.CalcPr=p;break;case"<calcPr/>":delete p[0],r.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return h}),LVe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Mse(r),r}function _He(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=_6(t),r.name=vs(t),r}function CHe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?vs(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function AHe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function SHe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=sUe(t),l=dGe(t,0,r),c=j8(t);t.l=n;var h={Name:a,Ptg:l};return s<268435455&&(h.Sheet=s),c&&(h.Comment=c),h}function THe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;e||(e={}),e.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],pC[16]={n:"BrtFRTArchID$",f:AHe},dd(t,function(h,f,p){switch(p){case 156:l.SheetNames.push(h.name),r.Sheets.push(h);break;case 153:r.WBProps=h;break;case 39:h.Sheet!=null&&(e.SID=h.Sheet),h.Ref=fs(h.Ptg,null,null,l,e),delete e.SID,delete h.Ptg,a.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([p,h]):l[0]=[p,h],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(h),l.XTI=l.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(p),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(p),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!f.T){if(!s||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),Mse(r),r.Names=a,r.supbooks=l,r}function EHe(t,e,r){return e.slice(-4)===".bin"?THe(t,r):vHe(t,r)}function PHe(t,e,r,n,s,a,l,c){return e.slice(-4)===".bin"?hHe(t,n,r,s,a,l,c):_Ge(t,n,r,s,a,l,c)}function DHe(t,e,r,n,s,a,l,c){return e.slice(-4)===".bin"?mHe(t,n,r,s,a):gHe(t,n,r,s,a)}function QHe(t,e,r,n,s,a,l,c){return e.slice(-4)===".bin"?FYe():LYe()}function $He(t,e,r,n,s,a,l,c){return e.slice(-4)===".bin"?IYe():jYe()}function MHe(t,e,r,n){return e.slice(-4)===".bin"?tYe(t,r,n):ZWe(t,r,n)}function RHe(t,e,r){return kse(t,r)}function NHe(t,e,r){return e.slice(-4)===".bin"?OWe(t,r):pWe(t,r)}function BHe(t,e,r){return e.slice(-4)===".bin"?RYe(t,r):PYe(t,r)}function IHe(t,e,r){return e.slice(-4)===".bin"?SYe(t):CYe(t)}function jHe(t,e,r,n){return r.slice(-4)===".bin"?TYe(t,e,r,n):void 0}function FHe(t,e,r){return e.slice(-4)===".bin"?vYe(t,e,r):_Ye(t,e,r)}var Rse=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Nse=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function No(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var s=t.match(Rse),a,l,c,h;if(s)for(h=0;h!=s.length;++h)a=s[h].match(Nse),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?c="xmlns"+a[1].slice(6):c=a[1].slice(l+1),n[c]=a[2].slice(1,a[2].length-1));return n}function LHe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(Rse),s,a,l,c;if(n)for(c=0;c!=n.length;++c)s=n[c].match(Nse),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(a+1),r[l]=s[2].slice(1,s[2].length-1));return r}var AO;function zHe(t,e){var r=AO[t]||jr(t);return r==="General"?ju(e):Oo(r,e)}function XHe(t,e,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=En(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=Ni(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[jr(e)]=s}function VHe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||e0[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ux(t.v):t.w=ju(t.v):t.w=zHe(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=AO[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Ag(n)){var s=mu(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(r.WTF)throw a}}}function UHe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=XWe[n.Pattern]||n.Pattern)}t[e.ID]=e}function qHe(t,e,r,n,s,a,l,c,h,f){var p="General",O=n.StyleID,x={};f=f||{};var k=[],w=0;for(O===void 0&&c&&(O=c.StyleID),O===void 0&&l&&(O=l.StyleID);a[O]!==void 0&&(a[O].nf&&(p=a[O].nf),a[O].Interior&&k.push(a[O].Interior),!!a[O].Parent);)O=a[O].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=En(t);break;case"String":n.t="s",n.r=jz(jr(t)),n.v=t.indexOf("<")>-1?jr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ni(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=jr(t):n.v<60&&(n.v=n.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Kie[t],f.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=jz(e||t));break}if(VHe(n,p,f),f.cellFormula!==!1)if(n.Formula){var _=jr(n.Formula);_.charCodeAt(0)==61&&(_=_.slice(1)),n.f=_f(_,s),delete n.Formula,n.ArrayRange=="RC"?n.F=_f("RC:RC",s):n.ArrayRange&&(n.F=_f(n.ArrayRange,s),h.push([qn(n.F),n.F]))}else for(w=0;w<h.length;++w)s.r>=h[w][0].s.r&&s.r<=h[w][0].e.r&&s.c>=h[w][0].s.c&&s.c<=h[w][0].e.c&&(n.F=h[w][1]);f.cellStyles&&(k.forEach(function(C){!x.patternType&&C.patternType&&(x.patternType=C.patternType)}),n.s=x),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function WHe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function B3(t,e){var r=e||{};_ie();var n=Y1(M8(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=fn(n));var s=n.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var l=ns(r);return l.type="string",px.to_workbook(n,l)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){s.indexOf("<"+Ge)>=0&&(a=!0)}),a)return rKe(n,r);AO={"General Number":"General","General Date":mr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":mr[15],"Short Date":mr[14],"Long Time":mr[19],"Medium Time":mr[18],"Short Time":mr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:mr[2],Standard:mr[4],Percent:mr[10],Scientific:mr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,h=[],f,p={},O=[],x=r.dense?[]:{},k="",w={},_={},C=No('<Data ss:Type="String">'),T=0,E=0,P=0,Q={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},R={},M="",I=0,j=[],z={},X={},W=0,F=[],V=[],te={},G=[],J,oe=!1,ie=[],be=[],he={},re=0,ae=0,K={Sheets:[],WBProps:{date1904:!1}},ce={};gx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ye="";c=gx.exec(n);)switch(c[3]=(ye=c[3]).toLowerCase()){case"data":if(ye=="data"){if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break}if(h[h.length-1][1])break;c[1]==="/"?qHe(n.slice(T,c.index),M,C,h[h.length-1][0]=="comment"?te:w,{c:E,r:P},B,G[E],_,ie,r):(M="",C=No(c[0]),T=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(V.length>0&&(w.c=V),(!r.sheetRows||r.sheetRows>P)&&w.v!==void 0&&(r.dense?(x[P]||(x[P]=[]),x[P][E]=w):x[wi(E)+is(P)]=w),w.HRef&&(w.l={Target:jr(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(re=E+(parseInt(w.MergeAcross,10)|0),ae=P+(parseInt(w.MergeDown,10)|0),j.push({s:{c:E,r:P},e:{c:re,r:ae}})),!r.sheetStubs)w.MergeAcross?E=re+1:++E;else if(w.MergeAcross||w.MergeDown){for(var ke=E;ke<=re;++ke)for(var Ce=P;Ce<=ae;++Ce)(ke>E||Ce>P)&&(r.dense?(x[Ce]||(x[Ce]=[]),x[Ce][ke]={t:"z"}):x[wi(ke)+is(Ce)]={t:"z"});E=re+1}else++E;else w=LHe(c[0]),w.Index&&(E=+w.Index-1),E<Q.s.c&&(Q.s.c=E),E>Q.e.c&&(Q.e.c=E),c[0].slice(-2)==="/>"&&++E,V=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(P<Q.s.r&&(Q.s.r=P),P>Q.e.r&&(Q.e.r=P),c[0].slice(-2)==="/>"&&(_=No(c[0]),_.Index&&(P=+_.Index-1)),E=0,++P):(_=No(c[0]),_.Index&&(P=+_.Index-1),he={},(_.AutoFitHeight=="0"||_.Height)&&(he.hpx=parseInt(_.Height,10),he.hpt=bse(he.hpx),be[P]=he),_.Hidden=="1"&&(he.hidden=!0,be[P]=he));break;case"worksheet":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));O.push(k),Q.s.r<=Q.e.r&&Q.s.c<=Q.e.c&&(x["!ref"]=Br(Q),r.sheetRows&&r.sheetRows<=Q.e.r&&(x["!fullref"]=x["!ref"],Q.e.r=r.sheetRows-1,x["!ref"]=Br(Q))),j.length&&(x["!merges"]=j),G.length>0&&(x["!cols"]=G),be.length>0&&(x["!rows"]=be),p[k]=x}else Q={s:{r:2e6,c:2e6},e:{r:0,c:0}},P=E=0,h.push([c[3],!1]),f=No(c[0]),k=jr(f.Name),x=r.dense?[]:{},j=[],ie=[],be=[],ce={name:k,Hidden:0},K.Sheets.push(ce);break;case"table":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else{if(c[0].slice(-2)=="/>")break;h.push([c[3],!1]),G=[],oe=!1}break;case"style":c[1]==="/"?UHe(B,R,r):R=No(c[0]);break;case"numberformat":R.nf=jr(No(c[0]).Format||"General"),AO[R.nf]&&(R.nf=AO[R.nf]);for(var De=0;De!=392&&mr[De]!=R.nf;++De);if(De==392){for(De=57;De!=392;++De)if(mr[De]==null){ku(R.nf,De);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(J=No(c[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!oe&&J.wpx>10){oe=!0,Bs=Ose;for(var Pe=0;Pe<G.length;++Pe)G[Pe]&&og(G[Pe])}oe&&og(J),G[J.Index-1||G.length]=J;for(var Ee=0;Ee<+J.Span;++Ee)G[G.length]=ns(J);break;case"namedrange":if(c[1]==="/")break;K.Names||(K.Names=[]);var de=or(c[0]),Re={Name:de.Name,Ref:_f(de.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Re.Sheet=K.Sheets.length-1),K.Names.push(Re);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?M+=n.slice(I,c.index):I=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;R.Interior=No(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?PUe(z,ye,n.slice(W,c.index)):W=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else h.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));WHe(te),V.push(te)}else h.push([c[3],!1]),f=No(c[0]),te={a:f.Author};break;case"autofilter":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Be=No(c[0]);x["!autofilter"]={ref:_f(Be.Range).replace(/\$/g,"")},h.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((f=h.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"null":break;default:if(h.length==0&&c[3]=="document"||h.length==0&&c[3]=="uof")return vX(n,r);var He=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:He=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:He=!1}break;case"excelworkbook":switch(c[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:He=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:He=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(W,c.index)){case"SheetHidden":ce.Hidden=1;break;case"SheetVeryHidden":ce.Hidden=2;break}else W=c.index+c[0].length;break;case"header":x["!margins"]||CO(x["!margins"]={},"xlml"),isNaN(+or(c[0]).Margin)||(x["!margins"].header=+or(c[0]).Margin);break;case"footer":x["!margins"]||CO(x["!margins"]={},"xlml"),isNaN(+or(c[0]).Margin)||(x["!margins"].footer=+or(c[0]).Margin);break;case"pagemargins":var Ye=or(c[0]);x["!margins"]||CO(x["!margins"]={},"xlml"),isNaN(+Ye.Top)||(x["!margins"].top=+Ye.Top),isNaN(+Ye.Left)||(x["!margins"].left=+Ye.Left),isNaN(+Ye.Right)||(x["!margins"].right=+Ye.Right),isNaN(+Ye.Bottom)||(x["!margins"].bottom=+Ye.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:He=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:He=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:He=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:He=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:He=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:He=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:He=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:He=!1}break;case"smarttags":break;default:He=!1;break}if(He||c[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?XHe(X,ye,F,n.slice(W,c.index)):(F=c,W=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+h.join("|")}var Ze={};return!r.bookSheets&&!r.bookProps&&(Ze.Sheets=p),Ze.SheetNames=O,Ze.Workbook=K,Ze.SSF=ns(mr),Ze.Props=z,Ze.Custprops=X,Ze}function T6(t,e){switch(Z8(e=e||{}),e.type||"base64"){case"base64":return B3(ja(t),e);case"binary":case"buffer":case"file":return B3(t,e);case"array":return B3(Hu(t),e)}}function YHe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=lUe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=cUe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var ZHe=[60,1084,2066,2165,2175];function GHe(t,e,r,n,s){var a=n,l=[],c=r.slice(r.l,r.l+a);if(s&&s.enc&&s.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(c)}l.push(c),r.l+=a;for(var h=Nc(r,r.l),f=E6[h],p=0;f!=null&&ZHe.indexOf(h)>-1;)a=Nc(r,r.l+2),p=r.l+4,h==2066?p+=4:(h==2165||h==2175)&&(p+=12),c=r.slice(p,r.l+4+a),l.push(c),r.l+=4+a,f=E6[h=Nc(r,r.l)];var O=Id(l);Hi(O,0);var x=0;O.lens=[];for(var k=0;k<l.length;++k)O.lens.push(x),x+=l[k].length;if(O.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+O.length+" < "+n;return e.f(O,O.length,s)}function _l(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=mr[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||e0[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ux(t.v):t.w=ju(t.v):t.w=Oo(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&Ag(mr[n]||String(n))){var s=mu(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function yv(t,e,r){return{v:t,ixfe:e,t:r}}function HHe(t,e){var r={opts:{}},n={},s=e.dense?[]:{},a={},l={},c=null,h=[],f="",p={},O,x="",k,w,_,C,T={},E=[],P,Q,B=[],R=[],M={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},j=function(kt){return kt<8?yu[kt]:kt<64&&R[kt-8]||yu[kt]},z=function(kt,Nt,dr){var pr=Nt.XF.data;if(!(!pr||!pr.patternType||!dr||!dr.cellStyles)){Nt.s={},Nt.s.patternType=pr.patternType;var Lr;(Lr=mx(j(pr.icvFore)))&&(Nt.s.fgColor={rgb:Lr}),(Lr=mx(j(pr.icvBack)))&&(Nt.s.bgColor={rgb:Lr})}},X=function(kt,Nt,dr){if(!(he>1)&&!(dr.sheetRows&&kt.r>=dr.sheetRows)){if(dr.cellStyles&&Nt.XF&&Nt.XF.data&&z(kt,Nt,dr),delete Nt.ixfe,delete Nt.XF,O=kt,x=fr(kt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),kt.r<l.s.r&&(l.s.r=kt.r),kt.c<l.s.c&&(l.s.c=kt.c),kt.r+1>l.e.r&&(l.e.r=kt.r+1),kt.c+1>l.e.c&&(l.e.c=kt.c+1),dr.cellFormula&&Nt.f){for(var pr=0;pr<E.length;++pr)if(!(E[pr][0].s.c>kt.c||E[pr][0].s.r>kt.r)&&!(E[pr][0].e.c<kt.c||E[pr][0].e.r<kt.r)){Nt.F=Br(E[pr][0]),(E[pr][0].s.c!=kt.c||E[pr][0].s.r!=kt.r)&&delete Nt.f,Nt.f&&(Nt.f=""+fs(E[pr][1],l,kt,ie,W));break}}dr.dense?(s[kt.r]||(s[kt.r]=[]),s[kt.r][kt.c]=Nt):s[x]=Nt}},W={enc:!1,sbcch:0,snames:[],sharedf:T,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(W.password=e.password);var F,V=[],te=[],G=[],J=[],oe=!1,ie=[];ie.SheetNames=W.snames,ie.sharedf=W.sharedf,ie.arrayf=W.arrayf,ie.names=[],ie.XTI=[];var be=0,he=0,re=0,ae=[],K=[],ce;W.codepage=1200,Yo(1200);for(var ye=!1;t.l<t.length-1;){var ke=t.l,Ce=t.read_shift(2);if(Ce===0&&be===10)break;var De=t.l===t.length?0:t.read_shift(2),Pe=E6[Ce];if(Pe&&Pe.f){if(e.bookSheets&&be===133&&Ce!==133)break;if(be=Ce,Pe.r===2||Pe.r==12){var Ee=t.read_shift(2);if(De-=2,!W.enc&&Ee!==Ce&&((Ee&255)<<8|Ee>>8)!==Ce)throw new Error("rt mismatch: "+Ee+"!="+Ce);Pe.r==12&&(t.l+=10,De-=10)}var de={};if(Ce===10?de=Pe.f(t,De,W):de=GHe(Ce,Pe,t,De,W),he==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(Ce){case 34:r.opts.Date1904=M.WBProps.date1904=de;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(W.enc||(t.l=0),W.enc=de,!e.password)throw new Error("File is password-protected");if(de.valid==null)throw new Error("Encryption scheme unsupported");if(!de.valid)throw new Error("Password is incorrect");break;case 92:W.lastuser=de;break;case 66:var Re=Number(de);switch(Re){case 21010:Re=1200;break;case 32768:Re=1e4;break;case 32769:Re=1252;break}Yo(W.codepage=Re),ye=!0;break;case 317:W.rrtabid=de;break;case 25:W.winlocked=de;break;case 439:r.opts.RefreshAll=de;break;case 12:r.opts.CalcCount=de;break;case 16:r.opts.CalcDelta=de;break;case 17:r.opts.CalcIter=de;break;case 13:r.opts.CalcMode=de;break;case 14:r.opts.CalcPrecision=de;break;case 95:r.opts.CalcSaveRecalc=de;break;case 15:W.CalcRefMode=de;break;case 2211:r.opts.FullCalc=de;break;case 129:de.fDialog&&(s["!type"]="dialog"),de.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),de.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:B.push(de);break;case 430:ie.push([de]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(de);break;case 24:case 536:ce={Name:de.Name,Ref:fs(de.rgce,l,null,ie,W)},de.itab>0&&(ce.Sheet=de.itab-1),ie.names.push(ce),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(de),de.Name=="_xlnm._FilterDatabase"&&de.itab>0&&de.rgce&&de.rgce[0]&&de.rgce[0][0]&&de.rgce[0][0][0]=="PtgArea3d"&&(K[de.itab-1]={ref:Br(de.rgce[0][0][1][2])});break;case 22:W.ExternCount=de;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(de),ie.XTI=ie.XTI.concat(de);break;case 2196:if(W.biff<8)break;ce!=null&&(ce.Comment=de[1]);break;case 18:s["!protect"]=de;break;case 19:de!==0&&W.WTF&&console.error("Password verifier: "+de);break;case 133:a[de.pos]=de,W.snames.push(de.name);break;case 10:{if(--he)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,s["!ref"]=Br(l),e.sheetRows&&e.sheetRows<=l.e.r){var Be=l.e.r;l.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Br(l),l.e.r=Be}l.e.r++,l.e.c++}V.length>0&&(s["!merges"]=V),te.length>0&&(s["!objects"]=te),G.length>0&&(s["!cols"]=G),J.length>0&&(s["!rows"]=J),M.Sheets.push(I)}f===""?p=s:n[f]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(W.biff===8&&(W.biff={9:2,521:3,1033:4}[Ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[de.BIFFVer]||8),W.biffguess=de.BIFFVer==0,de.BIFFVer==0&&de.dt==4096&&(W.biff=5,ye=!0,Yo(W.codepage=28591)),W.biff==8&&de.BIFFVer==0&&de.dt==16&&(W.biff=2),he++)break;if(s=e.dense?[]:{},W.biff<8&&!ye&&(ye=!0,Yo(W.codepage=e.codepage||1252)),W.biff<5||de.BIFFVer==0&&de.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var He={pos:t.l-De,name:f};a[He.pos]=He,W.snames.push(f)}else f=(a[ke]||{name:""}).name;de.dt==32&&(s["!type"]="chart"),de.dt==64&&(s["!type"]="macro"),V=[],te=[],W.arrayf=E=[],G=[],J=[],oe=!1,I={Hidden:(a[ke]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[de.r]||[])[de.c]:s[fr({c:de.c,r:de.r})])&&++de.c,P={ixfe:de.ixfe,XF:B[de.ixfe]||{},v:de.val,t:"n"},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e);break;case 5:case 517:P={ixfe:de.ixfe,XF:B[de.ixfe],v:de.val,t:de.t},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e);break;case 638:P={ixfe:de.ixfe,XF:B[de.ixfe],v:de.rknum,t:"n"},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e);break;case 189:for(var Ye=de.c;Ye<=de.C;++Ye){var Ze=de.rkrec[Ye-de.c][0];P={ixfe:Ze,XF:B[Ze],v:de.rkrec[Ye-de.c][1],t:"n"},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:Ye,r:de.r},P,e)}break;case 6:case 518:case 1030:{if(de.val=="String"){c=de;break}if(P=yv(de.val,de.cell.ixfe,de.tt),P.XF=B[P.ixfe],e.cellFormula){var Ge=de.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var Qt=Ge[0][0][1][0],gr=Ge[0][0][1][1],Or=fr({r:Qt,c:gr});T[Or]?P.f=""+fs(de.formula,l,de.cell,ie,W):P.F=((e.dense?(s[Qt]||[])[gr]:s[Or])||{}).F}else P.f=""+fs(de.formula,l,de.cell,ie,W)}re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X(de.cell,P,e),c=de}break;case 7:case 519:if(c)c.val=de,P=yv(de,c.cell.ixfe,"s"),P.XF=B[P.ixfe],e.cellFormula&&(P.f=""+fs(c.formula,l,c.cell,ie,W)),re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X(c.cell,P,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(de);var kr=fr(de[0].s);if(k=e.dense?(s[de[0].s.r]||[])[de[0].s.c]:s[kr],e.cellFormula&&k){if(!c||!kr||!k)break;k.f=""+fs(de[1],l,de[0],ie,W),k.F=Br(de[0])}}break;case 1212:{if(!e.cellFormula)break;if(x){if(!c)break;T[fr(c.cell)]=de[0],k=e.dense?(s[c.cell.r]||[])[c.cell.c]:s[fr(c.cell)],(k||{}).f=""+fs(de[0],l,O,ie,W)}}break;case 253:P=yv(h[de.isst].t,de.ixfe,"s"),h[de.isst].h&&(P.h=h[de.isst].h),P.XF=B[P.ixfe],re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e);break;case 513:e.sheetStubs&&(P={ixfe:de.ixfe,XF:B[de.ixfe],t:"z"},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e));break;case 190:if(e.sheetStubs)for(var lt=de.c;lt<=de.C;++lt){var st=de.ixfe[lt-de.c];P={ixfe:st,XF:B[st],t:"z"},re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:lt,r:de.r},P,e)}break;case 214:case 516:case 4:P=yv(de.val,de.ixfe,"s"),P.XF=B[P.ixfe],re>0&&(P.z=ae[P.ixfe>>8&63]),_l(P,e,r.opts.Date1904),X({c:de.c,r:de.r},P,e);break;case 0:case 512:he===1&&(l=de);break;case 252:h=de;break;case 1054:if(W.biff==4){ae[re++]=de[1];for(var xt=0;xt<re+163&&mr[xt]!=de[1];++xt);xt>=163&&ku(de[1],re+163)}else ku(de[1],de[0]);break;case 30:{ae[re++]=de;for(var tt=0;tt<re+163&&mr[tt]!=de;++tt);tt>=163&&ku(de,re+163)}break;case 229:V=V.concat(de);break;case 93:te[de.cmo[0]]=W.lastobj=de;break;case 438:W.lastobj.TxO=de;break;case 127:W.lastobj.ImData=de;break;case 440:for(C=de[0].s.r;C<=de[0].e.r;++C)for(_=de[0].s.c;_<=de[0].e.c;++_)k=e.dense?(s[C]||[])[_]:s[fr({c:_,r:C})],k&&(k.l=de[1]);break;case 2048:for(C=de[0].s.r;C<=de[0].e.r;++C)for(_=de[0].s.c;_<=de[0].e.c;++_)k=e.dense?(s[C]||[])[_]:s[fr({c:_,r:C})],k&&k.l&&(k.l.Tooltip=de[1]);break;case 28:{if(W.biff<=5&&W.biff>=2)break;k=e.dense?(s[de[0].r]||[])[de[0].c]:s[fr(de[0])];var Ct=te[de[2]];k||(e.dense?(s[de[0].r]||(s[de[0].r]=[]),k=s[de[0].r][de[0].c]={t:"z"}):k=s[fr(de[0])]={t:"z"},l.e.r=Math.max(l.e.r,de[0].r),l.s.r=Math.min(l.s.r,de[0].r),l.e.c=Math.max(l.e.c,de[0].c),l.s.c=Math.min(l.s.c,de[0].c)),k.c||(k.c=[]),w={a:de[1],t:Ct.TxO.t},k.c.push(w)}break;case 2173:bYe(B[de.ixfe],de.ext);break;case 125:{if(!W.cellStyles)break;for(;de.e>=de.s;)G[de.e--]={width:de.w/256,level:de.level||0,hidden:!!(de.flags&1)},oe||(oe=!0,V8(de.w/256)),og(G[de.e+1])}break;case 520:{var Gt={};de.level!=null&&(J[de.r]=Gt,Gt.level=de.level),de.hidden&&(J[de.r]=Gt,Gt.hidden=!0),de.hpt&&(J[de.r]=Gt,Gt.hpt=de.hpt,Gt.hpx=Ox(de.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||CO(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ce]]=de;break;case 161:s["!margins"]||CO(s["!margins"]={}),s["!margins"].header=de.header,s["!margins"].footer=de.footer;break;case 574:de.RTL&&(M.Views[0].RTL=!0);break;case 146:R=de;break;case 2198:F=de;break;case 140:Q=de;break;case 442:f?I.CodeName=de||I.name:M.WBProps.CodeName=de||"ThisWorkbook";break}}else Pe||console.error("Missing Info for XLS Record 0x"+Ce.toString(16)),t.l+=De}return r.SheetNames=Vl(a).sort(function(cr,kt){return Number(cr)-Number(kt)}).map(function(cr){return a[cr].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&p["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=p)):r.Preamble=p,r.Sheets&&K.forEach(function(cr,kt){r.Sheets[r.SheetNames[kt]]["!autofilter"]=cr}),r.Strings=h,r.SSF=ns(mr),W.enc&&(r.Encryption=W.enc),F&&(r.Themes=F),r.Metadata={},Q!==void 0&&(r.Metadata.Country=Q),ie.names.length>0&&(M.Names=ie.names),r.Workbook=M,r}var xX={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function KHe(t,e,r){var n=Rr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=tX(n,pUe,xX.DSI);for(var a in s)e[a]=s[a]}catch(f){if(r.WTF)throw f}var l=Rr.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var c=tX(l,mUe,xX.SI);for(var h in c)e[h]==null&&(e[h]=c[h])}catch(f){if(r.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(ese(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Bse(t,e){e||(e={}),Z8(e),uie(),e.codepage&&S8(e.codepage);var r,n;if(t.FullPaths){if(Rr.find(t,"/encryption"))throw new Error("File is password-protected");r=Rr.find(t,"!CompObj"),n=Rr.find(t,"/Workbook")||Rr.find(t,"/Book")}else{switch(e.type){case"base64":t=qo(ja(t));break;case"binary":t=qo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Hi(t,0),n={content:t}}var s,a;if(r&&YHe(r),e.bookProps&&!e.bookSheets)s={};else{var l=Qr?"buffer":"array";if(n&&n.content)s=HHe(n.content,e);else if((a=Rr.find(t,"PerfectOffice_MAIN"))&&a.content)s=vO.to_workbook(a.content,(e.type=l,e));else if((a=Rr.find(t,"NativeContent_MAIN"))&&a.content)s=vO.to_workbook(a.content,(e.type=l,e));else throw(a=Rr.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Rr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=BYe(t))}var c={};return t.FullPaths&&KHe(t,c,e),s.Props=s.Custprops=c,e.bookFiles&&(s.cfb=t),s}var pC={0:{f:$Ge},1:{f:BGe},2:{f:qGe},3:{f:LGe},4:{f:jGe},5:{f:UGe},6:{f:ZGe},7:{f:XGe},8:{f:eHe},9:{f:JGe},10:{f:HGe},11:{f:KGe},12:{f:IGe},13:{f:WGe},14:{f:zGe},15:{f:FGe},16:{f:Qse},17:{f:GGe},18:{f:VGe},19:{f:I8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SHe},40:{},42:{},43:{f:HWe},44:{f:GWe},45:{f:KWe},46:{f:eYe},47:{f:JWe},48:{},49:{f:tUe},50:{},51:{f:yYe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:use},62:{f:YGe},63:{f:AYe},64:{f:cHe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_s,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lHe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:NGe},148:{f:MGe,p:16},151:{f:nHe},152:{},153:{f:CHe},154:{},155:{},156:{f:_He},157:{},158:{},159:{T:1,f:mWe},160:{T:-1},161:{T:1,f:Ju},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tHe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kYe},336:{T:-1},337:{f:wYe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_6},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hse},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iHe},427:{f:sHe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:oHe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:RGe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rHe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_6},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:MYe},633:{T:1},634:{T:-1},635:{T:1,f:$Ye},636:{T:-1},637:{f:nUe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pHe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:dHe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},E6={6:{f:R3},10:{f:Dd},12:{f:di},13:{f:di},14:{f:Gn},15:{f:Gn},16:{f:ms},17:{f:Gn},18:{f:Gn},19:{f:di},20:{f:sX},21:{f:sX},23:{f:hse},24:{f:oX},25:{f:Gn},26:{},27:{},28:{f:Dqe},29:{},34:{f:Gn},35:{f:aX},38:{f:ms},39:{f:ms},40:{f:ms},41:{f:ms},42:{f:Gn},43:{f:Gn},47:{f:RWe},49:{f:uqe},51:{f:di},60:{},61:{f:cqe},64:{f:Gn},65:{f:hqe},66:{f:di},77:{},80:{},81:{},82:{},85:{f:di},89:{},90:{},91:{},92:{f:tqe},93:{f:$qe},94:{},95:{f:Gn},96:{},97:{},99:{f:Gn},125:{f:use},128:{f:wqe},129:{f:rqe},130:{f:di},131:{f:Gn},132:{f:Gn},133:{f:nqe},134:{},140:{f:jqe},141:{f:di},144:{},146:{f:Lqe},151:{},152:{},153:{},154:{},155:{},156:{f:di},157:{},158:{},160:{f:qqe},161:{f:Xqe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:xqe},190:{f:bqe},193:{f:Dd},197:{},198:{},199:{},200:{},201:{},202:{f:Gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:di},220:{},221:{f:Gn},222:{},224:{f:yqe},225:{f:eqe},226:{f:Dd},227:{},229:{f:Qqe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:iqe},253:{f:fqe},255:{f:sqe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sse},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Gn},353:{f:Dd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:_qe},431:{f:Gn},432:{},433:{},434:{},437:{},438:{f:Nqe},439:{f:Gn},440:{f:Bqe},441:{},442:{f:eb},443:{},444:{f:di},445:{},446:{},448:{f:Dd},449:{f:lqe,r:2},450:{f:Dd},512:{f:nX},513:{f:Uqe},515:{f:vqe},516:{f:gqe},517:{f:iX},519:{f:Wqe},520:{f:aqe},523:{},545:{f:lX},549:{f:rX},566:{},574:{f:dqe},638:{f:Oqe},659:{},1048:{},1054:{f:pqe},1084:{},1212:{f:Tqe},2048:{f:Iqe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Dd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:zqe,r:12},2173:{f:xYe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Sqe,r:12},2197:{},2198:{f:uYe,r:12},2199:{},2200:{},2201:{},2202:{f:Eqe,r:12},2203:{f:Dd},2204:{},2205:{},2206:{},2207:{},2211:{f:oqe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:di},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Vqe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Fqe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:nX},1:{},2:{f:Hqe},3:{f:Gqe},4:{f:Zqe},5:{f:iX},7:{f:Kqe},8:{},9:{f:xv},11:{},22:{f:di},30:{f:mqe},31:{},32:{},33:{f:lX},36:{},37:{f:rX},50:{f:Jqe},62:{},52:{},67:{},68:{f:di},69:{},86:{},126:{},127:{f:Yqe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:eWe},223:{},234:{},354:{},421:{},518:{f:R3},521:{f:xv},536:{f:oX},547:{f:aX},561:{},579:{},1030:{f:R3},1033:{f:xv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Bo(t,e,r,n){var s=e;if(!isNaN(s)){var a=(r||[]).length||0,l=t.next(4);l.write_shift(2,s),l.write_shift(2,a),a>0&&qie(r)&&t.push(r)}}function bX(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),l=s.index,c=a&&a.index||t.length,h=vVe(t.slice(l,c),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,p=0,O=0,x=0,k={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(l=0;l<h.length;++l){var _=h[l].trim(),C=_.slice(0,3).toLowerCase();if(C=="<tr"){if(++f,r.sheetRows&&r.sheetRows<=f){--f;break}p=0;continue}if(!(C!="<td"&&C!="<th")){var T=_.split(/<\/t[dh]>/i);for(c=0;c<T.length;++c){var E=T[c].trim();if(E.match(/<t[dh]/i)){for(var P=E,Q=0;P.charAt(0)=="<"&&(Q=P.indexOf(">"))>-1;)P=P.slice(Q+1);for(var B=0;B<w.length;++B){var R=w[B];R.s.c==p&&R.s.r<f&&f<=R.e.r&&(p=R.e.c+1,B=-1)}var M=or(E.slice(0,E.indexOf(">")));x=M.colspan?+M.colspan:1,((O=+M.rowspan)>1||x>1)&&w.push({s:{r:f,c:p},e:{r:f+(O||1)-1,c:p+x-1}});var I=M.t||M["data-t"]||"";if(!P.length){p+=x;continue}if(P=$ie(P),k.s.r>f&&(k.s.r=f),k.e.r<f&&(k.e.r=f),k.s.c>p&&(k.s.c=p),k.e.c<p&&(k.e.c=p),!P.length){p+=x;continue}var j={t:"s",v:P};r.raw||!P.trim().length||I=="s"||(P==="TRUE"?j={t:"b",v:!0}:P==="FALSE"?j={t:"b",v:!1}:isNaN(nl(P))?isNaN(ag(P).getDate())||(j={t:"d",v:Ni(P)},r.cellDates||(j={t:"n",v:Gs(j.v)}),j.z=r.dateNF||mr[14]):j={t:"n",v:nl(P)}),r.dense?(n[f]||(n[f]=[]),n[f][p]=j):n[fr({r:f,c:p})]=j,p+=x}}}}return n["!ref"]=Br(k),w.length&&(n["!merges"]=w),n}function JHe(t,e,r,n){for(var s=t["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,h=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>l)&&!(s[f].e.r<r||s[f].e.c<l)){if(s[f].s.r<r||s[f].s.c<l){c=-1;break}c=s[f].e.r-s[f].s.r+1,h=s[f].e.c-s[f].s.c+1;break}if(!(c<0)){var p=fr({r,c:l}),O=n.dense?(t[r]||[])[l]:t[p],x=O&&O.v!=null&&(O.h||$8(O.w||(nd(O),O.w)||""))||"",k={};c>1&&(k.rowspan=c),h>1&&(k.colspan=h),n.editable?x='<span contenteditable="true">'+x+"</span>":O&&(k["data-t"]=O&&O.t||"z",O.v!=null&&(k["data-v"]=O.v),O.z!=null&&(k["data-z"]=O.z),O.l&&(O.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+O.l.Target+'">'+x+"</a>")),k.id=(n.id||"sjs")+"-"+p,a.push(jVe("td",x,k))}}var w="<tr>";return w+a.join("")+"</tr>"}var eKe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',tKe="</body></html>";function rKe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return $h(bX(r[0],e),e);var n=H8();return r.forEach(function(s,a){K8(n,bX(s,e),"Sheet"+(a+1))}),n}function nKe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iKe(t,e){var r=e||{},n=r.header!=null?r.header:eKe,s=r.footer!=null?r.footer:tKe,a=[n],l=Sg(t["!ref"]);r.dense=Array.isArray(t),a.push(nKe(t,l,r));for(var c=l.s.r;c<=l.e.r;++c)a.push(JHe(t,l,c,r));return a.push("</table>"+s),a.join("")}function Ise(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Xs(n.origin):n.origin;s=l.r,a=l.c}var c=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var p=Sg(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),s==-1&&(f.e.r=s=p.e.r+1)}var O=[],x=0,k=t["!rows"]||(t["!rows"]=[]),w=0,_=0,C=0,T=0,E=0,P=0;for(t["!cols"]||(t["!cols"]=[]);w<c.length&&_<h;++w){var Q=c[w];if(kX(Q)){if(n.display)continue;k[_]={hidden:!0}}var B=Q.children;for(C=T=0;C<B.length;++C){var R=B[C];if(!(n.display&&kX(R))){var M=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):$ie(R.innerHTML),I=R.getAttribute("data-z")||R.getAttribute("z");for(x=0;x<O.length;++x){var j=O[x];j.s.c==T+a&&j.s.r<_+s&&_+s<=j.e.r&&(T=j.e.c+1-a,x=-1)}P=+R.getAttribute("colspan")||1,((E=+R.getAttribute("rowspan")||1)>1||P>1)&&O.push({s:{r:_+s,c:T+a},e:{r:_+s+(E||1)-1,c:T+a+(P||1)-1}});var z={t:"s",v:M},X=R.getAttribute("data-t")||R.getAttribute("t")||"";M!=null&&(M.length==0?z.t=X||"z":n.raw||M.trim().length==0||X=="s"||(M==="TRUE"?z={t:"b",v:!0}:M==="FALSE"?z={t:"b",v:!1}:isNaN(nl(M))?isNaN(ag(M).getDate())||(z={t:"d",v:Ni(M)},n.cellDates||(z={t:"n",v:Gs(z.v)}),z.z=n.dateNF||mr[14]):z={t:"n",v:nl(M)})),z.z===void 0&&I!=null&&(z.z=I);var W="",F=R.getElementsByTagName("A");if(F&&F.length)for(var V=0;V<F.length&&!(F[V].hasAttribute("href")&&(W=F[V].getAttribute("href"),W.charAt(0)!="#"));++V);W&&W.charAt(0)!="#"&&(z.l={Target:W}),n.dense?(t[_+s]||(t[_+s]=[]),t[_+s][T+a]=z):t[fr({c:T+a,r:_+s})]=z,f.e.c<T+a&&(f.e.c=T+a),T+=P}}++_}return O.length&&(t["!merges"]=(t["!merges"]||[]).concat(O)),f.e.r=Math.max(f.e.r,_-1+s),t["!ref"]=Br(f),_>=h&&(t["!fullref"]=Br((f.e.r=c.length-w+_-1+s,f))),t}function jse(t,e){var r=e||{},n=r.dense?[]:{};return Ise(n,t,e)}function sKe(t,e){return $h(jse(t,e),e)}function kX(t){var e="",r=aKe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function aKe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function oKe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jr(e.replace(/<[^>]*>/g,""));return[r]}var yX={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Fse(t,e){var r=e||{},n=M8(t),s=[],a,l,c={name:""},h="",f=0,p,O,x={},k=[],w=r.dense?[]:{},_,C,T={value:""},E="",P=0,Q=[],B=-1,R=-1,M={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,j={},z=[],X={},W=0,F=0,V=[],te=1,G=1,J=[],oe={Names:[]},ie={},be=["",""],he=[],re={},ae="",K=0,ce=!1,ye=!1,ke=0;for(gx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=gx.exec(n);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"":_[1]==="/"?(M.e.c>=M.s.c&&M.e.r>=M.s.r?w["!ref"]=Br(M):w["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=M.e.r&&(w["!fullref"]=w["!ref"],M.e.r=r.sheetRows-1,w["!ref"]=Br(M)),z.length&&(w["!merges"]=z),V.length&&(w["!rows"]=V),p.name=p.||p.name,typeof JSON<"u"&&JSON.stringify(p),k.push(p.name),x[p.name]=w,ye=!1):_[0].charAt(_[0].length-2)!=="/"&&(p=or(_[0],!1),B=R=-1,M.s.r=M.s.c=1e7,M.e.r=M.e.c=0,w=r.dense?[]:{},z=[],V=[],ye=!0);break;case"table-row-group":_[1]==="/"?--I:++I;break;case"table-row":case"":if(_[1]==="/"){B+=te,te=1;break}if(O=or(_[0],!1),O.?B=O.-1:B==-1&&(B=0),te=+O["number-rows-repeated"]||1,te<10)for(ke=0;ke<te;++ke)I>0&&(V[B+ke]={level:I});R=-1;break;case"covered-table-cell":_[1]!=="/"&&++R,r.sheetStubs&&(r.dense?(w[B]||(w[B]=[]),w[B][R]={t:"z"}):w[fr({r:B,c:R})]={t:"z"}),E="",Q=[];break;case"table-cell":case"":if(_[0].charAt(_[0].length-2)==="/")++R,T=or(_[0],!1),G=parseInt(T["number-columns-repeated"]||"1",10),C={t:"z",v:null},T.formula&&r.cellFormula!=!1&&(C.f=pX(jr(T.formula))),(T.||T["value-type"])=="string"&&(C.t="s",C.v=jr(T["string-value"]||""),r.dense?(w[B]||(w[B]=[]),w[B][R]=C):w[fr({r:B,c:R})]=C),R+=G-1;else if(_[1]!=="/"){++R,E="",P=0,Q=[],G=1;var Ce=te?B+te-1:B;if(R>M.e.c&&(M.e.c=R),R<M.s.c&&(M.s.c=R),B<M.s.r&&(M.s.r=B),Ce>M.e.r&&(M.e.r=Ce),T=or(_[0],!1),he=[],re={},C={t:T.||T["value-type"],v:null},r.cellFormula)if(T.formula&&(T.formula=jr(T.formula)),T["number-matrix-columns-spanned"]&&T["number-matrix-rows-spanned"]&&(W=parseInt(T["number-matrix-rows-spanned"],10)||0,F=parseInt(T["number-matrix-columns-spanned"],10)||0,X={s:{r:B,c:R},e:{r:B+W-1,c:R+F-1}},C.F=Br(X),J.push([X,C.F])),T.formula)C.f=pX(T.formula);else for(ke=0;ke<J.length;++ke)B>=J[ke][0].s.r&&B<=J[ke][0].e.r&&R>=J[ke][0].s.c&&R<=J[ke][0].e.c&&(C.F=J[ke][1]);switch((T["number-columns-spanned"]||T["number-rows-spanned"])&&(W=parseInt(T["number-rows-spanned"],10)||0,F=parseInt(T["number-columns-spanned"],10)||0,X={s:{r:B,c:R},e:{r:B+W-1,c:R+F-1}},z.push(X)),T["number-columns-repeated"]&&(G=parseInt(T["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=En(T["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(T.value);break;case"percentage":C.t="n",C.v=parseFloat(T.value);break;case"currency":C.t="n",C.v=parseFloat(T.value);break;case"date":C.t="d",C.v=Ni(T["date-value"]),r.cellDates||(C.t="n",C.v=Gs(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=kVe(T["time-value"])/86400,r.cellDates&&(C.t="d",C.v=CA(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(T.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",T["string-value"]!=null&&(E=jr(T["string-value"]),Q=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(ce=!1,C.t==="s"&&(C.v=E||"",Q.length&&(C.R=Q),ce=P==0),ie.Target&&(C.l=ie),he.length>0&&(C.c=he,he=[]),E&&r.cellText!==!1&&(C.w=E),ce&&(C.t="z",delete C.v),(!ce||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=B))for(var De=0;De<te;++De){if(G=parseInt(T["number-columns-repeated"]||"1",10),r.dense)for(w[B+De]||(w[B+De]=[]),w[B+De][R]=De==0?C:ns(C);--G>0;)w[B+De][R+G]=ns(C);else for(w[fr({r:B+De,c:R})]=C;--G>0;)w[fr({r:B+De,c:R+G})]=ns(C);M.e.c<=R&&(M.e.c=R)}G=parseInt(T["number-columns-repeated"]||"1",10),R+=G-1,G=0,C={},E="",Q=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(_[1]==="/"){if((a=s.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&s.push([_[3],!0]);break;case"annotation":if(_[1]==="/"){if((a=s.pop())[0]!==_[3])throw"Bad state: "+a;re.t=E,Q.length&&(re.R=Q),re.a=ae,he.push(re)}else _[0].charAt(_[0].length-2)!=="/"&&s.push([_[3],!1]);ae="",K=0,E="",P=0,Q=[];break;case"creator":_[1]==="/"?ae=n.slice(K,_.index):K=_.index+_[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(_[1]==="/"){if((a=s.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&s.push([_[3],!1]);E="",P=0,Q=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(_[1]==="/"){if(j[c.name]=h,(a=s.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&(h="",c=or(_[0],!1),s.push([_[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":l=or(_[0],!1),h+=yX[_[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":l=or(_[0],!1),h+=yX[_[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(_[0].slice(-2)==="/>")break;if(_[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":h+=n.slice(f,_.index);break}else f=_.index+_[0].length;break;case"named-range":l=or(_[0],!1),be=N3(l["cell-range-address"]);var Pe={Name:l.name,Ref:be[0]+"!"+be[1]};ye&&(Pe.Sheet=k.length),oe.Names.push(Pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(_[1]==="/"&&(!T||!T["string-value"])){var Ee=oKe(n.slice(P,_.index));E=(E.length>0?E+`
`:"")+Ee[0]}else or(_[0],!1),P=_.index+_[0].length;break;case"s":break;case"database-range":if(_[1]==="/")break;try{be=N3(or(_[0])["target-range-address"]),x[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(_[1]!=="/"){if(ie=or(_[0],!1),!ie.href)break;ie.Target=jr(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(be=N3(ie.Target.slice(1)),ie.Target="#"+be[0]+"!"+be[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(_)}}var de={Sheets:x,SheetNames:k,Workbook:oe};return r.bookSheets&&delete de.Sheets,de}function wX(t,e){e=e||{},Ka(t,"META-INF/manifest.xml")&&vUe(ci(t,"META-INF/manifest.xml"),e);var r=Qa(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Fse(fn(r),e);return Ka(t,"meta.xml")&&(n.Props=Jie(ci(t,"meta.xml"))),n}function vX(t,e){return Fse(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function W8(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function P6(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):fn(Hu(t))}function D6(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function _X(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function lKe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,s=e+13;s>=e;--s)n=n*256+t[s];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function xx(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function vi(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function xs(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=xx(t,r),a=s&7;s=Math.floor(s/8);var l=0,c;if(s==0)break;switch(a){case 0:{for(var h=r[0];t[r[0]++]>=128;);c=t.slice(h,r[0])}break;case 5:l=4,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=xx(t,r),c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var f={data:c,type:a};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function Y8(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function cKe(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=xx(t,n),a=xs(t.slice(n[0],n[0]+s));n[0]+=s;var l={id:vi(a[1][0].data),messages:[]};a[2].forEach(function(c){var h=xs(c.data),f=vi(h[3][0].data);l.messages.push({meta:h,data:t.slice(n[0],n[0]+f)}),n[0]+=f}),(e=a[3])!=null&&e[0]&&(l.merge=vi(a[3][0].data)>>>0>0),r.push(l)}return r}function dKe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=xx(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[r[0]],c>1&&(l|=e[r[0]+1]<<8),c>2&&(l|=e[r[0]+2]<<16),c>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}s.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var h=0,f=0;if(a==1?(f=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(f=(e[r[0]++]>>2)+1,a==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[D6(s)],h==0)throw new Error("Invalid offset 0");if(h>s[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(s.push(s[0].slice(-h)),f-=h;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-h,-h+f))}}var p=D6(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function hKe(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(dKe(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return D6(e)}function uKe(t,e,r,n){var s=W8(t),a=s.getUint32(4,!0),l=(n>1?12:8)+_X(a&(n>1?3470:398))*4,c=-1,h=-1,f=NaN,p=new Date(2001,0,1);a&512&&(c=s.getUint32(l,!0),l+=4),l+=_X(a&(n>1?12288:4096))*4,a&16&&(h=s.getUint32(l,!0),l+=4),a&32&&(f=s.getFloat64(l,!0),l+=8),a&64&&(p.setTime(p.getTime()+s.getFloat64(l,!0)*1e3),l+=8);var O;switch(t[2]){case 0:break;case 2:O={t:"n",v:f};break;case 3:O={t:"s",v:e[h]};break;case 5:O={t:"d",v:p};break;case 6:O={t:"b",v:f>0};break;case 7:O={t:"n",v:f/86400};break;case 8:O={t:"e",v:0};break;case 9:if(c>-1)O={t:"s",v:r[c]};else if(h>-1)O={t:"s",v:e[h]};else if(!isNaN(f))O={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return O}function fKe(t,e,r){var n=W8(t),s=n.getUint32(8,!0),a=12,l=-1,c=-1,h=NaN,f=NaN,p=new Date(2001,0,1);s&1&&(h=lKe(t,a),a+=16),s&2&&(f=n.getFloat64(a,!0),a+=8),s&4&&(p.setTime(p.getTime()+n.getFloat64(a,!0)*1e3),a+=8),s&8&&(c=n.getUint32(a,!0),a+=4),s&16&&(l=n.getUint32(a,!0),a+=4);var O;switch(t[1]){case 0:break;case 2:O={t:"n",v:h};break;case 3:O={t:"s",v:e[c]};break;case 5:O={t:"d",v:p};break;case 6:O={t:"b",v:f>0};break;case 7:O={t:"n",v:f/86400};break;case 8:O={t:"e",v:0};break;case 9:if(l>-1)O={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:O={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return O}function gKe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return uKe(t,e,r,t[0]);case 5:return fKe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function th(t){var e=xs(t);return xx(e[1][0].data)}function CX(t,e){var r=xs(e.data),n=vi(r[1][0].data),s=r[3],a=[];return(s||[]).forEach(function(l){var c=xs(l.data),h=vi(c[1][0].data)>>>0;switch(n){case 1:a[h]=P6(c[3][0].data);break;case 8:{var f=t[th(c[9][0].data)][0],p=xs(f.data),O=t[th(p[1][0].data)][0],x=vi(O.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var k=xs(O.data);a[h]=k[3].map(function(w){return P6(w.data)}).join("")}break}}),a}function pKe(t,e){var r,n,s,a,l,c,h,f,p,O,x,k,w,_,C=xs(t),T=vi(C[1][0].data)>>>0,E=vi(C[2][0].data)>>>0,P=((n=(r=C[8])==null?void 0:r[0])==null?void 0:n.data)&&vi(C[8][0].data)>0||!1,Q,B;if((a=(s=C[7])==null?void 0:s[0])!=null&&a.data&&e!=0)Q=(c=(l=C[7])==null?void 0:l[0])==null?void 0:c.data,B=(f=(h=C[6])==null?void 0:h[0])==null?void 0:f.data;else if((O=(p=C[4])==null?void 0:p[0])!=null&&O.data&&e!=1)Q=(k=(x=C[4])==null?void 0:x[0])==null?void 0:k.data,B=(_=(w=C[3])==null?void 0:w[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var R=P?4:1,M=W8(Q),I=[],j=0;j<Q.length/2;++j){var z=M.getUint16(j*2,!0);z<65535&&I.push([j,z])}if(I.length!=E)throw"Expected ".concat(E," cells, found ").concat(I.length);var X=[];for(j=0;j<I.length-1;++j)X[I[j][0]]=B.subarray(I[j][1]*R,I[j+1][1]*R);return I.length>=1&&(X[I[I.length-1][0]]=B.subarray(I[I.length-1][1]*R)),{R:T,cells:X}}function mKe(t,e){var r,n=xs(e.data),s=(r=n==null?void 0:n[7])!=null&&r[0]?vi(n[7][0].data)>>>0>0?1:0:-1,a=Y8(n[5],function(l){return pKe(l,s)});return{nrows:vi(n[4][0].data)>>>0,data:a.reduce(function(l,c){return l[c.R]||(l[c.R]=[]),c.cells.forEach(function(h,f){if(l[c.R][f])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(f));l[c.R][f]=h}),l},[])}}function OKe(t,e,r){var n,s=xs(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(vi(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(vi(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=Br(a);var l=xs(s[4][0].data),c=CX(t,t[th(l[4][0].data)][0]),h=(n=l[17])!=null&&n[0]?CX(t,t[th(l[17][0].data)][0]):[],f=xs(l[3][0].data),p=0;f[1].forEach(function(O){var x=xs(O.data),k=t[th(x[2][0].data)][0],w=vi(k.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var _=mKe(t,k);_.data.forEach(function(C,T){C.forEach(function(E,P){var Q=fr({r:p+T,c:P}),B=gKe(E,c,h);B&&(r[Q]=B)})}),p+=_.nrows})}function xKe(t,e){var r=xs(e.data),n={"!ref":"A1"},s=t[th(r[2][0].data)],a=vi(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return OKe(t,s[0],n),n}function bKe(t,e){var r,n=xs(e.data),s={name:(r=n[1])!=null&&r[0]?P6(n[1][0].data):"",sheets:[]},a=Y8(n[2],th);return a.forEach(function(l){t[l].forEach(function(c){var h=vi(c.meta[1][0].data);h==6e3&&s.sheets.push(xKe(t,c))})}),s}function kKe(t,e){var r=H8(),n=xs(e.data),s=Y8(n[1],th);if(s.forEach(function(a){t[a].forEach(function(l){var c=vi(l.meta[1][0].data);if(c==2){var h=bKe(t,l);h.sheets.forEach(function(f,p){K8(r,f,p==0?h.name:h.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function I3(t){var e,r,n,s,a={},l=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var f;try{f=hKe(h.content)}catch(O){return console.log("?? "+h.content.length+" "+(O.message||O))}var p;try{p=cKe(f)}catch(O){return console.log("## "+(O.message||O))}p.forEach(function(O){a[O.id]=O.messages,l.push(O.id)})}}),!l.length)throw new Error("File has no messages");var c=((s=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&vi(a[1][0].meta[1][0].data)==1&&a[1][0];if(c||l.forEach(function(h){a[h].forEach(function(f){var p=vi(f.meta[1][0].data)>>>0;if(p==1)if(!c)c=f;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return kKe(a,c)}function yKe(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Z8(t){yKe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function wKe(t){return sf.WS.indexOf(t)>-1?"sheet":t==sf.CS?"chart":t==sf.DS?"dialog":t==sf.MS?"macro":t&&t.length?t:"sheet"}function vKe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,wKe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function _Ke(t,e,r,n,s,a,l,c,h,f,p,O){try{a[n]=yO(Qa(t,r,!0),e);var x=ci(t,e),k;switch(c){case"sheet":k=PHe(x,e,s,h,a[n],f,p,O);break;case"chart":if(k=DHe(x,e,s,h,a[n],f,p,O),!k||!k["!drawel"])break;var w=G1(k["!drawel"].Target,e),_=C6(w),C=EYe(Qa(t,w,!0),yO(Qa(t,_,!0),w)),T=G1(C,w),E=C6(T);k=fHe(Qa(t,T,!0),T,h,yO(Qa(t,E,!0),T),f,k);break;case"macro":k=QHe(x,e,s,h,a[n],f,p,O);break;case"dialog":k=$He(x,e,s,h,a[n],f,p,O);break;default:throw new Error("Unrecognized sheet type "+c)}l[n]=k;var P=[];a&&a[n]&&Vl(a[n]).forEach(function(Q){var B="";if(a[n][Q].Type==sf.CMNT){B=G1(a[n][Q].Target,e);var R=BHe(ci(t,B,!0),B,h);if(!R||!R.length)return;dX(k,R,!1)}a[n][Q].Type==sf.TCMNT&&(B=G1(a[n][Q].Target,e),P=P.concat(DYe(ci(t,B,!0),h)))}),P&&P.length&&dX(k,P,!0,h.people||[])}catch(Q){if(h.WTF)throw Q}}function Ga(t){return t.charAt(0)=="/"?t.slice(1):t}function CKe(t,e){if(_ie(),e=e||{},Z8(e),Ka(t,"META-INF/manifest.xml")||Ka(t,"objectdata.xml"))return wX(t,e);if(Ka(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof I3<"u"){if(t.FileIndex)return I3(t);var r=Rr.utils.cfb_new();return Bz(t).forEach(function(V){AVe(r,V,CVe(t,V))}),I3(r)}throw new Error("Unsupported NUMBERS file")}if(!Ka(t,"[Content_Types].xml"))throw Ka(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ka(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Bz(t),s=yUe(Qa(t,"[Content_Types].xml")),a=!1,l,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",ci(t,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!ci(t,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var h={},f={};if(!e.bookSheets&&!e.bookProps){if(_O=[],s.sst)try{_O=NHe(ci(t,Ga(s.sst)),s.sst,e)}catch(V){if(e.WTF)throw V}e.cellStyles&&s.themes.length&&(h=RHe(Qa(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(f=MHe(ci(t,Ga(s.style)),s.style,h,e))}s.links.map(function(V){try{var te=yO(Qa(t,C6(Ga(V))),V);return jHe(ci(t,Ga(V)),te,V,e)}catch{}});var p=EHe(ci(t,Ga(s.workbooks[0])),s.workbooks[0],e),O={},x="";s.coreprops.length&&(x=ci(t,Ga(s.coreprops[0]),!0),x&&(O=Jie(x)),s.extprops.length!==0&&(x=ci(t,Ga(s.extprops[0]),!0),x&&AUe(x,O,e)));var k={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(x=Qa(t,Ga(s.custprops[0]),!0),x&&(k=TUe(x,e)));var w={};if((e.bookSheets||e.bookProps)&&(p.Sheets?l=p.Sheets.map(function(te){return te.name}):O.Worksheets&&O.SheetNames.length>0&&(l=O.SheetNames),e.bookProps&&(w.Props=O,w.Custprops=k),e.bookSheets&&typeof l<"u"&&(w.SheetNames=l),e.bookSheets?w.SheetNames:e.bookProps))return w;l={};var _={};e.bookDeps&&s.calcchain&&(_=IHe(ci(t,Ga(s.calcchain)),s.calcchain));var C=0,T={},E,P;{var Q=p.Sheets;O.Worksheets=Q.length,O.SheetNames=[];for(var B=0;B!=Q.length;++B)O.SheetNames[B]=Q[B].name}var R=a?"bin":"xml",M=s.workbooks[0].lastIndexOf("/"),I=(s.workbooks[0].slice(0,M+1)+"_rels/"+s.workbooks[0].slice(M+1)+".rels").replace(/^\//,"");Ka(t,I)||(I="xl/_rels/workbook."+R+".rels");var j=yO(Qa(t,I,!0),I.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=FHe(ci(t,Ga(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=QYe(ci(t,Ga(s.people[0])),e)),j&&(j=vKe(j,p.Sheets));var z=ci(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=O.Worksheets;++C){var X="sheet";if(j&&j[C]?(E="xl/"+j[C][1].replace(/[\/]?xl\//,""),Ka(t,E)||(E=j[C][1]),Ka(t,E)||(E=I.replace(/_rels\/.*$/,"")+j[C][1]),X=j[C][2]):(E="xl/worksheets/sheet"+(C+1-z)+"."+R,E=E.replace(/sheet0\./,"sheet.")),P=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(O.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var W=!1,F=0;F!=e.sheets.length;++F)typeof e.sheets[F]=="number"&&e.sheets[F]==C&&(W=1),typeof e.sheets[F]=="string"&&e.sheets[F].toLowerCase()==O.SheetNames[C].toLowerCase()&&(W=1);if(!W)continue e}}_Ke(t,E,P,O.SheetNames[C],C,T,l,X,e,p,h,f)}return w={Directory:s,Workbook:p,Props:O,Custprops:k,Deps:_,Sheets:l,SheetNames:O.SheetNames,Strings:_O,Styles:f,Themes:h,SSF:ns(mr)},e&&e.bookFiles&&(t.files?(w.keys=n,w.files=t.files):(w.keys=[],w.files={},t.FullPaths.forEach(function(V,te){V=V.replace(/^Root Entry[\/]/,""),w.keys.push(V),w.files[V]=t.FileIndex[te]}))),e&&e.bookVBA&&(s.vba.length>0?w.vbaraw=ci(t,Ga(s.vba[0]),!0):s.defaults&&s.defaults.bin===NYe&&(w.vbaraw=ci(t,"xl/vbaProject.bin",!0))),w}function AKe(t,e){var r=e||{},n="Workbook",s=Rr.find(t,n);try{if(n="/!DataSpaces/Version",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(xWe(s.content),n="/!DataSpaces/DataSpaceMap",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=kWe(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=yWe(s.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);vWe(s.content)}catch{}if(n="/EncryptionInfo",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=_We(s.content);if(n="/EncryptedPackage",s=Rr.find(t,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],s.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],s.content,r.password||"",r);throw new Error("File is password-protected")}function G8(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=ja(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function SKe(t,e){return Rr.find(t,"EncryptedPackage")?AKe(t,e):Bse(t,e)}function TKe(t,e){var r,n=t,s=e||{};return s.type||(s.type=Qr&&Buffer.isBuffer(t)?"buffer":"base64"),r=Pie(n,s),CKe(r,s)}function Lse(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return T6(t.slice(r),e);default:break e}return px.to_workbook(t,e)}function EKe(t,e){var r="",n=G8(t,e);switch(e.type){case"base64":r=ja(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Fu(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=fn(r)),e.type="binary",Lse(r,e)}function PKe(t,e){var r=t;return e.type=="base64"&&(r=ja(r)),r=hx.utils.decode(1200,r.slice(2),"str"),e.type="binary",Lse(r,e)}function DKe(t){return t.match(/[^\x00-\x7F]/)?H1(t):t}function j3(t,e,r,n){return n?(r.type="string",px.to_workbook(t,r)):px.to_workbook(e,r)}function Q6(t,e){uie();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Q6(new Uint8Array(t),(r=ns(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,s=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Cf={},r.dateNF&&(Cf.dateNF=r.dateNF),r.type||(r.type=Qr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Qr?"buffer":"binary",n=xVe(t),typeof Uint8Array<"u"&&!Qr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=DKe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),c=new Uint8Array(l);if(c.foo="bar",!c.foo)return r=ns(r),r.type="array",Q6(T8(n),r)}switch((s=G8(n,r))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return SKe(Rr.read(n,r),r);break;case 9:if(s[1]<=8)return Bse(n,r);break;case 60:return T6(n,r);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return sWe(n,r);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return nWe.to_workbook(n,r);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?TKe(n,r):j3(t,n,r,a);case 239:return s[3]===60?T6(n,r):j3(t,n,r,a);case 255:if(s[1]===254)return PKe(n,r);if(s[1]===0&&s[2]===2&&s[3]===0)return vO.to_workbook(n,r);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return vO.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return cX.to_workbook(n,r);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return NWe.to_workbook(n,r);break;case 10:case 13:case 32:return EKe(n,r);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return tWe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?cX.to_workbook(n,r):j3(t,n,r,a)}function QKe(t,e,r,n,s,a,l,c){var h=is(r),f=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),O=!0,x=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!l||t[r])for(var k=e.s.c;k<=e.e.c;++k){var w=l?t[r][k]:t[n[k]+h];if(w===void 0||w.t===void 0){if(f===void 0)continue;a[k]!=null&&(x[a[k]]=f);continue}var _=w.v;switch(w.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(a[k]!=null){if(_==null)if(w.t=="e"&&_===null)x[a[k]]=null;else if(f!==void 0)x[a[k]]=f;else if(p&&_===null)x[a[k]]=null;else continue;else x[a[k]]=p&&(w.t!=="n"||w.t==="n"&&c.rawNumbers!==!1)?_:nd(w,_,c);_!=null&&(O=!1)}}return{row:x,isempty:O}}function $6(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],l=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof p){case"string":h=qn(p);break;case"number":h=qn(t["!ref"]),h.s.r=p;break;default:h=p}n>0&&(s=0);var O=is(h.s.r),x=[],k=[],w=0,_=0,C=Array.isArray(t),T=h.s.r,E=0,P={};C&&!t[T]&&(t[T]=[]);var Q=f.skipHidden&&t["!cols"]||[],B=f.skipHidden&&t["!rows"]||[];for(E=h.s.c;E<=h.e.c;++E)if(!(Q[E]||{}).hidden)switch(x[E]=wi(E),r=C?t[T][E]:t[x[E]+O],n){case 1:a[E]=E-h.s.c;break;case 2:a[E]=x[E];break;case 3:a[E]=f.header[E-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=nd(r,null,f),_=P[l]||0,!_)P[l]=1;else{do c=l+"_"+_++;while(P[c]);P[l]=_,P[c]=1}a[E]=c}for(T=h.s.r+s;T<=h.e.r;++T)if(!(B[T]||{}).hidden){var R=QKe(t,h,T,x,n,a,C,f);(R.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(k[w++]=R.row)}return k.length=w,k}var AX=/"/g;function $Ke(t,e,r,n,s,a,l,c){for(var h=!0,f=[],p="",O=is(r),x=e.s.c;x<=e.e.c;++x)if(n[x]){var k=c.dense?(t[r]||[])[x]:t[n[x]+O];if(k==null)p="";else if(k.v!=null){h=!1,p=""+(c.rawNumbers&&k.t=="n"?k.v:nd(k,null,c));for(var w=0,_=0;w!==p.length;++w)if((_=p.charCodeAt(w))===s||_===a||_===34||c.forceQuotes){p='"'+p.replace(AX,'""')+'"';break}p=="ID"&&(p='"ID"')}else k.f!=null&&!k.F?(h=!1,p="="+k.f,p.indexOf(",")>=0&&(p='"'+p.replace(AX,'""')+'"')):p="";f.push(p)}return c.blankrows===!1&&h?null:f.join(l)}function zse(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=qn(t["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,h=c.charCodeAt(0),f=new RegExp((a=="|"?"\\|":a)+"+$"),p="",O=[];n.dense=Array.isArray(t);for(var x=n.skipHidden&&t["!cols"]||[],k=n.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(x[w]||{}).hidden||(O[w]=wi(w));for(var _=0,C=s.s.r;C<=s.e.r;++C)(k[C]||{}).hidden||(p=$Ke(t,s,C,O,l,h,a,n),p!=null&&(n.strip&&(p=p.replace(f,"")),(p||n.blankrows!==!1)&&r.push((_++?c:"")+p)));return delete n.dense,r.join("")}function MKe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=zse(t,e);return r}function RKe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=qn(t["!ref"]),a="",l=[],c,h=[],f=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)l[c]=wi(c);for(var p=s.s.r;p<=s.e.r;++p)for(a=is(p),c=s.s.c;c<=s.e.c;++c)if(e=l[c]+a,r=f?(t[p]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}h[h.length]=e+"="+n}return h}function Xse(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},l=0,c=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var h=typeof n.origin=="string"?Xs(n.origin):n.origin;l=h.r,c=h.c}var f,p={s:{c:0,r:0},e:{c,r:l+e.length-1+s}};if(a["!ref"]){var O=qn(a["!ref"]);p.e.c=Math.max(p.e.c,O.e.c),p.e.r=Math.max(p.e.r,O.e.r),l==-1&&(l=O.e.r+1,p.e.r=l+e.length-1+s)}else l==-1&&(l=0,p.e.r=e.length-1+s);var x=n.header||[],k=0;e.forEach(function(_,C){Vl(_).forEach(function(T){(k=x.indexOf(T))==-1&&(x[k=x.length]=T);var E=_[T],P="z",Q="",B=fr({c:c+k,r:l+C+s});f=bx(a,B),E&&typeof E=="object"&&!(E instanceof Date)?a[B]=E:(typeof E=="number"?P="n":typeof E=="boolean"?P="b":typeof E=="string"?P="s":E instanceof Date?(P="d",n.cellDates||(P="n",E=Gs(E)),Q=n.dateNF||mr[14]):E===null&&n.nullError&&(P="e",E=0),f?(f.t=P,f.v=E,delete f.w,delete f.R,Q&&(f.z=Q)):a[B]=f={t:P,v:E},Q&&(f.z=Q))})}),p.e.c=Math.max(p.e.c,c+x.length-1);var w=is(l);if(s)for(k=0;k<x.length;++k)a[wi(k+c)+w]={t:"s",v:x[k]};return a["!ref"]=Br(p),a}function NKe(t,e){return Xse(null,t,e)}function bx(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Xs(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?bx(t,fr(e)):bx(t,fr({r:e,c:r||0}))}function BKe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function H8(){return{SheetNames:[],Sheets:{}}}function K8(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var l=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=l+s)!=-1;++s);}if(yHe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function IKe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=BKe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function jKe(t,e){return t.z=e,t}function Vse(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function FKe(t,e,r){return Vse(t,"#"+e,r)}function LKe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function zKe(t,e,r,n){for(var s=typeof e!="string"?e:qn(e),a=typeof e=="string"?e:Br(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var h=bx(t,l,c);h.t="n",h.F=a,delete h.v,l==s.s.r&&c==s.s.c&&(h.f=r,n&&(h.D=!0))}return t}var XKe={encode_col:wi,encode_row:is,encode_cell:fr,encode_range:Br,decode_col:B8,decode_row:N8,split_cell:eUe,decode_cell:Xs,decode_range:Sg,format_cell:nd,sheet_add_aoa:Yie,sheet_add_json:Xse,sheet_add_dom:Ise,aoa_to_sheet:Tg,json_to_sheet:NKe,table_to_sheet:jse,table_to_book:sKe,sheet_to_csv:zse,sheet_to_txt:MKe,sheet_to_json:$6,sheet_to_html:iKe,sheet_to_formulae:RKe,sheet_to_row_object_array:$6,sheet_get_cell:bx,book_new:H8,book_append_sheet:K8,book_set_sheet_visibility:IKe,cell_set_number_format:jKe,cell_set_hyperlink:Vse,cell_set_internal_link:FKe,cell_add_comment:LKe,sheet_set_array_formula:zKe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function VKe(){const{user:t}=Bi(),[e,r]=H.useState([]),[n,s]=H.useState(!1),[a,l]=H.useState(!1),c=H.useRef(null),h=I=>{I.preventDefault(),s(!0)},f=I=>{I.preventDefault(),s(!1)},p=I=>{I.preventDefault(),s(!1);const j=Array.from(I.dataTransfer.files).filter(z=>z.name.endsWith(".csv")||z.name.endsWith(".xlsx")||z.name.endsWith(".xls"));j.length>0?x(j):Di.error("Please upload CSV or Excel files only")},O=I=>{const j=I.target.files?Array.from(I.target.files):[];x(j)},x=I=>{const j=I.map(z=>({file:z,status:"pending"}));r(z=>[...z,...j]),j.forEach((z,X)=>{k(e.length+X,z.file)})},k=async(I,j)=>{r(z=>z.map((X,W)=>W===I?{...X,status:"parsing"}:X));try{let z=[];j.name.endsWith(".csv")?z=await w(j):(j.name.endsWith(".xlsx")||j.name.endsWith(".xls"))&&(z=await _(j)),r(X=>X.map((W,F)=>F===I?{...W,status:"parsed",trades:z}:W)),Di.success(`Parsed ${z.length} trades from ${j.name}`)}catch(z){console.error("Parse error:",z),r(X=>X.map((W,F)=>F===I?{...W,status:"error",error:z.message}:W)),Di.error(`Failed to parse ${j.name}: ${z.message}`)}},w=I=>new Promise((j,z)=>{LXe.parse(I,{header:!0,skipEmptyLines:!0,complete:X=>{try{const W=X.data.map(F=>C(F));j(W)}catch(W){z(W)}},error:X=>{z(new Error(X.message))}})}),_=async I=>new Promise((j,z)=>{const X=new FileReader;X.onload=W=>{var F;try{const V=new Uint8Array((F=W.target)==null?void 0:F.result),te=Q6(V,{type:"array"}),G=te.Sheets[te.SheetNames[0]],oe=XKe.sheet_to_json(G).map(ie=>C(ie));j(oe)}catch(V){z(new Error(V.message))}},X.onerror=()=>z(new Error("Failed to read file")),X.readAsArrayBuffer(I)}),C=I=>({position_id:String(I["Position ID"]||I.position_id||`POS-${Date.now()}-${Math.random()}`),account_number:String(I["Account Number"]||I.account_number||"12345678"),symbol:String(I.Symbol||I.symbol||""),trade_type:String(I.Type||I.type||"").toLowerCase(),volume:parseFloat(I.Volume||I.volume||0),entry_price:parseFloat(I["Entry Price"]||I.entry_price||0),entry_time:String(I["Entry Time"]||I.entry_time||new Date().toISOString()),exit_price:parseFloat(I["Exit Price"]||I.exit_price||0),exit_time:String(I["Exit Time"]||I.exit_time||new Date().toISOString()),stop_loss:parseFloat(I["Stop Loss"]||I.stop_loss||0),take_profit:parseFloat(I["Take Profit"]||I.take_profit||0),costs:parseFloat(I.Costs||I.costs||0),pnl:parseFloat(I["Profit/Loss"]||I.pnl||I.profit_loss||0)}),T=async()=>{const I=e.filter(X=>X.status==="parsed"&&X.trades);if(I.length===0){Di.error("No files ready to import");return}if(!t){Di.error("User not authenticated");return}const j=I.flatMap(X=>X.trades||[]),z=Array.from(new Map(j.map(X=>[X.position_id,X])).values());r(X=>X.map(W=>W.status==="parsed"?{...W,status:"importing"}:W));try{const X=z.map(F=>({user_id:t.id,account_number:F.account_number,position_id:F.position_id,asset:F.symbol,asset_type:"FX",trade_type:F.trade_type,size:F.volume,entry_price:F.entry_price,exit_price:F.exit_price,time:F.entry_time,duration:E(F.entry_time,F.exit_time),outcome:F.pnl>0?"win":"loss",pnl:F.pnl})),W=await hOe(X);if(W.success)Di.success(`Successfully imported ${W.count} trades${W.duplicates>0?` (${W.duplicates} duplicates skipped)`:""}`),r(F=>F.map(V=>V.status==="importing"?{...V,status:"imported"}:V));else throw new Error("Import failed")}catch(X){console.error("Import error:",X),Di.error(`Import failed: ${X.message}`),r(W=>W.map(F=>F.status==="importing"?{...F,status:"parsed"}:F))}},E=(I,j)=>{try{const z=new Date(I).getTime(),W=new Date(j).getTime()-z,F=Math.floor(W/6e4);return F<60?`${F} minutes`:`${Math.floor(F/60)} hours`}catch{return"0 minutes"}},P=I=>{r(j=>j.filter((z,X)=>X!==I))},Q=()=>{r([])},B=I=>{const j=I==="csv"?"/samples/mt5-sample-trades.csv":"/samples/mt5-sample-trades.xlsx",z=document.createElement("a");z.href=j,z.download=`mt5-sample-trades.${I}`,document.body.appendChild(z),z.click(),document.body.removeChild(z)},R=I=>{switch(I){case"parsed":return b.jsx(rs,{className:"h-5 w-5 text-green-500"});case"error":return b.jsx(vx,{className:"h-5 w-5 text-red-500"});case"importing":case"parsing":return b.jsx("div",{className:"h-5 w-5 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"});case"imported":return b.jsx(rs,{className:"h-5 w-5 text-blue-500"});default:return b.jsx(j1e,{className:"h-5 w-5 text-gray-400"})}},M=I=>{switch(I){case"pending":return"Pending";case"parsing":return"Parsing...";case"parsed":return"Ready to import";case"error":return"Error";case"importing":return"Importing...";case"imported":return"Imported";default:return I}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[b.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Download Sample Files"}),b.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-3",children:"Use these templates to format your MT5 trade reports correctly"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs(_r,{size:"sm",variant:"outline",onClick:()=>B("csv"),children:[b.jsx(es,{className:"h-4 w-4 mr-2"}),"CSV Sample"]}),b.jsxs(_r,{size:"sm",variant:"outline",onClick:()=>B("xlsx"),children:[b.jsx(es,{className:"h-4 w-4 mr-2"}),"Excel Sample"]})]})]}),b.jsxs("div",{onDragOver:h,onDragLeave:f,onDrop:p,className:`
          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
          ${n?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"}
        `,onClick:()=>{var I;return(I=c.current)==null?void 0:I.click()},children:[b.jsx(cf,{className:"mx-auto h-12 w-12 text-gray-400"}),b.jsx("h3",{className:"mt-4 text-lg font-normal text-gray-900 dark:text-white",children:"Drop files here or click to browse"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Supports CSV and Excel (.xlsx, .xls) files"}),b.jsx("input",{ref:c,type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:O,className:"hidden"})]}),e.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[b.jsxs("h3",{className:"text-lg font-normal text-gray-900 dark:text-white",children:["Files (",e.length,")"]}),b.jsx(_r,{size:"sm",variant:"outline",onClick:Q,children:"Clear All"})]}),b.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map((I,j)=>b.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[R(I.status),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:I.file.name}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M(I.status),I.trades&&`  ${I.trades.length} trades`,I.error&&`  ${I.error}`]})]})]}),b.jsx(_r,{size:"sm",variant:"ghost",onClick:()=>P(j),disabled:I.status==="importing",children:b.jsx(Ii,{className:"h-4 w-4"})})]},j))}),b.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:b.jsxs(_r,{onClick:T,disabled:!e.some(I=>I.status==="parsed"),className:"w-full sm:w-auto",children:["Import ",e.filter(I=>I.status==="parsed").length>0&&`(${e.filter(I=>I.status==="parsed").reduce((I,j)=>{var z;return I+(((z=j.trades)==null?void 0:z.length)||0)},0)} trades)`]})})]})]})}var a2={exports:{}};function UKe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var o2={exports:{}};const qKe={},WKe=Object.freeze(Object.defineProperty({__proto__:null,default:qKe},Symbol.toStringTag,{value:"Module"})),YKe=Gge(WKe);var ZKe=o2.exports,SX;function $r(){return SX||(SX=1,(function(t,e){(function(r,n){t.exports=n()})(ZKe,function(){var r=r||(function(n,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof lu<"u"&&lu.crypto&&(a=lu.crypto),!a&&typeof UKe=="function")try{a=YKe}catch{}var l=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function E(){}return function(P){var Q;return E.prototype=P,Q=new E,E.prototype=null,Q}})(),h={},f=h.lib={},p=f.Base=(function(){return{extend:function(E){var P=c(this);return E&&P.mixIn(E),(!P.hasOwnProperty("init")||this.init===P.init)&&(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var P in E)E.hasOwnProperty(P)&&(this[P]=E[P]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),O=f.WordArray=p.extend({init:function(E,P){E=this.words=E||[],P!=s?this.sigBytes=P:this.sigBytes=E.length*4},toString:function(E){return(E||k).stringify(this)},concat:function(E){var P=this.words,Q=E.words,B=this.sigBytes,R=E.sigBytes;if(this.clamp(),B%4)for(var M=0;M<R;M++){var I=Q[M>>>2]>>>24-M%4*8&255;P[B+M>>>2]|=I<<24-(B+M)%4*8}else for(var j=0;j<R;j+=4)P[B+j>>>2]=Q[j>>>2];return this.sigBytes+=R,this},clamp:function(){var E=this.words,P=this.sigBytes;E[P>>>2]&=4294967295<<32-P%4*8,E.length=n.ceil(P/4)},clone:function(){var E=p.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var P=[],Q=0;Q<E;Q+=4)P.push(l());return new O.init(P,E)}}),x=h.enc={},k=x.Hex={stringify:function(E){for(var P=E.words,Q=E.sigBytes,B=[],R=0;R<Q;R++){var M=P[R>>>2]>>>24-R%4*8&255;B.push((M>>>4).toString(16)),B.push((M&15).toString(16))}return B.join("")},parse:function(E){for(var P=E.length,Q=[],B=0;B<P;B+=2)Q[B>>>3]|=parseInt(E.substr(B,2),16)<<24-B%8*4;return new O.init(Q,P/2)}},w=x.Latin1={stringify:function(E){for(var P=E.words,Q=E.sigBytes,B=[],R=0;R<Q;R++){var M=P[R>>>2]>>>24-R%4*8&255;B.push(String.fromCharCode(M))}return B.join("")},parse:function(E){for(var P=E.length,Q=[],B=0;B<P;B++)Q[B>>>2]|=(E.charCodeAt(B)&255)<<24-B%4*8;return new O.init(Q,P)}},_=x.Utf8={stringify:function(E){try{return decodeURIComponent(escape(w.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return w.parse(unescape(encodeURIComponent(E)))}},C=f.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new O.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=_.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var P,Q=this._data,B=Q.words,R=Q.sigBytes,M=this.blockSize,I=M*4,j=R/I;E?j=n.ceil(j):j=n.max((j|0)-this._minBufferSize,0);var z=j*M,X=n.min(z*4,R);if(z){for(var W=0;W<z;W+=M)this._doProcessBlock(B,W);P=B.splice(0,z),Q.sigBytes-=X}return new O.init(P,X)},clone:function(){var E=p.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});f.Hasher=C.extend({cfg:p.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var P=this._doFinalize();return P},blockSize:16,_createHelper:function(E){return function(P,Q){return new E.init(Q).finalize(P)}},_createHmacHelper:function(E){return function(P,Q){return new T.HMAC.init(E,Q).finalize(P)}}});var T=h.algo={};return h})(Math);return r})})(o2)),o2.exports}var l2={exports:{}},GKe=l2.exports,TX;function EA(){return TX||(TX=1,(function(t,e){(function(r,n){t.exports=n($r())})(GKe,function(r){return(function(n){var s=r,a=s.lib,l=a.Base,c=a.WordArray,h=s.x64={};h.Word=l.extend({init:function(f,p){this.high=f,this.low=p}}),h.WordArray=l.extend({init:function(f,p){f=this.words=f||[],p!=n?this.sigBytes=p:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,p=f.length,O=[],x=0;x<p;x++){var k=f[x];O.push(k.high),O.push(k.low)}return c.create(O,this.sigBytes)},clone:function(){for(var f=l.clone.call(this),p=f.words=this.words.slice(0),O=p.length,x=0;x<O;x++)p[x]=p[x].clone();return f}})})(),r})})(l2)),l2.exports}var c2={exports:{}},HKe=c2.exports,EX;function KKe(){return EX||(EX=1,(function(t,e){(function(r,n){t.exports=n($r())})(HKe,function(r){return(function(){if(typeof ArrayBuffer=="function"){var n=r,s=n.lib,a=s.WordArray,l=a.init,c=a.init=function(h){if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),(h instanceof Int8Array||typeof Uint8ClampedArray<"u"&&h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array||h instanceof Float64Array)&&(h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),h instanceof Uint8Array){for(var f=h.byteLength,p=[],O=0;O<f;O++)p[O>>>2]|=h[O]<<24-O%4*8;l.call(this,p,f)}else l.apply(this,arguments)};c.prototype=a}})(),r.lib.WordArray})})(c2)),c2.exports}var d2={exports:{}},JKe=d2.exports,PX;function eJe(){return PX||(PX=1,(function(t,e){(function(r,n){t.exports=n($r())})(JKe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=n.enc;l.Utf16=l.Utf16BE={stringify:function(h){for(var f=h.words,p=h.sigBytes,O=[],x=0;x<p;x+=2){var k=f[x>>>2]>>>16-x%4*8&65535;O.push(String.fromCharCode(k))}return O.join("")},parse:function(h){for(var f=h.length,p=[],O=0;O<f;O++)p[O>>>1]|=h.charCodeAt(O)<<16-O%2*16;return a.create(p,f*2)}},l.Utf16LE={stringify:function(h){for(var f=h.words,p=h.sigBytes,O=[],x=0;x<p;x+=2){var k=c(f[x>>>2]>>>16-x%4*8&65535);O.push(String.fromCharCode(k))}return O.join("")},parse:function(h){for(var f=h.length,p=[],O=0;O<f;O++)p[O>>>1]|=c(h.charCodeAt(O)<<16-O%2*16);return a.create(p,f*2)}};function c(h){return h<<8&4278255360|h>>>8&16711935}})(),r.enc.Utf16})})(d2)),d2.exports}var h2={exports:{}},tJe=h2.exports,DX;function r0(){return DX||(DX=1,(function(t,e){(function(r,n){t.exports=n($r())})(tJe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=n.enc;l.Base64={stringify:function(h){var f=h.words,p=h.sigBytes,O=this._map;h.clamp();for(var x=[],k=0;k<p;k+=3)for(var w=f[k>>>2]>>>24-k%4*8&255,_=f[k+1>>>2]>>>24-(k+1)%4*8&255,C=f[k+2>>>2]>>>24-(k+2)%4*8&255,T=w<<16|_<<8|C,E=0;E<4&&k+E*.75<p;E++)x.push(O.charAt(T>>>6*(3-E)&63));var P=O.charAt(64);if(P)for(;x.length%4;)x.push(P);return x.join("")},parse:function(h){var f=h.length,p=this._map,O=this._reverseMap;if(!O){O=this._reverseMap=[];for(var x=0;x<p.length;x++)O[p.charCodeAt(x)]=x}var k=p.charAt(64);if(k){var w=h.indexOf(k);w!==-1&&(f=w)}return c(h,f,O)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(h,f,p){for(var O=[],x=0,k=0;k<f;k++)if(k%4){var w=p[h.charCodeAt(k-1)]<<k%4*2,_=p[h.charCodeAt(k)]>>>6-k%4*2,C=w|_;O[x>>>2]|=C<<24-x%4*8,x++}return a.create(O,x)}})(),r.enc.Base64})})(h2)),h2.exports}var u2={exports:{}},rJe=u2.exports,QX;function nJe(){return QX||(QX=1,(function(t,e){(function(r,n){t.exports=n($r())})(rJe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=n.enc;l.Base64url={stringify:function(h,f){f===void 0&&(f=!0);var p=h.words,O=h.sigBytes,x=f?this._safe_map:this._map;h.clamp();for(var k=[],w=0;w<O;w+=3)for(var _=p[w>>>2]>>>24-w%4*8&255,C=p[w+1>>>2]>>>24-(w+1)%4*8&255,T=p[w+2>>>2]>>>24-(w+2)%4*8&255,E=_<<16|C<<8|T,P=0;P<4&&w+P*.75<O;P++)k.push(x.charAt(E>>>6*(3-P)&63));var Q=x.charAt(64);if(Q)for(;k.length%4;)k.push(Q);return k.join("")},parse:function(h,f){f===void 0&&(f=!0);var p=h.length,O=f?this._safe_map:this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var k=0;k<O.length;k++)x[O.charCodeAt(k)]=k}var w=O.charAt(64);if(w){var _=h.indexOf(w);_!==-1&&(p=_)}return c(h,p,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(h,f,p){for(var O=[],x=0,k=0;k<f;k++)if(k%4){var w=p[h.charCodeAt(k-1)]<<k%4*2,_=p[h.charCodeAt(k)]>>>6-k%4*2,C=w|_;O[x>>>2]|=C<<24-x%4*8,x++}return a.create(O,x)}})(),r.enc.Base64url})})(u2)),u2.exports}var f2={exports:{}},iJe=f2.exports,$X;function n0(){return $X||($X=1,(function(t,e){(function(r,n){t.exports=n($r())})(iJe,function(r){return(function(n){var s=r,a=s.lib,l=a.WordArray,c=a.Hasher,h=s.algo,f=[];(function(){for(var _=0;_<64;_++)f[_]=n.abs(n.sin(_+1))*4294967296|0})();var p=h.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,C){for(var T=0;T<16;T++){var E=C+T,P=_[E];_[E]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var Q=this._hash.words,B=_[C+0],R=_[C+1],M=_[C+2],I=_[C+3],j=_[C+4],z=_[C+5],X=_[C+6],W=_[C+7],F=_[C+8],V=_[C+9],te=_[C+10],G=_[C+11],J=_[C+12],oe=_[C+13],ie=_[C+14],be=_[C+15],he=Q[0],re=Q[1],ae=Q[2],K=Q[3];he=O(he,re,ae,K,B,7,f[0]),K=O(K,he,re,ae,R,12,f[1]),ae=O(ae,K,he,re,M,17,f[2]),re=O(re,ae,K,he,I,22,f[3]),he=O(he,re,ae,K,j,7,f[4]),K=O(K,he,re,ae,z,12,f[5]),ae=O(ae,K,he,re,X,17,f[6]),re=O(re,ae,K,he,W,22,f[7]),he=O(he,re,ae,K,F,7,f[8]),K=O(K,he,re,ae,V,12,f[9]),ae=O(ae,K,he,re,te,17,f[10]),re=O(re,ae,K,he,G,22,f[11]),he=O(he,re,ae,K,J,7,f[12]),K=O(K,he,re,ae,oe,12,f[13]),ae=O(ae,K,he,re,ie,17,f[14]),re=O(re,ae,K,he,be,22,f[15]),he=x(he,re,ae,K,R,5,f[16]),K=x(K,he,re,ae,X,9,f[17]),ae=x(ae,K,he,re,G,14,f[18]),re=x(re,ae,K,he,B,20,f[19]),he=x(he,re,ae,K,z,5,f[20]),K=x(K,he,re,ae,te,9,f[21]),ae=x(ae,K,he,re,be,14,f[22]),re=x(re,ae,K,he,j,20,f[23]),he=x(he,re,ae,K,V,5,f[24]),K=x(K,he,re,ae,ie,9,f[25]),ae=x(ae,K,he,re,I,14,f[26]),re=x(re,ae,K,he,F,20,f[27]),he=x(he,re,ae,K,oe,5,f[28]),K=x(K,he,re,ae,M,9,f[29]),ae=x(ae,K,he,re,W,14,f[30]),re=x(re,ae,K,he,J,20,f[31]),he=k(he,re,ae,K,z,4,f[32]),K=k(K,he,re,ae,F,11,f[33]),ae=k(ae,K,he,re,G,16,f[34]),re=k(re,ae,K,he,ie,23,f[35]),he=k(he,re,ae,K,R,4,f[36]),K=k(K,he,re,ae,j,11,f[37]),ae=k(ae,K,he,re,W,16,f[38]),re=k(re,ae,K,he,te,23,f[39]),he=k(he,re,ae,K,oe,4,f[40]),K=k(K,he,re,ae,B,11,f[41]),ae=k(ae,K,he,re,I,16,f[42]),re=k(re,ae,K,he,X,23,f[43]),he=k(he,re,ae,K,V,4,f[44]),K=k(K,he,re,ae,J,11,f[45]),ae=k(ae,K,he,re,be,16,f[46]),re=k(re,ae,K,he,M,23,f[47]),he=w(he,re,ae,K,B,6,f[48]),K=w(K,he,re,ae,W,10,f[49]),ae=w(ae,K,he,re,ie,15,f[50]),re=w(re,ae,K,he,z,21,f[51]),he=w(he,re,ae,K,J,6,f[52]),K=w(K,he,re,ae,I,10,f[53]),ae=w(ae,K,he,re,te,15,f[54]),re=w(re,ae,K,he,R,21,f[55]),he=w(he,re,ae,K,F,6,f[56]),K=w(K,he,re,ae,be,10,f[57]),ae=w(ae,K,he,re,X,15,f[58]),re=w(re,ae,K,he,oe,21,f[59]),he=w(he,re,ae,K,j,6,f[60]),K=w(K,he,re,ae,G,10,f[61]),ae=w(ae,K,he,re,M,15,f[62]),re=w(re,ae,K,he,V,21,f[63]),Q[0]=Q[0]+he|0,Q[1]=Q[1]+re|0,Q[2]=Q[2]+ae|0,Q[3]=Q[3]+K|0},_doFinalize:function(){var _=this._data,C=_.words,T=this._nDataBytes*8,E=_.sigBytes*8;C[E>>>5]|=128<<24-E%32;var P=n.floor(T/4294967296),Q=T;C[(E+64>>>9<<4)+15]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,C[(E+64>>>9<<4)+14]=(Q<<8|Q>>>24)&16711935|(Q<<24|Q>>>8)&4278255360,_.sigBytes=(C.length+1)*4,this._process();for(var B=this._hash,R=B.words,M=0;M<4;M++){var I=R[M];R[M]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return B},clone:function(){var _=c.clone.call(this);return _._hash=this._hash.clone(),_}});function O(_,C,T,E,P,Q,B){var R=_+(C&T|~C&E)+P+B;return(R<<Q|R>>>32-Q)+C}function x(_,C,T,E,P,Q,B){var R=_+(C&E|T&~E)+P+B;return(R<<Q|R>>>32-Q)+C}function k(_,C,T,E,P,Q,B){var R=_+(C^T^E)+P+B;return(R<<Q|R>>>32-Q)+C}function w(_,C,T,E,P,Q,B){var R=_+(T^(C|~E))+P+B;return(R<<Q|R>>>32-Q)+C}s.MD5=c._createHelper(p),s.HmacMD5=c._createHmacHelper(p)})(Math),r.MD5})})(f2)),f2.exports}var g2={exports:{}},sJe=g2.exports,MX;function Use(){return MX||(MX=1,(function(t,e){(function(r,n){t.exports=n($r())})(sJe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=s.Hasher,c=n.algo,h=[],f=c.SHA1=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,O){for(var x=this._hash.words,k=x[0],w=x[1],_=x[2],C=x[3],T=x[4],E=0;E<80;E++){if(E<16)h[E]=p[O+E]|0;else{var P=h[E-3]^h[E-8]^h[E-14]^h[E-16];h[E]=P<<1|P>>>31}var Q=(k<<5|k>>>27)+T+h[E];E<20?Q+=(w&_|~w&C)+1518500249:E<40?Q+=(w^_^C)+1859775393:E<60?Q+=(w&_|w&C|_&C)-1894007588:Q+=(w^_^C)-899497514,T=C,C=_,_=w<<30|w>>>2,w=k,k=Q}x[0]=x[0]+k|0,x[1]=x[1]+w|0,x[2]=x[2]+_|0,x[3]=x[3]+C|0,x[4]=x[4]+T|0},_doFinalize:function(){var p=this._data,O=p.words,x=this._nDataBytes*8,k=p.sigBytes*8;return O[k>>>5]|=128<<24-k%32,O[(k+64>>>9<<4)+14]=Math.floor(x/4294967296),O[(k+64>>>9<<4)+15]=x,p.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p}});n.SHA1=l._createHelper(f),n.HmacSHA1=l._createHmacHelper(f)})(),r.SHA1})})(g2)),g2.exports}var p2={exports:{}},aJe=p2.exports,RX;function J8(){return RX||(RX=1,(function(t,e){(function(r,n){t.exports=n($r())})(aJe,function(r){return(function(n){var s=r,a=s.lib,l=a.WordArray,c=a.Hasher,h=s.algo,f=[],p=[];(function(){function k(T){for(var E=n.sqrt(T),P=2;P<=E;P++)if(!(T%P))return!1;return!0}function w(T){return(T-(T|0))*4294967296|0}for(var _=2,C=0;C<64;)k(_)&&(C<8&&(f[C]=w(n.pow(_,1/2))),p[C]=w(n.pow(_,1/3)),C++),_++})();var O=[],x=h.SHA256=c.extend({_doReset:function(){this._hash=new l.init(f.slice(0))},_doProcessBlock:function(k,w){for(var _=this._hash.words,C=_[0],T=_[1],E=_[2],P=_[3],Q=_[4],B=_[5],R=_[6],M=_[7],I=0;I<64;I++){if(I<16)O[I]=k[w+I]|0;else{var j=O[I-15],z=(j<<25|j>>>7)^(j<<14|j>>>18)^j>>>3,X=O[I-2],W=(X<<15|X>>>17)^(X<<13|X>>>19)^X>>>10;O[I]=z+O[I-7]+W+O[I-16]}var F=Q&B^~Q&R,V=C&T^C&E^T&E,te=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),G=(Q<<26|Q>>>6)^(Q<<21|Q>>>11)^(Q<<7|Q>>>25),J=M+G+F+p[I]+O[I],oe=te+V;M=R,R=B,B=Q,Q=P+J|0,P=E,E=T,T=C,C=J+oe|0}_[0]=_[0]+C|0,_[1]=_[1]+T|0,_[2]=_[2]+E|0,_[3]=_[3]+P|0,_[4]=_[4]+Q|0,_[5]=_[5]+B|0,_[6]=_[6]+R|0,_[7]=_[7]+M|0},_doFinalize:function(){var k=this._data,w=k.words,_=this._nDataBytes*8,C=k.sigBytes*8;return w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=n.floor(_/4294967296),w[(C+64>>>9<<4)+15]=_,k.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});s.SHA256=c._createHelper(x),s.HmacSHA256=c._createHmacHelper(x)})(Math),r.SHA256})})(p2)),p2.exports}var m2={exports:{}},oJe=m2.exports,NX;function lJe(){return NX||(NX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),J8())})(oJe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=n.algo,c=l.SHA256,h=l.SHA224=c.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=c._doFinalize.call(this);return f.sigBytes-=4,f}});n.SHA224=c._createHelper(h),n.HmacSHA224=c._createHmacHelper(h)})(),r.SHA224})})(m2)),m2.exports}var O2={exports:{}},cJe=O2.exports,BX;function qse(){return BX||(BX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),EA())})(cJe,function(r){return(function(){var n=r,s=n.lib,a=s.Hasher,l=n.x64,c=l.Word,h=l.WordArray,f=n.algo;function p(){return c.create.apply(c,arguments)}var O=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],x=[];(function(){for(var w=0;w<80;w++)x[w]=p()})();var k=f.SHA512=a.extend({_doReset:function(){this._hash=new h.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(w,_){for(var C=this._hash.words,T=C[0],E=C[1],P=C[2],Q=C[3],B=C[4],R=C[5],M=C[6],I=C[7],j=T.high,z=T.low,X=E.high,W=E.low,F=P.high,V=P.low,te=Q.high,G=Q.low,J=B.high,oe=B.low,ie=R.high,be=R.low,he=M.high,re=M.low,ae=I.high,K=I.low,ce=j,ye=z,ke=X,Ce=W,De=F,Pe=V,Ee=te,de=G,Re=J,Be=oe,He=ie,Ye=be,Ze=he,Ge=re,Qt=ae,gr=K,Or=0;Or<80;Or++){var kr,lt,st=x[Or];if(Or<16)lt=st.high=w[_+Or*2]|0,kr=st.low=w[_+Or*2+1]|0;else{var xt=x[Or-15],tt=xt.high,Ct=xt.low,Gt=(tt>>>1|Ct<<31)^(tt>>>8|Ct<<24)^tt>>>7,cr=(Ct>>>1|tt<<31)^(Ct>>>8|tt<<24)^(Ct>>>7|tt<<25),kt=x[Or-2],Nt=kt.high,dr=kt.low,pr=(Nt>>>19|dr<<13)^(Nt<<3|dr>>>29)^Nt>>>6,Lr=(dr>>>19|Nt<<13)^(dr<<3|Nt>>>29)^(dr>>>6|Nt<<26),Kr=x[Or-7],Li=Kr.high,zi=Kr.low,Ai=x[Or-16],yo=Ai.high,Wn=Ai.low;kr=cr+zi,lt=Gt+Li+(kr>>>0<cr>>>0?1:0),kr=kr+Lr,lt=lt+pr+(kr>>>0<Lr>>>0?1:0),kr=kr+Wn,lt=lt+yo+(kr>>>0<Wn>>>0?1:0),st.high=lt,st.low=kr}var Cn=Re&He^~Re&Ze,Fn=Be&Ye^~Be&Ge,Je=ce&ke^ce&De^ke&De,_t=ye&Ce^ye&Pe^Ce&Pe,zt=(ce>>>28|ye<<4)^(ce<<30|ye>>>2)^(ce<<25|ye>>>7),tr=(ye>>>28|ce<<4)^(ye<<30|ce>>>2)^(ye<<25|ce>>>7),dn=(Re>>>14|Be<<18)^(Re>>>18|Be<<14)^(Re<<23|Be>>>9),Js=(Be>>>14|Re<<18)^(Be>>>18|Re<<14)^(Be<<23|Re>>>9),Si=O[Or],wo=Si.high,rc=Si.low,qr=gr+Js,ea=Qt+dn+(qr>>>0<gr>>>0?1:0),qr=qr+Fn,ea=ea+Cn+(qr>>>0<Fn>>>0?1:0),qr=qr+rc,ea=ea+wo+(qr>>>0<rc>>>0?1:0),qr=qr+kr,ea=ea+lt+(qr>>>0<kr>>>0?1:0),Yn=tr+_t,ss=zt+Je+(Yn>>>0<tr>>>0?1:0);Qt=Ze,gr=Ge,Ze=He,Ge=Ye,He=Re,Ye=Be,Be=de+qr|0,Re=Ee+ea+(Be>>>0<de>>>0?1:0)|0,Ee=De,de=Pe,De=ke,Pe=Ce,ke=ce,Ce=ye,ye=qr+Yn|0,ce=ea+ss+(ye>>>0<qr>>>0?1:0)|0}z=T.low=z+ye,T.high=j+ce+(z>>>0<ye>>>0?1:0),W=E.low=W+Ce,E.high=X+ke+(W>>>0<Ce>>>0?1:0),V=P.low=V+Pe,P.high=F+De+(V>>>0<Pe>>>0?1:0),G=Q.low=G+de,Q.high=te+Ee+(G>>>0<de>>>0?1:0),oe=B.low=oe+Be,B.high=J+Re+(oe>>>0<Be>>>0?1:0),be=R.low=be+Ye,R.high=ie+He+(be>>>0<Ye>>>0?1:0),re=M.low=re+Ge,M.high=he+Ze+(re>>>0<Ge>>>0?1:0),K=I.low=K+gr,I.high=ae+Qt+(K>>>0<gr>>>0?1:0)},_doFinalize:function(){var w=this._data,_=w.words,C=this._nDataBytes*8,T=w.sigBytes*8;_[T>>>5]|=128<<24-T%32,_[(T+128>>>10<<5)+30]=Math.floor(C/4294967296),_[(T+128>>>10<<5)+31]=C,w.sigBytes=_.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});n.SHA512=a._createHelper(k),n.HmacSHA512=a._createHmacHelper(k)})(),r.SHA512})})(O2)),O2.exports}var x2={exports:{}},dJe=x2.exports,IX;function hJe(){return IX||(IX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),EA(),qse())})(dJe,function(r){return(function(){var n=r,s=n.x64,a=s.Word,l=s.WordArray,c=n.algo,h=c.SHA512,f=c.SHA384=h.extend({_doReset:function(){this._hash=new l.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var p=h._doFinalize.call(this);return p.sigBytes-=16,p}});n.SHA384=h._createHelper(f),n.HmacSHA384=h._createHmacHelper(f)})(),r.SHA384})})(x2)),x2.exports}var b2={exports:{}},uJe=b2.exports,jX;function fJe(){return jX||(jX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),EA())})(uJe,function(r){return(function(n){var s=r,a=s.lib,l=a.WordArray,c=a.Hasher,h=s.x64,f=h.Word,p=s.algo,O=[],x=[],k=[];(function(){for(var C=1,T=0,E=0;E<24;E++){O[C+5*T]=(E+1)*(E+2)/2%64;var P=T%5,Q=(2*C+3*T)%5;C=P,T=Q}for(var C=0;C<5;C++)for(var T=0;T<5;T++)x[C+5*T]=T+(2*C+3*T)%5*5;for(var B=1,R=0;R<24;R++){for(var M=0,I=0,j=0;j<7;j++){if(B&1){var z=(1<<j)-1;z<32?I^=1<<z:M^=1<<z-32}B&128?B=B<<1^113:B<<=1}k[R]=f.create(M,I)}})();var w=[];(function(){for(var C=0;C<25;C++)w[C]=f.create()})();var _=p.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],T=0;T<25;T++)C[T]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,T){for(var E=this._state,P=this.blockSize/2,Q=0;Q<P;Q++){var B=C[T+2*Q],R=C[T+2*Q+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var M=E[Q];M.high^=R,M.low^=B}for(var I=0;I<24;I++){for(var j=0;j<5;j++){for(var z=0,X=0,W=0;W<5;W++){var M=E[j+5*W];z^=M.high,X^=M.low}var F=w[j];F.high=z,F.low=X}for(var j=0;j<5;j++)for(var V=w[(j+4)%5],te=w[(j+1)%5],G=te.high,J=te.low,z=V.high^(G<<1|J>>>31),X=V.low^(J<<1|G>>>31),W=0;W<5;W++){var M=E[j+5*W];M.high^=z,M.low^=X}for(var oe=1;oe<25;oe++){var z,X,M=E[oe],ie=M.high,be=M.low,he=O[oe];he<32?(z=ie<<he|be>>>32-he,X=be<<he|ie>>>32-he):(z=be<<he-32|ie>>>64-he,X=ie<<he-32|be>>>64-he);var re=w[x[oe]];re.high=z,re.low=X}var ae=w[0],K=E[0];ae.high=K.high,ae.low=K.low;for(var j=0;j<5;j++)for(var W=0;W<5;W++){var oe=j+5*W,M=E[oe],ce=w[oe],ye=w[(j+1)%5+5*W],ke=w[(j+2)%5+5*W];M.high=ce.high^~ye.high&ke.high,M.low=ce.low^~ye.low&ke.low}var M=E[0],Ce=k[I];M.high^=Ce.high,M.low^=Ce.low}},_doFinalize:function(){var C=this._data,T=C.words;this._nDataBytes*8;var E=C.sigBytes*8,P=this.blockSize*32;T[E>>>5]|=1<<24-E%32,T[(n.ceil((E+1)/P)*P>>>5)-1]|=128,C.sigBytes=T.length*4,this._process();for(var Q=this._state,B=this.cfg.outputLength/8,R=B/8,M=[],I=0;I<R;I++){var j=Q[I],z=j.high,X=j.low;z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,X=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360,M.push(X),M.push(z)}return new l.init(M,B)},clone:function(){for(var C=c.clone.call(this),T=C._state=this._state.slice(0),E=0;E<25;E++)T[E]=T[E].clone();return C}});s.SHA3=c._createHelper(_),s.HmacSHA3=c._createHmacHelper(_)})(Math),r.SHA3})})(b2)),b2.exports}var k2={exports:{}},gJe=k2.exports,FX;function pJe(){return FX||(FX=1,(function(t,e){(function(r,n){t.exports=n($r())})(gJe,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(n){var s=r,a=s.lib,l=a.WordArray,c=a.Hasher,h=s.algo,f=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),O=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),x=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),k=l.create([0,1518500249,1859775393,2400959708,2840853838]),w=l.create([1352829926,1548603684,1836072691,2053994217,0]),_=h.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,M){for(var I=0;I<16;I++){var j=M+I,z=R[j];R[j]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}var X=this._hash.words,W=k.words,F=w.words,V=f.words,te=p.words,G=O.words,J=x.words,oe,ie,be,he,re,ae,K,ce,ye,ke;ae=oe=X[0],K=ie=X[1],ce=be=X[2],ye=he=X[3],ke=re=X[4];for(var Ce,I=0;I<80;I+=1)Ce=oe+R[M+V[I]]|0,I<16?Ce+=C(ie,be,he)+W[0]:I<32?Ce+=T(ie,be,he)+W[1]:I<48?Ce+=E(ie,be,he)+W[2]:I<64?Ce+=P(ie,be,he)+W[3]:Ce+=Q(ie,be,he)+W[4],Ce=Ce|0,Ce=B(Ce,G[I]),Ce=Ce+re|0,oe=re,re=he,he=B(be,10),be=ie,ie=Ce,Ce=ae+R[M+te[I]]|0,I<16?Ce+=Q(K,ce,ye)+F[0]:I<32?Ce+=P(K,ce,ye)+F[1]:I<48?Ce+=E(K,ce,ye)+F[2]:I<64?Ce+=T(K,ce,ye)+F[3]:Ce+=C(K,ce,ye)+F[4],Ce=Ce|0,Ce=B(Ce,J[I]),Ce=Ce+ke|0,ae=ke,ke=ye,ye=B(ce,10),ce=K,K=Ce;Ce=X[1]+be+ye|0,X[1]=X[2]+he+ke|0,X[2]=X[3]+re+ae|0,X[3]=X[4]+oe+K|0,X[4]=X[0]+ie+ce|0,X[0]=Ce},_doFinalize:function(){var R=this._data,M=R.words,I=this._nDataBytes*8,j=R.sigBytes*8;M[j>>>5]|=128<<24-j%32,M[(j+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,R.sigBytes=(M.length+1)*4,this._process();for(var z=this._hash,X=z.words,W=0;W<5;W++){var F=X[W];X[W]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return z},clone:function(){var R=c.clone.call(this);return R._hash=this._hash.clone(),R}});function C(R,M,I){return R^M^I}function T(R,M,I){return R&M|~R&I}function E(R,M,I){return(R|~M)^I}function P(R,M,I){return R&I|M&~I}function Q(R,M,I){return R^(M|~I)}function B(R,M){return R<<M|R>>>32-M}s.RIPEMD160=c._createHelper(_),s.HmacRIPEMD160=c._createHmacHelper(_)})(),r.RIPEMD160})})(k2)),k2.exports}var y2={exports:{}},mJe=y2.exports,LX;function eD(){return LX||(LX=1,(function(t,e){(function(r,n){t.exports=n($r())})(mJe,function(r){(function(){var n=r,s=n.lib,a=s.Base,l=n.enc,c=l.Utf8,h=n.algo;h.HMAC=a.extend({init:function(f,p){f=this._hasher=new f.init,typeof p=="string"&&(p=c.parse(p));var O=f.blockSize,x=O*4;p.sigBytes>x&&(p=f.finalize(p)),p.clamp();for(var k=this._oKey=p.clone(),w=this._iKey=p.clone(),_=k.words,C=w.words,T=0;T<O;T++)_[T]^=1549556828,C[T]^=909522486;k.sigBytes=w.sigBytes=x,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var p=this._hasher,O=p.finalize(f);p.reset();var x=p.finalize(this._oKey.clone().concat(O));return x}})})()})})(y2)),y2.exports}var w2={exports:{}},OJe=w2.exports,zX;function xJe(){return zX||(zX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),J8(),eD())})(OJe,function(r){return(function(){var n=r,s=n.lib,a=s.Base,l=s.WordArray,c=n.algo,h=c.SHA256,f=c.HMAC,p=c.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:25e4}),init:function(O){this.cfg=this.cfg.extend(O)},compute:function(O,x){for(var k=this.cfg,w=f.create(k.hasher,O),_=l.create(),C=l.create([1]),T=_.words,E=C.words,P=k.keySize,Q=k.iterations;T.length<P;){var B=w.update(x).finalize(C);w.reset();for(var R=B.words,M=R.length,I=B,j=1;j<Q;j++){I=w.finalize(I),w.reset();for(var z=I.words,X=0;X<M;X++)R[X]^=z[X]}_.concat(B),E[0]++}return _.sigBytes=P*4,_}});n.PBKDF2=function(O,x,k){return p.create(k).compute(O,x)}})(),r.PBKDF2})})(w2)),w2.exports}var v2={exports:{}},bJe=v2.exports,XX;function Mh(){return XX||(XX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Use(),eD())})(bJe,function(r){return(function(){var n=r,s=n.lib,a=s.Base,l=s.WordArray,c=n.algo,h=c.MD5,f=c.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,O){for(var x,k=this.cfg,w=k.hasher.create(),_=l.create(),C=_.words,T=k.keySize,E=k.iterations;C.length<T;){x&&w.update(x),x=w.update(p).finalize(O),w.reset();for(var P=1;P<E;P++)x=w.finalize(x),w.reset();_.concat(x)}return _.sigBytes=T*4,_}});n.EvpKDF=function(p,O,x){return f.create(x).compute(p,O)}})(),r.EvpKDF})})(v2)),v2.exports}var _2={exports:{}},kJe=_2.exports,VX;function Fi(){return VX||(VX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Mh())})(kJe,function(r){r.lib.Cipher||(function(n){var s=r,a=s.lib,l=a.Base,c=a.WordArray,h=a.BufferedBlockAlgorithm,f=s.enc;f.Utf8;var p=f.Base64,O=s.algo,x=O.EvpKDF,k=a.Cipher=h.extend({cfg:l.extend(),createEncryptor:function(z,X){return this.create(this._ENC_XFORM_MODE,z,X)},createDecryptor:function(z,X){return this.create(this._DEC_XFORM_MODE,z,X)},init:function(z,X,W){this.cfg=this.cfg.extend(W),this._xformMode=z,this._key=X,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(z){return this._append(z),this._process()},finalize:function(z){z&&this._append(z);var X=this._doFinalize();return X},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function z(X){return typeof X=="string"?j:R}return function(X){return{encrypt:function(W,F,V){return z(F).encrypt(X,W,F,V)},decrypt:function(W,F,V){return z(F).decrypt(X,W,F,V)}}}})()});a.StreamCipher=k.extend({_doFinalize:function(){var z=this._process(!0);return z},blockSize:1});var w=s.mode={},_=a.BlockCipherMode=l.extend({createEncryptor:function(z,X){return this.Encryptor.create(z,X)},createDecryptor:function(z,X){return this.Decryptor.create(z,X)},init:function(z,X){this._cipher=z,this._iv=X}}),C=w.CBC=(function(){var z=_.extend();z.Encryptor=z.extend({processBlock:function(W,F){var V=this._cipher,te=V.blockSize;X.call(this,W,F,te),V.encryptBlock(W,F),this._prevBlock=W.slice(F,F+te)}}),z.Decryptor=z.extend({processBlock:function(W,F){var V=this._cipher,te=V.blockSize,G=W.slice(F,F+te);V.decryptBlock(W,F),X.call(this,W,F,te),this._prevBlock=G}});function X(W,F,V){var te,G=this._iv;G?(te=G,this._iv=n):te=this._prevBlock;for(var J=0;J<V;J++)W[F+J]^=te[J]}return z})(),T=s.pad={},E=T.Pkcs7={pad:function(z,X){for(var W=X*4,F=W-z.sigBytes%W,V=F<<24|F<<16|F<<8|F,te=[],G=0;G<F;G+=4)te.push(V);var J=c.create(te,F);z.concat(J)},unpad:function(z){var X=z.words[z.sigBytes-1>>>2]&255;z.sigBytes-=X}};a.BlockCipher=k.extend({cfg:k.cfg.extend({mode:C,padding:E}),reset:function(){var z;k.reset.call(this);var X=this.cfg,W=X.iv,F=X.mode;this._xformMode==this._ENC_XFORM_MODE?z=F.createEncryptor:(z=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,W&&W.words):(this._mode=z.call(F,this,W&&W.words),this._mode.__creator=z)},_doProcessBlock:function(z,X){this._mode.processBlock(z,X)},_doFinalize:function(){var z,X=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(X.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),X.unpad(z)),z},blockSize:128/32});var P=a.CipherParams=l.extend({init:function(z){this.mixIn(z)},toString:function(z){return(z||this.formatter).stringify(this)}}),Q=s.format={},B=Q.OpenSSL={stringify:function(z){var X,W=z.ciphertext,F=z.salt;return F?X=c.create([1398893684,1701076831]).concat(F).concat(W):X=W,X.toString(p)},parse:function(z){var X,W=p.parse(z),F=W.words;return F[0]==1398893684&&F[1]==1701076831&&(X=c.create(F.slice(2,4)),F.splice(0,4),W.sigBytes-=16),P.create({ciphertext:W,salt:X})}},R=a.SerializableCipher=l.extend({cfg:l.extend({format:B}),encrypt:function(z,X,W,F){F=this.cfg.extend(F);var V=z.createEncryptor(W,F),te=V.finalize(X),G=V.cfg;return P.create({ciphertext:te,key:W,iv:G.iv,algorithm:z,mode:G.mode,padding:G.padding,blockSize:z.blockSize,formatter:F.format})},decrypt:function(z,X,W,F){F=this.cfg.extend(F),X=this._parse(X,F.format);var V=z.createDecryptor(W,F).finalize(X.ciphertext);return V},_parse:function(z,X){return typeof z=="string"?X.parse(z,this):z}}),M=s.kdf={},I=M.OpenSSL={execute:function(z,X,W,F,V){if(F||(F=c.random(64/8)),V)var te=x.create({keySize:X+W,hasher:V}).compute(z,F);else var te=x.create({keySize:X+W}).compute(z,F);var G=c.create(te.words.slice(X),W*4);return te.sigBytes=X*4,P.create({key:te,iv:G,salt:F})}},j=a.PasswordBasedCipher=R.extend({cfg:R.cfg.extend({kdf:I}),encrypt:function(z,X,W,F){F=this.cfg.extend(F);var V=F.kdf.execute(W,z.keySize,z.ivSize,F.salt,F.hasher);F.iv=V.iv;var te=R.encrypt.call(this,z,X,V.key,F);return te.mixIn(V),te},decrypt:function(z,X,W,F){F=this.cfg.extend(F),X=this._parse(X,F.format);var V=F.kdf.execute(W,z.keySize,z.ivSize,X.salt,F.hasher);F.iv=V.iv;var te=R.decrypt.call(this,z,X,V.key,F);return te}})})()})})(_2)),_2.exports}var C2={exports:{}},yJe=C2.exports,UX;function wJe(){return UX||(UX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(yJe,function(r){return r.mode.CFB=(function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize;s.call(this,a,l,h,c),this._prevBlock=a.slice(l,l+h)}}),n.Decryptor=n.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=a.slice(l,l+h);s.call(this,a,l,h,c),this._prevBlock=f}});function s(a,l,c,h){var f,p=this._iv;p?(f=p.slice(0),this._iv=void 0):f=this._prevBlock,h.encryptBlock(f,0);for(var O=0;O<c;O++)a[l+O]^=f[O]}return n})(),r.mode.CFB})})(C2)),C2.exports}var A2={exports:{}},vJe=A2.exports,qX;function _Je(){return qX||(qX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(vJe,function(r){return r.mode.CTR=(function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,p=this._counter;f&&(p=this._counter=f.slice(0),this._iv=void 0);var O=p.slice(0);c.encryptBlock(O,0),p[h-1]=p[h-1]+1|0;for(var x=0;x<h;x++)a[l+x]^=O[x]}});return n.Decryptor=s,n})(),r.mode.CTR})})(A2)),A2.exports}var S2={exports:{}},CJe=S2.exports,WX;function AJe(){return WX||(WX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(CJe,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=(function(){var n=r.lib.BlockCipherMode.extend();function s(c){if((c>>24&255)===255){var h=c>>16&255,f=c>>8&255,p=c&255;h===255?(h=0,f===255?(f=0,p===255?p=0:++p):++f):++h,c=0,c+=h<<16,c+=f<<8,c+=p}else c+=1<<24;return c}function a(c){return(c[0]=s(c[0]))===0&&(c[1]=s(c[1])),c}var l=n.Encryptor=n.extend({processBlock:function(c,h){var f=this._cipher,p=f.blockSize,O=this._iv,x=this._counter;O&&(x=this._counter=O.slice(0),this._iv=void 0),a(x);var k=x.slice(0);f.encryptBlock(k,0);for(var w=0;w<p;w++)c[h+w]^=k[w]}});return n.Decryptor=l,n})(),r.mode.CTRGladman})})(S2)),S2.exports}var T2={exports:{}},SJe=T2.exports,YX;function TJe(){return YX||(YX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(SJe,function(r){return r.mode.OFB=(function(){var n=r.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,p=this._keystream;f&&(p=this._keystream=f.slice(0),this._iv=void 0),c.encryptBlock(p,0);for(var O=0;O<h;O++)a[l+O]^=p[O]}});return n.Decryptor=s,n})(),r.mode.OFB})})(T2)),T2.exports}var E2={exports:{}},EJe=E2.exports,ZX;function PJe(){return ZX||(ZX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(EJe,function(r){return r.mode.ECB=(function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),n.Decryptor=n.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),n})(),r.mode.ECB})})(E2)),E2.exports}var P2={exports:{}},DJe=P2.exports,GX;function QJe(){return GX||(GX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(DJe,function(r){return r.pad.AnsiX923={pad:function(n,s){var a=n.sigBytes,l=s*4,c=l-a%l,h=a+c-1;n.clamp(),n.words[h>>>2]|=c<<24-h%4*8,n.sigBytes+=c},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Ansix923})})(P2)),P2.exports}var D2={exports:{}},$Je=D2.exports,HX;function MJe(){return HX||(HX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})($Je,function(r){return r.pad.Iso10126={pad:function(n,s){var a=s*4,l=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(l-1)).concat(r.lib.WordArray.create([l<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},r.pad.Iso10126})})(D2)),D2.exports}var Q2={exports:{}},RJe=Q2.exports,KX;function NJe(){return KX||(KX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(RJe,function(r){return r.pad.Iso97971={pad:function(n,s){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,s)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})})(Q2)),Q2.exports}var $2={exports:{}},BJe=$2.exports,JX;function IJe(){return JX||(JX=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(BJe,function(r){return r.pad.ZeroPadding={pad:function(n,s){var a=s*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var s=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})})($2)),$2.exports}var M2={exports:{}},jJe=M2.exports,eV;function FJe(){return eV||(eV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(jJe,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(M2)),M2.exports}var R2={exports:{}},LJe=R2.exports,tV;function zJe(){return tV||(tV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),Fi())})(LJe,function(r){return(function(n){var s=r,a=s.lib,l=a.CipherParams,c=s.enc,h=c.Hex,f=s.format;f.Hex={stringify:function(p){return p.ciphertext.toString(h)},parse:function(p){var O=h.parse(p);return l.create({ciphertext:O})}}})(),r.format.Hex})})(R2)),R2.exports}var N2={exports:{}},XJe=N2.exports,rV;function VJe(){return rV||(rV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(XJe,function(r){return(function(){var n=r,s=n.lib,a=s.BlockCipher,l=n.algo,c=[],h=[],f=[],p=[],O=[],x=[],k=[],w=[],_=[],C=[];(function(){for(var P=[],Q=0;Q<256;Q++)Q<128?P[Q]=Q<<1:P[Q]=Q<<1^283;for(var B=0,R=0,Q=0;Q<256;Q++){var M=R^R<<1^R<<2^R<<3^R<<4;M=M>>>8^M&255^99,c[B]=M,h[M]=B;var I=P[B],j=P[I],z=P[j],X=P[M]*257^M*16843008;f[B]=X<<24|X>>>8,p[B]=X<<16|X>>>16,O[B]=X<<8|X>>>24,x[B]=X;var X=z*16843009^j*65537^I*257^B*16843008;k[M]=X<<24|X>>>8,w[M]=X<<16|X>>>16,_[M]=X<<8|X>>>24,C[M]=X,B?(B=I^P[P[P[z^I]]],R^=P[P[R]]):B=R=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],E=l.AES=a.extend({_doReset:function(){var P;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Q=this._keyPriorReset=this._key,B=Q.words,R=Q.sigBytes/4,M=this._nRounds=R+6,I=(M+1)*4,j=this._keySchedule=[],z=0;z<I;z++)z<R?j[z]=B[z]:(P=j[z-1],z%R?R>6&&z%R==4&&(P=c[P>>>24]<<24|c[P>>>16&255]<<16|c[P>>>8&255]<<8|c[P&255]):(P=P<<8|P>>>24,P=c[P>>>24]<<24|c[P>>>16&255]<<16|c[P>>>8&255]<<8|c[P&255],P^=T[z/R|0]<<24),j[z]=j[z-R]^P);for(var X=this._invKeySchedule=[],W=0;W<I;W++){var z=I-W;if(W%4)var P=j[z];else var P=j[z-4];W<4||z<=4?X[W]=P:X[W]=k[c[P>>>24]]^w[c[P>>>16&255]]^_[c[P>>>8&255]]^C[c[P&255]]}}},encryptBlock:function(P,Q){this._doCryptBlock(P,Q,this._keySchedule,f,p,O,x,c)},decryptBlock:function(P,Q){var B=P[Q+1];P[Q+1]=P[Q+3],P[Q+3]=B,this._doCryptBlock(P,Q,this._invKeySchedule,k,w,_,C,h);var B=P[Q+1];P[Q+1]=P[Q+3],P[Q+3]=B},_doCryptBlock:function(P,Q,B,R,M,I,j,z){for(var X=this._nRounds,W=P[Q]^B[0],F=P[Q+1]^B[1],V=P[Q+2]^B[2],te=P[Q+3]^B[3],G=4,J=1;J<X;J++){var oe=R[W>>>24]^M[F>>>16&255]^I[V>>>8&255]^j[te&255]^B[G++],ie=R[F>>>24]^M[V>>>16&255]^I[te>>>8&255]^j[W&255]^B[G++],be=R[V>>>24]^M[te>>>16&255]^I[W>>>8&255]^j[F&255]^B[G++],he=R[te>>>24]^M[W>>>16&255]^I[F>>>8&255]^j[V&255]^B[G++];W=oe,F=ie,V=be,te=he}var oe=(z[W>>>24]<<24|z[F>>>16&255]<<16|z[V>>>8&255]<<8|z[te&255])^B[G++],ie=(z[F>>>24]<<24|z[V>>>16&255]<<16|z[te>>>8&255]<<8|z[W&255])^B[G++],be=(z[V>>>24]<<24|z[te>>>16&255]<<16|z[W>>>8&255]<<8|z[F&255])^B[G++],he=(z[te>>>24]<<24|z[W>>>16&255]<<16|z[F>>>8&255]<<8|z[V&255])^B[G++];P[Q]=oe,P[Q+1]=ie,P[Q+2]=be,P[Q+3]=he},keySize:256/32});n.AES=a._createHelper(E)})(),r.AES})})(N2)),N2.exports}var B2={exports:{}},UJe=B2.exports,nV;function qJe(){return nV||(nV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(UJe,function(r){return(function(){var n=r,s=n.lib,a=s.WordArray,l=s.BlockCipher,c=n.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],O=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],k=c.DES=l.extend({_doReset:function(){for(var T=this._key,E=T.words,P=[],Q=0;Q<56;Q++){var B=h[Q]-1;P[Q]=E[B>>>5]>>>31-B%32&1}for(var R=this._subKeys=[],M=0;M<16;M++){for(var I=R[M]=[],j=p[M],Q=0;Q<24;Q++)I[Q/6|0]|=P[(f[Q]-1+j)%28]<<31-Q%6,I[4+(Q/6|0)]|=P[28+(f[Q+24]-1+j)%28]<<31-Q%6;I[0]=I[0]<<1|I[0]>>>31;for(var Q=1;Q<7;Q++)I[Q]=I[Q]>>>(Q-1)*4+3;I[7]=I[7]<<5|I[7]>>>27}for(var z=this._invSubKeys=[],Q=0;Q<16;Q++)z[Q]=R[15-Q]},encryptBlock:function(T,E){this._doCryptBlock(T,E,this._subKeys)},decryptBlock:function(T,E){this._doCryptBlock(T,E,this._invSubKeys)},_doCryptBlock:function(T,E,P){this._lBlock=T[E],this._rBlock=T[E+1],w.call(this,4,252645135),w.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),w.call(this,1,1431655765);for(var Q=0;Q<16;Q++){for(var B=P[Q],R=this._lBlock,M=this._rBlock,I=0,j=0;j<8;j++)I|=O[j][((M^B[j])&x[j])>>>0];this._lBlock=M,this._rBlock=R^I}var z=this._lBlock;this._lBlock=this._rBlock,this._rBlock=z,w.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),T[E]=this._lBlock,T[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(T,E){var P=(this._lBlock>>>T^this._rBlock)&E;this._rBlock^=P,this._lBlock^=P<<T}function _(T,E){var P=(this._rBlock>>>T^this._lBlock)&E;this._lBlock^=P,this._rBlock^=P<<T}n.DES=l._createHelper(k);var C=c.TripleDES=l.extend({_doReset:function(){var T=this._key,E=T.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var P=E.slice(0,2),Q=E.length<4?E.slice(0,2):E.slice(2,4),B=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=k.createEncryptor(a.create(P)),this._des2=k.createEncryptor(a.create(Q)),this._des3=k.createEncryptor(a.create(B))},encryptBlock:function(T,E){this._des1.encryptBlock(T,E),this._des2.decryptBlock(T,E),this._des3.encryptBlock(T,E)},decryptBlock:function(T,E){this._des3.decryptBlock(T,E),this._des2.encryptBlock(T,E),this._des1.decryptBlock(T,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=l._createHelper(C)})(),r.TripleDES})})(B2)),B2.exports}var I2={exports:{}},WJe=I2.exports,iV;function YJe(){return iV||(iV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(WJe,function(r){return(function(){var n=r,s=n.lib,a=s.StreamCipher,l=n.algo,c=l.RC4=a.extend({_doReset:function(){for(var p=this._key,O=p.words,x=p.sigBytes,k=this._S=[],w=0;w<256;w++)k[w]=w;for(var w=0,_=0;w<256;w++){var C=w%x,T=O[C>>>2]>>>24-C%4*8&255;_=(_+k[w]+T)%256;var E=k[w];k[w]=k[_],k[_]=E}this._i=this._j=0},_doProcessBlock:function(p,O){p[O]^=h.call(this)},keySize:256/32,ivSize:0});function h(){for(var p=this._S,O=this._i,x=this._j,k=0,w=0;w<4;w++){O=(O+1)%256,x=(x+p[O])%256;var _=p[O];p[O]=p[x],p[x]=_,k|=p[(p[O]+p[x])%256]<<24-w*8}return this._i=O,this._j=x,k}n.RC4=a._createHelper(c);var f=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var p=this.cfg.drop;p>0;p--)h.call(this)}});n.RC4Drop=a._createHelper(f)})(),r.RC4})})(I2)),I2.exports}var j2={exports:{}},ZJe=j2.exports,sV;function GJe(){return sV||(sV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(ZJe,function(r){return(function(){var n=r,s=n.lib,a=s.StreamCipher,l=n.algo,c=[],h=[],f=[],p=l.Rabbit=a.extend({_doReset:function(){for(var x=this._key.words,k=this.cfg.iv,w=0;w<4;w++)x[w]=(x[w]<<8|x[w]>>>24)&16711935|(x[w]<<24|x[w]>>>8)&4278255360;var _=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],C=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var w=0;w<4;w++)O.call(this);for(var w=0;w<8;w++)C[w]^=_[w+4&7];if(k){var T=k.words,E=T[0],P=T[1],Q=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,R=Q>>>16|B&4294901760,M=B<<16|Q&65535;C[0]^=Q,C[1]^=R,C[2]^=B,C[3]^=M,C[4]^=Q,C[5]^=R,C[6]^=B,C[7]^=M;for(var w=0;w<4;w++)O.call(this)}},_doProcessBlock:function(x,k){var w=this._X;O.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var _=0;_<4;_++)c[_]=(c[_]<<8|c[_]>>>24)&16711935|(c[_]<<24|c[_]>>>8)&4278255360,x[k+_]^=c[_]},blockSize:128/32,ivSize:64/32});function O(){for(var x=this._X,k=this._C,w=0;w<8;w++)h[w]=k[w];k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<h[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<h[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<h[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<h[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<h[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<h[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<h[6]>>>0?1:0)|0,this._b=k[7]>>>0<h[7]>>>0?1:0;for(var w=0;w<8;w++){var _=x[w]+k[w],C=_&65535,T=_>>>16,E=((C*C>>>17)+C*T>>>15)+T*T,P=((_&4294901760)*_|0)+((_&65535)*_|0);f[w]=E^P}x[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,x[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,x[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,x[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,x[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,x[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,x[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,x[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.Rabbit=a._createHelper(p)})(),r.Rabbit})})(j2)),j2.exports}var F2={exports:{}},HJe=F2.exports,aV;function KJe(){return aV||(aV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(HJe,function(r){return(function(){var n=r,s=n.lib,a=s.StreamCipher,l=n.algo,c=[],h=[],f=[],p=l.RabbitLegacy=a.extend({_doReset:function(){var x=this._key.words,k=this.cfg.iv,w=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],_=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var C=0;C<4;C++)O.call(this);for(var C=0;C<8;C++)_[C]^=w[C+4&7];if(k){var T=k.words,E=T[0],P=T[1],Q=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,R=Q>>>16|B&4294901760,M=B<<16|Q&65535;_[0]^=Q,_[1]^=R,_[2]^=B,_[3]^=M,_[4]^=Q,_[5]^=R,_[6]^=B,_[7]^=M;for(var C=0;C<4;C++)O.call(this)}},_doProcessBlock:function(x,k){var w=this._X;O.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var _=0;_<4;_++)c[_]=(c[_]<<8|c[_]>>>24)&16711935|(c[_]<<24|c[_]>>>8)&4278255360,x[k+_]^=c[_]},blockSize:128/32,ivSize:64/32});function O(){for(var x=this._X,k=this._C,w=0;w<8;w++)h[w]=k[w];k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<h[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<h[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<h[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<h[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<h[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<h[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<h[6]>>>0?1:0)|0,this._b=k[7]>>>0<h[7]>>>0?1:0;for(var w=0;w<8;w++){var _=x[w]+k[w],C=_&65535,T=_>>>16,E=((C*C>>>17)+C*T>>>15)+T*T,P=((_&4294901760)*_|0)+((_&65535)*_|0);f[w]=E^P}x[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,x[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,x[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,x[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,x[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,x[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,x[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,x[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}n.RabbitLegacy=a._createHelper(p)})(),r.RabbitLegacy})})(F2)),F2.exports}var L2={exports:{}},JJe=L2.exports,oV;function eet(){return oV||(oV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),r0(),n0(),Mh(),Fi())})(JJe,function(r){return(function(){var n=r,s=n.lib,a=s.BlockCipher,l=n.algo;const c=16,h=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function O(C,T){let E=T>>24&255,P=T>>16&255,Q=T>>8&255,B=T&255,R=C.sbox[0][E]+C.sbox[1][P];return R=R^C.sbox[2][Q],R=R+C.sbox[3][B],R}function x(C,T,E){let P=T,Q=E,B;for(let R=0;R<c;++R)P=P^C.pbox[R],Q=O(C,P)^Q,B=P,P=Q,Q=B;return B=P,P=Q,Q=B,Q=Q^C.pbox[c],P=P^C.pbox[c+1],{left:P,right:Q}}function k(C,T,E){let P=T,Q=E,B;for(let R=c+1;R>1;--R)P=P^C.pbox[R],Q=O(C,P)^Q,B=P,P=Q,Q=B;return B=P,P=Q,Q=B,Q=Q^C.pbox[1],P=P^C.pbox[0],{left:P,right:Q}}function w(C,T,E){for(let M=0;M<4;M++){C.sbox[M]=[];for(let I=0;I<256;I++)C.sbox[M][I]=f[M][I]}let P=0;for(let M=0;M<c+2;M++)C.pbox[M]=h[M]^T[P],P++,P>=E&&(P=0);let Q=0,B=0,R=0;for(let M=0;M<c+2;M+=2)R=x(C,Q,B),Q=R.left,B=R.right,C.pbox[M]=Q,C.pbox[M+1]=B;for(let M=0;M<4;M++)for(let I=0;I<256;I+=2)R=x(C,Q,B),Q=R.left,B=R.right,C.sbox[M][I]=Q,C.sbox[M][I+1]=B;return!0}var _=l.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var C=this._keyPriorReset=this._key,T=C.words,E=C.sigBytes/4;w(p,T,E)}},encryptBlock:function(C,T){var E=x(p,C[T],C[T+1]);C[T]=E.left,C[T+1]=E.right},decryptBlock:function(C,T){var E=k(p,C[T],C[T+1]);C[T]=E.left,C[T+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(_)})(),r.Blowfish})})(L2)),L2.exports}var tet=a2.exports,lV;function ret(){return lV||(lV=1,(function(t,e){(function(r,n,s){t.exports=n($r(),EA(),KKe(),eJe(),r0(),nJe(),n0(),Use(),J8(),lJe(),qse(),hJe(),fJe(),pJe(),eD(),xJe(),Mh(),Fi(),wJe(),_Je(),AJe(),TJe(),PJe(),QJe(),MJe(),NJe(),IJe(),FJe(),zJe(),VJe(),qJe(),YJe(),GJe(),KJe(),eet())})(tet,function(r){return r})})(a2)),a2.exports}var net=ret();const iet=OC(net);function set(){const{user:t}=Bi(),[e,r]=H.useState([]),[n,s]=H.useState(!0),[a,l]=H.useState(!1),[c,h]=H.useState(null),[f,p]=H.useState({name:"",accountNumber:"",password:""}),[O,x]=H.useState(!1);H.useEffect(()=>{k()},[t]);const k=async()=>{if(t){s(!0);try{const Q=await gOe(t.id);r(Q)}catch(Q){console.error("Load accounts error:",Q),Di.error("Failed to load accounts")}finally{s(!1)}}},w=async Q=>{if(Q.preventDefault(),!f.name||!f.accountNumber||!f.password){Di.error("Please fill in all fields");return}if(t){x(!0);try{const B=iet.AES.encrypt(f.password,t.id).toString(),R=await pOe({user_id:t.id,name:f.name,account_number:f.accountNumber,encrypted_investor_password:B,is_connected:!0,last_sync:new Date().toISOString()});r(M=>[R,...M]),Di.success("Account connected successfully"),E(),_(R.id,R.account_number)}catch(B){console.error("Connection error:",B),Di.error(`Failed to connect: ${B.message}`)}finally{x(!1)}}},_=async(Q,B)=>{h(Q);try{Di.loading("Syncing trades...",{id:"sync"});const R=await xOe(B);if(R.success)Di.success(`Sync completed! Imported ${R.tradesImported} trades`,{id:"sync"}),r(M=>M.map(I=>I.id===Q?{...I,last_sync:new Date().toISOString(),is_connected:!0}:I));else throw new Error("Sync failed")}catch(R){console.error("Sync error:",R),Di.error(`Sync failed: ${R.message}`,{id:"sync"})}finally{h(null)}},C=async Q=>{try{await mOe(Q,{is_connected:!1}),r(B=>B.map(R=>R.id===Q?{...R,is_connected:!1}:R)),Di.success("Account disconnected")}catch(B){console.error("Disconnect error:",B),Di.error("Failed to disconnect account")}},T=async Q=>{if(confirm("Are you sure you want to delete this account? This action cannot be undone."))try{if(await OOe(Q))r(R=>R.filter(M=>M.id!==Q)),Di.success("Account deleted");else throw new Error("Delete failed")}catch(B){console.error("Delete error:",B),Di.error("Failed to delete account")}},E=()=>{p({name:"",accountNumber:"",password:""}),l(!1)},P=Q=>Q?new Date(Q).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return n?b.jsx("div",{className:"flex items-center justify-center py-12",children:b.jsx(PO,{className:"h-8 w-8 text-gray-400 animate-spin"})}):b.jsxs("div",{className:"space-y-6",children:[a?b.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[b.jsx("h3",{className:"text-lg font-normal text-gray-900 dark:text-white mb-4",children:"Connect MT5 Account"}),b.jsxs("form",{onSubmit:w,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"name",children:"Account Name"}),b.jsx(eo,{id:"name",value:f.name,onChange:Q=>p(B=>({...B,name:Q.target.value})),placeholder:"e.g., Main Trading Account",required:!0})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"accountNumber",children:"Account Number"}),b.jsx(eo,{id:"accountNumber",value:f.accountNumber,onChange:Q=>p(B=>({...B,accountNumber:Q.target.value})),placeholder:"e.g., 12345678",required:!0})]}),b.jsxs("div",{children:[b.jsx(gs,{htmlFor:"password",children:"Investor Password"}),b.jsx(eo,{id:"password",type:"password",value:f.password,onChange:Q=>p(B=>({...B,password:Q.target.value})),placeholder:"Investor password (read-only access)",required:!0}),b.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Your password is encrypted before storage. We use investor (read-only) password for security."})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx(_r,{type:"submit",disabled:O,children:O?"Connecting...":"Connect Account"}),b.jsx(_r,{type:"button",variant:"outline",onClick:E,children:"Cancel"})]})]})]}):b.jsxs(_r,{onClick:()=>l(!0),children:[b.jsx(co,{className:"h-4 w-4 mr-2"}),"Add New Account"]}),e.length>0?b.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:b.jsxs("h3",{className:"text-lg font-normal text-gray-900 dark:text-white",children:["Connected Accounts (",e.length,")"]})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Account Number"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Last Sync"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),b.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(Q=>b.jsxs("tr",{children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Q.name})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:Q.account_number})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"flex items-center",children:Q.is_connected?b.jsxs(b.Fragment,{children:[b.jsx(rs,{className:"h-4 w-4 text-green-500 dark:text-green-400 mr-2"}),b.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Connected"})]}):b.jsxs(b.Fragment,{children:[b.jsx(R1e,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mr-2"}),b.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Disconnected"})]})})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:P(Q.last_sync)}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm space-x-2",children:[Q.is_connected&&b.jsxs(_r,{size:"sm",variant:"outline",onClick:()=>_(Q.id,Q.account_number),disabled:c===Q.id,className:"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:[b.jsx(PO,{className:`h-4 w-4 mr-1 ${c===Q.id?"animate-spin":""}`}),c===Q.id?"Syncing...":"Sync"]}),b.jsx(_r,{size:"sm",variant:"outline",onClick:()=>C(Q.id),disabled:!Q.is_connected,className:"border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",children:"Disconnect"}),b.jsx(_r,{size:"sm",variant:"outline",onClick:()=>T(Q.id),className:"border-red-300 dark:border-red-600 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 dark:text-red-400 dark:hover:text-red-300",children:b.jsx(Ul,{className:"h-4 w-4"})})]})]},Q.id))})]})})]}):b.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-12 text-center",children:[b.jsx(rs,{className:"mx-auto h-12 w-12 text-gray-400"}),b.jsx("h3",{className:"mt-4 text-lg font-normal text-gray-900 dark:text-white",children:"No accounts connected"}),b.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Connect your MT5 account to automatically sync trades"})]})]})}function aet(){const[t,e]=H.useState("import");return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-normal text-gray-900 dark:text-white",children:"Imports & Connections"}),b.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Import trade reports or connect your MT5 accounts for automatic synchronization"})]}),b.jsxs(_8,{value:t,onValueChange:e,className:"w-full",children:[b.jsxs(_A,{className:"grid w-full max-w-md grid-cols-2",children:[b.jsx(Xo,{value:"import",children:"Import Reports"}),b.jsx(Xo,{value:"connect",children:"Connect Accounts"})]}),b.jsx(Vo,{value:"import",className:"mt-6",children:b.jsx(VKe,{})}),b.jsx(Vo,{value:"connect",className:"mt-6",children:b.jsx(set,{})})]})]})}function oet(){const{user:t}=Bi(),{theme:e,toggleTheme:r}=JV();return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Settings"}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"bg-green-500 rounded-full p-3",children:b.jsx(Z3,{className:"h-8 w-8 text-white"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Account"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t==null?void 0:t.email})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Email"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t==null?void 0:t.email})]})})}),b.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:b.jsx("div",{className:"flex items-center justify-between",children:b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"User ID"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-mono",children:t==null?void 0:t.id})]})})})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Appearance"}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?b.jsx(H6,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):b.jsx(J6,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Theme"}),b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Current: ",e==="dark"?"Dark Mode":"Light Mode"]})]})]}),b.jsxs("button",{onClick:r,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:["Switch to ",e==="dark"?"Light":"Dark"," Mode"]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Data"}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Mock Data Mode"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"The application is currently using mock data for demonstration purposes. To connect to Supabase, add your credentials to the environment variables."}),b.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-md",children:b.jsxs("p",{className:"text-xs font-mono text-gray-700 dark:text-gray-300",children:["VITE_SUPABASE_URL=your_url",b.jsx("br",{}),"VITE_SUPABASE_ANON_KEY=your_key"]})})]})})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"About"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[b.jsx("span",{className:"font-medium",children:"TradeJournal AI"})," - A comprehensive trade journaling application"]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Version 1.0.0"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Built with React, TypeScript, Tailwind CSS, and Supabase"})]})]})]})}function cet(){return H.useEffect(()=>{try{console.log(" TradeJournal AI starting..."),iU(),console.log(" Mock data initialized")}catch(t){console.error(" Error initializing mock data:",t)}},[]),b.jsx(Qme,{children:b.jsx(A1e,{children:b.jsxs(C1e,{children:[b.jsx(_1e,{position:"top-right",toastOptions:{duration:4e3}}),b.jsx(det,{})]})})})}function det(){try{return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[b.jsx(sOe,{}),b.jsx(aOe,{}),b.jsxs("div",{className:"lg:ml-60",children:[b.jsx(oOe,{}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:b.jsxs(_me,{children:[b.jsx(Aa,{path:"/",element:b.jsx(wme,{to:"/dashboard",replace:!0})}),b.jsx(Aa,{path:"/dashboard",element:b.jsx(zxe,{})}),b.jsx(Aa,{path:"/trades",element:b.jsx(cye,{})}),b.jsx(Aa,{path:"/trades/new",element:b.jsx(vB,{})}),b.jsx(Aa,{path:"/trades/:id",element:b.jsx(vB,{})}),b.jsx(Aa,{path:"/strategies",element:b.jsx(E3,{})}),b.jsx(Aa,{path:"/library",element:b.jsx(E3,{})}),b.jsx(Aa,{path:"/library-advanced",element:b.jsx(NXe,{})}),b.jsx(Aa,{path:"/notes",element:b.jsx(E3,{})}),b.jsx(Aa,{path:"/chat",element:b.jsx(BXe,{})}),b.jsx(Aa,{path:"/imports-connections",element:b.jsx(aet,{})}),b.jsx(Aa,{path:"/settings",element:b.jsx(oet,{})})]})})]})]})}catch(t){return console.error(" AppContent render error:",t),b.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Application Error"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"There was an error loading the TradeJournal AI application."}),b.jsxs("details",{className:"text-left bg-gray-100 dark:bg-gray-800 p-4 rounded",children:[b.jsx("summary",{className:"cursor-pointer text-sm font-medium",children:"Technical Details"}),b.jsx("pre",{className:"mt-2 text-xs text-red-600 dark:text-red-400 overflow-auto",children:t instanceof Error?t.message:String(t)}),t instanceof Error&&t.stack&&b.jsx("pre",{className:"mt-2 text-xs text-gray-500 overflow-auto",children:t.stack})]}),b.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Reload Application"})]})})}}Epe.createRoot(document.getElementById("root")).render(b.jsx(H.StrictMode,{children:b.jsx(Dpe,{children:b.jsx(cet,{})})}));export{YNe as $,hO as A,i6e as B,CPe as C,N7 as D,ks as E,OH as F,cRe as G,hQe as H,fF as I,O$e as J,iA as K,F6e as L,vNe as M,Kf as N,wet as O,sPe as P,i7 as Q,CF as R,lRe as S,Fx as T,fPe as U,jx as V,Mt as W,Yt as X,AH as Y,eRe as Z,Z as _,bPe as a,DMe as a$,Kte as a0,Net as a1,b$e as a2,_i as a3,Eh as a4,A7 as a5,_ee as a6,Wu as a7,GJ as a8,lr as a9,z_ as aA,VJ as aB,LJ as aC,S9e as aD,jt as aE,PJ as aF,Z9e as aG,z9e as aH,EMe as aI,T7 as aJ,v9e as aK,J9e as aL,Ux as aM,kg as aN,j_ as aO,M9e as aP,lIe as aQ,Vx as aR,L_ as aS,T9e as aT,RJ as aU,QMe as aV,$Me as aW,ru as aX,tL as aY,MMe as aZ,E7 as a_,zl as aa,jBe as ab,Ret as ac,Bet as ad,$et as ae,Lt as af,Met as ag,yBe as ah,mBe as ai,pBe as aj,G9e as ak,zMe as al,X9e as am,S7 as an,$L as ao,yet as ap,Wx as aq,yNe as ar,kNe as as,n6e as at,x7 as au,Vu as av,H9e as aw,zJ as ax,JC as ay,nA as az,xPe as b,BMe as b0,yg as b1,Th as b2,GF as b3,P7 as b4,BJ as b5,l6 as b6,K9e as b7,rA as b8,Zr as c,hr as d,CH as e,ki as f,yPe as g,Jc as h,fo as i,C$e as j,xg as k,rt as l,KJ as m,vet as n,jet as o,wPe as p,vPe as q,Iet as r,kPe as s,x$e as t,Uo as u,uBe as v,uRe as w,Cet as x,OPe as y,_et as z};
